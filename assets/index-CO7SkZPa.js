var mI=Object.defineProperty;var pI=(e,t,r)=>t in e?mI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var vp=(e,t,r)=>pI(e,typeof t!="symbol"?t+"":t,r);function gI(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function mi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function vI(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var yp={exports:{}},Jl={},xp={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s1;function yI(){if(s1)return tt;s1=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function v(M){return M===null||typeof M!="object"?null:(M=p&&M[p]||M["@@iterator"],typeof M=="function"?M:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,b={};function x(M,D,te){this.props=M,this.context=D,this.refs=b,this.updater=te||w}x.prototype.isReactComponent={},x.prototype.setState=function(M,D){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,D,"setState")},x.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function k(){}k.prototype=x.prototype;function N(M,D,te){this.props=M,this.context=D,this.refs=b,this.updater=te||w}var E=N.prototype=new k;E.constructor=N,_(E,x.prototype),E.isPureReactComponent=!0;var A=Array.isArray,P=Object.prototype.hasOwnProperty,I={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function G(M,D,te){var Se,ne={},ke=null,$e=null;if(D!=null)for(Se in D.ref!==void 0&&($e=D.ref),D.key!==void 0&&(ke=""+D.key),D)P.call(D,Se)&&!L.hasOwnProperty(Se)&&(ne[Se]=D[Se]);var Qe=arguments.length-2;if(Qe===1)ne.children=te;else if(1<Qe){for(var ue=Array(Qe),Pe=0;Pe<Qe;Pe++)ue[Pe]=arguments[Pe+2];ne.children=ue}if(M&&M.defaultProps)for(Se in Qe=M.defaultProps,Qe)ne[Se]===void 0&&(ne[Se]=Qe[Se]);return{$$typeof:e,type:M,key:ke,ref:$e,props:ne,_owner:I.current}}function W(M,D){return{$$typeof:e,type:M.type,key:D,ref:M.ref,props:M.props,_owner:M._owner}}function U(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function z(M){var D={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(te){return D[te]})}var V=/\/+/g;function ee(M,D){return typeof M=="object"&&M!==null&&M.key!=null?z(""+M.key):D.toString(36)}function X(M,D,te,Se,ne){var ke=typeof M;(ke==="undefined"||ke==="boolean")&&(M=null);var $e=!1;if(M===null)$e=!0;else switch(ke){case"string":case"number":$e=!0;break;case"object":switch(M.$$typeof){case e:case t:$e=!0}}if($e)return $e=M,ne=ne($e),M=Se===""?"."+ee($e,0):Se,A(ne)?(te="",M!=null&&(te=M.replace(V,"$&/")+"/"),X(ne,D,te,"",function(Pe){return Pe})):ne!=null&&(U(ne)&&(ne=W(ne,te+(!ne.key||$e&&$e.key===ne.key?"":(""+ne.key).replace(V,"$&/")+"/")+M)),D.push(ne)),1;if($e=0,Se=Se===""?".":Se+":",A(M))for(var Qe=0;Qe<M.length;Qe++){ke=M[Qe];var ue=Se+ee(ke,Qe);$e+=X(ke,D,te,ue,ne)}else if(ue=v(M),typeof ue=="function")for(M=ue.call(M),Qe=0;!(ke=M.next()).done;)ke=ke.value,ue=Se+ee(ke,Qe++),$e+=X(ke,D,te,ue,ne);else if(ke==="object")throw D=String(M),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return $e}function ae(M,D,te){if(M==null)return M;var Se=[],ne=0;return X(M,Se,"","",function(ke){return D.call(te,ke,ne++)}),Se}function xe(M){if(M._status===-1){var D=M._result;D=D(),D.then(function(te){(M._status===0||M._status===-1)&&(M._status=1,M._result=te)},function(te){(M._status===0||M._status===-1)&&(M._status=2,M._result=te)}),M._status===-1&&(M._status=0,M._result=D)}if(M._status===1)return M._result.default;throw M._result}var ye={current:null},re={transition:null},le={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:re,ReactCurrentOwner:I};function ce(){throw Error("act(...) is not supported in production builds of React.")}return tt.Children={map:ae,forEach:function(M,D,te){ae(M,function(){D.apply(this,arguments)},te)},count:function(M){var D=0;return ae(M,function(){D++}),D},toArray:function(M){return ae(M,function(D){return D})||[]},only:function(M){if(!U(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},tt.Component=x,tt.Fragment=r,tt.Profiler=i,tt.PureComponent=N,tt.StrictMode=n,tt.Suspense=f,tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,tt.act=ce,tt.cloneElement=function(M,D,te){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var Se=_({},M.props),ne=M.key,ke=M.ref,$e=M._owner;if(D!=null){if(D.ref!==void 0&&(ke=D.ref,$e=I.current),D.key!==void 0&&(ne=""+D.key),M.type&&M.type.defaultProps)var Qe=M.type.defaultProps;for(ue in D)P.call(D,ue)&&!L.hasOwnProperty(ue)&&(Se[ue]=D[ue]===void 0&&Qe!==void 0?Qe[ue]:D[ue])}var ue=arguments.length-2;if(ue===1)Se.children=te;else if(1<ue){Qe=Array(ue);for(var Pe=0;Pe<ue;Pe++)Qe[Pe]=arguments[Pe+2];Se.children=Qe}return{$$typeof:e,type:M.type,key:ne,ref:ke,props:Se,_owner:$e}},tt.createContext=function(M){return M={$$typeof:l,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:s,_context:M},M.Consumer=M},tt.createElement=G,tt.createFactory=function(M){var D=G.bind(null,M);return D.type=M,D},tt.createRef=function(){return{current:null}},tt.forwardRef=function(M){return{$$typeof:u,render:M}},tt.isValidElement=U,tt.lazy=function(M){return{$$typeof:h,_payload:{_status:-1,_result:M},_init:xe}},tt.memo=function(M,D){return{$$typeof:m,type:M,compare:D===void 0?null:D}},tt.startTransition=function(M){var D=re.transition;re.transition={};try{M()}finally{re.transition=D}},tt.unstable_act=ce,tt.useCallback=function(M,D){return ye.current.useCallback(M,D)},tt.useContext=function(M){return ye.current.useContext(M)},tt.useDebugValue=function(){},tt.useDeferredValue=function(M){return ye.current.useDeferredValue(M)},tt.useEffect=function(M,D){return ye.current.useEffect(M,D)},tt.useId=function(){return ye.current.useId()},tt.useImperativeHandle=function(M,D,te){return ye.current.useImperativeHandle(M,D,te)},tt.useInsertionEffect=function(M,D){return ye.current.useInsertionEffect(M,D)},tt.useLayoutEffect=function(M,D){return ye.current.useLayoutEffect(M,D)},tt.useMemo=function(M,D){return ye.current.useMemo(M,D)},tt.useReducer=function(M,D,te){return ye.current.useReducer(M,D,te)},tt.useRef=function(M){return ye.current.useRef(M)},tt.useState=function(M){return ye.current.useState(M)},tt.useSyncExternalStore=function(M,D,te){return ye.current.useSyncExternalStore(M,D,te)},tt.useTransition=function(){return ye.current.useTransition()},tt.version="18.3.1",tt}var a1;function Jo(){return a1||(a1=1,xp.exports=yI()),xp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o1;function xI(){if(o1)return Jl;o1=1;var e=Jo(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(u,f,m){var h,p={},v=null,w=null;m!==void 0&&(v=""+m),f.key!==void 0&&(v=""+f.key),f.ref!==void 0&&(w=f.ref);for(h in f)n.call(f,h)&&!s.hasOwnProperty(h)&&(p[h]=f[h]);if(u&&u.defaultProps)for(h in f=u.defaultProps,f)p[h]===void 0&&(p[h]=f[h]);return{$$typeof:t,type:u,key:v,ref:w,props:p,_owner:i.current}}return Jl.Fragment=r,Jl.jsx=l,Jl.jsxs=l,Jl}var l1;function wI(){return l1||(l1=1,yp.exports=xI()),yp.exports}var c=wI(),S=Jo();const et=mi(S),bI=gI({__proto__:null,default:et},[S]);var md={},wp={exports:{}},Jr={},bp={exports:{}},Sp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c1;function SI(){return c1||(c1=1,(function(e){function t(re,le){var ce=re.length;re.push(le);e:for(;0<ce;){var M=ce-1>>>1,D=re[M];if(0<i(D,le))re[M]=le,re[ce]=D,ce=M;else break e}}function r(re){return re.length===0?null:re[0]}function n(re){if(re.length===0)return null;var le=re[0],ce=re.pop();if(ce!==le){re[0]=ce;e:for(var M=0,D=re.length,te=D>>>1;M<te;){var Se=2*(M+1)-1,ne=re[Se],ke=Se+1,$e=re[ke];if(0>i(ne,ce))ke<D&&0>i($e,ne)?(re[M]=$e,re[ke]=ce,M=ke):(re[M]=ne,re[Se]=ce,M=Se);else if(ke<D&&0>i($e,ce))re[M]=$e,re[ke]=ce,M=ke;else break e}}return le}function i(re,le){var ce=re.sortIndex-le.sortIndex;return ce!==0?ce:re.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var f=[],m=[],h=1,p=null,v=3,w=!1,_=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(re){for(var le=r(m);le!==null;){if(le.callback===null)n(m);else if(le.startTime<=re)n(m),le.sortIndex=le.expirationTime,t(f,le);else break;le=r(m)}}function A(re){if(b=!1,E(re),!_)if(r(f)!==null)_=!0,xe(P);else{var le=r(m);le!==null&&ye(A,le.startTime-re)}}function P(re,le){_=!1,b&&(b=!1,k(G),G=-1),w=!0;var ce=v;try{for(E(le),p=r(f);p!==null&&(!(p.expirationTime>le)||re&&!z());){var M=p.callback;if(typeof M=="function"){p.callback=null,v=p.priorityLevel;var D=M(p.expirationTime<=le);le=e.unstable_now(),typeof D=="function"?p.callback=D:p===r(f)&&n(f),E(le)}else n(f);p=r(f)}if(p!==null)var te=!0;else{var Se=r(m);Se!==null&&ye(A,Se.startTime-le),te=!1}return te}finally{p=null,v=ce,w=!1}}var I=!1,L=null,G=-1,W=5,U=-1;function z(){return!(e.unstable_now()-U<W)}function V(){if(L!==null){var re=e.unstable_now();U=re;var le=!0;try{le=L(!0,re)}finally{le?ee():(I=!1,L=null)}}else I=!1}var ee;if(typeof N=="function")ee=function(){N(V)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,ae=X.port2;X.port1.onmessage=V,ee=function(){ae.postMessage(null)}}else ee=function(){x(V,0)};function xe(re){L=re,I||(I=!0,ee())}function ye(re,le){G=x(function(){re(e.unstable_now())},le)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(re){re.callback=null},e.unstable_continueExecution=function(){_||w||(_=!0,xe(P))},e.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<re?Math.floor(1e3/re):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(f)},e.unstable_next=function(re){switch(v){case 1:case 2:case 3:var le=3;break;default:le=v}var ce=v;v=le;try{return re()}finally{v=ce}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(re,le){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ce=v;v=re;try{return le()}finally{v=ce}},e.unstable_scheduleCallback=function(re,le,ce){var M=e.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?M+ce:M):ce=M,re){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ce+D,re={id:h++,callback:le,priorityLevel:re,startTime:ce,expirationTime:D,sortIndex:-1},ce>M?(re.sortIndex=ce,t(m,re),r(f)===null&&re===r(m)&&(b?(k(G),G=-1):b=!0,ye(A,ce-M))):(re.sortIndex=D,t(f,re),_||w||(_=!0,xe(P))),re},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(re){var le=v;return function(){var ce=v;v=le;try{return re.apply(this,arguments)}finally{v=ce}}}})(Sp)),Sp}var u1;function _I(){return u1||(u1=1,bp.exports=SI()),bp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d1;function jI(){if(d1)return Jr;d1=1;var e=Jo(),t=_I();function r(a){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=1;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(a,o){l(a,o),l(a+"Capture",o)}function l(a,o){for(i[a]=o,a=0;a<o.length;a++)n.add(o[a])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(a){return f.call(p,a)?!0:f.call(h,a)?!1:m.test(a)?p[a]=!0:(h[a]=!0,!1)}function w(a,o,d,g){if(d!==null&&d.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return g?!1:d!==null?!d.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function _(a,o,d,g){if(o===null||typeof o>"u"||w(a,o,d,g))return!0;if(g)return!1;if(d!==null)switch(d.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function b(a,o,d,g,y,j,C){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=g,this.attributeNamespace=y,this.mustUseProperty=d,this.propertyName=a,this.type=o,this.sanitizeURL=j,this.removeEmptyString=C}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){x[a]=new b(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var o=a[0];x[o]=new b(o,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){x[a]=new b(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){x[a]=new b(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){x[a]=new b(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){x[a]=new b(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){x[a]=new b(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){x[a]=new b(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){x[a]=new b(a,5,!1,a.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function N(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var o=a.replace(k,N);x[o]=new b(o,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var o=a.replace(k,N);x[o]=new b(o,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var o=a.replace(k,N);x[o]=new b(o,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){x[a]=new b(a,1,!1,a.toLowerCase(),null,!1,!1)}),x.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){x[a]=new b(a,1,!1,a.toLowerCase(),null,!0,!0)});function E(a,o,d,g){var y=x.hasOwnProperty(o)?x[o]:null;(y!==null?y.type!==0:g||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(_(o,d,y,g)&&(d=null),g||y===null?v(o)&&(d===null?a.removeAttribute(o):a.setAttribute(o,""+d)):y.mustUseProperty?a[y.propertyName]=d===null?y.type===3?!1:"":d:(o=y.attributeName,g=y.attributeNamespace,d===null?a.removeAttribute(o):(y=y.type,d=y===3||y===4&&d===!0?"":""+d,g?a.setAttributeNS(g,o,d):a.setAttribute(o,d))))}var A=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),I=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),z=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),xe=Symbol.for("react.lazy"),ye=Symbol.for("react.offscreen"),re=Symbol.iterator;function le(a){return a===null||typeof a!="object"?null:(a=re&&a[re]||a["@@iterator"],typeof a=="function"?a:null)}var ce=Object.assign,M;function D(a){if(M===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);M=o&&o[1]||""}return`
`+M+a}var te=!1;function Se(a,o){if(!a||te)return"";te=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(K){var g=K}Reflect.construct(a,[],o)}else{try{o.call()}catch(K){g=K}a.call(o.prototype)}else{try{throw Error()}catch(K){g=K}a()}}catch(K){if(K&&g&&typeof K.stack=="string"){for(var y=K.stack.split(`
`),j=g.stack.split(`
`),C=y.length-1,T=j.length-1;1<=C&&0<=T&&y[C]!==j[T];)T--;for(;1<=C&&0<=T;C--,T--)if(y[C]!==j[T]){if(C!==1||T!==1)do if(C--,T--,0>T||y[C]!==j[T]){var $=`
`+y[C].replace(" at new "," at ");return a.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",a.displayName)),$}while(1<=C&&0<=T);break}}}finally{te=!1,Error.prepareStackTrace=d}return(a=a?a.displayName||a.name:"")?D(a):""}function ne(a){switch(a.tag){case 5:return D(a.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return a=Se(a.type,!1),a;case 11:return a=Se(a.type.render,!1),a;case 1:return a=Se(a.type,!0),a;default:return""}}function ke(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case L:return"Fragment";case I:return"Portal";case W:return"Profiler";case G:return"StrictMode";case ee:return"Suspense";case X:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case z:return(a.displayName||"Context")+".Consumer";case U:return(a._context.displayName||"Context")+".Provider";case V:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ae:return o=a.displayName||null,o!==null?o:ke(a.type)||"Memo";case xe:o=a._payload,a=a._init;try{return ke(a(o))}catch{}}return null}function $e(a){var o=a.type;switch(a.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=o.render,a=a.displayName||a.name||"",o.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(o);case 8:return o===G?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Qe(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ue(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Pe(a){var o=ue(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,o),g=""+a[o];if(!a.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,j=d.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return y.call(this)},set:function(C){g=""+C,j.call(this,C)}}),Object.defineProperty(a,o,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(C){g=""+C},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function oe(a){a._valueTracker||(a._valueTracker=Pe(a))}function Z(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var d=o.getValue(),g="";return a&&(g=ue(a)?a.checked?"true":"false":a.value),a=g,a!==d?(o.setValue(a),!0):!1}function Ee(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Ye(a,o){var d=o.checked;return ce({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??a._wrapperState.initialChecked})}function Pt(a,o){var d=o.defaultValue==null?"":o.defaultValue,g=o.checked!=null?o.checked:o.defaultChecked;d=Qe(o.value!=null?o.value:d),a._wrapperState={initialChecked:g,initialValue:d,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function yt(a,o){o=o.checked,o!=null&&E(a,"checked",o,!1)}function Ft(a,o){yt(a,o);var d=Qe(o.value),g=o.type;if(d!=null)g==="number"?(d===0&&a.value===""||a.value!=d)&&(a.value=""+d):a.value!==""+d&&(a.value=""+d);else if(g==="submit"||g==="reset"){a.removeAttribute("value");return}o.hasOwnProperty("value")?Ut(a,o.type,d):o.hasOwnProperty("defaultValue")&&Ut(a,o.type,Qe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(a.defaultChecked=!!o.defaultChecked)}function jn(a,o,d){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var g=o.type;if(!(g!=="submit"&&g!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+a._wrapperState.initialValue,d||o===a.value||(a.value=o),a.defaultValue=o}d=a.name,d!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,d!==""&&(a.name=d)}function Ut(a,o,d){(o!=="number"||Ee(a.ownerDocument)!==a)&&(d==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+d&&(a.defaultValue=""+d))}var kn=Array.isArray;function Zt(a,o,d,g){if(a=a.options,o){o={};for(var y=0;y<d.length;y++)o["$"+d[y]]=!0;for(d=0;d<a.length;d++)y=o.hasOwnProperty("$"+a[d].value),a[d].selected!==y&&(a[d].selected=y),y&&g&&(a[d].defaultSelected=!0)}else{for(d=""+Qe(d),o=null,y=0;y<a.length;y++){if(a[y].value===d){a[y].selected=!0,g&&(a[y].defaultSelected=!0);return}o!==null||a[y].disabled||(o=a[y])}o!==null&&(o.selected=!0)}}function R(a,o){if(o.dangerouslySetInnerHTML!=null)throw Error(r(91));return ce({},o,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function H(a,o){var d=o.value;if(d==null){if(d=o.children,o=o.defaultValue,d!=null){if(o!=null)throw Error(r(92));if(kn(d)){if(1<d.length)throw Error(r(93));d=d[0]}o=d}o==null&&(o=""),d=o}a._wrapperState={initialValue:Qe(d)}}function Q(a,o){var d=Qe(o.value),g=Qe(o.defaultValue);d!=null&&(d=""+d,d!==a.value&&(a.value=d),o.defaultValue==null&&a.defaultValue!==d&&(a.defaultValue=d)),g!=null&&(a.defaultValue=""+g)}function ge(a){var o=a.textContent;o===a._wrapperState.initialValue&&o!==""&&o!==null&&(a.value=o)}function pe(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Y(a,o){return a==null||a==="http://www.w3.org/1999/xhtml"?pe(o):a==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var ve,Ue=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,d,g,y){MSApp.execUnsafeLocalFunction(function(){return a(o,d,g,y)})}:a})(function(a,o){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=o;else{for(ve=ve||document.createElement("div"),ve.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ve.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;o.firstChild;)a.appendChild(o.firstChild)}});function it(a,o){if(o){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=o;return}}a.textContent=o}var gt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dr=["Webkit","ms","Moz","O"];Object.keys(gt).forEach(function(a){Dr.forEach(function(o){o=o+a.charAt(0).toUpperCase()+a.substring(1),gt[o]=gt[a]})});function Gn(a,o,d){return o==null||typeof o=="boolean"||o===""?"":d||typeof o!="number"||o===0||gt.hasOwnProperty(a)&&gt[a]?(""+o).trim():o+"px"}function Yn(a,o){a=a.style;for(var d in o)if(o.hasOwnProperty(d)){var g=d.indexOf("--")===0,y=Gn(d,o[d],g);d==="float"&&(d="cssFloat"),g?a.setProperty(d,y):a[d]=y}}var Rr=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nn(a,o){if(o){if(Rr[a]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(r(137,a));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(r(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(r(61))}if(o.style!=null&&typeof o.style!="object")throw Error(r(62))}}function xi(a,o){if(a.indexOf("-")===-1)return typeof o.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jn=null;function gs(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var En=null,Cn=null,wi=null;function ie(a){if(a=Rl(a)){if(typeof En!="function")throw Error(r(280));var o=a.stateNode;o&&(o=Au(o),En(a.stateNode,a.type,o))}}function we(a){Cn?wi?wi.push(a):wi=[a]:Cn=a}function Ke(){if(Cn){var a=Cn,o=wi;if(wi=Cn=null,ie(a),o)for(a=0;a<o.length;a++)ie(o[a])}}function qe(a,o){return a(o)}function Le(){}var Ne=!1;function $t(a,o,d){if(Ne)return a(o,d);Ne=!0;try{return qe(a,o,d)}finally{Ne=!1,(Cn!==null||wi!==null)&&(Le(),Ke())}}function st(a,o){var d=a.stateNode;if(d===null)return null;var g=Au(d);if(g===null)return null;d=g[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(r(231,o,typeof d));return d}var kt=!1;if(u)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){kt=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch{kt=!1}function An(a,o,d,g,y,j,C,T,$){var K=Array.prototype.slice.call(arguments,3);try{o.apply(d,K)}catch(fe){this.onError(fe)}}var Wr=!1,Qn=null,zt=!1,On=null,O={onError:function(a){Wr=!0,Qn=a}};function se(a,o,d,g,y,j,C,T,$){Wr=!1,Qn=null,An.apply(O,arguments)}function je(a,o,d,g,y,j,C,T,$){if(se.apply(this,arguments),Wr){if(Wr){var K=Qn;Wr=!1,Qn=null}else throw Error(r(198));zt||(zt=!0,On=K)}}function Ge(a){var o=a,d=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(d=o.return),a=o.return;while(a)}return o.tag===3?d:null}function De(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function dt(a){if(Ge(a)!==a)throw Error(r(188))}function nt(a){var o=a.alternate;if(!o){if(o=Ge(a),o===null)throw Error(r(188));return o!==a?null:a}for(var d=a,g=o;;){var y=d.return;if(y===null)break;var j=y.alternate;if(j===null){if(g=y.return,g!==null){d=g;continue}break}if(y.child===j.child){for(j=y.child;j;){if(j===d)return dt(y),a;if(j===g)return dt(y),o;j=j.sibling}throw Error(r(188))}if(d.return!==g.return)d=y,g=j;else{for(var C=!1,T=y.child;T;){if(T===d){C=!0,d=y,g=j;break}if(T===g){C=!0,g=y,d=j;break}T=T.sibling}if(!C){for(T=j.child;T;){if(T===d){C=!0,d=j,g=y;break}if(T===g){C=!0,g=j,d=y;break}T=T.sibling}if(!C)throw Error(r(189))}}if(d.alternate!==g)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?a:o}function yr(a){return a=nt(a),a!==null?hl(a):null}function hl(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var o=hl(a);if(o!==null)return o;a=a.sibling}return null}var ml=t.unstable_scheduleCallback,bi=t.unstable_cancelCallback,pl=t.unstable_shouldYield,lu=t.unstable_requestPaint,ft=t.unstable_now,$h=t.unstable_getCurrentPriorityLevel,gl=t.unstable_ImmediatePriority,Dx=t.unstable_UserBlockingPriority,cu=t.unstable_NormalPriority,CP=t.unstable_LowPriority,Rx=t.unstable_IdlePriority,uu=null,Si=null;function AP(a){if(Si&&typeof Si.onCommitFiberRoot=="function")try{Si.onCommitFiberRoot(uu,a,void 0,(a.current.flags&128)===128)}catch{}}var Xn=Math.clz32?Math.clz32:TP,OP=Math.log,PP=Math.LN2;function TP(a){return a>>>=0,a===0?32:31-(OP(a)/PP|0)|0}var du=64,fu=4194304;function vl(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function hu(a,o){var d=a.pendingLanes;if(d===0)return 0;var g=0,y=a.suspendedLanes,j=a.pingedLanes,C=d&268435455;if(C!==0){var T=C&~y;T!==0?g=vl(T):(j&=C,j!==0&&(g=vl(j)))}else C=d&~y,C!==0?g=vl(C):j!==0&&(g=vl(j));if(g===0)return 0;if(o!==0&&o!==g&&(o&y)===0&&(y=g&-g,j=o&-o,y>=j||y===16&&(j&4194240)!==0))return o;if((g&4)!==0&&(g|=d&16),o=a.entangledLanes,o!==0)for(a=a.entanglements,o&=g;0<o;)d=31-Xn(o),y=1<<d,g|=a[d],o&=~y;return g}function IP(a,o){switch(a){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function DP(a,o){for(var d=a.suspendedLanes,g=a.pingedLanes,y=a.expirationTimes,j=a.pendingLanes;0<j;){var C=31-Xn(j),T=1<<C,$=y[C];$===-1?((T&d)===0||(T&g)!==0)&&(y[C]=IP(T,o)):$<=o&&(a.expiredLanes|=T),j&=~T}}function Lh(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Mx(){var a=du;return du<<=1,(du&4194240)===0&&(du=64),a}function Fh(a){for(var o=[],d=0;31>d;d++)o.push(a);return o}function yl(a,o,d){a.pendingLanes|=o,o!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,o=31-Xn(o),a[o]=d}function RP(a,o){var d=a.pendingLanes&~o;a.pendingLanes=o,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=o,a.mutableReadLanes&=o,a.entangledLanes&=o,o=a.entanglements;var g=a.eventTimes;for(a=a.expirationTimes;0<d;){var y=31-Xn(d),j=1<<y;o[y]=0,g[y]=-1,a[y]=-1,d&=~j}}function Uh(a,o){var d=a.entangledLanes|=o;for(a=a.entanglements;d;){var g=31-Xn(d),y=1<<g;y&o|a[g]&o&&(a[g]|=o),d&=~y}}var ht=0;function $x(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var Lx,zh,Fx,Ux,zx,Bh=!1,mu=[],vs=null,ys=null,xs=null,xl=new Map,wl=new Map,ws=[],MP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bx(a,o){switch(a){case"focusin":case"focusout":vs=null;break;case"dragenter":case"dragleave":ys=null;break;case"mouseover":case"mouseout":xs=null;break;case"pointerover":case"pointerout":xl.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(o.pointerId)}}function bl(a,o,d,g,y,j){return a===null||a.nativeEvent!==j?(a={blockedOn:o,domEventName:d,eventSystemFlags:g,nativeEvent:j,targetContainers:[y]},o!==null&&(o=Rl(o),o!==null&&zh(o)),a):(a.eventSystemFlags|=g,o=a.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),a)}function $P(a,o,d,g,y){switch(o){case"focusin":return vs=bl(vs,a,o,d,g,y),!0;case"dragenter":return ys=bl(ys,a,o,d,g,y),!0;case"mouseover":return xs=bl(xs,a,o,d,g,y),!0;case"pointerover":var j=y.pointerId;return xl.set(j,bl(xl.get(j)||null,a,o,d,g,y)),!0;case"gotpointercapture":return j=y.pointerId,wl.set(j,bl(wl.get(j)||null,a,o,d,g,y)),!0}return!1}function Vx(a){var o=ta(a.target);if(o!==null){var d=Ge(o);if(d!==null){if(o=d.tag,o===13){if(o=De(d),o!==null){a.blockedOn=o,zx(a.priority,function(){Fx(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function pu(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var d=Wh(a.domEventName,a.eventSystemFlags,o[0],a.nativeEvent);if(d===null){d=a.nativeEvent;var g=new d.constructor(d.type,d);Jn=g,d.target.dispatchEvent(g),Jn=null}else return o=Rl(d),o!==null&&zh(o),a.blockedOn=d,!1;o.shift()}return!0}function Wx(a,o,d){pu(a)&&d.delete(o)}function LP(){Bh=!1,vs!==null&&pu(vs)&&(vs=null),ys!==null&&pu(ys)&&(ys=null),xs!==null&&pu(xs)&&(xs=null),xl.forEach(Wx),wl.forEach(Wx)}function Sl(a,o){a.blockedOn===o&&(a.blockedOn=null,Bh||(Bh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,LP)))}function _l(a){function o(y){return Sl(y,a)}if(0<mu.length){Sl(mu[0],a);for(var d=1;d<mu.length;d++){var g=mu[d];g.blockedOn===a&&(g.blockedOn=null)}}for(vs!==null&&Sl(vs,a),ys!==null&&Sl(ys,a),xs!==null&&Sl(xs,a),xl.forEach(o),wl.forEach(o),d=0;d<ws.length;d++)g=ws[d],g.blockedOn===a&&(g.blockedOn=null);for(;0<ws.length&&(d=ws[0],d.blockedOn===null);)Vx(d),d.blockedOn===null&&ws.shift()}var Ka=A.ReactCurrentBatchConfig,gu=!0;function FP(a,o,d,g){var y=ht,j=Ka.transition;Ka.transition=null;try{ht=1,Vh(a,o,d,g)}finally{ht=y,Ka.transition=j}}function UP(a,o,d,g){var y=ht,j=Ka.transition;Ka.transition=null;try{ht=4,Vh(a,o,d,g)}finally{ht=y,Ka.transition=j}}function Vh(a,o,d,g){if(gu){var y=Wh(a,o,d,g);if(y===null)om(a,o,g,vu,d),Bx(a,g);else if($P(y,a,o,d,g))g.stopPropagation();else if(Bx(a,g),o&4&&-1<MP.indexOf(a)){for(;y!==null;){var j=Rl(y);if(j!==null&&Lx(j),j=Wh(a,o,d,g),j===null&&om(a,o,g,vu,d),j===y)break;y=j}y!==null&&g.stopPropagation()}else om(a,o,g,null,d)}}var vu=null;function Wh(a,o,d,g){if(vu=null,a=gs(g),a=ta(a),a!==null)if(o=Ge(a),o===null)a=null;else if(d=o.tag,d===13){if(a=De(o),a!==null)return a;a=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null);return vu=a,null}function qx(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($h()){case gl:return 1;case Dx:return 4;case cu:case CP:return 16;case Rx:return 536870912;default:return 16}default:return 16}}var bs=null,qh=null,yu=null;function Hx(){if(yu)return yu;var a,o=qh,d=o.length,g,y="value"in bs?bs.value:bs.textContent,j=y.length;for(a=0;a<d&&o[a]===y[a];a++);var C=d-a;for(g=1;g<=C&&o[d-g]===y[j-g];g++);return yu=y.slice(a,1<g?1-g:void 0)}function xu(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function wu(){return!0}function Kx(){return!1}function nn(a){function o(d,g,y,j,C){this._reactName=d,this._targetInst=y,this.type=g,this.nativeEvent=j,this.target=C,this.currentTarget=null;for(var T in a)a.hasOwnProperty(T)&&(d=a[T],this[T]=d?d(j):j[T]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?wu:Kx,this.isPropagationStopped=Kx,this}return ce(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=wu)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=wu)},persist:function(){},isPersistent:wu}),o}var Ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hh=nn(Ga),jl=ce({},Ga,{view:0,detail:0}),zP=nn(jl),Kh,Gh,kl,bu=ce({},jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jh,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==kl&&(kl&&a.type==="mousemove"?(Kh=a.screenX-kl.screenX,Gh=a.screenY-kl.screenY):Gh=Kh=0,kl=a),Kh)},movementY:function(a){return"movementY"in a?a.movementY:Gh}}),Gx=nn(bu),BP=ce({},bu,{dataTransfer:0}),VP=nn(BP),WP=ce({},jl,{relatedTarget:0}),Yh=nn(WP),qP=ce({},Ga,{animationName:0,elapsedTime:0,pseudoElement:0}),HP=nn(qP),KP=ce({},Ga,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),GP=nn(KP),YP=ce({},Ga,{data:0}),Yx=nn(YP),JP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZP(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=XP[a])?!!o[a]:!1}function Jh(){return ZP}var eT=ce({},jl,{key:function(a){if(a.key){var o=JP[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=xu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?QP[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jh,charCode:function(a){return a.type==="keypress"?xu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?xu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),tT=nn(eT),rT=ce({},bu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jx=nn(rT),nT=ce({},jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jh}),iT=nn(nT),sT=ce({},Ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),aT=nn(sT),oT=ce({},bu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),lT=nn(oT),cT=[9,13,27,32],Qh=u&&"CompositionEvent"in window,Nl=null;u&&"documentMode"in document&&(Nl=document.documentMode);var uT=u&&"TextEvent"in window&&!Nl,Qx=u&&(!Qh||Nl&&8<Nl&&11>=Nl),Xx=" ",Zx=!1;function ew(a,o){switch(a){case"keyup":return cT.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tw(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ya=!1;function dT(a,o){switch(a){case"compositionend":return tw(o);case"keypress":return o.which!==32?null:(Zx=!0,Xx);case"textInput":return a=o.data,a===Xx&&Zx?null:a;default:return null}}function fT(a,o){if(Ya)return a==="compositionend"||!Qh&&ew(a,o)?(a=Hx(),yu=qh=bs=null,Ya=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Qx&&o.locale!=="ko"?null:o.data;default:return null}}var hT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rw(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!hT[a.type]:o==="textarea"}function nw(a,o,d,g){we(g),o=Nu(o,"onChange"),0<o.length&&(d=new Hh("onChange","change",null,d,g),a.push({event:d,listeners:o}))}var El=null,Cl=null;function mT(a){bw(a,0)}function Su(a){var o=eo(a);if(Z(o))return a}function pT(a,o){if(a==="change")return o}var iw=!1;if(u){var Xh;if(u){var Zh="oninput"in document;if(!Zh){var sw=document.createElement("div");sw.setAttribute("oninput","return;"),Zh=typeof sw.oninput=="function"}Xh=Zh}else Xh=!1;iw=Xh&&(!document.documentMode||9<document.documentMode)}function aw(){El&&(El.detachEvent("onpropertychange",ow),Cl=El=null)}function ow(a){if(a.propertyName==="value"&&Su(Cl)){var o=[];nw(o,Cl,a,gs(a)),$t(mT,o)}}function gT(a,o,d){a==="focusin"?(aw(),El=o,Cl=d,El.attachEvent("onpropertychange",ow)):a==="focusout"&&aw()}function vT(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Su(Cl)}function yT(a,o){if(a==="click")return Su(o)}function xT(a,o){if(a==="input"||a==="change")return Su(o)}function wT(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Zn=typeof Object.is=="function"?Object.is:wT;function Al(a,o){if(Zn(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var d=Object.keys(a),g=Object.keys(o);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var y=d[g];if(!f.call(o,y)||!Zn(a[y],o[y]))return!1}return!0}function lw(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function cw(a,o){var d=lw(a);a=0;for(var g;d;){if(d.nodeType===3){if(g=a+d.textContent.length,a<=o&&g>=o)return{node:d,offset:o-a};a=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=lw(d)}}function uw(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?uw(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function dw(){for(var a=window,o=Ee();o instanceof a.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)a=o.contentWindow;else break;o=Ee(a.document)}return o}function em(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}function bT(a){var o=dw(),d=a.focusedElem,g=a.selectionRange;if(o!==d&&d&&d.ownerDocument&&uw(d.ownerDocument.documentElement,d)){if(g!==null&&em(d)){if(o=g.start,a=g.end,a===void 0&&(a=o),"selectionStart"in d)d.selectionStart=o,d.selectionEnd=Math.min(a,d.value.length);else if(a=(o=d.ownerDocument||document)&&o.defaultView||window,a.getSelection){a=a.getSelection();var y=d.textContent.length,j=Math.min(g.start,y);g=g.end===void 0?j:Math.min(g.end,y),!a.extend&&j>g&&(y=g,g=j,j=y),y=cw(d,j);var C=cw(d,g);y&&C&&(a.rangeCount!==1||a.anchorNode!==y.node||a.anchorOffset!==y.offset||a.focusNode!==C.node||a.focusOffset!==C.offset)&&(o=o.createRange(),o.setStart(y.node,y.offset),a.removeAllRanges(),j>g?(a.addRange(o),a.extend(C.node,C.offset)):(o.setEnd(C.node,C.offset),a.addRange(o)))}}for(o=[],a=d;a=a.parentNode;)a.nodeType===1&&o.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<o.length;d++)a=o[d],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var ST=u&&"documentMode"in document&&11>=document.documentMode,Ja=null,tm=null,Ol=null,rm=!1;function fw(a,o,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;rm||Ja==null||Ja!==Ee(g)||(g=Ja,"selectionStart"in g&&em(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Ol&&Al(Ol,g)||(Ol=g,g=Nu(tm,"onSelect"),0<g.length&&(o=new Hh("onSelect","select",null,o,d),a.push({event:o,listeners:g}),o.target=Ja)))}function _u(a,o){var d={};return d[a.toLowerCase()]=o.toLowerCase(),d["Webkit"+a]="webkit"+o,d["Moz"+a]="moz"+o,d}var Qa={animationend:_u("Animation","AnimationEnd"),animationiteration:_u("Animation","AnimationIteration"),animationstart:_u("Animation","AnimationStart"),transitionend:_u("Transition","TransitionEnd")},nm={},hw={};u&&(hw=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function ju(a){if(nm[a])return nm[a];if(!Qa[a])return a;var o=Qa[a],d;for(d in o)if(o.hasOwnProperty(d)&&d in hw)return nm[a]=o[d];return a}var mw=ju("animationend"),pw=ju("animationiteration"),gw=ju("animationstart"),vw=ju("transitionend"),yw=new Map,xw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ss(a,o){yw.set(a,o),s(o,[a])}for(var im=0;im<xw.length;im++){var sm=xw[im],_T=sm.toLowerCase(),jT=sm[0].toUpperCase()+sm.slice(1);Ss(_T,"on"+jT)}Ss(mw,"onAnimationEnd"),Ss(pw,"onAnimationIteration"),Ss(gw,"onAnimationStart"),Ss("dblclick","onDoubleClick"),Ss("focusin","onFocus"),Ss("focusout","onBlur"),Ss(vw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pl));function ww(a,o,d){var g=a.type||"unknown-event";a.currentTarget=d,je(g,o,void 0,a),a.currentTarget=null}function bw(a,o){o=(o&4)!==0;for(var d=0;d<a.length;d++){var g=a[d],y=g.event;g=g.listeners;e:{var j=void 0;if(o)for(var C=g.length-1;0<=C;C--){var T=g[C],$=T.instance,K=T.currentTarget;if(T=T.listener,$!==j&&y.isPropagationStopped())break e;ww(y,T,K),j=$}else for(C=0;C<g.length;C++){if(T=g[C],$=T.instance,K=T.currentTarget,T=T.listener,$!==j&&y.isPropagationStopped())break e;ww(y,T,K),j=$}}}if(zt)throw a=On,zt=!1,On=null,a}function Nt(a,o){var d=o[hm];d===void 0&&(d=o[hm]=new Set);var g=a+"__bubble";d.has(g)||(Sw(o,a,2,!1),d.add(g))}function am(a,o,d){var g=0;o&&(g|=4),Sw(d,a,g,o)}var ku="_reactListening"+Math.random().toString(36).slice(2);function Tl(a){if(!a[ku]){a[ku]=!0,n.forEach(function(d){d!=="selectionchange"&&(kT.has(d)||am(d,!1,a),am(d,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[ku]||(o[ku]=!0,am("selectionchange",!1,o))}}function Sw(a,o,d,g){switch(qx(o)){case 1:var y=FP;break;case 4:y=UP;break;default:y=Vh}d=y.bind(null,o,d,a),y=void 0,!kt||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),g?y!==void 0?a.addEventListener(o,d,{capture:!0,passive:y}):a.addEventListener(o,d,!0):y!==void 0?a.addEventListener(o,d,{passive:y}):a.addEventListener(o,d,!1)}function om(a,o,d,g,y){var j=g;if((o&1)===0&&(o&2)===0&&g!==null)e:for(;;){if(g===null)return;var C=g.tag;if(C===3||C===4){var T=g.stateNode.containerInfo;if(T===y||T.nodeType===8&&T.parentNode===y)break;if(C===4)for(C=g.return;C!==null;){var $=C.tag;if(($===3||$===4)&&($=C.stateNode.containerInfo,$===y||$.nodeType===8&&$.parentNode===y))return;C=C.return}for(;T!==null;){if(C=ta(T),C===null)return;if($=C.tag,$===5||$===6){g=j=C;continue e}T=T.parentNode}}g=g.return}$t(function(){var K=j,fe=gs(d),he=[];e:{var de=yw.get(a);if(de!==void 0){var _e=Hh,Oe=a;switch(a){case"keypress":if(xu(d)===0)break e;case"keydown":case"keyup":_e=tT;break;case"focusin":Oe="focus",_e=Yh;break;case"focusout":Oe="blur",_e=Yh;break;case"beforeblur":case"afterblur":_e=Yh;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=Gx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=VP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=iT;break;case mw:case pw:case gw:_e=HP;break;case vw:_e=aT;break;case"scroll":_e=zP;break;case"wheel":_e=lT;break;case"copy":case"cut":case"paste":_e=GP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=Jx}var Te=(o&4)!==0,Bt=!Te&&a==="scroll",B=Te?de!==null?de+"Capture":null:de;Te=[];for(var F=K,q;F!==null;){q=F;var me=q.stateNode;if(q.tag===5&&me!==null&&(q=me,B!==null&&(me=st(F,B),me!=null&&Te.push(Il(F,me,q)))),Bt)break;F=F.return}0<Te.length&&(de=new _e(de,Oe,null,d,fe),he.push({event:de,listeners:Te}))}}if((o&7)===0){e:{if(de=a==="mouseover"||a==="pointerover",_e=a==="mouseout"||a==="pointerout",de&&d!==Jn&&(Oe=d.relatedTarget||d.fromElement)&&(ta(Oe)||Oe[Ui]))break e;if((_e||de)&&(de=fe.window===fe?fe:(de=fe.ownerDocument)?de.defaultView||de.parentWindow:window,_e?(Oe=d.relatedTarget||d.toElement,_e=K,Oe=Oe?ta(Oe):null,Oe!==null&&(Bt=Ge(Oe),Oe!==Bt||Oe.tag!==5&&Oe.tag!==6)&&(Oe=null)):(_e=null,Oe=K),_e!==Oe)){if(Te=Gx,me="onMouseLeave",B="onMouseEnter",F="mouse",(a==="pointerout"||a==="pointerover")&&(Te=Jx,me="onPointerLeave",B="onPointerEnter",F="pointer"),Bt=_e==null?de:eo(_e),q=Oe==null?de:eo(Oe),de=new Te(me,F+"leave",_e,d,fe),de.target=Bt,de.relatedTarget=q,me=null,ta(fe)===K&&(Te=new Te(B,F+"enter",Oe,d,fe),Te.target=q,Te.relatedTarget=Bt,me=Te),Bt=me,_e&&Oe)t:{for(Te=_e,B=Oe,F=0,q=Te;q;q=Xa(q))F++;for(q=0,me=B;me;me=Xa(me))q++;for(;0<F-q;)Te=Xa(Te),F--;for(;0<q-F;)B=Xa(B),q--;for(;F--;){if(Te===B||B!==null&&Te===B.alternate)break t;Te=Xa(Te),B=Xa(B)}Te=null}else Te=null;_e!==null&&_w(he,de,_e,Te,!1),Oe!==null&&Bt!==null&&_w(he,Bt,Oe,Te,!0)}}e:{if(de=K?eo(K):window,_e=de.nodeName&&de.nodeName.toLowerCase(),_e==="select"||_e==="input"&&de.type==="file")var Ie=pT;else if(rw(de))if(iw)Ie=xT;else{Ie=vT;var ze=gT}else(_e=de.nodeName)&&_e.toLowerCase()==="input"&&(de.type==="checkbox"||de.type==="radio")&&(Ie=yT);if(Ie&&(Ie=Ie(a,K))){nw(he,Ie,d,fe);break e}ze&&ze(a,de,K),a==="focusout"&&(ze=de._wrapperState)&&ze.controlled&&de.type==="number"&&Ut(de,"number",de.value)}switch(ze=K?eo(K):window,a){case"focusin":(rw(ze)||ze.contentEditable==="true")&&(Ja=ze,tm=K,Ol=null);break;case"focusout":Ol=tm=Ja=null;break;case"mousedown":rm=!0;break;case"contextmenu":case"mouseup":case"dragend":rm=!1,fw(he,d,fe);break;case"selectionchange":if(ST)break;case"keydown":case"keyup":fw(he,d,fe)}var Be;if(Qh)e:{switch(a){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Ya?ew(a,d)&&(He="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(He="onCompositionStart");He&&(Qx&&d.locale!=="ko"&&(Ya||He!=="onCompositionStart"?He==="onCompositionEnd"&&Ya&&(Be=Hx()):(bs=fe,qh="value"in bs?bs.value:bs.textContent,Ya=!0)),ze=Nu(K,He),0<ze.length&&(He=new Yx(He,a,null,d,fe),he.push({event:He,listeners:ze}),Be?He.data=Be:(Be=tw(d),Be!==null&&(He.data=Be)))),(Be=uT?dT(a,d):fT(a,d))&&(K=Nu(K,"onBeforeInput"),0<K.length&&(fe=new Yx("onBeforeInput","beforeinput",null,d,fe),he.push({event:fe,listeners:K}),fe.data=Be))}bw(he,o)})}function Il(a,o,d){return{instance:a,listener:o,currentTarget:d}}function Nu(a,o){for(var d=o+"Capture",g=[];a!==null;){var y=a,j=y.stateNode;y.tag===5&&j!==null&&(y=j,j=st(a,d),j!=null&&g.unshift(Il(a,j,y)),j=st(a,o),j!=null&&g.push(Il(a,j,y))),a=a.return}return g}function Xa(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function _w(a,o,d,g,y){for(var j=o._reactName,C=[];d!==null&&d!==g;){var T=d,$=T.alternate,K=T.stateNode;if($!==null&&$===g)break;T.tag===5&&K!==null&&(T=K,y?($=st(d,j),$!=null&&C.unshift(Il(d,$,T))):y||($=st(d,j),$!=null&&C.push(Il(d,$,T)))),d=d.return}C.length!==0&&a.push({event:o,listeners:C})}var NT=/\r\n?/g,ET=/\u0000|\uFFFD/g;function jw(a){return(typeof a=="string"?a:""+a).replace(NT,`
`).replace(ET,"")}function Eu(a,o,d){if(o=jw(o),jw(a)!==o&&d)throw Error(r(425))}function Cu(){}var lm=null,cm=null;function um(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var dm=typeof setTimeout=="function"?setTimeout:void 0,CT=typeof clearTimeout=="function"?clearTimeout:void 0,kw=typeof Promise=="function"?Promise:void 0,AT=typeof queueMicrotask=="function"?queueMicrotask:typeof kw<"u"?function(a){return kw.resolve(null).then(a).catch(OT)}:dm;function OT(a){setTimeout(function(){throw a})}function fm(a,o){var d=o,g=0;do{var y=d.nextSibling;if(a.removeChild(d),y&&y.nodeType===8)if(d=y.data,d==="/$"){if(g===0){a.removeChild(y),_l(o);return}g--}else d!=="$"&&d!=="$?"&&d!=="$!"||g++;d=y}while(d);_l(o)}function _s(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return a}function Nw(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(o===0)return a;o--}else d==="/$"&&o++}a=a.previousSibling}return null}var Za=Math.random().toString(36).slice(2),_i="__reactFiber$"+Za,Dl="__reactProps$"+Za,Ui="__reactContainer$"+Za,hm="__reactEvents$"+Za,PT="__reactListeners$"+Za,TT="__reactHandles$"+Za;function ta(a){var o=a[_i];if(o)return o;for(var d=a.parentNode;d;){if(o=d[Ui]||d[_i]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(a=Nw(a);a!==null;){if(d=a[_i])return d;a=Nw(a)}return o}a=d,d=a.parentNode}return null}function Rl(a){return a=a[_i]||a[Ui],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function eo(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(r(33))}function Au(a){return a[Dl]||null}var mm=[],to=-1;function js(a){return{current:a}}function Et(a){0>to||(a.current=mm[to],mm[to]=null,to--)}function St(a,o){to++,mm[to]=a.current,a.current=o}var ks={},Cr=js(ks),qr=js(!1),ra=ks;function ro(a,o){var d=a.type.contextTypes;if(!d)return ks;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===o)return g.__reactInternalMemoizedMaskedChildContext;var y={},j;for(j in d)y[j]=o[j];return g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=o,a.__reactInternalMemoizedMaskedChildContext=y),y}function Hr(a){return a=a.childContextTypes,a!=null}function Ou(){Et(qr),Et(Cr)}function Ew(a,o,d){if(Cr.current!==ks)throw Error(r(168));St(Cr,o),St(qr,d)}function Cw(a,o,d){var g=a.stateNode;if(o=o.childContextTypes,typeof g.getChildContext!="function")return d;g=g.getChildContext();for(var y in g)if(!(y in o))throw Error(r(108,$e(a)||"Unknown",y));return ce({},d,g)}function Pu(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||ks,ra=Cr.current,St(Cr,a),St(qr,qr.current),!0}function Aw(a,o,d){var g=a.stateNode;if(!g)throw Error(r(169));d?(a=Cw(a,o,ra),g.__reactInternalMemoizedMergedChildContext=a,Et(qr),Et(Cr),St(Cr,a)):Et(qr),St(qr,d)}var zi=null,Tu=!1,pm=!1;function Ow(a){zi===null?zi=[a]:zi.push(a)}function IT(a){Tu=!0,Ow(a)}function Ns(){if(!pm&&zi!==null){pm=!0;var a=0,o=ht;try{var d=zi;for(ht=1;a<d.length;a++){var g=d[a];do g=g(!0);while(g!==null)}zi=null,Tu=!1}catch(y){throw zi!==null&&(zi=zi.slice(a+1)),ml(gl,Ns),y}finally{ht=o,pm=!1}}return null}var no=[],io=0,Iu=null,Du=0,Pn=[],Tn=0,na=null,Bi=1,Vi="";function ia(a,o){no[io++]=Du,no[io++]=Iu,Iu=a,Du=o}function Pw(a,o,d){Pn[Tn++]=Bi,Pn[Tn++]=Vi,Pn[Tn++]=na,na=a;var g=Bi;a=Vi;var y=32-Xn(g)-1;g&=~(1<<y),d+=1;var j=32-Xn(o)+y;if(30<j){var C=y-y%5;j=(g&(1<<C)-1).toString(32),g>>=C,y-=C,Bi=1<<32-Xn(o)+y|d<<y|g,Vi=j+a}else Bi=1<<j|d<<y|g,Vi=a}function gm(a){a.return!==null&&(ia(a,1),Pw(a,1,0))}function vm(a){for(;a===Iu;)Iu=no[--io],no[io]=null,Du=no[--io],no[io]=null;for(;a===na;)na=Pn[--Tn],Pn[Tn]=null,Vi=Pn[--Tn],Pn[Tn]=null,Bi=Pn[--Tn],Pn[Tn]=null}var sn=null,an=null,Tt=!1,ei=null;function Tw(a,o){var d=Mn(5,null,null,0);d.elementType="DELETED",d.stateNode=o,d.return=a,o=a.deletions,o===null?(a.deletions=[d],a.flags|=16):o.push(d)}function Iw(a,o){switch(a.tag){case 5:var d=a.type;return o=o.nodeType!==1||d.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(a.stateNode=o,sn=a,an=_s(o.firstChild),!0):!1;case 6:return o=a.pendingProps===""||o.nodeType!==3?null:o,o!==null?(a.stateNode=o,sn=a,an=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(d=na!==null?{id:Bi,overflow:Vi}:null,a.memoizedState={dehydrated:o,treeContext:d,retryLane:1073741824},d=Mn(18,null,null,0),d.stateNode=o,d.return=a,a.child=d,sn=a,an=null,!0):!1;default:return!1}}function ym(a){return(a.mode&1)!==0&&(a.flags&128)===0}function xm(a){if(Tt){var o=an;if(o){var d=o;if(!Iw(a,o)){if(ym(a))throw Error(r(418));o=_s(d.nextSibling);var g=sn;o&&Iw(a,o)?Tw(g,d):(a.flags=a.flags&-4097|2,Tt=!1,sn=a)}}else{if(ym(a))throw Error(r(418));a.flags=a.flags&-4097|2,Tt=!1,sn=a}}}function Dw(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;sn=a}function Ru(a){if(a!==sn)return!1;if(!Tt)return Dw(a),Tt=!0,!1;var o;if((o=a.tag!==3)&&!(o=a.tag!==5)&&(o=a.type,o=o!=="head"&&o!=="body"&&!um(a.type,a.memoizedProps)),o&&(o=an)){if(ym(a))throw Rw(),Error(r(418));for(;o;)Tw(a,o),o=_s(o.nextSibling)}if(Dw(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,o=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"){if(o===0){an=_s(a.nextSibling);break e}o--}else d!=="$"&&d!=="$!"&&d!=="$?"||o++}a=a.nextSibling}an=null}}else an=sn?_s(a.stateNode.nextSibling):null;return!0}function Rw(){for(var a=an;a;)a=_s(a.nextSibling)}function so(){an=sn=null,Tt=!1}function wm(a){ei===null?ei=[a]:ei.push(a)}var DT=A.ReactCurrentBatchConfig;function Ml(a,o,d){if(a=d.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(r(309));var g=d.stateNode}if(!g)throw Error(r(147,a));var y=g,j=""+a;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===j?o.ref:(o=function(C){var T=y.refs;C===null?delete T[j]:T[j]=C},o._stringRef=j,o)}if(typeof a!="string")throw Error(r(284));if(!d._owner)throw Error(r(290,a))}return a}function Mu(a,o){throw a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a))}function Mw(a){var o=a._init;return o(a._payload)}function $w(a){function o(B,F){if(a){var q=B.deletions;q===null?(B.deletions=[F],B.flags|=16):q.push(F)}}function d(B,F){if(!a)return null;for(;F!==null;)o(B,F),F=F.sibling;return null}function g(B,F){for(B=new Map;F!==null;)F.key!==null?B.set(F.key,F):B.set(F.index,F),F=F.sibling;return B}function y(B,F){return B=Ds(B,F),B.index=0,B.sibling=null,B}function j(B,F,q){return B.index=q,a?(q=B.alternate,q!==null?(q=q.index,q<F?(B.flags|=2,F):q):(B.flags|=2,F)):(B.flags|=1048576,F)}function C(B){return a&&B.alternate===null&&(B.flags|=2),B}function T(B,F,q,me){return F===null||F.tag!==6?(F=dp(q,B.mode,me),F.return=B,F):(F=y(F,q),F.return=B,F)}function $(B,F,q,me){var Ie=q.type;return Ie===L?fe(B,F,q.props.children,me,q.key):F!==null&&(F.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===xe&&Mw(Ie)===F.type)?(me=y(F,q.props),me.ref=Ml(B,F,q),me.return=B,me):(me=ad(q.type,q.key,q.props,null,B.mode,me),me.ref=Ml(B,F,q),me.return=B,me)}function K(B,F,q,me){return F===null||F.tag!==4||F.stateNode.containerInfo!==q.containerInfo||F.stateNode.implementation!==q.implementation?(F=fp(q,B.mode,me),F.return=B,F):(F=y(F,q.children||[]),F.return=B,F)}function fe(B,F,q,me,Ie){return F===null||F.tag!==7?(F=fa(q,B.mode,me,Ie),F.return=B,F):(F=y(F,q),F.return=B,F)}function he(B,F,q){if(typeof F=="string"&&F!==""||typeof F=="number")return F=dp(""+F,B.mode,q),F.return=B,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case P:return q=ad(F.type,F.key,F.props,null,B.mode,q),q.ref=Ml(B,null,F),q.return=B,q;case I:return F=fp(F,B.mode,q),F.return=B,F;case xe:var me=F._init;return he(B,me(F._payload),q)}if(kn(F)||le(F))return F=fa(F,B.mode,q,null),F.return=B,F;Mu(B,F)}return null}function de(B,F,q,me){var Ie=F!==null?F.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return Ie!==null?null:T(B,F,""+q,me);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case P:return q.key===Ie?$(B,F,q,me):null;case I:return q.key===Ie?K(B,F,q,me):null;case xe:return Ie=q._init,de(B,F,Ie(q._payload),me)}if(kn(q)||le(q))return Ie!==null?null:fe(B,F,q,me,null);Mu(B,q)}return null}function _e(B,F,q,me,Ie){if(typeof me=="string"&&me!==""||typeof me=="number")return B=B.get(q)||null,T(F,B,""+me,Ie);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case P:return B=B.get(me.key===null?q:me.key)||null,$(F,B,me,Ie);case I:return B=B.get(me.key===null?q:me.key)||null,K(F,B,me,Ie);case xe:var ze=me._init;return _e(B,F,q,ze(me._payload),Ie)}if(kn(me)||le(me))return B=B.get(q)||null,fe(F,B,me,Ie,null);Mu(F,me)}return null}function Oe(B,F,q,me){for(var Ie=null,ze=null,Be=F,He=F=0,cr=null;Be!==null&&He<q.length;He++){Be.index>He?(cr=Be,Be=null):cr=Be.sibling;var lt=de(B,Be,q[He],me);if(lt===null){Be===null&&(Be=cr);break}a&&Be&&lt.alternate===null&&o(B,Be),F=j(lt,F,He),ze===null?Ie=lt:ze.sibling=lt,ze=lt,Be=cr}if(He===q.length)return d(B,Be),Tt&&ia(B,He),Ie;if(Be===null){for(;He<q.length;He++)Be=he(B,q[He],me),Be!==null&&(F=j(Be,F,He),ze===null?Ie=Be:ze.sibling=Be,ze=Be);return Tt&&ia(B,He),Ie}for(Be=g(B,Be);He<q.length;He++)cr=_e(Be,B,He,q[He],me),cr!==null&&(a&&cr.alternate!==null&&Be.delete(cr.key===null?He:cr.key),F=j(cr,F,He),ze===null?Ie=cr:ze.sibling=cr,ze=cr);return a&&Be.forEach(function(Rs){return o(B,Rs)}),Tt&&ia(B,He),Ie}function Te(B,F,q,me){var Ie=le(q);if(typeof Ie!="function")throw Error(r(150));if(q=Ie.call(q),q==null)throw Error(r(151));for(var ze=Ie=null,Be=F,He=F=0,cr=null,lt=q.next();Be!==null&&!lt.done;He++,lt=q.next()){Be.index>He?(cr=Be,Be=null):cr=Be.sibling;var Rs=de(B,Be,lt.value,me);if(Rs===null){Be===null&&(Be=cr);break}a&&Be&&Rs.alternate===null&&o(B,Be),F=j(Rs,F,He),ze===null?Ie=Rs:ze.sibling=Rs,ze=Rs,Be=cr}if(lt.done)return d(B,Be),Tt&&ia(B,He),Ie;if(Be===null){for(;!lt.done;He++,lt=q.next())lt=he(B,lt.value,me),lt!==null&&(F=j(lt,F,He),ze===null?Ie=lt:ze.sibling=lt,ze=lt);return Tt&&ia(B,He),Ie}for(Be=g(B,Be);!lt.done;He++,lt=q.next())lt=_e(Be,B,He,lt.value,me),lt!==null&&(a&&lt.alternate!==null&&Be.delete(lt.key===null?He:lt.key),F=j(lt,F,He),ze===null?Ie=lt:ze.sibling=lt,ze=lt);return a&&Be.forEach(function(hI){return o(B,hI)}),Tt&&ia(B,He),Ie}function Bt(B,F,q,me){if(typeof q=="object"&&q!==null&&q.type===L&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case P:e:{for(var Ie=q.key,ze=F;ze!==null;){if(ze.key===Ie){if(Ie=q.type,Ie===L){if(ze.tag===7){d(B,ze.sibling),F=y(ze,q.props.children),F.return=B,B=F;break e}}else if(ze.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===xe&&Mw(Ie)===ze.type){d(B,ze.sibling),F=y(ze,q.props),F.ref=Ml(B,ze,q),F.return=B,B=F;break e}d(B,ze);break}else o(B,ze);ze=ze.sibling}q.type===L?(F=fa(q.props.children,B.mode,me,q.key),F.return=B,B=F):(me=ad(q.type,q.key,q.props,null,B.mode,me),me.ref=Ml(B,F,q),me.return=B,B=me)}return C(B);case I:e:{for(ze=q.key;F!==null;){if(F.key===ze)if(F.tag===4&&F.stateNode.containerInfo===q.containerInfo&&F.stateNode.implementation===q.implementation){d(B,F.sibling),F=y(F,q.children||[]),F.return=B,B=F;break e}else{d(B,F);break}else o(B,F);F=F.sibling}F=fp(q,B.mode,me),F.return=B,B=F}return C(B);case xe:return ze=q._init,Bt(B,F,ze(q._payload),me)}if(kn(q))return Oe(B,F,q,me);if(le(q))return Te(B,F,q,me);Mu(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,F!==null&&F.tag===6?(d(B,F.sibling),F=y(F,q),F.return=B,B=F):(d(B,F),F=dp(q,B.mode,me),F.return=B,B=F),C(B)):d(B,F)}return Bt}var ao=$w(!0),Lw=$w(!1),$u=js(null),Lu=null,oo=null,bm=null;function Sm(){bm=oo=Lu=null}function _m(a){var o=$u.current;Et($u),a._currentValue=o}function jm(a,o,d){for(;a!==null;){var g=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,g!==null&&(g.childLanes|=o)):g!==null&&(g.childLanes&o)!==o&&(g.childLanes|=o),a===d)break;a=a.return}}function lo(a,o){Lu=a,bm=oo=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&o)!==0&&(Kr=!0),a.firstContext=null)}function In(a){var o=a._currentValue;if(bm!==a)if(a={context:a,memoizedValue:o,next:null},oo===null){if(Lu===null)throw Error(r(308));oo=a,Lu.dependencies={lanes:0,firstContext:a}}else oo=oo.next=a;return o}var sa=null;function km(a){sa===null?sa=[a]:sa.push(a)}function Fw(a,o,d,g){var y=o.interleaved;return y===null?(d.next=d,km(o)):(d.next=y.next,y.next=d),o.interleaved=d,Wi(a,g)}function Wi(a,o){a.lanes|=o;var d=a.alternate;for(d!==null&&(d.lanes|=o),d=a,a=a.return;a!==null;)a.childLanes|=o,d=a.alternate,d!==null&&(d.childLanes|=o),d=a,a=a.return;return d.tag===3?d.stateNode:null}var Es=!1;function Nm(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uw(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function qi(a,o){return{eventTime:a,lane:o,tag:0,payload:null,callback:null,next:null}}function Cs(a,o,d){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(at&2)!==0){var y=g.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),g.pending=o,Wi(a,d)}return y=g.interleaved,y===null?(o.next=o,km(g)):(o.next=y.next,y.next=o),g.interleaved=o,Wi(a,d)}function Fu(a,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194240)!==0)){var g=o.lanes;g&=a.pendingLanes,d|=g,o.lanes=d,Uh(a,d)}}function zw(a,o){var d=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var y=null,j=null;if(d=d.firstBaseUpdate,d!==null){do{var C={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};j===null?y=j=C:j=j.next=C,d=d.next}while(d!==null);j===null?y=j=o:j=j.next=o}else y=j=o;d={baseState:g.baseState,firstBaseUpdate:y,lastBaseUpdate:j,shared:g.shared,effects:g.effects},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=o:a.next=o,d.lastBaseUpdate=o}function Uu(a,o,d,g){var y=a.updateQueue;Es=!1;var j=y.firstBaseUpdate,C=y.lastBaseUpdate,T=y.shared.pending;if(T!==null){y.shared.pending=null;var $=T,K=$.next;$.next=null,C===null?j=K:C.next=K,C=$;var fe=a.alternate;fe!==null&&(fe=fe.updateQueue,T=fe.lastBaseUpdate,T!==C&&(T===null?fe.firstBaseUpdate=K:T.next=K,fe.lastBaseUpdate=$))}if(j!==null){var he=y.baseState;C=0,fe=K=$=null,T=j;do{var de=T.lane,_e=T.eventTime;if((g&de)===de){fe!==null&&(fe=fe.next={eventTime:_e,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var Oe=a,Te=T;switch(de=o,_e=d,Te.tag){case 1:if(Oe=Te.payload,typeof Oe=="function"){he=Oe.call(_e,he,de);break e}he=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=Te.payload,de=typeof Oe=="function"?Oe.call(_e,he,de):Oe,de==null)break e;he=ce({},he,de);break e;case 2:Es=!0}}T.callback!==null&&T.lane!==0&&(a.flags|=64,de=y.effects,de===null?y.effects=[T]:de.push(T))}else _e={eventTime:_e,lane:de,tag:T.tag,payload:T.payload,callback:T.callback,next:null},fe===null?(K=fe=_e,$=he):fe=fe.next=_e,C|=de;if(T=T.next,T===null){if(T=y.shared.pending,T===null)break;de=T,T=de.next,de.next=null,y.lastBaseUpdate=de,y.shared.pending=null}}while(!0);if(fe===null&&($=he),y.baseState=$,y.firstBaseUpdate=K,y.lastBaseUpdate=fe,o=y.shared.interleaved,o!==null){y=o;do C|=y.lane,y=y.next;while(y!==o)}else j===null&&(y.shared.lanes=0);la|=C,a.lanes=C,a.memoizedState=he}}function Bw(a,o,d){if(a=o.effects,o.effects=null,a!==null)for(o=0;o<a.length;o++){var g=a[o],y=g.callback;if(y!==null){if(g.callback=null,g=d,typeof y!="function")throw Error(r(191,y));y.call(g)}}}var $l={},ji=js($l),Ll=js($l),Fl=js($l);function aa(a){if(a===$l)throw Error(r(174));return a}function Em(a,o){switch(St(Fl,o),St(Ll,a),St(ji,$l),a=o.nodeType,a){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Y(null,"");break;default:a=a===8?o.parentNode:o,o=a.namespaceURI||null,a=a.tagName,o=Y(o,a)}Et(ji),St(ji,o)}function co(){Et(ji),Et(Ll),Et(Fl)}function Vw(a){aa(Fl.current);var o=aa(ji.current),d=Y(o,a.type);o!==d&&(St(Ll,a),St(ji,d))}function Cm(a){Ll.current===a&&(Et(ji),Et(Ll))}var Rt=js(0);function zu(a){for(var o=a;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Am=[];function Om(){for(var a=0;a<Am.length;a++)Am[a]._workInProgressVersionPrimary=null;Am.length=0}var Bu=A.ReactCurrentDispatcher,Pm=A.ReactCurrentBatchConfig,oa=0,Mt=null,er=null,or=null,Vu=!1,Ul=!1,zl=0,RT=0;function Ar(){throw Error(r(321))}function Tm(a,o){if(o===null)return!1;for(var d=0;d<o.length&&d<a.length;d++)if(!Zn(a[d],o[d]))return!1;return!0}function Im(a,o,d,g,y,j){if(oa=j,Mt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Bu.current=a===null||a.memoizedState===null?FT:UT,a=d(g,y),Ul){j=0;do{if(Ul=!1,zl=0,25<=j)throw Error(r(301));j+=1,or=er=null,o.updateQueue=null,Bu.current=zT,a=d(g,y)}while(Ul)}if(Bu.current=Hu,o=er!==null&&er.next!==null,oa=0,or=er=Mt=null,Vu=!1,o)throw Error(r(300));return a}function Dm(){var a=zl!==0;return zl=0,a}function ki(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return or===null?Mt.memoizedState=or=a:or=or.next=a,or}function Dn(){if(er===null){var a=Mt.alternate;a=a!==null?a.memoizedState:null}else a=er.next;var o=or===null?Mt.memoizedState:or.next;if(o!==null)or=o,er=a;else{if(a===null)throw Error(r(310));er=a,a={memoizedState:er.memoizedState,baseState:er.baseState,baseQueue:er.baseQueue,queue:er.queue,next:null},or===null?Mt.memoizedState=or=a:or=or.next=a}return or}function Bl(a,o){return typeof o=="function"?o(a):o}function Rm(a){var o=Dn(),d=o.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var g=er,y=g.baseQueue,j=d.pending;if(j!==null){if(y!==null){var C=y.next;y.next=j.next,j.next=C}g.baseQueue=y=j,d.pending=null}if(y!==null){j=y.next,g=g.baseState;var T=C=null,$=null,K=j;do{var fe=K.lane;if((oa&fe)===fe)$!==null&&($=$.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),g=K.hasEagerState?K.eagerState:a(g,K.action);else{var he={lane:fe,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};$===null?(T=$=he,C=g):$=$.next=he,Mt.lanes|=fe,la|=fe}K=K.next}while(K!==null&&K!==j);$===null?C=g:$.next=T,Zn(g,o.memoizedState)||(Kr=!0),o.memoizedState=g,o.baseState=C,o.baseQueue=$,d.lastRenderedState=g}if(a=d.interleaved,a!==null){y=a;do j=y.lane,Mt.lanes|=j,la|=j,y=y.next;while(y!==a)}else y===null&&(d.lanes=0);return[o.memoizedState,d.dispatch]}function Mm(a){var o=Dn(),d=o.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var g=d.dispatch,y=d.pending,j=o.memoizedState;if(y!==null){d.pending=null;var C=y=y.next;do j=a(j,C.action),C=C.next;while(C!==y);Zn(j,o.memoizedState)||(Kr=!0),o.memoizedState=j,o.baseQueue===null&&(o.baseState=j),d.lastRenderedState=j}return[j,g]}function Ww(){}function qw(a,o){var d=Mt,g=Dn(),y=o(),j=!Zn(g.memoizedState,y);if(j&&(g.memoizedState=y,Kr=!0),g=g.queue,$m(Gw.bind(null,d,g,a),[a]),g.getSnapshot!==o||j||or!==null&&or.memoizedState.tag&1){if(d.flags|=2048,Vl(9,Kw.bind(null,d,g,y,o),void 0,null),lr===null)throw Error(r(349));(oa&30)!==0||Hw(d,o,y)}return y}function Hw(a,o,d){a.flags|=16384,a={getSnapshot:o,value:d},o=Mt.updateQueue,o===null?(o={lastEffect:null,stores:null},Mt.updateQueue=o,o.stores=[a]):(d=o.stores,d===null?o.stores=[a]:d.push(a))}function Kw(a,o,d,g){o.value=d,o.getSnapshot=g,Yw(o)&&Jw(a)}function Gw(a,o,d){return d(function(){Yw(o)&&Jw(a)})}function Yw(a){var o=a.getSnapshot;a=a.value;try{var d=o();return!Zn(a,d)}catch{return!0}}function Jw(a){var o=Wi(a,1);o!==null&&ii(o,a,1,-1)}function Qw(a){var o=ki();return typeof a=="function"&&(a=a()),o.memoizedState=o.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bl,lastRenderedState:a},o.queue=a,a=a.dispatch=LT.bind(null,Mt,a),[o.memoizedState,a]}function Vl(a,o,d,g){return a={tag:a,create:o,destroy:d,deps:g,next:null},o=Mt.updateQueue,o===null?(o={lastEffect:null,stores:null},Mt.updateQueue=o,o.lastEffect=a.next=a):(d=o.lastEffect,d===null?o.lastEffect=a.next=a:(g=d.next,d.next=a,a.next=g,o.lastEffect=a)),a}function Xw(){return Dn().memoizedState}function Wu(a,o,d,g){var y=ki();Mt.flags|=a,y.memoizedState=Vl(1|o,d,void 0,g===void 0?null:g)}function qu(a,o,d,g){var y=Dn();g=g===void 0?null:g;var j=void 0;if(er!==null){var C=er.memoizedState;if(j=C.destroy,g!==null&&Tm(g,C.deps)){y.memoizedState=Vl(o,d,j,g);return}}Mt.flags|=a,y.memoizedState=Vl(1|o,d,j,g)}function Zw(a,o){return Wu(8390656,8,a,o)}function $m(a,o){return qu(2048,8,a,o)}function eb(a,o){return qu(4,2,a,o)}function tb(a,o){return qu(4,4,a,o)}function rb(a,o){if(typeof o=="function")return a=a(),o(a),function(){o(null)};if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function nb(a,o,d){return d=d!=null?d.concat([a]):null,qu(4,4,rb.bind(null,o,a),d)}function Lm(){}function ib(a,o){var d=Dn();o=o===void 0?null:o;var g=d.memoizedState;return g!==null&&o!==null&&Tm(o,g[1])?g[0]:(d.memoizedState=[a,o],a)}function sb(a,o){var d=Dn();o=o===void 0?null:o;var g=d.memoizedState;return g!==null&&o!==null&&Tm(o,g[1])?g[0]:(a=a(),d.memoizedState=[a,o],a)}function ab(a,o,d){return(oa&21)===0?(a.baseState&&(a.baseState=!1,Kr=!0),a.memoizedState=d):(Zn(d,o)||(d=Mx(),Mt.lanes|=d,la|=d,a.baseState=!0),o)}function MT(a,o){var d=ht;ht=d!==0&&4>d?d:4,a(!0);var g=Pm.transition;Pm.transition={};try{a(!1),o()}finally{ht=d,Pm.transition=g}}function ob(){return Dn().memoizedState}function $T(a,o,d){var g=Ts(a);if(d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},lb(a))cb(o,d);else if(d=Fw(a,o,d,g),d!==null){var y=$r();ii(d,a,g,y),ub(d,o,g)}}function LT(a,o,d){var g=Ts(a),y={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(lb(a))cb(o,y);else{var j=a.alternate;if(a.lanes===0&&(j===null||j.lanes===0)&&(j=o.lastRenderedReducer,j!==null))try{var C=o.lastRenderedState,T=j(C,d);if(y.hasEagerState=!0,y.eagerState=T,Zn(T,C)){var $=o.interleaved;$===null?(y.next=y,km(o)):(y.next=$.next,$.next=y),o.interleaved=y;return}}catch{}finally{}d=Fw(a,o,y,g),d!==null&&(y=$r(),ii(d,a,g,y),ub(d,o,g))}}function lb(a){var o=a.alternate;return a===Mt||o!==null&&o===Mt}function cb(a,o){Ul=Vu=!0;var d=a.pending;d===null?o.next=o:(o.next=d.next,d.next=o),a.pending=o}function ub(a,o,d){if((d&4194240)!==0){var g=o.lanes;g&=a.pendingLanes,d|=g,o.lanes=d,Uh(a,d)}}var Hu={readContext:In,useCallback:Ar,useContext:Ar,useEffect:Ar,useImperativeHandle:Ar,useInsertionEffect:Ar,useLayoutEffect:Ar,useMemo:Ar,useReducer:Ar,useRef:Ar,useState:Ar,useDebugValue:Ar,useDeferredValue:Ar,useTransition:Ar,useMutableSource:Ar,useSyncExternalStore:Ar,useId:Ar,unstable_isNewReconciler:!1},FT={readContext:In,useCallback:function(a,o){return ki().memoizedState=[a,o===void 0?null:o],a},useContext:In,useEffect:Zw,useImperativeHandle:function(a,o,d){return d=d!=null?d.concat([a]):null,Wu(4194308,4,rb.bind(null,o,a),d)},useLayoutEffect:function(a,o){return Wu(4194308,4,a,o)},useInsertionEffect:function(a,o){return Wu(4,2,a,o)},useMemo:function(a,o){var d=ki();return o=o===void 0?null:o,a=a(),d.memoizedState=[a,o],a},useReducer:function(a,o,d){var g=ki();return o=d!==void 0?d(o):o,g.memoizedState=g.baseState=o,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:o},g.queue=a,a=a.dispatch=$T.bind(null,Mt,a),[g.memoizedState,a]},useRef:function(a){var o=ki();return a={current:a},o.memoizedState=a},useState:Qw,useDebugValue:Lm,useDeferredValue:function(a){return ki().memoizedState=a},useTransition:function(){var a=Qw(!1),o=a[0];return a=MT.bind(null,a[1]),ki().memoizedState=a,[o,a]},useMutableSource:function(){},useSyncExternalStore:function(a,o,d){var g=Mt,y=ki();if(Tt){if(d===void 0)throw Error(r(407));d=d()}else{if(d=o(),lr===null)throw Error(r(349));(oa&30)!==0||Hw(g,o,d)}y.memoizedState=d;var j={value:d,getSnapshot:o};return y.queue=j,Zw(Gw.bind(null,g,j,a),[a]),g.flags|=2048,Vl(9,Kw.bind(null,g,j,d,o),void 0,null),d},useId:function(){var a=ki(),o=lr.identifierPrefix;if(Tt){var d=Vi,g=Bi;d=(g&~(1<<32-Xn(g)-1)).toString(32)+d,o=":"+o+"R"+d,d=zl++,0<d&&(o+="H"+d.toString(32)),o+=":"}else d=RT++,o=":"+o+"r"+d.toString(32)+":";return a.memoizedState=o},unstable_isNewReconciler:!1},UT={readContext:In,useCallback:ib,useContext:In,useEffect:$m,useImperativeHandle:nb,useInsertionEffect:eb,useLayoutEffect:tb,useMemo:sb,useReducer:Rm,useRef:Xw,useState:function(){return Rm(Bl)},useDebugValue:Lm,useDeferredValue:function(a){var o=Dn();return ab(o,er.memoizedState,a)},useTransition:function(){var a=Rm(Bl)[0],o=Dn().memoizedState;return[a,o]},useMutableSource:Ww,useSyncExternalStore:qw,useId:ob,unstable_isNewReconciler:!1},zT={readContext:In,useCallback:ib,useContext:In,useEffect:$m,useImperativeHandle:nb,useInsertionEffect:eb,useLayoutEffect:tb,useMemo:sb,useReducer:Mm,useRef:Xw,useState:function(){return Mm(Bl)},useDebugValue:Lm,useDeferredValue:function(a){var o=Dn();return er===null?o.memoizedState=a:ab(o,er.memoizedState,a)},useTransition:function(){var a=Mm(Bl)[0],o=Dn().memoizedState;return[a,o]},useMutableSource:Ww,useSyncExternalStore:qw,useId:ob,unstable_isNewReconciler:!1};function ti(a,o){if(a&&a.defaultProps){o=ce({},o),a=a.defaultProps;for(var d in a)o[d]===void 0&&(o[d]=a[d]);return o}return o}function Fm(a,o,d,g){o=a.memoizedState,d=d(g,o),d=d==null?o:ce({},o,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var Ku={isMounted:function(a){return(a=a._reactInternals)?Ge(a)===a:!1},enqueueSetState:function(a,o,d){a=a._reactInternals;var g=$r(),y=Ts(a),j=qi(g,y);j.payload=o,d!=null&&(j.callback=d),o=Cs(a,j,y),o!==null&&(ii(o,a,y,g),Fu(o,a,y))},enqueueReplaceState:function(a,o,d){a=a._reactInternals;var g=$r(),y=Ts(a),j=qi(g,y);j.tag=1,j.payload=o,d!=null&&(j.callback=d),o=Cs(a,j,y),o!==null&&(ii(o,a,y,g),Fu(o,a,y))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var d=$r(),g=Ts(a),y=qi(d,g);y.tag=2,o!=null&&(y.callback=o),o=Cs(a,y,g),o!==null&&(ii(o,a,g,d),Fu(o,a,g))}};function db(a,o,d,g,y,j,C){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,j,C):o.prototype&&o.prototype.isPureReactComponent?!Al(d,g)||!Al(y,j):!0}function fb(a,o,d){var g=!1,y=ks,j=o.contextType;return typeof j=="object"&&j!==null?j=In(j):(y=Hr(o)?ra:Cr.current,g=o.contextTypes,j=(g=g!=null)?ro(a,y):ks),o=new o(d,j),a.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Ku,a.stateNode=o,o._reactInternals=a,g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=y,a.__reactInternalMemoizedMaskedChildContext=j),o}function hb(a,o,d,g){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,g),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,g),o.state!==a&&Ku.enqueueReplaceState(o,o.state,null)}function Um(a,o,d,g){var y=a.stateNode;y.props=d,y.state=a.memoizedState,y.refs={},Nm(a);var j=o.contextType;typeof j=="object"&&j!==null?y.context=In(j):(j=Hr(o)?ra:Cr.current,y.context=ro(a,j)),y.state=a.memoizedState,j=o.getDerivedStateFromProps,typeof j=="function"&&(Fm(a,o,j,d),y.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(o=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),o!==y.state&&Ku.enqueueReplaceState(y,y.state,null),Uu(a,d,y,g),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308)}function uo(a,o){try{var d="",g=o;do d+=ne(g),g=g.return;while(g);var y=d}catch(j){y=`
Error generating stack: `+j.message+`
`+j.stack}return{value:a,source:o,stack:y,digest:null}}function zm(a,o,d){return{value:a,source:null,stack:d??null,digest:o??null}}function Bm(a,o){try{console.error(o.value)}catch(d){setTimeout(function(){throw d})}}var BT=typeof WeakMap=="function"?WeakMap:Map;function mb(a,o,d){d=qi(-1,d),d.tag=3,d.payload={element:null};var g=o.value;return d.callback=function(){ed||(ed=!0,np=g),Bm(a,o)},d}function pb(a,o,d){d=qi(-1,d),d.tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var y=o.value;d.payload=function(){return g(y)},d.callback=function(){Bm(a,o)}}var j=a.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(d.callback=function(){Bm(a,o),typeof g!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var C=o.stack;this.componentDidCatch(o.value,{componentStack:C!==null?C:""})}),d}function gb(a,o,d){var g=a.pingCache;if(g===null){g=a.pingCache=new BT;var y=new Set;g.set(o,y)}else y=g.get(o),y===void 0&&(y=new Set,g.set(o,y));y.has(d)||(y.add(d),a=rI.bind(null,a,o,d),o.then(a,a))}function vb(a){do{var o;if((o=a.tag===13)&&(o=a.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return a;a=a.return}while(a!==null);return null}function yb(a,o,d,g,y){return(a.mode&1)===0?(a===o?a.flags|=65536:(a.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(o=qi(-1,1),o.tag=2,Cs(d,o,1))),d.lanes|=1),a):(a.flags|=65536,a.lanes=y,a)}var VT=A.ReactCurrentOwner,Kr=!1;function Mr(a,o,d,g){o.child=a===null?Lw(o,null,d,g):ao(o,a.child,d,g)}function xb(a,o,d,g,y){d=d.render;var j=o.ref;return lo(o,y),g=Im(a,o,d,g,j,y),d=Dm(),a!==null&&!Kr?(o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~y,Hi(a,o,y)):(Tt&&d&&gm(o),o.flags|=1,Mr(a,o,g,y),o.child)}function wb(a,o,d,g,y){if(a===null){var j=d.type;return typeof j=="function"&&!up(j)&&j.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(o.tag=15,o.type=j,bb(a,o,j,g,y)):(a=ad(d.type,null,g,o,o.mode,y),a.ref=o.ref,a.return=o,o.child=a)}if(j=a.child,(a.lanes&y)===0){var C=j.memoizedProps;if(d=d.compare,d=d!==null?d:Al,d(C,g)&&a.ref===o.ref)return Hi(a,o,y)}return o.flags|=1,a=Ds(j,g),a.ref=o.ref,a.return=o,o.child=a}function bb(a,o,d,g,y){if(a!==null){var j=a.memoizedProps;if(Al(j,g)&&a.ref===o.ref)if(Kr=!1,o.pendingProps=g=j,(a.lanes&y)!==0)(a.flags&131072)!==0&&(Kr=!0);else return o.lanes=a.lanes,Hi(a,o,y)}return Vm(a,o,d,g,y)}function Sb(a,o,d){var g=o.pendingProps,y=g.children,j=a!==null?a.memoizedState:null;if(g.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},St(ho,on),on|=d;else{if((d&1073741824)===0)return a=j!==null?j.baseLanes|d:d,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:a,cachePool:null,transitions:null},o.updateQueue=null,St(ho,on),on|=a,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=j!==null?j.baseLanes:d,St(ho,on),on|=g}else j!==null?(g=j.baseLanes|d,o.memoizedState=null):g=d,St(ho,on),on|=g;return Mr(a,o,y,d),o.child}function _b(a,o){var d=o.ref;(a===null&&d!==null||a!==null&&a.ref!==d)&&(o.flags|=512,o.flags|=2097152)}function Vm(a,o,d,g,y){var j=Hr(d)?ra:Cr.current;return j=ro(o,j),lo(o,y),d=Im(a,o,d,g,j,y),g=Dm(),a!==null&&!Kr?(o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~y,Hi(a,o,y)):(Tt&&g&&gm(o),o.flags|=1,Mr(a,o,d,y),o.child)}function jb(a,o,d,g,y){if(Hr(d)){var j=!0;Pu(o)}else j=!1;if(lo(o,y),o.stateNode===null)Yu(a,o),fb(o,d,g),Um(o,d,g,y),g=!0;else if(a===null){var C=o.stateNode,T=o.memoizedProps;C.props=T;var $=C.context,K=d.contextType;typeof K=="object"&&K!==null?K=In(K):(K=Hr(d)?ra:Cr.current,K=ro(o,K));var fe=d.getDerivedStateFromProps,he=typeof fe=="function"||typeof C.getSnapshotBeforeUpdate=="function";he||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(T!==g||$!==K)&&hb(o,C,g,K),Es=!1;var de=o.memoizedState;C.state=de,Uu(o,g,C,y),$=o.memoizedState,T!==g||de!==$||qr.current||Es?(typeof fe=="function"&&(Fm(o,d,fe,g),$=o.memoizedState),(T=Es||db(o,d,T,g,de,$,K))?(he||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(o.flags|=4194308)):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=g,o.memoizedState=$),C.props=g,C.state=$,C.context=K,g=T):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),g=!1)}else{C=o.stateNode,Uw(a,o),T=o.memoizedProps,K=o.type===o.elementType?T:ti(o.type,T),C.props=K,he=o.pendingProps,de=C.context,$=d.contextType,typeof $=="object"&&$!==null?$=In($):($=Hr(d)?ra:Cr.current,$=ro(o,$));var _e=d.getDerivedStateFromProps;(fe=typeof _e=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(T!==he||de!==$)&&hb(o,C,g,$),Es=!1,de=o.memoizedState,C.state=de,Uu(o,g,C,y);var Oe=o.memoizedState;T!==he||de!==Oe||qr.current||Es?(typeof _e=="function"&&(Fm(o,d,_e,g),Oe=o.memoizedState),(K=Es||db(o,d,K,g,de,Oe,$)||!1)?(fe||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(g,Oe,$),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(g,Oe,$)),typeof C.componentDidUpdate=="function"&&(o.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof C.componentDidUpdate!="function"||T===a.memoizedProps&&de===a.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||T===a.memoizedProps&&de===a.memoizedState||(o.flags|=1024),o.memoizedProps=g,o.memoizedState=Oe),C.props=g,C.state=Oe,C.context=$,g=K):(typeof C.componentDidUpdate!="function"||T===a.memoizedProps&&de===a.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||T===a.memoizedProps&&de===a.memoizedState||(o.flags|=1024),g=!1)}return Wm(a,o,d,g,j,y)}function Wm(a,o,d,g,y,j){_b(a,o);var C=(o.flags&128)!==0;if(!g&&!C)return y&&Aw(o,d,!1),Hi(a,o,j);g=o.stateNode,VT.current=o;var T=C&&typeof d.getDerivedStateFromError!="function"?null:g.render();return o.flags|=1,a!==null&&C?(o.child=ao(o,a.child,null,j),o.child=ao(o,null,T,j)):Mr(a,o,T,j),o.memoizedState=g.state,y&&Aw(o,d,!0),o.child}function kb(a){var o=a.stateNode;o.pendingContext?Ew(a,o.pendingContext,o.pendingContext!==o.context):o.context&&Ew(a,o.context,!1),Em(a,o.containerInfo)}function Nb(a,o,d,g,y){return so(),wm(y),o.flags|=256,Mr(a,o,d,g),o.child}var qm={dehydrated:null,treeContext:null,retryLane:0};function Hm(a){return{baseLanes:a,cachePool:null,transitions:null}}function Eb(a,o,d){var g=o.pendingProps,y=Rt.current,j=!1,C=(o.flags&128)!==0,T;if((T=C)||(T=a!==null&&a.memoizedState===null?!1:(y&2)!==0),T?(j=!0,o.flags&=-129):(a===null||a.memoizedState!==null)&&(y|=1),St(Rt,y&1),a===null)return xm(o),a=o.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((o.mode&1)===0?o.lanes=1:a.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(C=g.children,a=g.fallback,j?(g=o.mode,j=o.child,C={mode:"hidden",children:C},(g&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=C):j=od(C,g,0,null),a=fa(a,g,d,null),j.return=o,a.return=o,j.sibling=a,o.child=j,o.child.memoizedState=Hm(d),o.memoizedState=qm,a):Km(o,C));if(y=a.memoizedState,y!==null&&(T=y.dehydrated,T!==null))return WT(a,o,C,g,T,y,d);if(j){j=g.fallback,C=o.mode,y=a.child,T=y.sibling;var $={mode:"hidden",children:g.children};return(C&1)===0&&o.child!==y?(g=o.child,g.childLanes=0,g.pendingProps=$,o.deletions=null):(g=Ds(y,$),g.subtreeFlags=y.subtreeFlags&14680064),T!==null?j=Ds(T,j):(j=fa(j,C,d,null),j.flags|=2),j.return=o,g.return=o,g.sibling=j,o.child=g,g=j,j=o.child,C=a.child.memoizedState,C=C===null?Hm(d):{baseLanes:C.baseLanes|d,cachePool:null,transitions:C.transitions},j.memoizedState=C,j.childLanes=a.childLanes&~d,o.memoizedState=qm,g}return j=a.child,a=j.sibling,g=Ds(j,{mode:"visible",children:g.children}),(o.mode&1)===0&&(g.lanes=d),g.return=o,g.sibling=null,a!==null&&(d=o.deletions,d===null?(o.deletions=[a],o.flags|=16):d.push(a)),o.child=g,o.memoizedState=null,g}function Km(a,o){return o=od({mode:"visible",children:o},a.mode,0,null),o.return=a,a.child=o}function Gu(a,o,d,g){return g!==null&&wm(g),ao(o,a.child,null,d),a=Km(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function WT(a,o,d,g,y,j,C){if(d)return o.flags&256?(o.flags&=-257,g=zm(Error(r(422))),Gu(a,o,C,g)):o.memoizedState!==null?(o.child=a.child,o.flags|=128,null):(j=g.fallback,y=o.mode,g=od({mode:"visible",children:g.children},y,0,null),j=fa(j,y,C,null),j.flags|=2,g.return=o,j.return=o,g.sibling=j,o.child=g,(o.mode&1)!==0&&ao(o,a.child,null,C),o.child.memoizedState=Hm(C),o.memoizedState=qm,j);if((o.mode&1)===0)return Gu(a,o,C,null);if(y.data==="$!"){if(g=y.nextSibling&&y.nextSibling.dataset,g)var T=g.dgst;return g=T,j=Error(r(419)),g=zm(j,g,void 0),Gu(a,o,C,g)}if(T=(C&a.childLanes)!==0,Kr||T){if(g=lr,g!==null){switch(C&-C){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(g.suspendedLanes|C))!==0?0:y,y!==0&&y!==j.retryLane&&(j.retryLane=y,Wi(a,y),ii(g,a,y,-1))}return cp(),g=zm(Error(r(421))),Gu(a,o,C,g)}return y.data==="$?"?(o.flags|=128,o.child=a.child,o=nI.bind(null,a),y._reactRetry=o,null):(a=j.treeContext,an=_s(y.nextSibling),sn=o,Tt=!0,ei=null,a!==null&&(Pn[Tn++]=Bi,Pn[Tn++]=Vi,Pn[Tn++]=na,Bi=a.id,Vi=a.overflow,na=o),o=Km(o,g.children),o.flags|=4096,o)}function Cb(a,o,d){a.lanes|=o;var g=a.alternate;g!==null&&(g.lanes|=o),jm(a.return,o,d)}function Gm(a,o,d,g,y){var j=a.memoizedState;j===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:y}:(j.isBackwards=o,j.rendering=null,j.renderingStartTime=0,j.last=g,j.tail=d,j.tailMode=y)}function Ab(a,o,d){var g=o.pendingProps,y=g.revealOrder,j=g.tail;if(Mr(a,o,g.children,d),g=Rt.current,(g&2)!==0)g=g&1|2,o.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Cb(a,d,o);else if(a.tag===19)Cb(a,d,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(St(Rt,g),(o.mode&1)===0)o.memoizedState=null;else switch(y){case"forwards":for(d=o.child,y=null;d!==null;)a=d.alternate,a!==null&&zu(a)===null&&(y=d),d=d.sibling;d=y,d===null?(y=o.child,o.child=null):(y=d.sibling,d.sibling=null),Gm(o,!1,y,d,j);break;case"backwards":for(d=null,y=o.child,o.child=null;y!==null;){if(a=y.alternate,a!==null&&zu(a)===null){o.child=y;break}a=y.sibling,y.sibling=d,d=y,y=a}Gm(o,!0,d,null,j);break;case"together":Gm(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Yu(a,o){(o.mode&1)===0&&a!==null&&(a.alternate=null,o.alternate=null,o.flags|=2)}function Hi(a,o,d){if(a!==null&&(o.dependencies=a.dependencies),la|=o.lanes,(d&o.childLanes)===0)return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,d=Ds(a,a.pendingProps),o.child=d,d.return=o;a.sibling!==null;)a=a.sibling,d=d.sibling=Ds(a,a.pendingProps),d.return=o;d.sibling=null}return o.child}function qT(a,o,d){switch(o.tag){case 3:kb(o),so();break;case 5:Vw(o);break;case 1:Hr(o.type)&&Pu(o);break;case 4:Em(o,o.stateNode.containerInfo);break;case 10:var g=o.type._context,y=o.memoizedProps.value;St($u,g._currentValue),g._currentValue=y;break;case 13:if(g=o.memoizedState,g!==null)return g.dehydrated!==null?(St(Rt,Rt.current&1),o.flags|=128,null):(d&o.child.childLanes)!==0?Eb(a,o,d):(St(Rt,Rt.current&1),a=Hi(a,o,d),a!==null?a.sibling:null);St(Rt,Rt.current&1);break;case 19:if(g=(d&o.childLanes)!==0,(a.flags&128)!==0){if(g)return Ab(a,o,d);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),St(Rt,Rt.current),g)break;return null;case 22:case 23:return o.lanes=0,Sb(a,o,d)}return Hi(a,o,d)}var Ob,Ym,Pb,Tb;Ob=function(a,o){for(var d=o.child;d!==null;){if(d.tag===5||d.tag===6)a.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Ym=function(){},Pb=function(a,o,d,g){var y=a.memoizedProps;if(y!==g){a=o.stateNode,aa(ji.current);var j=null;switch(d){case"input":y=Ye(a,y),g=Ye(a,g),j=[];break;case"select":y=ce({},y,{value:void 0}),g=ce({},g,{value:void 0}),j=[];break;case"textarea":y=R(a,y),g=R(a,g),j=[];break;default:typeof y.onClick!="function"&&typeof g.onClick=="function"&&(a.onclick=Cu)}Nn(d,g);var C;d=null;for(K in y)if(!g.hasOwnProperty(K)&&y.hasOwnProperty(K)&&y[K]!=null)if(K==="style"){var T=y[K];for(C in T)T.hasOwnProperty(C)&&(d||(d={}),d[C]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(i.hasOwnProperty(K)?j||(j=[]):(j=j||[]).push(K,null));for(K in g){var $=g[K];if(T=y!=null?y[K]:void 0,g.hasOwnProperty(K)&&$!==T&&($!=null||T!=null))if(K==="style")if(T){for(C in T)!T.hasOwnProperty(C)||$&&$.hasOwnProperty(C)||(d||(d={}),d[C]="");for(C in $)$.hasOwnProperty(C)&&T[C]!==$[C]&&(d||(d={}),d[C]=$[C])}else d||(j||(j=[]),j.push(K,d)),d=$;else K==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,T=T?T.__html:void 0,$!=null&&T!==$&&(j=j||[]).push(K,$)):K==="children"?typeof $!="string"&&typeof $!="number"||(j=j||[]).push(K,""+$):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(i.hasOwnProperty(K)?($!=null&&K==="onScroll"&&Nt("scroll",a),j||T===$||(j=[])):(j=j||[]).push(K,$))}d&&(j=j||[]).push("style",d);var K=j;(o.updateQueue=K)&&(o.flags|=4)}},Tb=function(a,o,d,g){d!==g&&(o.flags|=4)};function Wl(a,o){if(!Tt)switch(a.tailMode){case"hidden":o=a.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function Or(a){var o=a.alternate!==null&&a.alternate.child===a.child,d=0,g=0;if(o)for(var y=a.child;y!==null;)d|=y.lanes|y.childLanes,g|=y.subtreeFlags&14680064,g|=y.flags&14680064,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)d|=y.lanes|y.childLanes,g|=y.subtreeFlags,g|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=g,a.childLanes=d,o}function HT(a,o,d){var g=o.pendingProps;switch(vm(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Or(o),null;case 1:return Hr(o.type)&&Ou(),Or(o),null;case 3:return g=o.stateNode,co(),Et(qr),Et(Cr),Om(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(a===null||a.child===null)&&(Ru(o)?o.flags|=4:a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ei!==null&&(ap(ei),ei=null))),Ym(a,o),Or(o),null;case 5:Cm(o);var y=aa(Fl.current);if(d=o.type,a!==null&&o.stateNode!=null)Pb(a,o,d,g,y),a.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!g){if(o.stateNode===null)throw Error(r(166));return Or(o),null}if(a=aa(ji.current),Ru(o)){g=o.stateNode,d=o.type;var j=o.memoizedProps;switch(g[_i]=o,g[Dl]=j,a=(o.mode&1)!==0,d){case"dialog":Nt("cancel",g),Nt("close",g);break;case"iframe":case"object":case"embed":Nt("load",g);break;case"video":case"audio":for(y=0;y<Pl.length;y++)Nt(Pl[y],g);break;case"source":Nt("error",g);break;case"img":case"image":case"link":Nt("error",g),Nt("load",g);break;case"details":Nt("toggle",g);break;case"input":Pt(g,j),Nt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!j.multiple},Nt("invalid",g);break;case"textarea":H(g,j),Nt("invalid",g)}Nn(d,j),y=null;for(var C in j)if(j.hasOwnProperty(C)){var T=j[C];C==="children"?typeof T=="string"?g.textContent!==T&&(j.suppressHydrationWarning!==!0&&Eu(g.textContent,T,a),y=["children",T]):typeof T=="number"&&g.textContent!==""+T&&(j.suppressHydrationWarning!==!0&&Eu(g.textContent,T,a),y=["children",""+T]):i.hasOwnProperty(C)&&T!=null&&C==="onScroll"&&Nt("scroll",g)}switch(d){case"input":oe(g),jn(g,j,!0);break;case"textarea":oe(g),ge(g);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(g.onclick=Cu)}g=y,o.updateQueue=g,g!==null&&(o.flags|=4)}else{C=y.nodeType===9?y:y.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=pe(d)),a==="http://www.w3.org/1999/xhtml"?d==="script"?(a=C.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof g.is=="string"?a=C.createElement(d,{is:g.is}):(a=C.createElement(d),d==="select"&&(C=a,g.multiple?C.multiple=!0:g.size&&(C.size=g.size))):a=C.createElementNS(a,d),a[_i]=o,a[Dl]=g,Ob(a,o,!1,!1),o.stateNode=a;e:{switch(C=xi(d,g),d){case"dialog":Nt("cancel",a),Nt("close",a),y=g;break;case"iframe":case"object":case"embed":Nt("load",a),y=g;break;case"video":case"audio":for(y=0;y<Pl.length;y++)Nt(Pl[y],a);y=g;break;case"source":Nt("error",a),y=g;break;case"img":case"image":case"link":Nt("error",a),Nt("load",a),y=g;break;case"details":Nt("toggle",a),y=g;break;case"input":Pt(a,g),y=Ye(a,g),Nt("invalid",a);break;case"option":y=g;break;case"select":a._wrapperState={wasMultiple:!!g.multiple},y=ce({},g,{value:void 0}),Nt("invalid",a);break;case"textarea":H(a,g),y=R(a,g),Nt("invalid",a);break;default:y=g}Nn(d,y),T=y;for(j in T)if(T.hasOwnProperty(j)){var $=T[j];j==="style"?Yn(a,$):j==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&Ue(a,$)):j==="children"?typeof $=="string"?(d!=="textarea"||$!=="")&&it(a,$):typeof $=="number"&&it(a,""+$):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(i.hasOwnProperty(j)?$!=null&&j==="onScroll"&&Nt("scroll",a):$!=null&&E(a,j,$,C))}switch(d){case"input":oe(a),jn(a,g,!1);break;case"textarea":oe(a),ge(a);break;case"option":g.value!=null&&a.setAttribute("value",""+Qe(g.value));break;case"select":a.multiple=!!g.multiple,j=g.value,j!=null?Zt(a,!!g.multiple,j,!1):g.defaultValue!=null&&Zt(a,!!g.multiple,g.defaultValue,!0);break;default:typeof y.onClick=="function"&&(a.onclick=Cu)}switch(d){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Or(o),null;case 6:if(a&&o.stateNode!=null)Tb(a,o,a.memoizedProps,g);else{if(typeof g!="string"&&o.stateNode===null)throw Error(r(166));if(d=aa(Fl.current),aa(ji.current),Ru(o)){if(g=o.stateNode,d=o.memoizedProps,g[_i]=o,(j=g.nodeValue!==d)&&(a=sn,a!==null))switch(a.tag){case 3:Eu(g.nodeValue,d,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Eu(g.nodeValue,d,(a.mode&1)!==0)}j&&(o.flags|=4)}else g=(d.nodeType===9?d:d.ownerDocument).createTextNode(g),g[_i]=o,o.stateNode=g}return Or(o),null;case 13:if(Et(Rt),g=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Tt&&an!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Rw(),so(),o.flags|=98560,j=!1;else if(j=Ru(o),g!==null&&g.dehydrated!==null){if(a===null){if(!j)throw Error(r(318));if(j=o.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(r(317));j[_i]=o}else so(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Or(o),j=!1}else ei!==null&&(ap(ei),ei=null),j=!0;if(!j)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=d,o):(g=g!==null,g!==(a!==null&&a.memoizedState!==null)&&g&&(o.child.flags|=8192,(o.mode&1)!==0&&(a===null||(Rt.current&1)!==0?tr===0&&(tr=3):cp())),o.updateQueue!==null&&(o.flags|=4),Or(o),null);case 4:return co(),Ym(a,o),a===null&&Tl(o.stateNode.containerInfo),Or(o),null;case 10:return _m(o.type._context),Or(o),null;case 17:return Hr(o.type)&&Ou(),Or(o),null;case 19:if(Et(Rt),j=o.memoizedState,j===null)return Or(o),null;if(g=(o.flags&128)!==0,C=j.rendering,C===null)if(g)Wl(j,!1);else{if(tr!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(C=zu(a),C!==null){for(o.flags|=128,Wl(j,!1),g=C.updateQueue,g!==null&&(o.updateQueue=g,o.flags|=4),o.subtreeFlags=0,g=d,d=o.child;d!==null;)j=d,a=g,j.flags&=14680066,C=j.alternate,C===null?(j.childLanes=0,j.lanes=a,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=C.childLanes,j.lanes=C.lanes,j.child=C.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=C.memoizedProps,j.memoizedState=C.memoizedState,j.updateQueue=C.updateQueue,j.type=C.type,a=C.dependencies,j.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),d=d.sibling;return St(Rt,Rt.current&1|2),o.child}a=a.sibling}j.tail!==null&&ft()>mo&&(o.flags|=128,g=!0,Wl(j,!1),o.lanes=4194304)}else{if(!g)if(a=zu(C),a!==null){if(o.flags|=128,g=!0,d=a.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),Wl(j,!0),j.tail===null&&j.tailMode==="hidden"&&!C.alternate&&!Tt)return Or(o),null}else 2*ft()-j.renderingStartTime>mo&&d!==1073741824&&(o.flags|=128,g=!0,Wl(j,!1),o.lanes=4194304);j.isBackwards?(C.sibling=o.child,o.child=C):(d=j.last,d!==null?d.sibling=C:o.child=C,j.last=C)}return j.tail!==null?(o=j.tail,j.rendering=o,j.tail=o.sibling,j.renderingStartTime=ft(),o.sibling=null,d=Rt.current,St(Rt,g?d&1|2:d&1),o):(Or(o),null);case 22:case 23:return lp(),g=o.memoizedState!==null,a!==null&&a.memoizedState!==null!==g&&(o.flags|=8192),g&&(o.mode&1)!==0?(on&1073741824)!==0&&(Or(o),o.subtreeFlags&6&&(o.flags|=8192)):Or(o),null;case 24:return null;case 25:return null}throw Error(r(156,o.tag))}function KT(a,o){switch(vm(o),o.tag){case 1:return Hr(o.type)&&Ou(),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return co(),Et(qr),Et(Cr),Om(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 5:return Cm(o),null;case 13:if(Et(Rt),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));so()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return Et(Rt),null;case 4:return co(),null;case 10:return _m(o.type._context),null;case 22:case 23:return lp(),null;case 24:return null;default:return null}}var Ju=!1,Pr=!1,GT=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function fo(a,o){var d=a.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){Lt(a,o,g)}else d.current=null}function Jm(a,o,d){try{d()}catch(g){Lt(a,o,g)}}var Ib=!1;function YT(a,o){if(lm=gu,a=dw(),em(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var y=g.anchorOffset,j=g.focusNode;g=g.focusOffset;try{d.nodeType,j.nodeType}catch{d=null;break e}var C=0,T=-1,$=-1,K=0,fe=0,he=a,de=null;t:for(;;){for(var _e;he!==d||y!==0&&he.nodeType!==3||(T=C+y),he!==j||g!==0&&he.nodeType!==3||($=C+g),he.nodeType===3&&(C+=he.nodeValue.length),(_e=he.firstChild)!==null;)de=he,he=_e;for(;;){if(he===a)break t;if(de===d&&++K===y&&(T=C),de===j&&++fe===g&&($=C),(_e=he.nextSibling)!==null)break;he=de,de=he.parentNode}he=_e}d=T===-1||$===-1?null:{start:T,end:$}}else d=null}d=d||{start:0,end:0}}else d=null;for(cm={focusedElem:a,selectionRange:d},gu=!1,Ce=o;Ce!==null;)if(o=Ce,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Ce=a;else for(;Ce!==null;){o=Ce;try{var Oe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Oe!==null){var Te=Oe.memoizedProps,Bt=Oe.memoizedState,B=o.stateNode,F=B.getSnapshotBeforeUpdate(o.elementType===o.type?Te:ti(o.type,Te),Bt);B.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var q=o.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(me){Lt(o,o.return,me)}if(a=o.sibling,a!==null){a.return=o.return,Ce=a;break}Ce=o.return}return Oe=Ib,Ib=!1,Oe}function ql(a,o,d){var g=o.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var y=g=g.next;do{if((y.tag&a)===a){var j=y.destroy;y.destroy=void 0,j!==void 0&&Jm(o,d,j)}y=y.next}while(y!==g)}}function Qu(a,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var d=o=o.next;do{if((d.tag&a)===a){var g=d.create;d.destroy=g()}d=d.next}while(d!==o)}}function Qm(a){var o=a.ref;if(o!==null){var d=a.stateNode;switch(a.tag){case 5:a=d;break;default:a=d}typeof o=="function"?o(a):o.current=a}}function Db(a){var o=a.alternate;o!==null&&(a.alternate=null,Db(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&(delete o[_i],delete o[Dl],delete o[hm],delete o[PT],delete o[TT])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Rb(a){return a.tag===5||a.tag===3||a.tag===4}function Mb(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Rb(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Xm(a,o,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,o?d.nodeType===8?d.parentNode.insertBefore(a,o):d.insertBefore(a,o):(d.nodeType===8?(o=d.parentNode,o.insertBefore(a,d)):(o=d,o.appendChild(a)),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=Cu));else if(g!==4&&(a=a.child,a!==null))for(Xm(a,o,d),a=a.sibling;a!==null;)Xm(a,o,d),a=a.sibling}function Zm(a,o,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,o?d.insertBefore(a,o):d.appendChild(a);else if(g!==4&&(a=a.child,a!==null))for(Zm(a,o,d),a=a.sibling;a!==null;)Zm(a,o,d),a=a.sibling}var xr=null,ri=!1;function As(a,o,d){for(d=d.child;d!==null;)$b(a,o,d),d=d.sibling}function $b(a,o,d){if(Si&&typeof Si.onCommitFiberUnmount=="function")try{Si.onCommitFiberUnmount(uu,d)}catch{}switch(d.tag){case 5:Pr||fo(d,o);case 6:var g=xr,y=ri;xr=null,As(a,o,d),xr=g,ri=y,xr!==null&&(ri?(a=xr,d=d.stateNode,a.nodeType===8?a.parentNode.removeChild(d):a.removeChild(d)):xr.removeChild(d.stateNode));break;case 18:xr!==null&&(ri?(a=xr,d=d.stateNode,a.nodeType===8?fm(a.parentNode,d):a.nodeType===1&&fm(a,d),_l(a)):fm(xr,d.stateNode));break;case 4:g=xr,y=ri,xr=d.stateNode.containerInfo,ri=!0,As(a,o,d),xr=g,ri=y;break;case 0:case 11:case 14:case 15:if(!Pr&&(g=d.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){y=g=g.next;do{var j=y,C=j.destroy;j=j.tag,C!==void 0&&((j&2)!==0||(j&4)!==0)&&Jm(d,o,C),y=y.next}while(y!==g)}As(a,o,d);break;case 1:if(!Pr&&(fo(d,o),g=d.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(T){Lt(d,o,T)}As(a,o,d);break;case 21:As(a,o,d);break;case 22:d.mode&1?(Pr=(g=Pr)||d.memoizedState!==null,As(a,o,d),Pr=g):As(a,o,d);break;default:As(a,o,d)}}function Lb(a){var o=a.updateQueue;if(o!==null){a.updateQueue=null;var d=a.stateNode;d===null&&(d=a.stateNode=new GT),o.forEach(function(g){var y=iI.bind(null,a,g);d.has(g)||(d.add(g),g.then(y,y))})}}function ni(a,o){var d=o.deletions;if(d!==null)for(var g=0;g<d.length;g++){var y=d[g];try{var j=a,C=o,T=C;e:for(;T!==null;){switch(T.tag){case 5:xr=T.stateNode,ri=!1;break e;case 3:xr=T.stateNode.containerInfo,ri=!0;break e;case 4:xr=T.stateNode.containerInfo,ri=!0;break e}T=T.return}if(xr===null)throw Error(r(160));$b(j,C,y),xr=null,ri=!1;var $=y.alternate;$!==null&&($.return=null),y.return=null}catch(K){Lt(y,o,K)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Fb(o,a),o=o.sibling}function Fb(a,o){var d=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(ni(o,a),Ni(a),g&4){try{ql(3,a,a.return),Qu(3,a)}catch(Te){Lt(a,a.return,Te)}try{ql(5,a,a.return)}catch(Te){Lt(a,a.return,Te)}}break;case 1:ni(o,a),Ni(a),g&512&&d!==null&&fo(d,d.return);break;case 5:if(ni(o,a),Ni(a),g&512&&d!==null&&fo(d,d.return),a.flags&32){var y=a.stateNode;try{it(y,"")}catch(Te){Lt(a,a.return,Te)}}if(g&4&&(y=a.stateNode,y!=null)){var j=a.memoizedProps,C=d!==null?d.memoizedProps:j,T=a.type,$=a.updateQueue;if(a.updateQueue=null,$!==null)try{T==="input"&&j.type==="radio"&&j.name!=null&&yt(y,j),xi(T,C);var K=xi(T,j);for(C=0;C<$.length;C+=2){var fe=$[C],he=$[C+1];fe==="style"?Yn(y,he):fe==="dangerouslySetInnerHTML"?Ue(y,he):fe==="children"?it(y,he):E(y,fe,he,K)}switch(T){case"input":Ft(y,j);break;case"textarea":Q(y,j);break;case"select":var de=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!j.multiple;var _e=j.value;_e!=null?Zt(y,!!j.multiple,_e,!1):de!==!!j.multiple&&(j.defaultValue!=null?Zt(y,!!j.multiple,j.defaultValue,!0):Zt(y,!!j.multiple,j.multiple?[]:"",!1))}y[Dl]=j}catch(Te){Lt(a,a.return,Te)}}break;case 6:if(ni(o,a),Ni(a),g&4){if(a.stateNode===null)throw Error(r(162));y=a.stateNode,j=a.memoizedProps;try{y.nodeValue=j}catch(Te){Lt(a,a.return,Te)}}break;case 3:if(ni(o,a),Ni(a),g&4&&d!==null&&d.memoizedState.isDehydrated)try{_l(o.containerInfo)}catch(Te){Lt(a,a.return,Te)}break;case 4:ni(o,a),Ni(a);break;case 13:ni(o,a),Ni(a),y=a.child,y.flags&8192&&(j=y.memoizedState!==null,y.stateNode.isHidden=j,!j||y.alternate!==null&&y.alternate.memoizedState!==null||(rp=ft())),g&4&&Lb(a);break;case 22:if(fe=d!==null&&d.memoizedState!==null,a.mode&1?(Pr=(K=Pr)||fe,ni(o,a),Pr=K):ni(o,a),Ni(a),g&8192){if(K=a.memoizedState!==null,(a.stateNode.isHidden=K)&&!fe&&(a.mode&1)!==0)for(Ce=a,fe=a.child;fe!==null;){for(he=Ce=fe;Ce!==null;){switch(de=Ce,_e=de.child,de.tag){case 0:case 11:case 14:case 15:ql(4,de,de.return);break;case 1:fo(de,de.return);var Oe=de.stateNode;if(typeof Oe.componentWillUnmount=="function"){g=de,d=de.return;try{o=g,Oe.props=o.memoizedProps,Oe.state=o.memoizedState,Oe.componentWillUnmount()}catch(Te){Lt(g,d,Te)}}break;case 5:fo(de,de.return);break;case 22:if(de.memoizedState!==null){Bb(he);continue}}_e!==null?(_e.return=de,Ce=_e):Bb(he)}fe=fe.sibling}e:for(fe=null,he=a;;){if(he.tag===5){if(fe===null){fe=he;try{y=he.stateNode,K?(j=y.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(T=he.stateNode,$=he.memoizedProps.style,C=$!=null&&$.hasOwnProperty("display")?$.display:null,T.style.display=Gn("display",C))}catch(Te){Lt(a,a.return,Te)}}}else if(he.tag===6){if(fe===null)try{he.stateNode.nodeValue=K?"":he.memoizedProps}catch(Te){Lt(a,a.return,Te)}}else if((he.tag!==22&&he.tag!==23||he.memoizedState===null||he===a)&&he.child!==null){he.child.return=he,he=he.child;continue}if(he===a)break e;for(;he.sibling===null;){if(he.return===null||he.return===a)break e;fe===he&&(fe=null),he=he.return}fe===he&&(fe=null),he.sibling.return=he.return,he=he.sibling}}break;case 19:ni(o,a),Ni(a),g&4&&Lb(a);break;case 21:break;default:ni(o,a),Ni(a)}}function Ni(a){var o=a.flags;if(o&2){try{e:{for(var d=a.return;d!==null;){if(Rb(d)){var g=d;break e}d=d.return}throw Error(r(160))}switch(g.tag){case 5:var y=g.stateNode;g.flags&32&&(it(y,""),g.flags&=-33);var j=Mb(a);Zm(a,j,y);break;case 3:case 4:var C=g.stateNode.containerInfo,T=Mb(a);Xm(a,T,C);break;default:throw Error(r(161))}}catch($){Lt(a,a.return,$)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function JT(a,o,d){Ce=a,Ub(a)}function Ub(a,o,d){for(var g=(a.mode&1)!==0;Ce!==null;){var y=Ce,j=y.child;if(y.tag===22&&g){var C=y.memoizedState!==null||Ju;if(!C){var T=y.alternate,$=T!==null&&T.memoizedState!==null||Pr;T=Ju;var K=Pr;if(Ju=C,(Pr=$)&&!K)for(Ce=y;Ce!==null;)C=Ce,$=C.child,C.tag===22&&C.memoizedState!==null?Vb(y):$!==null?($.return=C,Ce=$):Vb(y);for(;j!==null;)Ce=j,Ub(j),j=j.sibling;Ce=y,Ju=T,Pr=K}zb(a)}else(y.subtreeFlags&8772)!==0&&j!==null?(j.return=y,Ce=j):zb(a)}}function zb(a){for(;Ce!==null;){var o=Ce;if((o.flags&8772)!==0){var d=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Pr||Qu(5,o);break;case 1:var g=o.stateNode;if(o.flags&4&&!Pr)if(d===null)g.componentDidMount();else{var y=o.elementType===o.type?d.memoizedProps:ti(o.type,d.memoizedProps);g.componentDidUpdate(y,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var j=o.updateQueue;j!==null&&Bw(o,j,g);break;case 3:var C=o.updateQueue;if(C!==null){if(d=null,o.child!==null)switch(o.child.tag){case 5:d=o.child.stateNode;break;case 1:d=o.child.stateNode}Bw(o,C,d)}break;case 5:var T=o.stateNode;if(d===null&&o.flags&4){d=T;var $=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&d.focus();break;case"img":$.src&&(d.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var K=o.alternate;if(K!==null){var fe=K.memoizedState;if(fe!==null){var he=fe.dehydrated;he!==null&&_l(he)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Pr||o.flags&512&&Qm(o)}catch(de){Lt(o,o.return,de)}}if(o===a){Ce=null;break}if(d=o.sibling,d!==null){d.return=o.return,Ce=d;break}Ce=o.return}}function Bb(a){for(;Ce!==null;){var o=Ce;if(o===a){Ce=null;break}var d=o.sibling;if(d!==null){d.return=o.return,Ce=d;break}Ce=o.return}}function Vb(a){for(;Ce!==null;){var o=Ce;try{switch(o.tag){case 0:case 11:case 15:var d=o.return;try{Qu(4,o)}catch($){Lt(o,d,$)}break;case 1:var g=o.stateNode;if(typeof g.componentDidMount=="function"){var y=o.return;try{g.componentDidMount()}catch($){Lt(o,y,$)}}var j=o.return;try{Qm(o)}catch($){Lt(o,j,$)}break;case 5:var C=o.return;try{Qm(o)}catch($){Lt(o,C,$)}}}catch($){Lt(o,o.return,$)}if(o===a){Ce=null;break}var T=o.sibling;if(T!==null){T.return=o.return,Ce=T;break}Ce=o.return}}var QT=Math.ceil,Xu=A.ReactCurrentDispatcher,ep=A.ReactCurrentOwner,Rn=A.ReactCurrentBatchConfig,at=0,lr=null,Kt=null,wr=0,on=0,ho=js(0),tr=0,Hl=null,la=0,Zu=0,tp=0,Kl=null,Gr=null,rp=0,mo=1/0,Ki=null,ed=!1,np=null,Os=null,td=!1,Ps=null,rd=0,Gl=0,ip=null,nd=-1,id=0;function $r(){return(at&6)!==0?ft():nd!==-1?nd:nd=ft()}function Ts(a){return(a.mode&1)===0?1:(at&2)!==0&&wr!==0?wr&-wr:DT.transition!==null?(id===0&&(id=Mx()),id):(a=ht,a!==0||(a=window.event,a=a===void 0?16:qx(a.type)),a)}function ii(a,o,d,g){if(50<Gl)throw Gl=0,ip=null,Error(r(185));yl(a,d,g),((at&2)===0||a!==lr)&&(a===lr&&((at&2)===0&&(Zu|=d),tr===4&&Is(a,wr)),Yr(a,g),d===1&&at===0&&(o.mode&1)===0&&(mo=ft()+500,Tu&&Ns()))}function Yr(a,o){var d=a.callbackNode;DP(a,o);var g=hu(a,a===lr?wr:0);if(g===0)d!==null&&bi(d),a.callbackNode=null,a.callbackPriority=0;else if(o=g&-g,a.callbackPriority!==o){if(d!=null&&bi(d),o===1)a.tag===0?IT(qb.bind(null,a)):Ow(qb.bind(null,a)),AT(function(){(at&6)===0&&Ns()}),d=null;else{switch($x(g)){case 1:d=gl;break;case 4:d=Dx;break;case 16:d=cu;break;case 536870912:d=Rx;break;default:d=cu}d=Zb(d,Wb.bind(null,a))}a.callbackPriority=o,a.callbackNode=d}}function Wb(a,o){if(nd=-1,id=0,(at&6)!==0)throw Error(r(327));var d=a.callbackNode;if(po()&&a.callbackNode!==d)return null;var g=hu(a,a===lr?wr:0);if(g===0)return null;if((g&30)!==0||(g&a.expiredLanes)!==0||o)o=sd(a,g);else{o=g;var y=at;at|=2;var j=Kb();(lr!==a||wr!==o)&&(Ki=null,mo=ft()+500,ua(a,o));do try{eI();break}catch(T){Hb(a,T)}while(!0);Sm(),Xu.current=j,at=y,Kt!==null?o=0:(lr=null,wr=0,o=tr)}if(o!==0){if(o===2&&(y=Lh(a),y!==0&&(g=y,o=sp(a,y))),o===1)throw d=Hl,ua(a,0),Is(a,g),Yr(a,ft()),d;if(o===6)Is(a,g);else{if(y=a.current.alternate,(g&30)===0&&!XT(y)&&(o=sd(a,g),o===2&&(j=Lh(a),j!==0&&(g=j,o=sp(a,j))),o===1))throw d=Hl,ua(a,0),Is(a,g),Yr(a,ft()),d;switch(a.finishedWork=y,a.finishedLanes=g,o){case 0:case 1:throw Error(r(345));case 2:da(a,Gr,Ki);break;case 3:if(Is(a,g),(g&130023424)===g&&(o=rp+500-ft(),10<o)){if(hu(a,0)!==0)break;if(y=a.suspendedLanes,(y&g)!==g){$r(),a.pingedLanes|=a.suspendedLanes&y;break}a.timeoutHandle=dm(da.bind(null,a,Gr,Ki),o);break}da(a,Gr,Ki);break;case 4:if(Is(a,g),(g&4194240)===g)break;for(o=a.eventTimes,y=-1;0<g;){var C=31-Xn(g);j=1<<C,C=o[C],C>y&&(y=C),g&=~j}if(g=y,g=ft()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*QT(g/1960))-g,10<g){a.timeoutHandle=dm(da.bind(null,a,Gr,Ki),g);break}da(a,Gr,Ki);break;case 5:da(a,Gr,Ki);break;default:throw Error(r(329))}}}return Yr(a,ft()),a.callbackNode===d?Wb.bind(null,a):null}function sp(a,o){var d=Kl;return a.current.memoizedState.isDehydrated&&(ua(a,o).flags|=256),a=sd(a,o),a!==2&&(o=Gr,Gr=d,o!==null&&ap(o)),a}function ap(a){Gr===null?Gr=a:Gr.push.apply(Gr,a)}function XT(a){for(var o=a;;){if(o.flags&16384){var d=o.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var g=0;g<d.length;g++){var y=d[g],j=y.getSnapshot;y=y.value;try{if(!Zn(j(),y))return!1}catch{return!1}}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Is(a,o){for(o&=~tp,o&=~Zu,a.suspendedLanes|=o,a.pingedLanes&=~o,a=a.expirationTimes;0<o;){var d=31-Xn(o),g=1<<d;a[d]=-1,o&=~g}}function qb(a){if((at&6)!==0)throw Error(r(327));po();var o=hu(a,0);if((o&1)===0)return Yr(a,ft()),null;var d=sd(a,o);if(a.tag!==0&&d===2){var g=Lh(a);g!==0&&(o=g,d=sp(a,g))}if(d===1)throw d=Hl,ua(a,0),Is(a,o),Yr(a,ft()),d;if(d===6)throw Error(r(345));return a.finishedWork=a.current.alternate,a.finishedLanes=o,da(a,Gr,Ki),Yr(a,ft()),null}function op(a,o){var d=at;at|=1;try{return a(o)}finally{at=d,at===0&&(mo=ft()+500,Tu&&Ns())}}function ca(a){Ps!==null&&Ps.tag===0&&(at&6)===0&&po();var o=at;at|=1;var d=Rn.transition,g=ht;try{if(Rn.transition=null,ht=1,a)return a()}finally{ht=g,Rn.transition=d,at=o,(at&6)===0&&Ns()}}function lp(){on=ho.current,Et(ho)}function ua(a,o){a.finishedWork=null,a.finishedLanes=0;var d=a.timeoutHandle;if(d!==-1&&(a.timeoutHandle=-1,CT(d)),Kt!==null)for(d=Kt.return;d!==null;){var g=d;switch(vm(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Ou();break;case 3:co(),Et(qr),Et(Cr),Om();break;case 5:Cm(g);break;case 4:co();break;case 13:Et(Rt);break;case 19:Et(Rt);break;case 10:_m(g.type._context);break;case 22:case 23:lp()}d=d.return}if(lr=a,Kt=a=Ds(a.current,null),wr=on=o,tr=0,Hl=null,tp=Zu=la=0,Gr=Kl=null,sa!==null){for(o=0;o<sa.length;o++)if(d=sa[o],g=d.interleaved,g!==null){d.interleaved=null;var y=g.next,j=d.pending;if(j!==null){var C=j.next;j.next=y,g.next=C}d.pending=g}sa=null}return a}function Hb(a,o){do{var d=Kt;try{if(Sm(),Bu.current=Hu,Vu){for(var g=Mt.memoizedState;g!==null;){var y=g.queue;y!==null&&(y.pending=null),g=g.next}Vu=!1}if(oa=0,or=er=Mt=null,Ul=!1,zl=0,ep.current=null,d===null||d.return===null){tr=1,Hl=o,Kt=null;break}e:{var j=a,C=d.return,T=d,$=o;if(o=wr,T.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var K=$,fe=T,he=fe.tag;if((fe.mode&1)===0&&(he===0||he===11||he===15)){var de=fe.alternate;de?(fe.updateQueue=de.updateQueue,fe.memoizedState=de.memoizedState,fe.lanes=de.lanes):(fe.updateQueue=null,fe.memoizedState=null)}var _e=vb(C);if(_e!==null){_e.flags&=-257,yb(_e,C,T,j,o),_e.mode&1&&gb(j,K,o),o=_e,$=K;var Oe=o.updateQueue;if(Oe===null){var Te=new Set;Te.add($),o.updateQueue=Te}else Oe.add($);break e}else{if((o&1)===0){gb(j,K,o),cp();break e}$=Error(r(426))}}else if(Tt&&T.mode&1){var Bt=vb(C);if(Bt!==null){(Bt.flags&65536)===0&&(Bt.flags|=256),yb(Bt,C,T,j,o),wm(uo($,T));break e}}j=$=uo($,T),tr!==4&&(tr=2),Kl===null?Kl=[j]:Kl.push(j),j=C;do{switch(j.tag){case 3:j.flags|=65536,o&=-o,j.lanes|=o;var B=mb(j,$,o);zw(j,B);break e;case 1:T=$;var F=j.type,q=j.stateNode;if((j.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Os===null||!Os.has(q)))){j.flags|=65536,o&=-o,j.lanes|=o;var me=pb(j,T,o);zw(j,me);break e}}j=j.return}while(j!==null)}Yb(d)}catch(Ie){o=Ie,Kt===d&&d!==null&&(Kt=d=d.return);continue}break}while(!0)}function Kb(){var a=Xu.current;return Xu.current=Hu,a===null?Hu:a}function cp(){(tr===0||tr===3||tr===2)&&(tr=4),lr===null||(la&268435455)===0&&(Zu&268435455)===0||Is(lr,wr)}function sd(a,o){var d=at;at|=2;var g=Kb();(lr!==a||wr!==o)&&(Ki=null,ua(a,o));do try{ZT();break}catch(y){Hb(a,y)}while(!0);if(Sm(),at=d,Xu.current=g,Kt!==null)throw Error(r(261));return lr=null,wr=0,tr}function ZT(){for(;Kt!==null;)Gb(Kt)}function eI(){for(;Kt!==null&&!pl();)Gb(Kt)}function Gb(a){var o=Xb(a.alternate,a,on);a.memoizedProps=a.pendingProps,o===null?Yb(a):Kt=o,ep.current=null}function Yb(a){var o=a;do{var d=o.alternate;if(a=o.return,(o.flags&32768)===0){if(d=HT(d,o,on),d!==null){Kt=d;return}}else{if(d=KT(d,o),d!==null){d.flags&=32767,Kt=d;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{tr=6,Kt=null;return}}if(o=o.sibling,o!==null){Kt=o;return}Kt=o=a}while(o!==null);tr===0&&(tr=5)}function da(a,o,d){var g=ht,y=Rn.transition;try{Rn.transition=null,ht=1,tI(a,o,d,g)}finally{Rn.transition=y,ht=g}return null}function tI(a,o,d,g){do po();while(Ps!==null);if((at&6)!==0)throw Error(r(327));d=a.finishedWork;var y=a.finishedLanes;if(d===null)return null;if(a.finishedWork=null,a.finishedLanes=0,d===a.current)throw Error(r(177));a.callbackNode=null,a.callbackPriority=0;var j=d.lanes|d.childLanes;if(RP(a,j),a===lr&&(Kt=lr=null,wr=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||td||(td=!0,Zb(cu,function(){return po(),null})),j=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||j){j=Rn.transition,Rn.transition=null;var C=ht;ht=1;var T=at;at|=4,ep.current=null,YT(a,d),Fb(d,a),bT(cm),gu=!!lm,cm=lm=null,a.current=d,JT(d),lu(),at=T,ht=C,Rn.transition=j}else a.current=d;if(td&&(td=!1,Ps=a,rd=y),j=a.pendingLanes,j===0&&(Os=null),AP(d.stateNode),Yr(a,ft()),o!==null)for(g=a.onRecoverableError,d=0;d<o.length;d++)y=o[d],g(y.value,{componentStack:y.stack,digest:y.digest});if(ed)throw ed=!1,a=np,np=null,a;return(rd&1)!==0&&a.tag!==0&&po(),j=a.pendingLanes,(j&1)!==0?a===ip?Gl++:(Gl=0,ip=a):Gl=0,Ns(),null}function po(){if(Ps!==null){var a=$x(rd),o=Rn.transition,d=ht;try{if(Rn.transition=null,ht=16>a?16:a,Ps===null)var g=!1;else{if(a=Ps,Ps=null,rd=0,(at&6)!==0)throw Error(r(331));var y=at;for(at|=4,Ce=a.current;Ce!==null;){var j=Ce,C=j.child;if((Ce.flags&16)!==0){var T=j.deletions;if(T!==null){for(var $=0;$<T.length;$++){var K=T[$];for(Ce=K;Ce!==null;){var fe=Ce;switch(fe.tag){case 0:case 11:case 15:ql(8,fe,j)}var he=fe.child;if(he!==null)he.return=fe,Ce=he;else for(;Ce!==null;){fe=Ce;var de=fe.sibling,_e=fe.return;if(Db(fe),fe===K){Ce=null;break}if(de!==null){de.return=_e,Ce=de;break}Ce=_e}}}var Oe=j.alternate;if(Oe!==null){var Te=Oe.child;if(Te!==null){Oe.child=null;do{var Bt=Te.sibling;Te.sibling=null,Te=Bt}while(Te!==null)}}Ce=j}}if((j.subtreeFlags&2064)!==0&&C!==null)C.return=j,Ce=C;else e:for(;Ce!==null;){if(j=Ce,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:ql(9,j,j.return)}var B=j.sibling;if(B!==null){B.return=j.return,Ce=B;break e}Ce=j.return}}var F=a.current;for(Ce=F;Ce!==null;){C=Ce;var q=C.child;if((C.subtreeFlags&2064)!==0&&q!==null)q.return=C,Ce=q;else e:for(C=F;Ce!==null;){if(T=Ce,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:Qu(9,T)}}catch(Ie){Lt(T,T.return,Ie)}if(T===C){Ce=null;break e}var me=T.sibling;if(me!==null){me.return=T.return,Ce=me;break e}Ce=T.return}}if(at=y,Ns(),Si&&typeof Si.onPostCommitFiberRoot=="function")try{Si.onPostCommitFiberRoot(uu,a)}catch{}g=!0}return g}finally{ht=d,Rn.transition=o}}return!1}function Jb(a,o,d){o=uo(d,o),o=mb(a,o,1),a=Cs(a,o,1),o=$r(),a!==null&&(yl(a,1,o),Yr(a,o))}function Lt(a,o,d){if(a.tag===3)Jb(a,a,d);else for(;o!==null;){if(o.tag===3){Jb(o,a,d);break}else if(o.tag===1){var g=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Os===null||!Os.has(g))){a=uo(d,a),a=pb(o,a,1),o=Cs(o,a,1),a=$r(),o!==null&&(yl(o,1,a),Yr(o,a));break}}o=o.return}}function rI(a,o,d){var g=a.pingCache;g!==null&&g.delete(o),o=$r(),a.pingedLanes|=a.suspendedLanes&d,lr===a&&(wr&d)===d&&(tr===4||tr===3&&(wr&130023424)===wr&&500>ft()-rp?ua(a,0):tp|=d),Yr(a,o)}function Qb(a,o){o===0&&((a.mode&1)===0?o=1:(o=fu,fu<<=1,(fu&130023424)===0&&(fu=4194304)));var d=$r();a=Wi(a,o),a!==null&&(yl(a,o,d),Yr(a,d))}function nI(a){var o=a.memoizedState,d=0;o!==null&&(d=o.retryLane),Qb(a,d)}function iI(a,o){var d=0;switch(a.tag){case 13:var g=a.stateNode,y=a.memoizedState;y!==null&&(d=y.retryLane);break;case 19:g=a.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(o),Qb(a,d)}var Xb;Xb=function(a,o,d){if(a!==null)if(a.memoizedProps!==o.pendingProps||qr.current)Kr=!0;else{if((a.lanes&d)===0&&(o.flags&128)===0)return Kr=!1,qT(a,o,d);Kr=(a.flags&131072)!==0}else Kr=!1,Tt&&(o.flags&1048576)!==0&&Pw(o,Du,o.index);switch(o.lanes=0,o.tag){case 2:var g=o.type;Yu(a,o),a=o.pendingProps;var y=ro(o,Cr.current);lo(o,d),y=Im(null,o,g,a,y,d);var j=Dm();return o.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Hr(g)?(j=!0,Pu(o)):j=!1,o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Nm(o),y.updater=Ku,o.stateNode=y,y._reactInternals=o,Um(o,g,a,d),o=Wm(null,o,g,!0,j,d)):(o.tag=0,Tt&&j&&gm(o),Mr(null,o,y,d),o=o.child),o;case 16:g=o.elementType;e:{switch(Yu(a,o),a=o.pendingProps,y=g._init,g=y(g._payload),o.type=g,y=o.tag=aI(g),a=ti(g,a),y){case 0:o=Vm(null,o,g,a,d);break e;case 1:o=jb(null,o,g,a,d);break e;case 11:o=xb(null,o,g,a,d);break e;case 14:o=wb(null,o,g,ti(g.type,a),d);break e}throw Error(r(306,g,""))}return o;case 0:return g=o.type,y=o.pendingProps,y=o.elementType===g?y:ti(g,y),Vm(a,o,g,y,d);case 1:return g=o.type,y=o.pendingProps,y=o.elementType===g?y:ti(g,y),jb(a,o,g,y,d);case 3:e:{if(kb(o),a===null)throw Error(r(387));g=o.pendingProps,j=o.memoizedState,y=j.element,Uw(a,o),Uu(o,g,null,d);var C=o.memoizedState;if(g=C.element,j.isDehydrated)if(j={element:g,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},o.updateQueue.baseState=j,o.memoizedState=j,o.flags&256){y=uo(Error(r(423)),o),o=Nb(a,o,g,d,y);break e}else if(g!==y){y=uo(Error(r(424)),o),o=Nb(a,o,g,d,y);break e}else for(an=_s(o.stateNode.containerInfo.firstChild),sn=o,Tt=!0,ei=null,d=Lw(o,null,g,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(so(),g===y){o=Hi(a,o,d);break e}Mr(a,o,g,d)}o=o.child}return o;case 5:return Vw(o),a===null&&xm(o),g=o.type,y=o.pendingProps,j=a!==null?a.memoizedProps:null,C=y.children,um(g,y)?C=null:j!==null&&um(g,j)&&(o.flags|=32),_b(a,o),Mr(a,o,C,d),o.child;case 6:return a===null&&xm(o),null;case 13:return Eb(a,o,d);case 4:return Em(o,o.stateNode.containerInfo),g=o.pendingProps,a===null?o.child=ao(o,null,g,d):Mr(a,o,g,d),o.child;case 11:return g=o.type,y=o.pendingProps,y=o.elementType===g?y:ti(g,y),xb(a,o,g,y,d);case 7:return Mr(a,o,o.pendingProps,d),o.child;case 8:return Mr(a,o,o.pendingProps.children,d),o.child;case 12:return Mr(a,o,o.pendingProps.children,d),o.child;case 10:e:{if(g=o.type._context,y=o.pendingProps,j=o.memoizedProps,C=y.value,St($u,g._currentValue),g._currentValue=C,j!==null)if(Zn(j.value,C)){if(j.children===y.children&&!qr.current){o=Hi(a,o,d);break e}}else for(j=o.child,j!==null&&(j.return=o);j!==null;){var T=j.dependencies;if(T!==null){C=j.child;for(var $=T.firstContext;$!==null;){if($.context===g){if(j.tag===1){$=qi(-1,d&-d),$.tag=2;var K=j.updateQueue;if(K!==null){K=K.shared;var fe=K.pending;fe===null?$.next=$:($.next=fe.next,fe.next=$),K.pending=$}}j.lanes|=d,$=j.alternate,$!==null&&($.lanes|=d),jm(j.return,d,o),T.lanes|=d;break}$=$.next}}else if(j.tag===10)C=j.type===o.type?null:j.child;else if(j.tag===18){if(C=j.return,C===null)throw Error(r(341));C.lanes|=d,T=C.alternate,T!==null&&(T.lanes|=d),jm(C,d,o),C=j.sibling}else C=j.child;if(C!==null)C.return=j;else for(C=j;C!==null;){if(C===o){C=null;break}if(j=C.sibling,j!==null){j.return=C.return,C=j;break}C=C.return}j=C}Mr(a,o,y.children,d),o=o.child}return o;case 9:return y=o.type,g=o.pendingProps.children,lo(o,d),y=In(y),g=g(y),o.flags|=1,Mr(a,o,g,d),o.child;case 14:return g=o.type,y=ti(g,o.pendingProps),y=ti(g.type,y),wb(a,o,g,y,d);case 15:return bb(a,o,o.type,o.pendingProps,d);case 17:return g=o.type,y=o.pendingProps,y=o.elementType===g?y:ti(g,y),Yu(a,o),o.tag=1,Hr(g)?(a=!0,Pu(o)):a=!1,lo(o,d),fb(o,g,y),Um(o,g,y,d),Wm(null,o,g,!0,a,d);case 19:return Ab(a,o,d);case 22:return Sb(a,o,d)}throw Error(r(156,o.tag))};function Zb(a,o){return ml(a,o)}function sI(a,o,d,g){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(a,o,d,g){return new sI(a,o,d,g)}function up(a){return a=a.prototype,!(!a||!a.isReactComponent)}function aI(a){if(typeof a=="function")return up(a)?1:0;if(a!=null){if(a=a.$$typeof,a===V)return 11;if(a===ae)return 14}return 2}function Ds(a,o){var d=a.alternate;return d===null?(d=Mn(a.tag,o,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=o,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&14680064,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,o=a.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d}function ad(a,o,d,g,y,j){var C=2;if(g=a,typeof a=="function")up(a)&&(C=1);else if(typeof a=="string")C=5;else e:switch(a){case L:return fa(d.children,y,j,o);case G:C=8,y|=8;break;case W:return a=Mn(12,d,o,y|2),a.elementType=W,a.lanes=j,a;case ee:return a=Mn(13,d,o,y),a.elementType=ee,a.lanes=j,a;case X:return a=Mn(19,d,o,y),a.elementType=X,a.lanes=j,a;case ye:return od(d,y,j,o);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case U:C=10;break e;case z:C=9;break e;case V:C=11;break e;case ae:C=14;break e;case xe:C=16,g=null;break e}throw Error(r(130,a==null?a:typeof a,""))}return o=Mn(C,d,o,y),o.elementType=a,o.type=g,o.lanes=j,o}function fa(a,o,d,g){return a=Mn(7,a,g,o),a.lanes=d,a}function od(a,o,d,g){return a=Mn(22,a,g,o),a.elementType=ye,a.lanes=d,a.stateNode={isHidden:!1},a}function dp(a,o,d){return a=Mn(6,a,null,o),a.lanes=d,a}function fp(a,o,d){return o=Mn(4,a.children!==null?a.children:[],a.key,o),o.lanes=d,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}function oI(a,o,d,g,y){this.tag=o,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fh(0),this.expirationTimes=Fh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fh(0),this.identifierPrefix=g,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function hp(a,o,d,g,y,j,C,T,$){return a=new oI(a,o,d,T,$),o===1?(o=1,j===!0&&(o|=8)):o=0,j=Mn(3,null,null,o),a.current=j,j.stateNode=a,j.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nm(j),a}function lI(a,o,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:g==null?null:""+g,children:a,containerInfo:o,implementation:d}}function e1(a){if(!a)return ks;a=a._reactInternals;e:{if(Ge(a)!==a||a.tag!==1)throw Error(r(170));var o=a;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Hr(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(r(171))}if(a.tag===1){var d=a.type;if(Hr(d))return Cw(a,d,o)}return o}function t1(a,o,d,g,y,j,C,T,$){return a=hp(d,g,!0,a,y,j,C,T,$),a.context=e1(null),d=a.current,g=$r(),y=Ts(d),j=qi(g,y),j.callback=o??null,Cs(d,j,y),a.current.lanes=y,yl(a,y,g),Yr(a,g),a}function ld(a,o,d,g){var y=o.current,j=$r(),C=Ts(y);return d=e1(d),o.context===null?o.context=d:o.pendingContext=d,o=qi(j,C),o.payload={element:a},g=g===void 0?null:g,g!==null&&(o.callback=g),a=Cs(y,o,C),a!==null&&(ii(a,y,C,j),Fu(a,y,C)),C}function cd(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function r1(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<o?d:o}}function mp(a,o){r1(a,o),(a=a.alternate)&&r1(a,o)}function cI(){return null}var n1=typeof reportError=="function"?reportError:function(a){console.error(a)};function pp(a){this._internalRoot=a}ud.prototype.render=pp.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));ld(a,o,null,null)},ud.prototype.unmount=pp.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;ca(function(){ld(null,a,null,null)}),o[Ui]=null}};function ud(a){this._internalRoot=a}ud.prototype.unstable_scheduleHydration=function(a){if(a){var o=Ux();a={blockedOn:null,target:a,priority:o};for(var d=0;d<ws.length&&o!==0&&o<ws[d].priority;d++);ws.splice(d,0,a),d===0&&Vx(a)}};function gp(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function dd(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function i1(){}function uI(a,o,d,g,y){if(y){if(typeof g=="function"){var j=g;g=function(){var K=cd(C);j.call(K)}}var C=t1(o,g,a,0,null,!1,!1,"",i1);return a._reactRootContainer=C,a[Ui]=C.current,Tl(a.nodeType===8?a.parentNode:a),ca(),C}for(;y=a.lastChild;)a.removeChild(y);if(typeof g=="function"){var T=g;g=function(){var K=cd($);T.call(K)}}var $=hp(a,0,!1,null,null,!1,!1,"",i1);return a._reactRootContainer=$,a[Ui]=$.current,Tl(a.nodeType===8?a.parentNode:a),ca(function(){ld(o,$,d,g)}),$}function fd(a,o,d,g,y){var j=d._reactRootContainer;if(j){var C=j;if(typeof y=="function"){var T=y;y=function(){var $=cd(C);T.call($)}}ld(o,C,a,y)}else C=uI(d,o,a,y,g);return cd(C)}Lx=function(a){switch(a.tag){case 3:var o=a.stateNode;if(o.current.memoizedState.isDehydrated){var d=vl(o.pendingLanes);d!==0&&(Uh(o,d|1),Yr(o,ft()),(at&6)===0&&(mo=ft()+500,Ns()))}break;case 13:ca(function(){var g=Wi(a,1);if(g!==null){var y=$r();ii(g,a,1,y)}}),mp(a,1)}},zh=function(a){if(a.tag===13){var o=Wi(a,134217728);if(o!==null){var d=$r();ii(o,a,134217728,d)}mp(a,134217728)}},Fx=function(a){if(a.tag===13){var o=Ts(a),d=Wi(a,o);if(d!==null){var g=$r();ii(d,a,o,g)}mp(a,o)}},Ux=function(){return ht},zx=function(a,o){var d=ht;try{return ht=a,o()}finally{ht=d}},En=function(a,o,d){switch(o){case"input":if(Ft(a,d),o=d.name,d.type==="radio"&&o!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<d.length;o++){var g=d[o];if(g!==a&&g.form===a.form){var y=Au(g);if(!y)throw Error(r(90));Z(g),Ft(g,y)}}}break;case"textarea":Q(a,d);break;case"select":o=d.value,o!=null&&Zt(a,!!d.multiple,o,!1)}},qe=op,Le=ca;var dI={usingClientEntryPoint:!1,Events:[Rl,eo,Au,we,Ke,op]},Yl={findFiberByHostInstance:ta,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fI={bundleType:Yl.bundleType,version:Yl.version,rendererPackageName:Yl.rendererPackageName,rendererConfig:Yl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=yr(a),a===null?null:a.stateNode},findFiberByHostInstance:Yl.findFiberByHostInstance||cI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hd.isDisabled&&hd.supportsFiber)try{uu=hd.inject(fI),Si=hd}catch{}}return Jr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dI,Jr.createPortal=function(a,o){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gp(o))throw Error(r(200));return lI(a,o,null,d)},Jr.createRoot=function(a,o){if(!gp(a))throw Error(r(299));var d=!1,g="",y=n1;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),o=hp(a,1,!1,null,null,d,!1,g,y),a[Ui]=o.current,Tl(a.nodeType===8?a.parentNode:a),new pp(o)},Jr.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=yr(o),a=a===null?null:a.stateNode,a},Jr.flushSync=function(a){return ca(a)},Jr.hydrate=function(a,o,d){if(!dd(o))throw Error(r(200));return fd(null,a,o,!0,d)},Jr.hydrateRoot=function(a,o,d){if(!gp(a))throw Error(r(405));var g=d!=null&&d.hydratedSources||null,y=!1,j="",C=n1;if(d!=null&&(d.unstable_strictMode===!0&&(y=!0),d.identifierPrefix!==void 0&&(j=d.identifierPrefix),d.onRecoverableError!==void 0&&(C=d.onRecoverableError)),o=t1(o,null,a,1,d??null,y,!1,j,C),a[Ui]=o.current,Tl(a),g)for(a=0;a<g.length;a++)d=g[a],y=d._getVersion,y=y(d._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[d,y]:o.mutableSourceEagerHydrationData.push(d,y);return new ud(o)},Jr.render=function(a,o,d){if(!dd(o))throw Error(r(200));return fd(null,a,o,!1,d)},Jr.unmountComponentAtNode=function(a){if(!dd(a))throw Error(r(40));return a._reactRootContainer?(ca(function(){fd(null,null,a,!1,function(){a._reactRootContainer=null,a[Ui]=null})}),!0):!1},Jr.unstable_batchedUpdates=op,Jr.unstable_renderSubtreeIntoContainer=function(a,o,d,g){if(!dd(d))throw Error(r(200));if(a==null||a._reactInternals===void 0)throw Error(r(38));return fd(a,o,d,!1,g)},Jr.version="18.3.1-next-f1338f8080-20240426",Jr}var f1;function RN(){if(f1)return wp.exports;f1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),wp.exports=jI(),wp.exports}var h1;function kI(){if(h1)return md;h1=1;var e=RN();return md.createRoot=e.createRoot,md.hydrateRoot=e.hydrateRoot,md}var NI=kI();const EI=mi(NI);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var m1="popstate";function CI(e={}){function t(n,i){let{pathname:s,search:l,hash:u}=n.location;return jv("",{pathname:s,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:_c(i)}return OI(t,r,null,e)}function Dt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Vn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function AI(){return Math.random().toString(36).substring(2,10)}function p1(e,t){return{usr:e.state,key:e.key,idx:t}}function jv(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Qo(t):t,state:r,key:t&&t.key||n||AI()}}function _c({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Qo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function OI(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,l=i.history,u="POP",f=null,m=h();m==null&&(m=0,l.replaceState({...l.state,idx:m},""));function h(){return(l.state||{idx:null}).idx}function p(){u="POP";let x=h(),k=x==null?null:x-m;m=x,f&&f({action:u,location:b.location,delta:k})}function v(x,k){u="PUSH";let N=jv(b.location,x,k);m=h()+1;let E=p1(N,m),A=b.createHref(N);try{l.pushState(E,"",A)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(A)}s&&f&&f({action:u,location:b.location,delta:1})}function w(x,k){u="REPLACE";let N=jv(b.location,x,k);m=h();let E=p1(N,m),A=b.createHref(N);l.replaceState(E,"",A),s&&f&&f({action:u,location:b.location,delta:0})}function _(x){return PI(x)}let b={get action(){return u},get location(){return e(i,l)},listen(x){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(m1,p),f=x,()=>{i.removeEventListener(m1,p),f=null}},createHref(x){return t(i,x)},createURL:_,encodeLocation(x){let k=_(x);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:v,replace:w,go(x){return l.go(x)}};return b}function PI(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Dt(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:_c(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function MN(e,t,r="/"){return TI(e,t,r,!1)}function TI(e,t,r,n){let i=typeof t=="string"?Qo(t):t,s=is(i.pathname||"/",r);if(s==null)return null;let l=$N(e);II(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let m=WI(s);u=BI(l[f],m,n)}return u}function $N(e,t=[],r=[],n="",i=!1){let s=(l,u,f=i,m)=>{let h={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(n)&&f)return;Dt(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length)}let p=ts([n,h.relativePath]),v=r.concat(h);l.children&&l.children.length>0&&(Dt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),$N(l.children,t,v,p,f)),!(l.path==null&&!l.index)&&t.push({path:p,score:UI(p,l.index),routesMeta:v})};return e.forEach((l,u)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))s(l,u);else for(let m of LN(l.path))s(l,u,!0,m)}),t}function LN(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let l=LN(n.join("/")),u=[];return u.push(...l.map(f=>f===""?s:[s,f].join("/"))),i&&u.push(...l),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function II(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:zI(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var DI=/^:[\w-]+$/,RI=3,MI=2,$I=1,LI=10,FI=-2,g1=e=>e==="*";function UI(e,t){let r=e.split("/"),n=r.length;return r.some(g1)&&(n+=FI),t&&(n+=MI),r.filter(i=>!g1(i)).reduce((i,s)=>i+(DI.test(s)?RI:s===""?$I:LI),n)}function zI(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function BI(e,t,r=!1){let{routesMeta:n}=e,i={},s="/",l=[];for(let u=0;u<n.length;++u){let f=n[u],m=u===n.length-1,h=s==="/"?t:t.slice(s.length)||"/",p=Yd({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},h),v=f.route;if(!p&&m&&r&&!n[n.length-1].route.index&&(p=Yd({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),l.push({params:i,pathname:ts([s,p.pathname]),pathnameBase:GI(ts([s,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(s=ts([s,p.pathnameBase]))}return l}function Yd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=VI(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((m,{paramName:h,isOptional:p},v)=>{if(h==="*"){let _=u[v]||"";l=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const w=u[v];return p&&!w?m[h]=void 0:m[h]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:s,pathnameBase:l,pattern:e}}function VI(e,t=!1,r=!0){Vn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(n.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function WI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Vn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function is(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function qI(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Qo(e):e;return{pathname:r?r.startsWith("/")?r:HI(r,t):t,search:YI(n),hash:JI(i)}}function HI(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function _p(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KI(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function $y(e){let t=KI(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Ly(e,t,r,n=!1){let i;typeof e=="string"?i=Qo(e):(i={...e},Dt(!i.pathname||!i.pathname.includes("?"),_p("?","pathname","search",i)),Dt(!i.pathname||!i.pathname.includes("#"),_p("#","pathname","hash",i)),Dt(!i.search||!i.search.includes("#"),_p("#","search","hash",i)));let s=e===""||i.pathname==="",l=s?"/":i.pathname,u;if(l==null)u=r;else{let p=t.length-1;if(!n&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),p-=1;i.pathname=v.join("/")}u=p>=0?t[p]:"/"}let f=qI(i,u),m=l&&l!=="/"&&l.endsWith("/"),h=(s||l===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(m||h)&&(f.pathname+="/"),f}var ts=e=>e.join("/").replace(/\/\/+/g,"/"),GI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),YI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,JI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function QI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var FN=["POST","PUT","PATCH","DELETE"];new Set(FN);var XI=["GET",...FN];new Set(XI);var Xo=S.createContext(null);Xo.displayName="DataRouter";var Jf=S.createContext(null);Jf.displayName="DataRouterState";S.createContext(!1);var UN=S.createContext({isTransitioning:!1});UN.displayName="ViewTransition";var ZI=S.createContext(new Map);ZI.displayName="Fetchers";var e4=S.createContext(null);e4.displayName="Await";var pi=S.createContext(null);pi.displayName="Navigation";var Lc=S.createContext(null);Lc.displayName="Location";var $i=S.createContext({outlet:null,matches:[],isDataRoute:!1});$i.displayName="Route";var Fy=S.createContext(null);Fy.displayName="RouteError";function t4(e,{relative:t}={}){Dt(Zo(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=S.useContext(pi),{hash:i,pathname:s,search:l}=Fc(e,{relative:t}),u=s;return r!=="/"&&(u=s==="/"?r:ts([r,s])),n.createHref({pathname:u,search:l,hash:i})}function Zo(){return S.useContext(Lc)!=null}function cs(){return Dt(Zo(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Lc).location}var zN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function BN(e){S.useContext(pi).static||S.useLayoutEffect(e)}function Sn(){let{isDataRoute:e}=S.useContext($i);return e?m4():r4()}function r4(){Dt(Zo(),"useNavigate() may be used only in the context of a <Router> component.");let e=S.useContext(Xo),{basename:t,navigator:r}=S.useContext(pi),{matches:n}=S.useContext($i),{pathname:i}=cs(),s=JSON.stringify($y(n)),l=S.useRef(!1);return BN(()=>{l.current=!0}),S.useCallback((f,m={})=>{if(Vn(l.current,zN),!l.current)return;if(typeof f=="number"){r.go(f);return}let h=Ly(f,JSON.parse(s),i,m.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ts([t,h.pathname])),(m.replace?r.replace:r.push)(h,m.state,m)},[t,r,s,i,e])}S.createContext(null);function Fc(e,{relative:t}={}){let{matches:r}=S.useContext($i),{pathname:n}=cs(),i=JSON.stringify($y(r));return S.useMemo(()=>Ly(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function n4(e,t){return VN(e,t)}function VN(e,t,r,n,i){var N;Dt(Zo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=S.useContext(pi),{matches:l}=S.useContext($i),u=l[l.length-1],f=u?u.params:{},m=u?u.pathname:"/",h=u?u.pathnameBase:"/",p=u&&u.route;{let E=p&&p.path||"";WN(m,!p||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let v=cs(),w;if(t){let E=typeof t=="string"?Qo(t):t;Dt(h==="/"||((N=E.pathname)==null?void 0:N.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${E.pathname}" was given in the \`location\` prop.`),w=E}else w=v;let _=w.pathname||"/",b=_;if(h!=="/"){let E=h.replace(/^\//,"").split("/");b="/"+_.replace(/^\//,"").split("/").slice(E.length).join("/")}let x=MN(e,{pathname:b});Vn(p||x!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Vn(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=l4(x&&x.map(E=>Object.assign({},E,{params:Object.assign({},f,E.params),pathname:ts([h,s.encodeLocation?s.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:ts([h,s.encodeLocation?s.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),l,r,n,i);return t&&k?S.createElement(Lc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},k):k}function i4(){let e=h4(),t=QI(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:s},"ErrorBoundary")," or"," ",S.createElement("code",{style:s},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),r?S.createElement("pre",{style:i},r):null,l)}var s4=S.createElement(i4,null),a4=class extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?S.createElement($i.Provider,{value:this.props.routeContext},S.createElement(Fy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function o4({routeContext:e,match:t,children:r}){let n=S.useContext(Xo);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement($i.Provider,{value:e},r)}function l4(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,l=r==null?void 0:r.errors;if(l!=null){let m=s.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);Dt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,m+1))}let u=!1,f=-1;if(r)for(let m=0;m<s.length;m++){let h=s[m];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(f=m),h.route.id){let{loaderData:p,errors:v}=r,w=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||w){u=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((m,h,p)=>{let v,w=!1,_=null,b=null;r&&(v=l&&h.route.id?l[h.route.id]:void 0,_=h.route.errorElement||s4,u&&(f<0&&p===0?(WN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,b=null):f===p&&(w=!0,b=h.route.hydrateFallbackElement||null)));let x=t.concat(s.slice(0,p+1)),k=()=>{let N;return v?N=_:w?N=b:h.route.Component?N=S.createElement(h.route.Component,null):h.route.element?N=h.route.element:N=m,S.createElement(o4,{match:h,routeContext:{outlet:m,matches:x,isDataRoute:r!=null},children:N})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?S.createElement(a4,{location:r.location,revalidation:r.revalidation,component:_,error:v,children:k(),routeContext:{outlet:null,matches:x,isDataRoute:!0},unstable_onError:n}):k()},null)}function Uy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function c4(e){let t=S.useContext(Xo);return Dt(t,Uy(e)),t}function u4(e){let t=S.useContext(Jf);return Dt(t,Uy(e)),t}function d4(e){let t=S.useContext($i);return Dt(t,Uy(e)),t}function zy(e){let t=d4(e),r=t.matches[t.matches.length-1];return Dt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function f4(){return zy("useRouteId")}function h4(){var n;let e=S.useContext(Fy),t=u4("useRouteError"),r=zy("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function m4(){let{router:e}=c4("useNavigate"),t=zy("useNavigate"),r=S.useRef(!1);return BN(()=>{r.current=!0}),S.useCallback(async(i,s={})=>{Vn(r.current,zN),r.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var v1={};function WN(e,t,r){!t&&!v1[e]&&(v1[e]=!0,Vn(!1,r))}S.memo(p4);function p4({routes:e,future:t,state:r,unstable_onError:n}){return VN(e,void 0,r,n,t)}function g4({to:e,replace:t,state:r,relative:n}){Dt(Zo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=S.useContext(pi);Vn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=S.useContext($i),{pathname:l}=cs(),u=Sn(),f=Ly(e,$y(s),l,n==="path"),m=JSON.stringify(f);return S.useEffect(()=>{u(JSON.parse(m),{replace:t,state:r,relative:n})},[u,m,n,t,r]),null}function ln(e){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function v4({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:s=!1}){Dt(!Zo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:l,navigator:i,static:s,future:{}}),[l,i,s]);typeof r=="string"&&(r=Qo(r));let{pathname:f="/",search:m="",hash:h="",state:p=null,key:v="default"}=r,w=S.useMemo(()=>{let _=is(f,l);return _==null?null:{location:{pathname:_,search:m,hash:h,state:p,key:v},navigationType:n}},[l,f,m,h,p,v,n]);return Vn(w!=null,`<Router basename="${l}"> is not able to match the URL "${f}${m}${h}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:S.createElement(pi.Provider,{value:u},S.createElement(Lc.Provider,{children:t,value:w}))}function y4({children:e,location:t}){return n4(kv(e),t)}function kv(e,t=[]){let r=[];return S.Children.forEach(e,(n,i)=>{if(!S.isValidElement(n))return;let s=[...t,i];if(n.type===S.Fragment){r.push.apply(r,kv(n.props.children,s));return}Dt(n.type===ln,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=kv(n.props.children,s)),r.push(l)}),r}var Fd="get",Ud="application/x-www-form-urlencoded";function Qf(e){return e!=null&&typeof e.tagName=="string"}function x4(e){return Qf(e)&&e.tagName.toLowerCase()==="button"}function w4(e){return Qf(e)&&e.tagName.toLowerCase()==="form"}function b4(e){return Qf(e)&&e.tagName.toLowerCase()==="input"}function S4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function _4(e,t){return e.button===0&&(!t||t==="_self")&&!S4(e)}function Nv(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function j4(e,t){let r=Nv(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(s=>{r.append(i,s)})}),r}var pd=null;function k4(){if(pd===null)try{new FormData(document.createElement("form"),0),pd=!1}catch{pd=!0}return pd}var N4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jp(e){return e!=null&&!N4.has(e)?(Vn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ud}"`),null):e}function E4(e,t){let r,n,i,s,l;if(w4(e)){let u=e.getAttribute("action");n=u?is(u,t):null,r=e.getAttribute("method")||Fd,i=jp(e.getAttribute("enctype"))||Ud,s=new FormData(e)}else if(x4(e)||b4(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||u.getAttribute("action");if(n=f?is(f,t):null,r=e.getAttribute("formmethod")||u.getAttribute("method")||Fd,i=jp(e.getAttribute("formenctype"))||jp(u.getAttribute("enctype"))||Ud,s=new FormData(u,e),!k4()){let{name:m,type:h,value:p}=e;if(h==="image"){let v=m?`${m}.`:"";s.append(`${v}x`,"0"),s.append(`${v}y`,"0")}else m&&s.append(m,p)}}else{if(Qf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Fd,n=null,i=Ud,l=e}return s&&i==="text/plain"&&(l=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function By(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function C4(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&is(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function A4(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function O4(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function P4(e,t,r){let n=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let l=await A4(s,r);return l.links?l.links():[]}return[]}));return R4(n.flat(1).filter(O4).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function y1(e,t,r,n,i,s){let l=(f,m)=>r[m]?f.route.id!==r[m].route.id:!0,u=(f,m)=>{var h;return r[m].pathname!==f.pathname||((h=r[m].route.path)==null?void 0:h.endsWith("*"))&&r[m].params["*"]!==f.params["*"]};return s==="assets"?t.filter((f,m)=>l(f,m)||u(f,m)):s==="data"?t.filter((f,m)=>{var p;let h=n.routes[f.route.id];if(!h||!h.hasLoader)return!1;if(l(f,m)||u(f,m))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=r[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function T4(e,t,{includeHydrateFallback:r}={}){return I4(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function I4(e){return[...new Set(e)]}function D4(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function R4(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let s=JSON.stringify(D4(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function qN(){let e=S.useContext(Xo);return By(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function M4(){let e=S.useContext(Jf);return By(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Vy=S.createContext(void 0);Vy.displayName="FrameworkContext";function HN(){let e=S.useContext(Vy);return By(e,"You must render this element inside a <HydratedRouter> element"),e}function $4(e,t){let r=S.useContext(Vy),[n,i]=S.useState(!1),[s,l]=S.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:m,onMouseLeave:h,onTouchStart:p}=t,v=S.useRef(null);S.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let b=k=>{k.forEach(N=>{l(N.isIntersecting)})},x=new IntersectionObserver(b,{threshold:.5});return v.current&&x.observe(v.current),()=>{x.disconnect()}}},[e]),S.useEffect(()=>{if(n){let b=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(b)}}},[n]);let w=()=>{i(!0)},_=()=>{i(!1),l(!1)};return r?e!=="intent"?[s,v,{}]:[s,v,{onFocus:Ql(u,w),onBlur:Ql(f,_),onMouseEnter:Ql(m,w),onMouseLeave:Ql(h,_),onTouchStart:Ql(p,w)}]:[!1,v,{}]}function Ql(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function L4({page:e,...t}){let{router:r}=qN(),n=S.useMemo(()=>MN(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?S.createElement(U4,{page:e,matches:n,...t}):null}function F4(e){let{manifest:t,routeModules:r}=HN(),[n,i]=S.useState([]);return S.useEffect(()=>{let s=!1;return P4(e,t,r).then(l=>{s||i(l)}),()=>{s=!0}},[e,t,r]),n}function U4({page:e,matches:t,...r}){let n=cs(),{manifest:i,routeModules:s}=HN(),{basename:l}=qN(),{loaderData:u,matches:f}=M4(),m=S.useMemo(()=>y1(e,t,f,i,n,"data"),[e,t,f,i,n]),h=S.useMemo(()=>y1(e,t,f,i,n,"assets"),[e,t,f,i,n]),p=S.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let _=new Set,b=!1;if(t.forEach(k=>{var E;let N=i.routes[k.route.id];!N||!N.hasLoader||(!m.some(A=>A.route.id===k.route.id)&&k.route.id in u&&((E=s[k.route.id])!=null&&E.shouldRevalidate)||N.hasClientLoader?b=!0:_.add(k.route.id))}),_.size===0)return[];let x=C4(e,l,"data");return b&&_.size>0&&x.searchParams.set("_routes",t.filter(k=>_.has(k.route.id)).map(k=>k.route.id).join(",")),[x.pathname+x.search]},[l,u,n,i,m,t,e,s]),v=S.useMemo(()=>T4(h,i),[h,i]),w=F4(h);return S.createElement(S.Fragment,null,p.map(_=>S.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...r})),v.map(_=>S.createElement("link",{key:_,rel:"modulepreload",href:_,...r})),w.map(({key:_,link:b})=>S.createElement("link",{key:_,nonce:r.nonce,...b})))}function z4(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var KN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{KN&&(window.__reactRouterVersion="7.9.4")}catch{}function B4({basename:e,children:t,window:r}){let n=S.useRef();n.current==null&&(n.current=CI({window:r,v5Compat:!0}));let i=n.current,[s,l]=S.useState({action:i.action,location:i.location}),u=S.useCallback(f=>{S.startTransition(()=>l(f))},[l]);return S.useLayoutEffect(()=>i.listen(u),[i,u]),S.createElement(v4,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var GN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,YN=S.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:l,state:u,target:f,to:m,preventScrollReset:h,viewTransition:p,...v},w){let{basename:_}=S.useContext(pi),b=typeof m=="string"&&GN.test(m),x,k=!1;if(typeof m=="string"&&b&&(x=m,KN))try{let W=new URL(window.location.href),U=m.startsWith("//")?new URL(W.protocol+m):new URL(m),z=is(U.pathname,_);U.origin===W.origin&&z!=null?m=z+U.search+U.hash:k=!0}catch{Vn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=t4(m,{relative:i}),[E,A,P]=$4(n,v),I=H4(m,{replace:l,state:u,target:f,preventScrollReset:h,relative:i,viewTransition:p});function L(W){t&&t(W),W.defaultPrevented||I(W)}let G=S.createElement("a",{...v,...P,href:x||N,onClick:k||s?t:L,ref:z4(w,A),target:f,"data-discover":!b&&r==="render"?"true":void 0});return E&&!b?S.createElement(S.Fragment,null,G,S.createElement(L4,{page:N})):G});YN.displayName="Link";var V4=S.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:l,viewTransition:u,children:f,...m},h){let p=Fc(l,{relative:m.relative}),v=cs(),w=S.useContext(Jf),{navigator:_,basename:b}=S.useContext(pi),x=w!=null&&Q4(p)&&u===!0,k=_.encodeLocation?_.encodeLocation(p).pathname:p.pathname,N=v.pathname,E=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;r||(N=N.toLowerCase(),E=E?E.toLowerCase():null,k=k.toLowerCase()),E&&b&&(E=is(E,b)||E);const A=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let P=N===k||!i&&N.startsWith(k)&&N.charAt(A)==="/",I=E!=null&&(E===k||!i&&E.startsWith(k)&&E.charAt(k.length)==="/"),L={isActive:P,isPending:I,isTransitioning:x},G=P?t:void 0,W;typeof n=="function"?W=n(L):W=[n,P?"active":null,I?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let U=typeof s=="function"?s(L):s;return S.createElement(YN,{...m,"aria-current":G,className:W,ref:h,style:U,to:l,viewTransition:u},typeof f=="function"?f(L):f)});V4.displayName="NavLink";var W4=S.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:s,method:l=Fd,action:u,onSubmit:f,relative:m,preventScrollReset:h,viewTransition:p,...v},w)=>{let _=Y4(),b=J4(u,{relative:m}),x=l.toLowerCase()==="get"?"get":"post",k=typeof u=="string"&&GN.test(u),N=E=>{if(f&&f(E),E.defaultPrevented)return;E.preventDefault();let A=E.nativeEvent.submitter,P=(A==null?void 0:A.getAttribute("formmethod"))||l;_(A||E.currentTarget,{fetcherKey:t,method:P,navigate:r,replace:i,state:s,relative:m,preventScrollReset:h,viewTransition:p})};return S.createElement("form",{ref:w,method:x,action:b,onSubmit:n?f:N,...v,"data-discover":!k&&e==="render"?"true":void 0})});W4.displayName="Form";function q4(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JN(e){let t=S.useContext(Xo);return Dt(t,q4(e)),t}function H4(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:l}={}){let u=Sn(),f=cs(),m=Fc(e,{relative:s});return S.useCallback(h=>{if(_4(h,t)){h.preventDefault();let p=r!==void 0?r:_c(f)===_c(m);u(e,{replace:p,state:n,preventScrollReset:i,relative:s,viewTransition:l})}},[f,u,m,r,n,t,e,i,s,l])}function QN(e){Vn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=S.useRef(Nv(e)),r=S.useRef(!1),n=cs(),i=S.useMemo(()=>j4(n.search,r.current?null:t.current),[n.search]),s=Sn(),l=S.useCallback((u,f)=>{const m=Nv(typeof u=="function"?u(new URLSearchParams(i)):u);r.current=!0,s("?"+m,f)},[s,i]);return[i,l]}var K4=0,G4=()=>`__${String(++K4)}__`;function Y4(){let{router:e}=JN("useSubmit"),{basename:t}=S.useContext(pi),r=f4();return S.useCallback(async(n,i={})=>{let{action:s,method:l,encType:u,formData:f,body:m}=E4(n,t);if(i.navigate===!1){let h=i.fetcherKey||G4();await e.fetch(h,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:f,body:m,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:f,body:m,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,r])}function J4(e,{relative:t}={}){let{basename:r}=S.useContext(pi),n=S.useContext($i);Dt(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...Fc(e||".",{relative:t})},l=cs();if(e==null){s.search=l.search;let u=new URLSearchParams(s.search),f=u.getAll("index");if(f.some(h=>h==="")){u.delete("index"),f.filter(p=>p).forEach(p=>u.append("index",p));let h=u.toString();s.search=h?`?${h}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:ts([r,s.pathname])),_c(s)}function Q4(e,{relative:t}={}){let r=S.useContext(UN);Dt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=JN("useViewTransitionState"),i=Fc(e,{relative:t});if(!r.isTransitioning)return!1;let s=is(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=is(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Yd(i.pathname,l)!=null||Yd(i.pathname,s)!=null}var X4=RN();const Z4="modulepreload",eD=function(e,t){return new URL(e,t).href},x1={},Uc=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let l=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};const u=document.getElementsByTagName("link"),f=document.querySelector("meta[property=csp-nonce]"),m=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));i=l(r.map(h=>{if(h=eD(h,n),h in x1)return;x1[h]=!0;const p=h.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(!!n)for(let b=u.length-1;b>=0;b--){const x=u[b];if(x.href===h&&(!p||x.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${h}"]${v}`))return;const _=document.createElement("link");if(_.rel=p?"stylesheet":Z4,p||(_.as="script"),_.crossOrigin="",_.href=h,m&&_.setAttribute("nonce",m),document.head.appendChild(_),p)return new Promise((b,x)=>{_.addEventListener("load",b),_.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&s(u.reason);return t().catch(s)})},tD=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Uc(async()=>{const{default:n}=await Promise.resolve().then(()=>el);return{default:n}},[],import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Wy extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class w1 extends Wy{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class b1 extends Wy{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class S1 extends Wy{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ev;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ev||(Ev={}));var rD=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function u(h){try{m(n.next(h))}catch(p){l(p)}}function f(h){try{m(n.throw(h))}catch(p){l(p)}}function m(h){h.done?s(h.value):i(h.value).then(u,f)}m((n=n.apply(e,t||[])).next())})};class nD{constructor(t,{headers:r={},customFetch:n,region:i=Ev.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=tD(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return rD(this,arguments,void 0,function*(r,n={}){var i;try{const{headers:s,method:l,body:u,signal:f}=n;let m={},{region:h}=n;h||(h=this.region);const p=new URL(`${this.url}/${r}`);h&&h!=="any"&&(m["x-region"]=h,p.searchParams.set("forceFunctionRegion",h));let v;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(m["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(m["Content-Type"]="application/json",v=JSON.stringify(u)));const w=yield this.fetch(p.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),s),body:v,signal:f}).catch(k=>{throw k.name==="AbortError"?k:new w1(k)}),_=w.headers.get("x-relay-error");if(_&&_==="true")throw new b1(w);if(!w.ok)throw new S1(w);let b=((i=w.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),x;return b==="application/json"?x=yield w.json():b==="application/octet-stream"?x=yield w.blob():b==="text/event-stream"?x=w:b==="multipart/form-data"?x=yield w.formData():x=yield w.text(),{data:x,error:null,response:w}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new w1(s)}:{data:null,error:s,response:s instanceof S1||s instanceof b1?s.context:void 0}}})}}var ur={},go={},vo={},yo={},xo={},wo={},iD=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Lo=iD();const sD=Lo.fetch,XN=Lo.fetch.bind(Lo),ZN=Lo.Headers,aD=Lo.Request,oD=Lo.Response,el=Object.freeze(Object.defineProperty({__proto__:null,Headers:ZN,Request:aD,Response:oD,default:XN,fetch:sD},Symbol.toStringTag,{value:"Module"})),lD=vI(el);var gd={},_1;function eE(){if(_1)return gd;_1=1,Object.defineProperty(gd,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return gd.default=e,gd}var j1;function tE(){if(j1)return wo;j1=1;var e=wo&&wo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(wo,"__esModule",{value:!0});const t=e(lD),r=e(eE());class n{constructor(s){var l,u;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(l=s.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=s.signal,this.isMaybeSingle=(u=s.isMaybeSingle)!==null&&u!==void 0?u:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,l){return this.headers=new Headers(this.headers),this.headers.set(s,l),this}then(s,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let f=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var h,p,v,w;let _=null,b=null,x=null,k=m.status,N=m.statusText;if(m.ok){if(this.method!=="HEAD"){const I=await m.text();I===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?b=I:b=JSON.parse(I))}const A=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),P=(v=m.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");A&&P&&P.length>1&&(x=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(_={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,x=null,k=406,N="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const A=await m.text();try{_=JSON.parse(A),Array.isArray(_)&&m.status===404&&(b=[],_=null,k=200,N="OK")}catch{m.status===404&&A===""?(k=204,N="No Content"):_={message:A}}if(_&&this.isMaybeSingle&&(!((w=_==null?void 0:_.details)===null||w===void 0)&&w.includes("0 rows"))&&(_=null,k=200,N="OK"),_&&this.shouldThrowOnError)throw new r.default(_)}return{error:_,data:b,count:x,status:k,statusText:N}});return this.shouldThrowOnError||(f=f.catch(m=>{var h,p,v;return{error:{message:`${(h=m==null?void 0:m.name)!==null&&h!==void 0?h:"FetchError"}: ${m==null?void 0:m.message}`,details:`${(p=m==null?void 0:m.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(v=m==null?void 0:m.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),f.then(s,l)}returns(){return this}overrideTypes(){return this}}return wo.default=n,wo}var k1;function rE(){if(k1)return xo;k1=1;var e=xo&&xo.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(xo,"__esModule",{value:!0});const t=e(tE());class r extends t.default{select(i){let s=!1;const l=(i??"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:l,foreignTable:u,referencedTable:f=u}={}){const m=f?`${f}.order`:"order",h=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${h?`${h},`:""}${i}.${s?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:l=s}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this}range(i,s,{foreignTable:l,referencedTable:u=l}={}){const f=typeof u>"u"?"offset":`${u}.offset`,m=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${i}`),this.url.searchParams.set(m,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:l=!1,buffers:u=!1,wal:f=!1,format:m="text"}={}){var h;const p=[i?"analyze":null,s?"verbose":null,l?"settings":null,u?"buffers":null,f?"wal":null].filter(Boolean).join("|"),v=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${v}"; options=${p};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return xo.default=r,xo}var N1;function qy(){if(N1)return yo;N1=1;var e=yo&&yo.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(yo,"__esModule",{value:!0});const t=e(rE());class r extends t.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const l=Array.from(new Set(s)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:l,type:u}={}){let f="";u==="plain"?f="pl":u==="phrase"?f="ph":u==="websearch"&&(f="w");const m=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${f}fts${m}.${s}`),this}match(i){return Object.entries(i).forEach(([s,l])=>{this.url.searchParams.append(s,`eq.${l}`)}),this}not(i,s,l){return this.url.searchParams.append(i,`not.${s}.${l}`),this}or(i,{foreignTable:s,referencedTable:l=s}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,s,l){return this.url.searchParams.append(i,`${s}.${l}`),this}}return yo.default=r,yo}var E1;function nE(){if(E1)return vo;E1=1;var e=vo&&vo.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(vo,"__esModule",{value:!0});const t=e(qy());class r{constructor(i,{headers:s={},schema:l,fetch:u}){this.url=i,this.headers=new Headers(s),this.schema=l,this.fetch=u}select(i,s){const{head:l=!1,count:u}=s??{},f=l?"HEAD":"GET";let m=!1;const h=(i??"*").split("").map(p=>/\s/.test(p)&&!m?"":(p==='"'&&(m=!m),p)).join("");return this.url.searchParams.set("select",h),u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:l=!0}={}){var u;const f="POST";if(s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(m.length>0){const h=[...new Set(m)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:l=!1,count:u,defaultToNull:f=!0}={}){var m;const h="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),u&&this.headers.append("Prefer",`count=${u}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((v,w)=>v.concat(Object.keys(w)),[]);if(p.length>0){const v=[...new Set(p)].map(w=>`"${w}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(i,{count:s}={}){var l;const u="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var s;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return vo.default=r,vo}var C1;function cD(){if(C1)return go;C1=1;var e=go&&go.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(go,"__esModule",{value:!0});const t=e(nE()),r=e(qy());class n{constructor(s,{headers:l={},schema:u,fetch:f}={}){this.url=s,this.headers=new Headers(l),this.schemaName=u,this.fetch=f}from(s){const l=new URL(`${this.url}/${s}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,l={},{head:u=!1,get:f=!1,count:m}={}){var h;let p;const v=new URL(`${this.url}/rpc/${s}`);let w;u||f?(p=u?"HEAD":"GET",Object.entries(l).filter(([b,x])=>x!==void 0).map(([b,x])=>[b,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([b,x])=>{v.searchParams.append(b,x)})):(p="POST",w=l);const _=new Headers(this.headers);return m&&_.set("Prefer",`count=${m}`),new r.default({method:p,url:v,headers:_,schema:this.schemaName,body:w,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return go.default=n,go}var A1;function uD(){if(A1)return ur;A1=1;var e=ur&&ur.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(ur,"__esModule",{value:!0}),ur.PostgrestError=ur.PostgrestBuilder=ur.PostgrestTransformBuilder=ur.PostgrestFilterBuilder=ur.PostgrestQueryBuilder=ur.PostgrestClient=void 0;const t=e(cD());ur.PostgrestClient=t.default;const r=e(nE());ur.PostgrestQueryBuilder=r.default;const n=e(qy());ur.PostgrestFilterBuilder=n.default;const i=e(rE());ur.PostgrestTransformBuilder=i.default;const s=e(tE());ur.PostgrestBuilder=s.default;const l=e(eE());return ur.PostgrestError=l.default,ur.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:l.default},ur}var dD=uD();const fD=mi(dD),{PostgrestClient:hD,PostgrestQueryBuilder:DJ,PostgrestFilterBuilder:RJ,PostgrestTransformBuilder:MJ,PostgrestBuilder:$J,PostgrestError:LJ}=fD;class mD{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const pD="2.74.0",gD=`realtime-js/${pD}`,vD="1.0.0",Cv=1e4,yD=1e3,xD=100;var pc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(pc||(pc={}));var rr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(rr||(rr={}));var ai;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ai||(ai={}));var Av;(function(e){e.websocket="websocket"})(Av||(Av={}));var wa;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(wa||(wa={}));class wD{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2);let l=this.HEADER_LENGTH+2;const u=n.decode(t.slice(l,l+i));l=l+i;const f=n.decode(t.slice(l,l+s));l=l+s;const m=JSON.parse(n.decode(t.slice(l,t.byteLength)));return{ref:null,topic:u,event:f,payload:m}}}class iE{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var _t;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(_t||(_t={}));const O1=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,l)=>(s[l]=bD(l,e,t,i),s),{}):{}},bD=(e,t,r,n)=>{const i=t.find(u=>u.name===e),s=i==null?void 0:i.type,l=r[e];return s&&!n.includes(s)?sE(s,l):Ov(l)},sE=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return kD(t,r)}switch(e){case _t.bool:return SD(t);case _t.float4:case _t.float8:case _t.int2:case _t.int4:case _t.int8:case _t.numeric:case _t.oid:return _D(t);case _t.json:case _t.jsonb:return jD(t);case _t.timestamp:return ND(t);case _t.abstime:case _t.date:case _t.daterange:case _t.int4range:case _t.int8range:case _t.money:case _t.reltime:case _t.text:case _t.time:case _t.timestamptz:case _t.timetz:case _t.tsrange:case _t.tstzrange:return Ov(t);default:return Ov(t)}},Ov=e=>e,SD=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},_D=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},jD=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},kD=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const l=e.slice(1,r);try{s=JSON.parse("["+l+"]")}catch{s=l?l.split(","):[]}return s.map(u=>sE(t,u))}return e},ND=e=>typeof e=="string"?e.replace(" ","T"):e,aE=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class kp{constructor(t,r,n={},i=Cv){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var P1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(P1||(P1={}));class gc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gc.syncState(this.state,i,s,l),this.pendingDiffs.forEach(f=>{this.state=gc.syncDiff(this.state,f,s,l)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=gc.syncDiff(this.state,i,s,l),u())}),this.onJoin((i,s,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:l})}),this.onLeave((i,s,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),l=this.transformState(r),u={},f={};return this.map(s,(m,h)=>{l[m]||(f[m]=h)}),this.map(l,(m,h)=>{const p=s[m];if(p){const v=h.map(x=>x.presence_ref),w=p.map(x=>x.presence_ref),_=h.filter(x=>w.indexOf(x.presence_ref)<0),b=p.filter(x=>v.indexOf(x.presence_ref)<0);_.length>0&&(u[m]=_),b.length>0&&(f[m]=b)}else u[m]=h}),this.syncDiff(s,{joins:u,leaves:f},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(u,f)=>{var m;const h=(m=t[u])!==null&&m!==void 0?m:[];if(t[u]=this.cloneDeep(f),h.length>0){const p=t[u].map(w=>w.presence_ref),v=h.filter(w=>p.indexOf(w.presence_ref)<0);t[u].unshift(...v)}n(u,h,f)}),this.map(l,(u,f)=>{let m=t[u];if(!m)return;const h=f.map(p=>p.presence_ref);m=m.filter(p=>h.indexOf(p.presence_ref)<0),t[u]=m,i(u,m,f),m.length===0&&delete t[u]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var T1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(T1||(T1={}));var vc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(vc||(vc={}));var Ji;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ji||(Ji={}));class Hy{constructor(t,r={config:{}},n){var i,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=rr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new kp(this,ai.join,this.params,this.timeout),this.rejoinTimer=new iE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rr.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=rr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=rr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ai.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new gc(this),this.broadcastEndpointURL=aE(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==rr.closed){const{config:{broadcast:l,presence:u,private:f}}=this.params,m=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(w=>w.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[vc.PRESENCE]&&this.bindings[vc.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,p={},v={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:h}),postgres_changes:m,private:f};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(w=>t==null?void 0:t(Ji.CHANNEL_ERROR,w)),this._onClose(()=>t==null?void 0:t(Ji.CLOSED)),this.updateJoinPayload(Object.assign({config:v},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:w})=>{var _;if(this.socket.setAuth(),w===void 0){t==null||t(Ji.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,x=(_=b==null?void 0:b.length)!==null&&_!==void 0?_:0,k=[];for(let N=0;N<x;N++){const E=b[N],{filter:{event:A,schema:P,table:I,filter:L}}=E,G=w&&w[N];if(G&&G.event===A&&G.schema===P&&G.table===I&&G.filter===L)k.push(Object.assign(Object.assign({},E),{id:G.id}));else{this.unsubscribe(),this.state=rr.errored,t==null||t(Ji.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,t&&t(Ji.SUBSCRIBED);return}}).receive("error",w=>{this.state=rr.errored,t==null||t(Ji.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ji.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===rr.joined&&t===vc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:l}=t,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:l,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=m.body)===null||i===void 0?void 0:i.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var l,u,f;const m=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||f===void 0)&&f.ack)&&s("ok"),m.receive("ok",()=>s("ok")),m.receive("error",()=>s("error")),m.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=rr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ai.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new kp(this,ai.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=rr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new kp(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>xD){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const l=t.toLocaleLowerCase(),{close:u,error:f,leave:m,join:h}=ai;if(n&&[u,f,m,h].indexOf(l)>=0&&n!==this._joinRef())return;let v=this._onMessage(l,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(w=>{var _,b,x;return((_=w.filter)===null||_===void 0?void 0:_.event)==="*"||((x=(b=w.filter)===null||b===void 0?void 0:b.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===l}).map(w=>w.callback(v,n)):(s=this.bindings[l])===null||s===void 0||s.filter(w=>{var _,b,x,k,N,E;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in w){const A=w.id,P=(_=w.filter)===null||_===void 0?void 0:_.event;return A&&((b=r.ids)===null||b===void 0?void 0:b.includes(A))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const A=(N=(k=w==null?void 0:w.filter)===null||k===void 0?void 0:k.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return A==="*"||A===((E=r==null?void 0:r.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===l}).map(w=>{if(typeof v=="object"&&"ids"in v){const _=v.data,{schema:b,table:x,commit_timestamp:k,type:N,errors:E}=_;v=Object.assign(Object.assign({},{schema:b,table:x,commit_timestamp:k,eventType:N,new:{},old:{},errors:E}),this._getPayloadRecords(_))}w.callback(v,n)})}_isClosed(){return this.state===rr.closed}_isJoined(){return this.state===rr.joined}_isJoining(){return this.state===rr.joining}_isLeaving(){return this.state===rr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Hy.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ai.close,{},t)}_onError(t){this._on(ai.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=O1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=O1(t.columns,t.old_record)),r}}const Np=()=>{},vd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ED=[1e3,2e3,5e3,1e4],CD=1e4,AD=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class OD{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Cv,this.transport=null,this.heartbeatIntervalMs=vd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Np,this.ref=0,this.reconnectTimer=null,this.logger=Np,this.conn=null,this.sendBuffer=[],this.serializer=new wD,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...l)=>Uc(async()=>{const{default:u}=await Promise.resolve().then(()=>el);return{default:u}},void 0,import.meta.url).then(({default:u})=>u(...l)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...l)=>s(...l)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Av.websocket}`,this.httpEndpoint=aE(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=mD.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:vD}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case pc.connecting:return wa.Connecting;case pc.open:return wa.Open;case pc.closing:return wa.Closing;default:return wa.Closed}}isConnected(){return this.connectionState()===wa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new Hy(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,l=()=>{this.encode(t,u=>{var f;(f=this.conn)===null||f===void 0||f.send(u)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(yD,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},vd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:l}=r,u=l?`(${l})`:"",f=s.status||"";this.log("receive",`${f} ${n} ${i} ${u}`.trim(),s),this.channels.filter(m=>m._isMember(n)).forEach(m=>m._trigger(i,s,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ai.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([AD],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:gD};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(ai.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new iE(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},vd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,s,l,u,f,m,h;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Cv,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:vd.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=t==null?void 0:t.heartbeatCallback)!==null&&u!==void 0?u:Np,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t==null?void 0:t.reconnectAfterMs)!==null&&f!==void 0?f:(p=>ED[p-1]||CD),this.encode=(m=t==null?void 0:t.encode)!==null&&m!==void 0?m:((p,v)=>v(JSON.stringify(p))),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Ky extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Yt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class PD extends Ky{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Pv extends Ky{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var TD=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function u(h){try{m(n.next(h))}catch(p){l(p)}}function f(h){try{m(n.throw(h))}catch(p){l(p)}}function m(h){h.done?s(h.value):i(h.value).then(u,f)}m((n=n.apply(e,t||[])).next())})};const oE=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Uc(async()=>{const{default:n}=await Promise.resolve().then(()=>el);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},ID=()=>TD(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Uc(()=>Promise.resolve().then(()=>el),void 0,import.meta.url)).Response:Response}),Tv=e=>{if(Array.isArray(e))return e.map(r=>Tv(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Tv(n)}),t},DD=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var za=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function u(h){try{m(n.next(h))}catch(p){l(p)}}function f(h){try{m(n.throw(h))}catch(p){l(p)}}function m(h){h.done?s(h.value):i(h.value).then(u,f)}m((n=n.apply(e,t||[])).next())})};const Ep=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),RD=(e,t,r)=>za(void 0,void 0,void 0,function*(){const n=yield ID();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const s=e.status||500,l=(i==null?void 0:i.statusCode)||s+"";t(new PD(Ep(i),s,l))}).catch(i=>{t(new Pv(Ep(i),i))}):t(new Pv(Ep(e),e))}),MD=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(DD(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function zc(e,t,r,n,i,s){return za(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(r,MD(t,n,i,s)).then(f=>{if(!f.ok)throw f;return n!=null&&n.noResolveJson?f:f.json()}).then(f=>l(f)).catch(f=>RD(f,u,n))})})}function Jd(e,t,r,n){return za(this,void 0,void 0,function*(){return zc(e,"GET",t,r,n)})}function Ci(e,t,r,n,i){return za(this,void 0,void 0,function*(){return zc(e,"POST",t,n,i,r)})}function Iv(e,t,r,n,i){return za(this,void 0,void 0,function*(){return zc(e,"PUT",t,n,i,r)})}function $D(e,t,r,n){return za(this,void 0,void 0,function*(){return zc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function lE(e,t,r,n,i){return za(this,void 0,void 0,function*(){return zc(e,"DELETE",t,n,i,r)})}var LD=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function u(h){try{m(n.next(h))}catch(p){l(p)}}function f(h){try{m(n.throw(h))}catch(p){l(p)}}function m(h){h.done?s(h.value):i(h.value).then(u,f)}m((n=n.apply(e,t||[])).next())})};class FD{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return LD(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Yt(t))return{data:null,error:t};throw t}})}}var UD=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function u(h){try{m(n.next(h))}catch(p){l(p)}}function f(h){try{m(n.throw(h))}catch(p){l(p)}}function m(h){h.done?s(h.value):i(h.value).then(u,f)}m((n=n.apply(e,t||[])).next())})};class zD{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}asStream(){return new FD(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.execute().then(t,r)}execute(){return UD(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Yt(t))return{data:null,error:t};throw t}})}}var Qr=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function u(h){try{m(n.next(h))}catch(p){l(p)}}function f(h){try{m(n.throw(h))}catch(p){l(p)}}function m(h){h.done?s(h.value):i(h.value).then(u,f)}m((n=n.apply(e,t||[])).next())})};const BD={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},I1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class VD{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=oE(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return Qr(this,void 0,void 0,function*(){try{let s;const l=Object.assign(Object.assign({},I1),i);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",l.cacheControl),f&&s.append("metadata",this.encodeMetadata(f)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",l.cacheControl),f&&s.append("metadata",this.encodeMetadata(f))):(s=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,f&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),i!=null&&i.headers&&(u=Object.assign(Object.assign({},u),i.headers));const m=this._removeEmptyFolders(r),h=this._getFinalPath(m),p=yield(t=="PUT"?Iv:Ci)(this.fetch,`${this.url}/object/${h}`,s,Object.assign({headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:m,id:p.Id,fullPath:p.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Yt(s))return{data:null,error:s};throw s}})}upload(t,r,n){return Qr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Qr(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),l=this._getFinalPath(s),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",r);try{let f;const m=Object.assign({upsert:I1.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&n instanceof Blob?(f=new FormData,f.append("cacheControl",m.cacheControl),f.append("",n)):typeof FormData<"u"&&n instanceof FormData?(f=n,f.append("cacheControl",m.cacheControl)):(f=n,h["cache-control"]=`max-age=${m.cacheControl}`,h["content-type"]=m.contentType);const p=yield Iv(this.fetch,u.toString(),f,{headers:h});return{data:{path:s,fullPath:p.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(Yt(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(t,r){return Qr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield Ci(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),l=new URL(this.url+s.url),u=l.searchParams.get("token");if(!u)throw new Ky("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:u},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Qr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Qr(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Yt(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Qr(this,void 0,void 0,function*(){try{return{data:{path:(yield Ci(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Yt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Qr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Ci(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${l}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Yt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Qr(this,void 0,void 0,function*(){try{const i=yield Ci(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Yt(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=s?`?${s}`:"",u=this._getFinalPath(t),f=()=>Jd(this.fetch,`${this.url}/${i}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new zD(f,this.shouldThrowOnError)}info(t){return Qr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Jd(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Tv(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yt(n))return{data:null,error:n};throw n}})}exists(t){return Qr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield $D(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yt(n)&&n instanceof Pv){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const u=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});f!==""&&i.push(f);let m=i.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${m}`)}}}remove(t){return Qr(this,void 0,void 0,function*(){try{return{data:yield lE(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Qr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},BD),r),{prefix:t||""});return{data:yield Ci(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Yt(i))return{data:null,error:i};throw i}})}listV2(t,r){return Qr(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Ci(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const WD="2.74.0",qD={"X-Client-Info":`storage-js/${WD}`};var bo=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function u(h){try{m(n.next(h))}catch(p){l(p)}}function f(h){try{m(n.throw(h))}catch(p){l(p)}}function m(h){h.done?s(h.value):i(h.value).then(u,f)}m((n=n.apply(e,t||[])).next())})};class HD{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},qD),r),this.fetch=oE(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return bo(this,void 0,void 0,function*(){try{return{data:yield Jd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Yt(t))return{data:null,error:t};throw t}})}getBucket(t){return bo(this,void 0,void 0,function*(){try{return{data:yield Jd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}createBucket(t){return bo(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ci(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Yt(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return bo(this,void 0,void 0,function*(){try{return{data:yield Iv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return bo(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return bo(this,void 0,void 0,function*(){try{return{data:yield lE(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}}class KD extends HD{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new VD(this.url,this.headers,t,this.fetch)}}const GD="2.74.0";let dc="";typeof Deno<"u"?dc="deno":typeof document<"u"?dc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?dc="react-native":dc="node";const YD={"X-Client-Info":`supabase-js-${dc}/${GD}`},JD={headers:YD},QD={schema:"public"},XD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ZD={};var eR=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function u(h){try{m(n.next(h))}catch(p){l(p)}}function f(h){try{m(n.throw(h))}catch(p){l(p)}}function m(h){h.done?s(h.value):i(h.value).then(u,f)}m((n=n.apply(e,t||[])).next())})};const tR=e=>{let t;return e?t=e:typeof fetch>"u"?t=XN:t=fetch,(...r)=>t(...r)},rR=()=>typeof Headers>"u"?ZN:Headers,nR=(e,t,r)=>{const n=tR(r),i=rR();return(s,l)=>eR(void 0,void 0,void 0,function*(){var u;const f=(u=yield t())!==null&&u!==void 0?u:e;let m=new i(l==null?void 0:l.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${f}`),n(s,Object.assign(Object.assign({},l),{headers:m}))})};var iR=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function u(h){try{m(n.next(h))}catch(p){l(p)}}function f(h){try{m(n.throw(h))}catch(p){l(p)}}function m(h){h.done?s(h.value):i(h.value).then(u,f)}m((n=n.apply(e,t||[])).next())})};function sR(e){return e.endsWith("/")?e:e+"/"}function aR(e,t){var r,n;const{db:i,auth:s,realtime:l,global:u}=e,{db:f,auth:m,realtime:h,global:p}=t,v={db:Object.assign(Object.assign({},f),i),auth:Object.assign(Object.assign({},m),s),realtime:Object.assign(Object.assign({},h),l),storage:{},global:Object.assign(Object.assign(Object.assign({},p),u),{headers:Object.assign(Object.assign({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(n=u==null?void 0:u.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>iR(this,void 0,void 0,function*(){return""})};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function oR(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(sR(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const cE="2.74.0",Oo=30*1e3,Dv=3,Cp=Dv*Oo,lR="http://localhost:9999",cR="supabase.auth.token",uR={"X-Client-Info":`gotrue-js/${cE}`},Rv="X-Supabase-Api-Version",uE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},dR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,fR=600*1e3;class jc extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ve(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class hR extends jc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function mR(e){return Ve(e)&&e.name==="AuthApiError"}class ba extends jc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Js extends jc{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class $s extends Js{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function pR(e){return Ve(e)&&e.name==="AuthSessionMissingError"}class So extends Js{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class yd extends Js{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class xd extends Js{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function gR(e){return Ve(e)&&e.name==="AuthImplicitGrantRedirectError"}class D1 extends Js{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Mv extends Js{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ap(e){return Ve(e)&&e.name==="AuthRetryableFetchError"}class R1 extends Js{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class $v extends Js{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Qd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),M1=` 	
\r=`.split(""),vR=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<M1.length;t+=1)e[M1[t].charCodeAt(0)]=-2;for(let t=0;t<Qd.length;t+=1)e[Qd[t].charCodeAt(0)]=t;return e})();function $1(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Qd[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Qd[n]),t.queuedBits-=6}}function dE(e,t,r){const n=vR[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function L1(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=l=>{wR(l,n,r)};for(let l=0;l<e.length;l+=1)dE(e.charCodeAt(l),i,s);return t.join("")}function yR(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function xR(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}yR(n,t)}}function wR(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Do(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)dE(e.charCodeAt(i),r,n);return new Uint8Array(t)}function bR(e){const t=[];return xR(e,r=>t.push(r)),new Uint8Array(t)}function _a(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>$1(i,r,n)),$1(null,r,n),t.join("")}function SR(e){return Math.round(Date.now()/1e3)+e}function _R(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const cn=()=>typeof window<"u"&&typeof document<"u",ha={tested:!1,writable:!1},fE=()=>{if(!cn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ha.tested)return ha.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ha.tested=!0,ha.writable=!0}catch{ha.tested=!0,ha.writable=!1}return ha.writable};function jR(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const hE=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Uc(async()=>{const{default:n}=await Promise.resolve().then(()=>el);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},kR=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Po=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ma=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ms=async(e,t)=>{await e.removeItem(t)};class Xf{constructor(){this.promise=new Xf.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Xf.promiseConstructor=Promise;function Op(e){const t=e.split(".");if(t.length!==3)throw new $v("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!dR.test(t[n]))throw new $v("JWT not in base64url format");return{header:JSON.parse(L1(t[0])),payload:JSON.parse(L1(t[1])),signature:Do(t[2]),raw:{header:t[0],payload:t[1]}}}async function NR(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function ER(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const l=await e(s);if(!t(s,null,l)){n(l);return}}catch(l){if(!t(s,l)){i(l);return}}})()})}function CR(e){return("0"+e.toString(16)).substr(-2)}function AR(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,CR).join("")}async function OR(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function PR(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await OR(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _o(e,t,r=!1){const n=AR();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Po(e,`${t}-code-verifier`,i);const s=await PR(n);return[s,n===s?"plain":"s256"]}const TR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function IR(e){const t=e.headers.get(Rv);if(!t||!t.match(TR))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function DR(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function RR(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const MR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function jo(e){if(!MR.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Pp(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function F1(e){return JSON.parse(JSON.stringify(e))}var $R=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const ga=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),LR=[502,503,504];async function U1(e){var t;if(!kR(e))throw new Mv(ga(e),0);if(LR.includes(e.status))throw new Mv(ga(e),e.status);let r;try{r=await e.json()}catch(s){throw new ba(ga(s),s)}let n;const i=IR(e);if(i&&i.getTime()>=uE["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new R1(ga(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new $s}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0))throw new R1(ga(r),e.status,r.weak_password.reasons);throw new hR(ga(r),e.status||500,n)}const FR=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Xe(e,t,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[Rv]||(s[Rv]=uE["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const l=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await UR(e,t,r+u,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(f):{data:Object.assign({},f),error:null}}async function UR(e,t,r,n,i,s){const l=FR(t,n,i,s);let u;try{u=await e(r,Object.assign({},l))}catch(f){throw console.error(f),new Mv(ga(f),0)}if(u.ok||await U1(u),n!=null&&n.noResolveJson)return u;try{return await u.json()}catch(f){await U1(f)}}function si(e){var t;let r=null;VR(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=SR(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function z1(e){const t=si(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function zs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function zR(e){return{data:e,error:null}}function BR(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,l=$R(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},f=Object.assign({},l);return{data:{properties:u,user:f},error:null}}function B1(e){return e}function VR(e){return e.access_token&&e.refresh_token&&e.expires_in}const Tp=["global","local","others"];var WR=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class qR{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=hE(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Tp[0]){if(Tp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Tp.join(", ")}`);try{return await Xe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:zs})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=WR(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:BR,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ve(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Xe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:zs})}catch(r){if(Ve(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,l,u,f;try{const m={nextPage:null,lastPage:0,total:0},h=await Xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:B1});if(h.error)throw h.error;const p=await h.json(),v=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,w=(f=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return w.length>0&&(w.forEach(_=>{const b=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(_.split(";")[1].split("=")[1]);m[`${x}Page`]=b}),m.total=parseInt(v)),{data:Object.assign(Object.assign({},p),m),error:null}}catch(m){if(Ve(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){jo(t);try{return await Xe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:zs})}catch(r){if(Ve(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){jo(t);try{return await Xe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:zs})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){jo(t);try{return await Xe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:zs})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){jo(t.userId);try{const{data:r,error:n}=await Xe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async _deleteFactor(t){jo(t.userId),jo(t.id);try{return{data:await Xe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,s,l,u,f;try{const m={nextPage:null,lastPage:0,total:0},h=await Xe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:B1});if(h.error)throw h.error;const p=await h.json(),v=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,w=(f=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return w.length>0&&(w.forEach(_=>{const b=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(_.split(";")[1].split("=")[1]);m[`${x}Page`]=b}),m.total=parseInt(v)),{data:Object.assign(Object.assign({},p),m),error:null}}catch(m){if(Ve(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(t){try{return await Xe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Xe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await Xe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Xe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ve(r))return{data:null,error:r};throw r}}}function V1(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const ko={debug:!!(globalThis&&fE()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class mE extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class HR extends mE{}async function KR(e,t,r){ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ko.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new HR(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ko.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function GR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function pE(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function YR(e){return parseInt(e,16)}function JR(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function QR(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:l,notBefore:u,requestId:f,resources:m,scheme:h,uri:p,version:v}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const w=pE(e.address),_=h?`${h}://${n}`:n,b=e.statement?`${e.statement}
`:"",x=`${_} wants you to sign in with your Ethereum account:
${w}

${b}`;let k=`URI: ${p}
Version: ${v}
Chain ID: ${r}${l?`
Nonce: ${l}`:""}
Issued At: ${s.toISOString()}`;if(i&&(k+=`
Expiration Time: ${i.toISOString()}`),u&&(k+=`
Not Before: ${u.toISOString()}`),f&&(k+=`
Request ID: ${f}`),m){let N=`
Resources:`;for(const E of m){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);N+=`
- ${E}`}k+=N}return`${x}
${k}`}class Gt extends Error{constructor({message:t,code:r,cause:n,name:i}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class Xd extends Gt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function XR({error:e,options:t}){var r,n,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Gt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Gt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Gt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Gt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Gt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Gt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Gt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Gt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(vE(l)){if(s.rp.id!==l)return new Gt({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Gt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Gt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Gt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Gt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function ZR({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Gt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Gt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(vE(n)){if(r.rpId!==n)return new Gt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Gt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Gt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Gt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var gE=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class eM{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const tM=new eM;function rM(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=gE(e,["challenge","user","excludeCredentials"]),s=Do(t).buffer,l=Object.assign(Object.assign({},r),{id:Do(r.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:s,user:l});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let f=0;f<n.length;f++){const m=n[f];u.excludeCredentials[f]=Object.assign(Object.assign({},m),{id:Do(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return u}function nM(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=gE(e,["challenge","allowCredentials"]),i=Do(t).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];s.allowCredentials[l]=Object.assign(Object.assign({},u),{id:Do(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function iM(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:_a(new Uint8Array(e.response.attestationObject)),clientDataJSON:_a(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function sM(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:_a(new Uint8Array(i.authenticatorData)),clientDataJSON:_a(new Uint8Array(i.clientDataJSON)),signature:_a(new Uint8Array(i.signature)),userHandle:i.userHandle?_a(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function vE(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function W1(){var e,t;return!!(cn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function aM(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Xd("Browser returned unexpected credential type",t)}:{data:null,error:new Xd("Empty credential response",t)}}catch(t){return{data:null,error:XR({error:t,options:e})}}}async function oM(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Xd("Browser returned unexpected credential type",t)}:{data:null,error:new Xd("Empty credential response",t)}}catch(t){return{data:null,error:ZR({error:t,options:e})}}}const lM={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},cM={userVerification:"preferred",hints:["security-key"]};function Zd(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const s in i){const l=i[s];if(l!==void 0)if(Array.isArray(l))n[s]=l;else if(r(l))n[s]=l;else if(t(l)){const u=n[s];t(u)?n[s]=Zd(u,l):n[s]=Zd(l)}else n[s]=l}return n}function uM(e,t){return Zd(lM,e,t||{})}function dM(e,t){return Zd(cM,e,t||{})}class fM{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},s){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:u};const f=i??tM.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:m}=l.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${n}`),m.displayName||(m.displayName=m.name)}switch(l.webauthn.type){case"create":{const m=uM(l.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:h,error:p}=await aM({publicKey:m,signal:f});return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const m=dM(l.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:h,error:p}=await oM(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:m,signal:f}));return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(l){return Ve(l)?{data:null,error:l}:{data:null,error:new ba("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!r)return{data:null,error:new jc("rpId is required for WebAuthn authentication")};try{if(!W1())return{data:null,error:new ba("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!l)return{data:null,error:u};const{webauthn:f}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:f.type,rpId:r,rpOrigins:n,credential_response:f.credential_response}})}catch(l){return Ve(l)?{data:null,error:l}:{data:null,error:new ba("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!r)return{data:null,error:new jc("rpId is required for WebAuthn registration")};try{if(!W1())return{data:null,error:new ba("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(h=>{var p;return(p=h.data)===null||p===void 0?void 0:p.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:u};const{data:f,error:m}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return f?this._verify({factorId:l.id,challengeId:f.challengeId,webauthn:{rpId:r,rpOrigins:n,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:m}}catch(l){return Ve(l)?{data:null,error:l}:{data:null,error:new ba("Unexpected error in register",l)}}}}GR();const hM={url:lR,storageKey:cR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:uR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function q1(e,t,r){return await r()}const No={};class kc{get jwks(){var t,r;return(r=(t=No[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){No[this.storageKey]=Object.assign(Object.assign({},No[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=No[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){No[this.storageKey]=Object.assign(Object.assign({},No[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=kc.nextInstanceID,kc.nextInstanceID+=1,this.instanceID>0&&cn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},hM),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new qR({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=hE(i.fetch),this.lock=i.lock||q1,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:cn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=KR:this.lock=q1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new fM(this)},this.persistSession?(i.storage?this.storage=i.storage:fE()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=V1(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=V1(this.memoryStorage)),cn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${cE}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=jR(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),cn()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),gR(s)){const f=(t=s.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:l,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ve(r)?{error:r}:{error:new ba("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:si}),{data:l,error:u}=s;if(u||!l)return{data:{user:null,session:null},error:u};const f=l.session,m=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:m,session:f},error:null}}catch(s){if(Ve(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:h,password:p,options:v}=t;let w=null,_=null;this.flowType==="pkce"&&([w,_]=await _o(this.storage,this.storageKey)),s=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:h,password:p,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:w,code_challenge_method:_},xform:si})}else if("phone"in t){const{phone:h,password:p,options:v}=t;s=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:si})}else throw new yd("You must provide either an email or phone number and a password");const{data:l,error:u}=s;if(u||!l)return{data:{user:null,session:null},error:u};const f=l.session,m=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:m,session:f},error:null}}catch(s){if(Ve(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:l,options:u}=t;r=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:z1})}else if("phone"in t){const{phone:s,password:l,options:u}=t;r=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:z1})}else throw new yd("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new So}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Ve(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,s,l,u,f,m,h,p,v;let w,_;if("message"in t)w=t.message,_=t.signature;else{const{chain:b,wallet:x,statement:k,options:N}=t;let E;if(cn())if(typeof x=="object")E=x;else{const W=window;if("ethereum"in W&&typeof W.ethereum=="object"&&"request"in W.ethereum&&typeof W.ethereum.request=="function")E=W.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=x}const A=new URL((r=N==null?void 0:N.url)!==null&&r!==void 0?r:window.location.href),P=await E.request({method:"eth_requestAccounts"}).then(W=>W).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!P||P.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=pE(P[0]);let L=(n=N==null?void 0:N.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!L){const W=await E.request({method:"eth_chainId"});L=YR(W)}const G={domain:A.host,address:I,statement:k,uri:A.href,version:"1",chainId:L,nonce:(i=N==null?void 0:N.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(s=N==null?void 0:N.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=N==null?void 0:N.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(f=N==null?void 0:N.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(m=N==null?void 0:N.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(h=N==null?void 0:N.signInWithEthereum)===null||h===void 0?void 0:h.resources};w=QR(G),_=await E.request({method:"personal_sign",params:[JR(w),I]})}try{const{data:b,error:x}=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:_},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:si});if(x)throw x;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new So}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:x})}catch(b){if(Ve(b))return{data:{user:null,session:null},error:b};throw b}}async signInWithSolana(t){var r,n,i,s,l,u,f,m,h,p,v,w;let _,b;if("message"in t)_=t.message,b=t.signature;else{const{chain:x,wallet:k,statement:N,options:E}=t;let A;if(cn())if(typeof k=="object")A=k;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))A=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=k}const P=new URL((r=E==null?void 0:E.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in A&&A.signIn){const I=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E==null?void 0:E.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),N?{statement:N}:null));let L;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")L=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)L=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)_=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),b=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${P.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(i=(n=E==null?void 0:E.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=E==null?void 0:E.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((l=E==null?void 0:E.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((u=E==null?void 0:E.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((f=E==null?void 0:E.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((m=E==null?void 0:E.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((p=(h=E==null?void 0:E.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...E.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const I=await A.signMessage(new TextEncoder().encode(_),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=I}}try{const{data:x,error:k}=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:_a(b)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:si});if(k)throw k;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new So}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:k})}catch(x){if(Ve(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const r=await ma(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:l}=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:si});if(await Ms(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new So}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:l})}catch(s){if(Ve(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:l}=t,u=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:si}),{data:f,error:m}=u;return m?{data:{user:null,session:null},error:m}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new So}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:m})}catch(r){if(Ve(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,s,l;try{if("email"in t){const{email:u,options:f}=t;let m=null,h=null;this.flowType==="pkce"&&([m,h]=await _o(this.storage,this.storageKey));const{error:p}=await Xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},create_user:(n=f==null?void 0:f.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:h},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:u,options:f}=t,{data:m,error:h}=await Xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=f==null?void 0:f.data)!==null&&i!==void 0?i:{},create_user:(s=f==null?void 0:f.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(l=f==null?void 0:f.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:h}}throw new yd("You must provide either an email or phone number.")}catch(u){if(Ve(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:u}=await Xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:si});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,m=l.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:m,session:f},error:null}}catch(i){if(Ve(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let s=null,l=null;return this.flowType==="pkce"&&([s,l]=await _o(this.storage,this.storageKey)),await Xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:zR})}catch(s){if(Ve(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new $s;const{error:i}=await Xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Ve(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:l}=await Xe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:l,error:u}=await Xe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new yd("You must provide either an email or phone number and a type")}catch(r){if(Ve(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ma(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Cp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const l=await ma(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=Pp()}if(this.storage.isServer&&t.user){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(f,m,h)=>(!l&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,m,h))})}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:zs}):await this._useSession(async r=>{var n,i,s;const{data:l,error:u}=r;if(u)throw u;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $s}:await Xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:zs})})}catch(r){if(Ve(r))return pR(r)&&(await this._removeSession(),await Ms(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new $s;const l=i.session;let u=null,f=null;this.flowType==="pkce"&&t.email!=null&&([u,f]=await _o(this.storage,this.storageKey));const{data:m,error:h}=await Xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:f}),jwt:l.access_token,xform:zs});if(h)throw h;return l.user=m.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $s;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:l}=Op(t.access_token);if(l.exp&&(n=l.exp,i=n<=r),i){const{data:u,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!u)return{data:{user:null,session:null},error:null};s=u}else{const{data:u,error:f}=await this._getUser(t.access_token);if(f)throw f;s={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(Ve(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:u}=r;if(u)throw u;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new $s;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ve(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!cn())throw new xd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new xd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new D1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new D1("No code detected.");const{data:N,error:E}=await this._exchangeCodeForSession(t.code);if(E)throw E;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:l,expires_in:u,expires_at:f,token_type:m}=t;if(!s||!u||!l||!m)throw new xd("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(u);let v=h+p;f&&(v=parseInt(f));const w=v-h;w*1e3<=Oo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${p}s`);const _=v-p;h-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,v,h):h-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,v,h);const{data:b,error:x}=await this._getUser(s);if(x)throw x;const k={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:v,refresh_token:l,token_type:m,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:k,redirectType:t.type},error:null}}catch(n){if(Ve(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ma(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const l=(n=i.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!(mR(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return t!=="others"&&(await this._removeSession(),await Ms(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=_R(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await _o(this.storage,this.storageKey,!0));try{return await Xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(Ve(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var l,u,f,m,h;const{data:p,error:v}=s;if(v)throw v;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Xe(this.fetch,"GET",w,{headers:this.headers,jwt:(h=(m=p.session)===null||m===void 0?void 0:m.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return cn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Ve(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:l,provider:u,token:f,access_token:m,nonce:h}=t,p=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:f,access_token:m,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:si}),{data:v,error:w}=p;return w?{data:{user:null,session:null},error:w}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new So}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),{data:v,error:w})}catch(i){if(Ve(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:l}=r;if(l)throw l;return await Xe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await ER(async i=>(i>0&&await NR(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:si})),(i,s)=>{const l=200*Math.pow(2,i);return s&&Ap(s)&&Date.now()+l-n<Oo})}catch(n){if(this._debug(r,"error",n),Ve(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),cn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await ma(this.storage,this.storageKey);if(i&&this.userStorage){let l=await ma(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await Po(this.userStorage,this.storageKey+"-user",l)),i.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:Pp()}else if(i&&!i.user&&!i.user){const l=await ma(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await Ms(this.storage,this.storageKey+"-user"),await Po(this.storage,this.storageKey,i)):i.user=Pp()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Cp;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Cp}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),Ap(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(i.access_token);!u&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new $s;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Xf;const{data:s,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!s.session)throw new $s;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const u={data:s.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(s){if(this._debug(i,"error",s),Ve(s)){const l={data:null,error:s};return Ap(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,r)}catch(f){s.push(f)}});if(await Promise.all(l),s.length>0){for(let u=0;u<s.length;u+=1)console.error(s[u]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Po(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=F1(i);await Po(this.storage,this.storageKey,s)}else{const i=F1(r);await Po(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Ms(this.storage,this.storageKey),await Ms(this.storage,this.storageKey+"-code-verifier"),await Ms(this.storage,this.storageKey+"-user"),this.userStorage&&await Ms(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&cn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Oo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Oo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Oo}ms, refresh threshold is ${Dv} ticks`),i<=Dv&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof mE)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!cn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,l]=await _o(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(u.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await Xe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:l}=r;if(l)return{data:null,error:l};const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:f,error:m}=await Xe(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return m?{data:null,error:m}:(t.factorType==="totp"&&f.type==="totp"&&(!((i=f==null?void 0:f.totp)===null||i===void 0)&&i.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?iM(t.webauthn.credential_response):sM(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:f}=await Xe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:f})})}catch(r){if(Ve(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const l=await Xe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:rM(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:nM(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ve(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Op(i.access_token);let u=null;l.aal&&(u=l.aal);let f=u;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(f="aal2");const h=l.amr||[];return{data:{currentLevel:u,nextLevel:f,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(u=>u.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(u=>u.kid===t),n&&this.jwks_cached_at+fR>i)return n;const{data:s,error:l}=await Xe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(u=>u.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:w,error:_}=await this.getSession();if(_||!w.session)return{data:null,error:_};n=w.session.access_token}const{header:i,payload:s,signature:l,raw:{header:u,payload:f}}=Op(n);r!=null&&r.allowExpired||DR(s.exp);const m=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!m){const{error:w}=await this.getUser(n);if(w)throw w;return{data:{claims:s,header:i,signature:l},error:null}}const h=RR(i.alg),p=await crypto.subtle.importKey("jwk",m,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,l,bR(`${u}.${f}`)))throw new $v("Invalid JWT signature");return{data:{claims:s,header:i,signature:l},error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}}}kc.nextInstanceID=0;const mM=kc;class pM extends mM{constructor(t){super(t)}}var gM=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function u(h){try{m(n.next(h))}catch(p){l(p)}}function f(h){try{m(n.throw(h))}catch(p){l(p)}}function m(h){h.done?s(h.value):i(h.value).then(u,f)}m((n=n.apply(e,t||[])).next())})};class vM{constructor(t,r,n){var i,s,l;this.supabaseUrl=t,this.supabaseKey=r;const u=oR(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const f=`sb-${u.hostname.split(".")[0]}-auth-token`,m={db:QD,realtime:ZD,auth:Object.assign(Object.assign({},XD),{storageKey:f}),global:JD},h=aR(n??{},m);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=h.global.headers)!==null&&s!==void 0?s:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=h.auth)!==null&&l!==void 0?l:{},this.headers,h.global.fetch),this.fetch=nR(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new hD(new URL("rest/v1",u).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new KD(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new nD(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return gM(this,void 0,void 0,function*(){var t,r;if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:l,flowType:u,lock:f,debug:m},h,p){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new pM({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),h),storageKey:l,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,flowType:u,lock:f,debug:m,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new OD(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const yM=(e,t,r)=>new vM(e,t,r);function xM(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}xM()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const wM="https://okdzllfpsvltjqryslnn.supabase.co",bM="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9rZHpsbGZwc3ZsdGpxcnlzbG5uIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3NTcxMTgsImV4cCI6MjA3NTMzMzExOH0.uLhMzo49-OMEp4ghFAFI31IpiDs1tjbyY2jZlk-vgUo",Fe=yM(wM,bM);async function SM(e){const{data:t,error:r}=await Fe.from("users").select("*").eq("email",e).single();if(r){if(r.code==="PGRST116")return null;throw r}return t}async function _M(e){const{data:t,error:r}=await Fe.from("users").insert([e]).select().single();if(r)throw r;return t}async function Gy(e,t){let r=await SM(e);return r||(r=await _M({email:e,name:t})),r}async function H1(){const{data:e,error:t}=await Fe.from("users").select("*").order("created_at",{ascending:!1});if(t)throw t;return e||[]}async function jM(e){var l,u;const[t,r,n]=await Promise.all([tl(e),Fe.from("session_admins").select("session_id").eq("user_id",e),Fe.from("users").select("email").eq("id",e).single()]),i=((l=r.data)==null?void 0:l.length)||0;let s=0;if((u=n.data)!=null&&u.email){const{data:f}=await Fe.from("session_stakeholders").select("session_id").eq("user_email",n.data.email);s=(f==null?void 0:f.length)||0}return{userId:e,isSystemAdmin:t,sessionAdminCount:i,stakeholderSessionCount:s}}async function Yy(){const{data:e,error:t}=await Fe.from("voting_sessions").select("*").order("created_at",{ascending:!1});if(t)throw t;return e||[]}async function kM(e){const{data:t,error:r}=await Fe.from("voting_sessions").select("*").eq("session_code",e).single();if(r){if(r.code==="PGRST116")return null;throw r}return t}async function yE(e){if(await tl(e))return Yy();const{data:r,error:n}=await Fe.from("session_admins").select("session_id").eq("user_id",e);if(n)throw n;const i=(r==null?void 0:r.map(v=>v.session_id))||[],s=await Fe.from("users").select("email").eq("id",e).single();if(s.error)throw s.error;const{data:l,error:u}=await Fe.from("session_stakeholders").select("session_id").eq("user_email",s.data.email);if(u)throw u;const f=(l==null?void 0:l.map(v=>v.session_id))||[],m=[...new Set([...i,...f])];if(m.length===0)return[];const{data:h,error:p}=await Fe.from("voting_sessions").select("*").in("id",m).order("created_at",{ascending:!1});if(p)throw p;return h||[]}async function NM(e){const{data:t,error:r}=await Fe.from("voting_sessions").insert([e]).select().single();if(r)throw r;return t}async function EM(e,t){const{data:r,error:n}=await Fe.from("voting_sessions").update(t).eq("id",e).select().single();if(n)throw n;return r}async function xE(e){const{data:t,error:r}=await Fe.from("session_admins").select(`
      *,
      users (*)
    `).eq("session_id",e);if(r)throw r;return(t||[]).map(n=>({id:n.id,session_id:n.session_id,user_id:n.user_id,created_at:n.created_at,user:n.users}))}async function ef(e,t){const{data:r,error:n}=await Fe.from("session_admins").insert([{session_id:e,user_id:t}]).select().single();if(n)throw n;return r}async function CM(e,t,r){const n=await Gy(t,r);return ef(e,n.id)}async function zd(e,t){const{error:r}=await Fe.from("session_admins").delete().eq("session_id",e).eq("user_id",t);if(r)throw r}async function Nc(e,t){try{if(await tl(t))return!0;const{data:n,error:i}=await Fe.from("session_admins").select("id").eq("session_id",e).eq("user_id",t).maybeSingle();return i?(console.error("Error checking admin status:",i),!1):!!n}catch(r){return console.error("Caught exception checking admin:",r),!1}}async function wE(e){const{data:t,error:r}=await Fe.from("session_stakeholders").select("*").eq("session_id",e).order("user_name",{ascending:!0});if(r)throw r;return t||[]}async function bE(e){const{data:t,error:r}=await Fe.from("session_stakeholders").insert([e]).select().single();if(r)throw r;return t}async function K1(e,t,r){return bE({session_id:e,user_email:t,user_name:r})}function SE(e,t,r){const n=`${window.location.origin}/login?session=${e.session_code??""}`,i=encodeURIComponent(`You're invited to vote: ${e.title}`),s=encodeURIComponent(`Hi,

You've been invited to participate in a feature voting session.

Session: ${e.title}
Goal: ${e.goal}

To get started, copy and paste this link into your browser:

${n}

Voting Period: ${e.start_date?G1(e.start_date):""} - ${e.end_date?G1(e.end_date):""}

Best regards,
${r}`);return`mailto:${encodeURIComponent(t)}?subject=${i}&body=${s}`}function G1(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}async function Lv(e,t){const{error:r}=await Fe.from("session_stakeholders").delete().eq("session_id",e).eq("user_email",t);if(r)throw r}async function Jy(e,t){try{const{data:r,error:n}=await Fe.from("session_stakeholders").select("id").eq("session_id",e).eq("user_email",t).maybeSingle();return n?(console.error("Error checking stakeholder status:",n),!1):!!r}catch(r){return console.error("Caught exception checking stakeholder:",r),!1}}async function Yi(e){const{data:t,error:r}=await Fe.from("features").select("*").eq("session_id",e).order("created_at",{ascending:!1});if(r)throw r;return t||[]}async function Ip(e){const{data:t,error:r}=await Fe.from("features").insert([{session_id:e.session_id,title:e.title,description:e.description,epic:e.epic,state:e.state,area_path:e.areaPath,tags:e.tags,azure_devops_id:e.azure_devops_id,azure_devops_url:e.azure_devops_url}]).select().single();if(r)throw r;return t}async function Dp(e,t){const r={};t.title!==void 0&&(r.title=t.title),t.description!==void 0&&(r.description=t.description),t.epic!==void 0&&(r.epic=t.epic),t.state!==void 0&&(r.state=t.state),t.areaPath!==void 0&&(r.area_path=t.areaPath),t.tags!==void 0&&(r.tags=t.tags),t.azure_devops_id!==void 0&&(r.azure_devops_id=t.azure_devops_id),t.azure_devops_url!==void 0&&(r.azure_devops_url=t.azure_devops_url);const{data:n,error:i}=await Fe.from("features").update(r).eq("id",e).select().single();if(i)throw i;return n}async function Y1(e){const{error:t}=await Fe.from("features").delete().eq("id",e);if(t)throw t}async function Sa(e){const{data:t,error:r}=await Fe.from("votes").select("*").eq("session_id",e);if(r)throw r;return t||[]}async function AM(e){const{data:t}=await Fe.from("votes").select("*").eq("session_id",e.session_id).eq("feature_id",e.feature_id).eq("user_id",e.user_id).single();if(t){const{data:r,error:n}=await Fe.from("votes").update({vote_count:e.vote_count}).eq("session_id",e.session_id).eq("feature_id",e.feature_id).eq("user_id",e.user_id).select().single();if(n)throw n;return r}else{const{data:r,error:n}=await Fe.from("votes").insert([e]).select().single();if(n)throw n;return r}}async function OM(e,t){const{error:r}=await Fe.from("votes").delete().eq("session_id",e).eq("user_id",t);if(r)throw console.error("Error deleting user votes:",r),r}async function PM(e){const{error:t}=await Fe.from("votes").delete().eq("session_id",e);if(t)throw t}async function TM(e){try{const{data:t,error:r}=await Fe.from("azure_devops_config").select("*").eq("session_id",e).maybeSingle();if(r){if(r.code==="PGRST116")return null;throw r}return t}catch(t){return console.error("Error getting Azure DevOps config:",t),null}}async function Eo(e,t){try{const r={session_id:e,organization:t.organization,project:t.project,enabled:t.enabled,work_item_type:t.workItemType};t.accessToken!==void 0&&(r.access_token=t.accessToken),t.refreshToken!==void 0&&(r.refresh_token=t.refreshToken),t.tokenExpiresAt!==void 0&&(r.token_expires_at=t.tokenExpiresAt),t.tenantId!==void 0&&(r.tenant_id=t.tenantId),t.clientId!==void 0&&(r.client_id=t.clientId),t.query!==void 0&&(r.query=t.query),t.lastSyncTime!==void 0&&(r.last_sync_time=t.lastSyncTime),t.states!==void 0&&(r.states=t.states),t.areaPath!==void 0&&(r.area_path=t.areaPath),t.tags!==void 0&&(r.tags=t.tags);const{data:n,error:i}=await Fe.from("azure_devops_config").update(r).eq("session_id",e).select();if(!i&&n&&n.length>0)return n[0];const{data:s,error:l}=await Fe.from("azure_devops_config").upsert([r],{onConflict:"session_id"}).select().single();if(!l)return s;if((l==null?void 0:l.code)==="23505"){const{data:u,error:f}=await Fe.from("azure_devops_config").select("*").eq("session_id",e).maybeSingle();if(f)throw f;return u}throw l||i}catch(r){throw console.error("Error saving Azure DevOps config:",r),r}}async function IM(){return(await Yy())[0]||null}async function J1(e){const t=await IM();if(!t)throw new Error("No session found");return EM(t.id,e)}async function DM(e){const{data:t,error:r}=await Fe.from("info_requests").insert([{session_id:e.session_id,feature_id:e.feature_id,feature_title:e.feature_title,requester_id:e.requester_id,requester_name:e.requester_name,requester_email:e.requester_email,created_at:e.created_at}]).select().single();if(r)throw r;return t}async function Fv(){const{data:e,error:t}=await Fe.from("system_admins").select(`
      *,
      users (*)
    `).order("created_at",{ascending:!1});if(t)throw t;return(e||[]).map(r=>({id:r.id,user_id:r.user_id,created_at:r.created_at,user:r.users}))}async function tf(e){const{data:t,error:r}=await Fe.from("system_admins").insert([{user_id:e}]).select().single();if(r)throw r;return t}async function Bd(e){const{error:t}=await Fe.from("system_admins").delete().eq("user_id",e);if(t)throw t}async function tl(e){try{const{data:t,error:r}=await Fe.from("system_admins").select("id").eq("user_id",e).maybeSingle();return r?(console.error("Error checking system admin status:",r),!1):!!t}catch(t){return console.error("Caught exception checking system admin:",t),!1}}const _E=S.createContext(void 0);function RM({children:e}){const[t,r]=S.useState(null),[n,i]=S.useState([]),[s,l]=S.useState(null),[u,f]=S.useState(!1),[m,h]=S.useState(!1),[p,v]=S.useState(!0),[w,_]=S.useState(!1);S.useEffect(()=>{(async()=>{const A=localStorage.getItem("voting_system_user");if(A)try{const P=JSON.parse(A);l(P),await b(P)}catch(P){console.error("Error loading stored user:",P),localStorage.removeItem("voting_system_user")}v(!1)})()},[]),S.useEffect(()=>{(async()=>{if(!t||!s){f(!1),h(!1),_(!1);return}if(!w)try{const[A,P]=await Promise.all([Nc(t.id,s.id),Jy(t.id,s.email)]);f(A),h(P),_(!1)}catch(A){console.error("Error checking user roles:",A),f(!1),h(!1),_(!0)}})()},[t,s,w]);const b=S.useCallback(async E=>{const A=E||s;if(!A){i([]);return}try{const P=await yE(A.id);i(P),t&&!P.find(I=>I.id===t.id)&&r(null)}catch(P){console.error("Error loading sessions:",P),i([])}},[s,t]),x=S.useCallback(async E=>{l(E),_(!1),E?(localStorage.setItem("voting_system_user",JSON.stringify(E)),await b(E)):(localStorage.removeItem("voting_system_user"),i([]),r(null))},[b]),k=S.useCallback(E=>{r(E),_(!1),E?localStorage.setItem("voting_system_current_session",E.id):localStorage.removeItem("voting_system_current_session")},[]);S.useEffect(()=>{(async()=>{if(!s||n.length===0)return;const A=localStorage.getItem("voting_system_current_session");if(A){const P=n.find(I=>I.id===A);P&&r(P)}})()},[s,n]);const N={currentSession:t,sessions:n,currentUser:s,isAdmin:u,isStakeholder:m,setCurrentSession:k,refreshSessions:b,setCurrentUser:x};return p?c.jsx("div",{className:"min-h-screen w-full bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2d4660] mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):c.jsx(_E.Provider,{value:N,children:e})}function Li(){const e=S.useContext(_E);if(e===void 0)throw new Error("useSession must be used within a SessionProvider");return e}function Qy(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function Qs(e,t,r,n){return new(r||(r=Promise))((function(i,s){function l(m){try{f(n.next(m))}catch(h){s(h)}}function u(m){try{f(n.throw(m))}catch(h){s(h)}}function f(m){var h;m.done?i(m.value):(h=m.value,h instanceof r?h:new r((function(p){p(h)}))).then(l,u)}f((n=n.apply(e,[])).next())}))}var Q1,X1,Z1,rf,eS,tS,rS,Uv,nS,iS;function MM(e){return(e==null?void 0:e.errorCode)!==void 0}(function(e){e.Inline="inline",e.Desktop="desktop",e.Web="web"})(Q1||(Q1={})),(function(e){e.M365Content="m365content"})(X1||(X1={})),(function(e){e.DriveId="driveId",e.GroupId="groupId",e.SiteId="siteId",e.UserId="userId"})(Z1||(Z1={})),(function(e){e[e.NOT_SUPPORTED_ON_PLATFORM=100]="NOT_SUPPORTED_ON_PLATFORM",e[e.INTERNAL_ERROR=500]="INTERNAL_ERROR",e[e.NOT_SUPPORTED_IN_CURRENT_CONTEXT=501]="NOT_SUPPORTED_IN_CURRENT_CONTEXT",e[e.PERMISSION_DENIED=1e3]="PERMISSION_DENIED",e[e.NETWORK_ERROR=2e3]="NETWORK_ERROR",e[e.NO_HW_SUPPORT=3e3]="NO_HW_SUPPORT",e[e.INVALID_ARGUMENTS=4e3]="INVALID_ARGUMENTS",e[e.UNAUTHORIZED_USER_OPERATION=5e3]="UNAUTHORIZED_USER_OPERATION",e[e.INSUFFICIENT_RESOURCES=6e3]="INSUFFICIENT_RESOURCES",e[e.THROTTLE=7e3]="THROTTLE",e[e.USER_ABORT=8e3]="USER_ABORT",e[e.OPERATION_TIMED_OUT=8001]="OPERATION_TIMED_OUT",e[e.OLD_PLATFORM=9e3]="OLD_PLATFORM",e[e.FILE_NOT_FOUND=404]="FILE_NOT_FOUND",e[e.SIZE_EXCEEDED=1e4]="SIZE_EXCEEDED"})(rf||(rf={})),(function(e){e.GeoLocation="geolocation",e.Media="media"})(eS||(eS={})),(function(e){e.BCAIS="bcais",e.BCWAF="bcwaf",e.BCWBF="bcwbf"})(tS||(tS={})),(function(e){e.Faculty="faculty",e.Student="student",e.Other="other"})(rS||(rS={})),(function(e){e.Adult="adult",e.MinorNoParentalConsentRequired="minorNoParentalConsentRequired",e.MinorWithoutParentalConsent="minorWithoutParentalConsent",e.MinorWithParentalConsent="minorWithParentalConsent",e.NotAdult="notAdult",e.NonAdult="notAdult"})(Uv||(Uv={})),(function(e){e.HigherEducation="higherEducation",e.K12="k12",e.Other="other"})(nS||(nS={})),(function(e){e.TextPlain="text/plain",e.TextHtml="text/html",e.ImagePNG="image/png",e.ImageJPEG="image/jpeg"})(iS||(iS={}));var ot,zv,Bv,sS,aS,oS,lS,cS;(function(e){e.desktop="desktop",e.web="web",e.android="android",e.ios="ios",e.ipados="ipados",e.macos="macos",e.visionOS="visionOS",e.rigel="rigel",e.surfaceHub="surfaceHub",e.teamsRoomsWindows="teamsRoomsWindows",e.teamsRoomsAndroid="teamsRoomsAndroid",e.teamsPhones="teamsPhones",e.teamsDisplays="teamsDisplays"})(ot||(ot={})),(function(e){e.office="Office",e.outlook="Outlook",e.outlookWin32="OutlookWin32",e.orange="Orange",e.places="Places",e.teams="Teams",e.teamsModern="TeamsModern"})(zv||(zv={})),(function(e){e.settings="settings",e.content="content",e.authentication="authentication",e.remove="remove",e.task="task",e.sidePanel="sidePanel",e.stage="stage",e.meetingStage="meetingStage"})(Bv||(Bv={})),(function(e){e.copilotSidePanel="copilotSidePanel",e.copilotMainPane="copilotMainPane",e.copilotFullScreen="copilotFullScreen"})(sS||(sS={})),(function(e){e[e.Standard=0]="Standard",e[e.Edu=1]="Edu",e[e.Class=2]="Class",e[e.Plc=3]="Plc",e[e.Staff=4]="Staff"})(aS||(aS={})),(function(e){e[e.Admin=0]="Admin",e[e.User=1]="User",e[e.Guest=2]="Guest"})(oS||(oS={})),(function(e){e.Large="large",e.Medium="medium",e.Small="small"})(lS||(lS={})),(function(e){e.Regular="Regular",e.Private="Private",e.Shared="Shared"})(cS||(cS={}));const $M={errorCode:rf.NOT_SUPPORTED_ON_PLATFORM},LM={adaptiveCardSchemaVersion:{majorVersion:1,minorVersion:5}};var uS={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let wd;const FM=new Uint8Array(16);function UM(){if(!wd&&(wd=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!wd))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return wd(FM)}const br=[];for(let e=0;e<256;++e)br.push((e+256).toString(16).slice(1));function zM(e,t=0){return br[e[t+0]]+br[e[t+1]]+br[e[t+2]]+br[e[t+3]]+"-"+br[e[t+4]]+br[e[t+5]]+"-"+br[e[t+6]]+br[e[t+7]]+"-"+br[e[t+8]]+br[e[t+9]]+"-"+br[e[t+10]]+br[e[t+11]]+br[e[t+12]]+br[e[t+13]]+br[e[t+14]]+br[e[t+15]]}function BM(e,t,r){if(uS.randomUUID&&!e)return uS.randomUUID();const n=(e=e||{}).random||(e.rng||UM)();return n[6]=15&n[6]|64,n[8]=63&n[8]|128,zM(n)}var VM=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function WM(e){return typeof e=="string"&&VM.test(e)}function jE(e,t){if(typeof e!="string"||typeof t!="string")return NaN;const r=e.split("."),n=t.split(".");function i(s){return/^\d+$/.test(s)}if(!r.every(i)||!n.every(i))return NaN;for(;r.length<n.length;)r.push("0");for(;n.length<r.length;)n.push("0");for(let s=0;s<r.length;++s)if(Number(r[s])!=Number(n[s]))return Number(r[s])>Number(n[s])?1:-1;return 0}function qM(){return BM()}function kE(e){return Object.keys(e).forEach((t=>{e[t]!==null&&e[t]!==void 0&&typeof e[t]=="object"&&kE(e[t])})),Object.freeze(e)}function HM(e,t,r){return new Promise(((n,i)=>{const s=setTimeout(i,t,r);e().then((l=>{clearTimeout(s),n(l)})).catch((l=>{clearTimeout(s),i(l)}))}))}function KM(e){return e.protocol==="https:"}function GM(){if(Zf())throw new Error("window object undefined at SSR check");return window}function Zf(){return typeof window>"u"}function YM(e){return new RegExp(`${/<script[^>]*>|&lt;script[^&]*&gt;|%3Cscript[^%]*%3E/gi.source}|${/<\/script[^>]*>|&lt;\/script[^&]*&gt;|%3C\/script[^%]*%3E/gi.source}`,"gi").test(e)}function JM(e){if(!e)throw new Error("id must not be empty");if(WM(e)===!1)throw new Error("id must be a valid UUID")}const QM=!!performance&&"now"in performance;function Xy(){return QM?performance.now()+performance.timeOrigin:void 0}function dS(e){var t,r;if(!(!((r=(t=e.hostVersionsInfo)===null||t===void 0?void 0:t.appEligibilityInformation)===null||r===void 0)&&r.ageGroup))return e;const n=e.hostVersionsInfo.appEligibilityInformation.ageGroup;return(n==null?void 0:n.toLowerCase())!=="nonadult"?e:Object.assign(Object.assign({},e),{hostVersionsInfo:Object.assign(Object.assign({},e.hostVersionsInfo),{appEligibilityInformation:Object.assign(Object.assign({},e.hostVersionsInfo.appEligibilityInformation),{ageGroup:Uv.NotAdult})})})}let Bc=class{constructor(t=qM()){this.uuid=t,JM(t)}toString(){return this.uuid}serialize(){return this.toString()}};const NE=e=>{const{uuid:t}=e,r=Qy(e,["uuid"]),n=t==null?void 0:t.toString();return Object.assign(Object.assign({},r),{uuidAsString:n})},XM=e=>{const{uuidAsString:t}=e,r=Qy(e,["uuidAsString"]);return Object.assign(Object.assign({},r),{uuid:t?new Bc(t):void 0})};var Vv={exports:{}},fS,hS;function ZM(){if(hS)return fS;hS=1;var e=1e3,t=60*e,r=60*t,n=24*r,i=7*n,s=365.25*n;function l(u,f,m,h){var p=f>=1.5*m;return Math.round(u/m)+" "+h+(p?"s":"")}return fS=function(u,f){f=f||{};var m=typeof u;if(m==="string"&&u.length>0)return(function(h){if(!((h=String(h)).length>100)){var p=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(h);if(p){var v=parseFloat(p[1]);switch((p[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return v*s;case"weeks":case"week":case"w":return v*i;case"days":case"day":case"d":return v*n;case"hours":case"hour":case"hrs":case"hr":case"h":return v*r;case"minutes":case"minute":case"mins":case"min":case"m":return v*t;case"seconds":case"second":case"secs":case"sec":case"s":return v*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return v;default:return}}}})(u);if(m==="number"&&isFinite(u))return f.long?(function(h){var p=Math.abs(h);return p>=n?l(h,p,n,"day"):p>=r?l(h,p,r,"hour"):p>=t?l(h,p,t,"minute"):p>=e?l(h,p,e,"second"):h+" ms"})(u):(function(h){var p=Math.abs(h);return p>=n?Math.round(h/n)+"d":p>=r?Math.round(h/r)+"h":p>=t?Math.round(h/t)+"m":p>=e?Math.round(h/e)+"s":h+"ms"})(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))}}var e$=function(e){function t(i){let s,l,u,f=null;function m(...h){if(!m.enabled)return;const p=m,v=Number(new Date),w=v-(s||v);p.diff=w,p.prev=s,p.curr=v,s=v,h[0]=t.coerce(h[0]),typeof h[0]!="string"&&h.unshift("%O");let _=0;h[0]=h[0].replace(/%([a-zA-Z%])/g,((b,x)=>{if(b==="%%")return"%";_++;const k=t.formatters[x];if(typeof k=="function"){const N=h[_];b=k.call(p,N),h.splice(_,1),_--}return b})),t.formatArgs.call(p,h),(p.log||t.log).apply(p,h)}return m.namespace=i,m.useColors=t.useColors(),m.color=t.selectColor(i),m.extend=r,m.destroy=t.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(l!==t.namespaces&&(l=t.namespaces,u=t.enabled(i)),u),set:h=>{f=h}}),typeof t.init=="function"&&t.init(m),m}function r(i,s){const l=t(this.namespace+(s===void 0?":":s)+i);return l.log=this.log,l}function n(i){return i.toString().substring(2,i.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(i){return i instanceof Error?i.stack||i.message:i},t.disable=function(){const i=[...t.names.map(n),...t.skips.map(n).map((s=>"-"+s))].join(",");return t.enable(""),i},t.enable=function(i){let s;t.save(i),t.namespaces=i,t.names=[],t.skips=[];const l=(typeof i=="string"?i:"").split(/[\s,]+/),u=l.length;for(s=0;s<u;s++)l[s]&&((i=l[s].replace(/\*/g,".*?"))[0]==="-"?t.skips.push(new RegExp("^"+i.slice(1)+"$")):t.names.push(new RegExp("^"+i+"$")))},t.enabled=function(i){if(i[i.length-1]==="*")return!0;let s,l;for(s=0,l=t.skips.length;s<l;s++)if(t.skips[s].test(i))return!1;for(s=0,l=t.names.length;s<l;s++)if(t.names[s].test(i))return!0;return!1},t.humanize=ZM(),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((i=>{t[i]=e[i]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(i){let s=0;for(let l=0;l<i.length;l++)s=(s<<5)-s+i.charCodeAt(l),s|=0;return t.colors[Math.abs(s)%t.colors.length]},t.enable(t.load()),t},t$={};(function(e,t){t.formatArgs=function(n){if(n[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+n[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const i="color: "+this.color;n.splice(1,0,i,"color: inherit");let s=0,l=0;n[0].replace(/%[a-zA-Z%]/g,(u=>{u!=="%%"&&(s++,u==="%c"&&(l=s))})),n.splice(l,0,i)},t.save=function(n){try{n?t.storage.setItem("debug",n):t.storage.removeItem("debug")}catch{}},t.load=function(){let n;try{n=t.storage.getItem("debug")}catch{}return!n&&typeof process<"u"&&"env"in process&&(n=t$.DEBUG),n},t.useColors=function(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=(function(){try{return localStorage}catch{}})(),t.destroy=(()=>{let n=!1;return()=>{n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=e$(t);const{formatters:r}=e.exports;r.j=function(n){try{return JSON.stringify(n)}catch(i){return"[UnexpectedJSONParseError]: "+i.message}}})(Vv,Vv.exports);var Zy=Vv.exports;const r$=new Bc,n$=Zy.debug.formatArgs;Zy.debug.formatArgs=function(e){e[0]=`(${new Date().toISOString()}): ${e[0]} [${r$.toString()}]`,n$.call(this,e)};const i$=Zy.debug("teamsJs");function Fi(e){return i$.extend(e)}function qt(e,t){return`${e}_${t}`}function EE(e){return/^v\d+_[\w.]+$/.test(e)}function qs(e){return e.uuidAsString!==void 0?`${e.uuidAsString} (legacy id: ${e.id})`:e.uuid!==void 0?`${e.uuid.toString()} (legacy id: ${e.id})`:`legacy id: ${e.id} (no uuid)`}const s$=Fi("flushMessageQueue");function CE(e,t,r,n){if(e&&t&&r.length!==0)for(;r.length>0;){const i=r.shift();if(i){const s=NE(i);s$("Flushing message %s from %s message queue via postMessage.",qs(s),n),e.postMessage(s,t)}}}var a$=["teams.microsoft.com","teams.microsoft.us","gov.teams.microsoft.us","dod.teams.microsoft.us","int.teams.microsoft.com","outlook.office.com","outlook-sdf.office.com","outlook.office365.com","outlook-sdf.office365.com","outlook.office365.us","outlook-dod.office365.us","webmail.apps.mil","outlook.live.com","outlook-sdf.live.com","teams.live.com","local.teams.live.com","local.teams.live.com:8080","local.teams.office.com","local.teams.office.com:8080","devspaces.skype.com","*.www.office.com","www.office.com","word.office.com","excel.office.com","powerpoint.office.com","www.officeppe.com","*.www.microsoft365.com","www.microsoft365.com","bing.com","edgeservices.bing.com","work.bing.com","www.bing.com","www.staging-bing-int.com","*.cloud.microsoft","*.m365.cloud.microsoft","*.outlook.cloud.microsoft","chatuxmanager.svc.cloud.microsoft","copilot.microsoft.com","windows.msn.com","fa000000125.resources.office.net","fa000000129.resources.office.net","fa000000124.resources.office.net","fa000000128.resources.office.net","fa000000136.resources.office.net","fa000000125.officeapps.live.com","fa000000129.officeapps.live.com","fa000000124.officeapps.live.com","fa000000128.officeapps.live.com"];const mS="2.0.1",Vd=a$,pS=1500,o$=new URL("https://res.cdn.office.net/teams-js/validDomains/json/validDomains.json"),l$=/^https:\/\//,Ec="The library has not yet been initialized",c$="The runtime has not yet been initialized",u$="The runtime version is not supported";let Ze=class{};Ze.initializeCalled=!1,Ze.initializeCompleted=!1,Ze.additionalValidOrigins=[],Ze.initializePromise=void 0,Ze.isFramelessWindow=!1,Ze.frameContext=void 0,Ze.hostClientType=void 0,Ze.printCapabilityEnabled=!1,Ze.teamsJsInstanceId=new Bc().toString();const AE=Fi("runtime"),eh=4;function OE(e){return e.apiVersion===eh}function d$(e){if(OE(e))return!0;throw e.apiVersion===-1?new Error(c$):new Error(u$)}let Ti={apiVersion:-1,supports:{}};const f$={supports:{appInstallDialog:{},appEntity:{},call:{},chat:{},conversations:{},dialog:{card:{bot:{}},url:{bot:{},parentCommunication:{}},update:{}},interactive:{},logs:{},meetingRoom:{},menus:{},monetization:{},notifications:{},pages:{config:{},backStack:{},fullTrust:{}},remoteCamera:{},teams:{fullTrust:{}},teamsCore:{},video:{sharedFrame:{}}}},PE=[ot.desktop,ot.web,ot.rigel,ot.surfaceHub,ot.teamsRoomsWindows,ot.teamsRoomsAndroid,ot.teamsPhones,ot.teamsDisplays],h$=[ot.android,ot.ios,ot.ipados,ot.visionOS],gS=[...PE,...h$];function m$(e){let t=e;if(t.apiVersion<eh&&p$.forEach((r=>{t.apiVersion===r.versionToUpgradeFrom&&(t=r.upgradeToNextVersion(t))})),OE(t))return t;throw new Error("Received a runtime that could not be upgraded to the latest version")}const p$=[{versionToUpgradeFrom:1,upgradeToNextVersion:e=>{var t;return{apiVersion:2,hostVersionsInfo:void 0,isLegacyTeams:e.isLegacyTeams,supports:Object.assign(Object.assign({},e.supports),{dialog:e.supports.dialog?{card:void 0,url:e.supports.dialog,update:(t=e.supports.dialog)===null||t===void 0?void 0:t.update}:void 0})}}},{versionToUpgradeFrom:2,upgradeToNextVersion:e=>{const t=e.supports,r=Qy(t,["appNotification"]);return Object.assign(Object.assign({},e),{apiVersion:3,supports:r})}},{versionToUpgradeFrom:3,upgradeToNextVersion:e=>{var t,r,n,i,s;return{apiVersion:4,hostVersionsInfo:e.hostVersionsInfo,isNAAChannelRecommended:e.isNAAChannelRecommended,isLegacyTeams:e.isLegacyTeams,supports:Object.assign(Object.assign({},e.supports),{dialog:e.supports.dialog?{card:(t=e.supports.dialog)===null||t===void 0?void 0:t.card,url:{bot:(n=(r=e.supports.dialog)===null||r===void 0?void 0:r.url)===null||n===void 0?void 0:n.bot,parentCommunication:!((i=e.supports.dialog)===null||i===void 0)&&i.url?{}:void 0},update:(s=e.supports.dialog)===null||s===void 0?void 0:s.update}:void 0})}}}],g$={"1.0.0":[{capability:{pages:{appButton:{},tabs:{}},stageView:{}},hostClientTypes:PE}],"1.9.0":[{capability:{location:{}},hostClientTypes:gS}],"2.0.0":[{capability:{people:{}},hostClientTypes:gS},{capability:{sharing:{}},hostClientTypes:[ot.desktop,ot.web]}],"2.0.1":[{capability:{teams:{fullTrust:{joinedTeams:{}}}},hostClientTypes:[ot.android,ot.desktop,ot.ios,ot.teamsRoomsAndroid,ot.teamsPhones,ot.teamsDisplays,ot.web]},{capability:{webStorage:{}},hostClientTypes:[ot.desktop]}],"2.0.5":[{capability:{webStorage:{}},hostClientTypes:[ot.android,ot.ios]}],"2.0.8":[{capability:{sharing:{}},hostClientTypes:[ot.android,ot.ios]}],"2.1.1":[{capability:{nestedAppAuth:{}},hostClientTypes:[ot.android,ot.ios,ot.ipados,ot.visionOS]}],"2.1.2":[]},Rp=AE.extend("generateBackCompatRuntimeConfig");function TE(e,t){const r=Object.assign({},e);for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(typeof t[n]!="object"||Array.isArray(t[n])?n in e||(r[n]=t[n]):r[n]=TE(e[n]||{},t[n]));return r}function v$(e,t,r){Rp("generating back compat runtime config for %s",e);let n=Object.assign({},t.supports);Rp("Supported capabilities in config before updating based on highestSupportedVersion: %o",n),Object.keys(r).forEach((s=>{jE(e,s)>=0&&r[s].forEach((l=>{Ze.hostClientType!==void 0&&l.hostClientTypes.includes(Ze.hostClientType)&&(n=TE(n,l.capability))}))}));const i={apiVersion:eh,hostVersionsInfo:LM,isLegacyTeams:!0,supports:n};return Rp("Runtime config after updating based on highestSupportedVersion: %o",i),i}const Mp=AE.extend("applyRuntimeConfig");function $p(e){typeof e.apiVersion=="string"&&(Mp("Trying to apply runtime with string apiVersion, processing as v1: %o",e),e=Object.assign(Object.assign({},e),{apiVersion:1})),Mp("Fast-forwarding runtime %o",e);const t=m$(e);Mp("Applying runtime %o",t),Ti=kE(t)}function y$(e){return e!=null&&e.serialize!==void 0&&typeof e.serialize=="function"}const nf="2.46.0";let sf=class To{static storeCallbackInformation(t,r){To.callbackInformation.set(t,r)}static clearMessages(){To.callbackInformation.clear()}static deleteMessageInformation(t){To.callbackInformation.delete(t)}static handleOneWayPerformanceMetrics(t,r,n){const i=t.monotonicTimestamp;i&&n?AS({actionName:t.func,messageDelay:n-i,requestStartedAt:i}):r("Unable to send performance metrics for event %s",t.func)}static handlePerformanceMetrics(t,r,n,i){const s=To.callbackInformation.get(t);s&&r.monotonicTimestamp&&i?(AS({actionName:s.name,messageDelay:i-r.monotonicTimestamp,requestStartedAt:s.calledAt}),To.deleteMessageInformation(t)):n("Unable to send performance metrics for callback %s with arguments %o",t.toString(),r.args)}};sf.callbackInformation=new Map;const IE=Fi("nestedAppAuthUtils"),x$=IE.extend("tryPolyfillWithNestedAppAuthBridge"),w$="v2";function b$(e,t,r){var n;const i=x$;if(Ze.isFramelessWindow)return void i("Cannot polyfill nestedAppAuthBridge as current window is frameless");if(!t)return void i("Cannot polyfill nestedAppAuthBridge as current window does not exist");if(t.parent!==t.top)return void i("Default NAA bridge injection not supported in nested iframe. Use standalone NAA bridge instead.");const s=(()=>{try{return JSON.parse(e)}catch{return null}})();if(!s||!(!((n=s.supports)===null||n===void 0)&&n.nestedAppAuth))return void i("Cannot polyfill nestedAppAuthBridge as current hub does not support nested app auth");const l=t;if(l.nestedAppAuthBridge)return void i("nestedAppAuthBridge already exists on current window, skipping polyfill");const u=(function(f,m){const h=S$;if(!f)return h("nestedAppAuthBridge cannot be created as current window does not exist"),null;const{onMessage:p,sendPostMessage:v}=m,w=_=>b=>p(b,_);return{addEventListener:(_,b)=>{_==="message"?f.addEventListener(_,w(b)):h(`Event ${_} is not supported by nestedAppAuthBridge`)},postMessage:_=>{const b=(()=>{try{return JSON.parse(_)}catch{return null}})();if(!b||typeof b!="object"||b.messageType!=="NestedAppAuthRequest")return void h("Unrecognized data format received by app, message being ignored. Message: %o",_);const x=qt(w$,"nestedAppAuth.execute");v(_,x)},removeEventListener:(_,b)=>{f.removeEventListener(_,w(b))}}})(l,r);u&&(l.nestedAppAuthBridge=u)}const S$=IE.extend("createNestedAppAuthBridge");let Ls=[];const Bs=Fi("validateOrigin");let fc;function _$(){return Qs(this,void 0,void 0,(function*(){fc||(yield RE())}))}function DE(){return Ls.length===0}function RE(e=!1){return Qs(this,void 0,void 0,(function*(){if(!DE()&&!e)return Ls;if(fc)return fc;if(Zf())return Ls=Vd,Vd;{Bs("Initiating fetch call to acquire valid origins list from CDN");const t=new AbortController,r=setTimeout((()=>t.abort()),pS);return fc=fetch(o$,{signal:t.signal}).then((n=>{if(clearTimeout(r),!n.ok)throw new Error("Invalid Response from Fetch Call");return Bs("Fetch call completed and retrieved valid origins list from CDN"),n.json().then((i=>{if((function(s){let l=JSON.parse(s);try{l=JSON.parse(s)}catch{return!1}if(!l.validOrigins)return!1;for(const u of l.validOrigins)try{new URL("https://"+u)}catch{return Bs("isValidOriginsFromCDN call failed to validate origin: %s",u),!1}return!0})(JSON.stringify(i)))return Ls=i.validOrigins,Ls;throw new Error("Valid origins list retrieved from CDN is invalid")}))})).catch((n=>(n.name==="AbortError"?Bs(`validOrigins fetch call to CDN failed due to Timeout of ${pS} ms. Defaulting to fallback list`):Bs("validOrigins fetch call to CDN failed with error: %s. Defaulting to fallback list",n),Ls=Vd,Ls))),fc}}))}function vS(e,t){if(e.substring(0,2)==="*."){const r=e.substring(1);if(t.length>r.length&&t.split(".").length===r.split(".").length&&t.substring(t.length-r.length)===r)return!0}else if(e===t)return!0;return!1}function j$(e,t){const r=DE()?Vd:Ls;return yS(e,r)?Promise.resolve(!0):(Bs("Origin %s is not in the local valid origins list, fetching from CDN",e),RE(t).then((n=>yS(e,n))))}function yS(e,t){if(!KM(e))return Bs("Origin %s is invalid because it is not using https protocol. Protocol being used: %s",e,e.protocol),!1;const r=e.host;if(t.some((n=>vS(n,r))))return!0;for(const n of Ze.additionalValidOrigins)if(vS(n.substring(0,8)==="https://"?n.substring(8):n,r))return!0;return Bs(`Origin %s is invalid because it is not an origin approved by this library or included in the call to app.initialize.
Origins approved by this library: %o
Origins included in app.initialize: %o`,e,t,Ze.additionalValidOrigins),!1}_$();const Ba=Fi("communication");let Re=class{},ct=class{};function k$(e,t){if(ct.messageListener=r=>(function(n){return Qs(this,void 0,void 0,(function*(){if(!n||!n.data||typeof n.data!="object")return void xS("Unrecognized message format received by app, message being ignored. Message: %o",n);const i=n.source||n.originalEvent&&n.originalEvent.source,s=n.origin||n.originalEvent&&n.originalEvent.origin;return LE(i,s).then((l=>{l?((function(u,f){Ze.isFramelessWindow||Re.parentWindow&&!Re.parentWindow.closed&&u!==Re.parentWindow||(Re.parentWindow=u,Re.parentOrigin=f),Re.parentWindow&&Re.parentWindow.closed&&(Re.parentWindow=null,Re.parentOrigin=null),CE(Re.parentWindow,Re.parentOrigin,ct.parentMessageQueue,"parent")})(i,s),i!==Re.parentWindow?C3():bS(n)):xS("Message being ignored by app because it is either coming from the current window or a different window with an invalid origin, message: %o, source: %o, origin: %o",n,i,s)}))}))})(r),Re.currentWindow=Re.currentWindow||GM(),Re.parentWindow=Re.currentWindow.parent!==Re.currentWindow.self?Re.currentWindow.parent:Re.currentWindow.opener,Re.topWindow=Re.currentWindow.top,(Re.parentWindow||e)&&Re.currentWindow.addEventListener("message",ct.messageListener,!1),!Re.parentWindow){const r=Re.currentWindow;if(!r.nativeInterface)return Promise.reject(new Error("Initialization Failed. No Parent window found."));Ze.isFramelessWindow=!0,r.onNativeMessage=bS}try{return Re.parentOrigin="*",th(t,"initialize",[nf,eh,e]).then((([r,n,i,s])=>(b$(s,Re.currentWindow,{onMessage:R$,sendPostMessage:P$}),{context:r,clientType:n,runtimeConfig:i,clientSupportedSDKVersion:s})))}finally{Re.parentOrigin=null}}function N$(e,t,...r){return th(e,t,r).then((([n])=>n))}function E$(e,t,r,...n){return th(e,t,n).then((([i,s])=>{if(!i)throw new Error(s||r)}))}function th(e,t,r=void 0){if(!EE(e))throw Error(`apiVersionTag: ${e} passed in doesn't follow the pattern starting with 'v' followed by digits, then underscore with words, please check.`);return new Promise((n=>{const i=$E(e,t,r);var s;n((s=i.uuid,new Promise((l=>{ct.promiseCallbacks.set(s,l)}))))}))}function C$(e){return e.map((t=>y$(t)?t.serialize():t))}function A$(e,t,r,n,i){var s;return Qs(this,void 0,void 0,(function*(){const l=C$(t),[u]=yield th(n,e,l);if(MM(u))throw new Error(`${u.errorCode}, message: ${(s=u.message)!==null&&s!==void 0?s:"None"}`);if(r.validate(u))return r.deserialize(u);throw new Error(`${rf.INTERNAL_ERROR}, message: Invalid response from host - ${JSON.stringify(u)}`)}))}function fi(e,t,r,n){let i;if(r instanceof Function?n=r:r instanceof Array&&(i=r),!EE(e))throw Error(`apiVersionTag: ${e} passed in doesn't follow the pattern starting with 'v' followed by digits, then underscore with words, please check.`);const s=$E(e,t,i);n&&ct.callbacks.set(s.uuid,n)}ct.parentMessageQueue=[],ct.topMessageQueue=[],ct.nextMessageId=0,ct.callbacks=new Map,ct.promiseCallbacks=new Map,ct.portCallbacks=new Map,ct.legacyMessageIdsToUuidMap={};const O$=Ba.extend("sendNestedAuthRequestToTopWindow");function P$(e,t){const r=O$,n=Re.topWindow,i=(function(s,l){const u=ct.nextMessageId++,f=new Bc;return ct.legacyMessageIdsToUuidMap[u]=f,{id:u,uuid:f,func:"nestedAppAuth.execute",timestamp:Date.now(),monotonicTimestamp:Xy(),apiVersionTag:l,args:[],data:s}})(e,t);return r("Message %s information: %o",qs(i),{actionName:i.func}),ME(n,i)}const T$=Ba.extend("sendRequestToTargetWindowHelper");function ME(e,t){const r=T$,n=(function(s){return s===Re.topWindow&&Wv()?"top":s===Re.parentWindow?"parent":null})(e),i=NE(t);if(Ze.isFramelessWindow)Re.currentWindow&&Re.currentWindow.nativeInterface&&(r("Sending message %s to %s via framelessPostMessage interface",qs(i),n),Re.currentWindow.nativeInterface.framelessPostMessage(JSON.stringify(i)));else{const s=(function(l){return l===Re.topWindow&&Wv()?Re.topOrigin:l===Re.parentWindow?Re.parentOrigin:null})(e);e&&s?(r("Sending message %s to %s via postMessage",qs(i),n),e.postMessage(i,s)):(r("Adding message %s to %s message queue",qs(i),n),M$(e).push(t))}return t}const I$=Ba.extend("sendMessageToParentHelper");function $E(e,t,r,n,i){const s=I$,l=Re.parentWindow,u=(function(f,m,h,p,v){const w=ct.nextMessageId++,_=new Bc;ct.legacyMessageIdsToUuidMap[w]=_;const b=Ze.teamsJsInstanceId;return{id:w,uuid:_,func:m,timestamp:Date.now(),monotonicTimestamp:Xy(),args:h||[],apiVersionTag:f,isProxiedFromChild:p!=null,teamsJsInstanceId:b}})(e,t,r,n);return sf.storeCallbackInformation(u.uuid,{name:t,calledAt:u.timestamp}),s("Message %s information: %o",qs(u),{actionName:t,args:r}),ME(l,u)}const xS=Ba.extend("processIncomingMessage"),D$=Ba.extend("processAuthBridgeMessage");function R$(e,t){var r,n;const i=D$;if(!e||!e.data||typeof e.data!="object")return void i("Unrecognized message format received by app, message being ignored. Message: %o",e);const{args:s}=e.data,[,l]=s??[],u=(()=>{try{return JSON.parse(l)}catch{return null}})();if(!u||typeof u!="object"||u.messageType!=="NestedAppAuthResponse")return void i("Unrecognized data format received by app, message being ignored. Message: %o",e);const f=e.source||((r=e==null?void 0:e.originalEvent)===null||r===void 0?void 0:r.source),m=e.origin||((n=e==null?void 0:e.originalEvent)===null||n===void 0?void 0:n.origin);f?LE(f,m)?(Re.topWindow&&!Re.topWindow.closed&&f!==Re.topWindow||(Re.topWindow=f,Re.topOrigin=m),Re.topWindow&&Re.topWindow.closed&&(Re.topWindow=null,Re.topOrigin=null),CE(Re.topWindow,Re.topOrigin,ct.topMessageQueue,"top"),t(l)):i("Message being ignored by app because it is either coming from the current window or a different window with an invalid origin"):i("Message being ignored by app because it is coming for a target that is null")}const Lp=Ba.extend("shouldProcessIncomingMessage");function LE(e,t){return Qs(this,void 0,void 0,(function*(){if(Re.currentWindow&&e===Re.currentWindow)return Lp("Should not process message because it is coming from the current window"),!1;if(Re.currentWindow&&Re.currentWindow.location&&t&&t===Re.currentWindow.location.origin)return!0;{let r;try{r=new URL(t)}catch{return Lp("Message has an invalid origin of %s",t),!1}const n=yield j$(r);return n||Lp("Message has an invalid origin of %s",t),n}}))}const wS=Ba.extend("handleIncomingMessageFromParent");function Wd(e,t){if(t){const r=[...e].find((([n,i])=>n.toString()===t.toString()));if(r)return r[0]}}function Fp(e,t){const r=Wd(t,e.uuid);r&&t.delete(r),e.uuid?ct.legacyMessageIdsToUuidMap={}:delete ct.legacyMessageIdsToUuidMap[e.id]}function bS(e){const t=wS,r=Xy();if("id"in e.data&&typeof e.data.id=="number"){const n=e.data,i=XM(n),s=(function(l){const u=wS;if(!l.uuid)return ct.legacyMessageIdsToUuidMap[l.id];{const f=l.uuid,m=Wd(ct.callbacks,f);if(m)return m;const h=Wd(ct.promiseCallbacks,f);if(h)return h;const p=Wd(ct.portCallbacks,f);if(p)return p}u("Received message %s that failed to produce a callbackId",qs(l))})(i);if(s){const l=ct.callbacks.get(s);t("Received a response from parent for message %s",s.toString()),sf.handlePerformanceMetrics(s,i,t,r),l&&(t("Invoking the registered callback for message %s with arguments %o",s.toString(),i.args),l.apply(null,[...i.args,i.isPartialResponse]),(function(m){return m.data.isPartialResponse===!0})(e)||(t("Removing registered callback for message %s",s.toString()),Fp(i,ct.callbacks)));const u=ct.promiseCallbacks.get(s);u&&(t("Invoking the registered promise callback for message %s with arguments %o",s.toString(),i.args),u(i.args),t("Removing registered promise callback for message %s",s.toString()),Fp(i,ct.promiseCallbacks));const f=ct.portCallbacks.get(s);if(f){let m;t("Invoking the registered port callback for message %s with arguments %o",s.toString(),i.args),e.ports&&e.ports[0]instanceof MessagePort&&(m=e.ports[0]),f(m,i.args),t("Removing registered port callback for message %s",s.toString()),Fp(i,ct.portCallbacks)}i.uuid&&(ct.legacyMessageIdsToUuidMap={})}}else if("func"in e.data&&typeof e.data.func=="string"){const n=e.data;sf.handleOneWayPerformanceMetrics(n,t,r),t('Received a message from parent %s, action: "%s"',qs(n),n.func),b3(n.func,n.args)}else t("Received an unknown message: %O",e)}function Wv(){return Re.topWindow!==Re.parentWindow}function M$(e){return e===Re.topWindow&&Wv()?ct.topMessageQueue:e===Re.parentWindow?ct.parentMessageQueue:[]}const FE=Fi("internal"),$$=FE.extend("ensureInitializeCalled"),L$=FE.extend("ensureInitialized");function UE(){if(!Ze.initializeCalled)throw $$(Ec),new Error(Ec)}function rl(e,...t){if(!Ze.initializeCompleted)throw L$("%s. initializeCalled: %s",Ec,Ze.initializeCalled.toString()),new Error(Ec);if(t&&t.length>0){let r=!1;for(let n=0;n<t.length;n++)if(t[n]===Ze.frameContext){r=!0;break}if(!r)throw new Error(`This call is only allowed in following contexts: ${JSON.stringify(t)}. Current context: "${Ze.frameContext}".`)}return d$(e)}function F$(e){let t=Ze.additionalValidOrigins.concat(e.filter((n=>typeof n=="string"&&l$.test(n))));const r={};t=t.filter((n=>!r[n]&&(r[n]=!0,!0))),Ze.additionalValidOrigins=t}function U$(e){if(!B$(e))throw new Error(`Potential app id (${e}) is invalid; its length ${e.length} is not within the length limits (${zE}-${BE}).`)}function z$(e){if(YM(e))throw new Error(`Potential app id (${e}) is invalid; it contains script tags.`);if(V$(e))throw new Error(`Potential app id (${e}) is invalid; it contains non-printable characters.`)}const zE=4,BE=256;function B$(e){return e.length<BE&&e.length>zE}function V$(e){return[...e].some((t=>{const r=t.charCodeAt(0);return r<32||r>126}))}let W$=class{constructor(t){this.idAsString=t,z$(t)}serialize(){return this.toString()}toString(){return this.idAsString}},q$=class extends W${constructor(t){super(t),U$(t)}toJSON(){return{appIdAsString:this.toString()}}};function VE(e){return e==null}const rh="v2",Up=Fi("app"),SS={Success:"appInitialization.success"};var _S,jS;function H$(e){return d3(qt(rh,"app.initialize"),e)}function K$(){return new Promise((e=>{UE(),e(N$(qt(rh,"app.getContext"),"getContext"))})).then((e=>(function(t){var r;return{actionInfo:t.actionInfo,app:{locale:t.locale,sessionId:t.appSessionId?t.appSessionId:"",theme:t.theme?t.theme:"default",iconPositionVertical:t.appIconPosition,osLocaleInfo:t.osLocaleInfo,messageId:t.messageId,parentMessageId:t.parentMessageId,userClickTime:t.userClickTime,userClickTimeV2:t.userClickTimeV2,userFileOpenPreference:t.userFileOpenPreference,host:{name:t.hostName?t.hostName:zv.teams,clientType:t.hostClientType?t.hostClientType:ot.web,sessionId:t.sessionId?t.sessionId:"",ringId:t.ringId},appLaunchId:t.appLaunchId,appId:t.appId?new q$(t.appId):void 0,manifestVersion:t.manifestVersion},page:{id:t.entityId,frameContext:t.frameContext?t.frameContext:Ze.frameContext,renderingSurface:t.renderingSurface?t.renderingSurface:void 0,subPageId:t.subEntityId,isFullScreen:t.isFullScreen,isMultiWindow:t.isMultiWindow,isBackgroundLoad:t.isBackgroundLoad,sourceOrigin:t.sourceOrigin},user:{id:(r=t.userObjectId)!==null&&r!==void 0?r:"",displayName:t.userDisplayName,isCallingAllowed:t.isCallingAllowed,isPSTNCallingAllowed:t.isPSTNCallingAllowed,licenseType:t.userLicenseType,loginHint:t.loginHint,userPrincipalName:t.userPrincipalName,tenant:t.tid?{id:t.tid,teamsSku:t.tenantSKU}:void 0},channel:t.channelId?{id:t.channelId,displayName:t.channelName,relativeUrl:t.channelRelativeUrl,membershipType:t.channelType,defaultOneNoteSectionId:t.defaultOneNoteSectionId,ownerGroupId:t.hostTeamGroupId,ownerTenantId:t.hostTeamTenantId}:void 0,chat:t.chatId?{id:t.chatId}:void 0,meeting:t.meetingId?{id:t.meetingId}:void 0,sharepoint:t.sharepoint,team:t.teamId?{internalId:t.teamId,displayName:t.teamName,type:t.teamType,groupId:t.groupId,templateId:t.teamTemplateId,isArchived:t.isTeamArchived,userRole:t.userTeamRole}:void 0,sharePointSite:t.teamSiteUrl||t.teamSiteDomain||t.teamSitePath||t.mySitePath||t.mySiteDomain?{teamSiteUrl:t.teamSiteUrl,teamSiteDomain:t.teamSiteDomain,teamSitePath:t.teamSitePath,teamSiteId:t.teamSiteId,mySitePath:t.mySitePath,mySiteDomain:t.mySiteDomain}:void 0,dialogParameters:t.dialogParameters||{}}})(e)))}function G$(){return f3(qt(rh,"app.notifySuccess"))}function Y$(e){h3(qt(rh,"app.registerOnThemeChangeHandler"),e)}(function(e){e.AuthFailed="AuthFailed",e.Timeout="Timeout",e.Other="Other"})(_S||(_S={})),(function(e){e.PermissionError="PermissionError",e.NotFound="NotFound",e.Throttling="Throttling",e.Offline="Offline",e.Other="Other"})(jS||(jS={})),Up("teamsjs instance is version %s, starting at %s UTC (%s local)",nf,new Date().toISOString(),new Date().toLocaleString()),(function(){if(Zf())return;const e=document.getElementsByTagName("script"),t=e&&e[e.length-1]&&e[e.length-1].src,r="Today, teamsjs can only be used from a single script or you may see undefined behavior. This log line is used to help detect cases where teamsjs is loaded multiple times -- it is always written. The presence of the log itself does not indicate a multi-load situation, but multiples of these log lines will. If you would like to use teamjs from more than one script at the same time, please open an issue at https://github.com/OfficeDev/microsoft-teams-library-js/issues";t&&t.length!==0?Up("teamsjs is being used from %s. %s",t,r):Up("teamsjs is being used from a script tag embedded directly in your html. %s",r)})();const J$="v2",Q$=[];function X$(e){Ze.frameContext&&(Ze.frameContext===Bv.task?Q$.push(e):S3("messageForChild"))}function Z$(){Ca(qt(J$,"dialog.registerMessageForChildHandler"),"messageForChild",X$,!1)}const Ro="v2";var kS,NS;(function(e){e[e.ifRoom=0]="ifRoom",e[e.overflowOnly=1]="overflowOnly"})(kS||(kS={}));function e3(){Ca(qt(Ro,"menus.registerNavBarMenuItemPressHandler"),"navBarMenuItemPress",r3,!1),Ca(qt(Ro,"menus.registerActionMenuItemPressHandler"),"actionMenuItemPress",n3,!1),Ca(qt(Ro,"menus.registerSetModuleViewHandler"),"setModuleView",t3,!1)}function t3(e){rl(Ti),fi(qt(Ro,"menus.handleViewConfigItemPress"),"viewConfigItemPress",[e])}function r3(e){rl(Ti),fi(qt(Ro,"menus.handleNavBarMenuItemPress"),"handleNavBarMenuItemPress",[e])}function n3(e){rl(Ti),fi(qt(Ro,"menus.handleActionMenuItemPress"),"handleActionMenuItemPress",[e])}(function(e){e.dropDown="dropDown",e.popOver="popOver"})(NS||(NS={}));class i3{}let s3=class extends i3{validate(t){return!0}deserialize(t){return t}};function a3(){Ca(qt(Ma,"pages.config.registerSettingsSaveHandler"),"settings.save",o3,!1),Ca(qt(Ma,"pages.config.registerSettingsRemoveHandler"),"settings.remove",c3,!1)}function o3(e){new l3(e).notifySuccess()}let l3=class{constructor(t){this.notified=!1,this.result=t||{}}notifySuccess(){this.ensureNotNotified(),fi(qt(Ma,"pages.saveEvent.notifySuccess"),"settings.save.success"),this.notified=!0}notifyFailure(t){this.ensureNotNotified(),fi(qt(Ma,"pages.saveEvent.notifyFailure"),"settings.save.failure",[t]),this.notified=!0}ensureNotNotified(){if(this.notified)throw new Error("The SaveEvent may only notify success or failure once.")}};function c3(){new u3().notifySuccess()}let u3=class{constructor(){this.notified=!1}notifySuccess(){this.ensureNotNotified(),fi(qt(Ma,"pages.removeEvent.notifySuccess"),"settings.remove.success"),this.notified=!0}notifyFailure(t){this.ensureNotNotified(),fi(qt(Ma,"pages.removeEvent.notifyFailure"),"settings.remove.failure",[t]),this.notified=!0}ensureNotNotified(){if(this.notified)throw new Error("The removeEventType may only notify success or failure once.")}};const WE=Fi("app");function d3(e,t){return Zf()?(WE.extend("initialize")("window object undefined at initialization"),Promise.resolve()):HM((()=>(function(r,n){return new Promise((i=>{Ze.initializeCalled||(Ze.initializeCalled=!0,w3(),Ze.initializePromise=k$(n,r).then((({context:s,clientType:l,runtimeConfig:u,clientSupportedSDKVersion:f=mS})=>{Ze.frameContext=s,Ze.hostClientType=l,Ze.clientSupportedSDKVersion=f;try{Xl("Parsing %s",u);let m=JSON.parse(u);if(Xl("Checking if %o is a valid runtime object",m??"null"),!m||!m.apiVersion)throw new Error("Received runtime config is invalid");m=dS(m),u&&$p(m)}catch(m){if(!(m instanceof SyntaxError))throw m;try{Xl("Attempting to parse %s as an SDK version",u),isNaN(jE(u,mS))||(Ze.clientSupportedSDKVersion=u);let h=JSON.parse(f);if(Xl("givenRuntimeConfig parsed to %o",h??"null"),!h)throw new Error("givenRuntimeConfig string was successfully parsed. However, it parsed to value of null");h=dS(h),$p(h)}catch(h){if(!(h instanceof SyntaxError))throw h;$p(v$(Ze.clientSupportedSDKVersion,f$,g$))}}Ze.initializeCompleted=!0})),e3(),a3(),Z$()),Array.isArray(n)&&F$(n),Ze.initializePromise!==void 0?i(Ze.initializePromise):Xl("GlobalVars.initializePromise is unexpectedly undefined")}))})(e,t)),6e4,new Error("SDK initialization timed out."))}function f3(e){return Qs(this,void 0,void 0,(function*(){if(Ze.initializeCompleted)return ES(e);if(!Ze.initializePromise)throw new Error(Ec);return Ze.initializePromise.then((()=>ES(e)))}))}function ES(e){return Qs(this,void 0,void 0,(function*(){return rl(Ti)&&(!((t=Ti.supports.app)===null||t===void 0)&&t.notifySuccessResponse)?A$(SS.Success,[nf],new s3,e).then((()=>({hasFinishedSuccessfully:!0}))):(fi(e,SS.Success,[nf]),{hasFinishedSuccessfully:"unknown"});var t}))}const Xl=WE.extend("initializeHelper");function h3(e,t){!VE(t)&&UE(),_3(e,t)}function m3(){return g3(qt(Ma,"pages.backStack.navigateBack"))}function p3(){return!(!rl(Ti)||!Ti.supports.pages)&&!!Ti.supports.pages.backStack}const Ma="v2";function g3(e){return new Promise((t=>{if(rl(Ti),!p3())throw $M;t(E$(e,"navigateBack","Back navigation is not supported in the current client or context."))}))}function v3(){Ca(qt("v2","pages.backStack.registerBackButtonPressHandler"),"backButtonPress",y3,!1)}function y3(){m3()}const x3=Fi("handlers");let At=class Ei{static initializeHandlers(){Ei.handlers.themeChange=j3,Ei.handlers.load=k3,Ei.handlers.beforeUnload=N3,v3()}static uninitializeHandlers(){Ei.handlers={},Ei.themeChangeHandler=null,Ei.loadHandler=null,Ei.beforeUnloadHandler=null,Ei.beforeSuspendOrTerminateHandler=null,Ei.resumeHandler=null}};function w3(){At.initializeHandlers()}At.handlers={},At.themeChangeHandler=null,At.loadHandler=null,At.beforeUnloadHandler=null,At.beforeSuspendOrTerminateHandler=null,At.resumeHandler=null,At.hostToAppPerformanceMetricsHandler=null;const CS=x3.extend("callHandler");function b3(e,t){const r=At.handlers[e];return r?(CS("Invoking the registered handler for message %s with arguments %o",e,t),[!0,r.apply(this,t)]):(CS("Handler for action message %s not found.",e),[!1,void 0])}function Ca(e,t,r,n=!0,i=[]){r?(At.handlers[t]=r,n&&fi(e,"registerHandler",[t,...i])):delete At.handlers[t]}function S3(e){delete At.handlers[e]}function _3(e,t){At.themeChangeHandler=t,!VE(t)&&fi(e,"registerHandler",["themeChange"])}function j3(e){At.themeChangeHandler&&At.themeChangeHandler(e)}function AS(e){At.hostToAppPerformanceMetricsHandler&&At.hostToAppPerformanceMetricsHandler(e)}function k3(e){const t={entityId:(r=e).entityId,contentUrl:new URL(r.contentUrl)};var r;At.resumeHandler?(At.resumeHandler(t),OS()):At.loadHandler&&(At.loadHandler(e),OS())}function N3(){return Qs(this,void 0,void 0,(function*(){const e=()=>{fi(qt("v2","handleBeforeUnload"),"readyToUnload",[])};At.beforeSuspendOrTerminateHandler?(yield At.beforeSuspendOrTerminateHandler(),e()):At.beforeUnloadHandler&&At.beforeUnloadHandler(e)||e()}))}const E3=Fi("childProxyingCommunication");function OS(){return!1}function C3(e,t){return!1}E3.extend("handleIncomingMessageFromChild");const A3=S.createContext({inTeams:!1,teamsContext:null,isInitialized:!1,teamsTheme:null}),O3=({children:e})=>{const[t,r]=S.useState(!1),[n,i]=S.useState(null),[s,l]=S.useState(!1),[u,f]=S.useState(null);return S.useEffect(()=>{(async()=>{try{if(new URLSearchParams(window.location.search).get("inTeams")==="true"||window.parent!==window){console.log(" Initializing Teams SDK..."),await H$();const v=await K$();console.log(" Teams context:",v),r(!0),i(v),f(v.app.theme),Y$(w=>{f(w)}),G$()}else console.log(" Running in browser (not Teams)")}catch(h){console.error(" Teams initialization error:",h),r(!1)}finally{l(!0)}})()},[]),c.jsx(A3.Provider,{value:{inTeams:t,teamsContext:n,isInitialized:s,teamsTheme:u},children:e})};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),T3=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),PS=e=>{const t=T3(e);return t.charAt(0).toUpperCase()+t.slice(1)},qE=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),I3=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var D3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=S.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:l,...u},f)=>S.createElement("svg",{ref:f,...D3,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:qE("lucide",i),...!s&&!I3(u)&&{"aria-hidden":"true"},...u},[...l.map(([m,h])=>S.createElement(m,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(e,t)=>{const r=S.forwardRef(({className:n,...i},s)=>S.createElement(R3,{ref:s,iconNode:t,className:qE(`lucide-${P3(PS(e))}`,`lucide-${e}`,n),...i}));return r.displayName=PS(e),r};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],TS=rt("arrow-left",M3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],di=rt("calendar",$3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],HE=rt("chart-no-axes-column",L3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],yc=rt("chevron-down",F3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],nl=rt("chevron-left",U3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],B3=rt("chevron-up",z3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Jt=rt("circle-alert",V3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Bn=rt("circle-check-big",W3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],nh=rt("clock",q3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],qv=rt("cloud",H3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],fn=rt("crown",K3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Y3=rt("database",G3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],IS=rt("ellipsis-vertical",J3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],X3=rt("funnel",Q3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],zp=rt("info",Z3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Ai=rt("list",e6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],r6=rt("lock",t6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],i6=rt("log-in",n6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Nr=rt("log-out",s6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Vc=rt("mail",a6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xc=rt("plus",o6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ih=rt("refresh-cw",l6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],u6=rt("search",c6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fr=rt("settings",d6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Xr=rt("shield",f6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],m6=rt("shuffle",h6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],g6=rt("square-pen",p6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],y6=rt("tag",v6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ks=rt("trash-2",x6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],KE=rt("triangle-alert",w6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Aa=rt("user-plus",b6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Zl=rt("user-x",S6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Tr=rt("user",_6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],pn=rt("users",j6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=[["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}],["path",{d:"M5 7c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v12H5V7Z",key:"1ezoue"}],["path",{d:"M22 19H2",key:"nuriw5"}]],Zr=rt("vote",k6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Di=rt("x",N6);function E6(){const[e,t]=S.useState(""),[r,n]=S.useState(""),[i,s]=S.useState(!1),[l,u]=S.useState(""),{setCurrentUser:f,setCurrentSession:m}=Li(),h=Sn(),[p]=QN(),v=async w=>{w.preventDefault(),u(""),s(!0);try{const _=await Gy(e.trim().toLowerCase(),r.trim());f(_);const b=p.get("session");if(b){const x=await kM(b);if(x){m(x);const[k,N,E]=await Promise.all([tl(_.id),Nc(x.id,_.id),Jy(x.id,_.email)]);if(k||N)h("/admin");else if(E)h("/vote");else{u("You are not authorized to access this voting session."),s(!1);return}}else{u("Invalid session code."),s(!1);return}}else h("/sessions")}catch(_){console.error("Login error:",_),u("Failed to log in. Please try again."),s(!1)}};return c.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[c.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"mx-auto h-24 w-auto"}),c.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-[#2d4660]",children:"Feature Voting System"}),c.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to access your voting sessions"})]}),c.jsx("div",{className:"relative z-10 mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:c.jsxs("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10",children:[c.jsxs("form",{onSubmit:v,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),c.jsx("div",{className:"mt-1",children:c.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,value:r,onChange:w=>n(w.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#2d4660] focus:border-[#2d4660]",placeholder:"John Doe"})})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),c.jsx("div",{className:"mt-1",children:c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:w=>t(w.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#2d4660] focus:border-[#2d4660]",placeholder:"your.email@company.com"})})]}),l&&c.jsx("div",{className:"rounded-md bg-red-50 p-4",children:c.jsx("div",{className:"flex",children:c.jsx("div",{className:"ml-3",children:c.jsx("h3",{className:"text-sm font-medium text-red-800",children:l})})})}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:i,className:"w-full flex justify-center items-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-[#2d4660] hover:bg-[#1d3a53] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#2d4660] disabled:opacity-50 disabled:cursor-not-allowed",children:i?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing in..."]}):c.jsxs(c.Fragment,{children:[c.jsx(i6,{className:"h-4 w-4 mr-2"}),"Sign In"]})})})]}),c.jsxs("div",{className:"mt-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-gray-300"})}),c.jsx("div",{className:"relative flex justify-center text-sm",children:c.jsx("span",{className:"px-2 bg-white text-gray-500",children:"No registration required"})})]}),c.jsxs("div",{className:"mt-6 text-center text-xs text-gray-500",children:[c.jsx("p",{children:"Simply enter your name and email to access"}),c.jsx("p",{children:"voting sessions you've been invited to"})]})]})]})})]})}var Wc=e=>e.type==="checkbox",ja=e=>e instanceof Date,Fr=e=>e==null;const GE=e=>typeof e=="object";var Ht=e=>!Fr(e)&&!Array.isArray(e)&&GE(e)&&!ja(e),YE=e=>Ht(e)&&e.target?Wc(e.target)?e.target.checked:e.target.value:e,C6=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,JE=(e,t)=>e.has(C6(t)),A6=e=>{const t=e.constructor&&e.constructor.prototype;return Ht(t)&&t.hasOwnProperty("isPrototypeOf")},e0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Sr(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(e0&&(e instanceof Blob||n))&&(r||Ht(e)))if(t=r?[]:{},!r&&!A6(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=Sr(e[i]));else return e;return t}var sh=e=>Array.isArray(e)?e.filter(Boolean):[],Wt=e=>e===void 0,be=(e,t,r)=>{if(!t||!Ht(e))return r;const n=sh(t.split(/[,[\].]+?/)).reduce((i,s)=>Fr(i)?i:i[s],e);return Wt(n)||n===e?Wt(e[t])?r:e[t]:n},hn=e=>typeof e=="boolean",t0=e=>/^\w*$/.test(e),QE=e=>sh(e.replace(/["|']|\]/g,"").split(/\.|\[/)),xt=(e,t,r)=>{let n=-1;const i=t0(t)?[t]:QE(t),s=i.length,l=s-1;for(;++n<s;){const u=i[n];let f=r;if(n!==l){const m=e[u];f=Ht(m)||Array.isArray(m)?m:isNaN(+i[n+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;e[u]=f,e=e[u]}};const af={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},oi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Gi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},O6=et.createContext(null),r0=()=>et.useContext(O6);var XE=(e,t,r,n=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const l=s;return t._proxyFormState[l]!==oi.all&&(t._proxyFormState[l]=!n||oi.all),r&&(r[l]=!0),e[l]}});return i};function P6(e){const t=r0(),{control:r=t.control,disabled:n,name:i,exact:s}=e||{},[l,u]=et.useState(r._formState),f=et.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),m=et.useRef(i);return m.current=i,et.useEffect(()=>r._subscribe({name:m.current,formState:f.current,exact:s,callback:h=>{!n&&u({...r._formState,...h})}}),[r,n,s]),et.useEffect(()=>{f.current.isValid&&r._setValid(!0)},[r]),et.useMemo(()=>XE(l,r,f.current,!1),[l,r])}var Oi=e=>typeof e=="string",ZE=(e,t,r,n,i)=>Oi(e)?(n&&t.watch.add(e),be(r,e,i)):Array.isArray(e)?e.map(s=>(n&&t.watch.add(s),be(r,s))):(n&&(t.watchAll=!0),r);function T6(e){const t=r0(),{control:r=t.control,name:n,defaultValue:i,disabled:s,exact:l}=e||{},u=et.useRef(n),f=et.useRef(i);u.current=n,et.useEffect(()=>r._subscribe({name:u.current,formState:{values:!0},exact:l,callback:p=>!s&&h(ZE(u.current,r._names,p.values||r._formValues,!1,f.current))}),[r,s,l]);const[m,h]=et.useState(r._getWatch(n,i));return et.useEffect(()=>r._removeUnmounted()),m}function I6(e){const t=r0(),{name:r,disabled:n,control:i=t.control,shouldUnregister:s}=e,l=JE(i._names.array,r),u=T6({control:i,name:r,defaultValue:be(i._formValues,r,be(i._defaultValues,r,e.defaultValue)),exact:!0}),f=P6({control:i,name:r,exact:!0}),m=et.useRef(e),h=et.useRef(i.register(r,{...e.rules,value:u,...hn(e.disabled)?{disabled:e.disabled}:{}})),p=et.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!be(f.errors,r)},isDirty:{enumerable:!0,get:()=>!!be(f.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!be(f.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!be(f.validatingFields,r)},error:{enumerable:!0,get:()=>be(f.errors,r)}}),[f,r]),v=et.useCallback(x=>h.current.onChange({target:{value:YE(x),name:r},type:af.CHANGE}),[r]),w=et.useCallback(()=>h.current.onBlur({target:{value:be(i._formValues,r),name:r},type:af.BLUR}),[r,i._formValues]),_=et.useCallback(x=>{const k=be(i._fields,r);k&&x&&(k._f.ref={focus:()=>x.focus(),select:()=>x.select(),setCustomValidity:N=>x.setCustomValidity(N),reportValidity:()=>x.reportValidity()})},[i._fields,r]),b=et.useMemo(()=>({name:r,value:u,...hn(n)||f.disabled?{disabled:f.disabled||n}:{},onChange:v,onBlur:w,ref:_}),[r,n,f.disabled,v,w,_,u]);return et.useEffect(()=>{const x=i._options.shouldUnregister||s;i.register(r,{...m.current.rules,...hn(m.current.disabled)?{disabled:m.current.disabled}:{}});const k=(N,E)=>{const A=be(i._fields,N);A&&A._f&&(A._f.mount=E)};if(k(r,!0),x){const N=Sr(be(i._options.defaultValues,r));xt(i._defaultValues,r,N),Wt(be(i._formValues,r))&&xt(i._formValues,r,N)}return!l&&i.register(r),()=>{(l?x&&!i._state.action:x)?i.unregister(r):k(r,!1)}},[r,i,l,s]),et.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),et.useMemo(()=>({field:b,formState:f,fieldState:p}),[b,f,p])}const bd=e=>e.render(I6(e));var D6=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},wc=e=>Array.isArray(e)?e:[e],DS=()=>{let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}},Hv=e=>Fr(e)||!GE(e);function Vs(e,t){if(Hv(e)||Hv(t))return e===t;if(ja(e)&&ja(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const i of r){const s=e[i];if(!n.includes(i))return!1;if(i!=="ref"){const l=t[i];if(ja(s)&&ja(l)||Ht(s)&&Ht(l)||Array.isArray(s)&&Array.isArray(l)?!Vs(s,l):s!==l)return!1}}return!0}var Lr=e=>Ht(e)&&!Object.keys(e).length,n0=e=>e.type==="file",li=e=>typeof e=="function",of=e=>{if(!e0)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},eC=e=>e.type==="select-multiple",i0=e=>e.type==="radio",R6=e=>i0(e)||Wc(e),Bp=e=>of(e)&&e.isConnected;function M6(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Wt(e)?n++:e[t[n++]];return e}function $6(e){for(const t in e)if(e.hasOwnProperty(t)&&!Wt(e[t]))return!1;return!0}function nr(e,t){const r=Array.isArray(t)?t:t0(t)?[t]:QE(t),n=r.length===1?e:M6(e,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(Ht(n)&&Lr(n)||Array.isArray(n)&&$6(n))&&nr(e,r.slice(0,-1)),e}var tC=e=>{for(const t in e)if(li(e[t]))return!0;return!1};function lf(e,t={}){const r=Array.isArray(e);if(Ht(e)||r)for(const n in e)Array.isArray(e[n])||Ht(e[n])&&!tC(e[n])?(t[n]=Array.isArray(e[n])?[]:{},lf(e[n],t[n])):Fr(e[n])||(t[n]=!0);return t}function rC(e,t,r){const n=Array.isArray(e);if(Ht(e)||n)for(const i in e)Array.isArray(e[i])||Ht(e[i])&&!tC(e[i])?Wt(t)||Hv(r[i])?r[i]=Array.isArray(e[i])?lf(e[i],[]):{...lf(e[i])}:rC(e[i],Fr(t)?{}:t[i],r[i]):r[i]=!Vs(e[i],t[i]);return r}var ec=(e,t)=>rC(e,t,lf(t));const RS={value:!1,isValid:!1},MS={value:!0,isValid:!0};var nC=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Wt(e[0].attributes.value)?Wt(e[0].value)||e[0].value===""?MS:{value:e[0].value,isValid:!0}:MS:RS}return RS},iC=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Wt(e)?e:t?e===""?NaN:e&&+e:r&&Oi(e)?new Date(e):n?n(e):e;const $S={isValid:!1,value:null};var sC=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,$S):$S;function LS(e){const t=e.ref;return n0(t)?t.files:i0(t)?sC(e.refs).value:eC(t)?[...t.selectedOptions].map(({value:r})=>r):Wc(t)?nC(e.refs).value:iC(Wt(t.value)?e.ref.value:t.value,e)}var L6=(e,t,r,n)=>{const i={};for(const s of e){const l=be(t,s);l&&xt(i,s,l._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}},cf=e=>e instanceof RegExp,tc=e=>Wt(e)?e:cf(e)?e.source:Ht(e)?cf(e.value)?e.value.source:e.value:e,FS=e=>({isOnSubmit:!e||e===oi.onSubmit,isOnBlur:e===oi.onBlur,isOnChange:e===oi.onChange,isOnAll:e===oi.all,isOnTouch:e===oi.onTouched});const US="AsyncFunction";var F6=e=>!!e&&!!e.validate&&!!(li(e.validate)&&e.validate.constructor.name===US||Ht(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===US)),U6=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),zS=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const bc=(e,t,r,n)=>{for(const i of r||Object.keys(e)){const s=be(e,i);if(s){const{_f:l,...u}=s;if(l){if(l.refs&&l.refs[0]&&t(l.refs[0],i)&&!n)return!0;if(l.ref&&t(l.ref,l.name)&&!n)return!0;if(bc(u,t))break}else if(Ht(u)&&bc(u,t))break}}};function BS(e,t,r){const n=be(e,r);if(n||t0(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),l=be(t,s),u=be(e,s);if(l&&!Array.isArray(l)&&r!==s)return{name:r};if(u&&u.type)return{name:s,error:u};i.pop()}return{name:r}}var z6=(e,t,r,n)=>{r(e);const{name:i,...s}=e;return Lr(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(l=>t[l]===(!n||oi.all))},B6=(e,t,r)=>!e||!t||e===t||wc(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),V6=(e,t,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:(r?n.isOnChange:i.isOnChange)?e:!0,W6=(e,t)=>!sh(be(e,t)).length&&nr(e,t),q6=(e,t,r)=>{const n=wc(be(e,r));return xt(n,"root",t[r]),xt(e,r,n),e},qd=e=>Oi(e);function VS(e,t,r="validate"){if(qd(e)||Array.isArray(e)&&e.every(qd)||hn(e)&&!e)return{type:r,message:qd(e)?e:"",ref:t}}var Co=e=>Ht(e)&&!cf(e)?e:{value:e,message:""},WS=async(e,t,r,n,i,s)=>{const{ref:l,refs:u,required:f,maxLength:m,minLength:h,min:p,max:v,pattern:w,validate:_,name:b,valueAsNumber:x,mount:k}=e._f,N=be(r,b);if(!k||t.has(b))return{};const E=u?u[0]:l,A=V=>{i&&E.reportValidity&&(E.setCustomValidity(hn(V)?"":V||""),E.reportValidity())},P={},I=i0(l),L=Wc(l),G=I||L,W=(x||n0(l))&&Wt(l.value)&&Wt(N)||of(l)&&l.value===""||N===""||Array.isArray(N)&&!N.length,U=D6.bind(null,b,n,P),z=(V,ee,X,ae=Gi.maxLength,xe=Gi.minLength)=>{const ye=V?ee:X;P[b]={type:V?ae:xe,message:ye,ref:l,...U(V?ae:xe,ye)}};if(s?!Array.isArray(N)||!N.length:f&&(!G&&(W||Fr(N))||hn(N)&&!N||L&&!nC(u).isValid||I&&!sC(u).isValid)){const{value:V,message:ee}=qd(f)?{value:!!f,message:f}:Co(f);if(V&&(P[b]={type:Gi.required,message:ee,ref:E,...U(Gi.required,ee)},!n))return A(ee),P}if(!W&&(!Fr(p)||!Fr(v))){let V,ee;const X=Co(v),ae=Co(p);if(!Fr(N)&&!isNaN(N)){const xe=l.valueAsNumber||N&&+N;Fr(X.value)||(V=xe>X.value),Fr(ae.value)||(ee=xe<ae.value)}else{const xe=l.valueAsDate||new Date(N),ye=ce=>new Date(new Date().toDateString()+" "+ce),re=l.type=="time",le=l.type=="week";Oi(X.value)&&N&&(V=re?ye(N)>ye(X.value):le?N>X.value:xe>new Date(X.value)),Oi(ae.value)&&N&&(ee=re?ye(N)<ye(ae.value):le?N<ae.value:xe<new Date(ae.value))}if((V||ee)&&(z(!!V,X.message,ae.message,Gi.max,Gi.min),!n))return A(P[b].message),P}if((m||h)&&!W&&(Oi(N)||s&&Array.isArray(N))){const V=Co(m),ee=Co(h),X=!Fr(V.value)&&N.length>+V.value,ae=!Fr(ee.value)&&N.length<+ee.value;if((X||ae)&&(z(X,V.message,ee.message),!n))return A(P[b].message),P}if(w&&!W&&Oi(N)){const{value:V,message:ee}=Co(w);if(cf(V)&&!N.match(V)&&(P[b]={type:Gi.pattern,message:ee,ref:l,...U(Gi.pattern,ee)},!n))return A(ee),P}if(_){if(li(_)){const V=await _(N,r),ee=VS(V,E);if(ee&&(P[b]={...ee,...U(Gi.validate,ee.message)},!n))return A(ee.message),P}else if(Ht(_)){let V={};for(const ee in _){if(!Lr(V)&&!n)break;const X=VS(await _[ee](N,r),E,ee);X&&(V={...X,...U(ee,X.message)},A(X.message),n&&(P[b]=V))}if(!Lr(V)&&(P[b]={ref:E,...V},!n))return P}}return A(!0),P};const H6={mode:oi.onSubmit,reValidateMode:oi.onChange,shouldFocusError:!0};function K6(e={}){let t={...H6,...e},r={submitCount:0,isDirty:!1,isLoading:li(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let i=Ht(t.defaultValues)||Ht(t.values)?Sr(t.values||t.defaultValues)||{}:{},s=t.shouldUnregister?{}:Sr(i),l={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,m=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...h};const v={array:DS(),state:DS()},w=FS(t.mode),_=FS(t.reValidateMode),b=t.criteriaMode===oi.all,x=R=>H=>{clearTimeout(m),m=setTimeout(R,H)},k=async R=>{if(!t.disabled&&(h.isValid||p.isValid||R)){const H=t.resolver?Lr((await W()).errors):await z(n,!0);H!==r.isValid&&v.state.next({isValid:H})}},N=(R,H)=>{!t.disabled&&(h.isValidating||h.validatingFields||p.isValidating||p.validatingFields)&&((R||Array.from(u.mount)).forEach(Q=>{Q&&(H?xt(r.validatingFields,Q,H):nr(r.validatingFields,Q))}),v.state.next({validatingFields:r.validatingFields,isValidating:!Lr(r.validatingFields)}))},E=(R,H=[],Q,ge,pe=!0,Y=!0)=>{if(ge&&Q&&!t.disabled){if(l.action=!0,Y&&Array.isArray(be(n,R))){const ve=Q(be(n,R),ge.argA,ge.argB);pe&&xt(n,R,ve)}if(Y&&Array.isArray(be(r.errors,R))){const ve=Q(be(r.errors,R),ge.argA,ge.argB);pe&&xt(r.errors,R,ve),W6(r.errors,R)}if((h.touchedFields||p.touchedFields)&&Y&&Array.isArray(be(r.touchedFields,R))){const ve=Q(be(r.touchedFields,R),ge.argA,ge.argB);pe&&xt(r.touchedFields,R,ve)}(h.dirtyFields||p.dirtyFields)&&(r.dirtyFields=ec(i,s)),v.state.next({name:R,isDirty:ee(R,H),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else xt(s,R,H)},A=(R,H)=>{xt(r.errors,R,H),v.state.next({errors:r.errors})},P=R=>{r.errors=R,v.state.next({errors:r.errors,isValid:!1})},I=(R,H,Q,ge)=>{const pe=be(n,R);if(pe){const Y=be(s,R,Wt(Q)?be(i,R):Q);Wt(Y)||ge&&ge.defaultChecked||H?xt(s,R,H?Y:LS(pe._f)):xe(R,Y),l.mount&&k()}},L=(R,H,Q,ge,pe)=>{let Y=!1,ve=!1;const Ue={name:R};if(!t.disabled){if(!Q||ge){(h.isDirty||p.isDirty)&&(ve=r.isDirty,r.isDirty=Ue.isDirty=ee(),Y=ve!==Ue.isDirty);const it=Vs(be(i,R),H);ve=!!be(r.dirtyFields,R),it?nr(r.dirtyFields,R):xt(r.dirtyFields,R,!0),Ue.dirtyFields=r.dirtyFields,Y=Y||(h.dirtyFields||p.dirtyFields)&&ve!==!it}if(Q){const it=be(r.touchedFields,R);it||(xt(r.touchedFields,R,Q),Ue.touchedFields=r.touchedFields,Y=Y||(h.touchedFields||p.touchedFields)&&it!==Q)}Y&&pe&&v.state.next(Ue)}return Y?Ue:{}},G=(R,H,Q,ge)=>{const pe=be(r.errors,R),Y=(h.isValid||p.isValid)&&hn(H)&&r.isValid!==H;if(t.delayError&&Q?(f=x(()=>A(R,Q)),f(t.delayError)):(clearTimeout(m),f=null,Q?xt(r.errors,R,Q):nr(r.errors,R)),(Q?!Vs(pe,Q):pe)||!Lr(ge)||Y){const ve={...ge,...Y&&hn(H)?{isValid:H}:{},errors:r.errors,name:R};r={...r,...ve},v.state.next(ve)}},W=async R=>{N(R,!0);const H=await t.resolver(s,t.context,L6(R||u.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return N(R),H},U=async R=>{const{errors:H}=await W(R);if(R)for(const Q of R){const ge=be(H,Q);ge?xt(r.errors,Q,ge):nr(r.errors,Q)}else r.errors=H;return H},z=async(R,H,Q={valid:!0})=>{for(const ge in R){const pe=R[ge];if(pe){const{_f:Y,...ve}=pe;if(Y){const Ue=u.array.has(Y.name),it=pe._f&&F6(pe._f);it&&h.validatingFields&&N([ge],!0);const gt=await WS(pe,u.disabled,s,b,t.shouldUseNativeValidation&&!H,Ue);if(it&&h.validatingFields&&N([ge]),gt[Y.name]&&(Q.valid=!1,H))break;!H&&(be(gt,Y.name)?Ue?q6(r.errors,gt,Y.name):xt(r.errors,Y.name,gt[Y.name]):nr(r.errors,Y.name))}!Lr(ve)&&await z(ve,H,Q)}}return Q.valid},V=()=>{for(const R of u.unMount){const H=be(n,R);H&&(H._f.refs?H._f.refs.every(Q=>!Bp(Q)):!Bp(H._f.ref))&&ue(R)}u.unMount=new Set},ee=(R,H)=>!t.disabled&&(R&&H&&xt(s,R,H),!Vs(D(),i)),X=(R,H,Q)=>ZE(R,u,{...l.mount?s:Wt(H)?i:Oi(R)?{[R]:H}:H},Q,H),ae=R=>sh(be(l.mount?s:i,R,t.shouldUnregister?be(i,R,[]):[])),xe=(R,H,Q={})=>{const ge=be(n,R);let pe=H;if(ge){const Y=ge._f;Y&&(!Y.disabled&&xt(s,R,iC(H,Y)),pe=of(Y.ref)&&Fr(H)?"":H,eC(Y.ref)?[...Y.ref.options].forEach(ve=>ve.selected=pe.includes(ve.value)):Y.refs?Wc(Y.ref)?Y.refs.length>1?Y.refs.forEach(ve=>(!ve.defaultChecked||!ve.disabled)&&(ve.checked=Array.isArray(pe)?!!pe.find(Ue=>Ue===ve.value):pe===ve.value)):Y.refs[0]&&(Y.refs[0].checked=!!pe):Y.refs.forEach(ve=>ve.checked=ve.value===pe):n0(Y.ref)?Y.ref.value="":(Y.ref.value=pe,Y.ref.type||v.state.next({name:R,values:Sr(s)})))}(Q.shouldDirty||Q.shouldTouch)&&L(R,pe,Q.shouldTouch,Q.shouldDirty,!0),Q.shouldValidate&&M(R)},ye=(R,H,Q)=>{for(const ge in H){const pe=H[ge],Y=`${R}.${ge}`,ve=be(n,Y);(u.array.has(R)||Ht(pe)||ve&&!ve._f)&&!ja(pe)?ye(Y,pe,Q):xe(Y,pe,Q)}},re=(R,H,Q={})=>{const ge=be(n,R),pe=u.array.has(R),Y=Sr(H);xt(s,R,Y),pe?(v.array.next({name:R,values:Sr(s)}),(h.isDirty||h.dirtyFields||p.isDirty||p.dirtyFields)&&Q.shouldDirty&&v.state.next({name:R,dirtyFields:ec(i,s),isDirty:ee(R,Y)})):ge&&!ge._f&&!Fr(Y)?ye(R,Y,Q):xe(R,Y,Q),zS(R,u)&&v.state.next({...r}),v.state.next({name:l.mount?R:void 0,values:Sr(s)})},le=async R=>{l.mount=!0;const H=R.target;let Q=H.name,ge=!0;const pe=be(n,Q),Y=ve=>{ge=Number.isNaN(ve)||ja(ve)&&isNaN(ve.getTime())||Vs(ve,be(s,Q,ve))};if(pe){let ve,Ue;const it=H.type?LS(pe._f):YE(R),gt=R.type===af.BLUR||R.type===af.FOCUS_OUT,Dr=!U6(pe._f)&&!t.resolver&&!be(r.errors,Q)&&!pe._f.deps||V6(gt,be(r.touchedFields,Q),r.isSubmitted,_,w),Gn=zS(Q,u,gt);xt(s,Q,it),gt?(pe._f.onBlur&&pe._f.onBlur(R),f&&f(0)):pe._f.onChange&&pe._f.onChange(R);const Yn=L(Q,it,gt),Rr=!Lr(Yn)||Gn;if(!gt&&v.state.next({name:Q,type:R.type,values:Sr(s)}),Dr)return(h.isValid||p.isValid)&&(t.mode==="onBlur"?gt&&k():gt||k()),Rr&&v.state.next({name:Q,...Gn?{}:Yn});if(!gt&&Gn&&v.state.next({...r}),t.resolver){const{errors:Nn}=await W([Q]);if(Y(it),ge){const xi=BS(r.errors,n,Q),Jn=BS(Nn,n,xi.name||Q);ve=Jn.error,Q=Jn.name,Ue=Lr(Nn)}}else N([Q],!0),ve=(await WS(pe,u.disabled,s,b,t.shouldUseNativeValidation))[Q],N([Q]),Y(it),ge&&(ve?Ue=!1:(h.isValid||p.isValid)&&(Ue=await z(n,!0)));ge&&(pe._f.deps&&M(pe._f.deps),G(Q,Ue,ve,Yn))}},ce=(R,H)=>{if(be(r.errors,H)&&R.focus)return R.focus(),1},M=async(R,H={})=>{let Q,ge;const pe=wc(R);if(t.resolver){const Y=await U(Wt(R)?R:pe);Q=Lr(Y),ge=R?!pe.some(ve=>be(Y,ve)):Q}else R?(ge=(await Promise.all(pe.map(async Y=>{const ve=be(n,Y);return await z(ve&&ve._f?{[Y]:ve}:ve)}))).every(Boolean),!(!ge&&!r.isValid)&&k()):ge=Q=await z(n);return v.state.next({...!Oi(R)||(h.isValid||p.isValid)&&Q!==r.isValid?{}:{name:R},...t.resolver||!R?{isValid:Q}:{},errors:r.errors}),H.shouldFocus&&!ge&&bc(n,ce,R?pe:u.mount),ge},D=R=>{const H={...l.mount?s:i};return Wt(R)?H:Oi(R)?be(H,R):R.map(Q=>be(H,Q))},te=(R,H)=>({invalid:!!be((H||r).errors,R),isDirty:!!be((H||r).dirtyFields,R),error:be((H||r).errors,R),isValidating:!!be(r.validatingFields,R),isTouched:!!be((H||r).touchedFields,R)}),Se=R=>{R&&wc(R).forEach(H=>nr(r.errors,H)),v.state.next({errors:R?r.errors:{}})},ne=(R,H,Q)=>{const ge=(be(n,R,{_f:{}})._f||{}).ref,pe=be(r.errors,R)||{},{ref:Y,message:ve,type:Ue,...it}=pe;xt(r.errors,R,{...it,...H,ref:ge}),v.state.next({name:R,errors:r.errors,isValid:!1}),Q&&Q.shouldFocus&&ge&&ge.focus&&ge.focus()},ke=(R,H)=>li(R)?v.state.subscribe({next:Q=>R(X(void 0,H),Q)}):X(R,H,!0),$e=R=>v.state.subscribe({next:H=>{B6(R.name,H.name,R.exact)&&z6(H,R.formState||h,Ut,R.reRenderRoot)&&R.callback({values:{...s},...r,...H})}}).unsubscribe,Qe=R=>(l.mount=!0,p={...p,...R.formState},$e({...R,formState:p})),ue=(R,H={})=>{for(const Q of R?wc(R):u.mount)u.mount.delete(Q),u.array.delete(Q),H.keepValue||(nr(n,Q),nr(s,Q)),!H.keepError&&nr(r.errors,Q),!H.keepDirty&&nr(r.dirtyFields,Q),!H.keepTouched&&nr(r.touchedFields,Q),!H.keepIsValidating&&nr(r.validatingFields,Q),!t.shouldUnregister&&!H.keepDefaultValue&&nr(i,Q);v.state.next({values:Sr(s)}),v.state.next({...r,...H.keepDirty?{isDirty:ee()}:{}}),!H.keepIsValid&&k()},Pe=({disabled:R,name:H})=>{(hn(R)&&l.mount||R||u.disabled.has(H))&&(R?u.disabled.add(H):u.disabled.delete(H))},oe=(R,H={})=>{let Q=be(n,R);const ge=hn(H.disabled)||hn(t.disabled);return xt(n,R,{...Q||{},_f:{...Q&&Q._f?Q._f:{ref:{name:R}},name:R,mount:!0,...H}}),u.mount.add(R),Q?Pe({disabled:hn(H.disabled)?H.disabled:t.disabled,name:R}):I(R,!0,H.value),{...ge?{disabled:H.disabled||t.disabled}:{},...t.progressive?{required:!!H.required,min:tc(H.min),max:tc(H.max),minLength:tc(H.minLength),maxLength:tc(H.maxLength),pattern:tc(H.pattern)}:{},name:R,onChange:le,onBlur:le,ref:pe=>{if(pe){oe(R,H),Q=be(n,R);const Y=Wt(pe.value)&&pe.querySelectorAll&&pe.querySelectorAll("input,select,textarea")[0]||pe,ve=R6(Y),Ue=Q._f.refs||[];if(ve?Ue.find(it=>it===Y):Y===Q._f.ref)return;xt(n,R,{_f:{...Q._f,...ve?{refs:[...Ue.filter(Bp),Y,...Array.isArray(be(i,R))?[{}]:[]],ref:{type:Y.type,name:R}}:{ref:Y}}}),I(R,!1,void 0,Y)}else Q=be(n,R,{}),Q._f&&(Q._f.mount=!1),(t.shouldUnregister||H.shouldUnregister)&&!(JE(u.array,R)&&l.action)&&u.unMount.add(R)}}},Z=()=>t.shouldFocusError&&bc(n,ce,u.mount),Ee=R=>{hn(R)&&(v.state.next({disabled:R}),bc(n,(H,Q)=>{const ge=be(n,Q);ge&&(H.disabled=ge._f.disabled||R,Array.isArray(ge._f.refs)&&ge._f.refs.forEach(pe=>{pe.disabled=ge._f.disabled||R}))},0,!1))},Ye=(R,H)=>async Q=>{let ge;Q&&(Q.preventDefault&&Q.preventDefault(),Q.persist&&Q.persist());let pe=Sr(s);if(v.state.next({isSubmitting:!0}),t.resolver){const{errors:Y,values:ve}=await W();r.errors=Y,pe=ve}else await z(n);if(u.disabled.size)for(const Y of u.disabled)xt(pe,Y,void 0);if(nr(r.errors,"root"),Lr(r.errors)){v.state.next({errors:{}});try{await R(pe,Q)}catch(Y){ge=Y}}else H&&await H({...r.errors},Q),Z(),setTimeout(Z);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Lr(r.errors)&&!ge,submitCount:r.submitCount+1,errors:r.errors}),ge)throw ge},Pt=(R,H={})=>{be(n,R)&&(Wt(H.defaultValue)?re(R,Sr(be(i,R))):(re(R,H.defaultValue),xt(i,R,Sr(H.defaultValue))),H.keepTouched||nr(r.touchedFields,R),H.keepDirty||(nr(r.dirtyFields,R),r.isDirty=H.defaultValue?ee(R,Sr(be(i,R))):ee()),H.keepError||(nr(r.errors,R),h.isValid&&k()),v.state.next({...r}))},yt=(R,H={})=>{const Q=R?Sr(R):i,ge=Sr(Q),pe=Lr(R),Y=pe?i:ge;if(H.keepDefaultValues||(i=Q),!H.keepValues){if(H.keepDirtyValues){const ve=new Set([...u.mount,...Object.keys(ec(i,s))]);for(const Ue of Array.from(ve))be(r.dirtyFields,Ue)?xt(Y,Ue,be(s,Ue)):re(Ue,be(Y,Ue))}else{if(e0&&Wt(R))for(const ve of u.mount){const Ue=be(n,ve);if(Ue&&Ue._f){const it=Array.isArray(Ue._f.refs)?Ue._f.refs[0]:Ue._f.ref;if(of(it)){const gt=it.closest("form");if(gt){gt.reset();break}}}}for(const ve of u.mount)re(ve,be(Y,ve))}s=Sr(Y),v.array.next({values:{...Y}}),v.state.next({values:{...Y}})}u={mount:H.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!h.isValid||!!H.keepIsValid||!!H.keepDirtyValues,l.watch=!!t.shouldUnregister,v.state.next({submitCount:H.keepSubmitCount?r.submitCount:0,isDirty:pe?!1:H.keepDirty?r.isDirty:!!(H.keepDefaultValues&&!Vs(R,i)),isSubmitted:H.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:pe?{}:H.keepDirtyValues?H.keepDefaultValues&&s?ec(i,s):r.dirtyFields:H.keepDefaultValues&&R?ec(i,R):H.keepDirty?r.dirtyFields:{},touchedFields:H.keepTouched?r.touchedFields:{},errors:H.keepErrors?r.errors:{},isSubmitSuccessful:H.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ft=(R,H)=>yt(li(R)?R(s):R,H),jn=(R,H={})=>{const Q=be(n,R),ge=Q&&Q._f;if(ge){const pe=ge.refs?ge.refs[0]:ge.ref;pe.focus&&(pe.focus(),H.shouldSelect&&li(pe.select)&&pe.select())}},Ut=R=>{r={...r,...R}},Zt={control:{register:oe,unregister:ue,getFieldState:te,handleSubmit:Ye,setError:ne,_subscribe:$e,_runSchema:W,_getWatch:X,_getDirty:ee,_setValid:k,_setFieldArray:E,_setDisabledField:Pe,_setErrors:P,_getFieldArray:ae,_reset:yt,_resetDefaultValues:()=>li(t.defaultValues)&&t.defaultValues().then(R=>{Ft(R,t.resetOptions),v.state.next({isLoading:!1})}),_removeUnmounted:V,_disableForm:Ee,_subjects:v,_proxyFormState:h,get _fields(){return n},get _formValues(){return s},get _state(){return l},set _state(R){l=R},get _defaultValues(){return i},get _names(){return u},set _names(R){u=R},get _formState(){return r},get _options(){return t},set _options(R){t={...t,...R}}},subscribe:Qe,trigger:M,register:oe,handleSubmit:Ye,watch:ke,setValue:re,getValues:D,reset:Ft,resetField:Pt,clearErrors:Se,unregister:ue,setError:ne,setFocus:jn,getFieldState:te};return{...Zt,formControl:Zt}}function qc(e={}){const t=et.useRef(void 0),r=et.useRef(void 0),[n,i]=et.useState({isDirty:!1,isValidating:!1,isLoading:li(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:li(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:K6(e),formState:n},e.formControl&&e.defaultValues&&!li(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const s=t.current.control;return s._options=e,et.useLayoutEffect(()=>s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0}),[s]),et.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),et.useEffect(()=>{if(s._proxyFormState.isDirty){const l=s._getDirty();l!==n.isDirty&&s._subjects.state.next({isDirty:l})}},[s,n.isDirty]),et.useEffect(()=>{e.values&&!Vs(e.values,r.current)?(s._reset(e.values,s._options.resetOptions),r.current=e.values,i(l=>({...l}))):s._resetDefaultValues()},[e.values,s]),et.useEffect(()=>{e.errors&&!Lr(e.errors)&&s._setErrors(e.errors)},[e.errors,s]),et.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),et.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[e.shouldUnregister,s]),t.current.formState=XE(n,s),t.current}function aC(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=aC(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ot(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=aC(e))&&(n&&(n+=" "),n+=t);return n}var Vp={},Wp={},qS;function G6(){return qS||(qS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Wp)),Wp}var qp={},HS;function oC(){return HS||(HS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(qp)),qp}var Hp={},KS;function lC(){return KS||(KS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Hp)),Hp}var Kp={},GS;function s0(){return GS||(GS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],i=r.length;if(i===0)return n;let s=0,l="",u="",f=!1;for(r.charCodeAt(0)===46&&(n.push(""),s++);s<i;){const m=r[s];u?m==="\\"&&s+1<i?(s++,l+=r[s]):m===u?u="":l+=m:f?m==='"'||m==="'"?u=m:m==="]"?(f=!1,n.push(l),l=""):l+=m:m==="["?(f=!0,l&&(n.push(l),l="")):m==="."?l&&(n.push(l),l=""):l+=m,s++}return l&&n.push(l),n}e.toPath=t})(Kp)),Kp}var YS;function a0(){return YS||(YS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G6(),r=oC(),n=lC(),i=s0();function s(u,f,m){if(u==null)return m;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return m;const h=u[f];return h===void 0?r.isDeepKey(f)?s(u,i.toPath(f),m):m:h}case"number":case"symbol":{typeof f=="number"&&(f=n.toKey(f));const h=u[f];return h===void 0?m:h}default:{if(Array.isArray(f))return l(u,f,m);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return m;const h=u[f];return h===void 0?m:h}}}function l(u,f,m){if(f.length===0)return m;let h=u;for(let p=0;p<f.length;p++){if(h==null||t.isUnsafeProperty(f[p]))return m;h=h[f[p]]}return h===void 0?m:h}e.get=s})(Vp)),Vp}var Gp,JS;function Y6(){return JS||(JS=1,Gp=a0().get),Gp}var J6=Y6();const Fo=mi(J6);var Yp={exports:{}},vt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QS;function Q6(){if(QS)return vt;QS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),w=Symbol.for("react.client.reference");function _(b){if(typeof b=="object"&&b!==null){var x=b.$$typeof;switch(x){case e:switch(b=b.type,b){case r:case i:case n:case f:case m:case v:return b;default:switch(b=b&&b.$$typeof,b){case l:case u:case p:case h:return b;case s:return b;default:return x}}case t:return x}}}return vt.ContextConsumer=s,vt.ContextProvider=l,vt.Element=e,vt.ForwardRef=u,vt.Fragment=r,vt.Lazy=p,vt.Memo=h,vt.Portal=t,vt.Profiler=i,vt.StrictMode=n,vt.Suspense=f,vt.SuspenseList=m,vt.isContextConsumer=function(b){return _(b)===s},vt.isContextProvider=function(b){return _(b)===l},vt.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===e},vt.isForwardRef=function(b){return _(b)===u},vt.isFragment=function(b){return _(b)===r},vt.isLazy=function(b){return _(b)===p},vt.isMemo=function(b){return _(b)===h},vt.isPortal=function(b){return _(b)===t},vt.isProfiler=function(b){return _(b)===i},vt.isStrictMode=function(b){return _(b)===n},vt.isSuspense=function(b){return _(b)===f},vt.isSuspenseList=function(b){return _(b)===m},vt.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===i||b===n||b===f||b===m||typeof b=="object"&&b!==null&&(b.$$typeof===p||b.$$typeof===h||b.$$typeof===l||b.$$typeof===s||b.$$typeof===u||b.$$typeof===w||b.getModuleId!==void 0)},vt.typeOf=_,vt}var XS;function X6(){return XS||(XS=1,Yp.exports=Q6()),Yp.exports}var Z6=X6(),vn=e=>e===0?0:e>0?1:-1,Wn=e=>typeof e=="number"&&e!=+e,ka=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Je=e=>(typeof e=="number"||e instanceof Number)&&!Wn(e),Ri=e=>Je(e)||typeof e=="string",eL=0,Cc=e=>{var t=++eL;return"".concat(e||"").concat(t)},hi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Je(t)&&typeof t!="string")return n;var s;if(ka(t)){if(r==null)return n;var l=t.indexOf("%");s=r*parseFloat(t.slice(0,l))/100}else s=+t;return Wn(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},cC=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function Ur(e,t,r){return Je(e)&&Je(t)?e+r*(t-e):t}function tL(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Fo(n,t))===r)}var hr=e=>e===null||typeof e>"u",Hc=e=>hr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),rL=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function o0(e){if(typeof e!="string")return!1;var t=rL;return t.includes(e)}var nL=["viewBox","children"],ZS=["points","pathLength"],Jp={svg:nL,polygon:ZS,polyline:ZS},iL=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(S.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{o0(i)&&(n[i]=(s=>r[i](r,s)))}),n},sL=(e,t,r)=>n=>(e(t,r,n),null),l0=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var s=e[i];o0(i)&&typeof s=="function"&&(n||(n={}),n[i]=sL(s,t,r))}),n},aL=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function uC(e){if(typeof e!="string")return!1;var t=aL;return t.includes(e)}function Kc(e){var t=Object.entries(e).filter(r=>{var[n]=r;return uC(n)});return Object.fromEntries(t)}var e_=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",t_=null,Qp=null,dC=e=>{if(e===t_&&Array.isArray(Qp))return Qp;var t=[];return S.Children.forEach(e,r=>{hr(r)||(Z6.isFragment(r)?t=t.concat(dC(r.props.children)):t.push(r))}),Qp=t,t_=e,t};function oL(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>e_(i)):n=[e_(t)],dC(e).forEach(i=>{var s=Fo(i,"type.displayName")||Fo(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}var lL=(e,t,r,n)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var s=(i=n&&(Jp==null?void 0:Jp[n]))!==null&&i!==void 0?i:[],l=t.startsWith("data-"),u=typeof e!="function"&&(!!n&&s.includes(t)||uC(t)),f=!!r&&o0(t);return l||u||f},Er=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(S.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(s=>{var l;lL((l=n)===null||l===void 0?void 0:l[s],s,t,r)&&(i[s]=n[s])}),i},cL=["children","width","height","viewBox","className","style","title","desc"];function Kv(){return Kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kv.apply(null,arguments)}function uL(e,t){if(e==null)return{};var r,n,i=dL(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function dL(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var fC=S.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:s,className:l,style:u,title:f,desc:m}=e,h=uL(e,cL),p=s||{width:n,height:i,x:0,y:0},v=Ot("recharts-surface",l);return S.createElement("svg",Kv({},Er(h,!0,"svg"),{className:v,width:n,height:i,style:u,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),S.createElement("title",null,f),S.createElement("desc",null,m),r)}),fL=["children","className"];function Gv(){return Gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gv.apply(null,arguments)}function hL(e,t){if(e==null)return{};var r,n,i=mL(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mL(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Gs=S.forwardRef((e,t)=>{var{children:r,className:n}=e,i=hL(e,fL),s=Ot("recharts-layer",n);return S.createElement("g",Gv({className:s},Er(i,!0),{ref:t}),r)}),pL=S.createContext(null);function jt(e){return function(){return e}}const hC=Math.cos,uf=Math.sin,gi=Math.sqrt,df=Math.PI,ah=2*df,Yv=Math.PI,Jv=2*Yv,va=1e-6,gL=Jv-va;function mC(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function vL(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return mC;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class yL{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?mC:vL(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,l){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,u=this._y1,f=n-t,m=i-r,h=l-t,p=u-r,v=h*h+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>va)if(!(Math.abs(p*f-m*h)>va)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let w=n-l,_=i-u,b=f*f+m*m,x=w*w+_*_,k=Math.sqrt(b),N=Math.sqrt(v),E=s*Math.tan((Yv-Math.acos((b+v-x)/(2*k*N)))/2),A=E/N,P=E/k;Math.abs(A-1)>va&&this._append`L${t+A*h},${r+A*p}`,this._append`A${s},${s},0,0,${+(p*w>h*_)},${this._x1=t+P*f},${this._y1=r+P*m}`}}arc(t,r,n,i,s,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),f=n*Math.sin(i),m=t+u,h=r+f,p=1^l,v=l?i-s:s-i;this._x1===null?this._append`M${m},${h}`:(Math.abs(this._x1-m)>va||Math.abs(this._y1-h)>va)&&this._append`L${m},${h}`,n&&(v<0&&(v=v%Jv+Jv),v>gL?this._append`A${n},${n},0,1,${p},${t-u},${r-f}A${n},${n},0,1,${p},${this._x1=m},${this._y1=h}`:v>va&&this._append`A${n},${n},0,${+(v>=Yv)},${p},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function c0(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new yL(t)}function u0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function pC(e){this._context=e}pC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function oh(e){return new pC(e)}function gC(e){return e[0]}function vC(e){return e[1]}function yC(e,t){var r=jt(!0),n=null,i=oh,s=null,l=c0(u);e=typeof e=="function"?e:e===void 0?gC:jt(e),t=typeof t=="function"?t:t===void 0?vC:jt(t);function u(f){var m,h=(f=u0(f)).length,p,v=!1,w;for(n==null&&(s=i(w=l())),m=0;m<=h;++m)!(m<h&&r(p=f[m],m,f))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+e(p,m,f),+t(p,m,f));if(w)return s=null,w+""||null}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:jt(+f),u):e},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:jt(+f),u):t},u.defined=function(f){return arguments.length?(r=typeof f=="function"?f:jt(!!f),u):r},u.curve=function(f){return arguments.length?(i=f,n!=null&&(s=i(n)),u):i},u.context=function(f){return arguments.length?(f==null?n=s=null:s=i(n=f),u):n},u}function Sd(e,t,r){var n=null,i=jt(!0),s=null,l=oh,u=null,f=c0(m);e=typeof e=="function"?e:e===void 0?gC:jt(+e),t=typeof t=="function"?t:jt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?vC:jt(+r);function m(p){var v,w,_,b=(p=u0(p)).length,x,k=!1,N,E=new Array(b),A=new Array(b);for(s==null&&(u=l(N=f())),v=0;v<=b;++v){if(!(v<b&&i(x=p[v],v,p))===k)if(k=!k)w=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),_=v-1;_>=w;--_)u.point(E[_],A[_]);u.lineEnd(),u.areaEnd()}k&&(E[v]=+e(x,v,p),A[v]=+t(x,v,p),u.point(n?+n(x,v,p):E[v],r?+r(x,v,p):A[v]))}if(N)return u=null,N+""||null}function h(){return yC().defined(i).curve(l).context(s)}return m.x=function(p){return arguments.length?(e=typeof p=="function"?p:jt(+p),n=null,m):e},m.x0=function(p){return arguments.length?(e=typeof p=="function"?p:jt(+p),m):e},m.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:jt(+p),m):n},m.y=function(p){return arguments.length?(t=typeof p=="function"?p:jt(+p),r=null,m):t},m.y0=function(p){return arguments.length?(t=typeof p=="function"?p:jt(+p),m):t},m.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:jt(+p),m):r},m.lineX0=m.lineY0=function(){return h().x(e).y(t)},m.lineY1=function(){return h().x(e).y(r)},m.lineX1=function(){return h().x(n).y(t)},m.defined=function(p){return arguments.length?(i=typeof p=="function"?p:jt(!!p),m):i},m.curve=function(p){return arguments.length?(l=p,s!=null&&(u=l(s)),m):l},m.context=function(p){return arguments.length?(p==null?s=u=null:u=l(s=p),m):s},m}class xC{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function xL(e){return new xC(e,!0)}function wL(e){return new xC(e,!1)}const d0={draw(e,t){const r=gi(t/df);e.moveTo(r,0),e.arc(0,0,r,0,ah)}},bL={draw(e,t){const r=gi(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},wC=gi(1/3),SL=wC*2,_L={draw(e,t){const r=gi(t/SL),n=r*wC;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},jL={draw(e,t){const r=gi(t),n=-r/2;e.rect(n,n,r,r)}},kL=.8908130915292852,bC=uf(df/10)/uf(7*df/10),NL=uf(ah/10)*bC,EL=-hC(ah/10)*bC,CL={draw(e,t){const r=gi(t*kL),n=NL*r,i=EL*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const l=ah*s/5,u=hC(l),f=uf(l);e.lineTo(f*r,-u*r),e.lineTo(u*n-f*i,f*n+u*i)}e.closePath()}},Xp=gi(3),AL={draw(e,t){const r=-gi(t/(Xp*3));e.moveTo(0,r*2),e.lineTo(-Xp*r,-r),e.lineTo(Xp*r,-r),e.closePath()}},$n=-.5,Ln=gi(3)/2,Qv=1/gi(12),OL=(Qv/2+1)*3,PL={draw(e,t){const r=gi(t/OL),n=r/2,i=r*Qv,s=n,l=r*Qv+r,u=-s,f=l;e.moveTo(n,i),e.lineTo(s,l),e.lineTo(u,f),e.lineTo($n*n-Ln*i,Ln*n+$n*i),e.lineTo($n*s-Ln*l,Ln*s+$n*l),e.lineTo($n*u-Ln*f,Ln*u+$n*f),e.lineTo($n*n+Ln*i,$n*i-Ln*n),e.lineTo($n*s+Ln*l,$n*l-Ln*s),e.lineTo($n*u+Ln*f,$n*f-Ln*u),e.closePath()}};function TL(e,t){let r=null,n=c0(i);e=typeof e=="function"?e:jt(e||d0),t=typeof t=="function"?t:jt(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:jt(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:jt(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function ff(){}function hf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function SC(e){this._context=e}SC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:hf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:hf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function IL(e){return new SC(e)}function _C(e){this._context=e}_C.prototype={areaStart:ff,areaEnd:ff,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:hf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function DL(e){return new _C(e)}function jC(e){this._context=e}jC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:hf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function RL(e){return new jC(e)}function kC(e){this._context=e}kC.prototype={areaStart:ff,areaEnd:ff,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function ML(e){return new kC(e)}function r_(e){return e<0?-1:1}function n_(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),l=(r-e._y1)/(i||n<0&&-0),u=(s*i+l*n)/(n+i);return(r_(s)+r_(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(u))||0}function i_(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Zp(e,t,r){var n=e._x0,i=e._y0,s=e._x1,l=e._y1,u=(s-n)/3;e._context.bezierCurveTo(n+u,i+u*t,s-u,l-u*r,s,l)}function mf(e){this._context=e}mf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Zp(this,this._t0,i_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Zp(this,i_(this,r=n_(this,e,t)),r);break;default:Zp(this,this._t0,r=n_(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function NC(e){this._context=new EC(e)}(NC.prototype=Object.create(mf.prototype)).point=function(e,t){mf.prototype.point.call(this,t,e)};function EC(e){this._context=e}EC.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function $L(e){return new mf(e)}function LL(e){return new NC(e)}function CC(e){this._context=e}CC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=s_(e),i=s_(t),s=0,l=1;l<r;++s,++l)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function s_(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),l=new Array(r);for(i[0]=0,s[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,l[t]-=n*l[t-1];for(i[r-1]=l[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(l[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function FL(e){return new CC(e)}function lh(e,t){this._context=e,this._t=t}lh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function UL(e){return new lh(e,.5)}function zL(e){return new lh(e,0)}function BL(e){return new lh(e,1)}function Uo(e,t){if((l=e.length)>1)for(var r=1,n,i,s=e[t[0]],l,u=s.length;r<l;++r)for(i=s,s=e[t[r]],n=0;n<u;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Xv(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function VL(e,t){return e[t]}function WL(e){const t=[];return t.key=e,t}function qL(){var e=jt([]),t=Xv,r=Uo,n=VL;function i(s){var l=Array.from(e.apply(this,arguments),WL),u,f=l.length,m=-1,h;for(const p of s)for(u=0,++m;u<f;++u)(l[u][m]=[0,+n(p,l[u].key,m,s)]).data=p;for(u=0,h=u0(t(l));u<f;++u)l[h[u]].index=u;return r(l,h),l}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:jt(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:jt(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?Xv:typeof s=="function"?s:jt(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??Uo,i):r},i}function HL(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,l;i<s;++i){for(l=r=0;r<n;++r)l+=e[r][i][1]||0;if(l)for(r=0;r<n;++r)e[r][i][1]/=l}Uo(e,t)}}function KL(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var l=0,u=0;l<i;++l)u+=e[l][r][1]||0;n[r][1]+=n[r][0]=-u/2}Uo(e,t)}}function GL(e,t){if(!(!((l=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,l;n<s;++n){for(var u=0,f=0,m=0;u<l;++u){for(var h=e[t[u]],p=h[n][1]||0,v=h[n-1][1]||0,w=(p-v)/2,_=0;_<u;++_){var b=e[t[_]],x=b[n][1]||0,k=b[n-1][1]||0;w+=x-k}f+=p,m+=w*p}i[n-1][1]+=i[n-1][0]=r,f&&(r-=m/f)}i[n-1][1]+=i[n-1][0]=r,Uo(e,t)}}var YL=["type","size","sizeType"];function Zv(){return Zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zv.apply(null,arguments)}function a_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function o_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a_(Object(r),!0).forEach(function(n){JL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JL(e,t,r){return(t=QL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QL(e){var t=XL(e,"string");return typeof t=="symbol"?t:t+""}function XL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZL(e,t){if(e==null)return{};var r,n,i=e5(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function e5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var AC={symbolCircle:d0,symbolCross:bL,symbolDiamond:_L,symbolSquare:jL,symbolStar:CL,symbolTriangle:AL,symbolWye:PL},t5=Math.PI/180,r5=e=>{var t="symbol".concat(Hc(e));return AC[t]||d0},n5=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*t5;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},i5=(e,t)=>{AC["symbol".concat(Hc(e))]=t},OC=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=ZL(e,YL),s=o_(o_({},i),{},{type:t,size:r,sizeType:n}),l="circle";typeof t=="string"&&(l=t);var u=()=>{var v=r5(l),w=TL().type(v).size(n5(r,n,l));return w()},{className:f,cx:m,cy:h}=s,p=Er(s,!0);return m===+m&&h===+h&&r===+r?S.createElement("path",Zv({},p,{className:Ot("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(h,")"),d:u()})):null};OC.registerSymbol=i5;var eg={},tg={},l_;function s5(){return l_||(l_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let s=0;s<r.length;s++){const l=r[s],u=n(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}e.uniqBy=t})(tg)),tg}var rg={},c_;function PC(){return c_||(c_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(rg)),rg}var ng={},ig={},sg={},u_;function a5(){return u_||(u_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(sg)),sg}var d_;function f0(){return d_||(d_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=a5();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(ig)),ig}var ag={},f_;function o5(){return f_||(f_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(ag)),ag}var h_;function l5(){return h_||(h_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f0(),r=o5();function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(ng)),ng}var og={},lg={},m_;function c5(){return m_||(m_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=a0();function r(n){return function(i){return t.get(i,n)}}e.property=r})(lg)),lg}var cg={},ug={},dg={},fg={},p_;function TC(){return p_||(p_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(fg)),fg}var hg={},g_;function IC(){return g_||(g_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(hg)),hg}var mg={},v_;function DC(){return v_||(v_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(mg)),mg}var y_;function u5(){return y_||(y_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h0(),r=TC(),n=IC(),i=DC();function s(p,v,w){return typeof w!="function"?t.isMatch(p,v):l(p,v,function _(b,x,k,N,E,A){const P=w(b,x,k,N,E,A);return P!==void 0?!!P:l(b,x,_,A)},new Map)}function l(p,v,w,_){if(v===p)return!0;switch(typeof v){case"object":return u(p,v,w,_);case"function":return Object.keys(v).length>0?l(p,{...v},w,_):i.eq(p,v);default:return r.isObject(p)?typeof v=="string"?v==="":!0:i.eq(p,v)}}function u(p,v,w,_){if(v==null)return!0;if(Array.isArray(v))return m(p,v,w,_);if(v instanceof Map)return f(p,v,w,_);if(v instanceof Set)return h(p,v,w,_);const b=Object.keys(v);if(p==null)return b.length===0;if(b.length===0)return!0;if(_&&_.has(v))return _.get(v)===p;_&&_.set(v,p);try{for(let x=0;x<b.length;x++){const k=b[x];if(!n.isPrimitive(p)&&!(k in p)||v[k]===void 0&&p[k]!==void 0||v[k]===null&&p[k]!==null||!w(p[k],v[k],k,p,v,_))return!1}return!0}finally{_&&_.delete(v)}}function f(p,v,w,_){if(v.size===0)return!0;if(!(p instanceof Map))return!1;for(const[b,x]of v.entries()){const k=p.get(b);if(w(k,x,b,p,v,_)===!1)return!1}return!0}function m(p,v,w,_){if(v.length===0)return!0;if(!Array.isArray(p))return!1;const b=new Set;for(let x=0;x<v.length;x++){const k=v[x];let N=!1;for(let E=0;E<p.length;E++){if(b.has(E))continue;const A=p[E];let P=!1;if(w(A,k,x,p,v,_)&&(P=!0),P){b.add(E),N=!0;break}}if(!N)return!1}return!0}function h(p,v,w,_){return v.size===0?!0:p instanceof Set?m([...p],[...v],w,_):!1}e.isMatchWith=s,e.isSetMatch=h})(dg)),dg}var x_;function h0(){return x_||(x_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u5();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(ug)),ug}var pg={},gg={},vg={},w_;function d5(){return w_||(w_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(vg)),vg}var yg={},b_;function RC(){return b_||(b_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(yg)),yg}var xg={},S_;function MC(){return S_||(S_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",l="[object Symbol]",u="[object Date]",f="[object Map]",m="[object Set]",h="[object Array]",p="[object Function]",v="[object ArrayBuffer]",w="[object Object]",_="[object Error]",b="[object DataView]",x="[object Uint8Array]",k="[object Uint8ClampedArray]",N="[object Uint16Array]",E="[object Uint32Array]",A="[object BigUint64Array]",P="[object Int8Array]",I="[object Int16Array]",L="[object Int32Array]",G="[object BigInt64Array]",W="[object Float32Array]",U="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=v,e.arrayTag=h,e.bigInt64ArrayTag=G,e.bigUint64ArrayTag=A,e.booleanTag=i,e.dataViewTag=b,e.dateTag=u,e.errorTag=_,e.float32ArrayTag=W,e.float64ArrayTag=U,e.functionTag=p,e.int16ArrayTag=I,e.int32ArrayTag=L,e.int8ArrayTag=P,e.mapTag=f,e.numberTag=n,e.objectTag=w,e.regexpTag=t,e.setTag=m,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=N,e.uint32ArrayTag=E,e.uint8ArrayTag=x,e.uint8ClampedArrayTag=k})(xg)),xg}var wg={},__;function f5(){return __||(__=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(wg)),wg}var j_;function $C(){return j_||(j_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d5(),r=RC(),n=MC(),i=IC(),s=f5();function l(h,p){return u(h,void 0,h,new Map,p)}function u(h,p,v,w=new Map,_=void 0){const b=_==null?void 0:_(h,p,v,w);if(b!==void 0)return b;if(i.isPrimitive(h))return h;if(w.has(h))return w.get(h);if(Array.isArray(h)){const x=new Array(h.length);w.set(h,x);for(let k=0;k<h.length;k++)x[k]=u(h[k],k,v,w,_);return Object.hasOwn(h,"index")&&(x.index=h.index),Object.hasOwn(h,"input")&&(x.input=h.input),x}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const x=new RegExp(h.source,h.flags);return x.lastIndex=h.lastIndex,x}if(h instanceof Map){const x=new Map;w.set(h,x);for(const[k,N]of h)x.set(k,u(N,k,v,w,_));return x}if(h instanceof Set){const x=new Set;w.set(h,x);for(const k of h)x.add(u(k,void 0,v,w,_));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(s.isTypedArray(h)){const x=new(Object.getPrototypeOf(h)).constructor(h.length);w.set(h,x);for(let k=0;k<h.length;k++)x[k]=u(h[k],k,v,w,_);return x}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const x=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return w.set(h,x),f(x,h,v,w,_),x}if(typeof File<"u"&&h instanceof File){const x=new File([h],h.name,{type:h.type});return w.set(h,x),f(x,h,v,w,_),x}if(h instanceof Blob){const x=new Blob([h],{type:h.type});return w.set(h,x),f(x,h,v,w,_),x}if(h instanceof Error){const x=new h.constructor;return w.set(h,x),x.message=h.message,x.name=h.name,x.stack=h.stack,x.cause=h.cause,f(x,h,v,w,_),x}if(typeof h=="object"&&m(h)){const x=Object.create(Object.getPrototypeOf(h));return w.set(h,x),f(x,h,v,w,_),x}return h}function f(h,p,v=h,w,_){const b=[...Object.keys(p),...t.getSymbols(p)];for(let x=0;x<b.length;x++){const k=b[x],N=Object.getOwnPropertyDescriptor(h,k);(N==null||N.writable)&&(h[k]=u(p[k],k,v,w,_))}}function m(h){switch(r.getTag(h)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=u,e.copyProperties=f})(gg)),gg}var k_;function h5(){return k_||(k_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$C();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(pg)),pg}var N_;function m5(){return N_||(N_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h0(),r=h5();function n(i){return i=r.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=n})(cg)),cg}var bg={},Sg={},_g={},E_;function p5(){return E_||(E_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$C(),r=MC();function n(i,s){return t.cloneDeepWith(i,(l,u,f,m)=>{const h=s==null?void 0:s(l,u,f,m);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(p,i),p}case r.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}e.cloneDeepWith=n})(_g)),_g}var C_;function g5(){return C_||(C_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p5();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Sg)),Sg}var jg={},kg={},A_;function LC(){return A_||(A_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(kg)),kg}var Ng={},O_;function v5(){return O_||(O_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RC();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Ng)),Ng}var P_;function y5(){return P_||(P_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oC(),r=LC(),n=v5(),i=s0();function s(l,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&t.isDeepKey(u)&&(l==null?void 0:l[u])==null?f=i.toPath(u):f=[u],f.length===0)return!1;let m=l;for(let h=0;h<f.length;h++){const p=f[h];if((m==null||!Object.hasOwn(m,p))&&!((Array.isArray(m)||n.isArguments(m))&&r.isIndex(p)&&p<m.length))return!1;m=m[p]}return!0}e.has=s})(jg)),jg}var T_;function x5(){return T_||(T_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h0(),r=lC(),n=g5(),i=a0(),s=y5();function l(u,f){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=r.toKey(u);break}}return f=n.cloneDeep(f),function(m){const h=i.get(m,u);return h===void 0?s.has(m,u):f===void 0?h===void 0:t.isMatch(h,f)}}e.matchesProperty=l})(bg)),bg}var I_;function w5(){return I_||(I_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PC(),r=c5(),n=m5(),i=x5();function s(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=s})(og)),og}var D_;function b5(){return D_||(D_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s5(),r=PC(),n=l5(),i=w5();function s(l,u=r.identity){return n.isArrayLikeObject(l)?t.uniqBy(Array.from(l),i.iteratee(u)):[]}e.uniqBy=s})(eg)),eg}var Eg,R_;function S5(){return R_||(R_=1,Eg=b5().uniqBy),Eg}var _5=S5();const M_=mi(_5);function j5(e,t,r){return t===!0?M_(e,r):typeof t=="function"?M_(e,t):e}var Cg={exports:{}},Ag={},Og={exports:{}},Pg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function k5(){if($_)return Pg;$_=1;var e=Jo();function t(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,s=e.useLayoutEffect,l=e.useDebugValue;function u(p,v){var w=v(),_=n({inst:{value:w,getSnapshot:v}}),b=_[0].inst,x=_[1];return s(function(){b.value=w,b.getSnapshot=v,f(b)&&x({inst:b})},[p,w,v]),i(function(){return f(b)&&x({inst:b}),p(function(){f(b)&&x({inst:b})})},[p]),l(w),w}function f(p){var v=p.getSnapshot;p=p.value;try{var w=v();return!r(p,w)}catch{return!0}}function m(p,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:u;return Pg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,Pg}var L_;function N5(){return L_||(L_=1,Og.exports=k5()),Og.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function E5(){if(F_)return Ag;F_=1;var e=Jo(),t=N5();function r(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,s=e.useRef,l=e.useEffect,u=e.useMemo,f=e.useDebugValue;return Ag.useSyncExternalStoreWithSelector=function(m,h,p,v,w){var _=s(null);if(_.current===null){var b={hasValue:!1,value:null};_.current=b}else b=_.current;_=u(function(){function k(I){if(!N){if(N=!0,E=I,I=v(I),w!==void 0&&b.hasValue){var L=b.value;if(w(L,I))return A=L}return A=I}if(L=A,n(E,I))return L;var G=v(I);return w!==void 0&&w(L,G)?(E=I,L):(E=I,A=G)}var N=!1,E,A,P=p===void 0?null:p;return[function(){return k(h())},P===null?void 0:function(){return k(P())}]},[h,p,v,w]);var x=i(m,_[0],_[1]);return l(function(){b.hasValue=!0,b.value=x},[x]),f(x),x},Ag}var U_;function C5(){return U_||(U_=1,Cg.exports=E5()),Cg.exports}var A5=C5(),m0=S.createContext(null),O5=e=>e,mr=()=>{var e=S.useContext(m0);return e?e.store.dispatch:O5},Hd=()=>{},P5=()=>Hd,T5=(e,t)=>e===t;function We(e){var t=S.useContext(m0);return A5.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:P5,t?t.store.getState:Hd,t?t.store.getState:Hd,t?e:Hd,T5)}function I5(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function D5(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function R5(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var z_=e=>Array.isArray(e)?e:[e];function M5(e){const t=Array.isArray(e[0])?e[0]:e;return R5(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function $5(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var L5=class{constructor(e){this.value=e}deref(){return this.value}},F5=typeof WeakRef<"u"?WeakRef:L5,U5=0,B_=1;function _d(){return{s:U5,v:void 0,o:null,p:null}}function FC(e,t={}){let r=_d();const{resultEqualityCheck:n}=t;let i,s=0;function l(){var p;let u=r;const{length:f}=arguments;for(let v=0,w=f;v<w;v++){const _=arguments[v];if(typeof _=="function"||typeof _=="object"&&_!==null){let b=u.o;b===null&&(u.o=b=new WeakMap);const x=b.get(_);x===void 0?(u=_d(),b.set(_,u)):u=x}else{let b=u.p;b===null&&(u.p=b=new Map);const x=b.get(_);x===void 0?(u=_d(),b.set(_,u)):u=x}}const m=u;let h;if(u.s===B_)h=u.v;else if(h=e.apply(null,arguments),s++,n){const v=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;v!=null&&n(v,h)&&(h=v,s!==0&&s--),i=typeof h=="object"&&h!==null||typeof h=="function"?new F5(h):h}return m.s=B_,m.v=h,h}return l.clearCache=()=>{r=_d(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function z5(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let s=0,l=0,u,f={},m=i.pop();typeof m=="object"&&(f=m,m=i.pop()),I5(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const h={...r,...f},{memoize:p,memoizeOptions:v=[],argsMemoize:w=FC,argsMemoizeOptions:_=[]}=h,b=z_(v),x=z_(_),k=M5(i),N=p(function(){return s++,m.apply(null,arguments)},...b),E=w(function(){l++;const P=$5(k,arguments);return u=N.apply(null,P),u},...x);return Object.assign(E,{resultFunc:m,memoizedResultFunc:N,dependencies:k,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:p,argsMemoize:w})};return Object.assign(n,{withTypes:()=>n}),n}var J=z5(FC),B5=Object.assign((e,t=J)=>{D5(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((l,u,f)=>(l[r[f]]=u,l),{}))},{withTypes:()=>B5}),Tg={},Ig={},Dg={},V_;function V5(){return V_||(V_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const l=t(n),u=t(i);if(l===u&&l===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?u-l:l-u}return 0};e.compareValues=r})(Dg)),Dg}var Rg={},Mg={},W_;function UC(){return W_||(W_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Mg)),Mg}var q_;function W5(){return q_||(q_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UC(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||l!=null&&Object.hasOwn(l,s)}e.isKey=i})(Rg)),Rg}var H_;function q5(){return H_||(H_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V5(),r=W5(),n=s0();function i(s,l,u,f){if(s==null)return[];u=f?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(w=>String(w));const m=(w,_)=>{let b=w;for(let x=0;x<_.length&&b!=null;++x)b=b[_[x]];return b},h=(w,_)=>_==null||w==null?_:typeof w=="object"&&"key"in w?Object.hasOwn(_,w.key)?_[w.key]:m(_,w.path):typeof w=="function"?w(_):Array.isArray(w)?m(_,w):typeof _=="object"?_[w]:_,p=l.map(w=>(Array.isArray(w)&&w.length===1&&(w=w[0]),w==null||typeof w=="function"||Array.isArray(w)||r.isKey(w)?w:{key:w,path:n.toPath(w)}));return s.map(w=>({original:w,criteria:p.map(_=>h(_,w))})).slice().sort((w,_)=>{for(let b=0;b<p.length;b++){const x=t.compareValues(w.criteria[b],_.criteria[b],u[b]);if(x!==0)return x}return 0}).map(w=>w.original)}e.orderBy=i})(Ig)),Ig}var $g={},K_;function H5(){return K_||(K_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],s=Math.floor(n),l=(u,f)=>{for(let m=0;m<u.length;m++){const h=u[m];Array.isArray(h)&&f<s?l(h,f+1):i.push(h)}};return l(r,0),i}e.flatten=t})($g)),$g}var Lg={},G_;function zC(){return G_||(G_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LC(),r=f0(),n=TC(),i=DC();function s(l,u,f){return n.isObject(f)&&(typeof u=="number"&&r.isArrayLike(f)&&t.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?i.eq(f[u],l):!1}e.isIterateeCall=s})(Lg)),Lg}var Y_;function K5(){return Y_||(Y_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q5(),r=H5(),n=zC();function i(s,...l){const u=l.length;return u>1&&n.isIterateeCall(s,l[0],l[1])?l=[]:u>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(s,r.flatten(l),["asc"])}e.sortBy=i})(Tg)),Tg}var Fg,J_;function G5(){return J_||(J_=1,Fg=K5().sortBy),Fg}var Y5=G5();const ch=mi(Y5);var BC=e=>e.legend.settings,J5=e=>e.legend.size,Q5=e=>e.legend.payload;J([Q5,BC],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?ch(n,r):n});var jd=1;function X5(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=S.useState({height:0,left:0,top:0,width:0}),n=S.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-t.height)>jd||Math.abs(l.left-t.left)>jd||Math.abs(l.top-t.top)>jd||Math.abs(l.width-t.width)>jd)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function _r(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Z5=typeof Symbol=="function"&&Symbol.observable||"@@observable",Q_=Z5,Ug=()=>Math.random().toString(36).substring(7).split("").join("."),eF={INIT:`@@redux/INIT${Ug()}`,REPLACE:`@@redux/REPLACE${Ug()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ug()}`},pf=eF;function p0(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function VC(e,t,r){if(typeof e!="function")throw new Error(_r(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(_r(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(_r(1));return r(VC)(e,t)}let n=e,i=t,s=new Map,l=s,u=0,f=!1;function m(){l===s&&(l=new Map,s.forEach((x,k)=>{l.set(k,x)}))}function h(){if(f)throw new Error(_r(3));return i}function p(x){if(typeof x!="function")throw new Error(_r(4));if(f)throw new Error(_r(5));let k=!0;m();const N=u++;return l.set(N,x),function(){if(k){if(f)throw new Error(_r(6));k=!1,m(),l.delete(N),s=null}}}function v(x){if(!p0(x))throw new Error(_r(7));if(typeof x.type>"u")throw new Error(_r(8));if(typeof x.type!="string")throw new Error(_r(17));if(f)throw new Error(_r(9));try{f=!0,i=n(i,x)}finally{f=!1}return(s=l).forEach(N=>{N()}),x}function w(x){if(typeof x!="function")throw new Error(_r(10));n=x,v({type:pf.REPLACE})}function _(){const x=p;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(_r(11));function N(){const A=k;A.next&&A.next(h())}return N(),{unsubscribe:x(N)}},[Q_](){return this}}}return v({type:pf.INIT}),{dispatch:v,subscribe:p,getState:h,replaceReducer:w,[Q_]:_}}function tF(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:pf.INIT})>"u")throw new Error(_r(12));if(typeof r(void 0,{type:pf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(_r(13))})}function WC(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const l=t[s];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let i;try{tF(r)}catch(s){i=s}return function(l={},u){if(i)throw i;let f=!1;const m={};for(let h=0;h<n.length;h++){const p=n[h],v=r[p],w=l[p],_=v(w,u);if(typeof _>"u")throw u&&u.type,new Error(_r(14));m[p]=_,f=f||_!==w}return f=f||n.length!==Object.keys(l).length,f?m:l}}function gf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function rF(...e){return t=>(r,n)=>{const i=t(r,n);let s=()=>{throw new Error(_r(15))};const l={getState:i.getState,dispatch:(f,...m)=>s(f,...m)},u=e.map(f=>f(l));return s=gf(...u)(i.dispatch),{...i,dispatch:s}}}function qC(e){return p0(e)&&"type"in e&&typeof e.type=="string"}var HC=Symbol.for("immer-nothing"),X_=Symbol.for("immer-draftable"),wn=Symbol.for("immer-state");function ci(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var zo=Object.getPrototypeOf;function $a(e){return!!e&&!!e[wn]}function ss(e){var t;return e?KC(e)||Array.isArray(e)||!!e[X_]||!!((t=e.constructor)!=null&&t[X_])||Gc(e)||dh(e):!1}var nF=Object.prototype.constructor.toString();function KC(e){if(!e||typeof e!="object")return!1;const t=zo(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===nF}function vf(e,t){uh(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function uh(e){const t=e[wn];return t?t.type_:Array.isArray(e)?1:Gc(e)?2:dh(e)?3:0}function ey(e,t){return uh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function GC(e,t,r){const n=uh(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function iF(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Gc(e){return e instanceof Map}function dh(e){return e instanceof Set}function ya(e){return e.copy_||e.base_}function ty(e,t){if(Gc(e))return new Map(e);if(dh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=KC(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[wn];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const l=i[s],u=n[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(zo(e),n)}else{const n=zo(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function g0(e,t=!1){return fh(e)||$a(e)||!ss(e)||(uh(e)>1&&Object.defineProperties(e,{set:{value:kd},add:{value:kd},clear:{value:kd},delete:{value:kd}}),Object.freeze(e),t&&Object.values(e).forEach(r=>g0(r,!0))),e}function kd(){ci(2)}function fh(e){return Object.isFrozen(e)}var sF={};function La(e){const t=sF[e];return t||ci(0,e),t}var Ac;function YC(){return Ac}function aF(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Z_(e,t){t&&(La("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ry(e){ny(e),e.drafts_.forEach(oF),e.drafts_=null}function ny(e){e===Ac&&(Ac=e.parent_)}function ej(e){return Ac=aF(Ac,e)}function oF(e){const t=e[wn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function tj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[wn].modified_&&(ry(t),ci(4)),ss(e)&&(e=yf(t,e),t.parent_||xf(t,e)),t.patches_&&La("Patches").generateReplacementPatches_(r[wn].base_,e,t.patches_,t.inversePatches_)):e=yf(t,r,[]),ry(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==HC?e:void 0}function yf(e,t,r){if(fh(t))return t;const n=t[wn];if(!n)return vf(t,(i,s)=>rj(e,n,t,i,s,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return xf(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,l=!1;n.type_===3&&(s=new Set(i),i.clear(),l=!0),vf(s,(u,f)=>rj(e,n,i,u,f,r,l)),xf(e,i,!1),r&&e.patches_&&La("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function rj(e,t,r,n,i,s,l){if($a(i)){const u=s&&t&&t.type_!==3&&!ey(t.assigned_,n)?s.concat(n):void 0,f=yf(e,i,u);if(GC(r,n,f),$a(f))e.canAutoFreeze_=!1;else return}else l&&r.add(i);if(ss(i)&&!fh(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;yf(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Gc(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&xf(e,i)}}function xf(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&g0(t,r)}function lF(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:YC(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=v0;r&&(i=[n],s=Oc);const{revoke:l,proxy:u}=Proxy.revocable(i,s);return n.draft_=u,n.revoke_=l,u}var v0={get(e,t){if(t===wn)return e;const r=ya(e);if(!ey(r,t))return cF(e,r,t);const n=r[t];return e.finalized_||!ss(n)?n:n===zg(e.base_,t)?(Bg(e),e.copy_[t]=sy(n,e)):n},has(e,t){return t in ya(e)},ownKeys(e){return Reflect.ownKeys(ya(e))},set(e,t,r){const n=JC(ya(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=zg(ya(e),t),s=i==null?void 0:i[wn];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(iF(r,i)&&(r!==void 0||ey(e.base_,t)))return!0;Bg(e),iy(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return zg(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Bg(e),iy(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ya(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){ci(11)},getPrototypeOf(e){return zo(e.base_)},setPrototypeOf(){ci(12)}},Oc={};vf(v0,(e,t)=>{Oc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Oc.deleteProperty=function(e,t){return Oc.set.call(this,e,t,void 0)};Oc.set=function(e,t,r){return v0.set.call(this,e[0],t,r,e[0])};function zg(e,t){const r=e[wn];return(r?ya(r):e)[t]}function cF(e,t,r){var i;const n=JC(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function JC(e,t){if(!(t in e))return;let r=zo(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=zo(r)}}function iy(e){e.modified_||(e.modified_=!0,e.parent_&&iy(e.parent_))}function Bg(e){e.copy_||(e.copy_=ty(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var uF=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const l=this;return function(f=s,...m){return l.produce(f,h=>r.call(this,h,...m))}}typeof r!="function"&&ci(6),n!==void 0&&typeof n!="function"&&ci(7);let i;if(ss(t)){const s=ej(this),l=sy(t,void 0);let u=!0;try{i=r(l),u=!1}finally{u?ry(s):ny(s)}return Z_(s,n),tj(i,s)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===HC&&(i=void 0),this.autoFreeze_&&g0(i,!0),n){const s=[],l=[];La("Patches").generateReplacementPatches_(t,i,s,l),n(s,l)}return i}else ci(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,f=>t(f,...u));let n,i;return[this.produce(t,r,(l,u)=>{n=l,i=u}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ss(e)||ci(8),$a(e)&&(e=rs(e));const t=ej(this),r=sy(e,void 0);return r[wn].isManual_=!0,ny(t),r}finishDraft(e,t){const r=e&&e[wn];(!r||!r.isManual_)&&ci(9);const{scope_:n}=r;return Z_(n,t),tj(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=La("Patches").applyPatches_;return $a(e)?n(e,t):this.produce(e,i=>n(i,t))}};function sy(e,t){const r=Gc(e)?La("MapSet").proxyMap_(e,t):dh(e)?La("MapSet").proxySet_(e,t):lF(e,t);return(t?t.scope_:YC()).drafts_.push(r),r}function rs(e){return $a(e)||ci(10,e),QC(e)}function QC(e){if(!ss(e)||fh(e))return e;const t=e[wn];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=ty(e,t.scope_.immer_.useStrictShallowCopy_)}else r=ty(e,!0);return vf(r,(n,i)=>{GC(r,n,QC(i))}),t&&(t.finalized_=!1),r}var dF=new uF,XC=dF.produce;function ZC(e){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,e):i(s)}var fF=ZC(),hF=ZC,mF=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?gf:gf.apply(null,arguments)};function qn(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(xn(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>qC(n)&&n.type===e,r}var eA=class hc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,hc.prototype)}static get[Symbol.species](){return hc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new hc(...t[0].concat(this)):new hc(...t.concat(this))}};function nj(e){return ss(e)?XC(e,()=>{}):e}function Nd(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function pF(e){return typeof e=="boolean"}var gF=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let l=new eA;return r&&(pF(r)?l.push(fF):l.push(hF(r.extraArgument))),l},vF="RTK_autoBatch",ij=e=>t=>{setTimeout(t,e)},yF=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,s=!1,l=!1;const u=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:ij(10):e.type==="callback"?e.queueNotification:ij(e.timeout),m=()=>{l=!1,s&&(s=!1,u.forEach(h=>h()))};return Object.assign({},n,{subscribe(h){const p=()=>i&&h(),v=n.subscribe(p);return u.add(h),()=>{v(),u.delete(h)}},dispatch(h){var p;try{return i=!((p=h==null?void 0:h.meta)!=null&&p[vF]),s=!i,s&&(l||(l=!0,f(m))),n.dispatch(h)}finally{i=!0}}})},xF=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new eA(e);return n&&i.push(yF(typeof n=="object"?n:void 0)),i};function wF(e){const t=gF(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:l=void 0}=e||{};let u;if(typeof r=="function")u=r;else if(p0(r))u=WC(r);else throw new Error(xn(1));let f;typeof n=="function"?f=n(t):f=t();let m=gf;i&&(m=mF({trace:!1,...typeof i=="object"&&i}));const h=rF(...f),p=xF(h);let v=typeof l=="function"?l(p):p();const w=m(...v);return VC(u,s,w)}function tA(e){const t={},r=[];let n;const i={addCase(s,l){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(xn(28));if(u in t)throw new Error(xn(29));return t[u]=l,i},addAsyncThunk(s,l){return l.pending&&(t[s.pending.type]=l.pending),l.rejected&&(t[s.rejected.type]=l.rejected),l.fulfilled&&(t[s.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:s.settled,reducer:l.settled}),i},addMatcher(s,l){return r.push({matcher:s,reducer:l}),i},addDefaultCase(s){return n=s,i}};return e(i),[t,r,n]}function bF(e){return typeof e=="function"}function SF(e,t){let[r,n,i]=tA(t),s;if(bF(e))s=()=>nj(e());else{const u=nj(e);s=()=>u}function l(u=s(),f){let m=[r[f.type],...n.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return m.filter(h=>!!h).length===0&&(m=[i]),m.reduce((h,p)=>{if(p)if($a(h)){const w=p(h,f);return w===void 0?h:w}else{if(ss(h))return XC(h,v=>p(v,f));{const v=p(h,f);if(v===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return h},u)}return l.getInitialState=s,l}var _F="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",jF=(e=21)=>{let t="",r=e;for(;r--;)t+=_F[Math.random()*64|0];return t},kF=Symbol.for("rtk-slice-createasyncthunk");function NF(e,t){return`${e}/${t}`}function EF({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[kF];return function(i){const{name:s,reducerPath:l=s}=i;if(!s)throw new Error(xn(11));const u=(typeof i.reducers=="function"?i.reducers(AF()):i.reducers)||{},f=Object.keys(u),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(A,P){const I=typeof A=="string"?A:A.type;if(!I)throw new Error(xn(12));if(I in m.sliceCaseReducersByType)throw new Error(xn(13));return m.sliceCaseReducersByType[I]=P,h},addMatcher(A,P){return m.sliceMatchers.push({matcher:A,reducer:P}),h},exposeAction(A,P){return m.actionCreators[A]=P,h},exposeCaseReducer(A,P){return m.sliceCaseReducersByName[A]=P,h}};f.forEach(A=>{const P=u[A],I={reducerName:A,type:NF(s,A),createNotation:typeof i.reducers=="function"};PF(P)?IF(I,P,h,t):OF(I,P,h)});function p(){const[A={},P=[],I=void 0]=typeof i.extraReducers=="function"?tA(i.extraReducers):[i.extraReducers],L={...A,...m.sliceCaseReducersByType};return SF(i.initialState,G=>{for(let W in L)G.addCase(W,L[W]);for(let W of m.sliceMatchers)G.addMatcher(W.matcher,W.reducer);for(let W of P)G.addMatcher(W.matcher,W.reducer);I&&G.addDefaultCase(I)})}const v=A=>A,w=new Map,_=new WeakMap;let b;function x(A,P){return b||(b=p()),b(A,P)}function k(){return b||(b=p()),b.getInitialState()}function N(A,P=!1){function I(G){let W=G[A];return typeof W>"u"&&P&&(W=Nd(_,I,k)),W}function L(G=v){const W=Nd(w,P,()=>new WeakMap);return Nd(W,G,()=>{const U={};for(const[z,V]of Object.entries(i.selectors??{}))U[z]=CF(V,G,()=>Nd(_,G,k),P);return U})}return{reducerPath:A,getSelectors:L,get selectors(){return L(I)},selectSlice:I}}const E={name:s,reducer:x,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:k,...N(l),injectInto(A,{reducerPath:P,...I}={}){const L=P??l;return A.inject({reducerPath:L,reducer:x},I),{...E,...N(L,!0)}}};return E}}function CF(e,t,r,n){function i(s,...l){let u=t(s);return typeof u>"u"&&n&&(u=r()),e(u,...l)}return i.unwrapped=e,i}var _n=EF();function AF(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function OF({type:e,reducerName:t,createNotation:r},n,i){let s,l;if("reducer"in n){if(r&&!TF(n))throw new Error(xn(17));s=n.reducer,l=n.prepare}else s=n;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,l?qn(e,l):qn(e))}function PF(e){return e._reducerDefinitionType==="asyncThunk"}function TF(e){return e._reducerDefinitionType==="reducerWithPrepare"}function IF({type:e,reducerName:t},r,n,i){if(!i)throw new Error(xn(18));const{payloadCreator:s,fulfilled:l,pending:u,rejected:f,settled:m,options:h}=r,p=i(e,s,h);n.exposeAction(t,p),l&&n.addCase(p.fulfilled,l),u&&n.addCase(p.pending,u),f&&n.addCase(p.rejected,f),m&&n.addMatcher(p.settled,m),n.exposeCaseReducer(t,{fulfilled:l||Ed,pending:u||Ed,rejected:f||Ed,settled:m||Ed})}function Ed(){}var DF="task",rA="listener",nA="completed",y0="cancelled",RF=`task-${y0}`,MF=`task-${nA}`,ay=`${rA}-${y0}`,$F=`${rA}-${nA}`,hh=class{constructor(e){vp(this,"name","TaskAbortError");vp(this,"message");this.code=e,this.message=`${DF} ${y0} (reason: ${e})`}},x0=(e,t)=>{if(typeof e!="function")throw new TypeError(xn(32))},wf=()=>{},iA=(e,t=wf)=>(e.catch(t),e),sA=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Oa=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Pa=e=>{if(e.aborted){const{reason:t}=e;throw new hh(t)}};function aA(e,t){let r=wf;return new Promise((n,i)=>{const s=()=>i(new hh(e.reason));if(e.aborted){s();return}r=sA(e,s),t.finally(()=>r()).then(n,i)}).finally(()=>{r=wf})}var LF=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof hh?"cancelled":"rejected",error:r}}finally{t==null||t()}},bf=e=>t=>iA(aA(e,t).then(r=>(Pa(e),r))),oA=e=>{const t=bf(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Mo}=Object,sj={},mh="listenerMiddleware",FF=(e,t)=>{const r=n=>sA(e,()=>Oa(n,e.reason));return(n,i)=>{x0(n);const s=new AbortController;r(s);const l=LF(async()=>{Pa(e),Pa(s.signal);const u=await n({pause:bf(s.signal),delay:oA(s.signal),signal:s.signal});return Pa(s.signal),u},()=>Oa(s,MF));return i!=null&&i.autoJoin&&t.push(l.catch(wf)),{result:bf(e)(l),cancel(){Oa(s,RF)}}}},UF=(e,t)=>{const r=async(n,i)=>{Pa(t);let s=()=>{};const u=[new Promise((f,m)=>{let h=e({predicate:n,effect:(p,v)=>{v.unsubscribe(),f([p,v.getState(),v.getOriginalState()])}});s=()=>{h(),m()}})];i!=null&&u.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await aA(t,Promise.race(u));return Pa(t),f}finally{s()}};return(n,i)=>iA(r(n,i))},lA=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:s}=e;if(t)i=qn(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(xn(21));return x0(s),{predicate:i,type:t,effect:s}},cA=Mo(e=>{const{type:t,predicate:r,effect:n}=lA(e);return{id:jF(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(xn(22))}}},{withTypes:()=>cA}),aj=(e,t)=>{const{type:r,effect:n,predicate:i}=lA(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},oy=e=>{e.pending.forEach(t=>{Oa(t,ay)})},zF=e=>()=>{e.forEach(oy),e.clear()},oj=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},uA=Mo(qn(`${mh}/add`),{withTypes:()=>uA}),BF=qn(`${mh}/removeAll`),dA=Mo(qn(`${mh}/remove`),{withTypes:()=>dA}),VF=(...e)=>{console.error(`${mh}/error`,...e)},Yc=(e={})=>{const t=new Map,{extra:r,onError:n=VF}=e;x0(n);const i=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),p=>{h.unsubscribe(),p!=null&&p.cancelActive&&oy(h)}),s=h=>{const p=aj(t,h)??cA(h);return i(p)};Mo(s,{withTypes:()=>s});const l=h=>{const p=aj(t,h);return p&&(p.unsubscribe(),h.cancelActive&&oy(p)),!!p};Mo(l,{withTypes:()=>l});const u=async(h,p,v,w)=>{const _=new AbortController,b=UF(s,_.signal),x=[];try{h.pending.add(_),await Promise.resolve(h.effect(p,Mo({},v,{getOriginalState:w,condition:(k,N)=>b(k,N).then(Boolean),take:b,delay:oA(_.signal),pause:bf(_.signal),extra:r,signal:_.signal,fork:FF(_.signal,x),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((k,N,E)=>{k!==_&&(Oa(k,ay),E.delete(k))})},cancel:()=>{Oa(_,ay),h.pending.delete(_)},throwIfCancelled:()=>{Pa(_.signal)}})))}catch(k){k instanceof hh||oj(n,k,{raisedBy:"effect"})}finally{await Promise.all(x),Oa(_,$F),h.pending.delete(_)}},f=zF(t);return{middleware:h=>p=>v=>{if(!qC(v))return p(v);if(uA.match(v))return s(v.payload);if(BF.match(v)){f();return}if(dA.match(v))return l(v.payload);let w=h.getState();const _=()=>{if(w===sj)throw new Error(xn(23));return w};let b;try{if(b=p(v),t.size>0){const x=h.getState(),k=Array.from(t.values());for(const N of k){let E=!1;try{E=N.predicate(v,x,w)}catch(A){E=!1,oj(n,A,{raisedBy:"predicate"})}E&&u(N,v,h,_)}}}finally{w=sj}return b},startListening:s,stopListening:l,clearListeners:f}};function xn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var WF={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},fA=_n({name:"chartLayout",initialState:WF,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:qF,setLayout:HF,setChartSize:KF,setScale:GF}=fA.actions,YF=fA.reducer;function lj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lj(Object(r),!0).forEach(function(n){JF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JF(e,t,r){return(t=QF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QF(e){var t=XF(e,"string");return typeof t=="symbol"?t:t+""}function XF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sf=Math.PI/180,ZF=e=>e*180/Math.PI,kr=(e,t,r,n)=>({x:e+Math.cos(-Sf*n)*r,y:t+Math.sin(-Sf*n)*r}),eU=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},tU=(e,t)=>{var{x:r,y:n}=e,{x:i,y:s}=t;return Math.sqrt((r-i)**2+(n-s)**2)},rU=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:s}=t,l=tU({x:r,y:n},{x:i,y:s});if(l<=0)return{radius:l,angle:0};var u=(r-i)/l,f=Math.acos(u);return n>s&&(f=2*Math.PI-f),{radius:l,angle:ZF(f),angleInRadian:f}},nU=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:t-s*360,endAngle:r-s*360}},iU=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),s=Math.floor(n/360),l=Math.min(i,s);return e+l*360},sU=(e,t)=>{var{x:r,y:n}=e,{radius:i,angle:s}=rU({x:r,y:n},t),{innerRadius:l,outerRadius:u}=t;if(i<l||i>u||i===0)return null;var{startAngle:f,endAngle:m}=nU(t),h=s,p;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;p=h>=m&&h<=f}return p?cj(cj({},t),{},{radius:i,angle:iU(h,t)}):null};function hA(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function uj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Un(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uj(Object(r),!0).forEach(function(n){aU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aU(e,t,r){return(t=oU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oU(e){var t=lU(e,"string");return typeof t=="symbol"?t:t+""}function lU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vr(e,t,r){return hr(e)||hr(t)?r:Ri(t)?Fo(e,t,r):typeof t=="function"?t(e):r}var cU=(e,t,r,n,i)=>{var s,l=-1,u=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(u<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<u;f++){var m=f>0?r[f-1].coordinate:r[u-1].coordinate,h=r[f].coordinate,p=f>=u-1?r[0].coordinate:r[f+1].coordinate,v=void 0;if(vn(h-m)!==vn(p-h)){var w=[];if(vn(p-h)===vn(i[1]-i[0])){v=p;var _=h+i[1]-i[0];w[0]=Math.min(_,(_+m)/2),w[1]=Math.max(_,(_+m)/2)}else{v=m;var b=p+i[1]-i[0];w[0]=Math.min(h,(b+h)/2),w[1]=Math.max(h,(b+h)/2)}var x=[Math.min(h,(v+h)/2),Math.max(h,(v+h)/2)];if(e>x[0]&&e<=x[1]||e>=w[0]&&e<=w[1]){({index:l}=r[f]);break}}else{var k=Math.min(m,p),N=Math.max(m,p);if(e>(k+h)/2&&e<=(N+h)/2){({index:l}=r[f]);break}}}else if(t){for(var E=0;E<u;E++)if(E===0&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E>0&&E<u-1&&e>(t[E].coordinate+t[E-1].coordinate)/2&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E===u-1&&e>(t[E].coordinate+t[E-1].coordinate)/2){({index:l}=t[E]);break}}return l},uU=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:s,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&s!=="center"&&Je(e[s]))return Un(Un({},e),{},{[s]:e[s]+(n||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&l!=="middle"&&Je(e[l]))return Un(Un({},e),{},{[l]:e[l]+(i||0)})}return e},Va=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",dj=1e-4,dU=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-dj,s=Math.max(n[0],n[1])+dj,l=e(t[0]),u=e(t[r-1]);(l<i||l>s||u<i||u>s)&&e.domain([t[0],t[r-1]])}},fU=(e,t)=>{if(!t||t.length!==2||!Je(t[0])||!Je(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Je(e[0])||e[0]<r)&&(i[0]=r),(!Je(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},hU=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,s=0,l=0;l<t;++l){var u=Wn(e[l][r][1])?e[l][r][0]:e[l][r][1];u>=0?(e[l][r][0]=i,e[l][r][1]=i+u,i=e[l][r][1]):(e[l][r][0]=s,e[l][r][1]=s+u,s=e[l][r][1])}},mU=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,s=0;s<t;++s){var l=Wn(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=i,e[s][r][1]=i+l,i=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},pU={sign:hU,expand:HL,none:Uo,silhouette:KL,wiggle:GL,positive:mU},gU=(e,t,r)=>{var n=pU[r],i=qL().keys(t).value((s,l)=>+Vr(s,l,0)).order(Xv).offset(n);return i(e)};function vU(e){return e==null?void 0:String(e)}var fj=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:s,index:l}=e;if(t.type==="category")return r[l]?r[l].coordinate+n:null;var u=Vr(s,t.dataKey,t.scale.domain()[l]);return hr(u)?null:t.scale(u)-i/2+n},yU=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},xU=e=>{var t=e.flat(2).filter(Je);return[Math.min(...t),Math.max(...t)]},wU=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],bU=(e,t,r)=>{if(e!=null)return wU(Object.keys(e).reduce((n,i)=>{var s=e[i],{stackedData:l}=s,u=l.reduce((f,m)=>{var h=hA(m,t,r),p=xU(h);return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(u[0],n[0]),Math.max(u[1],n[1])]},[1/0,-1/0]))},hj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,w0=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=ch(t,h=>h.coordinate),s=1/0,l=1,u=i.length;l<u;l++){var f=i[l],m=i[l-1];s=Math.min((f.coordinate||0)-(m.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function pj(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:s}=e;return Un(Un({},t),{},{dataKey:r,payload:n,value:i,name:s})}function mA(e,t){if(e)return String(e);if(typeof t=="string")return t}function SU(e,t,r,n,i){if(r==="horizontal"||r==="vertical"){var s=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return s?{x:e,y:t}:null}return n?sU({x:e,y:t},n):null}var _U=(e,t,r,n)=>{var i=t.find(m=>m&&m.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,{radius:l}=n;return Un(Un(Un({},n),kr(n.cx,n.cy,l,s)),{},{angle:s,radius:l})}var u=i.coordinate,{angle:f}=n;return Un(Un(Un({},n),kr(n.cx,n.cy,u,f)),{},{angle:f,radius:u})}return{x:0,y:0}},jU=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,us=e=>e.layout.width,ds=e=>e.layout.height,kU=e=>e.layout.scale,pA=e=>e.layout.margin,ph=J(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),gh=J(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),NU="data-recharts-item-index",EU="data-recharts-item-data-key",Jc=60;function gj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gj(Object(r),!0).forEach(function(n){CU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CU(e,t,r){return(t=AU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AU(e){var t=OU(e,"string");return typeof t=="symbol"?t:t+""}function OU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PU=e=>e.brush.height;function TU(e){var t=gh(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Jc;return r+i}return r},0)}function IU(e){var t=gh(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Jc;return r+i}return r},0)}function DU(e){var t=ph(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function RU(e){var t=ph(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var pr=J([us,ds,pA,PU,TU,IU,DU,RU,BC,J5],(e,t,r,n,i,s,l,u,f,m)=>{var h={left:(r.left||0)+i,right:(r.right||0)+s},p={top:(r.top||0)+l,bottom:(r.bottom||0)+u},v=Cd(Cd({},p),h),w=v.bottom;v.bottom+=n,v=uU(v,f,m);var _=e-v.left-v.right,b=t-v.top-v.bottom;return Cd(Cd({brushBottom:w},v),{},{width:Math.max(_,0),height:Math.max(b,0)})}),MU=J(pr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),b0=J(us,ds,(e,t)=>({x:0,y:0,width:e,height:t})),$U=S.createContext(null),vi=()=>S.useContext($U)!=null,vh=e=>e.brush,yh=J([vh,pr,pA],(e,t,r)=>({height:e.height,x:Je(e.x)?e.x:t.left,y:Je(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Je(e.width)?e.width:t.width})),S0=()=>{var e,t=vi(),r=We(MU),n=We(yh),i=(e=We(vh))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},LU={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},FU=()=>{var e;return(e=We(pr))!==null&&e!==void 0?e:LU},UU=()=>We(us),zU=()=>We(ds),pt=e=>e.layout.layoutType,_0=()=>We(pt),BU={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},gA=_n({name:"legend",initialState:BU,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=rs(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:GJ,setLegendSettings:YJ,addLegendPayload:VU,removeLegendPayload:WU}=gA.actions,qU=gA.reducer;function ly(){return ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ly.apply(null,arguments)}function vj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vj(Object(r),!0).forEach(function(n){HU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HU(e,t,r){return(t=KU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KU(e){var t=GU(e,"string");return typeof t=="symbol"?t:t+""}function GU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YU(e){return Array.isArray(e)&&Ri(e[0])&&Ri(e[1])?e.join(" ~ "):e}var JU=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:s,formatter:l,itemSorter:u,wrapperClassName:f,labelClassName:m,label:h,labelFormatter:p,accessibilityLayer:v=!1}=e,w=()=>{if(s&&s.length){var P={padding:0,margin:0},I=(u?ch(s,u):s).map((L,G)=>{if(L.type==="none")return null;var W=L.formatter||l||YU,{value:U,name:z}=L,V=U,ee=z;if(W){var X=W(U,z,L,G,s);if(Array.isArray(X))[V,ee]=X;else if(X!=null)V=X;else return null}var ae=Vg({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},n);return S.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:ae},Ri(ee)?S.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,Ri(ee)?S.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,S.createElement("span",{className:"recharts-tooltip-item-value"},V),S.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return S.createElement("ul",{className:"recharts-tooltip-item-list",style:P},I)}return null},_=Vg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),b=Vg({margin:0},i),x=!hr(h),k=x?h:"",N=Ot("recharts-default-tooltip",f),E=Ot("recharts-tooltip-label",m);x&&p&&s!==void 0&&s!==null&&(k=p(h,s));var A=v?{role:"status","aria-live":"assertive"}:{};return S.createElement("div",ly({className:N,style:_},A),S.createElement("p",{className:E,style:b},S.isValidElement(k)?k:"".concat(k)),w())},rc="recharts-tooltip-wrapper",QU={visibility:"hidden"};function XU(e){var{coordinate:t,translateX:r,translateY:n}=e;return Ot(rc,{["".concat(rc,"-right")]:Je(r)&&t&&Je(t.x)&&r>=t.x,["".concat(rc,"-left")]:Je(r)&&t&&Je(t.x)&&r<t.x,["".concat(rc,"-bottom")]:Je(n)&&t&&Je(t.y)&&n>=t.y,["".concat(rc,"-top")]:Je(n)&&t&&Je(t.y)&&n<t.y})}function yj(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:s,reverseDirection:l,tooltipDimension:u,viewBox:f,viewBoxDimension:m}=e;if(s&&Je(s[n]))return s[n];var h=r[n]-u-(i>0?i:0),p=r[n]+i;if(t[n])return l[n]?h:p;var v=f[n];if(v==null)return 0;if(l[n]){var w=h,_=v;return w<_?Math.max(p,v):Math.max(h,v)}if(m==null)return 0;var b=p+u,x=v+m;return b>x?Math.max(h,v):Math.max(p,v)}function ZU(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function ez(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:s,tooltipBox:l,useTranslate3d:u,viewBox:f}=e,m,h,p;return l.height>0&&l.width>0&&r?(h=yj({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),p=yj({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),m=ZU({translateX:h,translateY:p,useTranslate3d:u})):m=QU,{cssProperties:m,cssClasses:XU({translateX:h,translateY:p,coordinate:r})}}function xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ad(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xj(Object(r),!0).forEach(function(n){cy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cy(e,t,r){return(t=tz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tz(e){var t=rz(e,"string");return typeof t=="symbol"?t:t+""}function rz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class nz extends S.PureComponent{constructor(){super(...arguments),cy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),cy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:l,hasPayload:u,isAnimationActive:f,offset:m,position:h,reverseDirection:p,useTranslate3d:v,viewBox:w,wrapperStyle:_,lastBoundingBox:b,innerRef:x,hasPortalFromProps:k}=this.props,{cssClasses:N,cssProperties:E}=ez({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:m,position:h,reverseDirection:p,tooltipBox:{height:b.height,width:b.width},useTranslate3d:v,viewBox:w}),A=k?{}:Ad(Ad({transition:f&&t?"transform ".concat(n,"ms ").concat(i):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),P=Ad(Ad({},A),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},_);return S.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:P,ref:x},s)}}var iz=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),il={devToolsEnabled:!1,isSsr:iz()},vA=()=>We(e=>e.rootProps.accessibilityLayer);function bn(e){return Number.isFinite(e)}function _f(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function uy(){return uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uy.apply(null,arguments)}function wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wj(Object(r),!0).forEach(function(n){sz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sz(e,t,r){return(t=az(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function az(e){var t=oz(e,"string");return typeof t=="symbol"?t:t+""}function oz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sj={curveBasisClosed:DL,curveBasisOpen:RL,curveBasis:IL,curveBumpX:xL,curveBumpY:wL,curveLinearClosed:ML,curveLinear:oh,curveMonotoneX:$L,curveMonotoneY:LL,curveNatural:FL,curveStep:UL,curveStepAfter:BL,curveStepBefore:zL},Od=e=>bn(e.x)&&bn(e.y),nc=e=>e.x,ic=e=>e.y,lz=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Hc(e));return(r==="curveMonotone"||r==="curveBump")&&t?Sj["".concat(r).concat(t==="vertical"?"Y":"X")]:Sj[r]||oh},cz=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:s=!1}=e,l=lz(t,i),u=s?r.filter(Od):r,f;if(Array.isArray(n)){var m=s?n.filter(p=>Od(p)):n,h=u.map((p,v)=>bj(bj({},p),{},{base:m[v]}));return i==="vertical"?f=Sd().y(ic).x1(nc).x0(p=>p.base.x):f=Sd().x(nc).y1(ic).y0(p=>p.base.y),f.defined(Od).curve(l),f(h)}return i==="vertical"&&Je(n)?f=Sd().y(ic).x1(nc).x0(n):Je(n)?f=Sd().x(nc).y1(ic).y0(n):f=yC().x(nc).y(ic),f.defined(Od).curve(l),f(u)},uz=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?cz(e):n;return S.createElement("path",uy({},Kc(e),iL(e),{className:Ot("recharts-curve",t),d:s===null?void 0:s,ref:i}))},dz=["x","y","top","left","width","height","className"];function dy(){return dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dy.apply(null,arguments)}function _j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_j(Object(r),!0).forEach(function(n){hz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hz(e,t,r){return(t=mz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mz(e){var t=pz(e,"string");return typeof t=="symbol"?t:t+""}function pz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gz(e,t){if(e==null)return{};var r,n,i=vz(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function vz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yz=(e,t,r,n,i,s)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),xz=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:s=0,height:l=0,className:u}=e,f=gz(e,dz),m=fz({x:t,y:r,top:n,left:i,width:s,height:l},f);return!Je(t)||!Je(r)||!Je(s)||!Je(l)||!Je(n)||!Je(i)?null:S.createElement("path",dy({},Er(m,!0),{className:Ot("recharts-cross",u),d:yz(t,r,s,l,n,i)}))};function wz(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jj(Object(r),!0).forEach(function(n){Sz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sz(e,t,r){return(t=_z(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _z(e){var t=jz(e,"string");return typeof t=="symbol"?t:t+""}function jz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yi(e,t){var r=bz({},e),n=t,i=Object.keys(t),s=i.reduce((l,u)=>(l[u]===void 0&&n[u]!==void 0&&(l[u]=n[u]),l),r);return s}function kz(){}function kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kj(Object(r),!0).forEach(function(n){Nz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nz(e,t,r){return(t=Ez(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ez(e){var t=Cz(e,"string");return typeof t=="symbol"?t:t+""}function Cz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Az=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),yA=(e,t,r)=>e.map(n=>"".concat(Az(n)," ").concat(t,"ms ").concat(r)).join(","),Oz=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),Pc=(e,t)=>Object.keys(t).reduce((r,n)=>Nj(Nj({},r),{},{[n]:e(n,t[n])}),{});function Ej(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ej(Object(r),!0).forEach(function(n){Pz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ej(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pz(e,t,r){return(t=Tz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tz(e){var t=Iz(e,"string");return typeof t=="symbol"?t:t+""}function Iz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jf=(e,t,r)=>e+(t-e)*r,fy=e=>{var{from:t,to:r}=e;return t!==r},xA=(e,t,r)=>{var n=Pc((i,s)=>{if(fy(s)){var[l,u]=e(s.from,s.to,s.velocity);return jr(jr({},s),{},{from:l,velocity:u})}return s},t);return r<1?Pc((i,s)=>fy(s)?jr(jr({},s),{},{velocity:jf(s.velocity,n[i].velocity,r),from:jf(s.from,n[i].from,r)}):s,t):xA(e,n,r-1)};function Dz(e,t,r,n,i,s){var l,u=n.reduce((v,w)=>jr(jr({},v),{},{[w]:{from:e[w],velocity:0,to:t[w]}}),{}),f=()=>Pc((v,w)=>w.from,u),m=()=>!Object.values(u).filter(fy).length,h=null,p=v=>{l||(l=v);var w=v-l,_=w/r.dt;u=xA(r,u,_),i(jr(jr(jr({},e),t),f())),l=v,m()||(h=s.setTimeout(p))};return()=>(h=s.setTimeout(p),()=>{h()})}function Rz(e,t,r,n,i,s,l){var u=null,f=i.reduce((p,v)=>jr(jr({},p),{},{[v]:[e[v],t[v]]}),{}),m,h=p=>{m||(m=p);var v=(p-m)/n,w=Pc((b,x)=>jf(...x,r(v)),f);if(s(jr(jr(jr({},e),t),w)),v<1)u=l.setTimeout(h);else{var _=Pc((b,x)=>jf(...x,r(1)),f);s(jr(jr(jr({},e),t),_))}};return()=>(u=l.setTimeout(h),()=>{u()})}const Mz=(e,t,r,n,i,s)=>{var l=Oz(e,t);return r.isStepper===!0?Dz(e,t,r,l,i,s):Rz(e,t,r,n,l,i,s)};var kf=1e-4,wA=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],bA=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Cj=(e,t)=>r=>{var n=wA(e,t);return bA(n,r)},$z=(e,t)=>r=>{var n=wA(e,t),i=[...n.map((s,l)=>s*l).slice(1),0];return bA(i,r)},Aj=function(){for(var t,r,n,i,s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];if(l.length===1)switch(l[0]){case"linear":[t,n,r,i]=[0,0,1,1];break;case"ease":[t,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,i]=[.42,0,1,1];break;case"ease-out":[t,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,i]=[0,0,.58,1];break;default:{var f=l[0].split("(");f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4&&([t,n,r,i]=f[1].split(")")[0].split(",").map(_=>parseFloat(_)))}}else l.length===4&&([t,n,r,i]=l);var m=Cj(t,r),h=Cj(n,i),p=$z(t,r),v=_=>_>1?1:_<0?0:_,w=_=>{for(var b=_>1?1:_,x=b,k=0;k<8;++k){var N=m(x)-b,E=p(x);if(Math.abs(N-b)<kf||E<kf)return h(x);x=v(x-N/E)}return h(x)};return w.isStepper=!1,w},Lz=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,s=(l,u,f)=>{var m=-(l-u)*r,h=f*n,p=f+(m-h)*i/1e3,v=f*i/1e3+l;return Math.abs(v-u)<kf&&Math.abs(p)<kf?[u,0]:[v,p]};return s.isStepper=!0,s.dt=i,s},Fz=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Aj(e);case"spring":return Lz();default:if(e.split("(")[0]==="cubic-bezier")return Aj(e)}return typeof e=="function"?e:null};function Uz(e){var t,r=()=>null,n=!1,i=null,s=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var u=l,[f,...m]=u;if(typeof f=="number"){i=e.setTimeout(s.bind(null,m),f);return}s(f),i=e.setTimeout(s.bind(null,m));return}typeof l=="string"&&(t=l,r(t)),typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,i&&(i(),i=null),s(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}class zz{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}function Bz(){return Uz(new zz)}var Vz=S.createContext(Bz);function Wz(e,t){var r=S.useContext(Vz);return S.useMemo(()=>t??r(e),[e,t,r])}var qz={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Oj={t:0},Wg={t:1};function j0(e){var t=yi(e,qz),{isActive:r,canBegin:n,duration:i,easing:s,begin:l,onAnimationEnd:u,onAnimationStart:f,children:m}=t,h=Wz(t.animationId,t.animationManager),[p,v]=S.useState(r?Oj:Wg),w=S.useRef(null);return S.useEffect(()=>{r||v(Wg)},[r]),S.useEffect(()=>{if(!r||!n)return kz;var _=Mz(Oj,Wg,Fz(s),i,v,h.getTimeoutController()),b=()=>{w.current=_()};return h.start([f,l,b,i,u]),()=>{h.stop(),w.current&&w.current(),u()}},[r,n,i,s,l,f,u,h]),m(p.t)}function k0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=S.useRef(Cc(t)),n=S.useRef(e);return n.current!==e&&(r.current=Cc(t),n.current=e),r.current}function Pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pj(Object(r),!0).forEach(function(n){Hz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hz(e,t,r){return(t=Kz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kz(e){var t=Gz(e,"string");return typeof t=="symbol"?t:t+""}function Gz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nf(){return Nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nf.apply(null,arguments)}var Ij=(e,t,r,n,i)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),l=n>=0?1:-1,u=r>=0?1:-1,f=n>=0&&r>=0||n<0&&r<0?1:0,m;if(s>0&&i instanceof Array){for(var h=[0,0,0,0],p=0,v=4;p<v;p++)h[p]=i[p]>s?s:i[p];m="M".concat(e,",").concat(t+l*h[0]),h[0]>0&&(m+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(f,",").concat(e+u*h[0],",").concat(t)),m+="L ".concat(e+r-u*h[1],",").concat(t),h[1]>0&&(m+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(f,`,
        `).concat(e+r,",").concat(t+l*h[1])),m+="L ".concat(e+r,",").concat(t+n-l*h[2]),h[2]>0&&(m+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(f,`,
        `).concat(e+r-u*h[2],",").concat(t+n)),m+="L ".concat(e+u*h[3],",").concat(t+n),h[3]>0&&(m+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(t+n-l*h[3])),m+="Z"}else if(s>0&&i===+i&&i>0){var w=Math.min(s,i);m="M ".concat(e,",").concat(t+l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+u*w,",").concat(t,`
            L `).concat(e+r-u*w,",").concat(t,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+r,",").concat(t+l*w,`
            L `).concat(e+r,",").concat(t+n-l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+r-u*w,",").concat(t+n,`
            L `).concat(e+u*w,",").concat(t+n,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e,",").concat(t+n-l*w," Z")}else m="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return m},Yz={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},SA=e=>{var t=yi(e,Yz),r=S.useRef(null),[n,i]=S.useState(-1);S.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var X=r.current.getTotalLength();X&&i(X)}catch{}},[]);var{x:s,y:l,width:u,height:f,radius:m,className:h}=t,{animationEasing:p,animationDuration:v,animationBegin:w,isAnimationActive:_,isUpdateAnimationActive:b}=t,x=S.useRef(u),k=S.useRef(f),N=S.useRef(s),E=S.useRef(l),A=S.useMemo(()=>({x:s,y:l,width:u,height:f,radius:m}),[s,l,u,f,m]),P=k0(A,"rectangle-");if(s!==+s||l!==+l||u!==+u||f!==+f||u===0||f===0)return null;var I=Ot("recharts-rectangle",h);if(!b)return S.createElement("path",Nf({},Er(t,!0),{className:I,d:Ij(s,l,u,f,m)}));var L=x.current,G=k.current,W=N.current,U=E.current,z="0px ".concat(n===-1?1:n,"px"),V="".concat(n,"px 0px"),ee=yA(["strokeDasharray"],v,typeof p=="string"?p:void 0);return S.createElement(j0,{animationId:P,key:P,canBegin:n>0,duration:v,easing:p,isActive:b,begin:w},X=>{var ae=Ur(L,u,X),xe=Ur(G,f,X),ye=Ur(W,s,X),re=Ur(U,l,X);r.current&&(x.current=ae,k.current=xe,N.current=ye,E.current=re);var le;return _?X>0?le={transition:ee,strokeDasharray:V}:le={strokeDasharray:z}:le={strokeDasharray:V},S.createElement("path",Nf({},Er(t,!0),{className:I,d:Ij(ye,re,ae,xe,m),ref:r,style:Tj(Tj({},le),t.style)}))})};function _A(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:s}=e,l=kr(t,r,n,i),u=kr(t,r,n,s);return{points:[l,u],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}function hy(){return hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hy.apply(null,arguments)}var Jz=(e,t)=>{var r=vn(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Pd=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:s,isExternal:l,cornerRadius:u,cornerIsExternal:f}=e,m=u*(l?1:-1)+n,h=Math.asin(u/m)/Sf,p=f?i:i+s*h,v=kr(t,r,m,p),w=kr(t,r,n,p),_=f?i-s*h:i,b=kr(t,r,m*Math.cos(h*Sf),_);return{center:v,circleTangency:w,lineTangency:b,theta:h}},jA=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:l}=e,u=Jz(s,l),f=s+u,m=kr(t,r,i,s),h=kr(t,r,i,f),p="M ".concat(m.x,",").concat(m.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(s>f),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(n>0){var v=kr(t,r,n,s),w=kr(t,r,n,f);p+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(s<=f),`,
            `).concat(v.x,",").concat(v.y," Z")}else p+="L ".concat(t,",").concat(r," Z");return p},Qz=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:m}=e,h=vn(m-f),{circleTangency:p,lineTangency:v,theta:w}=Pd({cx:t,cy:r,radius:i,angle:f,sign:h,cornerRadius:s,cornerIsExternal:u}),{circleTangency:_,lineTangency:b,theta:x}=Pd({cx:t,cy:r,radius:i,angle:m,sign:-h,cornerRadius:s,cornerIsExternal:u}),k=u?Math.abs(f-m):Math.abs(f-m)-w-x;if(k<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):jA({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:f,endAngle:m});var N="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(k>180),",").concat(+(h<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
  `);if(n>0){var{circleTangency:E,lineTangency:A,theta:P}=Pd({cx:t,cy:r,radius:n,angle:f,sign:h,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:I,lineTangency:L,theta:G}=Pd({cx:t,cy:r,radius:n,angle:m,sign:-h,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),W=u?Math.abs(f-m):Math.abs(f-m)-P-G;if(W<0&&s===0)return"".concat(N,"L").concat(t,",").concat(r,"Z");N+="L".concat(L.x,",").concat(L.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(W>180),",").concat(+(h>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(A.x,",").concat(A.y,"Z")}else N+="L".concat(t,",").concat(r,"Z");return N},Xz={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},kA=e=>{var t=yi(e,Xz),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:f,startAngle:m,endAngle:h,className:p}=t;if(s<i||m===h)return null;var v=Ot("recharts-sector",p),w=s-i,_=hi(l,w,0,!0),b;return _>0&&Math.abs(m-h)<360?b=Qz({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(_,w/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:m,endAngle:h}):b=jA({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:m,endAngle:h}),S.createElement("path",hy({},Er(t,!0),{className:v,d:b}))};function Zz(e,t,r){var n,i,s,l;if(e==="horizontal")n=t.x,s=n,i=r.top,l=r.top+r.height;else if(e==="vertical")i=t.y,l=i,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:u,cy:f,innerRadius:m,outerRadius:h,angle:p}=t,v=kr(u,f,m,p),w=kr(u,f,h,p);n=v.x,i=v.y,s=w.x,l=w.y}else return _A(t);return[{x:n,y:i},{x:s,y:l}]}var qg={},Hg={},Kg={},Dj;function eB(){return Dj||(Dj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UC();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(Kg)),Kg}var Rj;function tB(){return Rj||(Rj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eB();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(Hg)),Hg}var Mj;function rB(){return Mj||(Mj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zC(),r=tB();function n(i,s,l){l&&typeof l!="number"&&t.isIterateeCall(i,s,l)&&(s=l=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),l=l===void 0?i<s?1:-1:r.toFinite(l);const u=Math.max(Math.ceil((s-i)/(l||1)),0),f=new Array(u);for(let m=0;m<u;m++)f[m]=i,i+=l;return f}e.range=n})(qg)),qg}var Gg,$j;function nB(){return $j||($j=1,Gg=rB().range),Gg}var iB=nB();const NA=mi(iB);function Hs(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function sB(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function N0(e){let t,r,n;e.length!==2?(t=Hs,r=(u,f)=>Hs(e(u),f),n=(u,f)=>e(u)-f):(t=e===Hs||e===sB?e:aB,r=e,n=e);function i(u,f,m=0,h=u.length){if(m<h){if(t(f,f)!==0)return h;do{const p=m+h>>>1;r(u[p],f)<0?m=p+1:h=p}while(m<h)}return m}function s(u,f,m=0,h=u.length){if(m<h){if(t(f,f)!==0)return h;do{const p=m+h>>>1;r(u[p],f)<=0?m=p+1:h=p}while(m<h)}return m}function l(u,f,m=0,h=u.length){const p=i(u,f,m,h-1);return p>m&&n(u[p-1],f)>-n(u[p],f)?p-1:p}return{left:i,center:l,right:s}}function aB(){return 0}function EA(e){return e===null?NaN:+e}function*oB(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const lB=N0(Hs),Qc=lB.right;N0(EA).center;class Lj extends Map{constructor(t,r=dB){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(Fj(this,t))}has(t){return super.has(Fj(this,t))}set(t,r){return super.set(cB(this,t),r)}delete(t){return super.delete(uB(this,t))}}function Fj({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function cB({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function uB({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function dB(e){return e!==null&&typeof e=="object"?e.valueOf():e}function fB(e=Hs){if(e===Hs)return CA;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function CA(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const hB=Math.sqrt(50),mB=Math.sqrt(10),pB=Math.sqrt(2);function Ef(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),l=s>=hB?10:s>=mB?5:s>=pB?2:1;let u,f,m;return i<0?(m=Math.pow(10,-i)/l,u=Math.round(e*m),f=Math.round(t*m),u/m<e&&++u,f/m>t&&--f,m=-m):(m=Math.pow(10,i)*l,u=Math.round(e/m),f=Math.round(t/m),u*m<e&&++u,f*m>t&&--f),f<u&&.5<=r&&r<2?Ef(e,t,r*2):[u,f,m]}function my(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,l]=n?Ef(t,e,r):Ef(e,t,r);if(!(s>=i))return[];const u=s-i+1,f=new Array(u);if(n)if(l<0)for(let m=0;m<u;++m)f[m]=(s-m)/-l;else for(let m=0;m<u;++m)f[m]=(s-m)*l;else if(l<0)for(let m=0;m<u;++m)f[m]=(i+m)/-l;else for(let m=0;m<u;++m)f[m]=(i+m)*l;return f}function py(e,t,r){return t=+t,e=+e,r=+r,Ef(e,t,r)[2]}function gy(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?py(t,e,r):py(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function Uj(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function zj(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function AA(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?CA:fB(i);n>r;){if(n-r>600){const f=n-r+1,m=t-r+1,h=Math.log(f),p=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*p*(f-p)/f)*(m-f/2<0?-1:1),w=Math.max(r,Math.floor(t-m*p/f+v)),_=Math.min(n,Math.floor(t+(f-m)*p/f+v));AA(e,t,w,_,i)}const s=e[t];let l=r,u=n;for(sc(e,r,t),i(e[n],s)>0&&sc(e,r,n);l<u;){for(sc(e,l,u),++l,--u;i(e[l],s)<0;)++l;for(;i(e[u],s)>0;)--u}i(e[r],s)===0?sc(e,r,u):(++u,sc(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function sc(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function gB(e,t,r){if(e=Float64Array.from(oB(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return zj(e);if(t>=1)return Uj(e);var n,i=(n-1)*t,s=Math.floor(i),l=Uj(AA(e,s).subarray(0,s+1)),u=zj(e.subarray(s+1));return l+(u-l)*(i-s)}}function vB(e,t,r=EA){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),l=+r(e[s],s,e),u=+r(e[s+1],s+1,e);return l+(u-l)*(i-s)}}function yB(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function Kn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function fs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const vy=Symbol("implicit");function E0(){var e=new Lj,t=[],r=[],n=vy;function i(s){let l=e.get(s);if(l===void 0){if(n!==vy)return n;e.set(s,l=t.push(s)-1)}return r[l%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Lj;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return E0(t,r).unknown(n)},Kn.apply(i,arguments),i}function C0(){var e=E0().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,l,u=!1,f=0,m=0,h=.5;delete e.unknown;function p(){var v=t().length,w=i<n,_=w?i:n,b=w?n:i;s=(b-_)/Math.max(1,v-f+m*2),u&&(s=Math.floor(s)),_+=(b-_-s*(v-f))*h,l=s*(1-f),u&&(_=Math.round(_),l=Math.round(l));var x=yB(v).map(function(k){return _+s*k});return r(w?x.reverse():x)}return e.domain=function(v){return arguments.length?(t(v),p()):t()},e.range=function(v){return arguments.length?([n,i]=v,n=+n,i=+i,p()):[n,i]},e.rangeRound=function(v){return[n,i]=v,n=+n,i=+i,u=!0,p()},e.bandwidth=function(){return l},e.step=function(){return s},e.round=function(v){return arguments.length?(u=!!v,p()):u},e.padding=function(v){return arguments.length?(f=Math.min(1,m=+v),p()):f},e.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),p()):f},e.paddingOuter=function(v){return arguments.length?(m=+v,p()):m},e.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),p()):h},e.copy=function(){return C0(t(),[n,i]).round(u).paddingInner(f).paddingOuter(m).align(h)},Kn.apply(p(),arguments)}function OA(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return OA(t())},e}function xB(){return OA(C0.apply(null,arguments).paddingInner(1))}function A0(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function PA(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Xc(){}var Tc=.7,Cf=1/Tc,$o="\\s*([+-]?\\d+)\\s*",Ic="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ii="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wB=/^#([0-9a-f]{3,8})$/,bB=new RegExp(`^rgb\\(${$o},${$o},${$o}\\)$`),SB=new RegExp(`^rgb\\(${Ii},${Ii},${Ii}\\)$`),_B=new RegExp(`^rgba\\(${$o},${$o},${$o},${Ic}\\)$`),jB=new RegExp(`^rgba\\(${Ii},${Ii},${Ii},${Ic}\\)$`),kB=new RegExp(`^hsl\\(${Ic},${Ii},${Ii}\\)$`),NB=new RegExp(`^hsla\\(${Ic},${Ii},${Ii},${Ic}\\)$`),Bj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};A0(Xc,Dc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Vj,formatHex:Vj,formatHex8:EB,formatHsl:CB,formatRgb:Wj,toString:Wj});function Vj(){return this.rgb().formatHex()}function EB(){return this.rgb().formatHex8()}function CB(){return TA(this).formatHsl()}function Wj(){return this.rgb().formatRgb()}function Dc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=wB.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?qj(t):r===3?new tn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Td(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Td(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=bB.exec(e))?new tn(t[1],t[2],t[3],1):(t=SB.exec(e))?new tn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=_B.exec(e))?Td(t[1],t[2],t[3],t[4]):(t=jB.exec(e))?Td(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=kB.exec(e))?Gj(t[1],t[2]/100,t[3]/100,1):(t=NB.exec(e))?Gj(t[1],t[2]/100,t[3]/100,t[4]):Bj.hasOwnProperty(e)?qj(Bj[e]):e==="transparent"?new tn(NaN,NaN,NaN,0):null}function qj(e){return new tn(e>>16&255,e>>8&255,e&255,1)}function Td(e,t,r,n){return n<=0&&(e=t=r=NaN),new tn(e,t,r,n)}function AB(e){return e instanceof Xc||(e=Dc(e)),e?(e=e.rgb(),new tn(e.r,e.g,e.b,e.opacity)):new tn}function yy(e,t,r,n){return arguments.length===1?AB(e):new tn(e,t,r,n??1)}function tn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}A0(tn,yy,PA(Xc,{brighter(e){return e=e==null?Cf:Math.pow(Cf,e),new tn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Tc:Math.pow(Tc,e),new tn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new tn(Ta(this.r),Ta(this.g),Ta(this.b),Af(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Hj,formatHex:Hj,formatHex8:OB,formatRgb:Kj,toString:Kj}));function Hj(){return`#${Na(this.r)}${Na(this.g)}${Na(this.b)}`}function OB(){return`#${Na(this.r)}${Na(this.g)}${Na(this.b)}${Na((isNaN(this.opacity)?1:this.opacity)*255)}`}function Kj(){const e=Af(this.opacity);return`${e===1?"rgb(":"rgba("}${Ta(this.r)}, ${Ta(this.g)}, ${Ta(this.b)}${e===1?")":`, ${e})`}`}function Af(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ta(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Na(e){return e=Ta(e),(e<16?"0":"")+e.toString(16)}function Gj(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ui(e,t,r,n)}function TA(e){if(e instanceof ui)return new ui(e.h,e.s,e.l,e.opacity);if(e instanceof Xc||(e=Dc(e)),!e)return new ui;if(e instanceof ui)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),l=NaN,u=s-i,f=(s+i)/2;return u?(t===s?l=(r-n)/u+(r<n)*6:r===s?l=(n-t)/u+2:l=(t-r)/u+4,u/=f<.5?s+i:2-s-i,l*=60):u=f>0&&f<1?0:l,new ui(l,u,f,e.opacity)}function PB(e,t,r,n){return arguments.length===1?TA(e):new ui(e,t,r,n??1)}function ui(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}A0(ui,PB,PA(Xc,{brighter(e){return e=e==null?Cf:Math.pow(Cf,e),new ui(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Tc:Math.pow(Tc,e),new ui(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new tn(Yg(e>=240?e-240:e+120,i,n),Yg(e,i,n),Yg(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new ui(Yj(this.h),Id(this.s),Id(this.l),Af(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Af(this.opacity);return`${e===1?"hsl(":"hsla("}${Yj(this.h)}, ${Id(this.s)*100}%, ${Id(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Yj(e){return e=(e||0)%360,e<0?e+360:e}function Id(e){return Math.max(0,Math.min(1,e||0))}function Yg(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const O0=e=>()=>e;function TB(e,t){return function(r){return e+r*t}}function IB(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function DB(e){return(e=+e)==1?IA:function(t,r){return r-t?IB(t,r,e):O0(isNaN(t)?r:t)}}function IA(e,t){var r=t-e;return r?TB(e,r):O0(isNaN(e)?t:e)}const Jj=(function e(t){var r=DB(t);function n(i,s){var l=r((i=yy(i)).r,(s=yy(s)).r),u=r(i.g,s.g),f=r(i.b,s.b),m=IA(i.opacity,s.opacity);return function(h){return i.r=l(h),i.g=u(h),i.b=f(h),i.opacity=m(h),i+""}}return n.gamma=e,n})(1);function RB(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function MB(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function $B(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),l;for(l=0;l<n;++l)i[l]=sl(e[l],t[l]);for(;l<r;++l)s[l]=t[l];return function(u){for(l=0;l<n;++l)s[l]=i[l](u);return s}}function LB(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Of(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function FB(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=sl(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var xy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Jg=new RegExp(xy.source,"g");function UB(e){return function(){return e}}function zB(e){return function(t){return e(t)+""}}function BB(e,t){var r=xy.lastIndex=Jg.lastIndex=0,n,i,s,l=-1,u=[],f=[];for(e=e+"",t=t+"";(n=xy.exec(e))&&(i=Jg.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),u[l]?u[l]+=s:u[++l]=s),(n=n[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,f.push({i:l,x:Of(n,i)})),r=Jg.lastIndex;return r<t.length&&(s=t.slice(r),u[l]?u[l]+=s:u[++l]=s),u.length<2?f[0]?zB(f[0].x):UB(t):(t=f.length,function(m){for(var h=0,p;h<t;++h)u[(p=f[h]).i]=p.x(m);return u.join("")})}function sl(e,t){var r=typeof t,n;return t==null||r==="boolean"?O0(t):(r==="number"?Of:r==="string"?(n=Dc(t))?(t=n,Jj):BB:t instanceof Dc?Jj:t instanceof Date?LB:MB(t)?RB:Array.isArray(t)?$B:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?FB:Of)(e,t)}function P0(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function VB(e,t){t===void 0&&(t=e,e=sl);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(l){var u=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return s[u](l-u)}}function WB(e){return function(){return e}}function Pf(e){return+e}var Qj=[0,1];function Br(e){return e}function wy(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:WB(isNaN(t)?NaN:.5)}function qB(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function HB(e,t,r){var n=e[0],i=e[1],s=t[0],l=t[1];return i<n?(n=wy(i,n),s=r(l,s)):(n=wy(n,i),s=r(s,l)),function(u){return s(n(u))}}function KB(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)i[l]=wy(e[l],e[l+1]),s[l]=r(t[l],t[l+1]);return function(u){var f=Qc(e,u,1,n)-1;return s[f](i[f](u))}}function Zc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function xh(){var e=Qj,t=Qj,r=sl,n,i,s,l=Br,u,f,m;function h(){var v=Math.min(e.length,t.length);return l!==Br&&(l=qB(e[0],e[v-1])),u=v>2?KB:HB,f=m=null,p}function p(v){return v==null||isNaN(v=+v)?s:(f||(f=u(e.map(n),t,r)))(n(l(v)))}return p.invert=function(v){return l(i((m||(m=u(t,e.map(n),Of)))(v)))},p.domain=function(v){return arguments.length?(e=Array.from(v,Pf),h()):e.slice()},p.range=function(v){return arguments.length?(t=Array.from(v),h()):t.slice()},p.rangeRound=function(v){return t=Array.from(v),r=P0,h()},p.clamp=function(v){return arguments.length?(l=v?!0:Br,h()):l!==Br},p.interpolate=function(v){return arguments.length?(r=v,h()):r},p.unknown=function(v){return arguments.length?(s=v,p):s},function(v,w){return n=v,i=w,h()}}function T0(){return xh()(Br,Br)}function GB(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Tf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Bo(e){return e=Tf(Math.abs(e)),e?e[1]:NaN}function YB(e,t){return function(r,n){for(var i=r.length,s=[],l=0,u=e[0],f=0;i>0&&u>0&&(f+u+1>n&&(u=Math.max(1,n-f)),s.push(r.substring(i-=u,i+u)),!((f+=u+1)>n));)u=e[l=(l+1)%e.length];return s.reverse().join(t)}}function JB(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var QB=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Rc(e){if(!(t=QB.exec(e)))throw new Error("invalid format: "+e);var t;return new I0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Rc.prototype=I0.prototype;function I0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}I0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function XB(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var DA;function ZB(e,t){var r=Tf(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(DA=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=n.length;return s===l?n:s>l?n+new Array(s-l+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Tf(e,Math.max(0,t+s-1))[0]}function Xj(e,t){var r=Tf(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const Zj={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:GB,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Xj(e*100,t),r:Xj,s:ZB,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ek(e){return e}var tk=Array.prototype.map,rk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function e8(e){var t=e.grouping===void 0||e.thousands===void 0?ek:YB(tk.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?ek:JB(tk.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function m(p){p=Rc(p);var v=p.fill,w=p.align,_=p.sign,b=p.symbol,x=p.zero,k=p.width,N=p.comma,E=p.precision,A=p.trim,P=p.type;P==="n"?(N=!0,P="g"):Zj[P]||(E===void 0&&(E=12),A=!0,P="g"),(x||v==="0"&&w==="=")&&(x=!0,v="0",w="=");var I=b==="$"?r:b==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",L=b==="$"?n:/[%p]/.test(P)?l:"",G=Zj[P],W=/[defgprs%]/.test(P);E=E===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function U(z){var V=I,ee=L,X,ae,xe;if(P==="c")ee=G(z)+ee,z="";else{z=+z;var ye=z<0||1/z<0;if(z=isNaN(z)?f:G(Math.abs(z),E),A&&(z=XB(z)),ye&&+z==0&&_!=="+"&&(ye=!1),V=(ye?_==="("?_:u:_==="-"||_==="("?"":_)+V,ee=(P==="s"?rk[8+DA/3]:"")+ee+(ye&&_==="("?")":""),W){for(X=-1,ae=z.length;++X<ae;)if(xe=z.charCodeAt(X),48>xe||xe>57){ee=(xe===46?i+z.slice(X+1):z.slice(X))+ee,z=z.slice(0,X);break}}}N&&!x&&(z=t(z,1/0));var re=V.length+z.length+ee.length,le=re<k?new Array(k-re+1).join(v):"";switch(N&&x&&(z=t(le+z,le.length?k-ee.length:1/0),le=""),w){case"<":z=V+z+ee+le;break;case"=":z=V+le+z+ee;break;case"^":z=le.slice(0,re=le.length>>1)+V+z+ee+le.slice(re);break;default:z=le+V+z+ee;break}return s(z)}return U.toString=function(){return p+""},U}function h(p,v){var w=m((p=Rc(p),p.type="f",p)),_=Math.max(-8,Math.min(8,Math.floor(Bo(v)/3)))*3,b=Math.pow(10,-_),x=rk[8+_/3];return function(k){return w(b*k)+x}}return{format:m,formatPrefix:h}}var Dd,D0,RA;t8({thousands:",",grouping:[3],currency:["$",""]});function t8(e){return Dd=e8(e),D0=Dd.format,RA=Dd.formatPrefix,Dd}function r8(e){return Math.max(0,-Bo(Math.abs(e)))}function n8(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Bo(t)/3)))*3-Bo(Math.abs(e)))}function i8(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Bo(t)-Bo(e))+1}function MA(e,t,r,n){var i=gy(e,t,r),s;switch(n=Rc(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=n8(i,l))&&(n.precision=s),RA(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=i8(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=r8(i))&&(n.precision=s-(n.type==="%")*2);break}}return D0(n)}function Xs(e){var t=e.domain;return e.ticks=function(r){var n=t();return my(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return MA(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,l=n[i],u=n[s],f,m,h=10;for(u<l&&(m=l,l=u,u=m,m=i,i=s,s=m);h-- >0;){if(m=py(l,u,r),m===f)return n[i]=l,n[s]=u,t(n);if(m>0)l=Math.floor(l/m)*m,u=Math.ceil(u/m)*m;else if(m<0)l=Math.ceil(l*m)/m,u=Math.floor(u*m)/m;else break;f=m}return e},e}function $A(){var e=T0();return e.copy=function(){return Zc(e,$A())},Kn.apply(e,arguments),Xs(e)}function LA(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Pf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return LA(e).unknown(t)},e=arguments.length?Array.from(e,Pf):[0,1],Xs(r)}function FA(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],l;return s<i&&(l=r,r=n,n=l,l=i,i=s,s=l),e[r]=t.floor(i),e[n]=t.ceil(s),e}function nk(e){return Math.log(e)}function ik(e){return Math.exp(e)}function s8(e){return-Math.log(-e)}function a8(e){return-Math.exp(-e)}function o8(e){return isFinite(e)?+("1e"+e):e<0?0:e}function l8(e){return e===10?o8:e===Math.E?Math.exp:t=>Math.pow(e,t)}function c8(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function sk(e){return(t,r)=>-e(-t,r)}function R0(e){const t=e(nk,ik),r=t.domain;let n=10,i,s;function l(){return i=c8(n),s=l8(n),r()[0]<0?(i=sk(i),s=sk(s),e(s8,a8)):e(nk,ik),t}return t.base=function(u){return arguments.length?(n=+u,l()):n},t.domain=function(u){return arguments.length?(r(u),l()):r()},t.ticks=u=>{const f=r();let m=f[0],h=f[f.length-1];const p=h<m;p&&([m,h]=[h,m]);let v=i(m),w=i(h),_,b;const x=u==null?10:+u;let k=[];if(!(n%1)&&w-v<x){if(v=Math.floor(v),w=Math.ceil(w),m>0){for(;v<=w;++v)for(_=1;_<n;++_)if(b=v<0?_/s(-v):_*s(v),!(b<m)){if(b>h)break;k.push(b)}}else for(;v<=w;++v)for(_=n-1;_>=1;--_)if(b=v>0?_/s(-v):_*s(v),!(b<m)){if(b>h)break;k.push(b)}k.length*2<x&&(k=my(m,h,x))}else k=my(v,w,Math.min(w-v,x)).map(s);return p?k.reverse():k},t.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=n===10?"s":","),typeof f!="function"&&(!(n%1)&&(f=Rc(f)).precision==null&&(f.trim=!0),f=D0(f)),u===1/0)return f;const m=Math.max(1,n*u/t.ticks().length);return h=>{let p=h/s(Math.round(i(h)));return p*n<n-.5&&(p*=n),p<=m?f(h):""}},t.nice=()=>r(FA(r(),{floor:u=>s(Math.floor(i(u))),ceil:u=>s(Math.ceil(i(u)))})),t}function UA(){const e=R0(xh()).domain([1,10]);return e.copy=()=>Zc(e,UA()).base(e.base()),Kn.apply(e,arguments),e}function ak(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function ok(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function M0(e){var t=1,r=e(ak(t),ok(t));return r.constant=function(n){return arguments.length?e(ak(t=+n),ok(t)):t},Xs(r)}function zA(){var e=M0(xh());return e.copy=function(){return Zc(e,zA()).constant(e.constant())},Kn.apply(e,arguments)}function lk(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function u8(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function d8(e){return e<0?-e*e:e*e}function $0(e){var t=e(Br,Br),r=1;function n(){return r===1?e(Br,Br):r===.5?e(u8,d8):e(lk(r),lk(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Xs(t)}function L0(){var e=$0(xh());return e.copy=function(){return Zc(e,L0()).exponent(e.exponent())},Kn.apply(e,arguments),e}function f8(){return L0.apply(null,arguments).exponent(.5)}function ck(e){return Math.sign(e)*e*e}function h8(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function BA(){var e=T0(),t=[0,1],r=!1,n;function i(s){var l=h8(e(s));return isNaN(l)?n:r?Math.round(l):l}return i.invert=function(s){return e.invert(ck(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,Pf)).map(ck)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return BA(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Kn.apply(i,arguments),Xs(i)}function VA(){var e=[],t=[],r=[],n;function i(){var l=0,u=Math.max(1,t.length);for(r=new Array(u-1);++l<u;)r[l-1]=vB(e,l/u);return s}function s(l){return l==null||isNaN(l=+l)?n:t[Qc(r,l)]}return s.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},s.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Hs),i()},s.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},s.unknown=function(l){return arguments.length?(n=l,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return VA().domain(e).range(t).unknown(n)},Kn.apply(s,arguments)}function WA(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function l(f){return f!=null&&f<=f?i[Qc(n,f,0,r)]:s}function u(){var f=-1;for(n=new Array(r);++f<r;)n[f]=((f+1)*t-(f-r)*e)/(r+1);return l}return l.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,u()):[e,t]},l.range=function(f){return arguments.length?(r=(i=Array.from(f)).length-1,u()):i.slice()},l.invertExtent=function(f){var m=i.indexOf(f);return m<0?[NaN,NaN]:m<1?[e,n[0]]:m>=r?[n[r-1],t]:[n[m-1],n[m]]},l.unknown=function(f){return arguments.length&&(s=f),l},l.thresholds=function(){return n.slice()},l.copy=function(){return WA().domain([e,t]).range(i).unknown(s)},Kn.apply(Xs(l),arguments)}function qA(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[Qc(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var l=t.indexOf(s);return[e[l-1],e[l]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return qA().domain(e).range(t).unknown(r)},Kn.apply(i,arguments)}const Qg=new Date,Xg=new Date;function sr(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const l=i(s),u=i.ceil(s);return s-l<u-s?l:u},i.offset=(s,l)=>(t(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,u)=>{const f=[];if(s=i.ceil(s),u=u==null?1:Math.floor(u),!(s<l)||!(u>0))return f;let m;do f.push(m=new Date(+s)),t(s,u),e(s);while(m<s&&s<l);return f},i.filter=s=>sr(l=>{if(l>=l)for(;e(l),!s(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!s(l););else for(;--u>=0;)for(;t(l,1),!s(l););}),r&&(i.count=(s,l)=>(Qg.setTime(+s),Xg.setTime(+l),e(Qg),e(Xg),Math.floor(r(Qg,Xg))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?l=>n(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const If=sr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);If.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?sr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):If);If.range;const Zi=1e3,zn=Zi*60,es=zn*60,as=es*24,F0=as*7,uk=as*30,Zg=as*365,Ea=sr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Zi)},(e,t)=>(t-e)/Zi,e=>e.getUTCSeconds());Ea.range;const U0=sr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Zi)},(e,t)=>{e.setTime(+e+t*zn)},(e,t)=>(t-e)/zn,e=>e.getMinutes());U0.range;const z0=sr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*zn)},(e,t)=>(t-e)/zn,e=>e.getUTCMinutes());z0.range;const B0=sr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Zi-e.getMinutes()*zn)},(e,t)=>{e.setTime(+e+t*es)},(e,t)=>(t-e)/es,e=>e.getHours());B0.range;const V0=sr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*es)},(e,t)=>(t-e)/es,e=>e.getUTCHours());V0.range;const eu=sr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*zn)/as,e=>e.getDate()-1);eu.range;const wh=sr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/as,e=>e.getUTCDate()-1);wh.range;const HA=sr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/as,e=>Math.floor(e/as));HA.range;function Wa(e){return sr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*zn)/F0)}const bh=Wa(0),Df=Wa(1),m8=Wa(2),p8=Wa(3),Vo=Wa(4),g8=Wa(5),v8=Wa(6);bh.range;Df.range;m8.range;p8.range;Vo.range;g8.range;v8.range;function qa(e){return sr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/F0)}const Sh=qa(0),Rf=qa(1),y8=qa(2),x8=qa(3),Wo=qa(4),w8=qa(5),b8=qa(6);Sh.range;Rf.range;y8.range;x8.range;Wo.range;w8.range;b8.range;const W0=sr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());W0.range;const q0=sr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());q0.range;const os=sr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());os.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:sr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});os.range;const ls=sr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ls.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:sr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ls.range;function KA(e,t,r,n,i,s){const l=[[Ea,1,Zi],[Ea,5,5*Zi],[Ea,15,15*Zi],[Ea,30,30*Zi],[s,1,zn],[s,5,5*zn],[s,15,15*zn],[s,30,30*zn],[i,1,es],[i,3,3*es],[i,6,6*es],[i,12,12*es],[n,1,as],[n,2,2*as],[r,1,F0],[t,1,uk],[t,3,3*uk],[e,1,Zg]];function u(m,h,p){const v=h<m;v&&([m,h]=[h,m]);const w=p&&typeof p.range=="function"?p:f(m,h,p),_=w?w.range(m,+h+1):[];return v?_.reverse():_}function f(m,h,p){const v=Math.abs(h-m)/p,w=N0(([,,x])=>x).right(l,v);if(w===l.length)return e.every(gy(m/Zg,h/Zg,p));if(w===0)return If.every(Math.max(gy(m,h,p),1));const[_,b]=l[v/l[w-1][2]<l[w][2]/v?w-1:w];return _.every(b)}return[u,f]}const[S8,_8]=KA(ls,q0,Sh,HA,V0,z0),[j8,k8]=KA(os,W0,bh,eu,B0,U0);function ev(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function tv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ac(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function N8(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,l=e.shortDays,u=e.months,f=e.shortMonths,m=oc(i),h=lc(i),p=oc(s),v=lc(s),w=oc(l),_=lc(l),b=oc(u),x=lc(u),k=oc(f),N=lc(f),E={a:ye,A:re,b:le,B:ce,c:null,d:gk,e:gk,f:Y8,g:sV,G:oV,H:H8,I:K8,j:G8,L:GA,m:J8,M:Q8,p:M,q:D,Q:xk,s:wk,S:X8,u:Z8,U:eV,V:tV,w:rV,W:nV,x:null,X:null,y:iV,Y:aV,Z:lV,"%":yk},A={a:te,A:Se,b:ne,B:ke,c:null,d:vk,e:vk,f:fV,g:SV,G:jV,H:cV,I:uV,j:dV,L:JA,m:hV,M:mV,p:$e,q:Qe,Q:xk,s:wk,S:pV,u:gV,U:vV,V:yV,w:xV,W:wV,x:null,X:null,y:bV,Y:_V,Z:kV,"%":yk},P={a:U,A:z,b:V,B:ee,c:X,d:mk,e:mk,f:B8,g:hk,G:fk,H:pk,I:pk,j:L8,L:z8,m:$8,M:F8,p:W,q:M8,Q:W8,s:q8,S:U8,u:P8,U:T8,V:I8,w:O8,W:D8,x:ae,X:xe,y:hk,Y:fk,Z:R8,"%":V8};E.x=I(r,E),E.X=I(n,E),E.c=I(t,E),A.x=I(r,A),A.X=I(n,A),A.c=I(t,A);function I(ue,Pe){return function(oe){var Z=[],Ee=-1,Ye=0,Pt=ue.length,yt,Ft,jn;for(oe instanceof Date||(oe=new Date(+oe));++Ee<Pt;)ue.charCodeAt(Ee)===37&&(Z.push(ue.slice(Ye,Ee)),(Ft=dk[yt=ue.charAt(++Ee)])!=null?yt=ue.charAt(++Ee):Ft=yt==="e"?" ":"0",(jn=Pe[yt])&&(yt=jn(oe,Ft)),Z.push(yt),Ye=Ee+1);return Z.push(ue.slice(Ye,Ee)),Z.join("")}}function L(ue,Pe){return function(oe){var Z=ac(1900,void 0,1),Ee=G(Z,ue,oe+="",0),Ye,Pt;if(Ee!=oe.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(Pe&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(Ye=tv(ac(Z.y,0,1)),Pt=Ye.getUTCDay(),Ye=Pt>4||Pt===0?Rf.ceil(Ye):Rf(Ye),Ye=wh.offset(Ye,(Z.V-1)*7),Z.y=Ye.getUTCFullYear(),Z.m=Ye.getUTCMonth(),Z.d=Ye.getUTCDate()+(Z.w+6)%7):(Ye=ev(ac(Z.y,0,1)),Pt=Ye.getDay(),Ye=Pt>4||Pt===0?Df.ceil(Ye):Df(Ye),Ye=eu.offset(Ye,(Z.V-1)*7),Z.y=Ye.getFullYear(),Z.m=Ye.getMonth(),Z.d=Ye.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),Pt="Z"in Z?tv(ac(Z.y,0,1)).getUTCDay():ev(ac(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(Pt+5)%7:Z.w+Z.U*7-(Pt+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,tv(Z)):ev(Z)}}function G(ue,Pe,oe,Z){for(var Ee=0,Ye=Pe.length,Pt=oe.length,yt,Ft;Ee<Ye;){if(Z>=Pt)return-1;if(yt=Pe.charCodeAt(Ee++),yt===37){if(yt=Pe.charAt(Ee++),Ft=P[yt in dk?Pe.charAt(Ee++):yt],!Ft||(Z=Ft(ue,oe,Z))<0)return-1}else if(yt!=oe.charCodeAt(Z++))return-1}return Z}function W(ue,Pe,oe){var Z=m.exec(Pe.slice(oe));return Z?(ue.p=h.get(Z[0].toLowerCase()),oe+Z[0].length):-1}function U(ue,Pe,oe){var Z=w.exec(Pe.slice(oe));return Z?(ue.w=_.get(Z[0].toLowerCase()),oe+Z[0].length):-1}function z(ue,Pe,oe){var Z=p.exec(Pe.slice(oe));return Z?(ue.w=v.get(Z[0].toLowerCase()),oe+Z[0].length):-1}function V(ue,Pe,oe){var Z=k.exec(Pe.slice(oe));return Z?(ue.m=N.get(Z[0].toLowerCase()),oe+Z[0].length):-1}function ee(ue,Pe,oe){var Z=b.exec(Pe.slice(oe));return Z?(ue.m=x.get(Z[0].toLowerCase()),oe+Z[0].length):-1}function X(ue,Pe,oe){return G(ue,t,Pe,oe)}function ae(ue,Pe,oe){return G(ue,r,Pe,oe)}function xe(ue,Pe,oe){return G(ue,n,Pe,oe)}function ye(ue){return l[ue.getDay()]}function re(ue){return s[ue.getDay()]}function le(ue){return f[ue.getMonth()]}function ce(ue){return u[ue.getMonth()]}function M(ue){return i[+(ue.getHours()>=12)]}function D(ue){return 1+~~(ue.getMonth()/3)}function te(ue){return l[ue.getUTCDay()]}function Se(ue){return s[ue.getUTCDay()]}function ne(ue){return f[ue.getUTCMonth()]}function ke(ue){return u[ue.getUTCMonth()]}function $e(ue){return i[+(ue.getUTCHours()>=12)]}function Qe(ue){return 1+~~(ue.getUTCMonth()/3)}return{format:function(ue){var Pe=I(ue+="",E);return Pe.toString=function(){return ue},Pe},parse:function(ue){var Pe=L(ue+="",!1);return Pe.toString=function(){return ue},Pe},utcFormat:function(ue){var Pe=I(ue+="",A);return Pe.toString=function(){return ue},Pe},utcParse:function(ue){var Pe=L(ue+="",!0);return Pe.toString=function(){return ue},Pe}}}var dk={"-":"",_:" ",0:"0"},gr=/^\s*\d+/,E8=/^%/,C8=/[\\^$*+?|[\]().{}]/g;function ut(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function A8(e){return e.replace(C8,"\\$&")}function oc(e){return new RegExp("^(?:"+e.map(A8).join("|")+")","i")}function lc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function O8(e,t,r){var n=gr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function P8(e,t,r){var n=gr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function T8(e,t,r){var n=gr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function I8(e,t,r){var n=gr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function D8(e,t,r){var n=gr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function fk(e,t,r){var n=gr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function hk(e,t,r){var n=gr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function R8(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function M8(e,t,r){var n=gr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function $8(e,t,r){var n=gr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function mk(e,t,r){var n=gr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function L8(e,t,r){var n=gr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function pk(e,t,r){var n=gr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function F8(e,t,r){var n=gr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function U8(e,t,r){var n=gr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function z8(e,t,r){var n=gr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function B8(e,t,r){var n=gr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function V8(e,t,r){var n=E8.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function W8(e,t,r){var n=gr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function q8(e,t,r){var n=gr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function gk(e,t){return ut(e.getDate(),t,2)}function H8(e,t){return ut(e.getHours(),t,2)}function K8(e,t){return ut(e.getHours()%12||12,t,2)}function G8(e,t){return ut(1+eu.count(os(e),e),t,3)}function GA(e,t){return ut(e.getMilliseconds(),t,3)}function Y8(e,t){return GA(e,t)+"000"}function J8(e,t){return ut(e.getMonth()+1,t,2)}function Q8(e,t){return ut(e.getMinutes(),t,2)}function X8(e,t){return ut(e.getSeconds(),t,2)}function Z8(e){var t=e.getDay();return t===0?7:t}function eV(e,t){return ut(bh.count(os(e)-1,e),t,2)}function YA(e){var t=e.getDay();return t>=4||t===0?Vo(e):Vo.ceil(e)}function tV(e,t){return e=YA(e),ut(Vo.count(os(e),e)+(os(e).getDay()===4),t,2)}function rV(e){return e.getDay()}function nV(e,t){return ut(Df.count(os(e)-1,e),t,2)}function iV(e,t){return ut(e.getFullYear()%100,t,2)}function sV(e,t){return e=YA(e),ut(e.getFullYear()%100,t,2)}function aV(e,t){return ut(e.getFullYear()%1e4,t,4)}function oV(e,t){var r=e.getDay();return e=r>=4||r===0?Vo(e):Vo.ceil(e),ut(e.getFullYear()%1e4,t,4)}function lV(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ut(t/60|0,"0",2)+ut(t%60,"0",2)}function vk(e,t){return ut(e.getUTCDate(),t,2)}function cV(e,t){return ut(e.getUTCHours(),t,2)}function uV(e,t){return ut(e.getUTCHours()%12||12,t,2)}function dV(e,t){return ut(1+wh.count(ls(e),e),t,3)}function JA(e,t){return ut(e.getUTCMilliseconds(),t,3)}function fV(e,t){return JA(e,t)+"000"}function hV(e,t){return ut(e.getUTCMonth()+1,t,2)}function mV(e,t){return ut(e.getUTCMinutes(),t,2)}function pV(e,t){return ut(e.getUTCSeconds(),t,2)}function gV(e){var t=e.getUTCDay();return t===0?7:t}function vV(e,t){return ut(Sh.count(ls(e)-1,e),t,2)}function QA(e){var t=e.getUTCDay();return t>=4||t===0?Wo(e):Wo.ceil(e)}function yV(e,t){return e=QA(e),ut(Wo.count(ls(e),e)+(ls(e).getUTCDay()===4),t,2)}function xV(e){return e.getUTCDay()}function wV(e,t){return ut(Rf.count(ls(e)-1,e),t,2)}function bV(e,t){return ut(e.getUTCFullYear()%100,t,2)}function SV(e,t){return e=QA(e),ut(e.getUTCFullYear()%100,t,2)}function _V(e,t){return ut(e.getUTCFullYear()%1e4,t,4)}function jV(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Wo(e):Wo.ceil(e),ut(e.getUTCFullYear()%1e4,t,4)}function kV(){return"+0000"}function yk(){return"%"}function xk(e){return+e}function wk(e){return Math.floor(+e/1e3)}var Ao,XA,ZA;NV({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function NV(e){return Ao=N8(e),XA=Ao.format,Ao.parse,ZA=Ao.utcFormat,Ao.utcParse,Ao}function EV(e){return new Date(e)}function CV(e){return e instanceof Date?+e:+new Date(+e)}function H0(e,t,r,n,i,s,l,u,f,m){var h=T0(),p=h.invert,v=h.domain,w=m(".%L"),_=m(":%S"),b=m("%I:%M"),x=m("%I %p"),k=m("%a %d"),N=m("%b %d"),E=m("%B"),A=m("%Y");function P(I){return(f(I)<I?w:u(I)<I?_:l(I)<I?b:s(I)<I?x:n(I)<I?i(I)<I?k:N:r(I)<I?E:A)(I)}return h.invert=function(I){return new Date(p(I))},h.domain=function(I){return arguments.length?v(Array.from(I,CV)):v().map(EV)},h.ticks=function(I){var L=v();return e(L[0],L[L.length-1],I??10)},h.tickFormat=function(I,L){return L==null?P:m(L)},h.nice=function(I){var L=v();return(!I||typeof I.range!="function")&&(I=t(L[0],L[L.length-1],I??10)),I?v(FA(L,I)):h},h.copy=function(){return Zc(h,H0(e,t,r,n,i,s,l,u,f,m))},h}function AV(){return Kn.apply(H0(j8,k8,os,W0,bh,eu,B0,U0,Ea,XA).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function OV(){return Kn.apply(H0(S8,_8,ls,q0,Sh,wh,V0,z0,Ea,ZA).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function _h(){var e=0,t=1,r,n,i,s,l=Br,u=!1,f;function m(p){return p==null||isNaN(p=+p)?f:l(i===0?.5:(p=(s(p)-r)*i,u?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t]=p,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),m):[e,t]},m.clamp=function(p){return arguments.length?(u=!!p,m):u},m.interpolator=function(p){return arguments.length?(l=p,m):l};function h(p){return function(v){var w,_;return arguments.length?([w,_]=v,l=p(w,_),m):[l(0),l(1)]}}return m.range=h(sl),m.rangeRound=h(P0),m.unknown=function(p){return arguments.length?(f=p,m):f},function(p){return s=p,r=p(e),n=p(t),i=r===n?0:1/(n-r),m}}function Zs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function e2(){var e=Xs(_h()(Br));return e.copy=function(){return Zs(e,e2())},fs.apply(e,arguments)}function t2(){var e=R0(_h()).domain([1,10]);return e.copy=function(){return Zs(e,t2()).base(e.base())},fs.apply(e,arguments)}function r2(){var e=M0(_h());return e.copy=function(){return Zs(e,r2()).constant(e.constant())},fs.apply(e,arguments)}function K0(){var e=$0(_h());return e.copy=function(){return Zs(e,K0()).exponent(e.exponent())},fs.apply(e,arguments)}function PV(){return K0.apply(null,arguments).exponent(.5)}function n2(){var e=[],t=Br;function r(n){if(n!=null&&!isNaN(n=+n))return t((Qc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Hs),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>gB(e,s/n))},r.copy=function(){return n2(t).domain(e)},fs.apply(r,arguments)}function jh(){var e=0,t=.5,r=1,n=1,i,s,l,u,f,m=Br,h,p=!1,v;function w(b){return isNaN(b=+b)?v:(b=.5+((b=+h(b))-s)*(n*b<n*s?u:f),m(p?Math.max(0,Math.min(1,b)):b))}w.domain=function(b){return arguments.length?([e,t,r]=b,i=h(e=+e),s=h(t=+t),l=h(r=+r),u=i===s?0:.5/(s-i),f=s===l?0:.5/(l-s),n=s<i?-1:1,w):[e,t,r]},w.clamp=function(b){return arguments.length?(p=!!b,w):p},w.interpolator=function(b){return arguments.length?(m=b,w):m};function _(b){return function(x){var k,N,E;return arguments.length?([k,N,E]=x,m=VB(b,[k,N,E]),w):[m(0),m(.5),m(1)]}}return w.range=_(sl),w.rangeRound=_(P0),w.unknown=function(b){return arguments.length?(v=b,w):v},function(b){return h=b,i=b(e),s=b(t),l=b(r),u=i===s?0:.5/(s-i),f=s===l?0:.5/(l-s),n=s<i?-1:1,w}}function i2(){var e=Xs(jh()(Br));return e.copy=function(){return Zs(e,i2())},fs.apply(e,arguments)}function s2(){var e=R0(jh()).domain([.1,1,10]);return e.copy=function(){return Zs(e,s2()).base(e.base())},fs.apply(e,arguments)}function a2(){var e=M0(jh());return e.copy=function(){return Zs(e,a2()).constant(e.constant())},fs.apply(e,arguments)}function G0(){var e=$0(jh());return e.copy=function(){return Zs(e,G0()).exponent(e.exponent())},fs.apply(e,arguments)}function TV(){return G0.apply(null,arguments).exponent(.5)}const mc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:C0,scaleDiverging:i2,scaleDivergingLog:s2,scaleDivergingPow:G0,scaleDivergingSqrt:TV,scaleDivergingSymlog:a2,scaleIdentity:LA,scaleImplicit:vy,scaleLinear:$A,scaleLog:UA,scaleOrdinal:E0,scalePoint:xB,scalePow:L0,scaleQuantile:VA,scaleQuantize:WA,scaleRadial:BA,scaleSequential:e2,scaleSequentialLog:t2,scaleSequentialPow:K0,scaleSequentialQuantile:n2,scaleSequentialSqrt:PV,scaleSequentialSymlog:r2,scaleSqrt:f8,scaleSymlog:zA,scaleThreshold:qA,scaleTime:AV,scaleUtc:OV,tickFormat:MA},Symbol.toStringTag,{value:"Module"}));var ea=e=>e.chartData,IV=J([ea],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Y0=(e,t,r,n)=>n?IV(e):ea(e);function qo(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(bn(t)&&bn(r))return!0}return!1}function bk(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function DV(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,s;if(bn(r))i=r;else if(typeof r=="function")return;if(bn(n))s=n;else if(typeof n=="function")return;var l=[i,s];if(qo(l))return l}}function RV(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(qo(n))return bk(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,l,u;if(i==="auto")t!=null&&(l=Math.min(...t));else if(Je(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&hj.test(i)){var f=hj.exec(i);if(f==null||t==null)l=void 0;else{var m=+f[1];l=t[0]-m}}else l=t==null?void 0:t[0];if(s==="auto")t!=null&&(u=Math.max(...t));else if(Je(s))u=s;else if(typeof s=="function")try{t!=null&&(u=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&mj.test(s)){var h=mj.exec(s);if(h==null||t==null)u=void 0;else{var p=+h[1];u=t[1]+p}}else u=t==null?void 0:t[1];var v=[l,u];if(qo(v))return t==null?v:bk(v,t,r)}}}var al=1e9,MV={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Q0,It=!0,Hn="[DecimalError] ",Ia=Hn+"Invalid argument: ",J0=Hn+"Exponent out of range: ",ol=Math.floor,xa=Math.pow,$V=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,gn,dr=1e7,Ct=7,o2=9007199254740991,Mf=ol(o2/Ct),Ae={};Ae.absoluteValue=Ae.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ae.comparedTo=Ae.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};Ae.decimalPlaces=Ae.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ct;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ae.dividedBy=Ae.div=function(e){return ns(this,new this.constructor(e))};Ae.dividedToIntegerBy=Ae.idiv=function(e){var t=this,r=t.constructor;return bt(ns(t,new r(e),0,1),r.precision)};Ae.equals=Ae.eq=function(e){return!this.cmp(e)};Ae.exponent=function(){return Qt(this)};Ae.greaterThan=Ae.gt=function(e){return this.cmp(e)>0};Ae.greaterThanOrEqualTo=Ae.gte=function(e){return this.cmp(e)>=0};Ae.isInteger=Ae.isint=function(){return this.e>this.d.length-2};Ae.isNegative=Ae.isneg=function(){return this.s<0};Ae.isPositive=Ae.ispos=function(){return this.s>0};Ae.isZero=function(){return this.s===0};Ae.lessThan=Ae.lt=function(e){return this.cmp(e)<0};Ae.lessThanOrEqualTo=Ae.lte=function(e){return this.cmp(e)<1};Ae.logarithm=Ae.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(gn))throw Error(Hn+"NaN");if(r.s<1)throw Error(Hn+(r.s?"NaN":"-Infinity"));return r.eq(gn)?new n(0):(It=!1,t=ns(Mc(r,s),Mc(e,s),s),It=!0,bt(t,i))};Ae.minus=Ae.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?u2(t,e):l2(t,(e.s=-e.s,e))};Ae.modulo=Ae.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Hn+"NaN");return r.s?(It=!1,t=ns(r,e,0,1).times(e),It=!0,r.minus(t)):bt(new n(r),i)};Ae.naturalExponential=Ae.exp=function(){return c2(this)};Ae.naturalLogarithm=Ae.ln=function(){return Mc(this)};Ae.negated=Ae.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ae.plus=Ae.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?l2(t,e):u2(t,(e.s=-e.s,e))};Ae.precision=Ae.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ia+e);if(t=Qt(i)+1,n=i.d.length-1,r=n*Ct+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ae.squareRoot=Ae.sqrt=function(){var e,t,r,n,i,s,l,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(Hn+"NaN")}for(e=Qt(u),It=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=Pi(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=ol((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new f(t)):n=new f(i.toString()),r=f.precision,i=l=r+3;;)if(s=n,n=s.plus(ns(u,s,l+2)).times(.5),Pi(s.d).slice(0,l)===(t=Pi(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(bt(s,r+1,0),s.times(s).eq(u)){n=s;break}}else if(t!="9999")break;l+=4}return It=!0,bt(n,r)};Ae.times=Ae.mul=function(e){var t,r,n,i,s,l,u,f,m,h=this,p=h.constructor,v=h.d,w=(e=new p(e)).d;if(!h.s||!e.s)return new p(0);for(e.s*=h.s,r=h.e+e.e,f=v.length,m=w.length,f<m&&(s=v,v=w,w=s,l=f,f=m,m=l),s=[],l=f+m,n=l;n--;)s.push(0);for(n=m;--n>=0;){for(t=0,i=f+n;i>n;)u=s[i]+w[n]*v[i-n-1]+t,s[i--]=u%dr|0,t=u/dr|0;s[i]=(s[i]+t)%dr|0}for(;!s[--l];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,It?bt(e,p.precision):e};Ae.toDecimalPlaces=Ae.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Mi(e,0,al),t===void 0?t=n.rounding:Mi(t,0,8),bt(r,e+Qt(r)+1,t))};Ae.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Fa(n,!0):(Mi(e,0,al),t===void 0?t=i.rounding:Mi(t,0,8),n=bt(new i(n),e+1,t),r=Fa(n,!0,e+1)),r};Ae.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?Fa(i):(Mi(e,0,al),t===void 0?t=s.rounding:Mi(t,0,8),n=bt(new s(i),e+Qt(i)+1,t),r=Fa(n.abs(),!1,e+Qt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ae.toInteger=Ae.toint=function(){var e=this,t=e.constructor;return bt(new t(e),Qt(e)+1,t.rounding)};Ae.toNumber=function(){return+this};Ae.toPower=Ae.pow=function(e){var t,r,n,i,s,l,u=this,f=u.constructor,m=12,h=+(e=new f(e));if(!e.s)return new f(gn);if(u=new f(u),!u.s){if(e.s<1)throw Error(Hn+"Infinity");return u}if(u.eq(gn))return u;if(n=f.precision,e.eq(gn))return bt(u,n);if(t=e.e,r=e.d.length-1,l=t>=r,s=u.s,l){if((r=h<0?-h:h)<=o2){for(i=new f(gn),t=Math.ceil(n/Ct+4),It=!1;r%2&&(i=i.times(u),_k(i.d,t)),r=ol(r/2),r!==0;)u=u.times(u),_k(u.d,t);return It=!0,e.s<0?new f(gn).div(i):bt(i,n)}}else if(s<0)throw Error(Hn+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,It=!1,i=e.times(Mc(u,n+m)),It=!0,i=c2(i),i.s=s,i};Ae.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=Qt(i),n=Fa(i,r<=s.toExpNeg||r>=s.toExpPos)):(Mi(e,1,al),t===void 0?t=s.rounding:Mi(t,0,8),i=bt(new s(i),e,t),r=Qt(i),n=Fa(i,e<=r||r<=s.toExpNeg,e)),n};Ae.toSignificantDigits=Ae.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Mi(e,1,al),t===void 0?t=n.rounding:Mi(t,0,8)),bt(new n(r),e,t)};Ae.toString=Ae.valueOf=Ae.val=Ae.toJSON=Ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Qt(e),r=e.constructor;return Fa(e,t<=r.toExpNeg||t>=r.toExpPos)};function l2(e,t){var r,n,i,s,l,u,f,m,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),It?bt(t,p):t;if(f=e.d,m=t.d,l=e.e,i=t.e,f=f.slice(),s=l-i,s){for(s<0?(n=f,s=-s,u=m.length):(n=m,i=l,u=f.length),l=Math.ceil(p/Ct),u=l>u?l+1:u+1,s>u&&(s=u,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(u=f.length,s=m.length,u-s<0&&(s=u,n=m,m=f,f=n),r=0;s;)r=(f[--s]=f[s]+m[s]+r)/dr|0,f[s]%=dr;for(r&&(f.unshift(r),++i),u=f.length;f[--u]==0;)f.pop();return t.d=f,t.e=i,It?bt(t,p):t}function Mi(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ia+e)}function Pi(e){var t,r,n,i=e.length-1,s="",l=e[0];if(i>0){for(s+=l,t=1;t<i;t++)n=e[t]+"",r=Ct-n.length,r&&(s+=Fs(r)),s+=n;l=e[t],n=l+"",r=Ct-n.length,r&&(s+=Fs(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var ns=(function(){function e(n,i){var s,l=0,u=n.length;for(n=n.slice();u--;)s=n[u]*i+l,n[u]=s%dr|0,l=s/dr|0;return l&&n.unshift(l),n}function t(n,i,s,l){var u,f;if(s!=l)f=s>l?1:-1;else for(u=f=0;u<s;u++)if(n[u]!=i[u]){f=n[u]>i[u]?1:-1;break}return f}function r(n,i,s){for(var l=0;s--;)n[s]-=l,l=n[s]<i[s]?1:0,n[s]=l*dr+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,l){var u,f,m,h,p,v,w,_,b,x,k,N,E,A,P,I,L,G,W=n.constructor,U=n.s==i.s?1:-1,z=n.d,V=i.d;if(!n.s)return new W(n);if(!i.s)throw Error(Hn+"Division by zero");for(f=n.e-i.e,L=V.length,P=z.length,w=new W(U),_=w.d=[],m=0;V[m]==(z[m]||0);)++m;if(V[m]>(z[m]||0)&&--f,s==null?N=s=W.precision:l?N=s+(Qt(n)-Qt(i))+1:N=s,N<0)return new W(0);if(N=N/Ct+2|0,m=0,L==1)for(h=0,V=V[0],N++;(m<P||h)&&N--;m++)E=h*dr+(z[m]||0),_[m]=E/V|0,h=E%V|0;else{for(h=dr/(V[0]+1)|0,h>1&&(V=e(V,h),z=e(z,h),L=V.length,P=z.length),A=L,b=z.slice(0,L),x=b.length;x<L;)b[x++]=0;G=V.slice(),G.unshift(0),I=V[0],V[1]>=dr/2&&++I;do h=0,u=t(V,b,L,x),u<0?(k=b[0],L!=x&&(k=k*dr+(b[1]||0)),h=k/I|0,h>1?(h>=dr&&(h=dr-1),p=e(V,h),v=p.length,x=b.length,u=t(p,b,v,x),u==1&&(h--,r(p,L<v?G:V,v))):(h==0&&(u=h=1),p=V.slice()),v=p.length,v<x&&p.unshift(0),r(b,p,x),u==-1&&(x=b.length,u=t(V,b,L,x),u<1&&(h++,r(b,L<x?G:V,x))),x=b.length):u===0&&(h++,b=[0]),_[m++]=h,u&&b[0]?b[x++]=z[A]||0:(b=[z[A]],x=1);while((A++<P||b[0]!==void 0)&&N--)}return _[0]||_.shift(),w.e=f,bt(w,l?s+Qt(w)+1:s)}})();function c2(e,t){var r,n,i,s,l,u,f=0,m=0,h=e.constructor,p=h.precision;if(Qt(e)>16)throw Error(J0+Qt(e));if(!e.s)return new h(gn);for(It=!1,u=p,l=new h(.03125);e.abs().gte(.1);)e=e.times(l),m+=5;for(n=Math.log(xa(2,m))/Math.LN10*2+5|0,u+=n,r=i=s=new h(gn),h.precision=u;;){if(i=bt(i.times(e),u),r=r.times(++f),l=s.plus(ns(i,r,u)),Pi(l.d).slice(0,u)===Pi(s.d).slice(0,u)){for(;m--;)s=bt(s.times(s),u);return h.precision=p,t==null?(It=!0,bt(s,p)):s}s=l}}function Qt(e){for(var t=e.e*Ct,r=e.d[0];r>=10;r/=10)t++;return t}function rv(e,t,r){if(t>e.LN10.sd())throw It=!0,r&&(e.precision=r),Error(Hn+"LN10 precision limit exceeded");return bt(new e(e.LN10),t)}function Fs(e){for(var t="";e--;)t+="0";return t}function Mc(e,t){var r,n,i,s,l,u,f,m,h,p=1,v=10,w=e,_=w.d,b=w.constructor,x=b.precision;if(w.s<1)throw Error(Hn+(w.s?"NaN":"-Infinity"));if(w.eq(gn))return new b(0);if(t==null?(It=!1,m=x):m=t,w.eq(10))return t==null&&(It=!0),rv(b,m);if(m+=v,b.precision=m,r=Pi(_),n=r.charAt(0),s=Qt(w),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)w=w.times(e),r=Pi(w.d),n=r.charAt(0),p++;s=Qt(w),n>1?(w=new b("0."+r),s++):w=new b(n+"."+r.slice(1))}else return f=rv(b,m+2,x).times(s+""),w=Mc(new b(n+"."+r.slice(1)),m-v).plus(f),b.precision=x,t==null?(It=!0,bt(w,x)):w;for(u=l=w=ns(w.minus(gn),w.plus(gn),m),h=bt(w.times(w),m),i=3;;){if(l=bt(l.times(h),m),f=u.plus(ns(l,new b(i),m)),Pi(f.d).slice(0,m)===Pi(u.d).slice(0,m))return u=u.times(2),s!==0&&(u=u.plus(rv(b,m+2,x).times(s+""))),u=ns(u,new b(p),m),b.precision=x,t==null?(It=!0,bt(u,x)):u;u=f,i+=2}}function Sk(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=ol(r/Ct),e.d=[],n=(r+1)%Ct,r<0&&(n+=Ct),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Ct;n<i;)e.d.push(+t.slice(n,n+=Ct));t=t.slice(n),n=Ct-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),It&&(e.e>Mf||e.e<-Mf))throw Error(J0+r)}else e.s=0,e.e=0,e.d=[0];return e}function bt(e,t,r){var n,i,s,l,u,f,m,h,p=e.d;for(l=1,s=p[0];s>=10;s/=10)l++;if(n=t-l,n<0)n+=Ct,i=t,m=p[h=0];else{if(h=Math.ceil((n+1)/Ct),s=p.length,h>=s)return e;for(m=s=p[h],l=1;s>=10;s/=10)l++;n%=Ct,i=n-Ct+l}if(r!==void 0&&(s=xa(10,l-i-1),u=m/s%10|0,f=t<0||p[h+1]!==void 0||m%s,f=r<4?(u||f)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||f||r==6&&(n>0?i>0?m/xa(10,l-i):0:p[h-1])%10&1||r==(e.s<0?8:7))),t<1||!p[0])return f?(s=Qt(e),p.length=1,t=t-s-1,p[0]=xa(10,(Ct-t%Ct)%Ct),e.e=ol(-t/Ct)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(n==0?(p.length=h,s=1,h--):(p.length=h+1,s=xa(10,Ct-n),p[h]=i>0?(m/xa(10,l-i)%xa(10,i)|0)*s:0),f)for(;;)if(h==0){(p[0]+=s)==dr&&(p[0]=1,++e.e);break}else{if(p[h]+=s,p[h]!=dr)break;p[h--]=0,s=1}for(n=p.length;p[--n]===0;)p.pop();if(It&&(e.e>Mf||e.e<-Mf))throw Error(J0+Qt(e));return e}function u2(e,t){var r,n,i,s,l,u,f,m,h,p,v=e.constructor,w=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),It?bt(t,w):t;if(f=e.d,p=t.d,n=t.e,m=e.e,f=f.slice(),l=m-n,l){for(h=l<0,h?(r=f,l=-l,u=p.length):(r=p,n=m,u=f.length),i=Math.max(Math.ceil(w/Ct),u)+2,l>i&&(l=i,r.length=1),r.reverse(),i=l;i--;)r.push(0);r.reverse()}else{for(i=f.length,u=p.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(f[i]!=p[i]){h=f[i]<p[i];break}l=0}for(h&&(r=f,f=p,p=r,t.s=-t.s),u=f.length,i=p.length-u;i>0;--i)f[u++]=0;for(i=p.length;i>l;){if(f[--i]<p[i]){for(s=i;s&&f[--s]===0;)f[s]=dr-1;--f[s],f[i]+=dr}f[i]-=p[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--n;return f[0]?(t.d=f,t.e=n,It?bt(t,w):t):new v(0)}function Fa(e,t,r){var n,i=Qt(e),s=Pi(e.d),l=s.length;return t?(r&&(n=r-l)>0?s=s.charAt(0)+"."+s.slice(1)+Fs(n):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Fs(-i-1)+s,r&&(n=r-l)>0&&(s+=Fs(n))):i>=l?(s+=Fs(i+1-l),r&&(n=r-i-1)>0&&(s=s+"."+Fs(n))):((n=i+1)<l&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-l)>0&&(i+1===l&&(s+="."),s+=Fs(n))),e.s<0?"-"+s:s}function _k(e,t){if(e.length>t)return e.length=t,!0}function d2(e){var t,r,n;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Ia+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return Sk(l,s.toString())}else if(typeof s!="string")throw Error(Ia+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,$V.test(s))Sk(l,s);else throw Error(Ia+s)}if(i.prototype=Ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=d2,i.config=i.set=LV,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function LV(e){if(!e||typeof e!="object")throw Error(Hn+"Object expected");var t,r,n,i=["precision",1,al,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(ol(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Ia+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ia+r+": "+n);return this}var Q0=d2(MV);gn=new Q0(1);const mt=Q0;var FV=e=>e,f2={},h2=e=>e===f2,jk=e=>function t(){return arguments.length===0||arguments.length===1&&h2(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},m2=(e,t)=>e===1?t:jk(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=n.filter(l=>l!==f2).length;return s>=e?t(...n):m2(e-s,jk(function(){for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];var m=n.map(h=>h2(h)?u.shift():h);return t(...m,...u)}))}),kh=e=>m2(e.length,e),by=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},UV=kh((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),zV=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return FV;var i=r.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce((u,f)=>f(u),s(...arguments))}},Sy=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),p2=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t&&i.every((l,u)=>{var f;return l===((f=t)===null||f===void 0?void 0:f[u])})||(t=i,r=e(...i)),r}};function g2(e){var t;return e===0?t=1:t=Math.floor(new mt(e).abs().log(10).toNumber())+1,t}function v2(e,t,r){for(var n=new mt(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}kh((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});kh((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});kh((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var y2=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},x2=(e,t,r)=>{if(e.lte(0))return new mt(0);var n=g2(e.toNumber()),i=new mt(10).pow(n),s=e.div(i),l=n!==1?.05:.1,u=new mt(Math.ceil(s.div(l).toNumber())).add(r).mul(l),f=u.mul(i);return t?new mt(f.toNumber()):new mt(Math.ceil(f.toNumber()))},BV=(e,t,r)=>{var n=new mt(1),i=new mt(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new mt(10).pow(g2(e)-1),i=new mt(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new mt(Math.floor(e)))}else e===0?i=new mt(Math.floor((t-1)/2)):r||(i=new mt(Math.floor(e)));var l=Math.floor((t-1)/2),u=zV(UV(f=>i.add(new mt(f-l).mul(n)).toNumber()),by);return u(0,t)},w2=function(t,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new mt(0),tickMin:new mt(0),tickMax:new mt(0)};var l=x2(new mt(r).sub(t).div(n-1),i,s),u;t<=0&&r>=0?u=new mt(0):(u=new mt(t).add(r).div(2),u=u.sub(new mt(u).mod(l)));var f=Math.ceil(u.sub(t).div(l).toNumber()),m=Math.ceil(new mt(r).sub(u).div(l).toNumber()),h=f+m+1;return h>n?w2(t,r,n,i,s+1):(h<n&&(m=r>0?m+(n-h):m,f=r>0?f:f+(n-h)),{step:l,tickMin:u.sub(new mt(f).mul(l)),tickMax:u.add(new mt(m).mul(l))})};function VV(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(n,2),[l,u]=y2([t,r]);if(l===-1/0||u===1/0){var f=u===1/0?[l,...by(0,n-1).map(()=>1/0)]:[...by(0,n-1).map(()=>-1/0),u];return t>r?Sy(f):f}if(l===u)return BV(l,n,i);var{step:m,tickMin:h,tickMax:p}=w2(l,u,s,i,0),v=v2(h,p.add(new mt(.1).mul(m)),m);return t>r?Sy(v):v}function WV(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,l]=y2([r,n]);if(s===-1/0||l===1/0)return[r,n];if(s===l)return[s];var u=Math.max(t,2),f=x2(new mt(l).sub(s).div(u-1),i,0),m=[...v2(new mt(s),new mt(l),f),l];return i===!1&&(m=m.map(h=>Math.round(h))),r>n?Sy(m):m}var qV=p2(VV),HV=p2(WV),b2=e=>e.rootProps.maxBarSize,KV=e=>e.rootProps.barGap,S2=e=>e.rootProps.barCategoryGap,GV=e=>e.rootProps.barSize,Nh=e=>e.rootProps.stackOffset,X0=e=>e.options.chartName,Z0=e=>e.rootProps.syncId,_2=e=>e.rootProps.syncMethod,ex=e=>e.options.eventEmitter,Qi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},mn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Eh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},YV={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Qi.angleAxisId,includeHidden:!1,name:void 0,reversed:Qi.reversed,scale:Qi.scale,tick:Qi.tick,tickCount:void 0,ticks:void 0,type:Qi.type,unit:void 0},JV={allowDataOverflow:mn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:mn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:mn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:mn.scale,tick:mn.tick,tickCount:mn.tickCount,ticks:void 0,type:mn.type,unit:void 0},QV={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Qi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Qi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Qi.scale,tick:Qi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},XV={allowDataOverflow:mn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:mn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:mn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:mn.scale,tick:mn.tick,tickCount:mn.tickCount,ticks:void 0,type:"category",unit:void 0},tx=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?QV:YV,rx=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?XV:JV,Ch=e=>e.polarOptions,nx=J([us,ds,pr],eU),j2=J([Ch,nx],(e,t)=>{if(e!=null)return hi(e.innerRadius,t,0)}),k2=J([Ch,nx],(e,t)=>{if(e!=null)return hi(e.outerRadius,t,t*.8)}),ZV=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},N2=J([Ch],ZV);J([tx,N2],Eh);var E2=J([nx,j2,k2],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});J([rx,E2],Eh);var C2=J([pt,Ch,j2,k2,us,ds],(e,t,r,n,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:u,startAngle:f,endAngle:m}=t;return{cx:hi(l,i,i/2),cy:hi(u,s,s/2),innerRadius:r,outerRadius:n,startAngle:f,endAngle:m,clockWise:!1}}}),Xt=(e,t)=>t,Ah=(e,t,r)=>r;function ix(e){return e==null?void 0:e.id}var ar=e=>{var t=pt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},ll=e=>e.tooltip.settings.axisId,vr=e=>{var t=ar(e),r=ll(e);return tu(e,t,r)},A2=J([vr],e=>e==null?void 0:e.dataKey);function O2(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:s}=r,l=new Map;return e.forEach(u=>{var f,m=(f=u.data)!==null&&f!==void 0?f:n;if(!(m==null||m.length===0)){var h=ix(u);m.forEach((p,v)=>{var w=s==null||i?v:String(Vr(p,s,null)),_=Vr(p,u.dataKey,0),b;l.has(w)?b=l.get(w):b={},Object.assign(b,{[h]:_}),l.set(w,b)})}}),Array.from(l.values())}function Oh(e){return e.stackId!=null&&e.dataKey!=null}function kk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $f(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kk(Object(r),!0).forEach(function(n){eW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eW(e,t,r){return(t=tW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tW(e){var t=rW(e,"string");return typeof t=="symbol"?t:t+""}function rW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _y=[0,"auto"],un={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},P2=(e,t)=>e.cartesianAxis.xAxis[t],hs=(e,t)=>{var r=P2(e,t);return r??un},dn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:_y,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Jc},T2=(e,t)=>e.cartesianAxis.yAxis[t],ms=(e,t)=>{var r=T2(e,t);return r??dn},nW={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},sx=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??nW},rn=(e,t,r)=>{switch(t){case"xAxis":return hs(e,r);case"yAxis":return ms(e,r);case"zAxis":return sx(e,r);case"angleAxis":return tx(e,r);case"radiusAxis":return rx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},iW=(e,t,r)=>{switch(t){case"xAxis":return hs(e,r);case"yAxis":return ms(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},tu=(e,t,r)=>{switch(t){case"xAxis":return hs(e,r);case"yAxis":return ms(e,r);case"angleAxis":return tx(e,r);case"radiusAxis":return rx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},I2=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function D2(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var ax=e=>e.graphicalItems.cartesianItems,sW=J([Xt,Ah],D2),R2=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),ru=J([ax,rn,sW],R2),M2=J([ru],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Oh)),$2=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),L2=J([ru],$2),F2=e=>e.map(t=>t.data).filter(Boolean).flat(1),aW=J([ru],F2),U2=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},ox=J([aW,Y0],U2),z2=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Vr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Vr(i,n)}))):e.map(n=>({value:n})),Ph=J([ox,rn,ru],z2);function B2(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Ha(e){return e.filter(t=>Ri(t)||t instanceof Date).map(Number).filter(t=>Wn(t)===!1)}function oW(e,t,r){return!r||typeof t!="number"||Wn(t)?[]:r.length?Ha(r.flatMap(n=>{var i=Vr(e,n.dataKey),s,l;if(Array.isArray(i)?[s,l]=i:s=l=i,!(!bn(s)||!bn(l)))return[t-s,t+l]})):[]}var lW=J([M2,Y0,vr],O2),V2=(e,t,r)=>{var n={},i=t.reduce((s,l)=>(l.stackId==null||(s[l.stackId]==null&&(s[l.stackId]=[]),s[l.stackId].push(l)),s),n);return Object.fromEntries(Object.entries(i).map(s=>{var[l,u]=s,f=u.map(ix);return[l,{stackedData:gU(e,f,r),graphicalItems:u}]}))},jy=J([lW,M2,Nh],V2),W2=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(r!=="zAxis"){var s=bU(e,n,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},cW=J([jy,ea,Xt],W2),q2=(e,t,r,n,i)=>r.length>0?e.flatMap(s=>r.flatMap(l=>{var u,f,m=(u=n[l.id])===null||u===void 0?void 0:u.filter(p=>B2(i,p)),h=Vr(s,(f=t.dataKey)!==null&&f!==void 0?f:l.dataKey);return{value:h,errorDomain:oW(s,h,m)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(s=>({value:Vr(s,t.dataKey),errorDomain:[]})):e.map(s=>({value:s,errorDomain:[]})),Th=e=>e.errorBars,H2=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>B2(r,n));J([L2,Th,Xt],H2);var uW=J([ox,rn,L2,Th,Xt],q2);function dW(e){var{value:t}=e;if(Ri(t)||t instanceof Date)return t}var Nk=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=Ha(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},fW=(e,t,r)=>{var n=e.map(dW).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&cC(n))?NA(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},lx=e=>{var t;if(e==null||!("domain"in e))return _y;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Ha(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:_y},Lf=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),l=Math.min(...s),u=Math.max(...s);return[l,u]}},K2=e=>e.referenceElements.dots,cl=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),hW=J([K2,Xt,Ah],cl),G2=e=>e.referenceElements.areas,mW=J([G2,Xt,Ah],cl),Y2=e=>e.referenceElements.lines,pW=J([Y2,Xt,Ah],cl),J2=(e,t)=>{var r=Ha(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},gW=J(hW,Xt,J2),Q2=(e,t)=>{var r=Ha(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},vW=J([mW,Xt],Q2),X2=(e,t)=>{var r=Ha(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},yW=J(pW,Xt,X2),xW=J(gW,yW,vW,(e,t,r)=>Lf(e,r,t)),wW=J([rn],lx),Z2=(e,t,r,n,i,s,l)=>{var u=DV(t,e.allowDataOverflow);if(u!=null)return u;var f=s==="vertical"&&l==="xAxis"||s==="horizontal"&&l==="yAxis",m=f?Lf(r,i,Nk(n)):Lf(i,Nk(n));return RV(t,m,e.allowDataOverflow)},bW=J([rn,wW,cW,uW,xW,pt,Xt],Z2),SW=[0,1],eO=(e,t,r,n,i,s,l)=>{if(!((e==null||r==null||r.length===0)&&l===void 0)){var{dataKey:u,type:f}=e,m=Va(t,s);return m&&u==null?NA(0,r.length):f==="category"?fW(n,e,m):i==="expand"?SW:l}},cx=J([rn,pt,ox,Ph,Nh,Xt,bW],eO),tO=(e,t,r,n,i)=>{if(e!=null){var{scale:s,type:l}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":l==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var u="scale".concat(Hc(s));return u in mc?u:"point"}}},nu=J([rn,pt,I2,X0,Xt],tO);function _W(e){if(e!=null){if(e in mc)return mc[e]();var t="scale".concat(Hc(e));if(t in mc)return mc[t]()}}function ux(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=_W(t);if(i!=null){var s=i.domain(r).range(n);return dU(s),s}}}var rO=(e,t,r)=>{var n=lx(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&qo(e))return qV(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&qo(e))return HV(e,t.tickCount,t.allowDecimals)}},dx=J([cx,tu,nu],rO),nO=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&qo(t)&&Array.isArray(r)&&r.length>0){var i=t[0],s=r[0],l=t[1],u=r[r.length-1];return[Math.min(i,s),Math.max(l,u)]}return t},jW=J([rn,cx,dx,Xt],nO),kW=J(Ph,rn,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Ha(e.map(u=>u.value))).sort((u,f)=>u-f);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var s=0;s<n.length-1;s++){var l=n[s+1]-n[s];r=Math.min(r,l)}return r/i}}),iO=J(kW,pt,S2,pr,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!bn(e))return 0;var s=t==="vertical"?n.height:n.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var l=hi(r,e*s),u=e*s/2;return u-l-(u-l)/s*l}return 0}),NW=(e,t)=>{var r=hs(e,t);return r==null||typeof r.padding!="string"?0:iO(e,"xAxis",t,r.padding)},EW=(e,t)=>{var r=ms(e,t);return r==null||typeof r.padding!="string"?0:iO(e,"yAxis",t,r.padding)},CW=J(hs,NW,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),AW=J(ms,EW,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),OW=J([pr,CW,yh,vh,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),PW=J([pr,pt,AW,yh,vh,(e,t,r)=>r],(e,t,r,n,i,s)=>{var{padding:l}=i;return s?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),iu=(e,t,r,n)=>{var i;switch(t){case"xAxis":return OW(e,r,n);case"yAxis":return PW(e,r,n);case"zAxis":return(i=sx(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return N2(e);case"radiusAxis":return E2(e,r);default:return}},sO=J([rn,iu],Eh),ul=J([rn,nu,jW,sO],ux);J([ru,Th,Xt],H2);function aO(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Ih=(e,t)=>t,Dh=(e,t,r)=>r,TW=J(ph,Ih,Dh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(aO)),IW=J(gh,Ih,Dh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(aO)),oO=(e,t)=>({width:e.width,height:t.height}),DW=(e,t)=>{var r=typeof t.width=="number"?t.width:Jc;return{width:r,height:e.height}},lO=J(pr,hs,oO),RW=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},MW=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},$W=J(ds,pr,TW,Ih,Dh,(e,t,r,n,i)=>{var s={},l;return r.forEach(u=>{var f=oO(t,u);l==null&&(l=RW(t,n,e));var m=n==="top"&&!i||n==="bottom"&&i;s[u.id]=l-Number(m)*f.height,l+=(m?-1:1)*f.height}),s}),LW=J(us,pr,IW,Ih,Dh,(e,t,r,n,i)=>{var s={},l;return r.forEach(u=>{var f=DW(t,u);l==null&&(l=MW(t,n,e));var m=n==="left"&&!i||n==="right"&&i;s[u.id]=l-Number(m)*f.width,l+=(m?-1:1)*f.width}),s}),FW=(e,t)=>{var r=hs(e,t);if(r!=null)return $W(e,r.orientation,r.mirror)},UW=J([pr,hs,FW,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),zW=(e,t)=>{var r=ms(e,t);if(r!=null)return LW(e,r.orientation,r.mirror)},BW=J([pr,ms,zW,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),cO=J(pr,ms,(e,t)=>{var r=typeof t.width=="number"?t.width:Jc;return{width:r,height:e.height}}),Ek=(e,t,r)=>{switch(t){case"xAxis":return lO(e,r).width;case"yAxis":return cO(e,r).height;default:return}},uO=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:l}=r,u=Va(e,n),f=t.map(m=>m.value);if(l&&u&&s==="category"&&i&&cC(f))return f}},fx=J([pt,Ph,rn,Xt],uO),dO=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,l=Va(e,n);if(l&&(i==="number"||s!=="auto"))return t.map(u=>u.value)}},hx=J([pt,Ph,tu,Xt],dO);J([pt,iW,nu,ul,fx,hx,iu,dx,Xt],(e,t,r,n,i,s,l,u,f)=>{if(t==null)return null;var m=Va(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:s,duplicateDomain:i,isCategorical:m,niceTicks:u,range:l,realScaleType:r,scale:n}});var VW=(e,t,r,n,i,s,l,u,f)=>{if(!(t==null||n==null)){var m=Va(e,f),{type:h,ticks:p,tickCount:v}=t,w=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,_=h==="category"&&n.bandwidth?n.bandwidth()/w:0;_=f==="angleAxis"&&s!=null&&s.length>=2?vn(s[0]-s[1])*2*_:_;var b=p||i;if(b){var x=b.map((k,N)=>{var E=l?l.indexOf(k):k;return{index:N,coordinate:n(E)+_,value:k,offset:_}});return x.filter(k=>!Wn(k.coordinate))}return m&&u?u.map((k,N)=>({coordinate:n(k)+_,value:k,index:N,offset:_})):n.ticks?n.ticks(v).map(k=>({coordinate:n(k)+_,value:k,offset:_})):n.domain().map((k,N)=>({coordinate:n(k)+_,value:l?l[k]:k,index:N,offset:_}))}},fO=J([pt,tu,nu,ul,dx,iu,fx,hx,Xt],VW),WW=(e,t,r,n,i,s,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var u=Va(e,l),{tickCount:f}=t,m=0;return m=l==="angleAxis"&&(n==null?void 0:n.length)>=2?vn(n[0]-n[1])*2*m:m,u&&s?s.map((h,p)=>({coordinate:r(h)+m,value:h,index:p,offset:m})):r.ticks?r.ticks(f).map(h=>({coordinate:r(h)+m,value:h,offset:m})):r.domain().map((h,p)=>({coordinate:r(h)+m,value:i?i[h]:h,index:p,offset:m}))}},Ho=J([pt,tu,ul,iu,fx,hx,Xt],WW),Ko=J(rn,ul,(e,t)=>{if(!(e==null||t==null))return $f($f({},e),{},{scale:t})}),qW=J([rn,nu,cx,sO],ux);J((e,t,r)=>sx(e,r),qW,(e,t)=>{if(!(e==null||t==null))return $f($f({},e),{},{scale:t})});var HW=J([pt,ph,gh],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),hO=e=>e.options.defaultTooltipEventType,mO=e=>e.options.validateTooltipEventTypes;function pO(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function mx(e,t){var r=hO(e),n=mO(e);return pO(t,r,n)}function KW(e){return We(t=>mx(t,e))}var gO=(e,t)=>{var r,n=Number(t);if(!(Wn(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},GW=e=>e.tooltip.settings,Ws={active:!1,index:null,dataKey:void 0,coordinate:void 0},YW={itemInteraction:{click:Ws,hover:Ws},axisInteraction:{click:Ws,hover:Ws},keyboardInteraction:Ws,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},vO=_n({name:"tooltip",initialState:YW,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=rs(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:JW,removeTooltipEntrySettings:QW,setTooltipSettingsState:XW,setActiveMouseOverItemIndex:yO,mouseLeaveItem:ZW,mouseLeaveChart:xO,setActiveClickItemIndex:eq,setMouseOverAxisIndex:wO,setMouseClickAxisIndex:tq,setSyncInteraction:ky,setKeyboardInteraction:Ny}=vO.actions,rq=vO.reducer;function Ck(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ck(Object(r),!0).forEach(function(n){nq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ck(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nq(e,t,r){return(t=iq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iq(e){var t=sq(e,"string");return typeof t=="symbol"?t:t+""}function sq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aq(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function oq(e){return e.index!=null}var bO=(e,t,r,n)=>{if(t==null)return Ws;var i=aq(e,t,r);if(i==null)return Ws;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(oq(i)){if(s)return Rd(Rd({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Rd(Rd({},Ws),{},{coordinate:i.coordinate})},px=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!bn(n))return r;var i=0,s=1/0;return t.length>0&&(s=t.length-1),String(Math.max(i,Math.min(n,s)))},SO=(e,t,r,n,i,s,l,u)=>{if(!(s==null||u==null)){var f=l[0],m=f==null?void 0:u(f.positions,s);if(m!=null)return m;var h=i==null?void 0:i[Number(s)];if(h)switch(r){case"horizontal":return{x:h.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:h.coordinate}}}},_O=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.dataKey)===i})},su=e=>e.options.tooltipPayloadSearcher,dl=e=>e.tooltip;function Ak(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ok(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ak(Object(r),!0).forEach(function(n){lq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ak(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lq(e,t,r){return(t=cq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cq(e){var t=uq(e,"string");return typeof t=="symbol"?t:t+""}function uq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dq(e,t){return e??t}var jO=(e,t,r,n,i,s,l)=>{if(!(t==null||s==null)){var{chartData:u,computedData:f,dataStartIndex:m,dataEndIndex:h}=r,p=[];return e.reduce((v,w)=>{var _,{dataDefinedOnItem:b,settings:x}=w,k=dq(b,u),N=Array.isArray(k)?hA(k,m,h):k,E=(_=x==null?void 0:x.dataKey)!==null&&_!==void 0?_:n,A=x==null?void 0:x.nameKey,P;if(n&&Array.isArray(N)&&!Array.isArray(N[0])&&l==="axis"?P=tL(N,n,i):P=s(N,t,f,A),Array.isArray(P))P.forEach(L=>{var G=Ok(Ok({},x),{},{name:L.name,unit:L.unit,color:void 0,fill:void 0});v.push(pj({tooltipEntrySettings:G,dataKey:L.dataKey,payload:L.payload,value:Vr(L.payload,L.dataKey),name:L.name}))});else{var I;v.push(pj({tooltipEntrySettings:x,dataKey:E,payload:P,value:Vr(P,E),name:(I=Vr(P,A))!==null&&I!==void 0?I:x==null?void 0:x.name}))}return v},p)}},gx=J([vr,pt,I2,X0,ar],tO),fq=J([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),hq=J([ar,ll],D2),au=J([fq,vr,hq],R2),mq=J([au],e=>e.filter(Oh)),pq=J([au],F2),fl=J([pq,ea],U2),gq=J([mq,ea,vr],O2),vx=J([fl,vr,au],z2),vq=J([vr],lx),yq=J([au],e=>e.filter(Oh)),xq=J([gq,yq,Nh],V2),wq=J([xq,ea,ar],W2),bq=J([au],$2),Sq=J([fl,vr,bq,Th,ar],q2),_q=J([K2,ar,ll],cl),jq=J([_q,ar],J2),kq=J([G2,ar,ll],cl),Nq=J([kq,ar],Q2),Eq=J([Y2,ar,ll],cl),Cq=J([Eq,ar],X2),Aq=J([jq,Cq,Nq],Lf),Oq=J([vr,vq,wq,Sq,Aq,pt,ar],Z2),kO=J([vr,pt,fl,vx,Nh,ar,Oq],eO),Pq=J([kO,vr,gx],rO),Tq=J([vr,kO,Pq,ar],nO),NO=e=>{var t=ar(e),r=ll(e),n=!1;return iu(e,t,r,n)},EO=J([vr,NO],Eh),CO=J([vr,gx,Tq,EO],ux),Iq=J([pt,vx,vr,ar],uO),Dq=J([pt,vx,vr,ar],dO),Rq=(e,t,r,n,i,s,l,u)=>{if(t){var{type:f}=t,m=Va(e,u);if(n){var h=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,p=f==="category"&&n.bandwidth?n.bandwidth()/h:0;return p=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?vn(i[0]-i[1])*2*p:p,m&&l?l.map((v,w)=>({coordinate:n(v)+p,value:v,index:w,offset:p})):n.domain().map((v,w)=>({coordinate:n(v)+p,value:s?s[v]:v,index:w,offset:p}))}}},ps=J([pt,vr,gx,CO,NO,Iq,Dq,ar],Rq),yx=J([hO,mO,GW],(e,t,r)=>pO(r.shared,e,t)),AO=e=>e.tooltip.settings.trigger,xx=e=>e.tooltip.settings.defaultIndex,Rh=J([dl,yx,AO,xx],bO),Go=J([Rh,fl],px),OO=J([ps,Go],gO),PO=J([Rh],e=>{if(e)return e.dataKey}),TO=J([dl,yx,AO,xx],_O),Mq=J([us,ds,pt,pr,ps,xx,TO,su],SO),$q=J([Rh,Mq],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Lq=J([Rh],e=>e.active),Fq=J([TO,Go,ea,A2,OO,su,yx],jO);J([Fq],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function Pk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pk(Object(r),!0).forEach(function(n){Uq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uq(e,t,r){return(t=zq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zq(e){var t=Bq(e,"string");return typeof t=="symbol"?t:t+""}function Bq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vq=()=>We(vr),Wq=()=>{var e=Vq(),t=We(ps),r=We(CO);return w0(Tk(Tk({},e),{},{scale:r}),t)},qq=()=>We(X0),wx=(e,t)=>t,IO=(e,t,r)=>r,bx=(e,t,r,n)=>n,Hq=J(ps,e=>ch(e,t=>t.coordinate)),Sx=J([dl,wx,IO,bx],bO),DO=J([Sx,fl],px),Kq=(e,t,r)=>{if(t!=null){var n=dl(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},RO=J([dl,wx,IO,bx],_O),Ff=J([us,ds,pt,pr,ps,bx,RO,su],SO),Gq=J([Sx,Ff],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),MO=J(ps,DO,gO),Yq=J([RO,DO,ea,A2,MO,su,wx],jO),Jq=J([Sx],e=>({isActive:e.active,activeIndex:e.index})),Qq=(e,t,r,n,i,s,l,u)=>{if(!(!e||!t||!n||!i||!s)){var f=SU(e.chartX,e.chartY,t,r,u);if(f){var m=jU(f,t),h=cU(m,l,s,n,i),p=_U(t,s,h,f);return{activeIndex:String(h),activeCoordinate:p}}}};function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ey.apply(null,arguments)}function Ik(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Md(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ik(Object(r),!0).forEach(function(n){Xq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ik(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xq(e,t,r){return(t=Zq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zq(e){var t=e9(e,"string");return typeof t=="symbol"?t:t+""}function e9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t9(e){var{coordinate:t,payload:r,index:n,offset:i,tooltipAxisBandSize:s,layout:l,cursor:u,tooltipEventType:f,chartName:m}=e,h=t,p=r,v=n;if(!u||!h||m!=="ScatterChart"&&f!=="axis")return null;var w,_;if(m==="ScatterChart")w=h,_=xz;else if(m==="BarChart")w=wz(l,h,i,s),_=SA;else if(l==="radial"){var{cx:b,cy:x,radius:k,startAngle:N,endAngle:E}=_A(h);w={cx:b,cy:x,startAngle:N,endAngle:E,innerRadius:k,outerRadius:k},_=kA}else w={points:Zz(l,h,i)},_=uz;var A=typeof u=="object"&&"className"in u?u.className:void 0,P=Md(Md(Md(Md({stroke:"#ccc",pointerEvents:"none"},i),w),Er(u,!1)),{},{payload:p,payloadIndex:v,className:Ot("recharts-tooltip-cursor",A)});return S.isValidElement(u)?S.cloneElement(u,P):S.createElement(_,P)}function r9(e){var t=Wq(),r=FU(),n=_0(),i=qq();return S.createElement(t9,Ey({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var $O=S.createContext(null),n9=()=>S.useContext($O),nv={exports:{}},Dk;function i9(){return Dk||(Dk=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(f,m,h){this.fn=f,this.context=m,this.once=h||!1}function s(f,m,h,p,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var w=new i(h,p||f,v),_=r?r+m:m;return f._events[_]?f._events[_].fn?f._events[_]=[f._events[_],w]:f._events[_].push(w):(f._events[_]=w,f._eventsCount++),f}function l(f,m){--f._eventsCount===0?f._events=new n:delete f._events[m]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var m=[],h,p;if(this._eventsCount===0)return m;for(p in h=this._events)t.call(h,p)&&m.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(h)):m},u.prototype.listeners=function(m){var h=r?r+m:m,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,w=p.length,_=new Array(w);v<w;v++)_[v]=p[v].fn;return _},u.prototype.listenerCount=function(m){var h=r?r+m:m,p=this._events[h];return p?p.fn?1:p.length:0},u.prototype.emit=function(m,h,p,v,w,_){var b=r?r+m:m;if(!this._events[b])return!1;var x=this._events[b],k=arguments.length,N,E;if(x.fn){switch(x.once&&this.removeListener(m,x.fn,void 0,!0),k){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,h),!0;case 3:return x.fn.call(x.context,h,p),!0;case 4:return x.fn.call(x.context,h,p,v),!0;case 5:return x.fn.call(x.context,h,p,v,w),!0;case 6:return x.fn.call(x.context,h,p,v,w,_),!0}for(E=1,N=new Array(k-1);E<k;E++)N[E-1]=arguments[E];x.fn.apply(x.context,N)}else{var A=x.length,P;for(E=0;E<A;E++)switch(x[E].once&&this.removeListener(m,x[E].fn,void 0,!0),k){case 1:x[E].fn.call(x[E].context);break;case 2:x[E].fn.call(x[E].context,h);break;case 3:x[E].fn.call(x[E].context,h,p);break;case 4:x[E].fn.call(x[E].context,h,p,v);break;default:if(!N)for(P=1,N=new Array(k-1);P<k;P++)N[P-1]=arguments[P];x[E].fn.apply(x[E].context,N)}}return!0},u.prototype.on=function(m,h,p){return s(this,m,h,p,!1)},u.prototype.once=function(m,h,p){return s(this,m,h,p,!0)},u.prototype.removeListener=function(m,h,p,v){var w=r?r+m:m;if(!this._events[w])return this;if(!h)return l(this,w),this;var _=this._events[w];if(_.fn)_.fn===h&&(!v||_.once)&&(!p||_.context===p)&&l(this,w);else{for(var b=0,x=[],k=_.length;b<k;b++)(_[b].fn!==h||v&&!_[b].once||p&&_[b].context!==p)&&x.push(_[b]);x.length?this._events[w]=x.length===1?x[0]:x:l(this,w)}return this},u.prototype.removeAllListeners=function(m){var h;return m?(h=r?r+m:m,this._events[h]&&l(this,h)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(nv)),nv.exports}var s9=i9();const a9=mi(s9);var $c=new a9,Cy="recharts.syncEvent.tooltip",Rk="recharts.syncEvent.brush";function o9(e,t){if(t){var r=Number.parseInt(t,10);if(!Wn(r))return e==null?void 0:e[r]}}var l9={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},LO=_n({name:"options",initialState:l9,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),c9=LO.reducer,{createEventEmitter:u9}=LO.actions;function d9(e){return e.tooltip.syncInteraction}var f9={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},FO=_n({name:"chartData",initialState:f9,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:Mk,setDataStartEndIndexes:h9,setComputedData:JJ}=FO.actions,m9=FO.reducer,p9=["x","y"];function $k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$k(Object(r),!0).forEach(function(n){g9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$k(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g9(e,t,r){return(t=v9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v9(e){var t=y9(e,"string");return typeof t=="symbol"?t:t+""}function y9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x9(e,t){if(e==null)return{};var r,n,i=w9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function w9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var UO=()=>{};function b9(){var e=We(Z0),t=We(ex),r=mr(),n=We(_2),i=We(ps),s=_0(),l=S0(),u=We(f=>f.rootProps.className);S.useEffect(()=>{if(e==null)return UO;var f=(m,h,p)=>{if(t!==p&&e===m){if(n==="index"){var v;if(l&&h!==null&&h!==void 0&&(v=h.payload)!==null&&v!==void 0&&v.coordinate){var w=h.payload.coordinate,{x:_,y:b}=w,x=x9(w,p9),k=pa(pa(pa({},x),typeof _=="number"&&{x:Math.max(l.x,Math.min(_,l.x+l.width))}),typeof b=="number"&&{y:Math.max(l.y,Math.min(b,l.y+l.height))}),N=pa(pa({},h),{},{payload:pa(pa({},h.payload),{},{coordinate:k})});r(N)}else r(h);return}if(i!=null){var E;if(typeof n=="function"){var A={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},P=n(i,A);E=i[P]}else n==="value"&&(E=i.find(ee=>String(ee.value)===h.payload.label));var{coordinate:I}=h.payload;if(E==null||h.payload.active===!1||I==null||l==null){r(ky({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:L,y:G}=I,W=Math.min(L,l.x+l.width),U=Math.min(G,l.y+l.height),z={x:s==="horizontal"?E.coordinate:W,y:s==="horizontal"?U:E.coordinate},V=ky({active:h.payload.active,coordinate:z,dataKey:h.payload.dataKey,index:String(E.index),label:h.payload.label});r(V)}}};return $c.on(Cy,f),()=>{$c.off(Cy,f)}},[u,r,t,e,n,i,s,l])}function S9(){var e=We(Z0),t=We(ex),r=mr();S.useEffect(()=>{if(e==null)return UO;var n=(i,s,l)=>{t!==l&&e===i&&r(h9(s))};return $c.on(Rk,n),()=>{$c.off(Rk,n)}},[r,t,e])}function _9(){var e=mr();S.useEffect(()=>{e(u9())},[e]),b9(),S9()}function j9(e,t,r,n,i,s){var l=We(v=>Kq(v,e,t)),u=We(ex),f=We(Z0),m=We(_2),h=We(d9),p=h==null?void 0:h.active;S.useEffect(()=>{if(!p&&f!=null&&u!=null){var v=ky({active:s,coordinate:r,dataKey:l,index:i,label:typeof n=="number"?String(n):n});$c.emit(Cy,f,v,u)}},[p,r,l,i,n,u,f,m,s])}function Lk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lk(Object(r),!0).forEach(function(n){k9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k9(e,t,r){return(t=N9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N9(e){var t=E9(e,"string");return typeof t=="symbol"?t:t+""}function E9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C9(e){return e.dataKey}function A9(e,t){return S.isValidElement(e)?S.cloneElement(e,t):typeof e=="function"?S.createElement(e,t):S.createElement(JU,t)}var Uk=[],O9={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!il.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function P9(e){var t=yi(e,O9),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:s,content:l,filterNull:u,isAnimationActive:f,offset:m,payloadUniqBy:h,position:p,reverseDirection:v,useTranslate3d:w,wrapperStyle:_,cursor:b,shared:x,trigger:k,defaultIndex:N,portal:E,axisId:A}=t,P=mr(),I=typeof N=="number"?String(N):N;S.useEffect(()=>{P(XW({shared:x,trigger:k,axisId:A,active:r,defaultIndex:I}))},[P,x,k,A,r,I]);var L=S0(),G=vA(),W=KW(x),{activeIndex:U,isActive:z}=We(ne=>Jq(ne,W,k,I)),V=We(ne=>Yq(ne,W,k,I)),ee=We(ne=>MO(ne,W,k,I)),X=We(ne=>Gq(ne,W,k,I)),ae=V,xe=n9(),ye=r??z,[re,le]=X5([ae,ye]),ce=W==="axis"?ee:void 0;j9(W,k,X,ce,U,ye);var M=E??xe;if(M==null)return null;var D=ae??Uk;ye||(D=Uk),u&&D.length&&(D=j5(ae.filter(ne=>ne.value!=null&&(ne.hide!==!0||t.includeHidden)),h,C9));var te=D.length>0,Se=S.createElement(nz,{allowEscapeViewBox:n,animationDuration:i,animationEasing:s,isAnimationActive:f,active:ye,coordinate:X,hasPayload:te,offset:m,position:p,reverseDirection:v,useTranslate3d:w,viewBox:L,wrapperStyle:_,lastBoundingBox:re,innerRef:le,hasPortalFromProps:!!E},A9(l,Fk(Fk({},t),{},{payload:D,label:ce,active:ye,coordinate:X,accessibilityLayer:G})));return S.createElement(S.Fragment,null,X4.createPortal(Se,M),ye&&S.createElement(r9,{cursor:b,tooltipEventType:W,coordinate:X,payload:ae,index:U}))}var iv={},sv={},av={},zk;function T9(){return zk||(zk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:s}={}){let l,u=null;const f=s!=null&&s.includes("leading"),m=s==null||s.includes("trailing"),h=()=>{u!==null&&(r.apply(l,u),l=void 0,u=null)},p=()=>{m&&h(),b()};let v=null;const w=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,p()},n)},_=()=>{v!==null&&(clearTimeout(v),v=null)},b=()=>{_(),l=void 0,u=null},x=()=>{h()},k=function(...N){if(i!=null&&i.aborted)return;l=this,u=N;const E=v==null;w(),f&&E&&h()};return k.schedule=w,k.cancel=b,k.flush=x,i==null||i.addEventListener("abort",b,{once:!0}),k}e.debounce=t})(av)),av}var Bk;function I9(){return Bk||(Bk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T9();function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:u=!0,maxWait:f}=s,m=Array(2);l&&(m[0]="leading"),u&&(m[1]="trailing");let h,p=null;const v=t.debounce(function(...b){h=n.apply(this,b),p=null},i,{edges:m}),w=function(...b){return f!=null&&(p===null&&(p=Date.now()),Date.now()-p>=f)?(h=n.apply(this,b),p=Date.now(),v.cancel(),v.schedule(),h):(v.apply(this,b),h)},_=()=>(v.flush(),h);return w.cancel=v.cancel,w.flush=_,w}e.debounce=r})(sv)),sv}var Vk;function D9(){return Vk||(Vk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I9();function r(n,i=0,s={}){const{leading:l=!0,trailing:u=!0}=s;return t.debounce(n,i,{leading:l,maxWait:i,trailing:u})}e.throttle=r})(iv)),iv}var ov,Wk;function R9(){return Wk||(Wk=1,ov=D9().throttle),ov}var M9=R9();const $9=mi(M9);var lv=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function qk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qk(Object(r),!0).forEach(function(n){L9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L9(e,t,r){return(t=F9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F9(e){var t=U9(e,"string");return typeof t=="symbol"?t:t+""}function U9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z9=S.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:l=0,minHeight:u,maxHeight:f,children:m,debounce:h=0,id:p,className:v,onResize:w,style:_={}}=e,b=S.useRef(null),x=S.useRef();x.current=w,S.useImperativeHandle(t,()=>b.current);var[k,N]=S.useState({containerWidth:n.width,containerHeight:n.height}),E=S.useCallback((P,I)=>{N(L=>{var G=Math.round(P),W=Math.round(I);return L.containerWidth===G&&L.containerHeight===W?L:{containerWidth:G,containerHeight:W}})},[]);S.useEffect(()=>{var P=W=>{var U,{width:z,height:V}=W[0].contentRect;E(z,V),(U=x.current)===null||U===void 0||U.call(x,z,V)};h>0&&(P=$9(P,h,{trailing:!0,leading:!1}));var I=new ResizeObserver(P),{width:L,height:G}=b.current.getBoundingClientRect();return E(L,G),I.observe(b.current),()=>{I.disconnect()}},[E,h]);var A=S.useMemo(()=>{var{containerWidth:P,containerHeight:I}=k;if(P<0||I<0)return null;lv(ka(i)||ka(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,s),lv(!r||r>0,"The aspect(%s) must be greater than zero.",r);var L=ka(i)?P:i,G=ka(s)?I:s;return r&&r>0&&(L?G=L/r:G&&(L=G*r),f&&G>f&&(G=f)),lv(L>0||G>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,G,i,s,l,u,r),S.Children.map(m,W=>S.cloneElement(W,{width:L,height:G,style:cv({width:L,height:G},W.props.style)}))},[r,m,s,f,u,l,k,i]);return S.createElement("div",{id:p?"".concat(p):void 0,className:Ot("recharts-responsive-container",v),style:cv(cv({},_),{},{width:i,height:s,minWidth:l,minHeight:u,maxHeight:f}),ref:b},S.createElement("div",{style:{width:0,height:0,overflow:"visible"}},A))}),_x=e=>null;_x.displayName="Cell";function B9(e,t,r){return(t=V9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V9(e){var t=W9(e,"string");return typeof t=="symbol"?t:t+""}function W9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class q9{constructor(t){B9(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function Hk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function H9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hk(Object(r),!0).forEach(function(n){K9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K9(e,t,r){return(t=G9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G9(e){var t=Y9(e,"string");return typeof t=="symbol"?t:t+""}function Y9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var J9={cacheSize:2e3,enableCache:!0},zO=H9({},J9),Kk=new q9(zO.cacheSize),Q9={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Gk="recharts_measurement_span";function X9(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(l,"|").concat(u)}var Yk=(e,t)=>{try{var r=document.getElementById(Gk);r||(r=document.createElement("span"),r.setAttribute("id",Gk),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Q9,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Sc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||il.isSsr)return{width:0,height:0};if(!zO.enableCache)return Yk(t,r);var n=X9(t,r),i=Kk.get(n);if(i)return i;var s=Yk(t,r);return Kk.set(n,s),s},Jk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Qk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Z9=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,e7=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,BO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},t7=Object.keys(BO),Io="NaN";function r7(e,t){return e*BO[t]}class en{static parse(t){var r,[,n,i]=(r=e7.exec(t))!==null&&r!==void 0?r:[];return new en(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Wn(t)&&(this.unit=""),r!==""&&!Z9.test(r)&&(this.num=NaN,this.unit=""),t7.includes(r)&&(this.num=r7(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new en(NaN,""):new en(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new en(NaN,""):new en(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new en(NaN,""):new en(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new en(NaN,""):new en(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Wn(this.num)}}function VO(e){if(e.includes(Io))return Io;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,s]=(r=Jk.exec(t))!==null&&r!==void 0?r:[],l=en.parse(n??""),u=en.parse(s??""),f=i==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return Io;t=t.replace(Jk,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,h,p,v]=(m=Qk.exec(t))!==null&&m!==void 0?m:[],w=en.parse(h??""),_=en.parse(v??""),b=p==="+"?w.add(_):w.subtract(_);if(b.isNaN())return Io;t=t.replace(Qk,b.toString())}return t}var Xk=/\(([^()]*)\)/;function n7(e){for(var t=e,r;(r=Xk.exec(t))!=null;){var[,n]=r;t=t.replace(Xk,VO(n))}return t}function i7(e){var t=e.replace(/\s+/g,"");return t=n7(t),t=VO(t),t}function s7(e){try{return i7(e)}catch{return Io}}function uv(e){var t=s7(e.slice(5,-1));return t===Io?"":t}var a7=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],o7=["dx","dy","angle","className","breakAll"];function Ay(){return Ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ay.apply(null,arguments)}function Zk(e,t){if(e==null)return{};var r,n,i=l7(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function l7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var WO=/[ \f\n\r\t\v\u2028\u2029]+/,qO=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];hr(t)||(r?i=t.toString().split(""):i=t.toString().split(WO));var s=i.map(u=>({word:u,width:Sc(u,n).width})),l=r?0:Sc("",n).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},c7=(e,t,r,n,i)=>{var{maxLines:s,children:l,style:u,breakAll:f}=e,m=Je(s),h=l,p=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce((V,ee)=>{var{word:X,width:ae}=ee,xe=V[V.length-1];if(xe&&(n==null||i||xe.width+ae+r<Number(n)))xe.words.push(X),xe.width+=ae+r;else{var ye={words:[X],width:ae};V.push(ye)}return V},[])},v=p(t),w=U=>U.reduce((z,V)=>z.width>V.width?z:V);if(!m||i)return v;var _=v.length>s||w(v).width>Number(n);if(!_)return v;for(var b="",x=U=>{var z=h.slice(0,U),V=qO({breakAll:f,style:u,children:z+b}).wordsWithComputedWidth,ee=p(V),X=ee.length>s||w(ee).width>Number(n);return[X,ee]},k=0,N=h.length-1,E=0,A;k<=N&&E<=h.length-1;){var P=Math.floor((k+N)/2),I=P-1,[L,G]=x(I),[W]=x(P);if(!L&&!W&&(k=P+1),L&&W&&(N=P-1),!L&&W){A=G;break}E++}return A||v},eN=e=>{var t=hr(e)?[]:e.toString().split(WO);return[{words:t}]},u7=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:l}=e;if((t||r)&&!il.isSsr){var u,f,m=qO({breakAll:s,children:n,style:i});if(m){var{wordsWithComputedWidth:h,spaceWidth:p}=m;u=h,f=p}else return eN(n);return c7({breakAll:s,children:n,maxLines:l,style:i},u,f,t,r)}return eN(n)},tN="#808080",jx=S.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:l=!1,textAnchor:u="start",verticalAnchor:f="end",fill:m=tN}=e,h=Zk(e,a7),p=S.useMemo(()=>u7({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:l,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,l,h.style,h.width]),{dx:v,dy:w,angle:_,className:b,breakAll:x}=h,k=Zk(h,o7);if(!Ri(r)||!Ri(n)||p.length===0)return null;var N=r+(Je(v)?v:0),E=n+(Je(w)?w:0),A;switch(f){case"start":A=uv("calc(".concat(s,")"));break;case"middle":A=uv("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:A=uv("calc(".concat(p.length-1," * -").concat(i,")"));break}var P=[];if(l){var I=p[0].width,{width:L}=h;P.push("scale(".concat(Je(L)?L/I:1,")"))}return _&&P.push("rotate(".concat(_,", ").concat(N,", ").concat(E,")")),P.length&&(k.transform=P.join(" ")),S.createElement("text",Ay({},Er(k,!0),{ref:t,x:N,y:E,className:Ot("recharts-text",b),textAnchor:u,fill:m.includes("url")?tN:m}),p.map((G,W)=>{var U=G.words.join(x?"":" ");return S.createElement("tspan",{x:N,dy:W===0?A:i,key:"".concat(U,"-").concat(W)},U)}))});jx.displayName="Text";var d7=["labelRef"];function f7(e,t){if(e==null)return{};var r,n,i=h7(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function h7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function rN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rN(Object(r),!0).forEach(function(n){m7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m7(e,t,r){return(t=p7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p7(e){var t=g7(e,"string");return typeof t=="symbol"?t:t+""}function g7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xi(){return Xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xi.apply(null,arguments)}var HO=S.createContext(null),v7=e=>{var{x:t,y:r,width:n,height:i,children:s}=e,l=S.useMemo(()=>({x:t,y:r,width:n,height:i}),[t,r,n,i]);return S.createElement(HO.Provider,{value:l},s)},KO=()=>{var e=S.useContext(HO),t=S0();return e||t},y7=S.createContext(null),x7=()=>{var e=S.useContext(y7),t=We(C2);return e||t},w7=e=>{var{value:t,formatter:r}=e,n=hr(e.children)?t:e.children;return typeof r=="function"?r(n):n},kx=e=>e!=null&&typeof e=="function",b7=(e,t)=>{var r=vn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},S7=(e,t,r,n,i)=>{var{offset:s,className:l}=e,{cx:u,cy:f,innerRadius:m,outerRadius:h,startAngle:p,endAngle:v,clockWise:w}=i,_=(m+h)/2,b=b7(p,v),x=b>=0?1:-1,k,N;switch(t){case"insideStart":k=p+x*s,N=w;break;case"insideEnd":k=v-x*s,N=!w;break;case"end":k=v+x*s,N=w;break;default:throw new Error("Unsupported position ".concat(t))}N=b<=0?N:!N;var E=kr(u,f,_,k),A=kr(u,f,_,k+(N?1:-1)*359),P="M".concat(E.x,",").concat(E.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(N?0:1,`,
    `).concat(A.x,",").concat(A.y),I=hr(e.id)?Cc("recharts-radial-line-"):e.id;return S.createElement("text",Xi({},n,{dominantBaseline:"central",className:Ot("recharts-radial-bar-label",l)}),S.createElement("defs",null,S.createElement("path",{id:I,d:P})),S.createElement("textPath",{xlinkHref:"#".concat(I)},r))},_7=(e,t,r)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:l,startAngle:u,endAngle:f}=e,m=(u+f)/2;if(r==="outside"){var{x:h,y:p}=kr(n,i,l+t,m);return{x:h,y:p,textAnchor:h>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(s+l)/2,{x:w,y:_}=kr(n,i,v,m);return{x:w,y:_,textAnchor:"middle",verticalAnchor:"middle"}},GO=e=>"cx"in e&&Je(e.cx),j7=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,s;r!=null&&!GO(r)&&(s=r);var{x:l,y:u,width:f,height:m}=t,h=m>=0?1:-1,p=h*n,v=h>0?"end":"start",w=h>0?"start":"end",_=f>=0?1:-1,b=_*n,x=_>0?"end":"start",k=_>0?"start":"end";if(i==="top"){var N={x:l+f/2,y:u-h*n,textAnchor:"middle",verticalAnchor:v};return Vt(Vt({},N),s?{height:Math.max(u-s.y,0),width:f}:{})}if(i==="bottom"){var E={x:l+f/2,y:u+m+p,textAnchor:"middle",verticalAnchor:w};return Vt(Vt({},E),s?{height:Math.max(s.y+s.height-(u+m),0),width:f}:{})}if(i==="left"){var A={x:l-b,y:u+m/2,textAnchor:x,verticalAnchor:"middle"};return Vt(Vt({},A),s?{width:Math.max(A.x-s.x,0),height:m}:{})}if(i==="right"){var P={x:l+f+b,y:u+m/2,textAnchor:k,verticalAnchor:"middle"};return Vt(Vt({},P),s?{width:Math.max(s.x+s.width-P.x,0),height:m}:{})}var I=s?{width:f,height:m}:{};return i==="insideLeft"?Vt({x:l+b,y:u+m/2,textAnchor:k,verticalAnchor:"middle"},I):i==="insideRight"?Vt({x:l+f-b,y:u+m/2,textAnchor:x,verticalAnchor:"middle"},I):i==="insideTop"?Vt({x:l+f/2,y:u+p,textAnchor:"middle",verticalAnchor:w},I):i==="insideBottom"?Vt({x:l+f/2,y:u+m-p,textAnchor:"middle",verticalAnchor:v},I):i==="insideTopLeft"?Vt({x:l+b,y:u+p,textAnchor:k,verticalAnchor:w},I):i==="insideTopRight"?Vt({x:l+f-b,y:u+p,textAnchor:x,verticalAnchor:w},I):i==="insideBottomLeft"?Vt({x:l+b,y:u+m-p,textAnchor:k,verticalAnchor:v},I):i==="insideBottomRight"?Vt({x:l+f-b,y:u+m-p,textAnchor:x,verticalAnchor:v},I):i&&typeof i=="object"&&(Je(i.x)||ka(i.x))&&(Je(i.y)||ka(i.y))?Vt({x:l+hi(i.x,f),y:u+hi(i.y,m),textAnchor:"end",verticalAnchor:"end"},I):Vt({x:l+f/2,y:u+m/2,textAnchor:"middle",verticalAnchor:"middle"},I)},k7={offset:5};function Us(e){var t=yi(e,k7),{viewBox:r,position:n,value:i,children:s,content:l,className:u="",textBreakAll:f,labelRef:m}=t,h=x7(),p=KO(),v=n==="center"?p:h??p,w=r||v;if(!w||hr(i)&&hr(s)&&!S.isValidElement(l)&&typeof l!="function")return null;var _=Vt(Vt({},t),{},{viewBox:w});if(S.isValidElement(l)){var{labelRef:b}=_,x=f7(_,d7);return S.cloneElement(l,x)}var k;if(typeof l=="function"){if(k=S.createElement(l,_),S.isValidElement(k))return k}else k=w7(t);var N=GO(w),E=Er(t,!0);if(N&&(n==="insideStart"||n==="insideEnd"||n==="end"))return S7(t,n,k,E,w);var A=N?_7(w,t.offset,t.position):j7(t,w);return S.createElement(jx,Xi({ref:m,className:Ot("recharts-label",u)},E,A,{breakAll:f}),k)}Us.displayName="Label";var N7=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?S.createElement(Us,Xi({key:"label-implicit"},n)):Ri(e)?S.createElement(Us,Xi({key:"label-implicit",value:e},n)):S.isValidElement(e)?e.type===Us?S.cloneElement(e,Vt({key:"label-implicit"},n)):S.createElement(Us,Xi({key:"label-implicit",content:e},n)):kx(e)?S.createElement(Us,Xi({key:"label-implicit",content:e},n)):e&&typeof e=="object"?S.createElement(Us,Xi({},e,{key:"label-implicit"},n)):null};function E7(e){var{label:t}=e,r=KO();return N7(t,r)||null}var dv={},fv={},nN;function C7(){return nN||(nN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(fv)),fv}var hv={},iN;function A7(){return iN||(iN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(hv)),hv}var sN;function O7(){return sN||(sN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C7(),r=A7(),n=f0();function i(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=i})(dv)),dv}var mv,aN;function P7(){return aN||(aN=1,mv=O7().last),mv}var T7=P7();const I7=mi(T7);var D7=["valueAccessor"],R7=["dataKey","clockWise","id","textBreakAll"];function Uf(){return Uf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uf.apply(null,arguments)}function oN(e,t){if(e==null)return{};var r,n,i=M7(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function M7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $7=e=>Array.isArray(e.value)?I7(e.value):e.value,YO=S.createContext(void 0),L7=YO.Provider,JO=S.createContext(void 0);JO.Provider;function F7(){return S.useContext(YO)}function U7(){return S.useContext(JO)}function Kd(e){var{valueAccessor:t=$7}=e,r=oN(e,D7),{dataKey:n,clockWise:i,id:s,textBreakAll:l}=r,u=oN(r,R7),f=F7(),m=U7(),h=f||m;return!h||!h.length?null:S.createElement(Gs,{className:"recharts-label-list"},h.map((p,v)=>{var w,_=hr(n)?t(p,v):Vr(p&&p.payload,n),b=hr(s)?{}:{id:"".concat(s,"-").concat(v)};return S.createElement(Us,Uf({},Er(p,!0),u,b,{fill:(w=r.fill)!==null&&w!==void 0?w:p.fill,parentViewBox:p.parentViewBox,value:_,textBreakAll:l,viewBox:p.viewBox,key:"label-".concat(v),index:v}))}))}Kd.displayName="LabelList";function z7(e){var{label:t}=e;return t?t===!0?S.createElement(Kd,{key:"labelList-implicit"}):S.isValidElement(t)||kx(t)?S.createElement(Kd,{key:"labelList-implicit",content:t}):typeof t=="object"?S.createElement(Kd,Uf({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var B7={radiusAxis:{},angleAxis:{}},QO=_n({name:"polarAxis",initialState:B7,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:QJ,removeRadiusAxis:XJ,addAngleAxis:ZJ,removeAngleAxis:eQ}=QO.actions,V7=QO.reducer,pv={},lN;function W7(){return lN||(lN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(pv)),pv}var gv,cN;function q7(){return cN||(cN=1,gv=W7().isPlainObject),gv}var H7=q7();const K7=mi(H7);function uN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uN(Object(r),!0).forEach(function(n){G7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G7(e,t,r){return(t=Y7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y7(e){var t=J7(e,"string");return typeof t=="symbol"?t:t+""}function J7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zf(){return zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zf.apply(null,arguments)}var fN=(e,t,r,n,i)=>{var s=r-n,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+r,",").concat(t),l+="L ".concat(e+r-s/2,",").concat(t+i),l+="L ".concat(e+r-s/2-n,",").concat(t+i),l+="L ".concat(e,",").concat(t," Z"),l},Q7={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},X7=e=>{var t=yi(e,Q7),{x:r,y:n,upperWidth:i,lowerWidth:s,height:l,className:u}=t,{animationEasing:f,animationDuration:m,animationBegin:h,isUpdateAnimationActive:p}=t,v=S.useRef(),[w,_]=S.useState(-1),b=S.useRef(i),x=S.useRef(s),k=S.useRef(l),N=S.useRef(r),E=S.useRef(n),A=k0(e,"trapezoid-");if(S.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var X=v.current.getTotalLength();X&&_(X)}catch{}},[]),r!==+r||n!==+n||i!==+i||s!==+s||l!==+l||i===0&&s===0||l===0)return null;var P=Ot("recharts-trapezoid",u);if(!p)return S.createElement("g",null,S.createElement("path",zf({},Er(t,!0),{className:P,d:fN(r,n,i,s,l)})));var I=b.current,L=x.current,G=k.current,W=N.current,U=E.current,z="0px ".concat(w===-1?1:w,"px"),V="".concat(w,"px 0px"),ee=yA(["strokeDasharray"],m,f);return S.createElement(j0,{animationId:A,key:A,canBegin:w>0,duration:m,easing:f,isActive:p,begin:h},X=>{var ae=Ur(I,i,X),xe=Ur(L,s,X),ye=Ur(G,l,X),re=Ur(W,r,X),le=Ur(U,n,X);v.current&&(b.current=ae,x.current=xe,k.current=ye,N.current=re,E.current=le);var ce=X>0?{transition:ee,strokeDasharray:V}:{strokeDasharray:z};return S.createElement("path",zf({},Er(t,!0),{className:P,d:fN(re,le,ae,xe,ye),ref:v,style:dN(dN({},ce),t.style)}))})},Z7=["option","shapeType","propTransformer","activeClassName","isActive"];function eH(e,t){if(e==null)return{};var r,n,i=tH(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function tH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hN(Object(r),!0).forEach(function(n){rH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rH(e,t,r){return(t=nH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nH(e){var t=iH(e,"string");return typeof t=="symbol"?t:t+""}function iH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sH(e,t){return Bf(Bf({},t),e)}function aH(e,t){return e==="symbols"}function mN(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return S.createElement(SA,r);case"trapezoid":return S.createElement(X7,r);case"sector":return S.createElement(kA,r);case"symbols":if(aH(t))return S.createElement(OC,r);break;default:return null}}function oH(e){return S.isValidElement(e)?e.props:e}function lH(e){var{option:t,shapeType:r,propTransformer:n=sH,activeClassName:i="recharts-active-shape",isActive:s}=e,l=eH(e,Z7),u;if(S.isValidElement(t))u=S.cloneElement(t,Bf(Bf({},l),oH(t)));else if(typeof t=="function")u=t(l);else if(K7(t)&&typeof t!="boolean"){var f=n(t,l);u=S.createElement(mN,{shapeType:r,elementProps:f})}else{var m=l;u=S.createElement(mN,{shapeType:r,elementProps:m})}return s?S.createElement(Gs,{className:i},u):u}var XO=(e,t)=>{var r=mr();return(n,i)=>s=>{e==null||e(n,i,s),r(yO({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},ZO=e=>{var t=mr();return(r,n)=>i=>{e==null||e(r,n,i),t(ZW())}},eP=(e,t)=>{var r=mr();return(n,i)=>s=>{e==null||e(n,i,s),r(eq({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function cH(e){var{fn:t,args:r}=e,n=mr(),i=vi();return S.useEffect(()=>{if(!i){var s=t(r);return n(JW(s)),()=>{n(QW(s))}}},[t,r,n,i]),null}var uH=()=>{};function dH(e){var{legendPayload:t}=e,r=mr(),n=vi();return S.useEffect(()=>n?uH:(r(VU(t)),()=>{r(WU(t))}),[r,n,t]),null}var vv,fH=()=>{var[e]=S.useState(()=>Cc("uid-"));return e},hH=(vv=bI.useId)!==null&&vv!==void 0?vv:fH;function mH(e,t){var r=hH();return t||(e?"".concat(e,"-").concat(r):r)}var pH=S.createContext(void 0),gH=e=>{var{id:t,type:r,children:n}=e,i=mH("recharts-".concat(r),t);return S.createElement(pH.Provider,{value:i},n(i))},vH={cartesianItems:[],polarItems:[]},tP=_n({name:"graphicalItems",initialState:vH,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,i=rs(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},removeCartesianGraphicalItem(e,t){var r=rs(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=rs(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:yH,replaceCartesianGraphicalItem:xH,removeCartesianGraphicalItem:wH,addPolarGraphicalItem:tQ,removePolarGraphicalItem:rQ}=tP.actions,bH=tP.reducer;function SH(e){var t=mr(),r=S.useRef(null);return S.useEffect(()=>{r.current===null?t(yH(e)):r.current!==e&&t(xH({prev:r.current,next:e})),r.current=e},[t,e]),S.useEffect(()=>()=>{r.current&&(t(wH(r.current)),r.current=null)},[t]),null}function pN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pN(Object(r),!0).forEach(function(n){_H(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _H(e,t,r){return(t=jH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jH(e){var t=kH(e,"string");return typeof t=="symbol"?t:t+""}function kH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NH={xAxis:{},yAxis:{},zAxis:{}},rP=_n({name:"cartesianAxis",initialState:NH,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=gN(gN({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:EH,removeXAxis:CH,addYAxis:AH,removeYAxis:OH,addZAxis:nQ,removeZAxis:iQ,updateYAxisWidth:PH}=rP.actions,TH=rP.reducer,IH=J([pr],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),DH=J([IH,us,ds],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),nP=()=>We(DH),RH="Invariant failed";function MH(e,t){throw new Error(RH)}var $H=["x","y"];function Oy(){return Oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oy.apply(null,arguments)}function vN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vN(Object(r),!0).forEach(function(n){LH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LH(e,t,r){return(t=FH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FH(e){var t=UH(e,"string");return typeof t=="symbol"?t:t+""}function UH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zH(e,t){if(e==null)return{};var r,n,i=BH(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function BH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function VH(e,t){var{x:r,y:n}=e,i=zH(e,$H),s="".concat(r),l=parseInt(s,10),u="".concat(n),f=parseInt(u,10),m="".concat(t.height||i.height),h=parseInt(m,10),p="".concat(t.width||i.width),v=parseInt(p,10);return cc(cc(cc(cc(cc({},t),i),l?{x:l}:{}),f?{y:f}:{}),{},{height:h,width:v,name:t.name,radius:t.radius})}function Nx(e){return S.createElement(lH,Oy({shapeType:"rectangle",propTransformer:VH,activeClassName:"recharts-active-bar"},e))}var WH=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(Je(t))return t;var s=Je(n)||hr(n);return s?t(n,i):(s||MH(),r)}},qH={},iP=_n({name:"errorBars",initialState:qH,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?i:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:sQ,replaceErrorBar:aQ,removeErrorBar:oQ}=iP.actions,HH=iP.reducer,KH=["children"];function GH(e,t){if(e==null)return{};var r,n,i=YH(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function YH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var JH={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},QH=S.createContext(JH);function XH(e){var{children:t}=e,r=GH(e,KH);return S.createElement(QH.Provider,{value:r},t)}function sP(e,t){var r,n,i=We(m=>hs(m,e)),s=We(m=>ms(m,t)),l=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:un.allowDataOverflow,u=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:dn.allowDataOverflow,f=l||u;return{needClip:f,needClipX:l,needClipY:u}}function ZH(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=nP(),{needClipX:s,needClipY:l,needClip:u}=sP(t,r);if(!u)return null;var{x:f,y:m,width:h,height:p}=i;return S.createElement("clipPath",{id:"clipPath-".concat(n)},S.createElement("rect",{x:s?f:f-h/2,y:l?m:m-p/2,width:s?h:h*2,height:l?p:p*2}))}var eK=["onMouseEnter","onMouseLeave","onClick"],tK=["value","background","tooltipPosition"],rK=["id"],nK=["onMouseEnter","onClick","onMouseLeave"];function Ys(){return Ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ys.apply(null,arguments)}function yN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yN(Object(r),!0).forEach(function(n){iK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iK(e,t,r){return(t=sK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sK(e){var t=aK(e,"string");return typeof t=="symbol"?t:t+""}function aK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vf(e,t){if(e==null)return{};var r,n,i=oK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function oK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lK=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:n,value:mA(r,t),payload:e}]};function cK(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:s,hide:l,unit:u}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:mA(s,t),hide:l,type:e.tooltipType,color:e.fill,unit:u}}}function uK(e){var t=We(Go),{data:r,dataKey:n,background:i,allOtherBarProps:s}=e,{onMouseEnter:l,onMouseLeave:u,onClick:f}=s,m=Vf(s,eK),h=XO(l,n),p=ZO(u),v=eP(f,n);if(!i||r==null)return null;var w=Er(i,!1);return S.createElement(S.Fragment,null,r.map((_,b)=>{var{value:x,background:k,tooltipPosition:N}=_,E=Vf(_,tK);if(!k)return null;var A=h(_,b),P=p(_,b),I=v(_,b),L=zr(zr(zr(zr(zr({option:i,isActive:String(b)===t},E),{},{fill:"#eee"},k),w),l0(m,_,b)),{},{onMouseEnter:A,onMouseLeave:P,onClick:I,dataKey:n,index:b,className:"recharts-bar-background-rectangle"});return S.createElement(Nx,Ys({key:"background-bar-".concat(L.index)},L))}))}function dK(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(s=>{var l={x:s.x,y:s.y,width:s.width,height:s.height};return zr(zr({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return S.createElement(L7,{value:t?i:void 0},r)}function fK(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:s,dataKey:l}=e,u=We(Go),f=We(PO),m=r&&String(s)===u&&(f==null||l===f),h=m?r:t;return S.createElement(Nx,Ys({},n,i,{isActive:m,option:h,index:s,dataKey:l}))}function hK(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:s}=e;return S.createElement(Nx,Ys({},r,n,{isActive:!1,option:t,index:i,dataKey:s}))}function mK(e){var{data:t,props:r}=e,n=Kc(r),{id:i}=n,s=Vf(n,rK),{shape:l,dataKey:u,activeBar:f}=r,{onMouseEnter:m,onClick:h,onMouseLeave:p}=r,v=Vf(r,nK),w=XO(m,u),_=ZO(p),b=eP(h,u);return t?S.createElement(S.Fragment,null,t.map((x,k)=>S.createElement(Gs,Ys({className:"recharts-bar-rectangle"},l0(v,x,k),{onMouseEnter:w(x,k),onMouseLeave:_(x,k),onClick:b(x,k),key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(k)}),f?S.createElement(fK,{shape:l,activeBar:f,baseProps:s,entry:x,index:k,dataKey:u}):S.createElement(hK,{shape:l,baseProps:s,entry:x,index:k,dataKey:u})))):null}function pK(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:s,animationBegin:l,animationDuration:u,animationEasing:f,onAnimationEnd:m,onAnimationStart:h}=t,p=r.current,v=k0(t,"recharts-bar-"),[w,_]=S.useState(!1),b=!w,x=S.useCallback(()=>{typeof m=="function"&&m(),_(!1)},[m]),k=S.useCallback(()=>{typeof h=="function"&&h(),_(!0)},[h]);return S.createElement(dK,{showLabels:b,rects:n},S.createElement(j0,{animationId:v,begin:l,duration:u,isActive:s,easing:f,onAnimationEnd:x,onAnimationStart:k,key:v},N=>{var E=N===1?n:n==null?void 0:n.map((A,P)=>{var I=p&&p[P];if(I)return zr(zr({},A),{},{x:Ur(I.x,A.x,N),y:Ur(I.y,A.y,N),width:Ur(I.width,A.width,N),height:Ur(I.height,A.height,N)});if(i==="horizontal"){var L=Ur(0,A.height,N);return zr(zr({},A),{},{y:A.y+A.height-L,height:L})}var G=Ur(0,A.width,N);return zr(zr({},A),{},{width:G})});return N>0&&(r.current=E??null),E==null?null:S.createElement(Gs,null,S.createElement(mK,{props:t,data:E}))}),S.createElement(z7,{label:t.label}),t.children)}function gK(e){var t=S.useRef(null);return S.createElement(pK,{previousRectanglesRef:t,props:e})}var aP=0,vK=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Vr(e,t)}};class yK extends S.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:s,yAxisId:l,needClip:u,background:f,id:m}=this.props;if(t||r==null)return null;var h=Ot("recharts-bar",i),p=m;return S.createElement(Gs,{className:h,id:m},u&&S.createElement("defs",null,S.createElement(ZH,{clipPathId:p,xAxisId:s,yAxisId:l})),S.createElement(Gs,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(p,")"):void 0},S.createElement(uK,{data:r,dataKey:n,background:f,allOtherBarProps:this.props}),S.createElement(gK,this.props)))}}var xK={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!il.isSsr,legendType:"rect",minPointSize:aP,xAxisId:0,yAxisId:0};function wK(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:l,animationBegin:u,animationDuration:f,animationEasing:m,isAnimationActive:h}=e,{needClip:p}=sP(t,r),v=_0(),w=vi(),_=oL(e.children,_x),b=We(N=>GK(N,t,r,w,e.id,_));if(v!=="vertical"&&v!=="horizontal")return null;var x,k=b==null?void 0:b[0];return k==null||k.height==null||k.width==null?x=0:x=v==="vertical"?k.height/2:k.width/2,S.createElement(XH,{xAxisId:t,yAxisId:r,data:b,dataPointFormatter:vK,errorBarOffset:x},S.createElement(yK,Ys({},e,{layout:v,needClip:p,data:b,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:l,animationBegin:u,animationDuration:f,animationEasing:m,isAnimationActive:h})))}function bK(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:s,xAxis:l,yAxis:u,xAxisTicks:f,yAxisTicks:m,stackedData:h,displayedData:p,offset:v,cells:w,parentViewBox:_}=e,b=t==="horizontal"?u:l,x=h?b.scale.domain():null,k=yU({numericAxis:b});return p.map((N,E)=>{var A,P,I,L,G,W;h?A=fU(h[E],x):(A=Vr(N,r),Array.isArray(A)||(A=[k,A]));var U=WH(n,aP)(A[1],E);if(t==="horizontal"){var z,[V,ee]=[u.scale(A[0]),u.scale(A[1])];P=fj({axis:l,ticks:f,bandSize:s,offset:i.offset,entry:N,index:E}),I=(z=ee??V)!==null&&z!==void 0?z:void 0,L=i.size;var X=V-ee;if(G=Wn(X)?0:X,W={x:P,y:v.top,width:L,height:v.height},Math.abs(U)>0&&Math.abs(G)<Math.abs(U)){var ae=vn(G||U)*(Math.abs(U)-Math.abs(G));I-=ae,G+=ae}}else{var[xe,ye]=[l.scale(A[0]),l.scale(A[1])];if(P=xe,I=fj({axis:u,ticks:m,bandSize:s,offset:i.offset,entry:N,index:E}),L=ye-xe,G=i.size,W={x:v.left,y:I,width:v.width,height:G},Math.abs(U)>0&&Math.abs(L)<Math.abs(U)){var re=vn(L||U)*(Math.abs(U)-Math.abs(L));L+=re}}if(P==null||I==null||L==null||G==null)return null;var le=zr(zr({},N),{},{x:P,y:I,width:L,height:G,value:h?A:A[1],payload:N,background:W,tooltipPosition:{x:P+L/2,y:I+G/2},parentViewBox:_},w&&w[E]&&w[E].props);return le}).filter(Boolean)}function SK(e){var t=yi(e,xK),r=vi();return S.createElement(gH,{id:t.id,type:"bar"},n=>S.createElement(S.Fragment,null,S.createElement(dH,{legendPayload:lK(t)}),S.createElement(cH,{fn:cK,args:t}),S.createElement(SH,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:vU(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),S.createElement(wK,Ys({},t,{id:n}))))}var oP=S.memo(SK);oP.displayName="Bar";function xN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $d(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xN(Object(r),!0).forEach(function(n){_K(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _K(e,t,r){return(t=jK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jK(e){var t=kK(e,"string");return typeof t=="symbol"?t:t+""}function kK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NK=(e,t)=>t,EK=(e,t,r)=>r,CK=(e,t,r,n)=>n,AK=(e,t,r,n,i)=>i,ou=J([ax,AK],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),OK=J([ou],e=>e==null?void 0:e.maxBarSize),PK=(e,t,r,n,i,s)=>s,wN=(e,t,r)=>{var n=r??e;if(!hr(n))return hi(n,t,0)},TK=J([pt,ax,NK,EK,CK],(e,t,r,n,i)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),IK=(e,t,r,n)=>{var i=pt(e);return i==="horizontal"?jy(e,"yAxis",r,n):jy(e,"xAxis",t,n)},DK=(e,t,r)=>{var n=pt(e);return n==="horizontal"?Ek(e,"xAxis",t):Ek(e,"yAxis",r)},RK=(e,t,r)=>{var n={},i=e.filter(Oh),s=e.filter(m=>m.stackId==null),l=i.reduce((m,h)=>(m[h.stackId]||(m[h.stackId]=[]),m[h.stackId].push(h),m),n),u=Object.entries(l).map(m=>{var[h,p]=m,v=p.map(_=>_.dataKey),w=wN(t,r,p[0].barSize);return{stackId:h,dataKeys:v,barSize:w}}),f=s.map(m=>{var h=[m.dataKey].filter(v=>v!=null),p=wN(t,r,m.barSize);return{stackId:void 0,dataKeys:h,barSize:p}});return[...u,...f]},MK=J([TK,GV,DK],RK),$K=(e,t,r,n,i)=>{var s,l,u=ou(e,t,r,n,i);if(u!=null){var f=pt(e),m=b2(e),{maxBarSize:h}=u,p=hr(h)?m:h,v,w;return f==="horizontal"?(v=Ko(e,"xAxis",t,n),w=Ho(e,"xAxis",t,n)):(v=Ko(e,"yAxis",r,n),w=Ho(e,"yAxis",r,n)),(s=(l=w0(v,w,!0))!==null&&l!==void 0?l:p)!==null&&s!==void 0?s:0}},lP=(e,t,r,n)=>{var i=pt(e),s,l;return i==="horizontal"?(s=Ko(e,"xAxis",t,n),l=Ho(e,"xAxis",t,n)):(s=Ko(e,"yAxis",r,n),l=Ho(e,"yAxis",r,n)),w0(s,l)};function LK(e,t,r,n,i){var s=n.length;if(!(s<1)){var l=hi(e,r,0,!0),u,f=[];if(bn(n[0].barSize)){var m=!1,h=r/s,p=n.reduce((k,N)=>k+(N.barSize||0),0);p+=(s-1)*l,p>=r&&(p-=(s-1)*l,l=0),p>=r&&h>0&&(m=!0,h*=.9,p=s*h);var v=(r-p)/2>>0,w={offset:v-l,size:0};u=n.reduce((k,N)=>{var E,A={stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:w.offset+w.size+l,size:m?h:(E=N.barSize)!==null&&E!==void 0?E:0}},P=[...k,A];return w=P[P.length-1].position,P},f)}else{var _=hi(t,r,0,!0);r-2*_-(s-1)*l<=0&&(l=0);var b=(r-2*_-(s-1)*l)/s;b>1&&(b>>=0);var x=bn(i)?Math.min(b,i):b;u=n.reduce((k,N,E)=>[...k,{stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:_+(b+l)*E+(b-x)/2,size:x}}],f)}return u}}var FK=(e,t,r,n,i,s,l)=>{var u=hr(l)?t:l,f=LK(r,n,i!==s?i:s,e,u);return i!==s&&f!=null&&(f=f.map(m=>$d($d({},m),{},{position:$d($d({},m.position),{},{offset:m.position.offset-i/2})}))),f},UK=J([MK,b2,KV,S2,$K,lP,OK],FK),zK=(e,t,r,n)=>Ko(e,"xAxis",t,n),BK=(e,t,r,n)=>Ko(e,"yAxis",r,n),VK=(e,t,r,n)=>Ho(e,"xAxis",t,n),WK=(e,t,r,n)=>Ho(e,"yAxis",r,n),qK=J([UK,ou],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),HK=(e,t)=>{var r=ix(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:s}=i;if(s)return s.find(l=>l.key===r)}}}},KK=J([IK,ou],HK),GK=J([pr,b0,zK,BK,VK,WK,qK,pt,Y0,lP,KK,ou,PK],(e,t,r,n,i,s,l,u,f,m,h,p,v)=>{var{chartData:w,dataStartIndex:_,dataEndIndex:b}=f;if(!(p==null||l==null||t==null||u!=="horizontal"&&u!=="vertical"||r==null||n==null||i==null||s==null||m==null)){var{data:x}=p,k;if(x!=null&&x.length>0?k=x:k=w==null?void 0:w.slice(_,b+1),k!=null)return bK({layout:u,barSettings:p,pos:l,parentViewBox:t,bandSize:m,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:s,stackedData:h,displayedData:k,offset:e,cells:v})}}),YK=e=>{var{chartData:t}=e,r=mr(),n=vi();return S.useEffect(()=>n?()=>{}:(r(Mk(t)),()=>{r(Mk(void 0))}),[t,r,n]),null},bN={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},cP=_n({name:"brush",initialState:bN,reducers:{setBrushSettings(e,t){return t.payload==null?bN:t.payload}}}),{setBrushSettings:lQ}=cP.actions,JK=cP.reducer;function QK(e,t,r){return(t=XK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XK(e){var t=ZK(e,"string");return typeof t=="symbol"?t:t+""}function ZK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Ex{static create(t){return new Ex(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}QK(Ex,"EPS",1e-4);function eG(e){return(e%180+180)%180}var tG=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=eG(i),l=s*Math.PI/180,u=Math.atan(n/r),f=l>u&&l<Math.PI-u?n/Math.sin(l):r/Math.cos(l);return Math.abs(f)},rG={dots:[],areas:[],lines:[]},uP=_n({name:"referenceElements",initialState:rG,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=rs(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=rs(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=rs(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:cQ,removeDot:uQ,addArea:dQ,removeArea:fQ,addLine:hQ,removeLine:mQ}=uP.actions,nG=uP.reducer,iG=S.createContext(void 0),sG=e=>{var{children:t}=e,[r]=S.useState("".concat(Cc("recharts"),"-clip")),n=nP();if(n==null)return null;var{x:i,y:s,width:l,height:u}=n;return S.createElement(iG.Provider,{value:r},S.createElement("defs",null,S.createElement("clipPath",{id:r},S.createElement("rect",{x:i,y:s,height:u,width:l}))),t)};function Yo(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function dP(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function aG(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return tG(n,r)}function oG(e,t,r){var n=r==="width",{x:i,y:s,width:l,height:u}=e;return t===1?{start:n?i:s,end:n?i+l:s+u}:{start:n?i+l:s+u,end:n?i:s}}function Wf(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function lG(e,t){return dP(e,t+1)}function cG(e,t,r,n,i){for(var s=(n||[]).slice(),{start:l,end:u}=t,f=0,m=1,h=l,p=function(){var _=n==null?void 0:n[f];if(_===void 0)return{v:dP(n,m)};var b=f,x,k=()=>(x===void 0&&(x=r(_,b)),x),N=_.coordinate,E=f===0||Wf(e,N,k,h,u);E||(f=0,h=l,m+=1),E&&(h=N+e*(k()/2+i),f+=m)},v;m<=s.length;)if(v=p(),v)return v.v;return[]}function SN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SN(Object(r),!0).forEach(function(n){uG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uG(e,t,r){return(t=dG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dG(e){var t=fG(e,"string");return typeof t=="symbol"?t:t+""}function fG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hG(e,t,r,n,i){for(var s=(n||[]).slice(),l=s.length,{start:u}=t,{end:f}=t,m=function(v){var w=s[v],_,b=()=>(_===void 0&&(_=r(w,v)),_);if(v===l-1){var x=e*(w.coordinate+e*b()/2-f);s[v]=w=Ir(Ir({},w),{},{tickCoord:x>0?w.coordinate-x*e:w.coordinate})}else s[v]=w=Ir(Ir({},w),{},{tickCoord:w.coordinate});var k=Wf(e,w.tickCoord,b,u,f);k&&(f=w.tickCoord-e*(b()/2+i),s[v]=Ir(Ir({},w),{},{isShow:!0}))},h=l-1;h>=0;h--)m(h);return s}function mG(e,t,r,n,i,s){var l=(n||[]).slice(),u=l.length,{start:f,end:m}=t;if(s){var h=n[u-1],p=r(h,u-1),v=e*(h.coordinate+e*p/2-m);l[u-1]=h=Ir(Ir({},h),{},{tickCoord:v>0?h.coordinate-v*e:h.coordinate});var w=Wf(e,h.tickCoord,()=>p,f,m);w&&(m=h.tickCoord-e*(p/2+i),l[u-1]=Ir(Ir({},h),{},{isShow:!0}))}for(var _=s?u-1:u,b=function(N){var E=l[N],A,P=()=>(A===void 0&&(A=r(E,N)),A);if(N===0){var I=e*(E.coordinate-e*P()/2-f);l[N]=E=Ir(Ir({},E),{},{tickCoord:I<0?E.coordinate-I*e:E.coordinate})}else l[N]=E=Ir(Ir({},E),{},{tickCoord:E.coordinate});var L=Wf(e,E.tickCoord,P,f,m);L&&(f=E.tickCoord+e*(P()/2+i),l[N]=Ir(Ir({},E),{},{isShow:!0}))},x=0;x<_;x++)b(x);return l}function pG(e,t,r){var{tick:n,ticks:i,viewBox:s,minTickGap:l,orientation:u,interval:f,tickFormatter:m,unit:h,angle:p}=e;if(!i||!i.length||!n)return[];if(Je(f)||il.isSsr){var v;return(v=lG(i,Je(f)?f:0))!==null&&v!==void 0?v:[]}var w=[],_=u==="top"||u==="bottom"?"width":"height",b=h&&_==="width"?Sc(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=(E,A)=>{var P=typeof m=="function"?m(E.value,A):E.value;return _==="width"?aG(Sc(P,{fontSize:t,letterSpacing:r}),b,p):Sc(P,{fontSize:t,letterSpacing:r})[_]},k=i.length>=2?vn(i[1].coordinate-i[0].coordinate):1,N=oG(s,k,_);return f==="equidistantPreserveStart"?cG(k,N,x,i,l):(f==="preserveStart"||f==="preserveStartEnd"?w=mG(k,N,x,i,l,f==="preserveStartEnd"):w=hG(k,N,x,i,l),w.filter(E=>E.isShow))}var gG=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=e,l=0;if(t){t.forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>l&&(l=p.width)}});var u=r?r.getBoundingClientRect().width:0,f=i+s,m=l+f+u+(r?n:0);return Math.round(m)}return 0},vG=["axisLine","width","height","className","hide","ticks"],yG=["viewBox"],xG=["viewBox"];function Py(e,t){if(e==null)return{};var r,n,i=wG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function wG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ua(){return Ua=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ua.apply(null,arguments)}function _N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_N(Object(r),!0).forEach(function(n){bG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_N(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bG(e,t,r){return(t=SG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SG(e){var t=_G(e,"string");return typeof t=="symbol"?t:t+""}function _G(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jG={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function kG(e){var{x:t,y:r,width:n,height:i,orientation:s,mirror:l,axisLine:u,otherSvgProps:f}=e;if(!u)return null;var m=ir(ir(ir({},f),Er(u,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var h=+(s==="top"&&!l||s==="bottom"&&l);m=ir(ir({},m),{},{x1:t,y1:r+h*i,x2:t+n,y2:r+h*i})}else{var p=+(s==="left"&&!l||s==="right"&&l);m=ir(ir({},m),{},{x1:t+p*n,y1:r,x2:t+p*n,y2:r+i})}return S.createElement("line",Ua({},m,{className:Ot("recharts-cartesian-axis-line",Fo(u,"className"))}))}function NG(e,t,r,n,i,s,l,u,f){var m,h,p,v,w,_,b=u?-1:1,x=e.tickSize||l,k=Je(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":m=h=e.coordinate,v=r+ +!u*i,p=v-b*x,_=p-b*f,w=k;break;case"left":p=v=e.coordinate,h=t+ +!u*n,m=h-b*x,w=m-b*f,_=k;break;case"right":p=v=e.coordinate,h=t+ +u*n,m=h+b*x,w=m+b*f,_=k;break;default:m=h=e.coordinate,v=r+ +u*i,p=v+b*x,_=p+b*f,w=k;break}return{line:{x1:m,y1:p,x2:h,y2:v},tick:{x:w,y:_}}}function EG(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function CG(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function AG(e){var{option:t,tickProps:r,value:n}=e,i,s=Ot(r.className,"recharts-cartesian-axis-tick-value");if(S.isValidElement(t))i=S.cloneElement(t,ir(ir({},r),{},{className:s}));else if(typeof t=="function")i=t(ir(ir({},r),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=Ot(l,t==null?void 0:t.className)),i=S.createElement(jx,Ua({},r,{className:l}),n)}return i}function OG(e){var{ticks:t=[],tick:r,tickLine:n,stroke:i,tickFormatter:s,unit:l,padding:u,tickTextProps:f,orientation:m,mirror:h,x:p,y:v,width:w,height:_,tickSize:b,tickMargin:x,fontSize:k,letterSpacing:N,getTicksConfig:E,events:A}=e,P=pG(ir(ir({},E),{},{ticks:t}),k,N),I=EG(m,h),L=CG(m,h),G=Kc(E),W=Er(r,!1),U=ir(ir({},G),{},{fill:"none"},Er(n,!1)),z=P.map((V,ee)=>{var{line:X,tick:ae}=NG(V,p,v,w,_,m,b,h,x),xe=ir(ir(ir(ir({textAnchor:I,verticalAnchor:L},G),{},{stroke:"none",fill:i},W),ae),{},{index:ee,payload:V,visibleTicksCount:P.length,tickFormatter:s,padding:u},f);return S.createElement(Gs,Ua({className:"recharts-cartesian-axis-tick",key:"tick-".concat(V.value,"-").concat(V.coordinate,"-").concat(V.tickCoord)},l0(A,V,ee)),n&&S.createElement("line",Ua({},U,X,{className:Ot("recharts-cartesian-axis-tick-line",Fo(n,"className"))})),r&&S.createElement(AG,{option:r,tickProps:xe,value:"".concat(typeof s=="function"?s(V.value,ee):V.value).concat(l||"")}))});return z.length>0?S.createElement("g",{className:"recharts-cartesian-axis-ticks"},z):null}var PG=S.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:s,hide:l,ticks:u}=e,f=Py(e,vG),[m,h]=S.useState(""),[p,v]=S.useState(""),w=S.useRef([]);S.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var b;return gG({ticks:w.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var _=S.useCallback(b=>{if(b){var x=b.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=Array.from(x);var k=x[0];if(k){var N=window.getComputedStyle(k),E=N.fontSize,A=N.letterSpacing;(E!==m||A!==p)&&(h(E),v(A))}}},[m,p]);return l||n!=null&&n<=0||i!=null&&i<=0?null:S.createElement(Gs,{className:Ot("recharts-cartesian-axis",s),ref:_},S.createElement(kG,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Kc(e)}),S.createElement(OG,{ticks:u,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:m,letterSpacing:p,getTicksConfig:e,events:f}),S.createElement(v7,{x:e.x,y:e.y,width:e.width,height:e.height},S.createElement(E7,{label:e.label}),e.children))}),TG=S.memo(PG,(e,t)=>{var{viewBox:r}=e,n=Py(e,yG),{viewBox:i}=t,s=Py(t,xG);return Yo(r,i)&&Yo(n,s)}),Cx=S.forwardRef((e,t)=>{var r=yi(e,jG);return S.createElement(TG,Ua({},r,{ref:t}))});Cx.displayName="CartesianAxis";var IG=["dangerouslySetInnerHTML","ticks"],DG=["id"],RG=["domain"],MG=["domain"];function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ty.apply(null,arguments)}function qf(e,t){if(e==null)return{};var r,n,i=$G(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function $G(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function LG(e){var t=mr();return S.useEffect(()=>(t(EH(e)),()=>{t(CH(e))}),[e,t]),null}var FG=e=>{var{xAxisId:t,className:r}=e,n=We(b0),i=vi(),s="xAxis",l=We(x=>ul(x,s,t,i)),u=We(x=>fO(x,s,t,i)),f=We(x=>lO(x,t)),m=We(x=>UW(x,t)),h=We(x=>P2(x,t));if(f==null||m==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:v}=e,w=qf(e,IG),{id:_}=h,b=qf(h,DG);return S.createElement(Cx,Ty({},w,b,{scale:l,x:m.x,y:m.y,width:f.width,height:f.height,className:Ot("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:u}))},UG={allowDataOverflow:un.allowDataOverflow,allowDecimals:un.allowDecimals,allowDuplicatedCategory:un.allowDuplicatedCategory,height:un.height,hide:!1,mirror:un.mirror,orientation:un.orientation,padding:un.padding,reversed:un.reversed,scale:un.scale,tickCount:un.tickCount,type:un.type,xAxisId:0},zG=e=>{var t,r,n,i,s,l=yi(e,UG);return S.createElement(S.Fragment,null,S.createElement(LG,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(r=l.includeHidden)!==null&&r!==void 0?r:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(n=l.angle)!==null&&n!==void 0?n:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(s=l.tick)!==null&&s!==void 0?s:!0,tickFormatter:l.tickFormatter}),S.createElement(FG,l))},BG=(e,t)=>{var{domain:r}=e,n=qf(e,RG),{domain:i}=t,s=qf(t,MG);return Yo(n,s)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:Yo({domain:r},{domain:i}):!1},fP=S.memo(zG,BG);fP.displayName="XAxis";var VG=["dangerouslySetInnerHTML","ticks"],WG=["id"],qG=["domain"],HG=["domain"];function Iy(){return Iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iy.apply(null,arguments)}function Hf(e,t){if(e==null)return{};var r,n,i=KG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function KG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function GG(e){var t=mr();return S.useEffect(()=>(t(AH(e)),()=>{t(OH(e))}),[e,t]),null}var YG=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,s=S.useRef(null),l=S.useRef(null),u=We(b0),f=vi(),m=mr(),h="yAxis",p=We(P=>ul(P,h,t,f)),v=We(P=>cO(P,t)),w=We(P=>BW(P,t)),_=We(P=>fO(P,h,t,f)),b=We(P=>T2(P,t));if(S.useLayoutEffect(()=>{if(!(n!=="auto"||!v||kx(i)||S.isValidElement(i)||b==null)){var P=s.current;if(P){var I=P.getCalculatedWidth();Math.round(v.width)!==Math.round(I)&&m(PH({id:t,width:I}))}}},[_,v,m,i,t,n,b]),v==null||w==null||b==null)return null;var{dangerouslySetInnerHTML:x,ticks:k}=e,N=Hf(e,VG),{id:E}=b,A=Hf(b,WG);return S.createElement(Cx,Iy({},N,A,{ref:s,labelRef:l,scale:p,x:w.x,y:w.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:v.width,height:v.height,className:Ot("recharts-".concat(h," ").concat(h),r),viewBox:u,ticks:_}))},JG={allowDataOverflow:dn.allowDataOverflow,allowDecimals:dn.allowDecimals,allowDuplicatedCategory:dn.allowDuplicatedCategory,hide:!1,mirror:dn.mirror,orientation:dn.orientation,padding:dn.padding,reversed:dn.reversed,scale:dn.scale,tickCount:dn.tickCount,type:dn.type,width:dn.width,yAxisId:0},QG=e=>{var t,r,n,i,s,l=yi(e,JG);return S.createElement(S.Fragment,null,S.createElement(GG,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(r=l.includeHidden)!==null&&r!==void 0?r:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(n=l.angle)!==null&&n!==void 0?n:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(s=l.tick)!==null&&s!==void 0?s:!0,tickFormatter:l.tickFormatter}),S.createElement(YG,l))},XG=(e,t)=>{var{domain:r}=e,n=Hf(e,qG),{domain:i}=t,s=Hf(t,HG);return Yo(n,s)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:Yo({domain:r},{domain:i}):!1},hP=S.memo(QG,XG);hP.displayName="YAxis";var yv={exports:{}},xv={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jN;function ZG(){if(jN)return xv;jN=1;var e=Jo();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,l=e.useMemo,u=e.useDebugValue;return xv.useSyncExternalStoreWithSelector=function(f,m,h,p,v){var w=i(null);if(w.current===null){var _={hasValue:!1,value:null};w.current=_}else _=w.current;w=l(function(){function x(P){if(!k){if(k=!0,N=P,P=p(P),v!==void 0&&_.hasValue){var I=_.value;if(v(I,P))return E=I}return E=P}if(I=E,r(N,P))return I;var L=p(P);return v!==void 0&&v(I,L)?(N=P,I):(N=P,E=L)}var k=!1,N,E,A=h===void 0?null:h;return[function(){return x(m())},A===null?void 0:function(){return x(A())}]},[m,h,p,v]);var b=n(f,w[0],w[1]);return s(function(){_.hasValue=!0,_.value=b},[b]),u(b),b},xv}var kN;function eY(){return kN||(kN=1,yv.exports=ZG()),yv.exports}eY();function tY(e){e()}function rY(){let e=null,t=null;return{clear(){e=null,t=null},notify(){tY(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var NN={notify(){},get:()=>[]};function nY(e,t){let r,n=NN,i=0,s=!1;function l(b){h();const x=n.subscribe(b);let k=!1;return()=>{k||(k=!0,x(),p())}}function u(){n.notify()}function f(){_.onStateChange&&_.onStateChange()}function m(){return s}function h(){i++,r||(r=e.subscribe(f),n=rY())}function p(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=NN)}function v(){s||(s=!0,h())}function w(){s&&(s=!1,p())}const _={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:m,trySubscribe:v,tryUnsubscribe:w,getListeners:()=>n};return _}var iY=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sY=iY(),aY=()=>typeof navigator<"u"&&navigator.product==="ReactNative",oY=aY(),lY=()=>sY||oY?S.useLayoutEffect:S.useEffect,cY=lY(),wv=Symbol.for("react-redux-context"),bv=typeof globalThis<"u"?globalThis:{};function uY(){if(!S.createContext)return{};const e=bv[wv]??(bv[wv]=new Map);let t=e.get(S.createContext);return t||(t=S.createContext(null),e.set(S.createContext,t)),t}var dY=uY();function fY(e){const{children:t,context:r,serverState:n,store:i}=e,s=S.useMemo(()=>{const f=nY(i);return{store:i,subscription:f,getServerState:n?()=>n:void 0}},[i,n]),l=S.useMemo(()=>i.getState(),[i]);cY(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,l]);const u=r||dY;return S.createElement(u.Provider,{value:s},t)}var hY=fY,mY=(e,t)=>t,Ax=J([mY,pt,C2,ar,EO,ps,Hq,pr],Qq),Ox=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},mP=qn("mouseClick"),pP=Yc();pP.startListening({actionCreator:mP,effect:(e,t)=>{var r=e.payload,n=Ax(t.getState(),Ox(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(tq({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Dy=qn("mouseMove"),gP=Yc();gP.startListening({actionCreator:Dy,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=mx(n,n.tooltip.settings.shared),s=Ax(n,Ox(r));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?t.dispatch(wO({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(xO()))}});var EN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},vP=_n({name:"rootProps",initialState:EN,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:EN.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),pY=vP.reducer,{updateOptions:gY}=vP.actions,yP=_n({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:pQ}=yP.actions,vY=yP.reducer,xP=qn("keyDown"),wP=qn("focus"),Px=Yc();Px.startListening({actionCreator:xP,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=Number(px(i,fl(r))),u=ps(r);if(s==="Enter"){var f=Ff(r,"axis","hover",String(i.index));t.dispatch(Ny({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var m=HW(r),h=m==="left-to-right"?1:-1,p=s==="ArrowRight"?1:-1,v=l+p*h;if(!(u==null||v>=u.length||v<0)){var w=Ff(r,"axis","hover",String(v));t.dispatch(Ny({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:w}))}}}}});Px.startListening({actionCreator:wP,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",l=Ff(r,"axis","hover",String(s));t.dispatch(Ny({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:l}))}}}});var Fn=qn("externalEvent"),bP=Yc();bP.startListening({actionCreator:Fn,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:$q(r),activeDataKey:PO(r),activeIndex:Go(r),activeLabel:OO(r),activeTooltipIndex:Go(r),isTooltipActive:Lq(r)};e.payload.handler(n,e.payload.reactEvent)}}});var yY=J([dl],e=>e.tooltipItemPayloads),xY=J([yY,su,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(u=>u.settings.dataKey===n);if(i!=null){var{positions:s}=i;if(s!=null){var l=t(s,r);return l}}}),SP=qn("touchMove"),_P=Yc();_P.startListening({actionCreator:SP,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=mx(n,n.tooltip.settings.shared);if(i==="axis"){var s=Ax(n,Ox({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(wO({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var l,u=r.touches[0],f=document.elementFromPoint(u.clientX,u.clientY);if(!f||!f.getAttribute)return;var m=f.getAttribute(NU),h=(l=f.getAttribute(EU))!==null&&l!==void 0?l:void 0,p=xY(t.getState(),m,h);t.dispatch(yO({activeDataKey:h,activeIndex:m,activeCoordinate:p}))}}});var wY=WC({brush:JK,cartesianAxis:TH,chartData:m9,errorBars:HH,graphicalItems:bH,layout:YF,legend:qU,options:c9,polarAxis:V7,polarOptions:vY,referenceElements:nG,rootProps:pY,tooltip:rq}),bY=function(t){return wF({reducer:wY,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([pP.middleware,gP.middleware,Px.middleware,bP.middleware,_P.middleware]),devTools:il.devToolsEnabled})};function SY(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=vi(),s=S.useRef(null);if(i)return r;s.current==null&&(s.current=bY(t));var l=m0;return S.createElement(hY,{context:l,store:s.current},r)}function _Y(e){var{layout:t,width:r,height:n,margin:i}=e,s=mr(),l=vi();return S.useEffect(()=>{l||(s(HF(t)),s(KF({width:r,height:n})),s(qF(i)))},[s,l,t,r,n,i]),null}function jY(e){var t=mr();return S.useEffect(()=>{t(gY(e))},[t,e]),null}var kY=["children"];function NY(e,t){if(e==null)return{};var r,n,i=EY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function EY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Kf(){return Kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kf.apply(null,arguments)}var CY={width:"100%",height:"100%"},AY=S.forwardRef((e,t)=>{var r=UU(),n=zU(),i=vA();if(!_f(r)||!_f(n))return null;var{children:s,otherAttributes:l,title:u,desc:f}=e,m,h;return typeof l.tabIndex=="number"?m=l.tabIndex:m=i?0:void 0,typeof l.role=="string"?h=l.role:h=i?"application":void 0,S.createElement(fC,Kf({},l,{title:u,desc:f,role:h,tabIndex:m,width:r,height:n,style:CY,ref:t}),s)}),OY=e=>{var{children:t}=e,r=We(yh);if(!r)return null;var{width:n,height:i,y:s,x:l}=r;return S.createElement(fC,{width:n,height:i,x:l,y:s},t)},CN=S.forwardRef((e,t)=>{var{children:r}=e,n=NY(e,kY),i=vi();return i?S.createElement(OY,null,r):S.createElement(AY,Kf({ref:t},n),r)});function PY(){var e=mr(),[t,r]=S.useState(null),n=We(kU);return S.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;bn(s)&&s!==n&&e(GF(s))}},[t,e,n]),r}function AN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function TY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AN(Object(r),!0).forEach(function(n){IY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IY(e,t,r){return(t=DY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DY(e){var t=RY(e,"string");return typeof t=="symbol"?t:t+""}function RY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MY=S.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:l,onDoubleClick:u,onMouseDown:f,onMouseEnter:m,onMouseLeave:h,onMouseMove:p,onMouseUp:v,onTouchEnd:w,onTouchMove:_,onTouchStart:b,style:x,width:k}=e,N=mr(),[E,A]=S.useState(null),[P,I]=S.useState(null);_9();var L=PY(),G=S.useCallback(D=>{L(D),typeof t=="function"&&t(D),A(D),I(D)},[L,t,A,I]),W=S.useCallback(D=>{N(mP(D)),N(Fn({handler:s,reactEvent:D}))},[N,s]),U=S.useCallback(D=>{N(Dy(D)),N(Fn({handler:m,reactEvent:D}))},[N,m]),z=S.useCallback(D=>{N(xO()),N(Fn({handler:h,reactEvent:D}))},[N,h]),V=S.useCallback(D=>{N(Dy(D)),N(Fn({handler:p,reactEvent:D}))},[N,p]),ee=S.useCallback(()=>{N(wP())},[N]),X=S.useCallback(D=>{N(xP(D.key))},[N]),ae=S.useCallback(D=>{N(Fn({handler:l,reactEvent:D}))},[N,l]),xe=S.useCallback(D=>{N(Fn({handler:u,reactEvent:D}))},[N,u]),ye=S.useCallback(D=>{N(Fn({handler:f,reactEvent:D}))},[N,f]),re=S.useCallback(D=>{N(Fn({handler:v,reactEvent:D}))},[N,v]),le=S.useCallback(D=>{N(Fn({handler:b,reactEvent:D}))},[N,b]),ce=S.useCallback(D=>{N(SP(D)),N(Fn({handler:_,reactEvent:D}))},[N,_]),M=S.useCallback(D=>{N(Fn({handler:w,reactEvent:D}))},[N,w]);return S.createElement($O.Provider,{value:E},S.createElement(pL.Provider,{value:P},S.createElement("div",{className:Ot("recharts-wrapper",n),style:TY({position:"relative",cursor:"default",width:k,height:i},x),onClick:W,onContextMenu:ae,onDoubleClick:xe,onFocus:ee,onKeyDown:X,onMouseDown:ye,onMouseEnter:U,onMouseLeave:z,onMouseMove:V,onMouseUp:re,onTouchEnd:M,onTouchMove:ce,onTouchStart:le,ref:G},r)))}),$Y=["children","className","width","height","style","compact","title","desc"];function LY(e,t){if(e==null)return{};var r,n,i=FY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function FY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var UY=S.forwardRef((e,t)=>{var{children:r,className:n,width:i,height:s,style:l,compact:u,title:f,desc:m}=e,h=LY(e,$Y),p=Kc(h);return u?S.createElement(CN,{otherAttributes:p,title:f,desc:m},r):S.createElement(MY,{className:n,style:l,width:i,height:s,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},S.createElement(CN,{otherAttributes:p,title:f,desc:m,ref:t},S.createElement(sG,null,r)))}),zY=["width","height"];function Ry(){return Ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ry.apply(null,arguments)}function BY(e,t){if(e==null)return{};var r,n,i=VY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function VY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var WY={top:5,right:5,bottom:5,left:5},qY={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:WY,reverseStackOrder:!1,syncMethod:"index"},HY=S.forwardRef(function(t,r){var n,i=yi(t.categoricalChartProps,qY),{width:s,height:l}=i,u=BY(i,zY);if(!_f(s)||!_f(l))return null;var{chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,categoricalChartProps:v}=t,w={chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return S.createElement(SY,{preloadedState:{options:w},reduxStoreName:(n=v.id)!==null&&n!==void 0?n:f},S.createElement(YK,{chartData:v.data}),S.createElement(_Y,{width:s,height:l,layout:i.layout,margin:i.margin}),S.createElement(jY,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),S.createElement(UY,Ry({},u,{width:s,height:l,ref:r})))}),KY=["axis","item"],GY=S.forwardRef((e,t)=>S.createElement(HY,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:KY,tooltipPayloadSearcher:o9,categoricalChartProps:e,ref:t}));const yn={clientId:"a6283b6c-2210-4d6c-bade-651acfdb6703",tenantId:"3bb4e039-9a0f-4671-9733-a9ae03d39395",redirectUri:"http://localhost:5173/feature-voting-app/admin",scopes:["https://app.vssps.visualstudio.com/user_impersonation","offline_access"]};function YY(){const e=new Uint8Array(32);return crypto.getRandomValues(e),jP(e)}async function JY(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r);return jP(new Uint8Array(n))}function jP(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}async function QY(e){const t=YY(),r=await JY(t);sessionStorage.setItem("pkce_verifier",t);const n=new URLSearchParams({client_id:yn.clientId,response_type:"code",redirect_uri:yn.redirectUri,response_mode:"query",scope:yn.scopes.join(" "),state:e,code_challenge:r,code_challenge_method:"S256"});return`https://login.microsoftonline.com/${yn.tenantId}/oauth2/v2.0/authorize?${n}`}async function XY(e){const t=`https://login.microsoftonline.com/${yn.tenantId}/oauth2/v2.0/token`,r=sessionStorage.getItem("pkce_verifier");if(!r)throw new Error("Code verifier not found - PKCE flow incomplete");const n=new URLSearchParams({client_id:yn.clientId,scope:yn.scopes.join(" "),code:e,redirect_uri:yn.redirectUri,grant_type:"authorization_code",code_verifier:r}),i=await fetch(t,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n.toString()});if(!i.ok){const l=await i.json();throw console.error("Token exchange error:",l),new Error(`Failed to exchange code for tokens: ${l.error_description||l.error}`)}const s=await i.json();return sessionStorage.removeItem("pkce_verifier"),{accessToken:s.access_token,refreshToken:s.refresh_token,expiresIn:s.expires_in}}async function ZY(e){const t=`https://login.microsoftonline.com/${yn.tenantId}/oauth2/v2.0/token`,r=new URLSearchParams({client_id:yn.clientId,scope:yn.scopes.join(" "),refresh_token:e,grant_type:"refresh_token"}),n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:r.toString()});if(!n.ok){const s=await n.json();throw console.error("Token refresh error:",s),new Error(`Failed to refresh access token: ${s.error_description||s.error}`)}const i=await n.json();return{accessToken:i.access_token,expiresIn:i.expires_in}}async function ON(e){if(!e.accessToken||!e.organization||!e.project)throw new Error("Missing required configuration");const t=`https://dev.azure.com/${e.organization}/${e.project}/_apis/wit/workitemtypes/${e.workItemType}?api-version=7.1`,r=await fetch(t,{headers:{Authorization:`Bearer ${e.accessToken}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error(`Failed to fetch states: ${r.statusText}`);const n=await r.json();return n.states&&Array.isArray(n.states)?n.states.map(i=>i.name):["New","Active","Resolved","Closed","Removed"]}async function eJ(e){if(!e.accessToken||!e.organization||!e.project)throw new Error("Missing required configuration");const t=`https://dev.azure.com/${e.organization}/${e.project}/_apis/wit/classificationnodes/areas?$depth=10&api-version=7.1`,r=await fetch(t,{headers:{Authorization:`Bearer ${e.accessToken}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error(`Failed to fetch area paths: ${r.statusText}`);const n=await r.json(),i=(s,l="")=>{const u=l?`${l}\\${s.name}`:s.name;let f=[u];return s.children&&s.children.length>0&&s.children.forEach(m=>{f=f.concat(i(m,u))}),f};return i(n)}async function tJ(e){if(!e.accessToken||!e.organization||!e.project)throw new Error("Missing required configuration");try{const t={query:"SELECT [System.Id] FROM WorkItems WHERE [System.TeamProject] = @project ORDER BY [System.ChangedDate] DESC"},r=`https://dev.azure.com/${e.organization}/${e.project}/_apis/wit/wiql?api-version=7.1`,n=await fetch(r,{method:"POST",headers:{Authorization:`Bearer ${e.accessToken}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)return console.warn("Failed to fetch tags, returning empty array"),[];const i=await n.json();if(!i.workItems||i.workItems.length===0)return[];const s=i.workItems.map(h=>h.id).slice(0,200),l=`https://dev.azure.com/${e.organization}/${e.project}/_apis/wit/workitems?ids=${s.join(",")}&fields=System.Tags&api-version=7.1`,u=await fetch(l,{headers:{Authorization:`Bearer ${e.accessToken}`,"Content-Type":"application/json"}});if(!u.ok)return console.warn("Failed to fetch work item details for tags"),[];const f=await u.json(),m=new Set;return f.value&&Array.isArray(f.value)&&f.value.forEach(h=>{h.fields&&h.fields["System.Tags"]&&h.fields["System.Tags"].split(";").map(v=>v.trim()).forEach(v=>{v&&m.add(v)})}),Array.from(m).sort()}catch(t){return console.warn("Error fetching tags, returning empty array:",t),[]}}function rJ(e){const t=new Date(e).getTime(),r=Date.now(),n=300*1e3;return t-r<n}async function nJ(){const e=new URLSearchParams(window.location.search),t=e.get("code"),r=e.get("state");if(!t)return null;const n=sessionStorage.getItem("oauth_state");if(r!==n)throw new Error("State mismatch - possible CSRF attack");const i=await XY(t);return sessionStorage.removeItem("oauth_state"),i}async function iJ(){const e=Math.random().toString(36).substring(7);sessionStorage.setItem("oauth_state",e);const t=sessionStorage.getItem("currentSession");t&&sessionStorage.setItem("oauth_session_backup",t);const r=await QY(e);window.location.href=r}async function PN(e){const{organization:t,project:r,workItemType:n,query:i,accessToken:s}=e;if(!s)throw new Error("Not authenticated with Azure DevOps");try{const l=i?`SELECT [System.Id] FROM WorkItems WHERE [System.WorkItemType] = '${n}' AND ${i}`:`SELECT [System.Id] FROM WorkItems WHERE [System.WorkItemType] = '${n}' AND [System.State] = 'Active'`,u=`https://dev.azure.com/${t}/${r}/_apis/wit/wiql?api-version=7.0`,f=await fetch(u,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({query:l})});if(!f.ok)throw new Error(`Azure DevOps query failed: ${f.status} ${f.statusText}`);const h=(await f.json()).workItems.map(x=>x.id);if(h.length===0)return[];const p=h.slice(0,200).join(","),v=["System.Id","System.Title","System.Description","System.Tags","System.WorkItemType","System.State","Microsoft.VSTS.Common.Priority","System.AreaPath","System.IterationPath"].join(","),w=`https://dev.azure.com/${t}/${r}/_apis/wit/workitems?ids=${p}&fields=${v}&api-version=7.0`,_=await fetch(w,{headers:{Authorization:`Bearer ${s}`}});if(!_.ok)throw new Error(`Failed to fetch work items: ${_.status} ${_.statusText}`);return(await _.json()).value.map(x=>({id:x.id,fields:{"System.Title":x.fields["System.Title"],"System.Description":x.fields["System.Description"],"System.Tags":x.fields["System.Tags"],"System.WorkItemType":x.fields["System.WorkItemType"],"System.State":x.fields["System.State"],"Microsoft.VSTS.Common.Priority":x.fields["Microsoft.VSTS.Common.Priority"],"System.AreaPath":x.fields["System.AreaPath"],"System.IterationPath":x.fields["System.IterationPath"]},url:`https://dev.azure.com/${t}/${r}/_workitems/edit/${x.id}`}))}catch(l){throw console.error("Error fetching from Azure DevOps:",l),l}}function TN(e){return e.map(t=>{if(t.fields["System.Tags"]){const r=t.fields["System.Tags"].split(";").map(n=>n.trim());r.length>0&&r[0]}else if(t.fields["System.AreaPath"]){const n=t.fields["System.AreaPath"].split("\\");n.length>1&&n[n.length-1]}return{id:`ado-${t.id}`,title:t.fields["System.Title"]||"Untitled",description:t.fields["System.Description"]||"",epic:t.fields["System.AreaPath"]||null,state:t.fields["System.State"]||null,areaPath:t.fields["System.AreaPath"]||null,tags:t.fields["System.Tags"]?t.fields["System.Tags"].split(";").map(r=>r.trim()).filter(r=>r):[],azureDevOpsId:t.id.toString(),azureDevOpsUrl:t.url}})}function sJ({config:e,onConnect:t,onCancel:r,isFetching:n,error:i}){const{register:s,handleSubmit:l,formState:{errors:u}}=qc({defaultValues:{organization:e.organization||"newmill",project:e.project||"Product"}}),f=m=>{t(m.organization,m.project)};return c.jsxs("form",{onSubmit:l(f),className:"bg-blue-50 p-4 rounded-lg",children:[c.jsxs("h3",{className:"text-lg font-medium mb-4 text-[#2d4660] flex items-center",children:[c.jsx(qv,{className:"h-5 w-5 mr-2"}),"Connect to Azure DevOps"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization Name *"}),c.jsx("input",{...s("organization",{required:"Organization name is required"}),placeholder:"your-organization",className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),u.organization&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.organization.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Name *"}),c.jsx("input",{...s("project",{required:"Project name is required"}),placeholder:"your-project",className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),u.project&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.project.message})]})]}),i&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-md",children:c.jsxs("p",{className:"flex items-center",children:[c.jsx(Jt,{className:"h-4 w-4 mr-2"}),i]})}),c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsx(wt,{variant:"secondary",onClick:r,disabled:n,children:"Cancel"}),c.jsxs(wt,{variant:"primary",type:"submit",disabled:n,className:"flex items-center",children:[n&&c.jsx(ih,{className:"animate-spin h-4 w-4 mr-2"}),n?"Connecting...":"Connect with Azure DevOps"]})]})]})}function Ld({options:e,value:t,onChange:r,placeholder:n="Select...",label:i,searchable:s=!1}){const[l,u]=S.useState(!1),[f,m]=S.useState(""),h=S.useRef(null),p=S.useRef(null);S.useEffect(()=>{function x(k){h.current&&!h.current.contains(k.target)&&(u(!1),m(""))}return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]),S.useEffect(()=>{l&&s&&p.current&&p.current.focus()},[l,s]);const v=x=>{t.includes(x)?r(t.filter(k=>k!==x)):r([...t,x])},w=(x,k)=>{k.stopPropagation(),r(t.filter(N=>N!==x))},_=x=>{x.stopPropagation(),r([])},b=s&&f?e.filter(x=>x.toLowerCase().includes(f.toLowerCase())):e;return c.jsxs("div",{ref:h,className:"relative",children:[i&&c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i}),c.jsxs("div",{onClick:()=>u(!l),className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-white cursor-pointer min-h-[38px] flex items-center justify-between",children:[c.jsx("div",{className:"flex-1 flex flex-wrap gap-1",children:t.length===0?c.jsx("span",{className:"text-gray-400 text-sm",children:n}):t.map(x=>c.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:[x,c.jsx("button",{type:"button",onClick:k=>w(x,k),className:"ml-1 hover:text-blue-900",children:c.jsx(Di,{className:"h-3 w-3"})})]},x))}),c.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[t.length>0&&c.jsx("button",{type:"button",onClick:_,className:"text-gray-400 hover:text-gray-600",children:c.jsx(Di,{className:"h-4 w-4"})}),c.jsx(yc,{className:`h-4 w-4 text-gray-400 transition-transform ${l?"transform rotate-180":""}`})]})]}),l&&c.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-hidden flex flex-col",children:[s&&c.jsx("div",{className:"p-2 border-b border-gray-200",children:c.jsx("input",{ref:p,type:"text",value:f,onChange:x=>m(x.target.value),onClick:x=>x.stopPropagation(),placeholder:"Type to search...",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),c.jsx("div",{className:"overflow-y-auto",children:b.length>0?b.map(x=>c.jsxs("div",{onClick:()=>v(x),className:`px-3 py-2 cursor-pointer hover:bg-gray-50 flex items-center justify-between ${t.includes(x)?"bg-blue-50":""}`,children:[c.jsx("span",{className:"text-sm",children:x}),t.includes(x)&&c.jsx(Bn,{className:"h-4 w-4 text-blue-600"})]},x)):c.jsx("div",{className:"px-3 py-2 text-sm text-gray-500 text-center",children:"No matches found"})})]})]})}function aJ({config:e,onUpdateConfig:t,onPreview:r,isFetching:n,availableStates:i,availableAreaPaths:s,availableTags:l,onFetchStatesForType:u}){const[f,m]=S.useState(!1),{register:h,handleSubmit:p,watch:v,control:w}=qc({defaultValues:{workItemTypes:e.workItemType?[e.workItemType]:["Feature"],states:e.states||[],areaPaths:e.areaPath?[e.areaPath]:[],tags:e.tags||[],query:e.query||""}}),_=v("workItemTypes");S.useEffect(()=>{u&&_&&_.length>0&&u(_[0])},[_,u]);const b=async x=>{const k=[];if(x.workItemTypes&&x.workItemTypes.length>0)if(x.workItemTypes.length===1)k.push(`[System.WorkItemType] = '${x.workItemTypes[0]}'`);else{const A=x.workItemTypes.map(P=>`'${P}'`).join(", ");k.push(`[System.WorkItemType] IN (${A})`)}if(x.states&&x.states.length>0)if(x.states.length===1)k.push(`[System.State] = '${x.states[0]}'`);else{const A=x.states.map(P=>`'${P}'`).join(", ");k.push(`[System.State] IN (${A})`)}if(x.areaPaths&&x.areaPaths.length>0)if(x.areaPaths.length===1)k.push(`[System.AreaPath] UNDER '${x.areaPaths[0]}'`);else{const A=x.areaPaths.map(P=>`[System.AreaPath] UNDER '${P}'`);k.push(`(${A.join(" OR ")})`)}if(x.tags&&x.tags.length>0){const A=x.tags.map(P=>`[System.Tags] CONTAINS '${P}'`);k.push(`(${A.join(" OR ")})`)}f&&x.query&&k.push(`(${x.query})`);const N=k.length>0?k.join(" AND "):void 0,E={...e,workItemType:x.workItemTypes&&x.workItemTypes.length>0?x.workItemTypes[0]:"Feature",query:N,states:x.states&&x.states.length>0?x.states:void 0,areaPath:x.areaPaths&&x.areaPaths.length>0?x.areaPaths[0]:void 0,tags:x.tags&&x.tags.length>0?x.tags:void 0};t(E),await r()};return c.jsxs("form",{onSubmit:p(b),className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-medium text-[#2d4660] flex items-center",children:[c.jsx(X3,{className:"h-5 w-5 mr-2"}),"Filter Work Items"]}),c.jsx("button",{type:"button",onClick:()=>m(!f),className:"text-xs text-blue-600 hover:text-blue-800 font-medium",children:f?" Hide Advanced WIQL":"Show Advanced WIQL "})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx(bd,{name:"workItemTypes",control:w,render:({field:x})=>c.jsx(Ld,{label:"Work Item Type",options:["Feature","User Story","Product Backlog Item","Epic","Issue"],value:x.value,onChange:x.onChange,placeholder:"Select types..."})}),c.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Click to select multiple types"})]}),i.length>0&&c.jsxs("div",{children:[c.jsx(bd,{name:"states",control:w,render:({field:x})=>c.jsx(Ld,{label:"State (Optional)",options:i,value:x.value,onChange:x.onChange,placeholder:"Select states..."})}),c.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Click to select multiple states"})]}),s.length>0&&c.jsxs("div",{children:[c.jsx(bd,{name:"areaPaths",control:w,render:({field:x})=>c.jsx(Ld,{label:"Area Path (Optional)",options:s,value:x.value,onChange:x.onChange,placeholder:"Select area paths...",searchable:!0})}),c.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Type to search and select paths"})]}),l.length>0&&c.jsxs("div",{children:[c.jsx(bd,{name:"tags",control:w,render:({field:x})=>c.jsx(Ld,{label:"Tags (Optional)",options:l,value:x.value,onChange:x.onChange,placeholder:"Select tags...",searchable:!0})}),c.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Type to search and select tags"})]})]}),f&&c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Advanced WIQL Query (Optional)"}),c.jsx("input",{...h("query"),placeholder:"e.g., [System.Priority] = 1",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"}),c.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Will be combined with above filters using AND."," ",c.jsx("a",{href:"https://learn.microsoft.com/en-us/azure/devops/boards/queries/wiql-syntax",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:"WIQL syntax reference "})]})]}),c.jsx("div",{className:"flex justify-end",children:c.jsxs(wt,{variant:"gold",type:"submit",disabled:n,className:"flex items-center",children:[n&&c.jsx(ih,{className:"animate-spin h-4 w-4 mr-2"}),n?"Loading...":"Preview Features"]})})]})}function oJ({session:e,featureCount:t,onSubmit:r,onCancel:n}){const{register:i,handleSubmit:s,watch:l,formState:{errors:u}}=qc({defaultValues:{title:e.title,goal:e.goal,startDate:e.startDate.split("T")[0],endDate:e.endDate.split("T")[0],useAutoVotes:e.useAutoVotes||!1,votesPerUser:e.votesPerUser}}),f=l("useAutoVotes"),m=f?Math.max(1,Math.floor(t/2)):l("votesPerUser");return c.jsxs("form",{onSubmit:s(r),children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Session Title"}),c.jsx("input",{...i("title",{required:"Title is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),u.title&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.title.message})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Goal"}),c.jsx("textarea",{...i("goal",{required:"Goal is required"}),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),u.goal&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.goal.message})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),c.jsx("input",{type:"date",...i("startDate",{required:"Start date is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),u.startDate&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.startDate.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),c.jsx("input",{type:"date",...i("endDate",{required:"End date is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),u.endDate&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.endDate.message})]})]}),c.jsxs("div",{className:"mb-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-start",children:[c.jsx("input",{type:"checkbox",...i("useAutoVotes"),className:"mt-1 h-4 w-4 text-blue-600 border-gray-300 rounded"}),c.jsxs("div",{className:"ml-3",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Automatically calculate votes per user"}),c.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Each user gets half the number of features (minimum 1 vote). Currently: ",m," votes"]})]})]}),!f&&c.jsxs("div",{className:"mt-3",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Votes Per User"}),c.jsx("input",{type:"number",min:"1",...i("votesPerUser",{required:f?!1:"Votes per user is required",min:{value:1,message:"Must be at least 1"}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),u.votesPerUser&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.votesPerUser.message})]})]}),c.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[c.jsx(wt,{variant:"secondary",type:"button",onClick:n,children:"Cancel"}),c.jsx(wt,{variant:"primary",type:"submit",children:"Save Changes"})]})]})}function lJ({features:e,onAddFeature:t,onUpdateFeature:r,onDeleteFeature:n,onShowResults:i,showAddForm:s,setShowAddForm:l,editingFeature:u,setEditingFeature:f,onLogout:m,votingSession:h,azureDevOpsConfig:p,onUpdateAzureDevOpsConfig:v,showAzureDevOpsForm:w,setShowAzureDevOpsForm:_,onFetchAzureDevOpsFeatures:b,onPreviewAzureDevOpsFeatures:x,onDisconnectAzureDevOps:k,isFetchingAzureDevOps:N,azureFetchError:E,onInitiateOAuth:A,availableStates:P,availableAreaPaths:I,availableTags:L,previewFeatures:G,showPreviewModal:W,setShowPreviewModal:U,onConfirmSync:z,hasImportedFeatures:V,setHasImportedFeatures:ee,onShowVoterView:X,onUpdateVotingSession:ae,onFetchStatesForType:xe}){const ye=Sn(),{currentUser:re}=Li(),[le,ce]=S.useState(!1),[M,D]=S.useState(!1),{register:te,handleSubmit:Se,reset:ne}=qc({defaultValues:{reason:"",details:""}});Tx(h.endDate);const ke=h.isActive?c.jsx("span",{className:"text-[#1E5461] font-medium",children:"Active"}):Ra(h.endDate)?c.jsx("span",{className:"text-[#591D0F] font-medium",children:"Closed"}):c.jsx("span",{className:"text-[#C89212] font-medium",children:"Upcoming"}),$e=oe=>{const Z={title:oe.title,goal:oe.goal,votesPerUser:oe.useAutoVotes?Math.max(1,Math.floor(e.length/2)):Number(oe.votesPerUser),useAutoVotes:oe.useAutoVotes,startDate:new Date(oe.startDate).toISOString(),endDate:new Date(oe.endDate+"T23:59:59").toISOString(),isActive:h.isActive};ae(Z),ce(!1)},Qe=oe=>{const Z=new Date().toISOString(),Ee={...h,originalEndDate:h.endDate,endDate:Z,isActive:!1,endedEarlyBy:(re==null?void 0:re.name)||"Admin",endedEarlyReason:oe.reason,endedEarlyDetails:oe.details||void 0};ae(Ee),D(!1),ne()},ue=()=>{const oe=new Date;oe.setDate(oe.getDate()+7);const Z={...h,endDate:oe.toISOString(),isActive:!0,originalEndDate:void 0,endedEarlyBy:void 0,endedEarlyReason:void 0,endedEarlyDetails:void 0};ae(Z)},Pe=(oe,Z)=>{const Ee={...p,organization:oe,project:Z};v(Ee),A()};return c.jsxs("div",{className:"container mx-auto p-4 max-w-6xl min-h-screen pb-8",children:[c.jsx("div",{className:"hidden md:flex md:justify-center mb-2 cursor-pointer",onClick:()=>ye("/sessions"),children:c.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"-mt-4",style:{height:"96px",width:"auto"}})}),c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Mh,{src:"https://media.licdn.com/dms/image/C4D0BAQEC3OhRqehrKg/company-logo_200_200/0/1630518354793/new_millennium_building_systems_logo?e=2147483647&v=beta&t=LM3sJTmQZet5NshZ-RNHXW1MMG9xSi1asp-VUeSA9NA",alt:"New Millennium Building Systems Logo",className:"mr-4 md:hidden",style:{width:"40px",height:"40px"}}),c.jsx("h1",{className:"text-2xl font-bold text-[#2d4660] md:text-3xl",children:"Admin Dashboard"})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs("button",{onClick:X,className:"flex items-center px-4 py-2 bg-[#5A7C8C] text-white rounded-lg hover:bg-[#4A6C7C] transition-colors",children:[c.jsx(Zr,{className:"mr-2 h-4 w-4"}),c.jsx("span",{className:"hidden md:inline",children:"Voter View"})]}),c.jsxs("button",{onClick:()=>ye("/users?filter=stakeholder"),className:"flex items-center px-4 py-2 bg-[#2d4660] text-white rounded-lg hover:bg-[#173B65] transition-colors",children:[c.jsx(pn,{className:"mr-2 h-4 w-4"}),c.jsx("span",{className:"hidden md:inline",children:"Stakeholders"})]}),c.jsxs("button",{onClick:()=>ye("/users?filter=session-admin"),className:"flex items-center px-4 py-2 bg-[#2d4660] text-white rounded-lg hover:bg-[#173B65] transition-colors",children:[c.jsx(Xr,{className:"mr-2 h-4 w-4"}),c.jsx("span",{className:"hidden md:inline",children:"Session Admins"})]}),c.jsxs("button",{onClick:m,className:"flex items-center px-4 py-2 bg-[#576C71] text-white rounded-lg hover:bg-[#1E5461] transition-colors",children:[c.jsx(Nr,{className:"mr-2 h-4 w-4"}),c.jsx("span",{className:"hidden md:inline",children:"Logout"})]})]})]}),c.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-md p-4 mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-[#2d4660]",children:"Current Session"}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs(wt,{variant:"gold",onClick:i,className:"flex items-center",children:[c.jsx(HE,{className:"h-4 w-4 mr-2"}),Ra(h.endDate)?"Final Results":"Current Results"]}),c.jsxs(wt,{variant:"primary",onClick:()=>ce(!0),className:"flex items-center",children:[c.jsx(fr,{className:"h-4 w-4 mr-2"}),"Edit Session"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Session Title"}),c.jsx("p",{className:"text-[#2d4660] font-medium",children:h.title})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Voting Period"}),c.jsxs("p",{className:`text-[#2d4660] font-medium ${h.originalEndDate?"line-through text-gray-400":""}`,children:[Da(h.startDate)," - ",Da(h.originalEndDate||h.endDate)]}),h.originalEndDate&&h.endedEarlyBy&&c.jsxs("div",{className:"flex items-center mt-1 text-xs text-red-600",children:[c.jsxs("span",{children:["Ended Early by ",h.endedEarlyBy]}),h.endedEarlyReason&&c.jsxs("div",{className:"group relative ml-1",children:[c.jsx(Jt,{className:"h-3 w-3 cursor-help"}),c.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 whitespace-nowrap z-10 pointer-events-none max-w-xs",children:[c.jsxs("div",{className:"font-semibold mb-1",children:["Reason: ",h.endedEarlyReason]}),h.endedEarlyDetails&&c.jsx("div",{className:"whitespace-normal",children:h.endedEarlyDetails}),c.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-1 border-4 border-transparent border-t-gray-900"})]})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Votes Per User"}),c.jsx("p",{className:"text-[#2d4660] font-medium",children:h.useAutoVotes?`${Math.max(1,Math.floor(e.length/2))} (Auto: ${e.length} features  2)`:h.votesPerUser})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Status"}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(nh,{className:"h-4 w-4 mr-1 text-gray-600"}),ke]}),(h.isActive||Ra(h.endDate))&&c.jsx(wt,{variant:h.isActive?"danger":"primary",onClick:()=>{h.isActive?D(!0):ue()},className:"text-xs px-2 py-1 ml-2",children:h.isActive?"End Early":"Reopen"})]})]})]}),c.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[c.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Goal"}),c.jsx("p",{className:"text-[#2d4660]",children:h.goal})]})]}),c.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-md p-4 mb-6",children:[c.jsx("div",{className:"flex items-center justify-between mb-4",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(qv,{className:"h-5 w-5 text-[#2d4660] mr-2"}),c.jsx("h2",{className:"text-xl font-semibold text-[#2d4660]",children:"Azure DevOps Integration"})]})}),p.enabled?c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Bn,{className:"h-5 w-5 text-green-600 mr-2"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-green-900",children:"Connected to Azure DevOps"}),c.jsxs("p",{className:"text-sm text-green-700 mt-1",children:[c.jsx("span",{className:"font-medium",children:"Organization:"})," ",p.organization,c.jsx("span",{className:"mx-2",children:""}),c.jsx("span",{className:"font-medium",children:"Project:"})," ",p.project,p.lastSyncTime&&c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"mx-2",children:""}),c.jsx("span",{className:"font-medium",children:"Last Sync:"})," ",Da(p.lastSyncTime)]})]})]})]}),c.jsxs("button",{onClick:k,className:"text-sm text-red-600 hover:text-red-800 font-medium flex items-center",children:[c.jsx(Di,{className:"h-4 w-4 mr-1"}),"Disconnect"]})]})}),c.jsx(aJ,{config:p,onUpdateConfig:v,onPreview:x,isFetching:N,availableStates:P,availableAreaPaths:I,availableTags:L,onFetchStatesForType:xe})]}):w?c.jsx(sJ,{config:p,onConnect:Pe,onCancel:()=>_(!1),isFetching:N,error:E}):c.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 text-center border border-dashed border-gray-300",children:[c.jsx(qv,{className:"h-10 w-10 text-gray-400 mx-auto mb-3"}),c.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"Not Connected"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Connect to Azure DevOps to import work items as features for voting."}),c.jsxs(wt,{variant:"primary",onClick:()=>_(!0),className:"inline-flex items-center",children:[c.jsx(fr,{className:"h-4 w-4 mr-2"}),"Connect to Azure DevOps"]})]})]}),c.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-md p-4 mb-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-[#2d4660]",children:"Feature Management"}),c.jsxs(wt,{variant:"gold",onClick:()=>l(!0),className:"flex items-center w-44",children:[c.jsx(xc,{className:"mr-2 h-4 w-4"}),"Add Feature"]})]}),c.jsx("div",{className:"w-full overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 table-fixed",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"w-[20%] px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),c.jsx("th",{scope:"col",className:"hidden lg:table-cell w-[25%] px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),c.jsx("th",{scope:"col",className:"hidden md:table-cell w-[10%] px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Epic"}),c.jsx("th",{scope:"col",className:"hidden md:table-cell w-[8%] px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"State"}),c.jsx("th",{scope:"col",className:"hidden lg:table-cell w-[12%] px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Area Path"}),c.jsx("th",{scope:"col",className:"hidden xl:table-cell w-[10%] px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tags"}),c.jsx("th",{scope:"col",className:"w-[8%] px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Votes"}),c.jsx("th",{scope:"col",className:"w-[7%] px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(oe=>c.jsxs("tr",{className:"align-top group",children:[c.jsx("td",{className:"px-4 py-4 whitespace-normal break-words text-sm font-medium text-left",children:c.jsxs("div",{className:"max-w-xs overflow-hidden text-left",children:[oe.title,oe.azureDevOpsId&&c.jsx("div",{className:"mt-1",children:c.jsx(Yf,{id:oe.azureDevOpsId,url:oe.azureDevOpsUrl||""})})]})}),c.jsx("td",{className:"hidden lg:table-cell px-4 py-4 text-sm text-gray-500 text-left",children:c.jsx("div",{className:"max-w-md overflow-hidden break-words text-left",children:oe.description||c.jsx("span",{className:"italic text-gray-400",children:"No description provided"})})}),c.jsx("td",{className:"hidden md:table-cell px-4 py-4 whitespace-nowrap text-sm",children:oe.epic&&c.jsx(Gf,{name:oe.epic})}),c.jsx("td",{className:"hidden md:table-cell px-4 py-4 whitespace-nowrap text-sm",children:oe.state&&c.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:oe.state})}),c.jsx("td",{className:"hidden lg:table-cell px-4 py-4 text-sm text-gray-600",children:c.jsx("div",{className:"max-w-xs truncate",children:oe.areaPath||"-"})}),c.jsx("td",{className:"hidden xl:table-cell px-4 py-4 text-sm",children:oe.tags&&oe.tags.length>0?c.jsxs("div",{className:"flex flex-wrap gap-1",children:[oe.tags.slice(0,3).map((Z,Ee)=>c.jsx("span",{className:"px-2 py-0.5 text-xs bg-gray-100 text-gray-700 rounded",children:Z},Ee)),oe.tags.length>3&&c.jsxs("span",{className:"px-2 py-0.5 text-xs text-gray-500",children:["+",oe.tags.length-3]})]}):c.jsx("span",{className:"text-gray-400",children:"-"})}),c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:oe.votes}),c.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500 space-x-3 md:opacity-0 md:group-hover:opacity-100 transition-opacity",children:[c.jsx("button",{onClick:()=>f(oe),className:"text-[#2d4660] hover:text-[#C89212] inline-block cursor-pointer",title:"Edit Feature",children:c.jsx(g6,{className:"h-5 w-5"})}),c.jsx("button",{onClick:()=>n(oe.id),className:"text-[#2d4660] hover:text-[#591D0F] inline-block cursor-pointer",title:"Delete Feature",children:c.jsx(Ks,{className:"h-5 w-5"})})]})]},oe.id))})]})})]}),c.jsx(uc,{isOpen:s,onClose:()=>l(!1),title:"Add New Feature",children:c.jsx(DN,{onSubmit:oe=>{t(oe),l(!1)},onCancel:()=>l(!1)})}),c.jsx(uc,{isOpen:u!==null,onClose:()=>f(null),title:"Edit Feature",children:u&&c.jsx(DN,{feature:u,onSubmit:oe=>{r({...u,...oe}),f(null)},onCancel:()=>f(null)})}),c.jsx(uc,{isOpen:le,onClose:()=>ce(!1),title:"Edit Session Settings",children:c.jsx(oJ,{session:h,featureCount:e.length,onSubmit:$e,onCancel:()=>ce(!1)})}),c.jsx(uc,{isOpen:W,onClose:()=>U(!1),title:"Preview Azure DevOps Features",maxWidth:"max-w-4xl",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx("p",{className:"text-gray-600",children:"Review the features that will be synced from Azure DevOps. Choose an action:"}),c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm",children:[c.jsxs("p",{className:"text-blue-800",children:[c.jsx("strong",{children:"Add Features:"})," Merge with existing features (updates matching Azure DevOps IDs)"]}),c.jsxs("p",{className:"text-blue-800 mt-1",children:[c.jsx("strong",{children:"Replace All:"})," Delete all existing features and add only these Azure DevOps features"]})]}),G&&G.length>0?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:c.jsxs("p",{className:"text-blue-800 font-medium",children:["Found ",G.length," work item",G.length!==1?"s":""," to sync"]})}),c.jsx("div",{className:"max-h-96 overflow-y-auto border border-gray-200 rounded-lg",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50 sticky top-0",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"ID"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Title"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Epic"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"State"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Area Path"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tags"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:G.map(oe=>c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-3 text-sm",children:oe.azureDevOpsId&&c.jsx(Yf,{id:oe.azureDevOpsId,url:oe.azureDevOpsUrl||""})}),c.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:oe.title}),c.jsx("td",{className:"px-4 py-3 text-sm",children:oe.epic&&c.jsx(Gf,{name:oe.epic})}),c.jsx("td",{className:"px-4 py-3 text-sm",children:oe.state&&c.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:oe.state})}),c.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:c.jsx("div",{className:"max-w-xs truncate",children:oe.areaPath||"-"})}),c.jsx("td",{className:"px-4 py-3 text-sm",children:oe.tags&&oe.tags.length>0?c.jsxs("div",{className:"flex flex-wrap gap-1",children:[oe.tags.slice(0,2).map((Z,Ee)=>c.jsx("span",{className:"px-2 py-0.5 text-xs bg-gray-100 text-gray-700 rounded",children:Z},Ee)),oe.tags.length>2&&c.jsxs("span",{className:"px-2 py-0.5 text-xs text-gray-500",children:["+",oe.tags.length-2]})]}):c.jsx("span",{className:"text-gray-400",children:"-"})})]},oe.id))})]})}),c.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:[c.jsx(wt,{variant:"secondary",onClick:()=>U(!1),children:"Cancel"}),c.jsxs(wt,{variant:"primary",onClick:async()=>{await z(!1),U(!1)},className:"flex items-center",children:[c.jsx(xc,{className:"h-4 w-4 mr-2"}),"Add ",G.length," Feature",G.length!==1?"s":""]}),c.jsxs(wt,{variant:"danger",onClick:async()=>{await z(!0),U(!1)},className:"flex items-center",children:[c.jsx(ih,{className:"h-4 w-4 mr-2"}),"Replace All Features"]})]})]}):c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Jt,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),c.jsx("p",{className:"text-gray-600",children:"No features found to sync"})]})]})}),c.jsx(uc,{isOpen:M,onClose:()=>{D(!1),ne()},title:"End Session Early",children:c.jsxs("form",{onSubmit:Se(Qe),className:"space-y-4",children:[c.jsx("p",{className:"text-gray-600",children:"You are about to end this voting session early. Please select a reason:"}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason *"}),c.jsxs("select",{...te("reason",{required:"Please select a reason"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent",children:[c.jsx("option",{value:"",children:"Select a reason..."}),c.jsx("option",{value:"Sufficient Responses",children:"Sufficient responses received"}),c.jsx("option",{value:"Project Cancelled",children:"Project or initiative cancelled"}),c.jsx("option",{value:"Timeline Changed",children:"Timeline or priorities changed"}),c.jsx("option",{value:"Technical Issues",children:"Technical issues or data concerns"}),c.jsx("option",{value:"Stakeholder Request",children:"Stakeholder request"}),c.jsx("option",{value:"Low Participation",children:"Low participation rate"}),c.jsx("option",{value:"Other",children:"Other"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Details (Optional)"}),c.jsx("textarea",{...te("details"),rows:3,placeholder:"Add any additional context or notes...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent"})]}),c.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 text-sm text-yellow-800",children:[c.jsx("p",{className:"font-medium mb-1",children:"Note:"}),c.jsx("p",{children:"Ending the session will close voting immediately. This action will be logged and visible to all admins."})]}),c.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[c.jsx(wt,{variant:"secondary",type:"button",onClick:()=>{D(!1),ne()},children:"Cancel"}),c.jsx(wt,{variant:"danger",type:"submit",children:"End Session Now"})]})]})})]})}const IN=["User Experience","Vendor Management","Analytics & Reporting","Operational Efficiency","Compliance & Risk","Mobile Access","Integration","Sustainability","Budget Management"],cJ={title:"Q2 Product Roadmap",goal:"Prioritize features for the Purchasing Dashboard redesign",votesPerUser:10,useAutoVotes:!0,startDate:new Date().toISOString(),endDate:new Date(Date.now()+10080*60*1e3).toISOString(),isActive:!0},uJ={organization:"newmill",project:"Product",enabled:!1,workItemType:"Feature"},dJ=[{id:"u1",name:"John Doe",email:"john@example.com",totalVotes:10,usedVotes:0,votesPerFeature:{}},{id:"u2",name:"Jane Smith",email:"jane@example.com",totalVotes:10,usedVotes:0,votesPerFeature:{}},{id:"u3",name:"Robert Johnson",email:"robert@example.com",totalVotes:10,usedVotes:0,votesPerFeature:{}}],Da=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),Tx=e=>{const t=new Date(e),r=new Date;t.setHours(0,0,0,0),r.setHours(0,0,0,0);const n=t.getTime()-r.getTime();return Math.ceil(n/(1e3*60*60*24))},kP=e=>e<=0?"text-[#591D0F]":e<=2?"text-[#6A4234]":e<=4?"text-[#C89212]":"text-[#1E5461]",NP=e=>e<=0?"bg-[#591D0F]/10":e<=2?"bg-[#6A4234]/10":e<=4?"bg-[#C89212]/10":"bg-[#1E5461]/10",Ra=e=>new Date(e)<new Date,fJ=(e,t)=>{const r=new Date(e),n=new Date(t),i=new Date;return r<=i&&i<=n},hJ=e=>{const t=[...e];for(let r=t.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1));[t[r],t[n]]=[t[n],t[r]]}return t},Gd=(e,t)=>e?e.length>t?`${e.substring(0,t-3)}...`:e:"",Sv=e=>{if(!e)return"";const t=document.createElement("div");t.innerHTML=e;let r=t.textContent||t.innerText||"";return r=r.replace(/\s+/g," ").trim(),r},mJ=e=>{const t=e.split("");for(let r=0;r<3;r++){const n=Math.floor(Math.random()*t.length),i=Math.floor(Math.random()*t.length);n!==i&&([t[n],t[i]]=[t[i],t[n]])}return t.join("")};function Mh({src:e,alt:t,style:r,className:n,...i}){const[s,l]=S.useState(!1);return s?c.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${n??""}`,style:r,children:c.jsx("div",{className:"flex items-center justify-center w-full h-full",children:c.jsx("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==",alt:"Error loading image",...i,"data-original-url":e})})}):c.jsx("img",{src:e,alt:t,className:n,style:r,...i,onError:()=>l(!0)})}const wt=et.memo(function({children:t,onClick:r,variant:n="primary",disabled:i=!1,className:s="",...l}){const u="py-2 px-4 rounded-lg flex items-center transition-colors cursor-pointer",f={primary:"bg-[#2d4660] text-white hover:bg-[#173B65]",secondary:"border border-gray-300 text-gray-700 hover:bg-gray-50",danger:"bg-[#591D0F] text-white hover:bg-[#492434]",gold:"bg-[#C89212] text-white hover:bg-[#A67810]",blue:"bg-[#173B65] text-white hover:bg-[#1D2C49]",gray:"bg-[#576C71] text-white hover:bg-[#1E5461]"};return c.jsx("button",{onClick:r,disabled:i,className:`${u} ${f[n]} ${i?"opacity-60 cursor-not-allowed":""} ${s}`,...l,children:t})});class uc extends S.Component{render(){const{isOpen:t,onClose:r,title:n,children:i,maxWidth:s="max-w-2xl"}=this.props;return t?c.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:c.jsxs("div",{className:"flex items-center justify-center min-h-screen p-4 text-center",children:[c.jsx("div",{className:"fixed inset-0 transition-opacity bg-black/50",onClick:r,"aria-hidden":"true"}),c.jsxs("div",{className:`inline-block w-full ${s} p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg`,children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-medium text-[#2d4660]",children:n}),c.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:c.jsx(Di,{className:"h-5 w-5"})})]}),c.jsx("div",{className:"mt-2",children:i})]})]})}):null}}const Gf=et.memo(function({name:t}){return t?c.jsxs("div",{className:"flex items-center text-xs text-[#2d4660]",children:[c.jsx(y6,{className:"h-3 w-3 mr-1 text-[#2d4660]"}),c.jsx("span",{className:"font-medium",children:Gd(t,30)})]}):null}),Yf=et.memo(function({id:t,url:r}){return t?c.jsxs("a",{href:r,target:"_blank",rel:"noreferrer",className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 hover:bg-blue-200 cursor-pointer",title:"View in Azure DevOps",children:[c.jsx(Y3,{className:"h-3 w-3 mr-1"}),"#",t]}):null}),pJ=et.memo(function({endDate:t}){const r=Tx(t),n=kP(r),i=NP(r);return c.jsx("div",{className:`${i} rounded-md p-3 border ${r<=2?"border-[#6A4234]/20":r<=4?"border-[#C89212]/20":"border-[#1E5461]/20"}`,children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(di,{className:`h-5 w-5 mr-2 ${n}`}),c.jsxs("div",{children:[c.jsxs("span",{className:`font-medium ${n}`,children:["Voting ends: ",Da(t)]}),c.jsx("div",{className:"text-sm mt-1",children:r<=0?c.jsx("span",{className:"text-red-600 font-medium",children:"Voting ends today!"}):c.jsxs("span",{className:`${n}`,children:[r," ",r===1?"day":"days"," remaining"]})})]})]})})});function gJ({isShuffling:e,onShuffle:t}){const[r,n]=S.useState("Shuffle Features"),i=S.useRef(null);return S.useEffect(()=>(e?i.current=window.setInterval(()=>{n(mJ("Shuffle Features"))},100):i.current!==null&&(window.clearInterval(i.current),n("Shuffle Features")),()=>{i.current!==null&&window.clearInterval(i.current)}),[e]),c.jsxs("button",{onClick:t,className:`py-2 px-4 rounded-lg flex items-center transition-all duration-300 ${e?"bg-[#C89212] text-white scale-95":"bg-[#C89212] hover:bg-[#A67810] text-white hover:scale-105"}`,disabled:e,children:[c.jsx("span",{className:`transition-transform duration-500 ${e?"mr-2 animate-spin":"mr-2"}`,children:c.jsx(m6,{className:"h-4 w-4"})}),c.jsx("span",{className:"font-medium tracking-wide whitespace-nowrap",children:r})]})}const My=et.memo(function({show:t,title:r,message:n,onConfirm:i,onCancel:s,confirmText:l="Confirm",cancelText:u="Cancel",type:f="delete"}){if(!t)return null;const m=f==="delete"?"bg-[#591D0F]/10":"bg-[#C89212]/10",h=f==="delete"?"text-[#591D0F]":"text-[#C89212]",p=f==="delete"?"bg-[#591D0F] hover:bg-[#492434]":"bg-[#C89212] hover:bg-[#A67810]";return c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-xl max-w-md w-full mx-auto overflow-hidden",children:[c.jsxs("div",{className:`${m} p-4 flex items-start space-x-4`,children:[c.jsx("div",{className:h,children:f==="delete"?c.jsx(Ks,{className:"h-5 w-5"}):c.jsx(Jt,{className:"h-5 w-5"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:r}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:n})]})]}),c.jsx("div",{className:"p-4 bg-white space-y-4",children:c.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[c.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 cursor-pointer",children:u}),c.jsx("button",{type:"button",onClick:()=>{i(),s()},className:`px-4 py-2 rounded-md text-sm font-medium text-white ${p} cursor-pointer`,children:l})]})})]})})}),vJ=et.memo(function({feature:t,userVoteCount:r=0,remainingVotes:n=0,votingIsActive:i=!1,onVote:s,isShuffling:l=!1,shuffleStage:u="idle",currentUser:f,onRequestInfo:m}){const[h,p]=S.useState(!1),[v,w]=S.useState(!1),_=async()=>{if(!(!m||v)){w(!0);try{await m(t.id),p(!0)}catch(x){console.error("Error requesting info:",x)}finally{w(!1)}}},b=()=>{switch(u){case"fadeOut":return"opacity-0 scale-95 blur-sm";case"rearranging":return"opacity-0 scale-90";case"fadeIn":return"opacity-100 scale-100 blur-0";default:return"opacity-100 scale-100 blur-0"}};return c.jsx("div",{className:`relative z-10 bg-white rounded-lg shadow-md overflow-hidden transition-all duration-400 ease-in-out ${r>0?"border-2 border-[#1E5461]":""} ${b()}`,children:c.jsxs("div",{className:"p-6 flex flex-col h-full",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2 text-[#2d4660]",children:t.title}),t.description?c.jsx("p",{className:"text-gray-600 mb-4 flex-grow",children:t.description}):c.jsxs("div",{className:"mb-4 flex-grow",children:[c.jsx("p",{className:"text-gray-400 italic mb-3",children:"No description provided"}),f&&m&&c.jsx("div",{className:"transition-all duration-300",children:h?c.jsxs("div",{className:"text-sm px-3 py-2 bg-green-50 text-green-700 rounded-md font-medium flex items-center animate-fadeIn",children:[c.jsx(Bn,{className:"h-4 w-4 mr-2 flex-shrink-0"}),c.jsx("span",{children:"Thank you! Your request has been sent."})]}):c.jsxs("button",{onClick:_,disabled:v,className:"text-sm px-3 py-2 bg-blue-50 hover:bg-blue-100 text-[#2d4660] rounded-md font-medium flex items-center transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(Jt,{className:"h-4 w-4 mr-2 flex-shrink-0"}),c.jsx("span",{children:v?"Sending...":"Ask Product Owner for more info"})]})})]}),c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.epic&&c.jsx(Gf,{name:t.epic}),t.azureDevOpsId&&c.jsx("div",{className:"flex items-center text-xs",children:c.jsx(Yf,{id:t.azureDevOpsId,url:t.azureDevOpsUrl||""})})]}),s&&c.jsx("div",{className:"flex justify-end items-center",children:c.jsx("div",{className:"flex items-center space-x-2",children:r===0?c.jsx("button",{onClick:()=>s(t.id,!0),className:`px-6 py-2.5 rounded-lg text-base font-semibold cursor-pointer transition-colors ${i&&n>0?"bg-[#2d4660] text-white hover:bg-[#C89212]":"bg-gray-300 text-gray-600 cursor-not-allowed"}`,disabled:!i||n<=0,children:"Vote"}):c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>s(t.id,!1),className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-700 cursor-pointer transition-colors","aria-label":"Remove vote",disabled:!i,children:c.jsx(yc,{className:"h-6 w-6"})}),c.jsx("span",{className:"px-4 py-2 bg-[#1E5461]/10 text-[#1E5461] rounded-full font-semibold text-base min-w-[3rem] text-center",children:r}),c.jsx("button",{onClick:()=>s(t.id,!0),className:`p-2 rounded-full cursor-pointer transition-colors ${i&&n>0?"bg-[#2d4660]/10 hover:bg-[#C89212]/30 text-[#2d4660]":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,disabled:!i||n<=0,"aria-label":"Add vote",children:c.jsx(B3,{className:"h-6 w-6"})})]})})})]})})});function yJ({feature:e,onClose:t}){return c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"relative z-10 bg-white rounded-lg p-6 max-w-md w-full max-h-[80vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("h3",{className:"text-lg font-medium text-[#2d4660]",children:['Voters for "',e.title,'"']}),c.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 cursor-pointer",children:c.jsx(Di,{className:"h-5 w-5"})})]}),e.voters.length===0?c.jsx("p",{className:"text-gray-500",children:"No votes yet"}):c.jsx("ul",{className:"divide-y divide-gray-200",children:e.voters.map(r=>c.jsxs("li",{className:"py-3 flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:r.name}),c.jsx("p",{className:"text-sm text-gray-500",children:r.email})]}),c.jsxs("div",{className:"bg-[#2d4660]/10 text-[#2d4660] rounded-full px-3 py-1",children:[r.voteCount," ",r.voteCount===1?"vote":"votes"]})]},r.userId))})]})})}function xJ({features:e,onResetVotes:t,onResetAllVotes:r,onBack:n,showVotersList:i,setShowVotersList:s,votingSession:l,effectiveVotesPerUser:u,onLogout:f}){const[m,h]=S.useState(!1),p=S.useRef(null);S.useEffect(()=>{if(!m)return;const x=k=>{p.current&&!p.current.contains(k.target)&&h(!1)};return document.addEventListener("mousedown",x),document.addEventListener("touchstart",x,{passive:!0}),()=>{document.removeEventListener("mousedown",x),document.removeEventListener("touchstart",x)}},[m]);const v=S.useMemo(()=>[...e].sort((x,k)=>k.votes-x.votes),[e]),w=S.useMemo(()=>v.slice(0,10).map(x=>({name:x.title,votes:x.votes,id:x.id})),[v]),_=Tx(l.endDate),b=kP(_);return c.jsxs("div",{className:"container mx-auto p-4 max-w-6xl pb-8",children:[c.jsx("div",{className:"hidden md:flex md:justify-center mb-2",children:c.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"-mt-4",style:{height:"96px",width:"auto"}})}),c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Mh,{src:"https://media.licdn.com/dms/image/C4D0BAQEC3OhRqehrKg/company-logo_200_200/0/1630518354793/new_millennium_building_systems_logo?e=2147483647&v=beta&t=LM3sJTmQZet5NshZ-RNHXW1MMG9xSi1asp-VUeSA9NA",alt:"New Millennium Building Systems Logo",className:"mr-4 md:hidden",style:{width:"40px",height:"40px"}}),c.jsx("button",{onClick:n,className:"mr-2 p-1 rounded-full hover:bg-gray-200 cursor-pointer",children:c.jsx(nl,{className:"h-6 w-6"})}),c.jsx("h1",{className:"text-2xl font-bold text-[#2d4660] md:text-3xl",children:Ra(l.endDate)?"Final Voting Results":"Current Voting Results"})]}),c.jsxs("div",{ref:p,className:"relative z-40",children:[c.jsxs("div",{className:"hidden md:flex space-x-2",children:[c.jsxs(wt,{variant:"primary",onClick:n,className:"flex items-center",children:[c.jsx(fr,{className:"mr-2 h-4 w-4"}),"Admin Dashboard"]}),c.jsx(wt,{variant:"danger",onClick:r,children:"Reset All Votes"}),c.jsxs(wt,{variant:"gray",onClick:f,className:"flex items-center",children:[c.jsx(Nr,{className:"mr-2 h-4 w-4"}),"Logout"]})]}),c.jsx("div",{className:"flex md:hidden",children:c.jsx("button",{onClick:()=>h(!m),className:"p-2 rounded-md border border-gray-200 bg-white shadow-sm","aria-label":"Open menu",children:c.jsx(Ai,{className:"h-5 w-5 text-gray-700"})})}),m&&c.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-lg md:hidden z-50",children:c.jsxs("div",{className:"py-1",children:[c.jsxs("button",{onClick:()=>{h(!1),n()},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(fr,{className:"h-4 w-4 mr-2 text-gray-700"}),"Admin Dashboard"]}),c.jsxs("button",{onClick:()=>{h(!1),r()},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50 text-red-600",children:[c.jsx(Ks,{className:"h-4 w-4 mr-2"}),"Reset All Votes"]}),c.jsxs("button",{onClick:()=>{h(!1),f()},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(Nr,{className:"h-4 w-4 mr-2 text-gray-700"}),"Logout"]})]})})]})]}),c.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-md p-4 mb-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-[#2d4660]",children:l.title}),c.jsxs("div",{className:"text-sm text-gray-600",children:[c.jsxs("span",{className:"mr-2",children:["Votes per user: ",u]}),l.isActive?c.jsx("span",{className:"text-[#1E5461] font-medium",children:"Voting Active"}):Ra(l.endDate)?c.jsx("span",{className:"text-[#591D0F] font-medium",children:"Voting Closed"}):c.jsx("span",{className:"text-[#C89212] font-medium",children:"Voting Upcoming"})]})]}),c.jsx("p",{className:"text-gray-600 mb-4",children:l.goal}),l.isActive&&c.jsx("div",{className:`${NP(_)} relative z-10 rounded-md p-3 mb-4 inline-block border ${_<=2?"border-[#6A4234]/20":_<=4?"border-[#C89212]/20":"border-[#1E5461]/20"}`,children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(di,{className:`h-4 w-4 mr-2 ${b}`}),c.jsx("span",{className:`${b} font-medium`,children:_<=0?"Voting ends today!":`${_} ${_===1?"day":"days"} remaining until ${Da(l.endDate)}`})]})}),c.jsx("div",{className:"h-72",children:c.jsx(z9,{width:"100%",height:"100%",children:c.jsxs(GY,{data:w,margin:{top:20,right:30,left:20,bottom:60},children:[c.jsx(fP,{dataKey:"name",angle:-45,textAnchor:"end",height:80,tick:{fontSize:12}}),c.jsx(hP,{}),c.jsx(P9,{}),c.jsx(oP,{dataKey:"votes",fill:"#3B82F6",children:w.map((x,k)=>c.jsx(_x,{fill:k%2===0?"#2d4660":"#4f6d8e"},`cell-${k}`))})]})})})]}),c.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-md p-4",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4 text-[#2d4660]",children:"Feature Details"}),c.jsx("div",{className:"w-full overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 table-fixed",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"w-12 px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rank"}),c.jsx("th",{scope:"col",className:"w-1/2 px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),c.jsx("th",{scope:"col",className:"hidden sm:table-cell w-1/4 px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Epic"}),c.jsx("th",{scope:"col",className:"w-14 px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Votes"}),c.jsx("th",{scope:"col",className:"hidden md:table-cell w-20 px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Voters"}),c.jsx("th",{scope:"col",className:"w-20 px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map((x,k)=>c.jsxs("tr",{className:"align-top group",children:[c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:k+1}),c.jsxs("td",{className:"px-4 py-4 whitespace-normal break-words text-sm font-medium",children:[x.title,x.azureDevOpsId&&c.jsx("div",{className:"mt-1",children:c.jsx(Yf,{id:x.azureDevOpsId,url:x.azureDevOpsUrl||""})})]}),c.jsx("td",{className:"hidden sm:table-cell px-4 py-4 whitespace-nowrap text-sm",children:x.epic&&c.jsx(Gf,{name:x.epic})}),c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:x.votes}),c.jsx("td",{className:"hidden md:table-cell px-4 py-4 whitespace-nowrap text-sm",children:c.jsxs("button",{onClick:()=>s(x.id),className:"text-[#2d4660] hover:text-[#C89212] flex items-center cursor-pointer",disabled:x.voters.length===0,children:[c.jsx(pn,{className:"h-4 w-4 mr-1"}),x.voters.length," ",x.voters.length===1?"user":"users"]})}),c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm md:opacity-0 md:group-hover:opacity-100 transition-opacity",children:c.jsx("button",{onClick:()=>t(x.id),className:"text-[#591D0F] hover:text-[#492434] cursor-pointer",disabled:x.votes===0,children:"Reset Votes"})})]},x.id))})]})})]}),i&&c.jsx(yJ,{feature:e.find(x=>x.id===i),onClose:()=>s(null)})]})}function wJ({navigate:e,votingSession:t}){return c.jsx("div",{className:"relative z-10 flex flex-col items-center justify-center min-h-[80vh] p-6",children:c.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white rounded-lg shadow-lg p-8 text-center",children:[c.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"mx-auto mb-6",style:{maxWidth:"200px",height:"auto"}}),c.jsx("div",{className:"w-20 h-20 bg-[#1E5461]/10 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx(Bn,{className:"h-12 w-12 text-[#1E5461]"})}),c.jsx("h1",{className:"text-3xl font-bold text-[#1E5461] mb-4",children:"Thank You!"}),c.jsxs("p",{className:"text-gray-700 text-lg mb-6",children:["Your votes for ",c.jsx("span",{className:"font-semibold",children:t.title})," have been submitted successfully."]}),c.jsx("p",{className:"text-gray-600 mb-8",children:"We appreciate your input in helping prioritize features for our product roadmap."}),c.jsx(wt,{variant:"primary",onClick:()=>e("/sessions"),className:"mx-auto",children:"View All Voting Sessions"})]})})}function EP({isAdmin:e,viewMode:t="voting",onToggleView:r}){const n=new Date().getFullYear();return c.jsx("footer",{className:"mt-auto bg-gray-50 border-t border-gray-200",children:c.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-6xl",children:[e&&r&&c.jsx("div",{className:"flex justify-center mb-6",children:c.jsxs("div",{className:"inline-flex items-center bg-gray-100 rounded-lg p-1",children:[c.jsxs("button",{onClick:()=>t!=="voting"&&r(),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${t==="voting"?"bg-white text-[#2d4660] shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[c.jsx(Zr,{className:"h-4 w-4 inline mr-2"}),"Voter View"]}),c.jsxs("button",{onClick:()=>t!=="admin"&&r(),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${t==="admin"?"bg-white text-[#2d4660] shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[c.jsx(fr,{className:"h-4 w-4 inline mr-2"}),"Admin View"]})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-sm text-gray-600",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"New Millennium Building Systems"}),c.jsxs("p",{className:"text-xs leading-relaxed",children:["A Steel Dynamics Company",c.jsx("br",{}),"Innovation in structural steel manufacturing"]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Quick Links"}),c.jsxs("ul",{className:"space-y-1 text-xs",children:[c.jsx("li",{children:c.jsx("a",{href:"https://www.steeldynamics.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[#2d4660] transition-colors",children:"Steel Dynamics Inc."})}),c.jsx("li",{children:c.jsx("a",{href:"https://www.newmill.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[#2d4660] transition-colors",children:"New Millennium"})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Need Help?"}),c.jsx("p",{className:"text-xs",children:"Contact your Product Owner or session administrator for assistance with voting."})]})]}),c.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 text-center text-xs text-gray-500",children:c.jsxs("p",{children:[" ",n," New Millennium Building Systems, LLC. All rights reserved."]})})]})})}function DN({feature:e,onSubmit:t,onCancel:r}){const{register:n,handleSubmit:i,formState:{errors:s}}=qc({defaultValues:e?{title:e.title,description:e.description,epic:e.epic}:{epic:IN[0]}});return c.jsxs("form",{onSubmit:i(t),children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),c.jsx("input",{...n("title",{required:"Title is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),s.title&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.title.message})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),c.jsx("textarea",{...n("description",{required:"Description is required"}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),s.description&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.description.message})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Epic"}),c.jsx("select",{...n("epic",{required:"Epic is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-white",children:IN.map(l=>c.jsx("option",{value:l,children:l},l))}),s.epic&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.epic.message})]}),c.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[c.jsx(wt,{variant:"secondary",type:"button",onClick:r,children:"Cancel"}),c.jsxs(wt,{variant:"primary",type:"submit",children:[e?"Update":"Add"," Feature"]})]})]})}function bJ({currentUser:e,votingSession:t,onChangeVotes:r,onToggleAdmin:n,isAdmin:i,navigate:s,userVotes:l,features:u}){const[f,m]=S.useState(!1),h=Object.values(l).reduce((v,w)=>v+w,0),p=u.filter(v=>l[v.id]>0);return c.jsxs("div",{className:"container mx-auto p-4 max-w-6xl min-h-screen pb-8",children:[c.jsx("div",{className:"hidden md:flex md:justify-center mb-2",children:c.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"-mt-4",style:{height:"96px",width:"auto"}})}),c.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-6",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Mh,{src:"https://media.licdn.com/dms/image/C4D0BAQEC3OhRqehrKg/company-logo_200_200/0/1630518354793/new_millennium_building_systems_logo?e=2147483647&v=beta&t=LM3sJTmQZet5NshZ-RNHXW1MMG9xSi1asp-VUeSA9NA",alt:"New Millennium Building Systems Logo",className:"mr-4 md:hidden",style:{width:"40px",height:"40px"}}),c.jsx("h1",{className:"text-2xl font-bold text-[#2d4660] md:text-3xl",children:"Feature Voting"})]}),c.jsxs("div",{className:"relative z-10 flex items-center space-x-2 mt-3 md:mt-0 md:justify-end",children:[i&&c.jsxs(wt,{variant:"primary",onClick:n,className:"flex items-center",children:[c.jsx(fr,{className:"mr-2 h-4 w-4"}),c.jsx("span",{className:"hidden md:inline",children:"Admin Dashboard"}),c.jsx("span",{className:"md:hidden",children:"Admin"})]}),c.jsxs(wt,{variant:"gray",onClick:()=>s("/sessions"),className:"flex items-center",children:[c.jsx(Nr,{className:"mr-2 h-4 w-4"}),c.jsx("span",{className:"hidden md:inline",children:"All Sessions"}),c.jsx("span",{className:"md:hidden",children:"Sessions"})]})]})]}),c.jsx("div",{className:"max-w-3xl mx-auto",children:c.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-lg p-8 text-center",children:[c.jsx("div",{className:"w-20 h-20 bg-[#1E5461]/10 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx(Bn,{className:"h-12 w-12 text-[#1E5461]"})}),c.jsx("h2",{className:"text-3xl font-bold text-[#1E5461] mb-4",children:"Votes Already Submitted"}),c.jsxs("p",{className:"text-gray-700 text-lg mb-2",children:["Welcome back, ",c.jsx("span",{className:"font-semibold",children:e.name}),"!"]}),c.jsxs("p",{className:"text-gray-600 mb-6",children:["You have already submitted your votes for ",c.jsx("span",{className:"font-semibold",children:t.title}),"."]}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-[#2d4660] mb-4",children:"Your Current Votes"}),c.jsxs("div",{className:"space-y-3",children:[p.map(v=>c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-gray-700",children:v.title}),c.jsxs("span",{className:"bg-[#1E5461]/10 text-[#1E5461] rounded-full px-3 py-1 font-medium",children:[l[v.id]," ",l[v.id]===1?"vote":"votes"]})]},v.id)),c.jsx("div",{className:"border-t border-gray-200 pt-3 mt-3",children:c.jsxs("div",{className:"flex justify-between items-center font-semibold",children:[c.jsx("span",{className:"text-[#2d4660]",children:"Total Votes"}),c.jsx("span",{className:"text-[#2d4660]",children:h})]})})]})]}),c.jsx("div",{className:"bg-[#C89212]/10 border border-[#C89212]/20 rounded-lg p-4 mb-6",children:c.jsxs("div",{className:"flex items-start text-left",children:[c.jsx(KE,{className:"h-5 w-5 text-[#C89212] mr-3 mt-0.5 flex-shrink-0"}),c.jsx("div",{children:c.jsxs("p",{className:"text-sm text-gray-700",children:["If you'd like to change your votes, you can do so below. However, please note that this will",c.jsx("span",{className:"font-semibold",children:" permanently remove your previous votes"})," and allow you to vote again. This action cannot be undone."]})})]})}),c.jsxs(wt,{variant:"gold",onClick:()=>m(!0),className:"mx-auto text-lg py-3 px-8",children:[c.jsx(ih,{className:"mr-2 h-5 w-5"}),"Change My Votes"]})]})}),c.jsx(My,{show:f,title:"Change Your Votes?",message:"This will permanently remove all your previous votes for this session and allow you to vote again. This action cannot be undone. Are you sure you want to continue?",onConfirm:r,onCancel:()=>m(!1),confirmText:"Yes, Change My Votes",cancelText:"Cancel",type:"reset"})]})}const SJ=et.memo(function({features:t,currentUser:r,pendingVotes:n,pendingUsedVotes:i,onVote:s,onSubmitVotes:l,onToggleAdmin:u,isAdmin:f,votingSession:m,navigate:h,effectiveVotesPerUser:p,sessionId:v,onLogout:w}){const[_,b]=S.useState([...t]),[x,k]=S.useState(!1),[N,E]=S.useState("idle"),[A,P]=S.useState(!1),[I,L]=S.useState({}),[G,W]=S.useState(!0),[U,z]=S.useState(!1),V=S.useRef(null);S.useEffect(()=>{if(!U)return;const le=ce=>{V.current&&!V.current.contains(ce.target)&&z(!1)};return document.addEventListener("mousedown",le),document.addEventListener("touchstart",le,{passive:!0}),()=>{document.removeEventListener("mousedown",le),document.removeEventListener("touchstart",le)}},[U]),S.useEffect(()=>{b([...t])},[t]),S.useEffect(()=>{async function le(){if(!r||!v){W(!1);return}try{const M=(await Sa(v)).filter(D=>D.user_id===r.id);if(M.length>0){const D={};M.forEach(te=>{D[te.feature_id]=te.vote_count}),L(D),P(!0)}else P(!1),L({})}catch(ce){console.error("Error checking existing votes:",ce),P(!1)}finally{W(!1)}}le()},[r,v]);const ee=S.useCallback(async()=>{if(!(!r||!v))try{await OM(v,r.id),P(!1),L({})}catch(le){console.error("Error changing votes:",le),alert("Failed to reset votes. Please try again.")}},[r,v]),X=S.useCallback(()=>{x||(k(!0),E("fadeOut"),setTimeout(()=>{E("rearranging"),setTimeout(()=>{b(hJ(t)),E("fadeIn"),setTimeout(()=>{E("idle"),k(!1)},400)},200)},400))},[t,x]),ae=S.useCallback(async le=>{const ce=t.find(M=>M.id===le);if(!(!ce||!r))try{await DM({session_id:v,feature_id:le,feature_title:ce.title,requester_id:r.id,requester_name:r.name,requester_email:r.email,created_at:new Date().toISOString()})}catch(M){throw console.error("Error submitting info request:",M),alert("Failed to submit request. Please try again."),M}},[t,r,v]);if(!r)return null;if(G)return c.jsx("div",{className:"container mx-auto p-4 max-w-6xl min-h-screen flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2d4660] mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading your voting status..."})]})});if(A)return c.jsx(bJ,{currentUser:r,votingSession:m,onChangeVotes:ee,onToggleAdmin:u,isAdmin:f,navigate:h,userVotes:I,features:t});const xe=p-i,ye=xe===0,re=m.isActive;return c.jsxs("div",{className:"container mx-auto p-4 max-w-6xl pb-8",children:[c.jsx("div",{className:"hidden md:flex md:justify-center mb-2",children:c.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"-mt-4",style:{height:"96px",width:"auto"}})}),c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Mh,{src:"https://media.licdn.com/dms/image/C4D0BAQEC3OhRqehrKg/company-logo_200_200/0/1630518354793/new_millennium_building_systems_logo?e=2147483647&v=beta&t=LM3sJTmQZet5NshZ-RNHXW1MMG9xSi1asp-VUeSA9NA",alt:"New Millennium Building Systems Logo",className:"mr-4 md:hidden",style:{width:"40px",height:"40px"}}),c.jsx("h1",{className:"text-2xl font-bold text-[#2d4660] md:text-3xl",children:"Feature Voting"})]}),c.jsxs("div",{ref:V,className:"relative z-40",children:[c.jsxs("div",{className:"hidden md:flex items-center space-x-2",children:[f&&c.jsxs(wt,{variant:"primary",onClick:u,className:"flex items-center",children:[c.jsx(fr,{className:"mr-2 h-4 w-4"}),"Admin Dashboard"]}),c.jsx(wt,{variant:"gray",onClick:()=>h("/sessions"),className:"flex items-center",children:"All Sessions"}),c.jsxs(wt,{variant:"gray",onClick:w,className:"flex items-center",children:[c.jsx(Nr,{className:"mr-2 h-4 w-4"}),"Logout"]})]}),c.jsx("div",{className:"flex md:hidden",children:c.jsx("button",{onClick:()=>z(!U),className:"p-2 rounded-md border border-gray-200 bg-white shadow-sm","aria-label":"Open menu",children:c.jsx(Ai,{className:"h-5 w-5 text-gray-700"})})}),U&&c.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-lg md:hidden z-50",children:c.jsxs("div",{className:"py-1",children:[f&&c.jsxs("button",{onClick:()=>{z(!1),u()},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(fr,{className:"h-4 w-4 mr-2 text-gray-700"}),"Admin Dashboard"]}),c.jsx("button",{onClick:()=>{z(!1),h("/sessions")},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:"All Sessions"}),c.jsxs("button",{onClick:()=>{z(!1),w()},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(Nr,{className:"h-4 w-4 mr-2 text-gray-700"}),"Logout"]})]})})]})]}),c.jsx("div",{className:"relative z-10 mb-6 bg-white rounded-lg shadow-md p-4",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("h2",{className:"text-xl font-semibold text-[#2d4660] mb-2",children:m.title}),c.jsx("p",{className:"text-gray-600",children:m.goal})]}),c.jsxs("div",{className:"flex flex-col justify-center",children:[c.jsx(pJ,{endDate:m.endDate}),c.jsxs("div",{className:"flex items-center mt-3",children:[c.jsx(Zr,{className:"h-4 w-4 mr-2 text-[#2d4660]"}),c.jsxs("p",{className:"text-gray-700",children:["You have ",c.jsxs("span",{className:"font-bold text-[#2d4660]",children:[xe," / ",p]})," votes remaining"]})]})]})]})}),!re&&c.jsx("div",{className:"mb-6 bg-[#C89212]/10 p-4 rounded-lg border border-[#C89212]/20",children:c.jsxs("div",{className:"flex items-center text-[#6A4234]",children:[c.jsx(nh,{className:"h-5 w-5 mr-2"}),c.jsxs("span",{className:"font-medium",children:["Voting is currently ",Ra(m.endDate)?"closed":"not yet open",".",Ra(m.endDate)?` Voting ended on ${Da(m.endDate)}.`:` Voting will open on ${Da(m.startDate)}.`]})]})}),c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-[#2d4660]",children:"Available Features"}),t.length>6&&c.jsx(gJ,{isShuffling:x,onShuffle:X})]}),c.jsx("div",{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 ${i>0?"mb-32":""}`,children:_.map(le=>{const ce=n[le.id]||0;return c.jsx(vJ,{feature:le,userVoteCount:ce,remainingVotes:xe,votingIsActive:re,onVote:s,isShuffling:x,shuffleStage:N,currentUser:r,onRequestInfo:ae},le.id)})}),i>0&&c.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white shadow-lg border-t border-gray-200 p-4",children:c.jsxs("div",{className:"container mx-auto max-w-6xl flex items-center justify-between",children:[c.jsxs("div",{children:[!ye&&c.jsxs("div",{className:"flex items-center",children:[c.jsx(KE,{className:"h-5 w-5 text-[#C89212] mr-2"}),c.jsxs("span",{className:"text-gray-700",children:["You still have ",c.jsx("span",{className:"font-semibold text-[#C89212]",children:xe})," votes remaining."]})]}),ye&&c.jsxs("div",{className:"flex items-center",children:[c.jsx(Bn,{className:"h-5 w-5 text-[#1E5461] mr-2"}),c.jsx("span",{className:"text-gray-700",children:"All votes allocated! You can now submit your votes."})]})]}),c.jsx("button",{onClick:l,className:`py-3 px-6 rounded-lg font-medium cursor-pointer ${ye?"bg-[#1E5461] hover:bg-[#173B65] text-white":"bg-gray-300 text-gray-600 cursor-not-allowed"}`,disabled:!ye,children:"Submit Votes"})]})})]})});function _v({defaultVotesPerUser:e=10,adminMode:t=!1,resultsMode:r=!1}){const{currentSession:n,currentUser:i,setCurrentUser:s,setCurrentSession:l}=Li(),u=Sn(),f=async()=>{try{await Fe.auth.signOut()}catch{}try{l(null)}catch{}s(null);try{localStorage.removeItem("voting_system_current_session"),localStorage.removeItem("azureDevOpsAuthInProgress"),sessionStorage.removeItem("oauth_return_path"),sessionStorage.removeItem("oauth_action")}catch{}u("/login",{replace:!0})};S.useEffect(()=>{const ie=new URLSearchParams(window.location.search),we=ie.has("code")||ie.has("error"),Ke=localStorage.getItem("voting_system_current_session");!n&&!we&&!Ke&&u("/sessions")},[n,u]);const m=S.useMemo(()=>{const ie=new URLSearchParams(window.location.search);return ie.has("code")||ie.has("error")},[]),[h,p]=S.useState([]),[v,w]=S.useState(!0),[_,b]=S.useState(dJ),[x,k]=S.useState(r?"results":t||m?"admin":"voting"),[N,E]=S.useState(t||m||r),[A,P]=S.useState(null),[I,L]=S.useState(!1),[G,W]=S.useState(null),[U,z]=S.useState(!1),[V,ee]=S.useState({...cJ,votesPerUser:e}),[X,ae]=S.useState(uJ),[xe,ye]=S.useState([]),[re,le]=S.useState([]),[ce,M]=S.useState([]),[D,te]=S.useState(!1),[Se,ne]=S.useState(null),[ke,$e]=S.useState(null),[Qe,ue]=S.useState(!1),[Pe,oe]=S.useState(!1),[Z,Ee]=S.useState({}),[Ye,Pt]=S.useState(0),[yt,Ft]=S.useState({showReset:!1,showResetAll:!1,targetId:null}),jn=S.useRef(!1),Ut=S.useMemo(()=>V.useAutoVotes?Math.max(1,Math.floor(h.length/2)):V.votesPerUser,[V.useAutoVotes,V.votesPerUser,h.length]),kn=S.useRef(!1);S.useEffect(()=>{if(kn.current){console.log("OAuth processing already in progress, skipping...");return}(async()=>{const we=new URLSearchParams(window.location.search),Ke=we.has("code")||we.has("error");if(Ke&&!n){console.log("OAuth callback detected, waiting for session to load..."),localStorage.getItem("voting_system_current_session")&&console.log("Found stored session ID, waiting for SessionContext to restore it...");return}if(localStorage.getItem("azureDevOpsAuthInProgress")&&localStorage.removeItem("azureDevOpsAuthInProgress"),!(!Ke||jn.current)){if(!n){console.log("No session available yet, waiting...");return}kn.current=!0,jn.current=!0,console.log("Processing OAuth callback with session:",n.id);try{const Le=await nJ();if(Le){const Ne=new Date(Date.now()+Le.expiresIn*1e3).toISOString(),$t={...X,accessToken:Le.accessToken,refreshToken:Le.refreshToken,tokenExpiresAt:Ne,enabled:!0,clientId:yn.clientId,tenantId:yn.tenantId};await Eo(n.id,$t),ae($t);const st=sessionStorage.getItem("oauth_return_path")||"/admin";sessionStorage.removeItem("oauth_return_path"),console.log("OAuth successful, navigating to:",st),u(st,{replace:!0})}}catch(Le){console.error("OAuth callback error:",Le),ne("Failed to authenticate with Azure DevOps");const Ne="/admin";sessionStorage.removeItem("oauth_return_path"),u(Ne,{replace:!0})}finally{kn.current=!1}}})()},[n,u,X]);const Zt=S.useCallback(ie=>{localStorage.setItem("azureDevOpsAuthInProgress","true"),ie&&sessionStorage.setItem("oauth_action",ie),sessionStorage.getItem("oauth_return_path")||sessionStorage.setItem("oauth_return_path","/admin"),iJ()},[]),R=S.useCallback(async ie=>{if(!ie.accessToken||!ie.refreshToken||!ie.tokenExpiresAt)throw new Error("Not authenticated");if(rJ(ie.tokenExpiresAt)){const we=await ZY(ie.refreshToken),Ke=new Date(Date.now()+we.expiresIn*1e3).toISOString(),qe={...ie,accessToken:we.accessToken,tokenExpiresAt:Ke};return n&&(await Eo(n.id,qe),ae(qe)),we.accessToken}return ie.accessToken},[n]);S.useEffect(()=>{async function ie(){if(n)try{console.log("Loading data from Supabase for session:",n.id),w(!0);const we=await Yi(n.id);console.log(`Loaded ${we.length} features from database`);const Ke=await Sa(n.id),qe=we.map(Ne=>{const st=Ke.filter(Me=>Me.feature_id===Ne.id).map(Me=>({userId:Me.user_id,name:Me.user_name,email:Me.user_email,voteCount:Me.vote_count})),kt=st.reduce((Me,An)=>Me+An.voteCount,0);return{id:Ne.id,title:Ne.title,description:Ne.description,epic:Ne.epic,state:Ne.state,areaPath:Ne.area_path,tags:Ne.tags||[],azureDevOpsId:Ne.azure_devops_id,azureDevOpsUrl:Ne.azure_devops_url,votes:kt,voters:st}});p(qe),console.log("Features with votes loaded:",qe.map(Ne=>Ne.title)),ee({title:n.title,goal:n.goal,votesPerUser:n.votes_per_user,useAutoVotes:n.use_auto_votes||!1,startDate:n.start_date,endDate:n.end_date,isActive:n.is_active});const Le=await TM(n.id);ae(Le?{organization:Le.organization||"newmill",project:Le.project||"Product",accessToken:Le.access_token,refreshToken:Le.refresh_token,tokenExpiresAt:Le.token_expires_at,tenantId:Le.tenant_id,clientId:Le.client_id,enabled:Le.enabled,workItemType:Le.work_item_type||"Feature",query:Le.query,lastSyncTime:Le.last_sync_time}:{organization:"newmill",project:"Product",enabled:!1,workItemType:"Feature"})}catch(we){console.error("Error loading data:",we),p([])}finally{w(!1)}}ie()},[n==null?void 0:n.id]),S.useEffect(()=>{async function ie(){if(X.enabled&&X.accessToken)try{const we=await R(X),Ke={...X,accessToken:we},[qe,Le,Ne]=await Promise.all([ON(Ke),eJ(Ke),tJ(Ke)]);ye(qe),le(Le),M(Ne)}catch(we){console.error("Error loading filter options:",we)}else ye([]),le([]),M([])}ie()},[X.enabled,X.accessToken,X.workItemType,R]);const H=S.useCallback(async ie=>{if(!(!X.enabled||!X.accessToken))try{const we=await R(X),Ke={...X,accessToken:we,workItemType:ie},qe=await ON(Ke);ye(qe)}catch(we){console.error("Error loading states for work item type:",we)}},[X,R]);S.useEffect(()=>{const ie=async()=>{const Ke=fJ(V.startDate,V.endDate);if(V.isActive!==Ke){const qe={...V,isActive:Ke};ee(qe);try{await J1({title:qe.title,goal:qe.goal,votes_per_user:qe.votesPerUser,start_date:qe.startDate,end_date:qe.endDate,is_active:qe.isActive})}catch(Le){console.error("Error updating voting session status:",Le)}}};ie();const we=setInterval(ie,6e5);return()=>clearInterval(we)},[V]),S.useEffect(()=>{document.body.style.overflow="",document.body.style.position="",document.body.style.width=""},[x]),S.useEffect(()=>(document.body.style.overflow="",()=>{document.body.style.overflow=""}),[]);const Q=S.useCallback(async(ie=X)=>{if(!ie.organization||!ie.project||!n){ne("Organization and project name are required");return}try{te(!0),ne(null);const we=await R(ie),Ke={...ie,accessToken:we},qe=await PN(Ke),Le=TN(qe);for(const Me of Le){const Wr=(await Yi(n.id)).find(On=>On.azure_devops_id===Me.azureDevOpsId),Qn=Sv(Me.description),zt=Gd(Qn,300);Wr?await Dp(Wr.id,{title:Me.title,description:zt,epic:Me.epic,state:Me.state,area_path:Me.areaPath,tags:Me.tags,azure_devops_id:Me.azureDevOpsId,azure_devops_url:Me.azureDevOpsUrl}):await Ip({session_id:n.id,title:Me.title,description:zt,epic:Me.epic,state:Me.state,area_path:Me.areaPath,tags:Me.tags,azure_devops_id:Me.azureDevOpsId,azure_devops_url:Me.azureDevOpsUrl})}const Ne=await Yi(n.id),$t=await Sa(n.id),st=Ne.map(Me=>{const Wr=$t.filter(zt=>zt.feature_id===Me.id).map(zt=>({userId:zt.user_id,name:zt.user_name,email:zt.user_email,voteCount:zt.vote_count})),Qn=Wr.reduce((zt,On)=>zt+On.voteCount,0);return{id:Me.id,title:Me.title,description:Me.description,epic:Me.epic,state:Me.state,areaPath:Me.area_path,tags:Me.tags||[],azureDevOpsId:Me.azure_devops_id,azureDevOpsUrl:Me.azure_devops_url,votes:Qn,voters:Wr}});p(st);const kt={...Ke,lastSyncTime:new Date().toISOString()};await Eo(n.id,kt),ae(kt),z(!1)}catch(we){console.error("Azure DevOps sync error:",we),we instanceof Error&&we.message==="Not authenticated"?(ne("Please authenticate with Azure DevOps"),Zt()):ne("Failed to fetch features from Azure DevOps. Please try reconnecting.")}finally{te(!1)}},[X,n,R,Zt]),ge=S.useCallback(async()=>{if(!X.organization||!X.project){ne("Organization and project name are required");return}try{te(!0),ne(null);const ie=await R(X),we={...X,accessToken:ie},Ke=await PN(we),Le=TN(Ke).map(Ne=>({...Ne,description:Gd(Sv(Ne.description),300)}));$e(Le),ue(!0)}catch(ie){console.error("Azure DevOps preview error:",ie),ie instanceof Error&&ie.message==="Not authenticated"?(ne("Please authenticate with Azure DevOps"),Zt()):ne("Failed to fetch features from Azure DevOps. Please try reconnecting.")}finally{te(!1)}},[X,R,Zt]),pe=S.useCallback(async(ie=!1)=>{if(!(!ke||!n))try{if(te(!0),ie){const Ne=await Yi(n.id);for(const $t of Ne)await Y1($t.id)}for(const Ne of ke){const st=(await Yi(n.id)).find(An=>An.azure_devops_id===Ne.azureDevOpsId),kt=Sv(Ne.description),Me=Gd(kt,300);st?await Dp(st.id,{title:Ne.title,description:Me,epic:Ne.epic,state:Ne.state,area_path:Ne.areaPath,tags:Ne.tags,azure_devops_id:Ne.azureDevOpsId,azure_devops_url:Ne.azureDevOpsUrl}):await Ip({session_id:n.id,title:Ne.title,description:Me,epic:Ne.epic,state:Ne.state,area_path:Ne.areaPath,tags:Ne.tags,azure_devops_id:Ne.azureDevOpsId,azure_devops_url:Ne.azureDevOpsUrl})}const we=await Yi(n.id),Ke=await Sa(n.id),qe=we.map(Ne=>{const st=Ke.filter(Me=>Me.feature_id===Ne.id).map(Me=>({userId:Me.user_id,name:Me.user_name,email:Me.user_email,voteCount:Me.vote_count})),kt=st.reduce((Me,An)=>Me+An.voteCount,0);return{id:Ne.id,title:Ne.title,description:Ne.description,epic:Ne.epic,state:Ne.state,areaPath:Ne.area_path,tags:Ne.tags||[],azureDevOpsId:Ne.azure_devops_id,azureDevOpsUrl:Ne.azure_devops_url,votes:kt,voters:st}});p(qe);const Le={...X,lastSyncTime:new Date().toISOString()};await Eo(n.id,Le),ae(Le),oe(!0)}catch(we){console.error("Azure DevOps sync error:",we),ne("Failed to sync features from Azure DevOps.")}finally{te(!1),$e(null)}},[ke,n,X]),Y=S.useCallback(async()=>{if(n)try{const ie={organization:X.organization||"newmill",project:X.project||"Product",workItemType:X.workItemType||"Feature",query:X.query,accessToken:void 0,refreshToken:void 0,tokenExpiresAt:void 0,enabled:!1};await Eo(n.id,ie),ae(ie),ne(null),oe(!1)}catch(ie){console.error("Error disconnecting Azure DevOps:",ie),ne("Failed to disconnect from Azure DevOps")}},[X,n]);S.useEffect(()=>{(async()=>{const we=sessionStorage.getItem("oauth_action");if(we&&!(!X.enabled||!X.accessToken))try{we==="preview"?await ge():we==="sync"&&await Q()}finally{sessionStorage.removeItem("oauth_action")}})()},[X.enabled,X.accessToken,ge,Q]);const ve=S.useCallback(()=>{E(!0),k("admin")},[]),Ue=S.useCallback(()=>{E(!1),k("voting")},[]),it=S.useCallback(()=>{x==="voting"?(E(!0),k("admin")):x==="admin"&&(E(!1),k("voting"))},[x]),gt=S.useCallback(async ie=>{if(n)try{const we=await Ip({session_id:n.id,title:ie.title,description:ie.description,epic:ie.epic});p(Ke=>[...Ke,{id:we.id,title:we.title,description:we.description,epic:we.epic,votes:0,voters:[]}]),L(!1)}catch(we){console.error("Error adding feature:",we),alert("Failed to add feature")}},[n]),Dr=S.useCallback(async ie=>{try{await Dp(ie.id,{title:ie.title,description:ie.description,epic:ie.epic}),p(we=>we.map(Ke=>Ke.id===ie.id?ie:Ke)),P(null)}catch(we){console.error("Error updating feature:",we),alert("Failed to update feature")}},[]),Gn=S.useCallback(async ie=>{try{await Y1(ie),p(we=>we.filter(Ke=>Ke.id!==ie))}catch(we){console.error("Error deleting feature:",we),alert("Failed to delete feature")}},[]),Yn=S.useCallback(ie=>{Ft({showReset:!0,showResetAll:!1,targetId:ie})},[]),Rr=S.useCallback(async()=>{const ie=yt.targetId;if(!(!ie||!n))try{await(void 0)(ie);const we=await Yi(n.id),Ke=await Sa(n.id),qe=we.map(Le=>{const $t=Ke.filter(kt=>kt.feature_id===Le.id).map(kt=>({userId:kt.user_id,name:kt.user_name,email:kt.user_email,voteCount:kt.vote_count})),st=$t.reduce((kt,Me)=>kt+Me.voteCount,0);return{id:Le.id,title:Le.title,description:Le.description,epic:Le.epic,state:Le.state,areaPath:Le.area_path,tags:Le.tags||[],azureDevOpsId:Le.azure_devops_id,azureDevOpsUrl:Le.azure_devops_url,votes:st,voters:$t}});p(qe)}catch(we){console.error("Error resetting votes:",we),alert("Failed to reset votes")}},[yt.targetId,n]),Nn=S.useCallback(()=>{Ft({showReset:!1,showResetAll:!0,targetId:null})},[]),xi=S.useCallback(async()=>{if(n)try{await PM(n.id),p(ie=>ie.map(we=>({...we,votes:0,voters:[]})))}catch(ie){console.error("Error resetting all votes:",ie),alert("Failed to reset all votes")}},[n]),Jn=S.useCallback((ie,we)=>{if(!i||!V.isActive)return;const Ke=Z[ie]||0;let qe=Ke;if(we)if(Ye<Ut)qe=Ke+1;else return;else if(Ke>0)qe=Ke-1;else return;Ee(Le=>{const Ne={...Le};return qe===0?delete Ne[ie]:Ne[ie]=qe,Ne}),Pt(Le=>we?Le+1:Le-1)},[i,Z,Ye,V.isActive,Ut]),gs=S.useCallback(async()=>{if(!(!i||!V.isActive||!n)&&!(Ye<Ut))try{for(const[qe,Le]of Object.entries(Z))Le>0&&await AM({session_id:n.id,feature_id:qe,user_id:i.id,user_name:i.name,user_email:i.email,vote_count:Le});const ie=await Yi(n.id),we=await Sa(n.id),Ke=ie.map(qe=>{const Ne=we.filter(st=>st.feature_id===qe.id).map(st=>({userId:st.user_id,name:st.user_name,email:st.user_email,voteCount:st.vote_count})),$t=Ne.reduce((st,kt)=>st+kt.voteCount,0);return{id:qe.id,title:qe.title,description:qe.description,epic:qe.epic,state:qe.state,areaPath:qe.area_path,tags:qe.tags||[],azureDevOpsId:qe.azure_devops_id,azureDevOpsUrl:qe.azure_devops_url,votes:$t,voters:Ne}});p(Ke),k("thankyou")}catch(ie){console.error("Error submitting votes:",ie),alert("Failed to submit votes. Please try again.")}},[i,n,Ye,Z,V.isActive,Ut]),En=S.useCallback(async ie=>{try{await J1({title:ie.title,goal:ie.goal,votes_per_user:ie.votesPerUser,start_date:ie.startDate,end_date:ie.endDate,is_active:ie.isActive}),ee(ie)}catch(we){console.error("Error updating voting session:",we),alert("Failed to update voting session settings")}},[]),Cn=S.useCallback(async ie=>{if(n){ae(ie);try{await Eo(n.id,{organization:ie.organization,project:ie.project,accessToken:ie.accessToken,refreshToken:ie.refreshToken,tokenExpiresAt:ie.tokenExpiresAt,tenantId:ie.tenantId,clientId:ie.clientId,enabled:ie.enabled,workItemType:ie.workItemType,query:ie.query,lastSyncTime:ie.lastSyncTime})}catch(we){console.error("Error saving config:",we)}}},[n]),wi=S.useMemo(()=>{switch(x){case"voting":return c.jsx(SJ,{features:h,currentUser:i,pendingVotes:Z,pendingUsedVotes:Ye,onVote:Jn,onSubmitVotes:gs,onToggleAdmin:ve,isAdmin:N,votingSession:V,navigate:u,effectiveVotesPerUser:Ut,sessionId:(n==null?void 0:n.id)||"",onLogout:f});case"results":return c.jsx(xJ,{features:h,onResetVotes:Yn,onResetAllVotes:Nn,onBack:()=>k("admin"),showVotersList:G,setShowVotersList:W,votingSession:V,effectiveVotesPerUser:Ut,onLogout:f});case"thankyou":return c.jsx(wJ,{navigate:u,votingSession:V});case"admin":default:return c.jsx(lJ,{features:h,onAddFeature:gt,onUpdateFeature:Dr,onDeleteFeature:Gn,onShowResults:()=>k("results"),showAddForm:I,setShowAddForm:L,editingFeature:A,setEditingFeature:P,onLogout:Ue,votingSession:V,azureDevOpsConfig:X,onUpdateAzureDevOpsConfig:Cn,showAzureDevOpsForm:U,setShowAzureDevOpsForm:z,onFetchAzureDevOpsFeatures:Q,onPreviewAzureDevOpsFeatures:ge,onDisconnectAzureDevOps:Y,isFetchingAzureDevOps:D,azureFetchError:Se,onInitiateOAuth:Zt,availableStates:xe,availableAreaPaths:re,availableTags:ce,previewFeatures:ke,showPreviewModal:Qe,setShowPreviewModal:ue,onConfirmSync:pe,hasImportedFeatures:Pe,setHasImportedFeatures:oe,onShowVoterView:Ue,onUpdateVotingSession:En,onFetchStatesForType:H})}},[x,h,i,Z,Ye,Jn,gs,ve,Ue,N,V,Yn,Nn,G,W,gt,Dr,Gn,I,L,A,P,X,Cn,U,z,Q,ge,Y,D,Se,Zt,ke,Qe,ue,pe,Pe,oe,u,Ut,xe,re,ce,H,n,it]);return n?v?c.jsx("div",{className:"min-h-screen w-full bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2d4660] mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):c.jsxs("div",{className:"w-full bg-gray-50 text-gray-900 font-sans min-h-screen flex flex-col",children:[c.jsx("div",{className:"flex-grow",children:wi}),c.jsx(EP,{isAdmin:N,viewMode:x==="admin"?"admin":"voting",onToggleView:it}),c.jsx(My,{show:yt.showReset,title:"Reset Votes",message:"Are you sure you want to reset all votes for this feature? This will remove all voting data for this feature.",onConfirm:Rr,onCancel:()=>Ft(ie=>({...ie,showReset:!1})),confirmText:"Reset",type:"reset"}),c.jsx(My,{show:yt.showResetAll,title:"Reset All Votes",message:"Are you sure you want to reset all votes for all features? This will remove all voting data and cannot be undone.",onConfirm:xi,onCancel:()=>Ft(ie=>({...ie,showResetAll:!1})),confirmText:"Reset All",type:"reset"})]}):c.jsx("div",{className:"min-h-screen w-full bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2d4660] mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading session..."})]})})}function _J(){const{currentUser:e,setCurrentSession:t,refreshSessions:r,setCurrentUser:n}=Li(),i=Sn(),[s,l]=S.useState(!0),[u,f]=S.useState([]),[m,h]=S.useState({}),[p,v]=S.useState({}),[w,_]=S.useState({}),[b,x]=S.useState(!1),[k,N]=S.useState("admin"),[E,A]=S.useState(!1),P=S.useRef(null);S.useEffect(()=>{if(!E)return;const D=te=>{P.current&&!P.current.contains(te.target)&&A(!1)};return document.addEventListener("mousedown",D),document.addEventListener("touchstart",D,{passive:!0}),()=>{document.removeEventListener("mousedown",D),document.removeEventListener("touchstart",D)}},[E]),S.useEffect(()=>{if(!e){i("/login");return}I()},[e]);const I=async()=>{if(e){l(!0);try{const D=await tl(e.id);x(D);const te=await yE(e.id),Se={},ne={},ke={};for(const $e of te){const[Qe,ue,Pe,oe]=await Promise.all([D?Promise.resolve(!0):Nc($e.id,e.id),Jy($e.id,e.email),Yi($e.id),Sa($e.id)]);Se[$e.id]={isAdmin:Qe,isStakeholder:ue},ne[$e.id]=Pe.length;const Z=oe.some(Ee=>Ee.user_id===e.id);ke[$e.id]=Z}await r(),f(te),h(Se),v(ne),_(ke)}catch(D){console.error("Error loading sessions:",D)}finally{l(!1)}}},L=D=>{const te=p[D.id]||0;if(D.use_auto_votes){const Se=Math.max(1,Math.floor(te/2));return{votes:Se,displayText:`${Se} votes per user`,isAuto:!0,formula:`Auto: ${te} ${te===1?"feature":"features"}  2 = ${Se}`}}else return{votes:D.votes_per_user,displayText:`${D.votes_per_user} votes per user`,isAuto:!1,formula:""}},G=D=>{t(D);const te=m[D.id];k==="stakeholder"?i("/vote"):te!=null&&te.isAdmin?i("/admin"):i("/vote")},W=async()=>{try{await Fe.auth.signOut()}catch{}try{t(null)}catch{}n(null);try{localStorage.removeItem("voting_system_current_session"),localStorage.removeItem("azureDevOpsAuthInProgress"),sessionStorage.removeItem("oauth_return_path"),sessionStorage.removeItem("oauth_action")}catch{}A(!1),i("/login",{replace:!0})},U=D=>new Date(D).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),z=D=>{const te=new Date,Se=new Date(D.start_date),ne=new Date(D.end_date);return te<Se?{text:"Upcoming",color:"text-yellow-600 bg-yellow-50",icon:nh}:te>ne?{text:"Closed",color:"text-gray-600 bg-gray-100",icon:Jt}:{text:"Active",color:"text-[#1E6154] bg-[#1E6154]/10",icon:Bn}},V=(D,te)=>{D.stopPropagation();const Se=`${window.location.origin}/login?session=${te.session_code}`,ne=encodeURIComponent(`You're invited to vote: ${te.title}`),ke=encodeURIComponent(`Hi,

You've been invited to participate in a feature voting session.

Session: ${te.title}
Goal: ${te.goal}

To get started, copy and paste this link into your browser:

${Se}

Voting Period: ${U(te.start_date)} - ${U(te.end_date)}

Best regards,
${e==null?void 0:e.name}`);window.location.href=`mailto:?subject=${ne}&body=${ke}`},ee=(D,te)=>{D.stopPropagation(),t(te),i("/results")},X=(D,te)=>{D.stopPropagation(),t(te),i("/manage-admins")},ae=(D,te)=>{D.stopPropagation(),t(te),i("/manage-stakeholders")};if(s)return c.jsx("div",{className:"min-h-screen w-full bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2D4660] mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading sessions..."})]})});const xe=b?u:u.filter(D=>{var te;return(te=m[D.id])==null?void 0:te.isAdmin}),ye=b?[]:u.filter(D=>{var te,Se;return((te=m[D.id])==null?void 0:te.isStakeholder)&&!((Se=m[D.id])!=null&&Se.isAdmin)}),re=b||xe.length>0,le=k==="stakeholder"?u:[],ce=k==="admin"?xe:[],M=k==="admin"?ye:[];return c.jsxs("div",{className:"container mx-auto p-4 max-w-6xl min-h-screen pb-8",children:[c.jsx("div",{className:"hidden md:flex md:justify-center mb-2",children:c.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"-mt-4",style:{height:"96px",width:"auto"}})}),c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("img",{src:"https://media.licdn.com/dms/image/C4D0BAQEC3OhRqehrKg/company-logo_200_200/0/1630518354793/new_millennium_building_systems_logo?e=2147483647&v=beta&t=LM3sJTmQZet5NshZ-RNHXW1MMG9xSi1asp-VUeSA9NA",alt:"New Millennium Building Systems Logo",className:"mr-4 md:hidden",style:{width:"40px",height:"40px"}}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-[#2D4660] md:text-3xl",children:"My Voting Sessions"}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Welcome, ",e==null?void 0:e.name,b&&c.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"System Admin"}),!b&&xe.length>0&&c.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Session Admin"}),!b&&xe.length===0&&ye.length>0&&c.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Stakeholder"})]})]})]}),c.jsxs("div",{ref:P,className:"relative z-40 md:justify-end",children:[c.jsxs("div",{className:"hidden md:flex space-x-2",children:[b&&k==="admin"&&c.jsx(c.Fragment,{children:c.jsxs("button",{onClick:()=>i("/users"),className:"flex items-center px-4 py-2 bg-[#2D4660] text-white rounded-lg hover:bg-[#173B65] transition-colors",children:[c.jsx(pn,{className:"h-4 w-4 mr-2"}),"User Management"]})}),(b||xe.length>0)&&k==="admin"&&c.jsxs("button",{onClick:()=>i("/create-session"),className:"flex items-center px-4 py-2 bg-[#C89212] text-white rounded-lg hover:bg-[#6A4234] transition-colors",children:[c.jsx(xc,{className:"h-4 w-4 mr-2"}),c.jsx("span",{className:"hidden sm:inline",children:"Create Session"}),c.jsx("span",{className:"sm:hidden",children:"Create"})]}),c.jsxs("button",{onClick:W,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[c.jsx(Nr,{className:"h-4 w-4 mr-2"}),c.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]}),c.jsx("div",{className:"flex md:hidden justify-end",children:c.jsx("button",{onClick:()=>A(!E),className:"p-2 rounded-md border border-gray-200 bg-white shadow-sm","aria-label":"Open menu",children:c.jsx(Ai,{className:"h-5 w-5 text-gray-700"})})}),E&&c.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-lg md:hidden z-50",children:c.jsxs("div",{className:"py-1",children:[b&&k==="admin"&&c.jsx(c.Fragment,{children:c.jsxs("button",{onClick:()=>{A(!1),i("/users")},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(pn,{className:"h-4 w-4 mr-2 text-gray-700"}),"User Management"]})}),(b||xe.length>0)&&k==="admin"&&c.jsxs("button",{onClick:()=>{A(!1),i("/create-session")},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(xc,{className:"h-4 w-4 mr-2 text-gray-700"}),"Create Session"]}),c.jsxs("button",{onClick:()=>{A(!1),W()},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(Nr,{className:"h-4 w-4 mr-2 text-gray-700"}),"Logout"]})]})})]})]}),u.length===0?c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-12 text-center",children:[c.jsx(Zr,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No voting sessions"}),c.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"You are not part of any voting sessions yet."}),b&&c.jsxs("button",{onClick:()=>i("/create-session"),className:"inline-flex items-center px-4 py-2 bg-[#2D4660] text-white rounded-lg hover:bg-[#173B65] transition-colors",children:[c.jsx(xc,{className:"h-5 w-5 mr-2"}),"Create Your First Session"]})]}):c.jsxs("div",{className:"space-y-8",children:[k==="stakeholder"&&c.jsxs("div",{children:[c.jsxs("h2",{className:"text-xl font-semibold text-[#2D4660] mb-4 flex items-center",children:[c.jsx(Zr,{className:"h-5 w-5 mr-2"}),"All Your Voting Sessions"]}),c.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:le.map(D=>{const te=z(D),Se=te.icon,ne=L(D),ke=w[D.id];return c.jsx("div",{className:"relative z-10 bg-white overflow-hidden shadow-md rounded-lg hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>G(D),children:c.jsxs("div",{className:"p-6",children:[c.jsx("div",{className:"flex justify-end items-start mb-4",children:ke?c.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[c.jsx(Bn,{className:"h-3 w-3 mr-1"}),"Voted"]}):te.text==="Active"?c.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[c.jsx(Jt,{className:"h-3 w-3 mr-1"}),"Needs Your Vote"]}):null}),c.jsx("h3",{className:"text-lg font-semibold text-[#2D4660] mb-2",children:D.title}),c.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:D.goal}),c.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(di,{className:"h-4 w-4 mr-2"}),c.jsxs("span",{children:[U(D.start_date)," - ",U(D.end_date)]})]}),c.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${te.color}`,children:[c.jsx(Se,{className:"h-3 w-3 mr-1"}),te.text]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Ai,{className:"h-4 w-4 mr-2"}),c.jsxs("span",{children:[p[D.id]||0," ",p[D.id]===1?"feature":"features"," to vote on"]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Zr,{className:"h-4 w-4 mr-2"}),c.jsx("span",{children:ne.displayText}),ne.isAuto&&c.jsxs("div",{className:"group relative ml-1",children:[c.jsx(zp,{className:"h-4 w-4 text-blue-500 cursor-help"}),c.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 whitespace-nowrap z-10 pointer-events-none",children:[ne.formula,c.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-1 border-4 border-transparent border-t-gray-900"})]})]})]})]}),c.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:c.jsxs("button",{onClick:$e=>{$e.stopPropagation(),G(D)},className:`w-full flex items-center justify-center px-4 py-2 rounded-lg transition-colors font-medium ${ke?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-[#2D4660] text-white hover:bg-[#173B65]"}`,children:[c.jsx(Zr,{className:"h-4 w-4 mr-2"}),ke?"View or Change Votes":"Cast Your Votes"]})})]})},D.id)})})]}),k==="admin"&&c.jsxs(c.Fragment,{children:[M.length>0&&c.jsxs("div",{children:[c.jsxs("h2",{className:"text-xl font-semibold text-[#2D4660] mb-4 flex items-center",children:[c.jsx(Zr,{className:"h-5 w-5 mr-2"}),"Your Voting Sessions"]}),c.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:M.map(D=>{const te=z(D),Se=te.icon,ne=L(D),ke=w[D.id];return c.jsx("div",{className:"relative z-10 bg-white overflow-hidden shadow-md rounded-lg hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>G(D),children:c.jsxs("div",{className:"p-6",children:[c.jsx("div",{className:"flex justify-end items-start mb-4",children:ke?c.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[c.jsx(Bn,{className:"h-3 w-3 mr-1"}),"Voted"]}):te.text==="Active"?c.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[c.jsx(Jt,{className:"h-3 w-3 mr-1"}),"Needs Your Vote"]}):null}),c.jsx("h3",{className:"text-lg font-semibold text-[#2D4660] mb-2",children:D.title}),c.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:D.goal}),c.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(di,{className:"h-4 w-4 mr-2"}),c.jsxs("span",{children:[U(D.start_date)," - ",U(D.end_date)]})]}),c.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${te.color}`,children:[c.jsx(Se,{className:"h-3 w-3 mr-1"}),te.text]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Ai,{className:"h-4 w-4 mr-2"}),c.jsxs("span",{children:[p[D.id]||0," ",p[D.id]===1?"feature":"features"," to vote on"]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Zr,{className:"h-4 w-4 mr-2"}),c.jsx("span",{children:ne.displayText}),ne.isAuto&&c.jsxs("div",{className:"group relative ml-1",children:[c.jsx(zp,{className:"h-4 w-4 text-blue-500 cursor-help"}),c.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 whitespace-nowrap z-10 pointer-events-none",children:[ne.formula,c.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-1 border-4 border-transparent border-t-gray-900"})]})]})]})]}),c.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:c.jsxs("button",{onClick:$e=>{$e.stopPropagation(),G(D)},className:`w-full flex items-center justify-center px-4 py-2 rounded-lg transition-colors font-medium ${ke?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-[#2D4660] text-white hover:bg-[#173B65]"}`,children:[c.jsx(Zr,{className:"h-4 w-4 mr-2"}),ke?"View or Change Votes":"Cast Your Votes"]})})]})},D.id)})})]}),ce.length>0&&c.jsxs("div",{children:[c.jsxs("h2",{className:"text-xl font-semibold text-[#2D4660] mb-4 flex items-center",children:[c.jsx(fr,{className:"h-5 w-5 mr-2"}),"Sessions You Manage"]}),c.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:ce.map(D=>{const te=z(D),Se=te.icon,ne=L(D);return c.jsx("div",{className:"relative z-10 bg-white overflow-hidden shadow-md rounded-lg hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>G(D),children:c.jsxs("div",{className:"p-6",children:[c.jsx("div",{className:"flex justify-end items-start mb-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{onClick:ke=>X(ke,D),className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-[#173B65] hover:bg-gray-200 transition-colors cursor-pointer",children:[c.jsx(fr,{className:"h-3 w-3 mr-1"}),"Admins"]}),c.jsxs("button",{onClick:ke=>ae(ke,D),className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-[#1E5461] text-white hover:bg-[#576C71] transition-colors cursor-pointer",children:[c.jsx(pn,{className:"h-3 w-3 mr-1"}),"Stakeholders"]})]})}),c.jsx("h3",{className:"text-lg font-semibold text-[#2D4660] mb-2",children:D.title}),c.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:D.goal}),c.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(di,{className:"h-4 w-4 mr-2"}),c.jsxs("span",{children:[U(D.start_date)," - ",U(D.end_date)]})]}),c.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${te.color}`,children:[c.jsx(Se,{className:"h-3 w-3 mr-1"}),te.text]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Ai,{className:"h-4 w-4 mr-2"}),c.jsxs("span",{children:[p[D.id]||0," ",p[D.id]===1?"feature":"features"]})]}),c.jsxs("div",{className:"flex items-start",children:[c.jsx(Zr,{className:"h-4 w-4 mr-2 mt-0.5 flex-shrink-0"}),c.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"break-words",children:ne.displayText}),ne.isAuto&&c.jsxs("div",{className:"group relative ml-1 mt-0.5",children:[c.jsx(zp,{className:"h-4 w-4 text-blue-500 cursor-help"}),c.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 whitespace-nowrap z-10 pointer-events-none",children:[ne.formula,c.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-1 border-4 border-transparent border-t-gray-900"})]})]})]}),c.jsxs("button",{onClick:ke=>ee(ke,D),className:"ml-4 inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-[#C89212] text-white hover:bg-[#6A4234] transition-colors cursor-pointer flex-shrink-0",children:[c.jsx(HE,{className:"h-3 w-3 mr-1"}),te.text==="Closed"?"Final Results":"Current Results"]})]})]})]}),c.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:c.jsxs("button",{onClick:ke=>V(ke,D),className:"w-full flex items-center justify-center px-3 py-2 bg-blue-50 hover:bg-blue-100 rounded-md transition-colors",children:[c.jsx(Vc,{className:"h-4 w-4 text-blue-600 mr-2"}),c.jsx("span",{className:"text-sm font-medium text-blue-600",children:"Email Invite to Stakeholders"})]})})]})},D.id)})})]})]})]}),k==="stakeholder"&&u.length>0&&c.jsx("div",{className:"relative z-10 mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(Zr,{className:"h-5 w-5 text-blue-600 mr-3 mt-0.5"}),c.jsxs("div",{className:"text-sm text-blue-800",children:[c.jsx("p",{className:"font-medium mb-1",children:"About Voting Sessions:"}),c.jsx("p",{children:"Click on any session card to cast your votes. You can change your votes at any time before the voting period ends."})]})]})}),k==="admin"&&M.length>0&&ce.length===0&&c.jsx("div",{className:"relative z-10 mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(Zr,{className:"h-5 w-5 text-blue-600 mr-3 mt-0.5"}),c.jsxs("div",{className:"text-sm text-blue-800",children:[c.jsx("p",{className:"font-medium mb-1",children:"About Voting Sessions:"}),c.jsx("p",{children:"Click on any session card to cast your votes. You can change your votes at any time before the voting period ends."})]})]})}),k==="admin"&&ce.length>0&&c.jsx("div",{className:"relative z-10 mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(pn,{className:"h-5 w-5 text-blue-600 mr-3 mt-0.5"}),c.jsxs("div",{className:"text-sm text-blue-800",children:[c.jsx("p",{className:"font-medium mb-1",children:"Managing Sessions:"}),c.jsx("p",{children:'Click "Email Invite to Stakeholders" on any session card to send invitation links. Use the Admins and Stakeholders buttons to manage access.'})]})]})}),c.jsx(EP,{isAdmin:re,viewMode:k==="admin"?"admin":"voting",onToggleView:()=>N(k==="admin"?"stakeholder":"admin")})]})}function jJ(){const{currentUser:e,setCurrentSession:t,refreshSessions:r,setCurrentUser:n}=Li(),i=Sn(),s=async()=>{try{await Fe.auth.signOut()}catch{}try{t(null)}catch{}n(null);try{localStorage.removeItem("voting_system_current_session"),localStorage.removeItem("azureDevOpsAuthInProgress"),sessionStorage.removeItem("oauth_return_path"),sessionStorage.removeItem("oauth_action")}catch{}i("/login",{replace:!0})},[l,u]=S.useState({title:"",goal:"",votesPerUser:10,useAutoVotes:!0,startDate:new Date().toISOString().split("T")[0],endDate:new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0]}),[f,m]=S.useState({}),[h,p]=S.useState(!1),[v,w]=S.useState(!1),_=()=>{const N="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let E="";for(let A=0;A<8;A++)E+=N.charAt(Math.floor(Math.random()*N.length));return E},b=()=>{const N={};l.title.trim()||(N.title="Session title is required"),l.goal.trim()||(N.goal="Session goal is required"),l.useAutoVotes||(l.votesPerUser<1&&(N.votesPerUser="Votes per user must be at least 1"),l.votesPerUser>100&&(N.votesPerUser="Votes per user cannot exceed 100"));const E=new Date(l.startDate);return new Date(l.endDate)<=E&&(N.endDate="End date must be after start date"),m(N),Object.keys(N).length===0},x=async N=>{if(N.preventDefault(),!(!b()||!e)){p(!0);try{const E=_(),A=await NM({title:l.title,goal:l.goal,votes_per_user:l.votesPerUser,use_auto_votes:l.useAutoVotes,start_date:l.startDate,end_date:l.endDate,is_active:!0,session_code:E});await ef(A.id,e.id),await r(),w(!0),setTimeout(()=>{t(A),i("/admin")},3e3)}catch(E){console.error("Error creating session:",E),m({submit:"Failed to create session. Please try again."})}finally{p(!1)}}},k=N=>{const{name:E,value:A}=N.target;u(P=>({...P,[E]:E==="votesPerUser"?parseInt(A)||0:A})),f[E]&&m(P=>{const I={...P};return delete I[E],I})};return v?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Bn,{className:"h-10 w-10 text-green-600"})}),c.jsx("h2",{className:"text-2xl font-bold text-[#2d4660] mb-2",children:"Session Created!"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Your voting session has been created successfully."}),c.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-4 mb-6",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Success!"}),c.jsx("p",{className:"text-base text-[#2d4660] font-medium",children:"Your session has been created."}),c.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"You can now invite stakeholders from your session dashboard."})]}),c.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting to admin dashboard..."})]})}):c.jsxs("div",{className:"container mx-auto p-4 max-w-6xl min-h-screen pb-8",children:[c.jsx("div",{className:"hidden md:flex md:justify-center mb-2",children:c.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"-mt-4",style:{height:"96px",width:"auto"}})}),c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("img",{src:"https://media.licdn.com/dms/image/C4D0BAQEC3OhRqehrKg/company-logo_200_200/0/1630518354793/new_millennium_building_systems_logo?e=2147483647&v=beta&t=LM3sJTmQZet5NshZ-RNHXW1MMG9xSi1asp-VUeSA9NA",alt:"New Millennium Building Systems Logo",className:"mr-4 md:hidden",style:{width:"40px",height:"40px"}}),c.jsx("button",{onClick:()=>i("/sessions"),className:"mr-2 p-1 rounded-full hover:bg-gray-200 cursor-pointer",children:c.jsx(nl,{className:"h-6 w-6"})}),c.jsx("h1",{className:"text-2xl font-bold text-[#2d4660] md:text-3xl",children:"Create Voting Session"})]}),c.jsxs("button",{onClick:s,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[c.jsx(Nr,{className:"h-4 w-4 mr-2"}),c.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]}),c.jsx("div",{className:"relative z-10 bg-white rounded-lg shadow-md p-6",children:c.jsxs("form",{onSubmit:x,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Title *"}),c.jsx("input",{type:"text",name:"title",value:l.title,onChange:k,placeholder:"e.g., Q2 2025 Product Roadmap",className:`w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent ${f.title?"border-red-500":"border-gray-300"}`}),f.title&&c.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[c.jsx(Jt,{className:"h-4 w-4 mr-1"}),f.title]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Goal *"}),c.jsx("textarea",{name:"goal",value:l.goal,onChange:k,rows:3,placeholder:"Describe the purpose of this voting session...",className:`w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent ${f.goal?"border-red-500":"border-gray-300"}`}),f.goal&&c.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[c.jsx(Jt,{className:"h-4 w-4 mr-1"}),f.goal]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[c.jsx(Zr,{className:"h-4 w-4 inline mr-1"}),"Votes Per User *"]}),c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsx("input",{type:"checkbox",id:"useAutoVotes",checked:l.useAutoVotes,onChange:N=>u(E=>({...E,useAutoVotes:N.target.checked})),className:"h-4 w-4 text-[#2d4660] focus:ring-[#2d4660] border-gray-300 rounded cursor-pointer"}),c.jsx("label",{htmlFor:"useAutoVotes",className:"ml-2 text-sm text-gray-700 cursor-pointer",children:"Auto-calculate votes (half of feature count, minimum 1)"})]}),!l.useAutoVotes&&c.jsxs(c.Fragment,{children:[c.jsx("input",{type:"number",name:"votesPerUser",value:l.votesPerUser,onChange:k,min:"1",max:"100",className:`w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent ${f.votesPerUser?"border-red-500":"border-gray-300"}`}),f.votesPerUser&&c.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[c.jsx(Jt,{className:"h-4 w-4 mr-1"}),f.votesPerUser]})]}),c.jsx("p",{className:"mt-2 text-sm text-gray-500",children:l.useAutoVotes?"Votes will automatically be set to half the number of features (1 feature = 1 vote, 2 features = 1 vote, 4 features = 2 votes, etc.)":"Each stakeholder will have this many votes to distribute across features"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[c.jsx(di,{className:"h-4 w-4 inline mr-1"}),"Start Date *"]}),c.jsx("input",{type:"date",name:"startDate",value:l.startDate,onChange:k,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[c.jsx(di,{className:"h-4 w-4 inline mr-1"}),"End Date *"]}),c.jsx("input",{type:"date",name:"endDate",value:l.endDate,onChange:k,className:`w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent ${f.endDate?"border-red-500":"border-gray-300"}`}),f.endDate&&c.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[c.jsx(Jt,{className:"h-4 w-4 mr-1"}),f.endDate]})]})]}),c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(pn,{className:"h-5 w-5 text-blue-600 mr-3 mt-0.5"}),c.jsxs("div",{className:"text-sm text-blue-800",children:[c.jsx("p",{className:"font-medium mb-1",children:"Next Steps:"}),c.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[c.jsx("li",{children:"After creating the session, you'll be assigned as the admin"}),c.jsx("li",{children:"You can add stakeholders and other admins from the admin dashboard"}),c.jsx("li",{children:'Use the "Email Invite" button to send stakeholders a link to join'})]})]})]})}),f.submit&&c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:c.jsxs("p",{className:"text-sm text-red-800 flex items-center",children:[c.jsx(Jt,{className:"h-4 w-4 mr-2"}),f.submit]})}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[c.jsx("button",{type:"button",onClick:()=>i("/sessions"),className:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",disabled:h,children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-6 py-2 bg-[#2d4660] text-white rounded-md hover:bg-[#1d3a53] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:h,children:h?"Creating...":"Create Session"})]})]})})]})}async function Ix(e){const{error:t}=await Fe.functions.invoke("send-invitation-email",{body:e});if(t)throw t}function kJ(){const{currentSession:e,currentUser:t,setCurrentUser:r,setCurrentSession:n}=Li(),i=Sn(),s=async()=>{try{await Fe.auth.signOut()}catch{}try{n(null)}catch{}r(null);try{localStorage.removeItem("voting_system_current_session"),localStorage.removeItem("azureDevOpsAuthInProgress"),sessionStorage.removeItem("oauth_return_path"),sessionStorage.removeItem("oauth_action")}catch{}E(!1),i("/login",{replace:!0})},[l,u]=S.useState([]),[f,m]=S.useState(!0),[h,p]=S.useState(!1),[v,w]=S.useState({name:"",email:""}),[_,b]=S.useState({}),[x,k]=S.useState(!1),[N,E]=S.useState(!1),A=S.useRef(null);S.useEffect(()=>{if(!N)return;const U=z=>{A.current&&!A.current.contains(z.target)&&E(!1)};return document.addEventListener("mousedown",U),document.addEventListener("touchstart",U,{passive:!0}),()=>{document.removeEventListener("mousedown",U),document.removeEventListener("touchstart",U)}},[N]),S.useEffect(()=>{if(!e){i("/sessions");return}P()},[e,i]);const P=async()=>{if(e){m(!0);try{const U=await wE(e.id);u(U)}catch(U){console.error("Error loading stakeholders:",U)}finally{m(!1)}}},I=U=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(U),L=async U=>{U.preventDefault();const z={};if(v.name.trim()||(z.name="Name is required"),v.email.trim()?I(v.email)||(z.email="Invalid email address"):z.email="Email is required",l.some(V=>V.user_email.toLowerCase()===v.email.toLowerCase())&&(z.email="This stakeholder is already added"),b(z),!(Object.keys(z).length>0)&&e){k(!0);try{await bE({session_id:e.id,user_name:v.name,user_email:v.email,has_voted:!1});try{const V=`${window.location.origin}/login?session=${e.session_code}`;await Ix({to:v.email,subject:`You're invited to vote: ${e.title}`,text:`Hi,

You've been invited to vote in "${e.title}".

Open: ${V}

Best regards,
${(t==null?void 0:t.name)||""}`,html:`<p>Hi,</p><p>You've been invited to vote in <strong>${e.title}</strong>.</p><p><a href="${V}">Open the Feature Voting System</a></p><p>Best regards,<br/>${(t==null?void 0:t.name)||""}</p>`})}catch{try{const V=SE(e,v.email,(t==null?void 0:t.name)||"");window.location.href=V}catch{}}await P(),w({name:"",email:""}),p(!1)}catch(V){console.error("Error adding stakeholder:",V),b({submit:"Failed to add stakeholder. Please try again."})}finally{k(!1)}}},G=async U=>{if(e&&confirm("Are you sure you want to remove this stakeholder?"))try{await Lv(e.id,U),await P()}catch(z){console.error("Error removing stakeholder:",z),alert("Failed to remove stakeholder")}},W=U=>new Date(U).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return e?f?c.jsx("div",{className:"min-h-screen w-full bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2d4660] mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading stakeholders..."})]})}):c.jsxs("div",{className:"container mx-auto p-4 max-w-6xl min-h-screen pb-8",children:[c.jsx("div",{className:"hidden md:flex md:justify-center mb-2",children:c.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"-mt-4",style:{height:"96px",width:"auto"}})}),c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("img",{src:"https://media.licdn.com/dms/image/C4D0BAQEC3OhRqehrKg/company-logo_200_200/0/1630518354793/new_millennium_building_systems_logo?e=2147483647&v=beta&t=LM3sJTmQZet5NshZ-RNHXW1MMG9xSi1asp-VUeSA9NA",alt:"New Millennium Building Systems Logo",className:"mr-4 md:hidden",style:{width:"40px",height:"40px"}}),c.jsx("button",{onClick:()=>i("/admin"),className:"mr-2 p-1 rounded-full hover:bg-gray-200 cursor-pointer",children:c.jsx(nl,{className:"h-6 w-6"})}),c.jsx("h1",{className:"text-2xl font-bold text-[#2d4660] md:text-3xl",children:"Manage Stakeholders"})]}),c.jsxs("div",{ref:A,className:"relative z-40",children:[c.jsxs("div",{className:"hidden md:flex space-x-2",children:[c.jsxs("button",{onClick:()=>i("/admin"),className:"flex items-center px-4 py-2 bg-[#4f6d8e] text-white rounded-lg hover:bg-[#3d5670] transition-colors",children:[c.jsx(fr,{className:"h-4 w-4 mr-2"}),"Admin Dashboard"]}),c.jsxs("button",{onClick:()=>p(!0),className:"flex items-center px-4 py-2 bg-[#c59f2d] text-white rounded-lg hover:bg-[#a88a26] transition-colors",children:[c.jsx(Aa,{className:"h-4 w-4 mr-2"}),"Add Stakeholder"]}),c.jsxs("button",{onClick:s,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[c.jsx(Nr,{className:"h-4 w-4 mr-2"}),"Logout"]})]}),c.jsx("div",{className:"flex md:hidden",children:c.jsx("button",{onClick:()=>E(!N),className:"p-2 rounded-md border border-gray-200 bg-white shadow-sm","aria-label":"Open menu",children:c.jsx(Ai,{className:"h-5 w-5 text-gray-700"})})}),N&&c.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-lg md:hidden z-50",children:c.jsxs("div",{className:"py-1",children:[c.jsxs("button",{onClick:()=>{E(!1),i("/admin")},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(fr,{className:"h-4 w-4 mr-2 text-gray-700"}),"Admin Dashboard"]}),c.jsxs("button",{onClick:()=>{E(!1),p(!0)},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(Aa,{className:"h-4 w-4 mr-2 text-gray-700"}),"Add Stakeholder"]}),c.jsxs("button",{onClick:()=>{E(!1),s()},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(Nr,{className:"h-4 w-4 mr-2 text-gray-700"}),"Logout"]})]})})]})]}),c.jsx("div",{className:"relative z-10 bg-white rounded-lg shadow-md p-4 mb-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold text-[#2d4660]",children:"Current Session"}),c.jsx("p",{className:"text-gray-600 mt-1",children:e.title})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total Stakeholders"}),c.jsx("p",{className:"text-2xl font-bold text-[#2d4660]",children:l.length})]})]})}),c.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-md overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b border-gray-200",children:[c.jsxs("h2",{className:"text-lg font-semibold text-[#2d4660]",children:["Stakeholders (",l.length,")"]}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage who can vote in this session"})]}),l.length===0?c.jsxs("div",{className:"p-12 text-center",children:[c.jsx(Tr,{className:"mx-auto h-12 w-12 text-gray-400"}),c.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No stakeholders"}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by adding stakeholders to this voting session."}),c.jsx("div",{className:"mt-6",children:c.jsxs("button",{onClick:()=>p(!0),className:"inline-flex items-center px-4 py-2 bg-[#2d4660] text-white rounded-md hover:bg-[#1d3a53] transition-colors",children:[c.jsx(Aa,{className:"h-5 w-5 mr-2"}),"Add First Stakeholder"]})})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Voting Status"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Added"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(U=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Tr,{className:"h-5 w-5 text-gray-400 mr-2"}),c.jsx("span",{className:"text-sm font-medium text-gray-900",children:U.user_name})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[c.jsx(Vc,{className:"h-4 w-4 mr-2"}),U.user_email]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:U.has_voted?c.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[c.jsx(Bn,{className:"h-3 w-3 mr-1"}),"Voted"]}):c.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[c.jsx(nh,{className:"h-3 w-3 mr-1"}),"Pending"]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:W(U.created_at)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:c.jsx("button",{onClick:()=>G(U.user_email),className:"text-red-600 hover:text-red-900",children:c.jsx(Ks,{className:"h-5 w-5"})})})]},U.id))})]})})]}),h&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-medium text-[#2d4660]",children:"Add Stakeholder"}),c.jsx("button",{onClick:()=>{p(!1),w({name:"",email:""}),b({})},className:"text-gray-400 hover:text-gray-500",children:c.jsx(Di,{className:"h-5 w-5"})})]}),c.jsxs("form",{onSubmit:L,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),c.jsx("input",{type:"text",value:v.name,onChange:U=>w(z=>({...z,name:U.target.value})),className:`w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent ${_.name?"border-red-500":"border-gray-300"}`,placeholder:"John Doe"}),_.name&&c.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[c.jsx(Jt,{className:"h-4 w-4 mr-1"}),_.name]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),c.jsx("input",{type:"email",value:v.email,onChange:U=>w(z=>({...z,email:U.target.value})),className:`w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent ${_.email?"border-red-500":"border-gray-300"}`,placeholder:"john@example.com"}),_.email&&c.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[c.jsx(Jt,{className:"h-4 w-4 mr-1"}),_.email]})]}),_.submit&&c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:c.jsxs("p",{className:"text-sm text-red-800 flex items-center",children:[c.jsx(Jt,{className:"h-4 w-4 mr-2"}),_.submit]})}),c.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>{p(!1),w({name:"",email:""}),b({})},className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:x,children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-[#2d4660] text-white rounded-md hover:bg-[#1d3a53] disabled:opacity-50",disabled:x,children:x?"Adding...":"Add Stakeholder"})]})]})]})})]}):null}function NJ(){const{currentSession:e,currentUser:t,setCurrentUser:r,setCurrentSession:n}=Li(),i=Sn(),s=async()=>{try{await Fe.auth.signOut()}catch{}try{n(null)}catch{}r(null);try{localStorage.removeItem("voting_system_current_session"),localStorage.removeItem("azureDevOpsAuthInProgress"),sessionStorage.removeItem("oauth_return_path"),sessionStorage.removeItem("oauth_action")}catch{}E(!1),i("/login",{replace:!0})},[l,u]=S.useState([]),[f,m]=S.useState(!0),[h,p]=S.useState(!1),[v,w]=S.useState({email:""}),[_,b]=S.useState({}),[x,k]=S.useState(!1),[N,E]=S.useState(!1),A=S.useRef(null);S.useEffect(()=>{if(!N)return;const U=z=>{A.current&&!A.current.contains(z.target)&&E(!1)};return document.addEventListener("mousedown",U),document.addEventListener("touchstart",U,{passive:!0}),()=>{document.removeEventListener("mousedown",U),document.removeEventListener("touchstart",U)}},[N]),S.useEffect(()=>{if(!e){i("/sessions");return}P()},[e,i]);const P=async()=>{if(e){m(!0);try{const U=await xE(e.id);u(U)}catch(U){console.error("Error loading admins:",U)}finally{m(!1)}}},I=U=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(U),L=async U=>{U.preventDefault();const z={};if(v.email.trim()?I(v.email)||(z.email="Invalid email address"):z.email="Email is required",l.some(V=>V.user.email.toLowerCase()===v.email.toLowerCase())&&(z.email="This user is already an admin"),b(z),!(Object.keys(z).length>0)&&e){k(!0);try{const V=v.email.split("@")[0].replace(/\./g," ");await CM(e.id,v.email,V);try{const ee=`${window.location.origin}/login?session=${e.session_code}`;await Ix({to:v.email,subject:`You're invited to administer: ${e.title}`,text:`Hi,

You've been added as an admin for "${e.title}".

Open: ${ee}

Best regards,
${(t==null?void 0:t.name)||""}`,html:`<p>Hi,</p><p>You've been added as an admin for <strong>${e.title}</strong>.</p><p><a href="${ee}">Open the Feature Voting System</a></p><p>Best regards,<br/>${(t==null?void 0:t.name)||""}</p>`})}catch{try{const ee=SE(e,v.email,(t==null?void 0:t.name)||"");window.location.href=ee}catch{}}await P(),w({email:""}),p(!1)}catch(V){console.error("Error adding admin:",V),b({submit:"Failed to add admin. Please try again."})}finally{k(!1)}}},G=async U=>{if(e){if(l.length===1){alert("Cannot remove the last admin. Sessions must have at least one admin.");return}if(U===(t==null?void 0:t.id)){alert("You cannot remove yourself as an admin.");return}if(confirm("Are you sure you want to remove this admin?"))try{await zd(e.id,U),await P()}catch(z){console.error("Error removing admin:",z),alert("Failed to remove admin")}}},W=U=>new Date(U).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return e?f?c.jsx("div",{className:"min-h-screen w-full bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2d4660] mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading admins..."})]})}):c.jsxs("div",{className:"container mx-auto p-4 max-w-6xl min-h-screen pb-8",children:[c.jsx("div",{className:"hidden md:flex md:justify-center mb-2",children:c.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"-mt-4",style:{height:"96px",width:"auto"}})}),c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("img",{src:"https://media.licdn.com/dms/image/C4D0BAQEC3OhRqehrKg/company-logo_200_200/0/1630518354793/new_millennium_building_systems_logo?e=2147483647&v=beta&t=LM3sJTmQZet5NshZ-RNHXW1MMG9xSi1asp-VUeSA9NA",alt:"New Millennium Building Systems Logo",className:"mr-4 md:hidden",style:{width:"40px",height:"40px"}}),c.jsx("button",{onClick:()=>i("/admin"),className:"mr-2 p-1 rounded-full hover:bg-gray-200 cursor-pointer",children:c.jsx(nl,{className:"h-6 w-6"})}),c.jsx("h1",{className:"text-2xl font-bold text-[#2d4660] md:text-3xl",children:"Session Admins"})]}),c.jsxs("div",{ref:A,className:"relative z-40",children:[c.jsxs("div",{className:"hidden md:flex space-x-2",children:[c.jsxs("button",{onClick:()=>i("/admin"),className:"flex items-center px-4 py-2 bg-[#4f6d8e] text-white rounded-lg hover:bg-[#3d5670] transition-colors",children:[c.jsx(fr,{className:"h-4 w-4 mr-2"}),"Admin Dashboard"]}),c.jsxs("button",{onClick:()=>p(!0),className:"flex items-center px-4 py-2 bg-[#c59f2d] text-white rounded-lg hover:bg-[#a88a26] transition-colors",children:[c.jsx(Aa,{className:"h-4 w-4 mr-2"}),"Add Admin"]}),c.jsxs("button",{onClick:s,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[c.jsx(Nr,{className:"h-4 w-4 mr-2"}),"Logout"]})]}),c.jsx("div",{className:"flex md:hidden",children:c.jsx("button",{onClick:()=>E(!N),className:"p-2 rounded-md border border-gray-200 bg-white shadow-sm","aria-label":"Open menu",children:c.jsx(Ai,{className:"h-5 w-5 text-gray-700"})})}),N&&c.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-lg md:hidden z-50",children:c.jsxs("div",{className:"py-1",children:[c.jsxs("button",{onClick:()=>{E(!1),i("/admin")},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(fr,{className:"h-4 w-4 mr-2 text-gray-700"}),"Admin Dashboard"]}),c.jsxs("button",{onClick:()=>{E(!1),p(!0)},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(Aa,{className:"h-4 w-4 mr-2 text-gray-700"}),"Add Admin"]}),c.jsxs("button",{onClick:()=>{E(!1),s()},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(Nr,{className:"h-4 w-4 mr-2 text-gray-700"}),"Logout"]})]})})]})]}),c.jsx("div",{className:"relative z-10 bg-white rounded-lg shadow-md p-4 mb-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold text-[#2d4660]",children:"Current Session"}),c.jsx("p",{className:"text-gray-600 mt-1",children:e.title})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total Admins"}),c.jsx("p",{className:"text-2xl font-bold text-[#2d4660]",children:l.length})]})]})}),c.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-md overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b border-gray-200",children:[c.jsxs("h2",{className:"text-lg font-semibold text-[#2d4660]",children:["Session Admins (",l.length,")"]}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage who can administer this voting session"})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Added"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"relative z-10 bg-white divide-y divide-gray-200",children:l.map(U=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Xr,{className:"h-5 w-5 text-blue-500 mr-2"}),c.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[U.user.name,U.user.id===(t==null?void 0:t.id)&&c.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(You)"})]})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[c.jsx(Vc,{className:"h-4 w-4 mr-2"}),U.user.email]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:W(U.created_at)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:c.jsx("button",{onClick:()=>G(U.user_id),className:`text-red-600 hover:text-red-900 ${U.user.id===(t==null?void 0:t.id)||l.length===1?"opacity-50 cursor-not-allowed":""}`,disabled:U.user.id===(t==null?void 0:t.id)||l.length===1,title:U.user.id===(t==null?void 0:t.id)?"You cannot remove yourself":l.length===1?"Cannot remove the last admin":"Remove admin",children:c.jsx(Ks,{className:"h-5 w-5"})})})]},U.id))})]})})]}),c.jsx("div",{className:"relative z-10 mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(Xr,{className:"h-5 w-5 text-blue-600 mr-3 mt-0.5"}),c.jsxs("div",{className:"text-sm text-blue-800",children:[c.jsx("p",{className:"font-medium mb-1",children:"Session Admin Permissions:"}),c.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[c.jsx("li",{children:"Manage features and voting settings for this session"}),c.jsx("li",{children:"Add and remove stakeholders for this session"}),c.jsx("li",{children:"View voting results and analytics for this session"}),c.jsx("li",{children:"Add and remove other session admins"})]}),c.jsx("p",{className:"mt-2 text-xs italic",children:"Note: System Admins have full admin access to all sessions in the system."})]})]})}),h&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-medium text-[#2d4660]",children:"Add Session Admin"}),c.jsx("button",{onClick:()=>{p(!1),w({email:""}),b({})},className:"text-gray-400 hover:text-gray-500",children:c.jsx(Di,{className:"h-5 w-5"})})]}),c.jsxs("form",{onSubmit:L,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),c.jsx("input",{type:"email",value:v.email,onChange:U=>w(z=>({...z,email:U.target.value})),className:`w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent ${_.email?"border-red-500":"border-gray-300"}`,placeholder:"admin@example.com"}),_.email&&c.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[c.jsx(Jt,{className:"h-4 w-4 mr-1"}),_.email]})]}),_.submit&&c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:c.jsxs("p",{className:"text-sm text-red-800 flex items-center",children:[c.jsx(Jt,{className:"h-4 w-4 mr-2"}),_.submit]})}),c.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>{p(!1),w({email:""}),b({})},className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:x,children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-[#2d4660] text-white rounded-md hover:bg-[#1d3a53] disabled:opacity-50",disabled:x,children:x?"Adding...":"Add Admin"})]})]})]})})]}):null}function EJ(){const{currentUser:e,sessions:t}=Li(),r=Sn(),[n,i]=S.useState([]),[s,l]=S.useState(!0),[u,f]=S.useState(!1);S.useEffect(()=>{m()},[t]);const m=async()=>{l(!0);try{const v=new Set;for(const w of t)(await xE(w.id)).forEach(b=>{b.user&&b.user.email&&v.add(b.user.email)});i(Array.from(v))}catch(v){console.error("Error loading admin emails:",v)}finally{l(!1)}},h=()=>{const v=encodeURIComponent(" Request: Add me to Feature Voting System"),w=encodeURIComponent(`Hi Team,

I tried to access the Feature Voting System but don't have admin permissions yet.

Could you please add me to the system so I can participate in voting?

My details:
Name: ${(e==null?void 0:e.name)||"Unknown"}
Email: ${(e==null?void 0:e.email)||"Unknown"}

Thanks!
${(e==null?void 0:e.name)||"A hopeful voter"} `),_=n.length>0?`mailto:${n.join(",")}?subject=${v}&body=${w}`:`mailto:?subject=${v}&body=${w}`;window.location.href=_,f(!0)},p=()=>{r("/login")};return s?c.jsx("div",{className:"min-h-screen w-full bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2d4660] mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-4",children:c.jsxs("div",{className:"max-w-md w-full",children:[c.jsx("div",{className:"text-center mb-8",children:c.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"mx-auto",style:{height:"80px",width:"auto"}})}),c.jsxs("div",{className:"relative z-10 bg-white rounded-xl shadow-lg overflow-hidden",children:[c.jsxs("div",{className:"bg-gradient-to-r from-[#2d4660] to-[#1d3a53] p-6 text-center",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-white/10 rounded-full mb-4",children:c.jsx(r6,{className:"h-8 w-8 text-white"})}),c.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Whoa There, Speedracer! "}),c.jsx("p",{className:"text-blue-100 text-sm",children:"You need access to the Feature Voting System"})]}),c.jsx("div",{className:"p-6",children:u?c.jsx(c.Fragment,{children:c.jsxs("div",{className:"text-center py-4",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:c.jsx(Bn,{className:"h-8 w-8 text-green-600"})}),c.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Email Sent! "}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Your access request has been sent to the admin team. They'll get you set up soon!"}),c.jsxs("button",{onClick:p,className:"inline-flex items-center px-4 py-2 bg-[#2d4660] text-white rounded-lg hover:bg-[#1d3a53] transition-colors",children:[c.jsx(TS,{className:"h-4 w-4 mr-2"}),"Back to Login"]})]})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("p",{className:"text-gray-600 mb-4",children:"Looks like you're trying to access the Feature Voting System, but you haven't been added yet."}),c.jsx("p",{className:"text-gray-600 mb-4",children:"No worries! Click the button below to send a quick message to the admins asking to be added."}),c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(pn,{className:"h-5 w-5 text-blue-600 mr-2 mt-0.5 flex-shrink-0"}),c.jsx("div",{className:"text-sm text-blue-800",children:n.length>0?c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"font-medium mb-1",children:"Your message will be sent to:"}),c.jsx("p",{className:"text-xs",children:n.join(", ")})]}):c.jsx("p",{children:"Your message will help the admin team get you set up!"})})]})})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("button",{onClick:h,className:"w-full flex items-center justify-center px-4 py-3 bg-[#c59f2d] text-white rounded-lg hover:bg-[#a88a26] transition-colors font-medium",children:[c.jsx(Vc,{className:"h-5 w-5 mr-2"}),"Request Access from Admins"]}),c.jsxs("button",{onClick:p,className:"w-full flex items-center justify-center px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[c.jsx(TS,{className:"h-4 w-4 mr-2"}),"Back to Login"]})]})]})})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsx("p",{className:"text-sm text-gray-500",children:"Once you're added to the system, you'll be able to participate in voting sessions."})})]})})}function CJ(){const{currentUser:e,setCurrentUser:t,setCurrentSession:r}=Li(),n=Sn(),i=async()=>{try{await Fe.auth.signOut()}catch{}try{r(null)}catch{}t(null);try{localStorage.removeItem("voting_system_current_session"),localStorage.removeItem("azureDevOpsAuthInProgress"),sessionStorage.removeItem("oauth_return_path"),sessionStorage.removeItem("oauth_action")}catch{}N(!1),n("/login",{replace:!0})},[s,l]=S.useState([]),[u,f]=S.useState(!0),[m,h]=S.useState(!1),[p,v]=S.useState({email:""}),[w,_]=S.useState({}),[b,x]=S.useState(!1),[k,N]=S.useState(!1),E=S.useRef(null);S.useEffect(()=>{if(!k)return;const W=U=>{E.current&&!E.current.contains(U.target)&&N(!1)};return document.addEventListener("mousedown",W),document.addEventListener("touchstart",W,{passive:!0}),()=>{document.removeEventListener("mousedown",W),document.removeEventListener("touchstart",W)}},[k]),S.useEffect(()=>{A()},[]);const A=async()=>{f(!0);try{let W=await Fv();W.length===0&&e&&(console.log("No system admins found. Adding current user as first system admin..."),await tf(e.id),W=await Fv()),l(W)}catch(W){console.error("Error loading system admins:",W)}finally{f(!1)}},P=W=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(W),I=async W=>{W.preventDefault();const U={};if(p.email.trim()?P(p.email)||(U.email="Invalid email address"):U.email="Email is required",s.some(z=>z.user.email.toLowerCase()===p.email.toLowerCase())&&(U.email="This user is already a system admin"),_(U),!(Object.keys(U).length>0)){x(!0);try{const z=p.email.split("@")[0].replace(/\./g," "),V=await Gy(p.email,z);await tf(V.id);try{const ee=`${window.location.origin}/login`;await Ix({to:p.email,subject:"You're a System Admin: Feature Voting System",text:`Hi,

You've been granted System Admin access to the Feature Voting System.

Login: ${ee}

Best regards,
System`,html:`<p>Hi,</p><p>You've been granted <strong>System Admin</strong> access to the Feature Voting System.</p><p><a href="${ee}">Login</a></p><p>Best regards,<br/>System</p>`})}catch{try{const ee=`${window.location.origin}/login`,X=encodeURIComponent("You're a System Admin: Feature Voting System"),ae=encodeURIComponent(`Hi,

You've been granted System Admin access to the Feature Voting System.

To sign in, use this link:

${ee}

Best regards,
System`);window.location.href=`mailto:${encodeURIComponent(p.email)}?subject=${X}&body=${ae}`}catch{}}await A(),v({email:""}),h(!1)}catch(z){console.error("Error adding system admin:",z),_({submit:"Failed to add system admin. Please try again."})}finally{x(!1)}}},L=async W=>{const U=s.reduce((z,V)=>new Date(V.created_at)<new Date(z.created_at)?V:z);if(W===U.user_id){alert("Cannot remove the original system admin. This protects against accidentally locking everyone out of the system.");return}if(s.length===1){alert("Cannot remove the last system admin. The system must have at least one admin.");return}if(W===(e==null?void 0:e.id)){alert("You cannot remove yourself as a system admin.");return}if(confirm("Are you sure you want to remove this system admin?"))try{await Bd(W),await A()}catch(z){console.error("Error removing system admin:",z),alert("Failed to remove system admin")}},G=W=>new Date(W).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return u?c.jsx("div",{className:"min-h-screen w-full bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2d4660] mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading system admins..."})]})}):c.jsxs("div",{className:"container mx-auto p-4 max-w-6xl min-h-screen pb-8",children:[c.jsx("div",{className:"hidden md:flex md:justify-center mb-2",children:c.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"-mt-4",style:{height:"96px",width:"auto"}})}),c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("img",{src:"https://media.licdn.com/dms/image/C4D0BAQEC3OhRqehrKg/company-logo_200_200/0/1630518354793/new_millennium_building_systems_logo?e=2147483647&v=beta&t=LM3sJTmQZet5NshZ-RNHXW1MMG9xSi1asp-VUeSA9NA",alt:"New Millennium Building Systems Logo",className:"mr-4 md:hidden",style:{width:"40px",height:"40px"}}),c.jsx("button",{onClick:()=>n("/sessions"),className:"mr-2 p-1 rounded-full hover:bg-gray-200 cursor-pointer",children:c.jsx(nl,{className:"h-6 w-6"})}),c.jsx("h1",{className:"text-2xl font-bold text-[#2d4660] md:text-3xl",children:"System Admins"})]}),c.jsxs("div",{ref:E,className:"relative z-40",children:[c.jsxs("div",{className:"hidden md:flex space-x-2",children:[c.jsxs("button",{onClick:()=>n("/sessions"),className:"flex items-center px-4 py-2 bg-[#4f6d8e] text-white rounded-lg hover:bg-[#3d5670] transition-colors",children:[c.jsx(fr,{className:"h-4 w-4 mr-2"}),"My Sessions"]}),c.jsxs("button",{onClick:()=>h(!0),className:"flex items-center px-4 py-2 bg-[#c59f2d] text-white rounded-lg hover:bg-[#a88a26] transition-colors",children:[c.jsx(Aa,{className:"h-4 w-4 mr-2"}),"Add System Admin"]}),c.jsxs("button",{onClick:i,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[c.jsx(Nr,{className:"h-4 w-4 mr-2"}),"Logout"]})]}),c.jsx("div",{className:"flex md:hidden",children:c.jsx("button",{onClick:()=>N(!k),className:"p-2 rounded-md border border-gray-200 bg-white shadow-sm","aria-label":"Open menu",children:c.jsx(Ai,{className:"h-5 w-5 text-gray-700"})})}),k&&c.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-lg md:hidden z-50",children:c.jsxs("div",{className:"py-1",children:[c.jsxs("button",{onClick:()=>{N(!1),n("/sessions")},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(fr,{className:"h-4 w-4 mr-2 text-gray-700"}),"My Sessions"]}),c.jsxs("button",{onClick:()=>{N(!1),h(!0)},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(Aa,{className:"h-4 w-4 mr-2 text-gray-700"}),"Add System Admin"]}),c.jsxs("button",{onClick:()=>{N(!1),i()},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(Nr,{className:"h-4 w-4 mr-2 text-gray-700"}),"Logout"]})]})})]})]}),c.jsx("div",{className:"relative z-10 bg-gradient-to-r from-[#2d4660] to-[#1d3a53] rounded-lg shadow-md p-6 mb-6 text-white",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(fn,{className:"h-8 w-8 mr-3"}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold",children:"Feature Voting System"}),c.jsx("p",{className:"text-blue-100 mt-1",children:"Global administrator management"})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-sm text-blue-100",children:"Total System Admins"}),c.jsx("p",{className:"text-3xl font-bold",children:s.length})]})]})}),c.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-md overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b border-gray-200",children:[c.jsxs("h2",{className:"text-lg font-semibold text-[#2d4660]",children:["System Administrators (",s.length,")"]}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage who has full access to the Feature Voting System"})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Added"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(()=>{const W=s.reduce((U,z)=>new Date(z.created_at)<new Date(U.created_at)?z:U);return s.map(U=>{const z=U.user_id===W.user_id;return c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(fn,{className:"h-5 w-5 text-[#c59f2d] mr-2"}),c.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[U.user.name,U.user.id===(e==null?void 0:e.id)&&c.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(You)"}),z&&c.jsx("span",{className:"ml-2 text-xs text-[#c59f2d] font-semibold",children:"(Original Admin)"})]})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[c.jsx(Vc,{className:"h-4 w-4 mr-2"}),U.user.email]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:G(U.created_at)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:c.jsx("button",{onClick:()=>L(U.user_id),className:`text-red-600 hover:text-red-900 ${U.user.id===(e==null?void 0:e.id)||s.length===1||z?"opacity-50 cursor-not-allowed":""}`,disabled:U.user.id===(e==null?void 0:e.id)||s.length===1||z,title:z?"Cannot remove the original system admin":U.user.id===(e==null?void 0:e.id)?"You cannot remove yourself":s.length===1?"Cannot remove the last system admin":"Remove system admin",children:c.jsx(Ks,{className:"h-5 w-5"})})})]},U.id)})})()})]})})]}),c.jsx("div",{className:"relative z-10 mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(fn,{className:"h-5 w-5 text-yellow-600 mr-3 mt-0.5"}),c.jsxs("div",{className:"text-sm text-yellow-800",children:[c.jsx("p",{className:"font-medium mb-1",children:"System Admin Permissions:"}),c.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[c.jsx("li",{children:"Full access to all voting sessions across the system"}),c.jsx("li",{children:"Create and manage any voting session"}),c.jsx("li",{children:"Add and remove other system administrators"}),c.jsx("li",{children:"Manage session admins and stakeholders for any session"}),c.jsx("li",{children:"View all results and analytics system-wide"})]}),c.jsx("p",{className:"mt-3 text-xs font-medium",children:"Note: The original system admin (first person to access this page) cannot be removed to prevent system lockout."})]})]})}),m&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-medium text-[#2d4660]",children:"Add System Admin"}),c.jsx("button",{onClick:()=>{h(!1),v({email:""}),_({})},className:"text-gray-400 hover:text-gray-500",children:c.jsx(Di,{className:"h-5 w-5"})})]}),c.jsxs("form",{onSubmit:I,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),c.jsx("input",{type:"email",value:p.email,onChange:W=>v(U=>({...U,email:W.target.value})),className:`w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent ${w.email?"border-red-500":"border-gray-300"}`,placeholder:"admin@example.com"}),w.email&&c.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[c.jsx(Jt,{className:"h-4 w-4 mr-1"}),w.email]})]}),w.submit&&c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:c.jsxs("p",{className:"text-sm text-red-800 flex items-center",children:[c.jsx(Jt,{className:"h-4 w-4 mr-2"}),w.submit]})}),c.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>{h(!1),v({email:""}),_({})},className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:b,children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-[#2d4660] text-white rounded-md hover:bg-[#1d3a53] disabled:opacity-50",disabled:b,children:b?"Adding...":"Add System Admin"})]})]})]})})]})}function AJ(){const{currentUser:e,setCurrentUser:t,setCurrentSession:r,currentSession:n}=Li(),i=Sn(),[s]=QN(),[l,u]=S.useState([]),[f,m]=S.useState([]),[h,p]=S.useState(!0),[v,w]=S.useState(""),[_,b]=S.useState("all"),[x,k]=S.useState(!1),[N,E]=S.useState(null),[A,P]=S.useState(null),I=S.useRef(null),L=S.useRef({}),G=S.useRef(!1),[W,U]=S.useState(!1),[z,V]=S.useState(!1),[ee,X]=S.useState([]),[ae,xe]=S.useState("system-admin"),[ye,re]=S.useState(!0),[le,ce]=S.useState(!1),[M,D]=S.useState(null),[te,Se]=S.useState(null),[ne,ke]=S.useState([]),[$e,Qe]=S.useState(""),[ue,Pe]=S.useState({adminSessions:[],stakeholderSessions:[]}),[oe,Z]=S.useState(!1),[Ee,Ye]=S.useState(null),[Pt,yt]=S.useState(!1),[Ft,jn]=S.useState(null),[Ut,kn]=S.useState(new Set),[Zt,R]=S.useState(new Map),[H,Q]=S.useState(!1),[ge,pe]=S.useState(!1),[Y,ve]=S.useState({name:"",email:"",password:"",isSystemAdmin:!1,sessionAdminIds:[],stakeholderSessionIds:[]}),[Ue,it]=S.useState({systemAdmin:!1,sessionAdmin:!1,stakeholder:!1}),gt=async()=>{try{await Fe.auth.signOut()}catch{}try{r(null)}catch{}t(null);try{localStorage.removeItem("voting_system_current_session"),localStorage.removeItem("azureDevOpsAuthInProgress"),sessionStorage.removeItem("oauth_return_path"),sessionStorage.removeItem("oauth_action")}catch{}k(!1),i("/login",{replace:!0})};S.useEffect(()=>{if(!x)return;const O=se=>{I.current&&!I.current.contains(se.target)&&k(!1)};return document.addEventListener("mousedown",O),document.addEventListener("touchstart",O,{passive:!0}),()=>{document.removeEventListener("mousedown",O),document.removeEventListener("touchstart",O)}},[x]),S.useEffect(()=>{if(!N)return;const O=se=>{const je=L.current[N];je&&!je.contains(se.target)&&E(null)};return document.addEventListener("mousedown",O),document.addEventListener("touchstart",O,{passive:!0}),()=>{document.removeEventListener("mousedown",O),document.removeEventListener("touchstart",O)}},[N]);const Dr=async O=>{p(!0),console.log("=== CHECKING USERS TABLE SCHEMA ===");try{const{data:se,error:je}=await Fe.from("users").select("*").limit(1).single();se?(console.log(" Sample user record:",se),console.log(" Available fields:",Object.keys(se)),console.log(" Has created_by?","created_by"in se),console.log(" Has created_by_name?","created_by_name"in se),console.log(" Has created_by_user_id?","created_by_user_id"in se)):console.log(" No users found or error:",je)}catch(se){console.log(" Error checking schema:",se)}console.log(`=== END SCHEMA CHECK ===
`);try{const se=await H1(),je=new Map;await Promise.all(O.map(async nt=>{try{const yr=await wE(nt.id);je.set(nt.id,yr)}catch(yr){console.error(`Error loading stakeholders for session ${nt.id}:`,yr),je.set(nt.id,[])}}));const Ge=await Promise.all(se.map(async nt=>{const yr=await jM(nt.id),hl=[],ml=[];if(yr.sessionAdminCount>0)try{const{data:bi,error:pl}=await Fe.from("session_admins").select("session_id").eq("user_id",nt.id);if(pl)console.error("Error fetching admin sessions:",pl);else if(bi){const lu=bi.map(ft=>ft.session_id);hl.push(...O.filter(ft=>lu.includes(ft.id)))}}catch(bi){console.error("Error querying session_admins:",bi)}for(const bi of O)(je.get(bi.id)||[]).some(ft=>{const $h=ft.user_email&&nt.email&&ft.user_email.toLowerCase()===nt.email.toLowerCase(),gl=ft.user_id===nt.id||ft.id===nt.id;return $h||gl})&&ml.push(bi);return{...nt,roles:yr,adminInSessions:hl,stakeholderInSessions:ml}}));u(Ge);const De=new Map;Ge.forEach(nt=>{const yr=nt.email.toLowerCase().trim();De.has(yr)||De.set(yr,[]),De.get(yr).push(nt.id)});const dt=new Map;De.forEach((nt,yr)=>{nt.length>1&&dt.set(yr,nt)}),R(dt)}catch(se){console.error("Error loading users:",se)}finally{p(!1)}},Gn=async()=>{if(e){re(!0);try{const O=await tl(e.id);U(O);const se=await Yy();let je=[];if(O)ke(se),await Yn(),await Dr(se);else{const Ge=await Promise.all(se.map(nt=>Nc(nt.id,e.id)));se.forEach((nt,yr)=>{Ge[yr]&&je.push(nt.id)});const De=je.length>0;if(V(De),X(je),!De){i("/sessions");return}const dt=se.filter(nt=>je.includes(nt.id));ke(dt),xe("session-admin"),await Dr(dt)}}catch(O){console.error("Error checking access:",O),i("/sessions")}finally{re(!1)}}},Yn=async()=>{try{const O=["chris.rodes@newmill.com","spencer.faull@newmill.com"],se=new Set,je=await Fv();if(je.length>0){const De=je.reduce((dt,nt)=>new Date(nt.created_at)<new Date(dt.created_at)?nt:dt);jn(De.user_id),se.add(De.user_id)}(await H1()).forEach(De=>{O.includes(De.email.toLowerCase())&&se.add(De.id)}),kn(se)}catch(O){console.error("Error loading protected accounts:",O)}},Rr=O=>{if(O.id===Ft)return"Original Admin";const se=O.email.toLowerCase();return se==="chris.rodes@newmill.com"?"Manager":se==="spencer.faull@newmill.com"?"Portfolio Owner":null},Nn=O=>{const se=O.email.toLowerCase().trim(),je=Zt.get(se);return je?je.length>1:!1},xi=O=>{const se=O.email.toLowerCase().trim(),je=Zt.get(se);return je?je.length:1},Jn=()=>{let O=[...l];if(v.trim()){const se=v.toLowerCase();O=O.filter(je=>je.name.toLowerCase().includes(se)||je.email.toLowerCase().includes(se))}_!=="all"&&(O=O.filter(se=>{switch(_){case"system-admin":return se.roles.isSystemAdmin;case"session-admin":return se.roles.sessionAdminCount>0&&!se.roles.isSystemAdmin;case"stakeholder":return se.roles.stakeholderSessionCount>0&&se.roles.sessionAdminCount===0&&!se.roles.isSystemAdmin;case"none":return!se.roles.isSystemAdmin&&se.roles.sessionAdminCount===0&&se.roles.stakeholderSessionCount===0;default:return!0}})),m(O)};S.useEffect(()=>{if(!e){i("/login");return}if(!G.current)return G.current=!0,Gn(),()=>{}},[e]),S.useEffect(()=>{const O=s.get("filter");O&&["system-admin","session-admin","stakeholder","none"].includes(O)&&b(O)},[s]),S.useEffect(()=>{Jn()},[l,v,_]);const gs=async O=>{try{const se=[],je=[];for(const Ge of ne)await Nc(O,Ge.id)&&se.push(Ge.id),await(void 0)(O,Ge.id)&&je.push(Ge.id);Pe({adminSessions:se,stakeholderSessions:je})}catch(se){console.error("Error loading user session memberships:",se)}},En=async(O,se)=>{Se(O),D(se),Qe(""),ce(!0),E(null),await gs(O.id)},Cn=()=>{ce(!1),D(null),Se(null),Qe(""),Pe({adminSessions:[],stakeholderSessions:[]})},wi=async()=>{if(!(!te||!$e||!M))try{M==="session-admin"?await ef($e,te.id):M==="stakeholder"?await K1($e,te.email,te.name):M==="remove-stakeholder"&&await Lv($e,te.email),Cn(),await Dr(ne)}catch(O){console.error("Error modifying user session role:",O);const se=(O==null?void 0:O.message)||(O==null?void 0:O.toString())||"Unknown error";console.error("Full error details:",O),alert(`Failed to ${M==="remove-stakeholder"?"remove stakeholder from":"add user to"} session.

Error: ${se}

Please check the console for more details.`)}},ie=async(O,se)=>{if(E(null),!!confirm(`Are you sure you want to ${se?"remove":"grant"} system admin access for this user?`))try{se?await Bd(O):await tf(O),await Dr(ne)}catch(je){console.error("Error toggling system admin:",je),alert("Failed to update system admin status. Please try again.")}},we=async(O,se)=>{E(null);const je=ae==="session-admin"?`Are you sure you want to remove ${se} from all sessions you manage? This will remove them as a stakeholder or session admin from your sessions only.`:`Are you sure you want to remove all roles from ${se}? This will remove them from all sessions and revoke system admin access.`;if(confirm(je))try{if(ae==="system-admin"&&await Bd(O),ae==="session-admin"){for(const Ge of ee)try{await zd(Ge,O)}catch(De){console.error(`Error removing session admin from ${Ge}:`,De)}for(const Ge of ee)try{await(void 0)(Ge,O)}catch(De){console.error(`Error removing stakeholder from ${Ge}:`,De)}}else for(const Ge of ne)try{await zd(Ge.id,O),await(void 0)(Ge.id,O)}catch{}await Dr(ne)}catch(Ge){console.error("Error removing roles:",Ge),alert("Failed to remove roles. Please try again.")}},Ke=async(O,se)=>{const je=l.find(Ge=>Ge.id===O);if(je){if(ae==="session-admin"){if(je.roles.stakeholderSessionCount===0){alert("This user is not a stakeholder in any sessions.");return}const Ge=`Are you sure you want to remove ${se} as a stakeholder from all sessions you manage?`;if(!confirm(Ge))return;try{let De=0;for(const dt of ne)try{await Lv(dt.id,je.email),De++}catch(nt){console.error(`Error removing stakeholder from session ${dt.id}:`,nt)}await Dr(ne),De>0?alert(`${se} has been removed as a stakeholder from ${De} session(s) you manage.`):alert(`${se} was not a stakeholder in any of the sessions you manage.`)}catch(De){console.error("Error removing stakeholder:",De),alert("Failed to remove stakeholder. Please try again.")}return}Ye(je),Z(!0)}},qe=async()=>{if(Ee){if(Ut.has(Ee.id)){const O=Rr(Ee);alert(`Cannot delete this protected account${O?` (${O})`:""}. This protects against accidentally locking important users out of the system.`),Z(!1),Ye(null);return}yt(!0);try{for(const se of ne)try{await zd(se.id,Ee.id),await(void 0)(se.id,Ee.id)}catch{}if(Ee.roles.isSystemAdmin)try{await Bd(Ee.id)}catch(se){console.error("Error removing system admin role:",se)}const{error:O}=await Fe.from("users").delete().eq("id",Ee.id);if(O)throw O;await Dr(ne),Z(!1),Ye(null)}catch(O){console.error("Error deleting user:",O),alert("Failed to delete user. Please try again.")}finally{yt(!1)}}},Le=()=>{Z(!1),Ye(null)},Ne=()=>{ve({name:"",email:"",password:st(),isSystemAdmin:!1,sessionAdminIds:[],stakeholderSessionIds:[]}),Q(!0)},$t=()=>{Q(!1),ve({name:"",email:"",password:"",isSystemAdmin:!1,sessionAdminIds:[],stakeholderSessionIds:[]}),it({systemAdmin:!1,sessionAdmin:!1,stakeholder:!1})},st=()=>{const se="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";let je="";for(let Ge=0;Ge<12;Ge++)je+=se.charAt(Math.floor(Math.random()*se.length));return je},kt=async()=>{if(!Y.name.trim()||!Y.email.trim()||!Y.password.trim()){alert("Please fill in all required fields (Name, Email, Password)");return}pe(!0);try{const{data:O,error:se}=await Fe.auth.signUp({email:Y.email,password:Y.password,options:{data:{name:Y.name}}});if(se)throw se;if(!O.user)throw new Error("User creation failed");const je=O.user.id,{error:Ge}=await Fe.from("users").insert({id:je,name:Y.name,email:Y.email,created_by:e==null?void 0:e.id,created_by_name:e==null?void 0:e.name});if(Ge)throw Ge;if(ae==="system-admin"&&Y.isSystemAdmin&&await tf(je),ae==="system-admin")for(const De of Y.sessionAdminIds)try{await ef(De,je)}catch(dt){console.error("Error adding session admin role:",dt)}if(console.log("Adding stakeholder to sessions:",Y.stakeholderSessionIds),console.log("View mode:",ae),console.log("User admin sessions:",ee),console.log("All sessions:",ne.map(De=>({id:De.id,title:De.title}))),Y.stakeholderSessionIds.length===0)console.log("No stakeholder sessions selected");else{for(const De of Y.stakeholderSessionIds){if(ae==="session-admin"&&!ne.some(nt=>nt.id===De)){console.warn(`Skipping session ${De} - not in managed sessions`);continue}try{console.log(`Adding ${Y.email} as stakeholder to session ${De}`);const dt=await K1(De,Y.email,Y.name);console.log(`Successfully added stakeholder to session ${De}:`,dt)}catch(dt){console.error(`Error adding stakeholder role to session ${De}:`,dt);const nt=(dt==null?void 0:dt.message)||(dt==null?void 0:dt.toString())||"Unknown error";alert(`Warning: Failed to add ${Y.email} to session ${De}.

Error: ${nt}`)}}console.log("Finished adding stakeholder roles")}$t(),await Dr(ne),alert(`User created successfully!

Email: ${Y.email}
Temporary Password: ${Y.password}

Please save this password and share it with the user securely.`)}catch(O){console.error("Error creating user:",O),alert(`Failed to create user: ${O.message||"Unknown error"}`)}finally{pe(!1)}},Me=O=>{ve(se=>({...se,sessionAdminIds:se.sessionAdminIds.includes(O)?se.sessionAdminIds.filter(je=>je!==O):[...se.sessionAdminIds,O]}))},An=O=>{ve(se=>({...se,stakeholderSessionIds:se.stakeholderSessionIds.includes(O)?se.stakeholderSessionIds.filter(je=>je!==O):[...se.stakeholderSessionIds,O]}))},Wr=O=>new Date(O).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),Qn=O=>O.roles.isSystemAdmin?c.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[c.jsx(fn,{className:"h-3 w-3 mr-1"}),"System Admin"]}):O.roles.sessionAdminCount>0?c.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-[#173B65] text-white",children:[c.jsx(Xr,{className:"h-3 w-3 mr-1"}),"Session Admin (",O.roles.sessionAdminCount,")"]}):O.roles.stakeholderSessionCount>0?c.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[c.jsx(Tr,{className:"h-3 w-3 mr-1"}),"Stakeholder (",O.roles.stakeholderSessionCount,")"]}):c.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600",children:"No Role"}),zt=O=>O?O==="session-admin"?ne.filter(se=>!ue.adminSessions.includes(se.id)):O==="remove-stakeholder"?ne.filter(se=>ue.stakeholderSessions.includes(se.id)&&(ae==="system-admin"||ee.includes(se.id))):ne.filter(se=>!ue.stakeholderSessions.includes(se.id)):[],On=(O,se)=>se?se==="session-admin"?O.roles.sessionAdminCount<ne.length:O.roles.stakeholderSessionCount<ne.length:!1;return ye||h?c.jsx("div",{className:"min-h-screen w-full bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2d4660] mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:ye?"Checking access...":"Loading users..."})]})}):W?c.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[c.jsxs("div",{className:"container mx-auto p-4 max-w-6xl",children:[c.jsx("div",{className:"hidden md:flex md:justify-center mb-2",children:c.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"-mt-4",style:{height:"96px",width:"auto"}})}),c.jsxs("div",{className:"flex justify-between items-center mb-4 md:mb-6",children:[c.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[c.jsx("img",{src:"https://media.licdn.com/dms/image/C4D0BAQEC3OhRqehrKg/company-logo_200_200/0/1630518354793/new_millennium_building_systems_logo?e=2147483647&v=beta&t=LM3sJTmQZet5NshZ-RNHXW1MMG9xSi1asp-VUeSA9NA",alt:"New Millennium Building Systems Logo",className:"mr-3 md:hidden flex-shrink-0",style:{width:"36px",height:"36px"}}),c.jsx("button",{onClick:()=>{n!=null&&n.id?i("/admin"):i("/sessions")},className:"mr-2 p-1 rounded-full hover:bg-gray-200 cursor-pointer flex-shrink-0",children:c.jsx(nl,{className:"h-6 w-6"})}),c.jsx("h1",{className:"text-xl md:text-3xl font-bold text-[#2d4660] truncate",children:"User Management"})]}),c.jsxs("div",{ref:I,className:"relative z-40 flex-shrink-0 ml-2",children:[c.jsxs("div",{className:"hidden md:flex space-x-2",children:[(W||z)&&c.jsxs("button",{onClick:Ne,className:"flex items-center px-4 py-2 bg-[#2D4660] text-white rounded-lg hover:bg-[#173B65] transition-colors",children:[c.jsx(pn,{className:"h-4 w-4 mr-2"}),"Add User"]}),c.jsxs("button",{onClick:()=>i("/sessions"),className:"flex items-center px-4 py-2 bg-[#4f6d8e] text-white rounded-lg hover:bg-[#3d5670] transition-colors",children:[c.jsx(fr,{className:"h-4 w-4 mr-2"}),"My Sessions"]}),c.jsxs("button",{onClick:gt,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[c.jsx(Nr,{className:"h-4 w-4 mr-2"}),"Logout"]})]}),c.jsx("div",{className:"flex md:hidden",children:c.jsx("button",{onClick:()=>k(!x),className:"p-2 rounded-md border border-gray-200 bg-white shadow-sm","aria-label":"Open menu",children:c.jsx(Ai,{className:"h-5 w-5 text-gray-700"})})}),x&&c.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-lg md:hidden z-50",children:c.jsxs("div",{className:"py-1",children:[(W||z)&&c.jsxs("button",{onClick:()=>{k(!1),Ne()},className:"w-full px-4 py-3 flex items-center text-left hover:bg-gray-50",children:[c.jsx(pn,{className:"h-5 w-5 mr-3 text-green-600"}),c.jsx("span",{className:"text-base",children:"Add User"})]}),c.jsxs("button",{onClick:()=>{k(!1),i("/sessions")},className:"w-full px-4 py-3 flex items-center text-left hover:bg-gray-50",children:[c.jsx(fr,{className:"h-5 w-5 mr-3 text-gray-700"}),c.jsx("span",{className:"text-base",children:"My Sessions"})]}),c.jsxs("button",{onClick:()=>{k(!1),gt()},className:"w-full px-4 py-3 flex items-center text-left hover:bg-gray-50",children:[c.jsx(Nr,{className:"h-5 w-5 mr-3 text-gray-700"}),c.jsx("span",{className:"text-base",children:"Logout"})]})]})})]})]}),c.jsx("div",{className:"relative z-10 bg-white rounded-lg shadow-md p-3 md:p-4 mb-4 md:mb-6",children:c.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:gap-4",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(u6,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search by name or email...",value:v,onChange:O=>w(O.target.value),className:"w-full pl-10 pr-10 py-2.5 md:py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#2d4660] focus:border-transparent text-base"}),v&&c.jsx("button",{onClick:()=>w(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c.jsx(Di,{className:"h-5 w-5"})})]}),c.jsxs("select",{value:_,onChange:O=>b(O.target.value),className:"px-4 py-2.5 md:py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#2d4660] focus:border-transparent text-base",children:[c.jsx("option",{value:"all",children:"All Roles"}),c.jsx("option",{value:"system-admin",children:"System Admin"}),c.jsx("option",{value:"session-admin",children:"Session Admin"}),c.jsx("option",{value:"stakeholder",children:"Stakeholder"}),c.jsx("option",{value:"none",children:"No Role"})]})]})}),c.jsx("div",{className:"md:hidden space-y-3 relative z-10",children:f.length===0?c.jsx("div",{className:"bg-white rounded-lg shadow-md p-8 text-center text-gray-500",children:v||_!=="all"?"No users found matching your filters.":"No users found."}):f.map(O=>{var se;return c.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[c.jsxs("div",{className:"p-4 border-b border-gray-100",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[c.jsxs("h3",{className:"text-base font-semibold text-gray-900 truncate",children:[O.name,O.id===(e==null?void 0:e.id)&&c.jsx("span",{className:"ml-2 text-xs text-[#c59f2d] font-semibold",children:"(You)"}),Rr(O)&&c.jsxs("span",{className:"ml-2 text-xs text-[#c59f2d] font-semibold",children:["(",Rr(O),")"]}),Nn(O)&&c.jsxs("span",{className:"ml-2 px-2 py-0.5 bg-red-100 text-red-700 text-xs font-medium rounded",children:["Duplicate (",xi(O),")"]})]}),c.jsx("p",{className:"text-sm text-gray-500 truncate",children:O.email})]}),c.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(ae==="system-admin"||ae==="session-admin"&&O.roles.stakeholderSessionCount>0&&((se=O.stakeholderInSessions)==null?void 0:se.some(je=>ne.some(Ge=>Ge.id===je.id))))&&c.jsx("button",{onClick:()=>Ke(O.id,O.name),className:`p-2 rounded-md hover:bg-red-50 transition-colors ${O.id===(e==null?void 0:e.id)||ae==="system-admin"&&Ut.has(O.id)?"opacity-50 cursor-not-allowed":""}`,disabled:O.id===(e==null?void 0:e.id)||ae==="system-admin"&&Ut.has(O.id),title:ae==="session-admin"?"Remove stakeholder from all your sessions":Ut.has(O.id)?`Cannot delete protected account${Rr(O)?` (${Rr(O)})`:""}`:O.id===(e==null?void 0:e.id)?"Cannot delete your own account":"Delete user",children:c.jsx(Ks,{className:"h-5 w-5 text-red-600"})}),c.jsxs("div",{className:"relative",ref:je=>{L.current[O.id]=je},children:[c.jsx("button",{onClick:()=>E(N===O.id?null:O.id),className:`p-2 rounded-md hover:bg-gray-100 transition-colors ${O.id===(e==null?void 0:e.id)?"opacity-50 cursor-not-allowed":""}`,disabled:O.id===(e==null?void 0:e.id),title:O.id===(e==null?void 0:e.id)?"Cannot modify your own permissions":"Change user role",children:c.jsx(IS,{className:"h-5 w-5 text-gray-600"})}),N===O.id&&O.id!==(e==null?void 0:e.id)&&c.jsx("div",{className:"absolute right-0 mt-1 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:c.jsxs("div",{className:"py-1",children:[c.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase border-b border-gray-200",children:"Change User Role"}),ae==="system-admin"&&c.jsxs(c.Fragment,{children:[O.roles.isSystemAdmin?c.jsxs("button",{onClick:()=>ie(O.id,!0),className:"w-full px-4 py-3 text-left flex items-center hover:bg-red-50 text-red-700",children:[c.jsx(fn,{className:"h-5 w-5 mr-3 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-base",children:"Remove System Admin"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Revoke global admin access"})]})]}):c.jsxs("button",{onClick:()=>ie(O.id,!1),className:"w-full px-4 py-3 text-left flex items-center hover:bg-purple-50 text-purple-700",children:[c.jsx(fn,{className:"h-5 w-5 mr-3 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-base",children:"Make System Admin"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Grant global admin access"})]})]}),On(O,"session-admin")&&c.jsxs("button",{onClick:()=>En(O,"session-admin"),className:"w-full px-4 py-3 text-left flex items-center hover:bg-[#E8EDF2] text-[#2D4660] border-t border-gray-200",children:[c.jsx(Xr,{className:"h-5 w-5 mr-3 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-base",children:"Make Session Admin"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Add to a session as admin"})]})]})]}),On(O,"stakeholder")&&c.jsxs("button",{onClick:()=>En(O,"stakeholder"),className:"w-full px-4 py-3 text-left flex items-center hover:bg-green-50 text-green-700 border-t border-gray-200",children:[c.jsx(Tr,{className:"h-5 w-5 mr-3 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-base",children:"Make Stakeholder"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Add to a session as stakeholder"})]})]}),ae==="session-admin"&&O.stakeholderInSessions&&O.stakeholderInSessions.length>0&&O.stakeholderInSessions.some(je=>ee.includes(je.id))&&c.jsxs("button",{onClick:()=>En(O,"remove-stakeholder"),className:"w-full px-4 py-3 text-left flex items-center hover:bg-red-50 text-red-700 border-t border-gray-200",children:[c.jsx(Zl,{className:"h-5 w-5 mr-3 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-base",children:"Remove Stakeholder"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Remove from a session you manage"})]})]}),(O.roles.isSystemAdmin||O.roles.sessionAdminCount>0||O.roles.stakeholderSessionCount>0)&&c.jsxs("button",{onClick:()=>we(O.id,O.name),className:"w-full px-4 py-3 text-left flex items-center hover:bg-gray-50 text-gray-700 border-t border-gray-200",children:[c.jsx(Zl,{className:"h-5 w-5 mr-3 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-base",children:"Remove All Roles"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Remove from all sessions"})]})]})]})})]})]})]}),c.jsx("div",{className:"mt-2",children:Qn(O)})]}),c.jsxs("div",{className:"p-4 space-y-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase mb-1",children:"Sessions"}),c.jsxs("div",{className:"space-y-1",children:[O.roles.sessionAdminCount>0&&c.jsxs("div",{className:"flex items-center text-sm cursor-help",title:O.adminInSessions&&O.adminInSessions.length>0?`Admin in: ${O.adminInSessions.map(je=>je.title||je.name||"Unnamed Session").join(", ")}`:"Loading session details...",children:[c.jsx(Xr,{className:"h-4 w-4 mr-2 text-[#2D4660] flex-shrink-0"}),c.jsxs("span",{className:"text-gray-700",children:[O.roles.sessionAdminCount," as Admin"]})]}),O.roles.stakeholderSessionCount>0&&c.jsxs("div",{className:"flex items-center text-sm cursor-help",title:O.stakeholderInSessions&&O.stakeholderInSessions.length>0?`Stakeholder in: ${O.stakeholderInSessions.map(je=>je.title||je.name||"Unnamed Session").join(", ")}`:"Loading session details...",children:[c.jsx(Tr,{className:"h-4 w-4 mr-2 text-green-500 flex-shrink-0"}),c.jsxs("span",{className:"text-gray-700",children:[O.roles.stakeholderSessionCount," as Stakeholder"]})]}),O.roles.sessionAdminCount===0&&O.roles.stakeholderSessionCount===0&&c.jsx("span",{className:"text-sm text-gray-400",children:"No session roles"})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase mb-1",children:"Created"}),c.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[c.jsx(di,{className:"h-4 w-4 mr-2 text-gray-400 flex-shrink-0"}),O.created_at?Wr(O.created_at):"N/A"]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase mb-1",children:"Created By"}),c.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[c.jsx(Tr,{className:"h-4 w-4 mr-2 text-gray-400 flex-shrink-0"}),O.created_by_name||"System"]})]})]})]},O.id)})}),c.jsxs("div",{className:"hidden md:block relative z-10 bg-white rounded-lg shadow-md overflow-visible",children:[c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 rounded-t-lg",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sessions"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:v||_!=="all"?"No users found matching your filters.":"No users found."})}):f.map(O=>{var se,je,Ge;return c.jsxs("tr",{className:"hover:bg-gray-50",onMouseEnter:()=>P(O.id),onMouseLeave:()=>P(null),children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{children:[c.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[O.name,O.id===(e==null?void 0:e.id)&&c.jsx("span",{className:"ml-2 text-xs text-[#c59f2d] font-semibold",children:"(You)"}),Rr(O)&&c.jsxs("span",{className:"ml-2 text-xs text-[#c59f2d] font-semibold",children:["(",Rr(O),")"]}),Nn(O)&&c.jsxs("span",{className:"ml-2 px-2 py-0.5 bg-red-100 text-red-700 text-xs font-medium rounded",children:["Duplicate (",xi(O),")"]})]}),c.jsx("div",{className:"text-sm text-gray-500",children:O.email})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Qn(O)}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:c.jsxs("div",{className:"space-y-2",children:[O.roles.sessionAdminCount===0&&O.roles.stakeholderSessionCount===0&&c.jsx("span",{className:"text-gray-400",children:"None"}),O.adminInSessions&&O.adminInSessions.length>0&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center text-sm font-medium text-gray-700 mb-1.5",children:[c.jsx(Xr,{className:"h-4 w-4 mr-1.5 text-[#173B65]"}),"Admin in ",O.adminInSessions.length," session",O.adminInSessions.length!==1?"s":"",":"]}),c.jsx("div",{className:"space-y-1.5 ml-5",children:O.adminInSessions.map(De=>c.jsx("div",{className:"flex items-start",children:c.jsxs("div",{className:"text-xs text-gray-600",children:[c.jsx("div",{className:"font-medium text-gray-900",children:De.title||De.name||"Unnamed Session"}),De.created_at&&c.jsxs("div",{className:"flex items-center text-gray-500 mt-0.5",children:[c.jsx(di,{className:"h-3 w-3 mr-1"}),new Date(De.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]})},De.id))})]}),O.stakeholderInSessions&&O.stakeholderInSessions.length>0&&c.jsxs("div",{className:O.adminInSessions&&O.adminInSessions.length>0?"pt-2 border-t border-gray-100":"",children:[c.jsxs("div",{className:"flex items-center text-sm font-medium text-gray-700 mb-1.5",children:[c.jsx(Tr,{className:"h-4 w-4 mr-1.5 text-green-600"}),"Stakeholder in ",O.stakeholderInSessions.length," session",O.stakeholderInSessions.length!==1?"s":"",":"]}),c.jsx("div",{className:"space-y-1.5 ml-5",children:O.stakeholderInSessions.map(De=>c.jsx("div",{className:"flex items-start",children:c.jsxs("div",{className:"text-xs text-gray-600",children:[c.jsx("div",{className:"font-medium text-gray-900",children:De.title||De.name||"Unnamed Session"}),De.created_at&&c.jsxs("div",{className:"flex items-center text-gray-500 mt-0.5",children:[c.jsx(di,{className:"h-3 w-3 mr-1"}),new Date(De.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]})},De.id))})]})]})}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center text-gray-700",children:[c.jsx(di,{className:"h-4 w-4 mr-1.5 text-gray-400"}),O.created_at?Wr(O.created_at):"N/A"]}),c.jsxs("div",{className:"flex items-center text-gray-500 text-xs mt-1",children:[c.jsx(Tr,{className:"h-3.5 w-3.5 mr-1.5 text-gray-400"}),O.created_by_name||"System"]})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:c.jsxs("div",{className:"flex items-center justify-end gap-2",children:[(ae==="system-admin"||ae==="session-admin"&&O.roles.stakeholderSessionCount>0&&((se=O.stakeholderInSessions)==null?void 0:se.some(De=>ne.some(dt=>dt.id===De.id))))&&c.jsx("button",{onClick:()=>Ke(O.id,O.name),className:`p-2 rounded-md hover:bg-red-50 transition-all md:transition-opacity ${O.id===(e==null?void 0:e.id)||ae==="system-admin"&&Ut.has(O.id)?"opacity-50 cursor-not-allowed":A===O.id?"opacity-100 visible":"md:opacity-0 md:invisible opacity-100 visible"}`,disabled:O.id===(e==null?void 0:e.id)||ae==="system-admin"&&Ut.has(O.id),title:ae==="session-admin"?"Remove stakeholder from all your sessions":Ut.has(O.id)?`Cannot delete protected account${Rr(O)?` (${Rr(O)})`:""}`:O.id===(e==null?void 0:e.id)?"Cannot delete your own account":"Delete user",children:c.jsx(Ks,{className:"h-5 w-5 text-red-600"})}),c.jsxs("div",{className:`relative inline-block transition-all md:transition-opacity ${O.id===(e==null?void 0:e.id)?"opacity-50":A===O.id?"opacity-100 visible":"md:opacity-0 md:invisible opacity-100 visible"}`,ref:De=>{L.current[O.id]=De},children:[c.jsx("button",{onClick:()=>E(N===O.id?null:O.id),className:"p-2 rounded-md hover:bg-gray-100 transition-colors",disabled:O.id===(e==null?void 0:e.id),title:O.id===(e==null?void 0:e.id)?"Cannot modify your own permissions":"Change user role",children:c.jsx(IS,{className:"h-5 w-5 text-gray-600"})}),N===O.id&&O.id!==(e==null?void 0:e.id)&&c.jsx("div",{className:"fixed mt-1 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-[100]",style:{top:((je=L.current[O.id])==null?void 0:je.getBoundingClientRect().bottom)??0,right:window.innerWidth-(((Ge=L.current[O.id])==null?void 0:Ge.getBoundingClientRect().right)??0)},children:c.jsxs("div",{className:"py-1",children:[c.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase border-b border-gray-200",children:"Change User Role"}),ae==="system-admin"&&c.jsxs(c.Fragment,{children:[O.roles.isSystemAdmin?c.jsxs("button",{onClick:()=>ie(O.id,!0),className:"w-full px-4 py-2 text-left flex items-center hover:bg-red-50 text-red-700",children:[c.jsx(fn,{className:"h-4 w-4 mr-3"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:"Remove System Admin"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Revoke global admin access"})]})]}):c.jsxs("button",{onClick:()=>ie(O.id,!1),className:"w-full px-4 py-2 text-left flex items-center hover:bg-purple-50 text-purple-700",children:[c.jsx(fn,{className:"h-4 w-4 mr-3"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:"Make System Admin"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Grant global admin access"})]})]}),On(O,"session-admin")&&c.jsxs("button",{onClick:()=>En(O,"session-admin"),className:"w-full px-4 py-2 text-left flex items-center hover:bg-[#E8EDF2] text-[#2D4660] border-t border-gray-200",children:[c.jsx(Xr,{className:"h-4 w-4 mr-3"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:"Make Session Admin"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Add to a session as admin"})]})]})]}),On(O,"stakeholder")&&c.jsxs("button",{onClick:()=>En(O,"stakeholder"),className:"w-full px-4 py-2 text-left flex items-center hover:bg-green-50 text-green-700 border-t border-gray-200",children:[c.jsx(Tr,{className:"h-4 w-4 mr-3"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:"Make Stakeholder"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Add to a session as stakeholder"})]})]}),ae==="session-admin"&&O.stakeholderInSessions&&O.stakeholderInSessions.length>0&&O.stakeholderInSessions.some(De=>ee.includes(De.id))&&c.jsxs("button",{onClick:()=>En(O,"remove-stakeholder"),className:"w-full px-4 py-2 text-left flex items-center hover:bg-red-50 text-red-700 border-t border-gray-200",children:[c.jsx(Zl,{className:"h-4 w-4 mr-3"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:"Remove Stakeholder"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Remove from a session you manage"})]})]}),(O.roles.isSystemAdmin||O.roles.sessionAdminCount>0||O.roles.stakeholderSessionCount>0)&&c.jsxs("button",{onClick:()=>we(O.id,O.name),className:"w-full px-4 py-2 text-left flex items-center hover:bg-gray-50 text-gray-700 border-t border-gray-200",children:[c.jsx(Zl,{className:"h-4 w-4 mr-3"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:"Remove All Roles"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Remove from all sessions"})]})]})]})})]})]})})]},O.id)})})]}),c.jsx("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200",children:c.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(pn,{className:"h-4 w-4 mr-2 text-gray-500"}),c.jsxs("span",{className:"text-gray-600",children:["Total Users: ",c.jsx("strong",{children:l.length})]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(fn,{className:"h-4 w-4 mr-2 text-purple-500"}),c.jsxs("span",{className:"text-gray-600",children:["System Admins: ",c.jsx("strong",{children:l.filter(O=>O.roles.isSystemAdmin).length})]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Xr,{className:"h-4 w-4 mr-2 text-[#2D4660]"}),c.jsxs("span",{className:"text-gray-600",children:["Session Admins: ",c.jsx("strong",{children:l.filter(O=>O.roles.sessionAdminCount>0).length})]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Tr,{className:"h-4 w-4 mr-2 text-green-500"}),c.jsxs("span",{className:"text-gray-600",children:["Stakeholders: ",c.jsx("strong",{children:l.filter(O=>O.roles.stakeholderSessionCount>0).length})]})]})]})})]}),c.jsx("div",{className:"md:hidden mt-4 bg-white rounded-lg shadow-md p-4",children:c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(pn,{className:"h-5 w-5 mr-2 text-gray-500 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-gray-500",children:"Total"}),c.jsx("div",{className:"text-lg font-bold text-gray-900",children:l.length})]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(fn,{className:"h-5 w-5 mr-2 text-purple-500 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-gray-500",children:"Sys Admins"}),c.jsx("div",{className:"text-lg font-bold text-gray-900",children:l.filter(O=>O.roles.isSystemAdmin).length})]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Xr,{className:"h-5 w-5 mr-2 text-[#2D4660] flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-gray-500",children:"Session Admins"}),c.jsx("div",{className:"text-lg font-bold text-gray-900",children:l.filter(O=>O.roles.sessionAdminCount>0).length})]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Tr,{className:"h-5 w-5 mr-2 text-green-500 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-gray-500",children:"Stakeholders"}),c.jsx("div",{className:"text-lg font-bold text-gray-900",children:l.filter(O=>O.roles.stakeholderSessionCount>0).length})]})]})]})}),(W||z)&&c.jsx("div",{className:"mt-8 flex justify-center",children:c.jsxs("div",{className:"inline-flex items-center bg-gray-100 rounded-lg p-1",children:[c.jsxs("button",{onClick:()=>{W&&xe("system-admin")},className:`px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center ${ae==="system-admin"?"bg-white text-[#2d4660] shadow-sm":"text-gray-600 hover:text-gray-900"}`,disabled:!W,title:W?"System Admin View":"Only available for System Admins",children:[c.jsx(fn,{className:"h-4 w-4 inline mr-2"}),"System Admin"]}),c.jsxs("button",{onClick:()=>{(z||W)&&xe("session-admin")},className:`px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center ${ae==="session-admin"?"bg-white text-[#2d4660] shadow-sm":"text-gray-600 hover:text-gray-900"}`,title:"Session Admin View",children:[c.jsx(Xr,{className:"h-4 w-4 inline mr-2"}),"Session Admin"]})]})})]}),c.jsx("footer",{className:"mt-12 bg-gray-50 border-t border-gray-200",children:c.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-6xl",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-sm text-gray-600",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"New Millennium Building Systems"}),c.jsxs("p",{className:"text-xs leading-relaxed",children:["A Steel Dynamics Company",c.jsx("br",{}),"Innovation in structural steel manufacturing"]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Quick Links"}),c.jsxs("ul",{className:"space-y-1 text-xs",children:[c.jsx("li",{children:c.jsx("a",{href:"https://www.steeldynamics.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[#2d4660] transition-colors",children:"Steel Dynamics Inc."})}),c.jsx("li",{children:c.jsx("a",{href:"https://www.newmill.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[#2d4660] transition-colors",children:"New Millennium"})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Need Help?"}),c.jsx("p",{className:"text-xs",children:"Contact your Product Owner or IT administrator for assistance with user management."})]})]}),c.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 text-center text-xs text-gray-500",children:c.jsx("p",{children:" 2025 New Millennium Building Systems, LLC. All rights reserved."})})]})}),le&&te&&M&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:c.jsxs("div",{className:"p-6",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:M==="session-admin"?"Add Session Admin":M==="remove-stakeholder"?"Remove Stakeholder":"Add Stakeholder"}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:M==="remove-stakeholder"?c.jsxs(c.Fragment,{children:["Select a session to remove ",c.jsx("strong",{children:te.name})," as a stakeholder."]}):c.jsxs(c.Fragment,{children:["Select a session to add ",c.jsx("strong",{children:te.name})," as ",M==="session-admin"?"an admin":"a stakeholder","."]})}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Choose Session"}),c.jsxs("select",{value:$e,onChange:O=>Qe(O.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#2d4660] focus:border-transparent",children:[c.jsx("option",{value:"",children:"-- Select a session --"}),zt(M).map(O=>{const se=O.title||O.name||O.session_name||"Unnamed Session",je=O.created_at?new Date(O.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"",Ge=je?`${se} (${je})`:se;return c.jsx("option",{value:O.id,children:Ge},O.id)})]}),ne.length===0&&c.jsx("p",{className:"mt-2 text-sm text-red-500",children:"No sessions found in the system. Create a session first."}),ne.length>0&&zt(M).length===0&&c.jsx("p",{className:"mt-2 text-sm text-gray-500",children:M==="remove-stakeholder"?"This user is not a stakeholder in any sessions you manage.":`This user is already ${M==="session-admin"?"an admin":"a stakeholder"} in all ${ne.length} session(s).`}),ne.length>0&&zt(M).length>0&&c.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:[zt(M).length," session(s) available"]})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:Cn,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),c.jsx("button",{onClick:wi,disabled:!$e,className:`flex-1 px-4 py-2.5 rounded-lg transition-colors ${$e?M==="remove-stakeholder"?"bg-red-600 text-white hover:bg-red-700":"bg-[#4f6d8e] text-white hover:bg-[#3d5670]":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:M==="remove-stakeholder"?"Remove from Session":"Add to Session"})]})]})})}),oe&&Ee&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-start mb-4",children:[c.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-red-100 flex items-center justify-center",children:c.jsx(Zl,{className:"h-6 w-6 text-red-600"})}),c.jsxs("div",{className:"ml-4 flex-1",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:"Delete User Account"}),c.jsx("p",{className:"text-sm text-gray-600",children:"This action cannot be undone. Please review the details below."})]})]}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsx(Tr,{className:"h-5 w-5 text-gray-400 mr-2"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:Ee.name}),c.jsx("div",{className:"text-sm text-gray-500",children:Ee.email})]})]}),c.jsxs("div",{className:"space-y-2 border-t border-gray-200 pt-3",children:[c.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Current Roles"}),Ee.roles.isSystemAdmin&&c.jsxs("div",{className:"flex items-center text-sm",children:[c.jsx(fn,{className:"h-4 w-4 mr-2 text-purple-500"}),c.jsx("span",{className:"text-gray-700",children:"System Admin"})]}),Ee.roles.sessionAdminCount>0&&c.jsxs("div",{className:"flex items-center text-sm",children:[c.jsx(Xr,{className:"h-4 w-4 mr-2 text-[#2D4660]"}),c.jsxs("span",{className:"text-gray-700",children:["Session Admin in ",Ee.roles.sessionAdminCount," session",Ee.roles.sessionAdminCount!==1?"s":""]})]}),Ee.roles.stakeholderSessionCount>0&&c.jsxs("div",{className:"flex items-center text-sm",children:[c.jsx(Tr,{className:"h-4 w-4 mr-2 text-green-500"}),c.jsxs("span",{className:"text-gray-700",children:["Stakeholder in ",Ee.roles.stakeholderSessionCount," session",Ee.roles.stakeholderSessionCount!==1?"s":""]})]}),!Ee.roles.isSystemAdmin&&Ee.roles.sessionAdminCount===0&&Ee.roles.stakeholderSessionCount===0&&c.jsx("div",{className:"text-sm text-gray-500",children:"No roles assigned"})]})]}),Ee.adminInSessions&&Ee.adminInSessions.length>0||Ee.stakeholderInSessions&&Ee.stakeholderInSessions.length>0?c.jsxs("div",{className:"mb-4",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-2",children:"User will be removed from these sessions:"}),c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 max-h-48 overflow-y-auto",children:[Ee.adminInSessions&&Ee.adminInSessions.length>0&&c.jsxs("div",{className:"mb-3",children:[c.jsxs("div",{className:"text-xs font-semibold text-gray-600 mb-1.5 flex items-center",children:[c.jsx(Xr,{className:"h-3.5 w-3.5 mr-1.5 text-[#173B65]"}),"Admin Sessions (",Ee.adminInSessions.length,")"]}),c.jsx("div",{className:"space-y-1 ml-5",children:Ee.adminInSessions.map(O=>c.jsxs("div",{className:"text-sm text-gray-700",children:[" ",O.title||O.name||"Unnamed Session"]},O.id))})]}),Ee.stakeholderInSessions&&Ee.stakeholderInSessions.length>0&&c.jsxs("div",{children:[c.jsxs("div",{className:"text-xs font-semibold text-gray-600 mb-1.5 flex items-center",children:[c.jsx(Tr,{className:"h-3.5 w-3.5 mr-1.5 text-green-600"}),"Stakeholder Sessions (",Ee.stakeholderInSessions.length,")"]}),c.jsx("div",{className:"space-y-1 ml-5",children:Ee.stakeholderInSessions.map(O=>c.jsxs("div",{className:"text-sm text-gray-700",children:[" ",O.title||O.name||"Unnamed Session"]},O.id))})]})]})]}):null,c.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("svg",{className:"h-5 w-5 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Warning: This action is permanent"}),c.jsx("div",{className:"mt-1 text-sm text-yellow-700",children:c.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[c.jsx("li",{children:"User account will be permanently deleted"}),c.jsx("li",{children:"All authentication access will be revoked"}),c.jsx("li",{children:"User will be removed from all sessions"}),c.jsx("li",{children:"This action cannot be undone"})]})})]})]})}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:Le,disabled:Pt,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),c.jsx("button",{onClick:qe,disabled:Pt,className:"flex-1 px-4 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:Pt?c.jsxs(c.Fragment,{children:[c.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Deleting..."]}):"Delete User Permanently"})]})]})})}),H&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",onClick:$t,children:c.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full my-8",onClick:O=>O.stopPropagation(),children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-start mb-6",children:[c.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-green-100 flex items-center justify-center",children:c.jsx(pn,{className:"h-6 w-6 text-green-600"})}),c.jsxs("div",{className:"ml-4 flex-1",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:"Add New User"}),c.jsx("p",{className:"text-sm text-gray-600",children:ae==="session-admin"?"Create a new user account and add as stakeholder to your sessions":"Create a new user account and assign roles"})]}),c.jsx("button",{onClick:$t,disabled:ge,className:"flex-shrink-0 ml-4 p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Close modal",children:c.jsx(Di,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Full Name ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",value:Y.name,onChange:O=>ve({...Y,name:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#2D4660] focus:border-transparent",placeholder:"John Doe"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email Address ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"email",value:Y.email,onChange:O=>ve({...Y,email:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#2D4660] focus:border-transparent",placeholder:"john.doe@newmill.com"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Temporary Password ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:Y.password,onChange:O=>ve({...Y,password:O.target.value}),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#2D4660] focus:border-transparent font-mono text-sm",placeholder:"Auto-generated password"}),c.jsx("button",{onClick:()=>ve({...Y,password:st()}),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors whitespace-nowrap",children:"Regenerate"})]}),c.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Save this password to share with the user securely"})]}),ae==="system-admin"&&c.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[c.jsxs("button",{type:"button",onClick:()=>it({...Ue,systemAdmin:!Ue.systemAdmin}),className:"w-full flex items-center justify-between py-2 hover:bg-gray-50 rounded-lg px-2 -ml-2 transition-colors",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(fn,{className:"h-4 w-4 mr-2 text-purple-500"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"System Administrator"})]}),c.jsx(yc,{className:`h-4 w-4 text-gray-500 transition-transform ${Ue.systemAdmin?"rotate-180":""}`})]}),Ue.systemAdmin&&c.jsxs("div",{className:"mt-3 ml-6 space-y-3",children:[c.jsxs("label",{className:"flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:Y.isSystemAdmin,onChange:O=>ve({...Y,isSystemAdmin:O.target.checked}),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),c.jsx("span",{className:"ml-3 text-sm text-gray-700",children:"Grant system administrator privileges"})]}),c.jsx("p",{className:"text-xs text-gray-500",children:"Full access to all sessions and user management"})]})]}),ae==="system-admin"&&c.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[c.jsxs("button",{type:"button",onClick:()=>it({...Ue,sessionAdmin:!Ue.sessionAdmin}),className:"w-full flex items-center justify-between py-2 hover:bg-gray-50 rounded-lg px-2 -ml-2 transition-colors",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Xr,{className:"h-4 w-4 mr-2 text-[#2D4660]"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Session Admin"}),Y.sessionAdminIds.length>0&&c.jsx("span",{className:"ml-2 px-2 py-0.5 bg-[#E8EDF2] text-[#173B65] text-xs rounded-full",children:Y.sessionAdminIds.length})]}),c.jsx(yc,{className:`h-4 w-4 text-gray-500 transition-transform ${Ue.sessionAdmin?"rotate-180":""}`})]}),Ue.sessionAdmin&&c.jsxs("div",{className:"mt-3 ml-6 space-y-3",children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Select sessions where this user will be an admin"}),ne.length===0?c.jsx("p",{className:"text-sm text-gray-400",children:"No sessions available"}):c.jsx("div",{className:"max-h-40 overflow-y-auto border border-gray-200 rounded-lg",children:ne.map(O=>c.jsxs("label",{className:"flex items-center px-3 py-2 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",children:[c.jsx("input",{type:"checkbox",checked:Y.sessionAdminIds.includes(O.id),onChange:()=>Me(O.id),className:"w-4 h-4 text-[#173B65] border-gray-300 rounded focus:ring-[#2D4660]"}),c.jsx("span",{className:"ml-3 text-sm text-gray-700",children:O.title||O.name||"Unnamed Session"})]},O.id))})]})]}),ae==="session-admin"?c.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsx(Tr,{className:"h-4 w-4 mr-2 text-green-500"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add as Stakeholder"}),Y.stakeholderSessionIds.length>0&&c.jsx("span",{className:"ml-2 px-2 py-0.5 bg-green-100 text-green-700 text-xs rounded-full",children:Y.stakeholderSessionIds.length})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Select sessions where this user will be a stakeholder (voting access)"}),ne.length===0?c.jsx("p",{className:"text-sm text-gray-400",children:"No sessions available"}):c.jsx("div",{className:"max-h-40 overflow-y-auto border border-gray-200 rounded-lg",children:ne.map(O=>c.jsxs("label",{className:"flex items-center px-3 py-2 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",children:[c.jsx("input",{type:"checkbox",checked:Y.stakeholderSessionIds.includes(O.id),onChange:()=>An(O.id),className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-[#2D4660]"}),c.jsx("span",{className:"ml-3 text-sm text-gray-700",children:O.title||O.name||"Unnamed Session"})]},O.id))})]})]}):c.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[c.jsxs("button",{type:"button",onClick:()=>it({...Ue,stakeholder:!Ue.stakeholder}),className:"w-full flex items-center justify-between py-2 hover:bg-gray-50 rounded-lg px-2 -ml-2 transition-colors",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Tr,{className:"h-4 w-4 mr-2 text-green-500"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Stakeholder"}),Y.stakeholderSessionIds.length>0&&c.jsx("span",{className:"ml-2 px-2 py-0.5 bg-green-100 text-green-700 text-xs rounded-full",children:Y.stakeholderSessionIds.length})]}),c.jsx(yc,{className:`h-4 w-4 text-gray-500 transition-transform ${Ue.stakeholder?"rotate-180":""}`})]}),Ue.stakeholder&&c.jsxs("div",{className:"mt-3 ml-6 space-y-3",children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Select sessions where this user will be a stakeholder (voting access)"}),ne.length===0?c.jsx("p",{className:"text-sm text-gray-400",children:"No sessions available"}):c.jsx("div",{className:"max-h-40 overflow-y-auto border border-gray-200 rounded-lg",children:ne.map(O=>c.jsxs("label",{className:"flex items-center px-3 py-2 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",children:[c.jsx("input",{type:"checkbox",checked:Y.stakeholderSessionIds.includes(O.id),onChange:()=>An(O.id),className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-[#2D4660]"}),c.jsx("span",{className:"ml-3 text-sm text-gray-700",children:O.title||O.name||"Unnamed Session"})]},O.id))})]})]})]}),c.jsxs("div",{className:"flex gap-3 mt-6 pt-6 border-t border-gray-200",children:[c.jsx("button",{onClick:$t,disabled:ge,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),c.jsx("button",{onClick:kt,disabled:ge||!Y.name.trim()||!Y.email.trim()||!Y.password.trim(),className:"flex-1 px-4 py-2.5 bg-[#2D4660] text-white rounded-lg hover:bg-[#173B65] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:ge?c.jsxs(c.Fragment,{children:[c.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating User..."]}):"Create User"})]})]})})})]}):null}const OJ=""+new URL("bottom-left-curve-T4fflHT3.png",import.meta.url).href,PJ=()=>c.jsx("div",{className:"fixed bottom-0 left-0 pointer-events-none z-0",children:c.jsx("img",{src:OJ,alt:"",style:{maxWidth:"600px",height:"auto",opacity:.2}})});function TJ(){return c.jsx(O3,{children:c.jsxs(RM,{children:[c.jsx(PJ,{}),c.jsx(B4,{basename:"/feature-voting-app",children:c.jsxs(y4,{children:[c.jsx(ln,{path:"/",element:c.jsx(g4,{to:"/login",replace:!0})}),c.jsx(ln,{path:"/login",element:c.jsx(E6,{})}),c.jsx(ln,{path:"/sessions",element:c.jsx(_J,{})}),c.jsx(ln,{path:"/create-session",element:c.jsx(jJ,{})}),c.jsx(ln,{path:"/manage-stakeholders",element:c.jsx(kJ,{})}),c.jsx(ln,{path:"/manage-admins",element:c.jsx(NJ,{})}),c.jsx(ln,{path:"/vote",element:c.jsx(_v,{adminMode:!1})}),c.jsx(ln,{path:"/admin",element:c.jsx(_v,{adminMode:!0})}),c.jsx(ln,{path:"/results",element:c.jsx(_v,{resultsMode:!0})}),c.jsx(ln,{path:"/unauthorized",element:c.jsx(EJ,{})}),c.jsx(ln,{path:"/system-admins",element:c.jsx(CJ,{})}),c.jsx(ln,{path:"/users",element:c.jsx(AJ,{})})]})})]})})}EI.createRoot(document.getElementById("root")).render(c.jsx(et.StrictMode,{children:c.jsx(TJ,{})}));
