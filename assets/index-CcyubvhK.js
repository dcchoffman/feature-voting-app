var xI=Object.defineProperty;var wI=(e,t,r)=>t in e?xI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var vp=(e,t,r)=>wI(e,typeof t!="symbol"?t+"":t,r);function bI(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function ui(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function SI(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var yp={exports:{}},Ql={},xp={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a1;function jI(){if(a1)return lt;a1=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function v(D){return D===null||typeof D!="object"?null:(D=p&&D[p]||D["@@iterator"],typeof D=="function"?D:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,S={};function j(D,$,ee){this.props=D,this.context=$,this.refs=S,this.updater=ee||x}j.prototype.isReactComponent={},j.prototype.setState=function(D,$){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,$,"setState")},j.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function k(){}k.prototype=j.prototype;function E(D,$,ee){this.props=D,this.context=$,this.refs=S,this.updater=ee||x}var N=E.prototype=new k;N.constructor=E,b(N,j.prototype),N.isPureReactComponent=!0;var A=Array.isArray,T=Object.prototype.hasOwnProperty,I={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function q(D,$,ee){var _e,re={},je=null,ue=null;if($!=null)for(_e in $.ref!==void 0&&(ue=$.ref),$.key!==void 0&&(je=""+$.key),$)T.call($,_e)&&!L.hasOwnProperty(_e)&&(re[_e]=$[_e]);var ye=arguments.length-2;if(ye===1)re.children=ee;else if(1<ye){for(var X=Array(ye),xe=0;xe<ye;xe++)X[xe]=arguments[xe+2];re.children=X}if(D&&D.defaultProps)for(_e in ye=D.defaultProps,ye)re[_e]===void 0&&(re[_e]=ye[_e]);return{$$typeof:e,type:D,key:je,ref:ue,props:re,_owner:I.current}}function B(D,$){return{$$typeof:e,type:D.type,key:$,ref:D.ref,props:D.props,_owner:D._owner}}function F(D){return typeof D=="object"&&D!==null&&D.$$typeof===e}function V(D){var $={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ee){return $[ee]})}var W=/\/+/g;function te(D,$){return typeof D=="object"&&D!==null&&D.key!=null?V(""+D.key):$.toString(36)}function K(D,$,ee,_e,re){var je=typeof D;(je==="undefined"||je==="boolean")&&(D=null);var ue=!1;if(D===null)ue=!0;else switch(je){case"string":case"number":ue=!0;break;case"object":switch(D.$$typeof){case e:case t:ue=!0}}if(ue)return ue=D,re=re(ue),D=_e===""?"."+te(ue,0):_e,A(re)?(ee="",D!=null&&(ee=D.replace(W,"$&/")+"/"),K(re,$,ee,"",function(xe){return xe})):re!=null&&(F(re)&&(re=B(re,ee+(!re.key||ue&&ue.key===re.key?"":(""+re.key).replace(W,"$&/")+"/")+D)),$.push(re)),1;if(ue=0,_e=_e===""?".":_e+":",A(D))for(var ye=0;ye<D.length;ye++){je=D[ye];var X=_e+te(je,ye);ue+=K(je,$,ee,X,re)}else if(X=v(D),typeof X=="function")for(D=X.call(D),ye=0;!(je=D.next()).done;)je=je.value,X=_e+te(je,ye++),ue+=K(je,$,ee,X,re);else if(je==="object")throw $=String(D),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return ue}function ae(D,$,ee){if(D==null)return D;var _e=[],re=0;return K(D,_e,"","",function(je){return $.call(ee,je,re++)}),_e}function Ne(D){if(D._status===-1){var $=D._result;$=$(),$.then(function(ee){(D._status===0||D._status===-1)&&(D._status=1,D._result=ee)},function(ee){(D._status===0||D._status===-1)&&(D._status=2,D._result=ee)}),D._status===-1&&(D._status=0,D._result=$)}if(D._status===1)return D._result.default;throw D._result}var ke={current:null},se={transition:null},he={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:se,ReactCurrentOwner:I};function pe(){throw Error("act(...) is not supported in production builds of React.")}return lt.Children={map:ae,forEach:function(D,$,ee){ae(D,function(){$.apply(this,arguments)},ee)},count:function(D){var $=0;return ae(D,function(){$++}),$},toArray:function(D){return ae(D,function($){return $})||[]},only:function(D){if(!F(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},lt.Component=j,lt.Fragment=r,lt.Profiler=i,lt.PureComponent=E,lt.StrictMode=n,lt.Suspense=d,lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=he,lt.act=pe,lt.cloneElement=function(D,$,ee){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var _e=b({},D.props),re=D.key,je=D.ref,ue=D._owner;if($!=null){if($.ref!==void 0&&(je=$.ref,ue=I.current),$.key!==void 0&&(re=""+$.key),D.type&&D.type.defaultProps)var ye=D.type.defaultProps;for(X in $)T.call($,X)&&!L.hasOwnProperty(X)&&(_e[X]=$[X]===void 0&&ye!==void 0?ye[X]:$[X])}var X=arguments.length-2;if(X===1)_e.children=ee;else if(1<X){ye=Array(X);for(var xe=0;xe<X;xe++)ye[xe]=arguments[xe+2];_e.children=ye}return{$$typeof:e,type:D.type,key:re,ref:je,props:_e,_owner:ue}},lt.createContext=function(D){return D={$$typeof:o,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:s,_context:D},D.Consumer=D},lt.createElement=q,lt.createFactory=function(D){var $=q.bind(null,D);return $.type=D,$},lt.createRef=function(){return{current:null}},lt.forwardRef=function(D){return{$$typeof:u,render:D}},lt.isValidElement=F,lt.lazy=function(D){return{$$typeof:h,_payload:{_status:-1,_result:D},_init:Ne}},lt.memo=function(D,$){return{$$typeof:m,type:D,compare:$===void 0?null:$}},lt.startTransition=function(D){var $=se.transition;se.transition={};try{D()}finally{se.transition=$}},lt.unstable_act=pe,lt.useCallback=function(D,$){return ke.current.useCallback(D,$)},lt.useContext=function(D){return ke.current.useContext(D)},lt.useDebugValue=function(){},lt.useDeferredValue=function(D){return ke.current.useDeferredValue(D)},lt.useEffect=function(D,$){return ke.current.useEffect(D,$)},lt.useId=function(){return ke.current.useId()},lt.useImperativeHandle=function(D,$,ee){return ke.current.useImperativeHandle(D,$,ee)},lt.useInsertionEffect=function(D,$){return ke.current.useInsertionEffect(D,$)},lt.useLayoutEffect=function(D,$){return ke.current.useLayoutEffect(D,$)},lt.useMemo=function(D,$){return ke.current.useMemo(D,$)},lt.useReducer=function(D,$,ee){return ke.current.useReducer(D,$,ee)},lt.useRef=function(D){return ke.current.useRef(D)},lt.useState=function(D){return ke.current.useState(D)},lt.useSyncExternalStore=function(D,$,ee){return ke.current.useSyncExternalStore(D,$,ee)},lt.useTransition=function(){return ke.current.useTransition()},lt.version="18.3.1",lt}var o1;function Qo(){return o1||(o1=1,xp.exports=jI()),xp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l1;function _I(){if(l1)return Ql;l1=1;var e=Qo(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(u,d,m){var h,p={},v=null,x=null;m!==void 0&&(v=""+m),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(x=d.ref);for(h in d)n.call(d,h)&&!s.hasOwnProperty(h)&&(p[h]=d[h]);if(u&&u.defaultProps)for(h in d=u.defaultProps,d)p[h]===void 0&&(p[h]=d[h]);return{$$typeof:t,type:u,key:v,ref:x,props:p,_owner:i.current}}return Ql.Fragment=r,Ql.jsx=o,Ql.jsxs=o,Ql}var c1;function kI(){return c1||(c1=1,yp.exports=_I()),yp.exports}var c=kI(),w=Qo();const st=ui(w),NI=bI({__proto__:null,default:st},[w]);var gd={},wp={exports:{}},Jr={},bp={exports:{}},Sp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u1;function EI(){return u1||(u1=1,(function(e){function t(se,he){var pe=se.length;se.push(he);e:for(;0<pe;){var D=pe-1>>>1,$=se[D];if(0<i($,he))se[D]=he,se[pe]=$,pe=D;else break e}}function r(se){return se.length===0?null:se[0]}function n(se){if(se.length===0)return null;var he=se[0],pe=se.pop();if(pe!==he){se[0]=pe;e:for(var D=0,$=se.length,ee=$>>>1;D<ee;){var _e=2*(D+1)-1,re=se[_e],je=_e+1,ue=se[je];if(0>i(re,pe))je<$&&0>i(ue,re)?(se[D]=ue,se[je]=pe,D=je):(se[D]=re,se[_e]=pe,D=_e);else if(je<$&&0>i(ue,pe))se[D]=ue,se[je]=pe,D=je;else break e}}return he}function i(se,he){var pe=se.sortIndex-he.sortIndex;return pe!==0?pe:se.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();e.unstable_now=function(){return o.now()-u}}var d=[],m=[],h=1,p=null,v=3,x=!1,b=!1,S=!1,j=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(se){for(var he=r(m);he!==null;){if(he.callback===null)n(m);else if(he.startTime<=se)n(m),he.sortIndex=he.expirationTime,t(d,he);else break;he=r(m)}}function A(se){if(S=!1,N(se),!b)if(r(d)!==null)b=!0,Ne(T);else{var he=r(m);he!==null&&ke(A,he.startTime-se)}}function T(se,he){b=!1,S&&(S=!1,k(q),q=-1),x=!0;var pe=v;try{for(N(he),p=r(d);p!==null&&(!(p.expirationTime>he)||se&&!V());){var D=p.callback;if(typeof D=="function"){p.callback=null,v=p.priorityLevel;var $=D(p.expirationTime<=he);he=e.unstable_now(),typeof $=="function"?p.callback=$:p===r(d)&&n(d),N(he)}else n(d);p=r(d)}if(p!==null)var ee=!0;else{var _e=r(m);_e!==null&&ke(A,_e.startTime-he),ee=!1}return ee}finally{p=null,v=pe,x=!1}}var I=!1,L=null,q=-1,B=5,F=-1;function V(){return!(e.unstable_now()-F<B)}function W(){if(L!==null){var se=e.unstable_now();F=se;var he=!0;try{he=L(!0,se)}finally{he?te():(I=!1,L=null)}}else I=!1}var te;if(typeof E=="function")te=function(){E(W)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,ae=K.port2;K.port1.onmessage=W,te=function(){ae.postMessage(null)}}else te=function(){j(W,0)};function Ne(se){L=se,I||(I=!0,te())}function ke(se,he){q=j(function(){se(e.unstable_now())},he)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(se){se.callback=null},e.unstable_continueExecution=function(){b||x||(b=!0,Ne(T))},e.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<se?Math.floor(1e3/se):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(se){switch(v){case 1:case 2:case 3:var he=3;break;default:he=v}var pe=v;v=he;try{return se()}finally{v=pe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(se,he){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var pe=v;v=se;try{return he()}finally{v=pe}},e.unstable_scheduleCallback=function(se,he,pe){var D=e.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?D+pe:D):pe=D,se){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=pe+$,se={id:h++,callback:he,priorityLevel:se,startTime:pe,expirationTime:$,sortIndex:-1},pe>D?(se.sortIndex=pe,t(m,se),r(d)===null&&se===r(m)&&(S?(k(q),q=-1):S=!0,ke(A,pe-D))):(se.sortIndex=$,t(d,se),b||x||(b=!0,Ne(T))),se},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(se){var he=v;return function(){var pe=v;v=he;try{return se.apply(this,arguments)}finally{v=pe}}}})(Sp)),Sp}var d1;function CI(){return d1||(d1=1,bp.exports=EI()),bp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f1;function AI(){if(f1)return Jr;f1=1;var e=Qo(),t=CI();function r(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,f=1;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(a,l){o(a,l),o(a+"Capture",l)}function o(a,l){for(i[a]=l,a=0;a<l.length;a++)n.add(l[a])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(a){return d.call(p,a)?!0:d.call(h,a)?!1:m.test(a)?p[a]=!0:(h[a]=!0,!1)}function x(a,l,f,g){if(f!==null&&f.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:f!==null?!f.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function b(a,l,f,g){if(l===null||typeof l>"u"||x(a,l,f,g))return!0;if(g)return!1;if(f!==null)switch(f.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function S(a,l,f,g,y,_,C){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=y,this.mustUseProperty=f,this.propertyName=a,this.type=l,this.sanitizeURL=_,this.removeEmptyString=C}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){j[a]=new S(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var l=a[0];j[l]=new S(l,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){j[a]=new S(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){j[a]=new S(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){j[a]=new S(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){j[a]=new S(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){j[a]=new S(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){j[a]=new S(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){j[a]=new S(a,5,!1,a.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function E(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var l=a.replace(k,E);j[l]=new S(l,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var l=a.replace(k,E);j[l]=new S(l,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var l=a.replace(k,E);j[l]=new S(l,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){j[a]=new S(a,1,!1,a.toLowerCase(),null,!1,!1)}),j.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){j[a]=new S(a,1,!1,a.toLowerCase(),null,!0,!0)});function N(a,l,f,g){var y=j.hasOwnProperty(l)?j[l]:null;(y!==null?y.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(b(l,f,y,g)&&(f=null),g||y===null?v(l)&&(f===null?a.removeAttribute(l):a.setAttribute(l,""+f)):y.mustUseProperty?a[y.propertyName]=f===null?y.type===3?!1:"":f:(l=y.attributeName,g=y.attributeNamespace,f===null?a.removeAttribute(l):(y=y.type,f=y===3||y===4&&f===!0?"":""+f,g?a.setAttributeNS(g,l,f):a.setAttribute(l,f))))}var A=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),I=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),V=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),Ne=Symbol.for("react.lazy"),ke=Symbol.for("react.offscreen"),se=Symbol.iterator;function he(a){return a===null||typeof a!="object"?null:(a=se&&a[se]||a["@@iterator"],typeof a=="function"?a:null)}var pe=Object.assign,D;function $(a){if(D===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);D=l&&l[1]||""}return`
`+D+a}var ee=!1;function _e(a,l){if(!a||ee)return"";ee=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Q){var g=Q}Reflect.construct(a,[],l)}else{try{l.call()}catch(Q){g=Q}a.call(l.prototype)}else{try{throw Error()}catch(Q){g=Q}a()}}catch(Q){if(Q&&g&&typeof Q.stack=="string"){for(var y=Q.stack.split(`
`),_=g.stack.split(`
`),C=y.length-1,R=_.length-1;1<=C&&0<=R&&y[C]!==_[R];)R--;for(;1<=C&&0<=R;C--,R--)if(y[C]!==_[R]){if(C!==1||R!==1)do if(C--,R--,0>R||y[C]!==_[R]){var M=`
`+y[C].replace(" at new "," at ");return a.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",a.displayName)),M}while(1<=C&&0<=R);break}}}finally{ee=!1,Error.prepareStackTrace=f}return(a=a?a.displayName||a.name:"")?$(a):""}function re(a){switch(a.tag){case 5:return $(a.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return a=_e(a.type,!1),a;case 11:return a=_e(a.type.render,!1),a;case 1:return a=_e(a.type,!0),a;default:return""}}function je(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case L:return"Fragment";case I:return"Portal";case B:return"Profiler";case q:return"StrictMode";case te:return"Suspense";case K:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case V:return(a.displayName||"Context")+".Consumer";case F:return(a._context.displayName||"Context")+".Provider";case W:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ae:return l=a.displayName||null,l!==null?l:je(a.type)||"Memo";case Ne:l=a._payload,a=a._init;try{return je(a(l))}catch{}}return null}function ue(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=l.render,a=a.displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(l);case 8:return l===q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function ye(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function X(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function xe(a){var l=X(a)?"checked":"value",f=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),g=""+a[l];if(!a.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var y=f.get,_=f.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return y.call(this)},set:function(C){g=""+C,_.call(this,C)}}),Object.defineProperty(a,l,{enumerable:f.enumerable}),{getValue:function(){return g},setValue:function(C){g=""+C},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function $e(a){a._valueTracker||(a._valueTracker=xe(a))}function ie(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var f=l.getValue(),g="";return a&&(g=X(a)?a.checked?"true":"false":a.value),a=g,a!==f?(l.setValue(a),!0):!1}function Ae(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Ke(a,l){var f=l.checked;return pe({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??a._wrapperState.initialChecked})}function nt(a,l){var f=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;f=ye(l.value!=null?l.value:f),a._wrapperState={initialChecked:g,initialValue:f,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function at(a,l){l=l.checked,l!=null&&N(a,"checked",l,!1)}function de(a,l){at(a,l);var f=ye(l.value),g=l.type;if(f!=null)g==="number"?(f===0&&a.value===""||a.value!=f)&&(a.value=""+f):a.value!==""+f&&(a.value=""+f);else if(g==="submit"||g==="reset"){a.removeAttribute("value");return}l.hasOwnProperty("value")?et(a,l.type,f):l.hasOwnProperty("defaultValue")&&et(a,l.type,ye(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(a.defaultChecked=!!l.defaultChecked)}function Me(a,l,f){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+a._wrapperState.initialValue,f||l===a.value||(a.value=l),a.defaultValue=l}f=a.name,f!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,f!==""&&(a.name=f)}function et(a,l,f){(l!=="number"||Ae(a.ownerDocument)!==a)&&(f==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+f&&(a.defaultValue=""+f))}var Pt=Array.isArray;function ce(a,l,f,g){if(a=a.options,l){l={};for(var y=0;y<f.length;y++)l["$"+f[y]]=!0;for(f=0;f<a.length;f++)y=l.hasOwnProperty("$"+a[f].value),a[f].selected!==y&&(a[f].selected=y),y&&g&&(a[f].defaultSelected=!0)}else{for(f=""+ye(f),l=null,y=0;y<a.length;y++){if(a[y].value===f){a[y].selected=!0,g&&(a[y].defaultSelected=!0);return}l!==null||a[y].disabled||(l=a[y])}l!==null&&(l.selected=!0)}}function O(a,l){if(l.dangerouslySetInnerHTML!=null)throw Error(r(91));return pe({},l,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function z(a,l){var f=l.value;if(f==null){if(f=l.children,l=l.defaultValue,f!=null){if(l!=null)throw Error(r(92));if(Pt(f)){if(1<f.length)throw Error(r(93));f=f[0]}l=f}l==null&&(l=""),f=l}a._wrapperState={initialValue:ye(f)}}function Y(a,l){var f=ye(l.value),g=ye(l.defaultValue);f!=null&&(f=""+f,f!==a.value&&(a.value=f),l.defaultValue==null&&a.defaultValue!==f&&(a.defaultValue=f)),g!=null&&(a.defaultValue=""+g)}function le(a){var l=a.textContent;l===a._wrapperState.initialValue&&l!==""&&l!==null&&(a.value=l)}function fe(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function J(a,l){return a==null||a==="http://www.w3.org/1999/xhtml"?fe(l):a==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var be,Fe=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,f,g,y){MSApp.execUnsafeLocalFunction(function(){return a(l,f,g,y)})}:a})(function(a,l){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=l;else{for(be=be||document.createElement("div"),be.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=be.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}});function ot(a,l){if(l){var f=a.firstChild;if(f&&f===a.lastChild&&f.nodeType===3){f.nodeValue=l;return}}a.textContent=l}var ut={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tr=["Webkit","ms","Moz","O"];Object.keys(ut).forEach(function(a){tr.forEach(function(l){l=l+a.charAt(0).toUpperCase()+a.substring(1),ut[l]=ut[a]})});function qn(a,l,f){return l==null||typeof l=="boolean"||l===""?"":f||typeof l!="number"||l===0||ut.hasOwnProperty(a)&&ut[a]?(""+l).trim():l+"px"}function _n(a,l){a=a.style;for(var f in l)if(l.hasOwnProperty(f)){var g=f.indexOf("--")===0,y=qn(f,l[f],g);f==="float"&&(f="cssFloat"),g?a.setProperty(f,y):a[f]=y}}var Or=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kn(a,l){if(l){if(Or[a]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(r(137,a));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(r(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(l.style!=null&&typeof l.style!="object")throw Error(r(62))}}function Hn(a,l){if(a.indexOf("-")===-1)return typeof l.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kn=null;function fs(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Nn=null,En=null,pi=null;function gi(a){if(a=$l(a)){if(typeof Nn!="function")throw Error(r(280));var l=a.stateNode;l&&(l=Pu(l),Nn(a.stateNode,a.type,l))}}function hs(a){En?pi?pi.push(a):pi=[a]:En=a}function Xs(){if(En){var a=En,l=pi;if(pi=En=null,gi(a),l)for(a=0;a<l.length;a++)gi(l[a])}}function Zs(a,l){return a(l)}function Ha(){}var ne=!1;function we(a,l,f){if(ne)return a(l,f);ne=!0;try{return Zs(a,l,f)}finally{ne=!1,(En!==null||pi!==null)&&(Ha(),Xs())}}function ze(a,l){var f=a.stateNode;if(f===null)return null;var g=Pu(f);if(g===null)return null;f=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var Pe=!1;if(u)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch{Pe=!1}function Te(a,l,f,g,y,_,C,R,M){var Q=Array.prototype.slice.call(arguments,3);try{l.apply(f,Q)}catch(ge){this.onError(ge)}}var zt=!1,mt=null,bt=!1,We=null,P={onError:function(a){zt=!0,mt=a}};function oe(a,l,f,g,y,_,C,R,M){zt=!1,mt=null,Te.apply(P,arguments)}function Ee(a,l,f,g,y,_,C,R,M){if(oe.apply(this,arguments),zt){if(zt){var Q=mt;zt=!1,mt=null}else throw Error(r(198));bt||(bt=!0,We=Q)}}function He(a){var l=a,f=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(f=l.return),a=l.return;while(a)}return l.tag===3?f:null}function Ue(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function yt(a){if(He(a)!==a)throw Error(r(188))}function dt(a){var l=a.alternate;if(!l){if(l=He(a),l===null)throw Error(r(188));return l!==a?null:a}for(var f=a,g=l;;){var y=f.return;if(y===null)break;var _=y.alternate;if(_===null){if(g=y.return,g!==null){f=g;continue}break}if(y.child===_.child){for(_=y.child;_;){if(_===f)return yt(y),a;if(_===g)return yt(y),l;_=_.sibling}throw Error(r(188))}if(f.return!==g.return)f=y,g=_;else{for(var C=!1,R=y.child;R;){if(R===f){C=!0,f=y,g=_;break}if(R===g){C=!0,g=y,f=_;break}R=R.sibling}if(!C){for(R=_.child;R;){if(R===f){C=!0,f=_,g=y;break}if(R===g){C=!0,g=_,f=y;break}R=R.sibling}if(!C)throw Error(r(189))}}if(f.alternate!==g)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?a:l}function wr(a){return a=dt(a),a!==null?ml(a):null}function ml(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=ml(a);if(l!==null)return l;a=a.sibling}return null}var pl=t.unstable_scheduleCallback,vi=t.unstable_cancelCallback,gl=t.unstable_shouldYield,uu=t.unstable_requestPaint,xt=t.unstable_now,Mh=t.unstable_getCurrentPriorityLevel,vl=t.unstable_ImmediatePriority,Dx=t.unstable_UserBlockingPriority,du=t.unstable_NormalPriority,IP=t.unstable_LowPriority,$x=t.unstable_IdlePriority,fu=null,yi=null;function RP(a){if(yi&&typeof yi.onCommitFiberRoot=="function")try{yi.onCommitFiberRoot(fu,a,void 0,(a.current.flags&128)===128)}catch{}}var Yn=Math.clz32?Math.clz32:MP,DP=Math.log,$P=Math.LN2;function MP(a){return a>>>=0,a===0?32:31-(DP(a)/$P|0)|0}var hu=64,mu=4194304;function yl(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function pu(a,l){var f=a.pendingLanes;if(f===0)return 0;var g=0,y=a.suspendedLanes,_=a.pingedLanes,C=f&268435455;if(C!==0){var R=C&~y;R!==0?g=yl(R):(_&=C,_!==0&&(g=yl(_)))}else C=f&~y,C!==0?g=yl(C):_!==0&&(g=yl(_));if(g===0)return 0;if(l!==0&&l!==g&&(l&y)===0&&(y=g&-g,_=l&-l,y>=_||y===16&&(_&4194240)!==0))return l;if((g&4)!==0&&(g|=f&16),l=a.entangledLanes,l!==0)for(a=a.entanglements,l&=g;0<l;)f=31-Yn(l),y=1<<f,g|=a[f],l&=~y;return g}function LP(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FP(a,l){for(var f=a.suspendedLanes,g=a.pingedLanes,y=a.expirationTimes,_=a.pendingLanes;0<_;){var C=31-Yn(_),R=1<<C,M=y[C];M===-1?((R&f)===0||(R&g)!==0)&&(y[C]=LP(R,l)):M<=l&&(a.expiredLanes|=R),_&=~R}}function Lh(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Mx(){var a=hu;return hu<<=1,(hu&4194240)===0&&(hu=64),a}function Fh(a){for(var l=[],f=0;31>f;f++)l.push(a);return l}function xl(a,l,f){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,l=31-Yn(l),a[l]=f}function zP(a,l){var f=a.pendingLanes&~l;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=l,a.mutableReadLanes&=l,a.entangledLanes&=l,l=a.entanglements;var g=a.eventTimes;for(a=a.expirationTimes;0<f;){var y=31-Yn(f),_=1<<y;l[y]=0,g[y]=-1,a[y]=-1,f&=~_}}function zh(a,l){var f=a.entangledLanes|=l;for(a=a.entanglements;f;){var g=31-Yn(f),y=1<<g;y&l|a[g]&l&&(a[g]|=l),f&=~y}}var St=0;function Lx(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var Fx,Uh,zx,Ux,Bx,Bh=!1,gu=[],ms=null,ps=null,gs=null,wl=new Map,bl=new Map,vs=[],UP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vx(a,l){switch(a){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":ps=null;break;case"mouseover":case"mouseout":gs=null;break;case"pointerover":case"pointerout":wl.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(l.pointerId)}}function Sl(a,l,f,g,y,_){return a===null||a.nativeEvent!==_?(a={blockedOn:l,domEventName:f,eventSystemFlags:g,nativeEvent:_,targetContainers:[y]},l!==null&&(l=$l(l),l!==null&&Uh(l)),a):(a.eventSystemFlags|=g,l=a.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),a)}function BP(a,l,f,g,y){switch(l){case"focusin":return ms=Sl(ms,a,l,f,g,y),!0;case"dragenter":return ps=Sl(ps,a,l,f,g,y),!0;case"mouseover":return gs=Sl(gs,a,l,f,g,y),!0;case"pointerover":var _=y.pointerId;return wl.set(_,Sl(wl.get(_)||null,a,l,f,g,y)),!0;case"gotpointercapture":return _=y.pointerId,bl.set(_,Sl(bl.get(_)||null,a,l,f,g,y)),!0}return!1}function Wx(a){var l=ea(a.target);if(l!==null){var f=He(l);if(f!==null){if(l=f.tag,l===13){if(l=Ue(f),l!==null){a.blockedOn=l,Bx(a.priority,function(){zx(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){a.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}a.blockedOn=null}function vu(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var f=Wh(a.domEventName,a.eventSystemFlags,l[0],a.nativeEvent);if(f===null){f=a.nativeEvent;var g=new f.constructor(f.type,f);Kn=g,f.target.dispatchEvent(g),Kn=null}else return l=$l(f),l!==null&&Uh(l),a.blockedOn=f,!1;l.shift()}return!0}function qx(a,l,f){vu(a)&&f.delete(l)}function VP(){Bh=!1,ms!==null&&vu(ms)&&(ms=null),ps!==null&&vu(ps)&&(ps=null),gs!==null&&vu(gs)&&(gs=null),wl.forEach(qx),bl.forEach(qx)}function jl(a,l){a.blockedOn===l&&(a.blockedOn=null,Bh||(Bh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,VP)))}function _l(a){function l(y){return jl(y,a)}if(0<gu.length){jl(gu[0],a);for(var f=1;f<gu.length;f++){var g=gu[f];g.blockedOn===a&&(g.blockedOn=null)}}for(ms!==null&&jl(ms,a),ps!==null&&jl(ps,a),gs!==null&&jl(gs,a),wl.forEach(l),bl.forEach(l),f=0;f<vs.length;f++)g=vs[f],g.blockedOn===a&&(g.blockedOn=null);for(;0<vs.length&&(f=vs[0],f.blockedOn===null);)Wx(f),f.blockedOn===null&&vs.shift()}var Ka=A.ReactCurrentBatchConfig,yu=!0;function WP(a,l,f,g){var y=St,_=Ka.transition;Ka.transition=null;try{St=1,Vh(a,l,f,g)}finally{St=y,Ka.transition=_}}function qP(a,l,f,g){var y=St,_=Ka.transition;Ka.transition=null;try{St=4,Vh(a,l,f,g)}finally{St=y,Ka.transition=_}}function Vh(a,l,f,g){if(yu){var y=Wh(a,l,f,g);if(y===null)om(a,l,g,xu,f),Vx(a,g);else if(BP(y,a,l,f,g))g.stopPropagation();else if(Vx(a,g),l&4&&-1<UP.indexOf(a)){for(;y!==null;){var _=$l(y);if(_!==null&&Fx(_),_=Wh(a,l,f,g),_===null&&om(a,l,g,xu,f),_===y)break;y=_}y!==null&&g.stopPropagation()}else om(a,l,g,null,f)}}var xu=null;function Wh(a,l,f,g){if(xu=null,a=fs(g),a=ea(a),a!==null)if(l=He(a),l===null)a=null;else if(f=l.tag,f===13){if(a=Ue(l),a!==null)return a;a=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null);return xu=a,null}function Hx(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mh()){case vl:return 1;case Dx:return 4;case du:case IP:return 16;case $x:return 536870912;default:return 16}default:return 16}}var ys=null,qh=null,wu=null;function Kx(){if(wu)return wu;var a,l=qh,f=l.length,g,y="value"in ys?ys.value:ys.textContent,_=y.length;for(a=0;a<f&&l[a]===y[a];a++);var C=f-a;for(g=1;g<=C&&l[f-g]===y[_-g];g++);return wu=y.slice(a,1<g?1-g:void 0)}function bu(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Su(){return!0}function Yx(){return!1}function nn(a){function l(f,g,y,_,C){this._reactName=f,this._targetInst=y,this.type=g,this.nativeEvent=_,this.target=C,this.currentTarget=null;for(var R in a)a.hasOwnProperty(R)&&(f=a[R],this[R]=f?f(_):_[R]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Su:Yx,this.isPropagationStopped=Yx,this}return pe(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Su)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Su)},persist:function(){},isPersistent:Su}),l}var Ya={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hh=nn(Ya),kl=pe({},Ya,{view:0,detail:0}),HP=nn(kl),Kh,Yh,Nl,ju=pe({},kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jh,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Nl&&(Nl&&a.type==="mousemove"?(Kh=a.screenX-Nl.screenX,Yh=a.screenY-Nl.screenY):Yh=Kh=0,Nl=a),Kh)},movementY:function(a){return"movementY"in a?a.movementY:Yh}}),Gx=nn(ju),KP=pe({},ju,{dataTransfer:0}),YP=nn(KP),GP=pe({},kl,{relatedTarget:0}),Gh=nn(GP),JP=pe({},Ya,{animationName:0,elapsedTime:0,pseudoElement:0}),QP=nn(JP),XP=pe({},Ya,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),ZP=nn(XP),eT=pe({},Ya,{data:0}),Jx=nn(eT),tT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iT(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=nT[a])?!!l[a]:!1}function Jh(){return iT}var sT=pe({},kl,{key:function(a){if(a.key){var l=tT[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=bu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?rT[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jh,charCode:function(a){return a.type==="keypress"?bu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?bu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),aT=nn(sT),oT=pe({},ju,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qx=nn(oT),lT=pe({},kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jh}),cT=nn(lT),uT=pe({},Ya,{propertyName:0,elapsedTime:0,pseudoElement:0}),dT=nn(uT),fT=pe({},ju,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),hT=nn(fT),mT=[9,13,27,32],Qh=u&&"CompositionEvent"in window,El=null;u&&"documentMode"in document&&(El=document.documentMode);var pT=u&&"TextEvent"in window&&!El,Xx=u&&(!Qh||El&&8<El&&11>=El),Zx=" ",ew=!1;function tw(a,l){switch(a){case"keyup":return mT.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rw(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ga=!1;function gT(a,l){switch(a){case"compositionend":return rw(l);case"keypress":return l.which!==32?null:(ew=!0,Zx);case"textInput":return a=l.data,a===Zx&&ew?null:a;default:return null}}function vT(a,l){if(Ga)return a==="compositionend"||!Qh&&tw(a,l)?(a=Kx(),wu=qh=ys=null,Ga=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Xx&&l.locale!=="ko"?null:l.data;default:return null}}var yT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nw(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!yT[a.type]:l==="textarea"}function iw(a,l,f,g){hs(g),l=Cu(l,"onChange"),0<l.length&&(f=new Hh("onChange","change",null,f,g),a.push({event:f,listeners:l}))}var Cl=null,Al=null;function xT(a){Sw(a,0)}function _u(a){var l=eo(a);if(ie(l))return a}function wT(a,l){if(a==="change")return l}var sw=!1;if(u){var Xh;if(u){var Zh="oninput"in document;if(!Zh){var aw=document.createElement("div");aw.setAttribute("oninput","return;"),Zh=typeof aw.oninput=="function"}Xh=Zh}else Xh=!1;sw=Xh&&(!document.documentMode||9<document.documentMode)}function ow(){Cl&&(Cl.detachEvent("onpropertychange",lw),Al=Cl=null)}function lw(a){if(a.propertyName==="value"&&_u(Al)){var l=[];iw(l,Al,a,fs(a)),we(xT,l)}}function bT(a,l,f){a==="focusin"?(ow(),Cl=l,Al=f,Cl.attachEvent("onpropertychange",lw)):a==="focusout"&&ow()}function ST(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return _u(Al)}function jT(a,l){if(a==="click")return _u(l)}function _T(a,l){if(a==="input"||a==="change")return _u(l)}function kT(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Gn=typeof Object.is=="function"?Object.is:kT;function Ol(a,l){if(Gn(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var f=Object.keys(a),g=Object.keys(l);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var y=f[g];if(!d.call(l,y)||!Gn(a[y],l[y]))return!1}return!0}function cw(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function uw(a,l){var f=cw(a);a=0;for(var g;f;){if(f.nodeType===3){if(g=a+f.textContent.length,a<=l&&g>=l)return{node:f,offset:l-a};a=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=cw(f)}}function dw(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?dw(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function fw(){for(var a=window,l=Ae();l instanceof a.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)a=l.contentWindow;else break;l=Ae(a.document)}return l}function em(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}function NT(a){var l=fw(),f=a.focusedElem,g=a.selectionRange;if(l!==f&&f&&f.ownerDocument&&dw(f.ownerDocument.documentElement,f)){if(g!==null&&em(f)){if(l=g.start,a=g.end,a===void 0&&(a=l),"selectionStart"in f)f.selectionStart=l,f.selectionEnd=Math.min(a,f.value.length);else if(a=(l=f.ownerDocument||document)&&l.defaultView||window,a.getSelection){a=a.getSelection();var y=f.textContent.length,_=Math.min(g.start,y);g=g.end===void 0?_:Math.min(g.end,y),!a.extend&&_>g&&(y=g,g=_,_=y),y=uw(f,_);var C=uw(f,g);y&&C&&(a.rangeCount!==1||a.anchorNode!==y.node||a.anchorOffset!==y.offset||a.focusNode!==C.node||a.focusOffset!==C.offset)&&(l=l.createRange(),l.setStart(y.node,y.offset),a.removeAllRanges(),_>g?(a.addRange(l),a.extend(C.node,C.offset)):(l.setEnd(C.node,C.offset),a.addRange(l)))}}for(l=[],a=f;a=a.parentNode;)a.nodeType===1&&l.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<l.length;f++)a=l[f],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var ET=u&&"documentMode"in document&&11>=document.documentMode,Ja=null,tm=null,Pl=null,rm=!1;function hw(a,l,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;rm||Ja==null||Ja!==Ae(g)||(g=Ja,"selectionStart"in g&&em(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Pl&&Ol(Pl,g)||(Pl=g,g=Cu(tm,"onSelect"),0<g.length&&(l=new Hh("onSelect","select",null,l,f),a.push({event:l,listeners:g}),l.target=Ja)))}function ku(a,l){var f={};return f[a.toLowerCase()]=l.toLowerCase(),f["Webkit"+a]="webkit"+l,f["Moz"+a]="moz"+l,f}var Qa={animationend:ku("Animation","AnimationEnd"),animationiteration:ku("Animation","AnimationIteration"),animationstart:ku("Animation","AnimationStart"),transitionend:ku("Transition","TransitionEnd")},nm={},mw={};u&&(mw=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function Nu(a){if(nm[a])return nm[a];if(!Qa[a])return a;var l=Qa[a],f;for(f in l)if(l.hasOwnProperty(f)&&f in mw)return nm[a]=l[f];return a}var pw=Nu("animationend"),gw=Nu("animationiteration"),vw=Nu("animationstart"),yw=Nu("transitionend"),xw=new Map,ww="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xs(a,l){xw.set(a,l),s(l,[a])}for(var im=0;im<ww.length;im++){var sm=ww[im],CT=sm.toLowerCase(),AT=sm[0].toUpperCase()+sm.slice(1);xs(CT,"on"+AT)}xs(pw,"onAnimationEnd"),xs(gw,"onAnimationIteration"),xs(vw,"onAnimationStart"),xs("dblclick","onDoubleClick"),xs("focusin","onFocus"),xs("focusout","onBlur"),xs(yw,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tl));function bw(a,l,f){var g=a.type||"unknown-event";a.currentTarget=f,Ee(g,l,void 0,a),a.currentTarget=null}function Sw(a,l){l=(l&4)!==0;for(var f=0;f<a.length;f++){var g=a[f],y=g.event;g=g.listeners;e:{var _=void 0;if(l)for(var C=g.length-1;0<=C;C--){var R=g[C],M=R.instance,Q=R.currentTarget;if(R=R.listener,M!==_&&y.isPropagationStopped())break e;bw(y,R,Q),_=M}else for(C=0;C<g.length;C++){if(R=g[C],M=R.instance,Q=R.currentTarget,R=R.listener,M!==_&&y.isPropagationStopped())break e;bw(y,R,Q),_=M}}}if(bt)throw a=We,bt=!1,We=null,a}function Tt(a,l){var f=l[hm];f===void 0&&(f=l[hm]=new Set);var g=a+"__bubble";f.has(g)||(jw(l,a,2,!1),f.add(g))}function am(a,l,f){var g=0;l&&(g|=4),jw(f,a,g,l)}var Eu="_reactListening"+Math.random().toString(36).slice(2);function Il(a){if(!a[Eu]){a[Eu]=!0,n.forEach(function(f){f!=="selectionchange"&&(OT.has(f)||am(f,!1,a),am(f,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[Eu]||(l[Eu]=!0,am("selectionchange",!1,l))}}function jw(a,l,f,g){switch(Hx(l)){case 1:var y=WP;break;case 4:y=qP;break;default:y=Vh}f=y.bind(null,l,f,a),y=void 0,!Pe||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),g?y!==void 0?a.addEventListener(l,f,{capture:!0,passive:y}):a.addEventListener(l,f,!0):y!==void 0?a.addEventListener(l,f,{passive:y}):a.addEventListener(l,f,!1)}function om(a,l,f,g,y){var _=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var C=g.tag;if(C===3||C===4){var R=g.stateNode.containerInfo;if(R===y||R.nodeType===8&&R.parentNode===y)break;if(C===4)for(C=g.return;C!==null;){var M=C.tag;if((M===3||M===4)&&(M=C.stateNode.containerInfo,M===y||M.nodeType===8&&M.parentNode===y))return;C=C.return}for(;R!==null;){if(C=ea(R),C===null)return;if(M=C.tag,M===5||M===6){g=_=C;continue e}R=R.parentNode}}g=g.return}we(function(){var Q=_,ge=fs(f),ve=[];e:{var me=xw.get(a);if(me!==void 0){var Oe=Hh,Le=a;switch(a){case"keypress":if(bu(f)===0)break e;case"keydown":case"keyup":Oe=aT;break;case"focusin":Le="focus",Oe=Gh;break;case"focusout":Le="blur",Oe=Gh;break;case"beforeblur":case"afterblur":Oe=Gh;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Oe=Gx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Oe=YP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Oe=cT;break;case pw:case gw:case vw:Oe=QP;break;case yw:Oe=dT;break;case"scroll":Oe=HP;break;case"wheel":Oe=hT;break;case"copy":case"cut":case"paste":Oe=ZP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Oe=Qx}var Be=(l&4)!==0,Wt=!Be&&a==="scroll",H=Be?me!==null?me+"Capture":null:me;Be=[];for(var U=Q,G;U!==null;){G=U;var Se=G.stateNode;if(G.tag===5&&Se!==null&&(G=Se,H!==null&&(Se=ze(U,H),Se!=null&&Be.push(Rl(U,Se,G)))),Wt)break;U=U.return}0<Be.length&&(me=new Oe(me,Le,null,f,ge),ve.push({event:me,listeners:Be}))}}if((l&7)===0){e:{if(me=a==="mouseover"||a==="pointerover",Oe=a==="mouseout"||a==="pointerout",me&&f!==Kn&&(Le=f.relatedTarget||f.fromElement)&&(ea(Le)||Le[$i]))break e;if((Oe||me)&&(me=ge.window===ge?ge:(me=ge.ownerDocument)?me.defaultView||me.parentWindow:window,Oe?(Le=f.relatedTarget||f.toElement,Oe=Q,Le=Le?ea(Le):null,Le!==null&&(Wt=He(Le),Le!==Wt||Le.tag!==5&&Le.tag!==6)&&(Le=null)):(Oe=null,Le=Q),Oe!==Le)){if(Be=Gx,Se="onMouseLeave",H="onMouseEnter",U="mouse",(a==="pointerout"||a==="pointerover")&&(Be=Qx,Se="onPointerLeave",H="onPointerEnter",U="pointer"),Wt=Oe==null?me:eo(Oe),G=Le==null?me:eo(Le),me=new Be(Se,U+"leave",Oe,f,ge),me.target=Wt,me.relatedTarget=G,Se=null,ea(ge)===Q&&(Be=new Be(H,U+"enter",Le,f,ge),Be.target=G,Be.relatedTarget=Wt,Se=Be),Wt=Se,Oe&&Le)t:{for(Be=Oe,H=Le,U=0,G=Be;G;G=Xa(G))U++;for(G=0,Se=H;Se;Se=Xa(Se))G++;for(;0<U-G;)Be=Xa(Be),U--;for(;0<G-U;)H=Xa(H),G--;for(;U--;){if(Be===H||H!==null&&Be===H.alternate)break t;Be=Xa(Be),H=Xa(H)}Be=null}else Be=null;Oe!==null&&_w(ve,me,Oe,Be,!1),Le!==null&&Wt!==null&&_w(ve,Wt,Le,Be,!0)}}e:{if(me=Q?eo(Q):window,Oe=me.nodeName&&me.nodeName.toLowerCase(),Oe==="select"||Oe==="input"&&me.type==="file")var Ve=wT;else if(nw(me))if(sw)Ve=_T;else{Ve=ST;var Ge=bT}else(Oe=me.nodeName)&&Oe.toLowerCase()==="input"&&(me.type==="checkbox"||me.type==="radio")&&(Ve=jT);if(Ve&&(Ve=Ve(a,Q))){iw(ve,Ve,f,ge);break e}Ge&&Ge(a,me,Q),a==="focusout"&&(Ge=me._wrapperState)&&Ge.controlled&&me.type==="number"&&et(me,"number",me.value)}switch(Ge=Q?eo(Q):window,a){case"focusin":(nw(Ge)||Ge.contentEditable==="true")&&(Ja=Ge,tm=Q,Pl=null);break;case"focusout":Pl=tm=Ja=null;break;case"mousedown":rm=!0;break;case"contextmenu":case"mouseup":case"dragend":rm=!1,hw(ve,f,ge);break;case"selectionchange":if(ET)break;case"keydown":case"keyup":hw(ve,f,ge)}var Je;if(Qh)e:{switch(a){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else Ga?tw(a,f)&&(Ze="onCompositionEnd"):a==="keydown"&&f.keyCode===229&&(Ze="onCompositionStart");Ze&&(Xx&&f.locale!=="ko"&&(Ga||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&Ga&&(Je=Kx()):(ys=ge,qh="value"in ys?ys.value:ys.textContent,Ga=!0)),Ge=Cu(Q,Ze),0<Ge.length&&(Ze=new Jx(Ze,a,null,f,ge),ve.push({event:Ze,listeners:Ge}),Je?Ze.data=Je:(Je=rw(f),Je!==null&&(Ze.data=Je)))),(Je=pT?gT(a,f):vT(a,f))&&(Q=Cu(Q,"onBeforeInput"),0<Q.length&&(ge=new Jx("onBeforeInput","beforeinput",null,f,ge),ve.push({event:ge,listeners:Q}),ge.data=Je))}Sw(ve,l)})}function Rl(a,l,f){return{instance:a,listener:l,currentTarget:f}}function Cu(a,l){for(var f=l+"Capture",g=[];a!==null;){var y=a,_=y.stateNode;y.tag===5&&_!==null&&(y=_,_=ze(a,f),_!=null&&g.unshift(Rl(a,_,y)),_=ze(a,l),_!=null&&g.push(Rl(a,_,y))),a=a.return}return g}function Xa(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function _w(a,l,f,g,y){for(var _=l._reactName,C=[];f!==null&&f!==g;){var R=f,M=R.alternate,Q=R.stateNode;if(M!==null&&M===g)break;R.tag===5&&Q!==null&&(R=Q,y?(M=ze(f,_),M!=null&&C.unshift(Rl(f,M,R))):y||(M=ze(f,_),M!=null&&C.push(Rl(f,M,R)))),f=f.return}C.length!==0&&a.push({event:l,listeners:C})}var PT=/\r\n?/g,TT=/\u0000|\uFFFD/g;function kw(a){return(typeof a=="string"?a:""+a).replace(PT,`
`).replace(TT,"")}function Au(a,l,f){if(l=kw(l),kw(a)!==l&&f)throw Error(r(425))}function Ou(){}var lm=null,cm=null;function um(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var dm=typeof setTimeout=="function"?setTimeout:void 0,IT=typeof clearTimeout=="function"?clearTimeout:void 0,Nw=typeof Promise=="function"?Promise:void 0,RT=typeof queueMicrotask=="function"?queueMicrotask:typeof Nw<"u"?function(a){return Nw.resolve(null).then(a).catch(DT)}:dm;function DT(a){setTimeout(function(){throw a})}function fm(a,l){var f=l,g=0;do{var y=f.nextSibling;if(a.removeChild(f),y&&y.nodeType===8)if(f=y.data,f==="/$"){if(g===0){a.removeChild(y),_l(l);return}g--}else f!=="$"&&f!=="$?"&&f!=="$!"||g++;f=y}while(f);_l(l)}function ws(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return a}function Ew(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var f=a.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return a;l--}else f==="/$"&&l++}a=a.previousSibling}return null}var Za=Math.random().toString(36).slice(2),xi="__reactFiber$"+Za,Dl="__reactProps$"+Za,$i="__reactContainer$"+Za,hm="__reactEvents$"+Za,$T="__reactListeners$"+Za,MT="__reactHandles$"+Za;function ea(a){var l=a[xi];if(l)return l;for(var f=a.parentNode;f;){if(l=f[$i]||f[xi]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(a=Ew(a);a!==null;){if(f=a[xi])return f;a=Ew(a)}return l}a=f,f=a.parentNode}return null}function $l(a){return a=a[xi]||a[$i],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function eo(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(r(33))}function Pu(a){return a[Dl]||null}var mm=[],to=-1;function bs(a){return{current:a}}function It(a){0>to||(a.current=mm[to],mm[to]=null,to--)}function Ct(a,l){to++,mm[to]=a.current,a.current=l}var Ss={},Pr=bs(Ss),qr=bs(!1),ta=Ss;function ro(a,l){var f=a.type.contextTypes;if(!f)return Ss;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var y={},_;for(_ in f)y[_]=l[_];return g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=y),y}function Hr(a){return a=a.childContextTypes,a!=null}function Tu(){It(qr),It(Pr)}function Cw(a,l,f){if(Pr.current!==Ss)throw Error(r(168));Ct(Pr,l),Ct(qr,f)}function Aw(a,l,f){var g=a.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return f;g=g.getChildContext();for(var y in g)if(!(y in l))throw Error(r(108,ue(a)||"Unknown",y));return pe({},f,g)}function Iu(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Ss,ta=Pr.current,Ct(Pr,a),Ct(qr,qr.current),!0}function Ow(a,l,f){var g=a.stateNode;if(!g)throw Error(r(169));f?(a=Aw(a,l,ta),g.__reactInternalMemoizedMergedChildContext=a,It(qr),It(Pr),Ct(Pr,a)):It(qr),Ct(qr,f)}var Mi=null,Ru=!1,pm=!1;function Pw(a){Mi===null?Mi=[a]:Mi.push(a)}function LT(a){Ru=!0,Pw(a)}function js(){if(!pm&&Mi!==null){pm=!0;var a=0,l=St;try{var f=Mi;for(St=1;a<f.length;a++){var g=f[a];do g=g(!0);while(g!==null)}Mi=null,Ru=!1}catch(y){throw Mi!==null&&(Mi=Mi.slice(a+1)),pl(vl,js),y}finally{St=l,pm=!1}}return null}var no=[],io=0,Du=null,$u=0,Cn=[],An=0,ra=null,Li=1,Fi="";function na(a,l){no[io++]=$u,no[io++]=Du,Du=a,$u=l}function Tw(a,l,f){Cn[An++]=Li,Cn[An++]=Fi,Cn[An++]=ra,ra=a;var g=Li;a=Fi;var y=32-Yn(g)-1;g&=~(1<<y),f+=1;var _=32-Yn(l)+y;if(30<_){var C=y-y%5;_=(g&(1<<C)-1).toString(32),g>>=C,y-=C,Li=1<<32-Yn(l)+y|f<<y|g,Fi=_+a}else Li=1<<_|f<<y|g,Fi=a}function gm(a){a.return!==null&&(na(a,1),Tw(a,1,0))}function vm(a){for(;a===Du;)Du=no[--io],no[io]=null,$u=no[--io],no[io]=null;for(;a===ra;)ra=Cn[--An],Cn[An]=null,Fi=Cn[--An],Cn[An]=null,Li=Cn[--An],Cn[An]=null}var sn=null,an=null,Mt=!1,Jn=null;function Iw(a,l){var f=In(5,null,null,0);f.elementType="DELETED",f.stateNode=l,f.return=a,l=a.deletions,l===null?(a.deletions=[f],a.flags|=16):l.push(f)}function Rw(a,l){switch(a.tag){case 5:var f=a.type;return l=l.nodeType!==1||f.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(a.stateNode=l,sn=a,an=ws(l.firstChild),!0):!1;case 6:return l=a.pendingProps===""||l.nodeType!==3?null:l,l!==null?(a.stateNode=l,sn=a,an=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(f=ra!==null?{id:Li,overflow:Fi}:null,a.memoizedState={dehydrated:l,treeContext:f,retryLane:1073741824},f=In(18,null,null,0),f.stateNode=l,f.return=a,a.child=f,sn=a,an=null,!0):!1;default:return!1}}function ym(a){return(a.mode&1)!==0&&(a.flags&128)===0}function xm(a){if(Mt){var l=an;if(l){var f=l;if(!Rw(a,l)){if(ym(a))throw Error(r(418));l=ws(f.nextSibling);var g=sn;l&&Rw(a,l)?Iw(g,f):(a.flags=a.flags&-4097|2,Mt=!1,sn=a)}}else{if(ym(a))throw Error(r(418));a.flags=a.flags&-4097|2,Mt=!1,sn=a}}}function Dw(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;sn=a}function Mu(a){if(a!==sn)return!1;if(!Mt)return Dw(a),Mt=!0,!1;var l;if((l=a.tag!==3)&&!(l=a.tag!==5)&&(l=a.type,l=l!=="head"&&l!=="body"&&!um(a.type,a.memoizedProps)),l&&(l=an)){if(ym(a))throw $w(),Error(r(418));for(;l;)Iw(a,l),l=ws(l.nextSibling)}if(Dw(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8){var f=a.data;if(f==="/$"){if(l===0){an=ws(a.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++}a=a.nextSibling}an=null}}else an=sn?ws(a.stateNode.nextSibling):null;return!0}function $w(){for(var a=an;a;)a=ws(a.nextSibling)}function so(){an=sn=null,Mt=!1}function wm(a){Jn===null?Jn=[a]:Jn.push(a)}var FT=A.ReactCurrentBatchConfig;function Ml(a,l,f){if(a=f.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(r(309));var g=f.stateNode}if(!g)throw Error(r(147,a));var y=g,_=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===_?l.ref:(l=function(C){var R=y.refs;C===null?delete R[_]:R[_]=C},l._stringRef=_,l)}if(typeof a!="string")throw Error(r(284));if(!f._owner)throw Error(r(290,a))}return a}function Lu(a,l){throw a=Object.prototype.toString.call(l),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function Mw(a){var l=a._init;return l(a._payload)}function Lw(a){function l(H,U){if(a){var G=H.deletions;G===null?(H.deletions=[U],H.flags|=16):G.push(U)}}function f(H,U){if(!a)return null;for(;U!==null;)l(H,U),U=U.sibling;return null}function g(H,U){for(H=new Map;U!==null;)U.key!==null?H.set(U.key,U):H.set(U.index,U),U=U.sibling;return H}function y(H,U){return H=Ps(H,U),H.index=0,H.sibling=null,H}function _(H,U,G){return H.index=G,a?(G=H.alternate,G!==null?(G=G.index,G<U?(H.flags|=2,U):G):(H.flags|=2,U)):(H.flags|=1048576,U)}function C(H){return a&&H.alternate===null&&(H.flags|=2),H}function R(H,U,G,Se){return U===null||U.tag!==6?(U=dp(G,H.mode,Se),U.return=H,U):(U=y(U,G),U.return=H,U)}function M(H,U,G,Se){var Ve=G.type;return Ve===L?ge(H,U,G.props.children,Se,G.key):U!==null&&(U.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===Ne&&Mw(Ve)===U.type)?(Se=y(U,G.props),Se.ref=Ml(H,U,G),Se.return=H,Se):(Se=ld(G.type,G.key,G.props,null,H.mode,Se),Se.ref=Ml(H,U,G),Se.return=H,Se)}function Q(H,U,G,Se){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=fp(G,H.mode,Se),U.return=H,U):(U=y(U,G.children||[]),U.return=H,U)}function ge(H,U,G,Se,Ve){return U===null||U.tag!==7?(U=da(G,H.mode,Se,Ve),U.return=H,U):(U=y(U,G),U.return=H,U)}function ve(H,U,G){if(typeof U=="string"&&U!==""||typeof U=="number")return U=dp(""+U,H.mode,G),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case T:return G=ld(U.type,U.key,U.props,null,H.mode,G),G.ref=Ml(H,null,U),G.return=H,G;case I:return U=fp(U,H.mode,G),U.return=H,U;case Ne:var Se=U._init;return ve(H,Se(U._payload),G)}if(Pt(U)||he(U))return U=da(U,H.mode,G,null),U.return=H,U;Lu(H,U)}return null}function me(H,U,G,Se){var Ve=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return Ve!==null?null:R(H,U,""+G,Se);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case T:return G.key===Ve?M(H,U,G,Se):null;case I:return G.key===Ve?Q(H,U,G,Se):null;case Ne:return Ve=G._init,me(H,U,Ve(G._payload),Se)}if(Pt(G)||he(G))return Ve!==null?null:ge(H,U,G,Se,null);Lu(H,G)}return null}function Oe(H,U,G,Se,Ve){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return H=H.get(G)||null,R(U,H,""+Se,Ve);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case T:return H=H.get(Se.key===null?G:Se.key)||null,M(U,H,Se,Ve);case I:return H=H.get(Se.key===null?G:Se.key)||null,Q(U,H,Se,Ve);case Ne:var Ge=Se._init;return Oe(H,U,G,Ge(Se._payload),Ve)}if(Pt(Se)||he(Se))return H=H.get(G)||null,ge(U,H,Se,Ve,null);Lu(U,Se)}return null}function Le(H,U,G,Se){for(var Ve=null,Ge=null,Je=U,Ze=U=0,dr=null;Je!==null&&Ze<G.length;Ze++){Je.index>Ze?(dr=Je,Je=null):dr=Je.sibling;var pt=me(H,Je,G[Ze],Se);if(pt===null){Je===null&&(Je=dr);break}a&&Je&&pt.alternate===null&&l(H,Je),U=_(pt,U,Ze),Ge===null?Ve=pt:Ge.sibling=pt,Ge=pt,Je=dr}if(Ze===G.length)return f(H,Je),Mt&&na(H,Ze),Ve;if(Je===null){for(;Ze<G.length;Ze++)Je=ve(H,G[Ze],Se),Je!==null&&(U=_(Je,U,Ze),Ge===null?Ve=Je:Ge.sibling=Je,Ge=Je);return Mt&&na(H,Ze),Ve}for(Je=g(H,Je);Ze<G.length;Ze++)dr=Oe(Je,H,Ze,G[Ze],Se),dr!==null&&(a&&dr.alternate!==null&&Je.delete(dr.key===null?Ze:dr.key),U=_(dr,U,Ze),Ge===null?Ve=dr:Ge.sibling=dr,Ge=dr);return a&&Je.forEach(function(Ts){return l(H,Ts)}),Mt&&na(H,Ze),Ve}function Be(H,U,G,Se){var Ve=he(G);if(typeof Ve!="function")throw Error(r(150));if(G=Ve.call(G),G==null)throw Error(r(151));for(var Ge=Ve=null,Je=U,Ze=U=0,dr=null,pt=G.next();Je!==null&&!pt.done;Ze++,pt=G.next()){Je.index>Ze?(dr=Je,Je=null):dr=Je.sibling;var Ts=me(H,Je,pt.value,Se);if(Ts===null){Je===null&&(Je=dr);break}a&&Je&&Ts.alternate===null&&l(H,Je),U=_(Ts,U,Ze),Ge===null?Ve=Ts:Ge.sibling=Ts,Ge=Ts,Je=dr}if(pt.done)return f(H,Je),Mt&&na(H,Ze),Ve;if(Je===null){for(;!pt.done;Ze++,pt=G.next())pt=ve(H,pt.value,Se),pt!==null&&(U=_(pt,U,Ze),Ge===null?Ve=pt:Ge.sibling=pt,Ge=pt);return Mt&&na(H,Ze),Ve}for(Je=g(H,Je);!pt.done;Ze++,pt=G.next())pt=Oe(Je,H,Ze,pt.value,Se),pt!==null&&(a&&pt.alternate!==null&&Je.delete(pt.key===null?Ze:pt.key),U=_(pt,U,Ze),Ge===null?Ve=pt:Ge.sibling=pt,Ge=pt);return a&&Je.forEach(function(yI){return l(H,yI)}),Mt&&na(H,Ze),Ve}function Wt(H,U,G,Se){if(typeof G=="object"&&G!==null&&G.type===L&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case T:e:{for(var Ve=G.key,Ge=U;Ge!==null;){if(Ge.key===Ve){if(Ve=G.type,Ve===L){if(Ge.tag===7){f(H,Ge.sibling),U=y(Ge,G.props.children),U.return=H,H=U;break e}}else if(Ge.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===Ne&&Mw(Ve)===Ge.type){f(H,Ge.sibling),U=y(Ge,G.props),U.ref=Ml(H,Ge,G),U.return=H,H=U;break e}f(H,Ge);break}else l(H,Ge);Ge=Ge.sibling}G.type===L?(U=da(G.props.children,H.mode,Se,G.key),U.return=H,H=U):(Se=ld(G.type,G.key,G.props,null,H.mode,Se),Se.ref=Ml(H,U,G),Se.return=H,H=Se)}return C(H);case I:e:{for(Ge=G.key;U!==null;){if(U.key===Ge)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){f(H,U.sibling),U=y(U,G.children||[]),U.return=H,H=U;break e}else{f(H,U);break}else l(H,U);U=U.sibling}U=fp(G,H.mode,Se),U.return=H,H=U}return C(H);case Ne:return Ge=G._init,Wt(H,U,Ge(G._payload),Se)}if(Pt(G))return Le(H,U,G,Se);if(he(G))return Be(H,U,G,Se);Lu(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,U!==null&&U.tag===6?(f(H,U.sibling),U=y(U,G),U.return=H,H=U):(f(H,U),U=dp(G,H.mode,Se),U.return=H,H=U),C(H)):f(H,U)}return Wt}var ao=Lw(!0),Fw=Lw(!1),Fu=bs(null),zu=null,oo=null,bm=null;function Sm(){bm=oo=zu=null}function jm(a){var l=Fu.current;It(Fu),a._currentValue=l}function _m(a,l,f){for(;a!==null;){var g=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),a===f)break;a=a.return}}function lo(a,l){zu=a,bm=oo=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&l)!==0&&(Kr=!0),a.firstContext=null)}function On(a){var l=a._currentValue;if(bm!==a)if(a={context:a,memoizedValue:l,next:null},oo===null){if(zu===null)throw Error(r(308));oo=a,zu.dependencies={lanes:0,firstContext:a}}else oo=oo.next=a;return l}var ia=null;function km(a){ia===null?ia=[a]:ia.push(a)}function zw(a,l,f,g){var y=l.interleaved;return y===null?(f.next=f,km(l)):(f.next=y.next,y.next=f),l.interleaved=f,zi(a,g)}function zi(a,l){a.lanes|=l;var f=a.alternate;for(f!==null&&(f.lanes|=l),f=a,a=a.return;a!==null;)a.childLanes|=l,f=a.alternate,f!==null&&(f.childLanes|=l),f=a,a=a.return;return f.tag===3?f.stateNode:null}var _s=!1;function Nm(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uw(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Ui(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function ks(a,l,f){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(ft&2)!==0){var y=g.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),g.pending=l,zi(a,f)}return y=g.interleaved,y===null?(l.next=l,km(g)):(l.next=y.next,y.next=l),g.interleaved=l,zi(a,f)}function Uu(a,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194240)!==0)){var g=l.lanes;g&=a.pendingLanes,f|=g,l.lanes=f,zh(a,f)}}function Bw(a,l){var f=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var y=null,_=null;if(f=f.firstBaseUpdate,f!==null){do{var C={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};_===null?y=_=C:_=_.next=C,f=f.next}while(f!==null);_===null?y=_=l:_=_.next=l}else y=_=l;f={baseState:g.baseState,firstBaseUpdate:y,lastBaseUpdate:_,shared:g.shared,effects:g.effects},a.updateQueue=f;return}a=f.lastBaseUpdate,a===null?f.firstBaseUpdate=l:a.next=l,f.lastBaseUpdate=l}function Bu(a,l,f,g){var y=a.updateQueue;_s=!1;var _=y.firstBaseUpdate,C=y.lastBaseUpdate,R=y.shared.pending;if(R!==null){y.shared.pending=null;var M=R,Q=M.next;M.next=null,C===null?_=Q:C.next=Q,C=M;var ge=a.alternate;ge!==null&&(ge=ge.updateQueue,R=ge.lastBaseUpdate,R!==C&&(R===null?ge.firstBaseUpdate=Q:R.next=Q,ge.lastBaseUpdate=M))}if(_!==null){var ve=y.baseState;C=0,ge=Q=M=null,R=_;do{var me=R.lane,Oe=R.eventTime;if((g&me)===me){ge!==null&&(ge=ge.next={eventTime:Oe,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var Le=a,Be=R;switch(me=l,Oe=f,Be.tag){case 1:if(Le=Be.payload,typeof Le=="function"){ve=Le.call(Oe,ve,me);break e}ve=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Be.payload,me=typeof Le=="function"?Le.call(Oe,ve,me):Le,me==null)break e;ve=pe({},ve,me);break e;case 2:_s=!0}}R.callback!==null&&R.lane!==0&&(a.flags|=64,me=y.effects,me===null?y.effects=[R]:me.push(R))}else Oe={eventTime:Oe,lane:me,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ge===null?(Q=ge=Oe,M=ve):ge=ge.next=Oe,C|=me;if(R=R.next,R===null){if(R=y.shared.pending,R===null)break;me=R,R=me.next,me.next=null,y.lastBaseUpdate=me,y.shared.pending=null}}while(!0);if(ge===null&&(M=ve),y.baseState=M,y.firstBaseUpdate=Q,y.lastBaseUpdate=ge,l=y.shared.interleaved,l!==null){y=l;do C|=y.lane,y=y.next;while(y!==l)}else _===null&&(y.shared.lanes=0);oa|=C,a.lanes=C,a.memoizedState=ve}}function Vw(a,l,f){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var g=a[l],y=g.callback;if(y!==null){if(g.callback=null,g=f,typeof y!="function")throw Error(r(191,y));y.call(g)}}}var Ll={},wi=bs(Ll),Fl=bs(Ll),zl=bs(Ll);function sa(a){if(a===Ll)throw Error(r(174));return a}function Em(a,l){switch(Ct(zl,l),Ct(Fl,a),Ct(wi,Ll),a=l.nodeType,a){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:J(null,"");break;default:a=a===8?l.parentNode:l,l=a.namespaceURI||null,a=a.tagName,l=J(l,a)}It(wi),Ct(wi,l)}function co(){It(wi),It(Fl),It(zl)}function Ww(a){sa(zl.current);var l=sa(wi.current),f=J(l,a.type);l!==f&&(Ct(Fl,a),Ct(wi,f))}function Cm(a){Fl.current===a&&(It(wi),It(Fl))}var Ut=bs(0);function Vu(a){for(var l=a;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Am=[];function Om(){for(var a=0;a<Am.length;a++)Am[a]._workInProgressVersionPrimary=null;Am.length=0}var Wu=A.ReactCurrentDispatcher,Pm=A.ReactCurrentBatchConfig,aa=0,Bt=null,rr=null,cr=null,qu=!1,Ul=!1,Bl=0,zT=0;function Tr(){throw Error(r(321))}function Tm(a,l){if(l===null)return!1;for(var f=0;f<l.length&&f<a.length;f++)if(!Gn(a[f],l[f]))return!1;return!0}function Im(a,l,f,g,y,_){if(aa=_,Bt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Wu.current=a===null||a.memoizedState===null?WT:qT,a=f(g,y),Ul){_=0;do{if(Ul=!1,Bl=0,25<=_)throw Error(r(301));_+=1,cr=rr=null,l.updateQueue=null,Wu.current=HT,a=f(g,y)}while(Ul)}if(Wu.current=Yu,l=rr!==null&&rr.next!==null,aa=0,cr=rr=Bt=null,qu=!1,l)throw Error(r(300));return a}function Rm(){var a=Bl!==0;return Bl=0,a}function bi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cr===null?Bt.memoizedState=cr=a:cr=cr.next=a,cr}function Pn(){if(rr===null){var a=Bt.alternate;a=a!==null?a.memoizedState:null}else a=rr.next;var l=cr===null?Bt.memoizedState:cr.next;if(l!==null)cr=l,rr=a;else{if(a===null)throw Error(r(310));rr=a,a={memoizedState:rr.memoizedState,baseState:rr.baseState,baseQueue:rr.baseQueue,queue:rr.queue,next:null},cr===null?Bt.memoizedState=cr=a:cr=cr.next=a}return cr}function Vl(a,l){return typeof l=="function"?l(a):l}function Dm(a){var l=Pn(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=a;var g=rr,y=g.baseQueue,_=f.pending;if(_!==null){if(y!==null){var C=y.next;y.next=_.next,_.next=C}g.baseQueue=y=_,f.pending=null}if(y!==null){_=y.next,g=g.baseState;var R=C=null,M=null,Q=_;do{var ge=Q.lane;if((aa&ge)===ge)M!==null&&(M=M.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),g=Q.hasEagerState?Q.eagerState:a(g,Q.action);else{var ve={lane:ge,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};M===null?(R=M=ve,C=g):M=M.next=ve,Bt.lanes|=ge,oa|=ge}Q=Q.next}while(Q!==null&&Q!==_);M===null?C=g:M.next=R,Gn(g,l.memoizedState)||(Kr=!0),l.memoizedState=g,l.baseState=C,l.baseQueue=M,f.lastRenderedState=g}if(a=f.interleaved,a!==null){y=a;do _=y.lane,Bt.lanes|=_,oa|=_,y=y.next;while(y!==a)}else y===null&&(f.lanes=0);return[l.memoizedState,f.dispatch]}function $m(a){var l=Pn(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=a;var g=f.dispatch,y=f.pending,_=l.memoizedState;if(y!==null){f.pending=null;var C=y=y.next;do _=a(_,C.action),C=C.next;while(C!==y);Gn(_,l.memoizedState)||(Kr=!0),l.memoizedState=_,l.baseQueue===null&&(l.baseState=_),f.lastRenderedState=_}return[_,g]}function qw(){}function Hw(a,l){var f=Bt,g=Pn(),y=l(),_=!Gn(g.memoizedState,y);if(_&&(g.memoizedState=y,Kr=!0),g=g.queue,Mm(Gw.bind(null,f,g,a),[a]),g.getSnapshot!==l||_||cr!==null&&cr.memoizedState.tag&1){if(f.flags|=2048,Wl(9,Yw.bind(null,f,g,y,l),void 0,null),ur===null)throw Error(r(349));(aa&30)!==0||Kw(f,l,y)}return y}function Kw(a,l,f){a.flags|=16384,a={getSnapshot:l,value:f},l=Bt.updateQueue,l===null?(l={lastEffect:null,stores:null},Bt.updateQueue=l,l.stores=[a]):(f=l.stores,f===null?l.stores=[a]:f.push(a))}function Yw(a,l,f,g){l.value=f,l.getSnapshot=g,Jw(l)&&Qw(a)}function Gw(a,l,f){return f(function(){Jw(l)&&Qw(a)})}function Jw(a){var l=a.getSnapshot;a=a.value;try{var f=l();return!Gn(a,f)}catch{return!0}}function Qw(a){var l=zi(a,1);l!==null&&ei(l,a,1,-1)}function Xw(a){var l=bi();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vl,lastRenderedState:a},l.queue=a,a=a.dispatch=VT.bind(null,Bt,a),[l.memoizedState,a]}function Wl(a,l,f,g){return a={tag:a,create:l,destroy:f,deps:g,next:null},l=Bt.updateQueue,l===null?(l={lastEffect:null,stores:null},Bt.updateQueue=l,l.lastEffect=a.next=a):(f=l.lastEffect,f===null?l.lastEffect=a.next=a:(g=f.next,f.next=a,a.next=g,l.lastEffect=a)),a}function Zw(){return Pn().memoizedState}function Hu(a,l,f,g){var y=bi();Bt.flags|=a,y.memoizedState=Wl(1|l,f,void 0,g===void 0?null:g)}function Ku(a,l,f,g){var y=Pn();g=g===void 0?null:g;var _=void 0;if(rr!==null){var C=rr.memoizedState;if(_=C.destroy,g!==null&&Tm(g,C.deps)){y.memoizedState=Wl(l,f,_,g);return}}Bt.flags|=a,y.memoizedState=Wl(1|l,f,_,g)}function eb(a,l){return Hu(8390656,8,a,l)}function Mm(a,l){return Ku(2048,8,a,l)}function tb(a,l){return Ku(4,2,a,l)}function rb(a,l){return Ku(4,4,a,l)}function nb(a,l){if(typeof l=="function")return a=a(),l(a),function(){l(null)};if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function ib(a,l,f){return f=f!=null?f.concat([a]):null,Ku(4,4,nb.bind(null,l,a),f)}function Lm(){}function sb(a,l){var f=Pn();l=l===void 0?null:l;var g=f.memoizedState;return g!==null&&l!==null&&Tm(l,g[1])?g[0]:(f.memoizedState=[a,l],a)}function ab(a,l){var f=Pn();l=l===void 0?null:l;var g=f.memoizedState;return g!==null&&l!==null&&Tm(l,g[1])?g[0]:(a=a(),f.memoizedState=[a,l],a)}function ob(a,l,f){return(aa&21)===0?(a.baseState&&(a.baseState=!1,Kr=!0),a.memoizedState=f):(Gn(f,l)||(f=Mx(),Bt.lanes|=f,oa|=f,a.baseState=!0),l)}function UT(a,l){var f=St;St=f!==0&&4>f?f:4,a(!0);var g=Pm.transition;Pm.transition={};try{a(!1),l()}finally{St=f,Pm.transition=g}}function lb(){return Pn().memoizedState}function BT(a,l,f){var g=As(a);if(f={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null},cb(a))ub(l,f);else if(f=zw(a,l,f,g),f!==null){var y=Lr();ei(f,a,g,y),db(f,l,g)}}function VT(a,l,f){var g=As(a),y={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null};if(cb(a))ub(l,y);else{var _=a.alternate;if(a.lanes===0&&(_===null||_.lanes===0)&&(_=l.lastRenderedReducer,_!==null))try{var C=l.lastRenderedState,R=_(C,f);if(y.hasEagerState=!0,y.eagerState=R,Gn(R,C)){var M=l.interleaved;M===null?(y.next=y,km(l)):(y.next=M.next,M.next=y),l.interleaved=y;return}}catch{}finally{}f=zw(a,l,y,g),f!==null&&(y=Lr(),ei(f,a,g,y),db(f,l,g))}}function cb(a){var l=a.alternate;return a===Bt||l!==null&&l===Bt}function ub(a,l){Ul=qu=!0;var f=a.pending;f===null?l.next=l:(l.next=f.next,f.next=l),a.pending=l}function db(a,l,f){if((f&4194240)!==0){var g=l.lanes;g&=a.pendingLanes,f|=g,l.lanes=f,zh(a,f)}}var Yu={readContext:On,useCallback:Tr,useContext:Tr,useEffect:Tr,useImperativeHandle:Tr,useInsertionEffect:Tr,useLayoutEffect:Tr,useMemo:Tr,useReducer:Tr,useRef:Tr,useState:Tr,useDebugValue:Tr,useDeferredValue:Tr,useTransition:Tr,useMutableSource:Tr,useSyncExternalStore:Tr,useId:Tr,unstable_isNewReconciler:!1},WT={readContext:On,useCallback:function(a,l){return bi().memoizedState=[a,l===void 0?null:l],a},useContext:On,useEffect:eb,useImperativeHandle:function(a,l,f){return f=f!=null?f.concat([a]):null,Hu(4194308,4,nb.bind(null,l,a),f)},useLayoutEffect:function(a,l){return Hu(4194308,4,a,l)},useInsertionEffect:function(a,l){return Hu(4,2,a,l)},useMemo:function(a,l){var f=bi();return l=l===void 0?null:l,a=a(),f.memoizedState=[a,l],a},useReducer:function(a,l,f){var g=bi();return l=f!==void 0?f(l):l,g.memoizedState=g.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},g.queue=a,a=a.dispatch=BT.bind(null,Bt,a),[g.memoizedState,a]},useRef:function(a){var l=bi();return a={current:a},l.memoizedState=a},useState:Xw,useDebugValue:Lm,useDeferredValue:function(a){return bi().memoizedState=a},useTransition:function(){var a=Xw(!1),l=a[0];return a=UT.bind(null,a[1]),bi().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,f){var g=Bt,y=bi();if(Mt){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),ur===null)throw Error(r(349));(aa&30)!==0||Kw(g,l,f)}y.memoizedState=f;var _={value:f,getSnapshot:l};return y.queue=_,eb(Gw.bind(null,g,_,a),[a]),g.flags|=2048,Wl(9,Yw.bind(null,g,_,f,l),void 0,null),f},useId:function(){var a=bi(),l=ur.identifierPrefix;if(Mt){var f=Fi,g=Li;f=(g&~(1<<32-Yn(g)-1)).toString(32)+f,l=":"+l+"R"+f,f=Bl++,0<f&&(l+="H"+f.toString(32)),l+=":"}else f=zT++,l=":"+l+"r"+f.toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},qT={readContext:On,useCallback:sb,useContext:On,useEffect:Mm,useImperativeHandle:ib,useInsertionEffect:tb,useLayoutEffect:rb,useMemo:ab,useReducer:Dm,useRef:Zw,useState:function(){return Dm(Vl)},useDebugValue:Lm,useDeferredValue:function(a){var l=Pn();return ob(l,rr.memoizedState,a)},useTransition:function(){var a=Dm(Vl)[0],l=Pn().memoizedState;return[a,l]},useMutableSource:qw,useSyncExternalStore:Hw,useId:lb,unstable_isNewReconciler:!1},HT={readContext:On,useCallback:sb,useContext:On,useEffect:Mm,useImperativeHandle:ib,useInsertionEffect:tb,useLayoutEffect:rb,useMemo:ab,useReducer:$m,useRef:Zw,useState:function(){return $m(Vl)},useDebugValue:Lm,useDeferredValue:function(a){var l=Pn();return rr===null?l.memoizedState=a:ob(l,rr.memoizedState,a)},useTransition:function(){var a=$m(Vl)[0],l=Pn().memoizedState;return[a,l]},useMutableSource:qw,useSyncExternalStore:Hw,useId:lb,unstable_isNewReconciler:!1};function Qn(a,l){if(a&&a.defaultProps){l=pe({},l),a=a.defaultProps;for(var f in a)l[f]===void 0&&(l[f]=a[f]);return l}return l}function Fm(a,l,f,g){l=a.memoizedState,f=f(g,l),f=f==null?l:pe({},l,f),a.memoizedState=f,a.lanes===0&&(a.updateQueue.baseState=f)}var Gu={isMounted:function(a){return(a=a._reactInternals)?He(a)===a:!1},enqueueSetState:function(a,l,f){a=a._reactInternals;var g=Lr(),y=As(a),_=Ui(g,y);_.payload=l,f!=null&&(_.callback=f),l=ks(a,_,y),l!==null&&(ei(l,a,y,g),Uu(l,a,y))},enqueueReplaceState:function(a,l,f){a=a._reactInternals;var g=Lr(),y=As(a),_=Ui(g,y);_.tag=1,_.payload=l,f!=null&&(_.callback=f),l=ks(a,_,y),l!==null&&(ei(l,a,y,g),Uu(l,a,y))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var f=Lr(),g=As(a),y=Ui(f,g);y.tag=2,l!=null&&(y.callback=l),l=ks(a,y,g),l!==null&&(ei(l,a,g,f),Uu(l,a,g))}};function fb(a,l,f,g,y,_,C){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,_,C):l.prototype&&l.prototype.isPureReactComponent?!Ol(f,g)||!Ol(y,_):!0}function hb(a,l,f){var g=!1,y=Ss,_=l.contextType;return typeof _=="object"&&_!==null?_=On(_):(y=Hr(l)?ta:Pr.current,g=l.contextTypes,_=(g=g!=null)?ro(a,y):Ss),l=new l(f,_),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Gu,a.stateNode=l,l._reactInternals=a,g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=y,a.__reactInternalMemoizedMaskedChildContext=_),l}function mb(a,l,f,g){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,g),l.state!==a&&Gu.enqueueReplaceState(l,l.state,null)}function zm(a,l,f,g){var y=a.stateNode;y.props=f,y.state=a.memoizedState,y.refs={},Nm(a);var _=l.contextType;typeof _=="object"&&_!==null?y.context=On(_):(_=Hr(l)?ta:Pr.current,y.context=ro(a,_)),y.state=a.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(Fm(a,l,_,f),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(l=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),l!==y.state&&Gu.enqueueReplaceState(y,y.state,null),Bu(a,f,y,g),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308)}function uo(a,l){try{var f="",g=l;do f+=re(g),g=g.return;while(g);var y=f}catch(_){y=`
Error generating stack: `+_.message+`
`+_.stack}return{value:a,source:l,stack:y,digest:null}}function Um(a,l,f){return{value:a,source:null,stack:f??null,digest:l??null}}function Bm(a,l){try{console.error(l.value)}catch(f){setTimeout(function(){throw f})}}var KT=typeof WeakMap=="function"?WeakMap:Map;function pb(a,l,f){f=Ui(-1,f),f.tag=3,f.payload={element:null};var g=l.value;return f.callback=function(){rd||(rd=!0,np=g),Bm(a,l)},f}function gb(a,l,f){f=Ui(-1,f),f.tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var y=l.value;f.payload=function(){return g(y)},f.callback=function(){Bm(a,l)}}var _=a.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(f.callback=function(){Bm(a,l),typeof g!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var C=l.stack;this.componentDidCatch(l.value,{componentStack:C!==null?C:""})}),f}function vb(a,l,f){var g=a.pingCache;if(g===null){g=a.pingCache=new KT;var y=new Set;g.set(l,y)}else y=g.get(l),y===void 0&&(y=new Set,g.set(l,y));y.has(f)||(y.add(f),a=oI.bind(null,a,l,f),l.then(a,a))}function yb(a){do{var l;if((l=a.tag===13)&&(l=a.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return a;a=a.return}while(a!==null);return null}function xb(a,l,f,g,y){return(a.mode&1)===0?(a===l?a.flags|=65536:(a.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(l=Ui(-1,1),l.tag=2,ks(f,l,1))),f.lanes|=1),a):(a.flags|=65536,a.lanes=y,a)}var YT=A.ReactCurrentOwner,Kr=!1;function Mr(a,l,f,g){l.child=a===null?Fw(l,null,f,g):ao(l,a.child,f,g)}function wb(a,l,f,g,y){f=f.render;var _=l.ref;return lo(l,y),g=Im(a,l,f,g,_,y),f=Rm(),a!==null&&!Kr?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~y,Bi(a,l,y)):(Mt&&f&&gm(l),l.flags|=1,Mr(a,l,g,y),l.child)}function bb(a,l,f,g,y){if(a===null){var _=f.type;return typeof _=="function"&&!up(_)&&_.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(l.tag=15,l.type=_,Sb(a,l,_,g,y)):(a=ld(f.type,null,g,l,l.mode,y),a.ref=l.ref,a.return=l,l.child=a)}if(_=a.child,(a.lanes&y)===0){var C=_.memoizedProps;if(f=f.compare,f=f!==null?f:Ol,f(C,g)&&a.ref===l.ref)return Bi(a,l,y)}return l.flags|=1,a=Ps(_,g),a.ref=l.ref,a.return=l,l.child=a}function Sb(a,l,f,g,y){if(a!==null){var _=a.memoizedProps;if(Ol(_,g)&&a.ref===l.ref)if(Kr=!1,l.pendingProps=g=_,(a.lanes&y)!==0)(a.flags&131072)!==0&&(Kr=!0);else return l.lanes=a.lanes,Bi(a,l,y)}return Vm(a,l,f,g,y)}function jb(a,l,f){var g=l.pendingProps,y=g.children,_=a!==null?a.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ct(ho,on),on|=f;else{if((f&1073741824)===0)return a=_!==null?_.baseLanes|f:f,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,Ct(ho,on),on|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=_!==null?_.baseLanes:f,Ct(ho,on),on|=g}else _!==null?(g=_.baseLanes|f,l.memoizedState=null):g=f,Ct(ho,on),on|=g;return Mr(a,l,y,f),l.child}function _b(a,l){var f=l.ref;(a===null&&f!==null||a!==null&&a.ref!==f)&&(l.flags|=512,l.flags|=2097152)}function Vm(a,l,f,g,y){var _=Hr(f)?ta:Pr.current;return _=ro(l,_),lo(l,y),f=Im(a,l,f,g,_,y),g=Rm(),a!==null&&!Kr?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~y,Bi(a,l,y)):(Mt&&g&&gm(l),l.flags|=1,Mr(a,l,f,y),l.child)}function kb(a,l,f,g,y){if(Hr(f)){var _=!0;Iu(l)}else _=!1;if(lo(l,y),l.stateNode===null)Qu(a,l),hb(l,f,g),zm(l,f,g,y),g=!0;else if(a===null){var C=l.stateNode,R=l.memoizedProps;C.props=R;var M=C.context,Q=f.contextType;typeof Q=="object"&&Q!==null?Q=On(Q):(Q=Hr(f)?ta:Pr.current,Q=ro(l,Q));var ge=f.getDerivedStateFromProps,ve=typeof ge=="function"||typeof C.getSnapshotBeforeUpdate=="function";ve||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(R!==g||M!==Q)&&mb(l,C,g,Q),_s=!1;var me=l.memoizedState;C.state=me,Bu(l,g,C,y),M=l.memoizedState,R!==g||me!==M||qr.current||_s?(typeof ge=="function"&&(Fm(l,f,ge,g),M=l.memoizedState),(R=_s||fb(l,f,R,g,me,M,Q))?(ve||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(l.flags|=4194308)):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=M),C.props=g,C.state=M,C.context=Q,g=R):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{C=l.stateNode,Uw(a,l),R=l.memoizedProps,Q=l.type===l.elementType?R:Qn(l.type,R),C.props=Q,ve=l.pendingProps,me=C.context,M=f.contextType,typeof M=="object"&&M!==null?M=On(M):(M=Hr(f)?ta:Pr.current,M=ro(l,M));var Oe=f.getDerivedStateFromProps;(ge=typeof Oe=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(R!==ve||me!==M)&&mb(l,C,g,M),_s=!1,me=l.memoizedState,C.state=me,Bu(l,g,C,y);var Le=l.memoizedState;R!==ve||me!==Le||qr.current||_s?(typeof Oe=="function"&&(Fm(l,f,Oe,g),Le=l.memoizedState),(Q=_s||fb(l,f,Q,g,me,Le,M)||!1)?(ge||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(g,Le,M),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(g,Le,M)),typeof C.componentDidUpdate=="function"&&(l.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof C.componentDidUpdate!="function"||R===a.memoizedProps&&me===a.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||R===a.memoizedProps&&me===a.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=Le),C.props=g,C.state=Le,C.context=M,g=Q):(typeof C.componentDidUpdate!="function"||R===a.memoizedProps&&me===a.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||R===a.memoizedProps&&me===a.memoizedState||(l.flags|=1024),g=!1)}return Wm(a,l,f,g,_,y)}function Wm(a,l,f,g,y,_){_b(a,l);var C=(l.flags&128)!==0;if(!g&&!C)return y&&Ow(l,f,!1),Bi(a,l,_);g=l.stateNode,YT.current=l;var R=C&&typeof f.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,a!==null&&C?(l.child=ao(l,a.child,null,_),l.child=ao(l,null,R,_)):Mr(a,l,R,_),l.memoizedState=g.state,y&&Ow(l,f,!0),l.child}function Nb(a){var l=a.stateNode;l.pendingContext?Cw(a,l.pendingContext,l.pendingContext!==l.context):l.context&&Cw(a,l.context,!1),Em(a,l.containerInfo)}function Eb(a,l,f,g,y){return so(),wm(y),l.flags|=256,Mr(a,l,f,g),l.child}var qm={dehydrated:null,treeContext:null,retryLane:0};function Hm(a){return{baseLanes:a,cachePool:null,transitions:null}}function Cb(a,l,f){var g=l.pendingProps,y=Ut.current,_=!1,C=(l.flags&128)!==0,R;if((R=C)||(R=a!==null&&a.memoizedState===null?!1:(y&2)!==0),R?(_=!0,l.flags&=-129):(a===null||a.memoizedState!==null)&&(y|=1),Ct(Ut,y&1),a===null)return xm(l),a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((l.mode&1)===0?l.lanes=1:a.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(C=g.children,a=g.fallback,_?(g=l.mode,_=l.child,C={mode:"hidden",children:C},(g&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=C):_=cd(C,g,0,null),a=da(a,g,f,null),_.return=l,a.return=l,_.sibling=a,l.child=_,l.child.memoizedState=Hm(f),l.memoizedState=qm,a):Km(l,C));if(y=a.memoizedState,y!==null&&(R=y.dehydrated,R!==null))return GT(a,l,C,g,R,y,f);if(_){_=g.fallback,C=l.mode,y=a.child,R=y.sibling;var M={mode:"hidden",children:g.children};return(C&1)===0&&l.child!==y?(g=l.child,g.childLanes=0,g.pendingProps=M,l.deletions=null):(g=Ps(y,M),g.subtreeFlags=y.subtreeFlags&14680064),R!==null?_=Ps(R,_):(_=da(_,C,f,null),_.flags|=2),_.return=l,g.return=l,g.sibling=_,l.child=g,g=_,_=l.child,C=a.child.memoizedState,C=C===null?Hm(f):{baseLanes:C.baseLanes|f,cachePool:null,transitions:C.transitions},_.memoizedState=C,_.childLanes=a.childLanes&~f,l.memoizedState=qm,g}return _=a.child,a=_.sibling,g=Ps(_,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=f),g.return=l,g.sibling=null,a!==null&&(f=l.deletions,f===null?(l.deletions=[a],l.flags|=16):f.push(a)),l.child=g,l.memoizedState=null,g}function Km(a,l){return l=cd({mode:"visible",children:l},a.mode,0,null),l.return=a,a.child=l}function Ju(a,l,f,g){return g!==null&&wm(g),ao(l,a.child,null,f),a=Km(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function GT(a,l,f,g,y,_,C){if(f)return l.flags&256?(l.flags&=-257,g=Um(Error(r(422))),Ju(a,l,C,g)):l.memoizedState!==null?(l.child=a.child,l.flags|=128,null):(_=g.fallback,y=l.mode,g=cd({mode:"visible",children:g.children},y,0,null),_=da(_,y,C,null),_.flags|=2,g.return=l,_.return=l,g.sibling=_,l.child=g,(l.mode&1)!==0&&ao(l,a.child,null,C),l.child.memoizedState=Hm(C),l.memoizedState=qm,_);if((l.mode&1)===0)return Ju(a,l,C,null);if(y.data==="$!"){if(g=y.nextSibling&&y.nextSibling.dataset,g)var R=g.dgst;return g=R,_=Error(r(419)),g=Um(_,g,void 0),Ju(a,l,C,g)}if(R=(C&a.childLanes)!==0,Kr||R){if(g=ur,g!==null){switch(C&-C){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(g.suspendedLanes|C))!==0?0:y,y!==0&&y!==_.retryLane&&(_.retryLane=y,zi(a,y),ei(g,a,y,-1))}return cp(),g=Um(Error(r(421))),Ju(a,l,C,g)}return y.data==="$?"?(l.flags|=128,l.child=a.child,l=lI.bind(null,a),y._reactRetry=l,null):(a=_.treeContext,an=ws(y.nextSibling),sn=l,Mt=!0,Jn=null,a!==null&&(Cn[An++]=Li,Cn[An++]=Fi,Cn[An++]=ra,Li=a.id,Fi=a.overflow,ra=l),l=Km(l,g.children),l.flags|=4096,l)}function Ab(a,l,f){a.lanes|=l;var g=a.alternate;g!==null&&(g.lanes|=l),_m(a.return,l,f)}function Ym(a,l,f,g,y){var _=a.memoizedState;_===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:y}:(_.isBackwards=l,_.rendering=null,_.renderingStartTime=0,_.last=g,_.tail=f,_.tailMode=y)}function Ob(a,l,f){var g=l.pendingProps,y=g.revealOrder,_=g.tail;if(Mr(a,l,g.children,f),g=Ut.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Ab(a,f,l);else if(a.tag===19)Ab(a,f,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(Ct(Ut,g),(l.mode&1)===0)l.memoizedState=null;else switch(y){case"forwards":for(f=l.child,y=null;f!==null;)a=f.alternate,a!==null&&Vu(a)===null&&(y=f),f=f.sibling;f=y,f===null?(y=l.child,l.child=null):(y=f.sibling,f.sibling=null),Ym(l,!1,y,f,_);break;case"backwards":for(f=null,y=l.child,l.child=null;y!==null;){if(a=y.alternate,a!==null&&Vu(a)===null){l.child=y;break}a=y.sibling,y.sibling=f,f=y,y=a}Ym(l,!0,f,null,_);break;case"together":Ym(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Qu(a,l){(l.mode&1)===0&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function Bi(a,l,f){if(a!==null&&(l.dependencies=a.dependencies),oa|=l.lanes,(f&l.childLanes)===0)return null;if(a!==null&&l.child!==a.child)throw Error(r(153));if(l.child!==null){for(a=l.child,f=Ps(a,a.pendingProps),l.child=f,f.return=l;a.sibling!==null;)a=a.sibling,f=f.sibling=Ps(a,a.pendingProps),f.return=l;f.sibling=null}return l.child}function JT(a,l,f){switch(l.tag){case 3:Nb(l),so();break;case 5:Ww(l);break;case 1:Hr(l.type)&&Iu(l);break;case 4:Em(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,y=l.memoizedProps.value;Ct(Fu,g._currentValue),g._currentValue=y;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(Ct(Ut,Ut.current&1),l.flags|=128,null):(f&l.child.childLanes)!==0?Cb(a,l,f):(Ct(Ut,Ut.current&1),a=Bi(a,l,f),a!==null?a.sibling:null);Ct(Ut,Ut.current&1);break;case 19:if(g=(f&l.childLanes)!==0,(a.flags&128)!==0){if(g)return Ob(a,l,f);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Ct(Ut,Ut.current),g)break;return null;case 22:case 23:return l.lanes=0,jb(a,l,f)}return Bi(a,l,f)}var Pb,Gm,Tb,Ib;Pb=function(a,l){for(var f=l.child;f!==null;){if(f.tag===5||f.tag===6)a.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Gm=function(){},Tb=function(a,l,f,g){var y=a.memoizedProps;if(y!==g){a=l.stateNode,sa(wi.current);var _=null;switch(f){case"input":y=Ke(a,y),g=Ke(a,g),_=[];break;case"select":y=pe({},y,{value:void 0}),g=pe({},g,{value:void 0}),_=[];break;case"textarea":y=O(a,y),g=O(a,g),_=[];break;default:typeof y.onClick!="function"&&typeof g.onClick=="function"&&(a.onclick=Ou)}kn(f,g);var C;f=null;for(Q in y)if(!g.hasOwnProperty(Q)&&y.hasOwnProperty(Q)&&y[Q]!=null)if(Q==="style"){var R=y[Q];for(C in R)R.hasOwnProperty(C)&&(f||(f={}),f[C]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(i.hasOwnProperty(Q)?_||(_=[]):(_=_||[]).push(Q,null));for(Q in g){var M=g[Q];if(R=y!=null?y[Q]:void 0,g.hasOwnProperty(Q)&&M!==R&&(M!=null||R!=null))if(Q==="style")if(R){for(C in R)!R.hasOwnProperty(C)||M&&M.hasOwnProperty(C)||(f||(f={}),f[C]="");for(C in M)M.hasOwnProperty(C)&&R[C]!==M[C]&&(f||(f={}),f[C]=M[C])}else f||(_||(_=[]),_.push(Q,f)),f=M;else Q==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,R=R?R.__html:void 0,M!=null&&R!==M&&(_=_||[]).push(Q,M)):Q==="children"?typeof M!="string"&&typeof M!="number"||(_=_||[]).push(Q,""+M):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(i.hasOwnProperty(Q)?(M!=null&&Q==="onScroll"&&Tt("scroll",a),_||R===M||(_=[])):(_=_||[]).push(Q,M))}f&&(_=_||[]).push("style",f);var Q=_;(l.updateQueue=Q)&&(l.flags|=4)}},Ib=function(a,l,f,g){f!==g&&(l.flags|=4)};function ql(a,l){if(!Mt)switch(a.tailMode){case"hidden":l=a.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?a.tail=null:f.sibling=null;break;case"collapsed":f=a.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function Ir(a){var l=a.alternate!==null&&a.alternate.child===a.child,f=0,g=0;if(l)for(var y=a.child;y!==null;)f|=y.lanes|y.childLanes,g|=y.subtreeFlags&14680064,g|=y.flags&14680064,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)f|=y.lanes|y.childLanes,g|=y.subtreeFlags,g|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=g,a.childLanes=f,l}function QT(a,l,f){var g=l.pendingProps;switch(vm(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ir(l),null;case 1:return Hr(l.type)&&Tu(),Ir(l),null;case 3:return g=l.stateNode,co(),It(qr),It(Pr),Om(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(a===null||a.child===null)&&(Mu(l)?l.flags|=4:a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Jn!==null&&(ap(Jn),Jn=null))),Gm(a,l),Ir(l),null;case 5:Cm(l);var y=sa(zl.current);if(f=l.type,a!==null&&l.stateNode!=null)Tb(a,l,f,g,y),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(r(166));return Ir(l),null}if(a=sa(wi.current),Mu(l)){g=l.stateNode,f=l.type;var _=l.memoizedProps;switch(g[xi]=l,g[Dl]=_,a=(l.mode&1)!==0,f){case"dialog":Tt("cancel",g),Tt("close",g);break;case"iframe":case"object":case"embed":Tt("load",g);break;case"video":case"audio":for(y=0;y<Tl.length;y++)Tt(Tl[y],g);break;case"source":Tt("error",g);break;case"img":case"image":case"link":Tt("error",g),Tt("load",g);break;case"details":Tt("toggle",g);break;case"input":nt(g,_),Tt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!_.multiple},Tt("invalid",g);break;case"textarea":z(g,_),Tt("invalid",g)}kn(f,_),y=null;for(var C in _)if(_.hasOwnProperty(C)){var R=_[C];C==="children"?typeof R=="string"?g.textContent!==R&&(_.suppressHydrationWarning!==!0&&Au(g.textContent,R,a),y=["children",R]):typeof R=="number"&&g.textContent!==""+R&&(_.suppressHydrationWarning!==!0&&Au(g.textContent,R,a),y=["children",""+R]):i.hasOwnProperty(C)&&R!=null&&C==="onScroll"&&Tt("scroll",g)}switch(f){case"input":$e(g),Me(g,_,!0);break;case"textarea":$e(g),le(g);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(g.onclick=Ou)}g=y,l.updateQueue=g,g!==null&&(l.flags|=4)}else{C=y.nodeType===9?y:y.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=fe(f)),a==="http://www.w3.org/1999/xhtml"?f==="script"?(a=C.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof g.is=="string"?a=C.createElement(f,{is:g.is}):(a=C.createElement(f),f==="select"&&(C=a,g.multiple?C.multiple=!0:g.size&&(C.size=g.size))):a=C.createElementNS(a,f),a[xi]=l,a[Dl]=g,Pb(a,l,!1,!1),l.stateNode=a;e:{switch(C=Hn(f,g),f){case"dialog":Tt("cancel",a),Tt("close",a),y=g;break;case"iframe":case"object":case"embed":Tt("load",a),y=g;break;case"video":case"audio":for(y=0;y<Tl.length;y++)Tt(Tl[y],a);y=g;break;case"source":Tt("error",a),y=g;break;case"img":case"image":case"link":Tt("error",a),Tt("load",a),y=g;break;case"details":Tt("toggle",a),y=g;break;case"input":nt(a,g),y=Ke(a,g),Tt("invalid",a);break;case"option":y=g;break;case"select":a._wrapperState={wasMultiple:!!g.multiple},y=pe({},g,{value:void 0}),Tt("invalid",a);break;case"textarea":z(a,g),y=O(a,g),Tt("invalid",a);break;default:y=g}kn(f,y),R=y;for(_ in R)if(R.hasOwnProperty(_)){var M=R[_];_==="style"?_n(a,M):_==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&Fe(a,M)):_==="children"?typeof M=="string"?(f!=="textarea"||M!=="")&&ot(a,M):typeof M=="number"&&ot(a,""+M):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(i.hasOwnProperty(_)?M!=null&&_==="onScroll"&&Tt("scroll",a):M!=null&&N(a,_,M,C))}switch(f){case"input":$e(a),Me(a,g,!1);break;case"textarea":$e(a),le(a);break;case"option":g.value!=null&&a.setAttribute("value",""+ye(g.value));break;case"select":a.multiple=!!g.multiple,_=g.value,_!=null?ce(a,!!g.multiple,_,!1):g.defaultValue!=null&&ce(a,!!g.multiple,g.defaultValue,!0);break;default:typeof y.onClick=="function"&&(a.onclick=Ou)}switch(f){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Ir(l),null;case 6:if(a&&l.stateNode!=null)Ib(a,l,a.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(r(166));if(f=sa(zl.current),sa(wi.current),Mu(l)){if(g=l.stateNode,f=l.memoizedProps,g[xi]=l,(_=g.nodeValue!==f)&&(a=sn,a!==null))switch(a.tag){case 3:Au(g.nodeValue,f,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Au(g.nodeValue,f,(a.mode&1)!==0)}_&&(l.flags|=4)}else g=(f.nodeType===9?f:f.ownerDocument).createTextNode(g),g[xi]=l,l.stateNode=g}return Ir(l),null;case 13:if(It(Ut),g=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Mt&&an!==null&&(l.mode&1)!==0&&(l.flags&128)===0)$w(),so(),l.flags|=98560,_=!1;else if(_=Mu(l),g!==null&&g.dehydrated!==null){if(a===null){if(!_)throw Error(r(318));if(_=l.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[xi]=l}else so(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ir(l),_=!1}else Jn!==null&&(ap(Jn),Jn=null),_=!0;if(!_)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=f,l):(g=g!==null,g!==(a!==null&&a.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(a===null||(Ut.current&1)!==0?nr===0&&(nr=3):cp())),l.updateQueue!==null&&(l.flags|=4),Ir(l),null);case 4:return co(),Gm(a,l),a===null&&Il(l.stateNode.containerInfo),Ir(l),null;case 10:return jm(l.type._context),Ir(l),null;case 17:return Hr(l.type)&&Tu(),Ir(l),null;case 19:if(It(Ut),_=l.memoizedState,_===null)return Ir(l),null;if(g=(l.flags&128)!==0,C=_.rendering,C===null)if(g)ql(_,!1);else{if(nr!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(C=Vu(a),C!==null){for(l.flags|=128,ql(_,!1),g=C.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=f,f=l.child;f!==null;)_=f,a=g,_.flags&=14680066,C=_.alternate,C===null?(_.childLanes=0,_.lanes=a,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=C.childLanes,_.lanes=C.lanes,_.child=C.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=C.memoizedProps,_.memoizedState=C.memoizedState,_.updateQueue=C.updateQueue,_.type=C.type,a=C.dependencies,_.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),f=f.sibling;return Ct(Ut,Ut.current&1|2),l.child}a=a.sibling}_.tail!==null&&xt()>mo&&(l.flags|=128,g=!0,ql(_,!1),l.lanes=4194304)}else{if(!g)if(a=Vu(C),a!==null){if(l.flags|=128,g=!0,f=a.updateQueue,f!==null&&(l.updateQueue=f,l.flags|=4),ql(_,!0),_.tail===null&&_.tailMode==="hidden"&&!C.alternate&&!Mt)return Ir(l),null}else 2*xt()-_.renderingStartTime>mo&&f!==1073741824&&(l.flags|=128,g=!0,ql(_,!1),l.lanes=4194304);_.isBackwards?(C.sibling=l.child,l.child=C):(f=_.last,f!==null?f.sibling=C:l.child=C,_.last=C)}return _.tail!==null?(l=_.tail,_.rendering=l,_.tail=l.sibling,_.renderingStartTime=xt(),l.sibling=null,f=Ut.current,Ct(Ut,g?f&1|2:f&1),l):(Ir(l),null);case 22:case 23:return lp(),g=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(on&1073741824)!==0&&(Ir(l),l.subtreeFlags&6&&(l.flags|=8192)):Ir(l),null;case 24:return null;case 25:return null}throw Error(r(156,l.tag))}function XT(a,l){switch(vm(l),l.tag){case 1:return Hr(l.type)&&Tu(),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return co(),It(qr),It(Pr),Om(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 5:return Cm(l),null;case 13:if(It(Ut),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(r(340));so()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return It(Ut),null;case 4:return co(),null;case 10:return jm(l.type._context),null;case 22:case 23:return lp(),null;case 24:return null;default:return null}}var Xu=!1,Rr=!1,ZT=typeof WeakSet=="function"?WeakSet:Set,Re=null;function fo(a,l){var f=a.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(g){Vt(a,l,g)}else f.current=null}function Jm(a,l,f){try{f()}catch(g){Vt(a,l,g)}}var Rb=!1;function eI(a,l){if(lm=yu,a=fw(),em(a)){if("selectionStart"in a)var f={start:a.selectionStart,end:a.selectionEnd};else e:{f=(f=a.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var y=g.anchorOffset,_=g.focusNode;g=g.focusOffset;try{f.nodeType,_.nodeType}catch{f=null;break e}var C=0,R=-1,M=-1,Q=0,ge=0,ve=a,me=null;t:for(;;){for(var Oe;ve!==f||y!==0&&ve.nodeType!==3||(R=C+y),ve!==_||g!==0&&ve.nodeType!==3||(M=C+g),ve.nodeType===3&&(C+=ve.nodeValue.length),(Oe=ve.firstChild)!==null;)me=ve,ve=Oe;for(;;){if(ve===a)break t;if(me===f&&++Q===y&&(R=C),me===_&&++ge===g&&(M=C),(Oe=ve.nextSibling)!==null)break;ve=me,me=ve.parentNode}ve=Oe}f=R===-1||M===-1?null:{start:R,end:M}}else f=null}f=f||{start:0,end:0}}else f=null;for(cm={focusedElem:a,selectionRange:f},yu=!1,Re=l;Re!==null;)if(l=Re,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,Re=a;else for(;Re!==null;){l=Re;try{var Le=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Le!==null){var Be=Le.memoizedProps,Wt=Le.memoizedState,H=l.stateNode,U=H.getSnapshotBeforeUpdate(l.elementType===l.type?Be:Qn(l.type,Be),Wt);H.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var G=l.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Se){Vt(l,l.return,Se)}if(a=l.sibling,a!==null){a.return=l.return,Re=a;break}Re=l.return}return Le=Rb,Rb=!1,Le}function Hl(a,l,f){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var y=g=g.next;do{if((y.tag&a)===a){var _=y.destroy;y.destroy=void 0,_!==void 0&&Jm(l,f,_)}y=y.next}while(y!==g)}}function Zu(a,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var f=l=l.next;do{if((f.tag&a)===a){var g=f.create;f.destroy=g()}f=f.next}while(f!==l)}}function Qm(a){var l=a.ref;if(l!==null){var f=a.stateNode;switch(a.tag){case 5:a=f;break;default:a=f}typeof l=="function"?l(a):l.current=a}}function Db(a){var l=a.alternate;l!==null&&(a.alternate=null,Db(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&(delete l[xi],delete l[Dl],delete l[hm],delete l[$T],delete l[MT])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function $b(a){return a.tag===5||a.tag===3||a.tag===4}function Mb(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||$b(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Xm(a,l,f){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?f.nodeType===8?f.parentNode.insertBefore(a,l):f.insertBefore(a,l):(f.nodeType===8?(l=f.parentNode,l.insertBefore(a,f)):(l=f,l.appendChild(a)),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=Ou));else if(g!==4&&(a=a.child,a!==null))for(Xm(a,l,f),a=a.sibling;a!==null;)Xm(a,l,f),a=a.sibling}function Zm(a,l,f){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?f.insertBefore(a,l):f.appendChild(a);else if(g!==4&&(a=a.child,a!==null))for(Zm(a,l,f),a=a.sibling;a!==null;)Zm(a,l,f),a=a.sibling}var br=null,Xn=!1;function Ns(a,l,f){for(f=f.child;f!==null;)Lb(a,l,f),f=f.sibling}function Lb(a,l,f){if(yi&&typeof yi.onCommitFiberUnmount=="function")try{yi.onCommitFiberUnmount(fu,f)}catch{}switch(f.tag){case 5:Rr||fo(f,l);case 6:var g=br,y=Xn;br=null,Ns(a,l,f),br=g,Xn=y,br!==null&&(Xn?(a=br,f=f.stateNode,a.nodeType===8?a.parentNode.removeChild(f):a.removeChild(f)):br.removeChild(f.stateNode));break;case 18:br!==null&&(Xn?(a=br,f=f.stateNode,a.nodeType===8?fm(a.parentNode,f):a.nodeType===1&&fm(a,f),_l(a)):fm(br,f.stateNode));break;case 4:g=br,y=Xn,br=f.stateNode.containerInfo,Xn=!0,Ns(a,l,f),br=g,Xn=y;break;case 0:case 11:case 14:case 15:if(!Rr&&(g=f.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){y=g=g.next;do{var _=y,C=_.destroy;_=_.tag,C!==void 0&&((_&2)!==0||(_&4)!==0)&&Jm(f,l,C),y=y.next}while(y!==g)}Ns(a,l,f);break;case 1:if(!Rr&&(fo(f,l),g=f.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=f.memoizedProps,g.state=f.memoizedState,g.componentWillUnmount()}catch(R){Vt(f,l,R)}Ns(a,l,f);break;case 21:Ns(a,l,f);break;case 22:f.mode&1?(Rr=(g=Rr)||f.memoizedState!==null,Ns(a,l,f),Rr=g):Ns(a,l,f);break;default:Ns(a,l,f)}}function Fb(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var f=a.stateNode;f===null&&(f=a.stateNode=new ZT),l.forEach(function(g){var y=cI.bind(null,a,g);f.has(g)||(f.add(g),g.then(y,y))})}}function Zn(a,l){var f=l.deletions;if(f!==null)for(var g=0;g<f.length;g++){var y=f[g];try{var _=a,C=l,R=C;e:for(;R!==null;){switch(R.tag){case 5:br=R.stateNode,Xn=!1;break e;case 3:br=R.stateNode.containerInfo,Xn=!0;break e;case 4:br=R.stateNode.containerInfo,Xn=!0;break e}R=R.return}if(br===null)throw Error(r(160));Lb(_,C,y),br=null,Xn=!1;var M=y.alternate;M!==null&&(M.return=null),y.return=null}catch(Q){Vt(y,l,Q)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)zb(l,a),l=l.sibling}function zb(a,l){var f=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Zn(l,a),Si(a),g&4){try{Hl(3,a,a.return),Zu(3,a)}catch(Be){Vt(a,a.return,Be)}try{Hl(5,a,a.return)}catch(Be){Vt(a,a.return,Be)}}break;case 1:Zn(l,a),Si(a),g&512&&f!==null&&fo(f,f.return);break;case 5:if(Zn(l,a),Si(a),g&512&&f!==null&&fo(f,f.return),a.flags&32){var y=a.stateNode;try{ot(y,"")}catch(Be){Vt(a,a.return,Be)}}if(g&4&&(y=a.stateNode,y!=null)){var _=a.memoizedProps,C=f!==null?f.memoizedProps:_,R=a.type,M=a.updateQueue;if(a.updateQueue=null,M!==null)try{R==="input"&&_.type==="radio"&&_.name!=null&&at(y,_),Hn(R,C);var Q=Hn(R,_);for(C=0;C<M.length;C+=2){var ge=M[C],ve=M[C+1];ge==="style"?_n(y,ve):ge==="dangerouslySetInnerHTML"?Fe(y,ve):ge==="children"?ot(y,ve):N(y,ge,ve,Q)}switch(R){case"input":de(y,_);break;case"textarea":Y(y,_);break;case"select":var me=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!_.multiple;var Oe=_.value;Oe!=null?ce(y,!!_.multiple,Oe,!1):me!==!!_.multiple&&(_.defaultValue!=null?ce(y,!!_.multiple,_.defaultValue,!0):ce(y,!!_.multiple,_.multiple?[]:"",!1))}y[Dl]=_}catch(Be){Vt(a,a.return,Be)}}break;case 6:if(Zn(l,a),Si(a),g&4){if(a.stateNode===null)throw Error(r(162));y=a.stateNode,_=a.memoizedProps;try{y.nodeValue=_}catch(Be){Vt(a,a.return,Be)}}break;case 3:if(Zn(l,a),Si(a),g&4&&f!==null&&f.memoizedState.isDehydrated)try{_l(l.containerInfo)}catch(Be){Vt(a,a.return,Be)}break;case 4:Zn(l,a),Si(a);break;case 13:Zn(l,a),Si(a),y=a.child,y.flags&8192&&(_=y.memoizedState!==null,y.stateNode.isHidden=_,!_||y.alternate!==null&&y.alternate.memoizedState!==null||(rp=xt())),g&4&&Fb(a);break;case 22:if(ge=f!==null&&f.memoizedState!==null,a.mode&1?(Rr=(Q=Rr)||ge,Zn(l,a),Rr=Q):Zn(l,a),Si(a),g&8192){if(Q=a.memoizedState!==null,(a.stateNode.isHidden=Q)&&!ge&&(a.mode&1)!==0)for(Re=a,ge=a.child;ge!==null;){for(ve=Re=ge;Re!==null;){switch(me=Re,Oe=me.child,me.tag){case 0:case 11:case 14:case 15:Hl(4,me,me.return);break;case 1:fo(me,me.return);var Le=me.stateNode;if(typeof Le.componentWillUnmount=="function"){g=me,f=me.return;try{l=g,Le.props=l.memoizedProps,Le.state=l.memoizedState,Le.componentWillUnmount()}catch(Be){Vt(g,f,Be)}}break;case 5:fo(me,me.return);break;case 22:if(me.memoizedState!==null){Vb(ve);continue}}Oe!==null?(Oe.return=me,Re=Oe):Vb(ve)}ge=ge.sibling}e:for(ge=null,ve=a;;){if(ve.tag===5){if(ge===null){ge=ve;try{y=ve.stateNode,Q?(_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(R=ve.stateNode,M=ve.memoizedProps.style,C=M!=null&&M.hasOwnProperty("display")?M.display:null,R.style.display=qn("display",C))}catch(Be){Vt(a,a.return,Be)}}}else if(ve.tag===6){if(ge===null)try{ve.stateNode.nodeValue=Q?"":ve.memoizedProps}catch(Be){Vt(a,a.return,Be)}}else if((ve.tag!==22&&ve.tag!==23||ve.memoizedState===null||ve===a)&&ve.child!==null){ve.child.return=ve,ve=ve.child;continue}if(ve===a)break e;for(;ve.sibling===null;){if(ve.return===null||ve.return===a)break e;ge===ve&&(ge=null),ve=ve.return}ge===ve&&(ge=null),ve.sibling.return=ve.return,ve=ve.sibling}}break;case 19:Zn(l,a),Si(a),g&4&&Fb(a);break;case 21:break;default:Zn(l,a),Si(a)}}function Si(a){var l=a.flags;if(l&2){try{e:{for(var f=a.return;f!==null;){if($b(f)){var g=f;break e}f=f.return}throw Error(r(160))}switch(g.tag){case 5:var y=g.stateNode;g.flags&32&&(ot(y,""),g.flags&=-33);var _=Mb(a);Zm(a,_,y);break;case 3:case 4:var C=g.stateNode.containerInfo,R=Mb(a);Xm(a,R,C);break;default:throw Error(r(161))}}catch(M){Vt(a,a.return,M)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function tI(a,l,f){Re=a,Ub(a)}function Ub(a,l,f){for(var g=(a.mode&1)!==0;Re!==null;){var y=Re,_=y.child;if(y.tag===22&&g){var C=y.memoizedState!==null||Xu;if(!C){var R=y.alternate,M=R!==null&&R.memoizedState!==null||Rr;R=Xu;var Q=Rr;if(Xu=C,(Rr=M)&&!Q)for(Re=y;Re!==null;)C=Re,M=C.child,C.tag===22&&C.memoizedState!==null?Wb(y):M!==null?(M.return=C,Re=M):Wb(y);for(;_!==null;)Re=_,Ub(_),_=_.sibling;Re=y,Xu=R,Rr=Q}Bb(a)}else(y.subtreeFlags&8772)!==0&&_!==null?(_.return=y,Re=_):Bb(a)}}function Bb(a){for(;Re!==null;){var l=Re;if((l.flags&8772)!==0){var f=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Rr||Zu(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!Rr)if(f===null)g.componentDidMount();else{var y=l.elementType===l.type?f.memoizedProps:Qn(l.type,f.memoizedProps);g.componentDidUpdate(y,f.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var _=l.updateQueue;_!==null&&Vw(l,_,g);break;case 3:var C=l.updateQueue;if(C!==null){if(f=null,l.child!==null)switch(l.child.tag){case 5:f=l.child.stateNode;break;case 1:f=l.child.stateNode}Vw(l,C,f)}break;case 5:var R=l.stateNode;if(f===null&&l.flags&4){f=R;var M=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&f.focus();break;case"img":M.src&&(f.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Q=l.alternate;if(Q!==null){var ge=Q.memoizedState;if(ge!==null){var ve=ge.dehydrated;ve!==null&&_l(ve)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Rr||l.flags&512&&Qm(l)}catch(me){Vt(l,l.return,me)}}if(l===a){Re=null;break}if(f=l.sibling,f!==null){f.return=l.return,Re=f;break}Re=l.return}}function Vb(a){for(;Re!==null;){var l=Re;if(l===a){Re=null;break}var f=l.sibling;if(f!==null){f.return=l.return,Re=f;break}Re=l.return}}function Wb(a){for(;Re!==null;){var l=Re;try{switch(l.tag){case 0:case 11:case 15:var f=l.return;try{Zu(4,l)}catch(M){Vt(l,f,M)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var y=l.return;try{g.componentDidMount()}catch(M){Vt(l,y,M)}}var _=l.return;try{Qm(l)}catch(M){Vt(l,_,M)}break;case 5:var C=l.return;try{Qm(l)}catch(M){Vt(l,C,M)}}}catch(M){Vt(l,l.return,M)}if(l===a){Re=null;break}var R=l.sibling;if(R!==null){R.return=l.return,Re=R;break}Re=l.return}}var rI=Math.ceil,ed=A.ReactCurrentDispatcher,ep=A.ReactCurrentOwner,Tn=A.ReactCurrentBatchConfig,ft=0,ur=null,Gt=null,Sr=0,on=0,ho=bs(0),nr=0,Kl=null,oa=0,td=0,tp=0,Yl=null,Yr=null,rp=0,mo=1/0,Vi=null,rd=!1,np=null,Es=null,nd=!1,Cs=null,id=0,Gl=0,ip=null,sd=-1,ad=0;function Lr(){return(ft&6)!==0?xt():sd!==-1?sd:sd=xt()}function As(a){return(a.mode&1)===0?1:(ft&2)!==0&&Sr!==0?Sr&-Sr:FT.transition!==null?(ad===0&&(ad=Mx()),ad):(a=St,a!==0||(a=window.event,a=a===void 0?16:Hx(a.type)),a)}function ei(a,l,f,g){if(50<Gl)throw Gl=0,ip=null,Error(r(185));xl(a,f,g),((ft&2)===0||a!==ur)&&(a===ur&&((ft&2)===0&&(td|=f),nr===4&&Os(a,Sr)),Gr(a,g),f===1&&ft===0&&(l.mode&1)===0&&(mo=xt()+500,Ru&&js()))}function Gr(a,l){var f=a.callbackNode;FP(a,l);var g=pu(a,a===ur?Sr:0);if(g===0)f!==null&&vi(f),a.callbackNode=null,a.callbackPriority=0;else if(l=g&-g,a.callbackPriority!==l){if(f!=null&&vi(f),l===1)a.tag===0?LT(Hb.bind(null,a)):Pw(Hb.bind(null,a)),RT(function(){(ft&6)===0&&js()}),f=null;else{switch(Lx(g)){case 1:f=vl;break;case 4:f=Dx;break;case 16:f=du;break;case 536870912:f=$x;break;default:f=du}f=e1(f,qb.bind(null,a))}a.callbackPriority=l,a.callbackNode=f}}function qb(a,l){if(sd=-1,ad=0,(ft&6)!==0)throw Error(r(327));var f=a.callbackNode;if(po()&&a.callbackNode!==f)return null;var g=pu(a,a===ur?Sr:0);if(g===0)return null;if((g&30)!==0||(g&a.expiredLanes)!==0||l)l=od(a,g);else{l=g;var y=ft;ft|=2;var _=Yb();(ur!==a||Sr!==l)&&(Vi=null,mo=xt()+500,ca(a,l));do try{sI();break}catch(R){Kb(a,R)}while(!0);Sm(),ed.current=_,ft=y,Gt!==null?l=0:(ur=null,Sr=0,l=nr)}if(l!==0){if(l===2&&(y=Lh(a),y!==0&&(g=y,l=sp(a,y))),l===1)throw f=Kl,ca(a,0),Os(a,g),Gr(a,xt()),f;if(l===6)Os(a,g);else{if(y=a.current.alternate,(g&30)===0&&!nI(y)&&(l=od(a,g),l===2&&(_=Lh(a),_!==0&&(g=_,l=sp(a,_))),l===1))throw f=Kl,ca(a,0),Os(a,g),Gr(a,xt()),f;switch(a.finishedWork=y,a.finishedLanes=g,l){case 0:case 1:throw Error(r(345));case 2:ua(a,Yr,Vi);break;case 3:if(Os(a,g),(g&130023424)===g&&(l=rp+500-xt(),10<l)){if(pu(a,0)!==0)break;if(y=a.suspendedLanes,(y&g)!==g){Lr(),a.pingedLanes|=a.suspendedLanes&y;break}a.timeoutHandle=dm(ua.bind(null,a,Yr,Vi),l);break}ua(a,Yr,Vi);break;case 4:if(Os(a,g),(g&4194240)===g)break;for(l=a.eventTimes,y=-1;0<g;){var C=31-Yn(g);_=1<<C,C=l[C],C>y&&(y=C),g&=~_}if(g=y,g=xt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*rI(g/1960))-g,10<g){a.timeoutHandle=dm(ua.bind(null,a,Yr,Vi),g);break}ua(a,Yr,Vi);break;case 5:ua(a,Yr,Vi);break;default:throw Error(r(329))}}}return Gr(a,xt()),a.callbackNode===f?qb.bind(null,a):null}function sp(a,l){var f=Yl;return a.current.memoizedState.isDehydrated&&(ca(a,l).flags|=256),a=od(a,l),a!==2&&(l=Yr,Yr=f,l!==null&&ap(l)),a}function ap(a){Yr===null?Yr=a:Yr.push.apply(Yr,a)}function nI(a){for(var l=a;;){if(l.flags&16384){var f=l.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var g=0;g<f.length;g++){var y=f[g],_=y.getSnapshot;y=y.value;try{if(!Gn(_(),y))return!1}catch{return!1}}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Os(a,l){for(l&=~tp,l&=~td,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var f=31-Yn(l),g=1<<f;a[f]=-1,l&=~g}}function Hb(a){if((ft&6)!==0)throw Error(r(327));po();var l=pu(a,0);if((l&1)===0)return Gr(a,xt()),null;var f=od(a,l);if(a.tag!==0&&f===2){var g=Lh(a);g!==0&&(l=g,f=sp(a,g))}if(f===1)throw f=Kl,ca(a,0),Os(a,l),Gr(a,xt()),f;if(f===6)throw Error(r(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,ua(a,Yr,Vi),Gr(a,xt()),null}function op(a,l){var f=ft;ft|=1;try{return a(l)}finally{ft=f,ft===0&&(mo=xt()+500,Ru&&js())}}function la(a){Cs!==null&&Cs.tag===0&&(ft&6)===0&&po();var l=ft;ft|=1;var f=Tn.transition,g=St;try{if(Tn.transition=null,St=1,a)return a()}finally{St=g,Tn.transition=f,ft=l,(ft&6)===0&&js()}}function lp(){on=ho.current,It(ho)}function ca(a,l){a.finishedWork=null,a.finishedLanes=0;var f=a.timeoutHandle;if(f!==-1&&(a.timeoutHandle=-1,IT(f)),Gt!==null)for(f=Gt.return;f!==null;){var g=f;switch(vm(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Tu();break;case 3:co(),It(qr),It(Pr),Om();break;case 5:Cm(g);break;case 4:co();break;case 13:It(Ut);break;case 19:It(Ut);break;case 10:jm(g.type._context);break;case 22:case 23:lp()}f=f.return}if(ur=a,Gt=a=Ps(a.current,null),Sr=on=l,nr=0,Kl=null,tp=td=oa=0,Yr=Yl=null,ia!==null){for(l=0;l<ia.length;l++)if(f=ia[l],g=f.interleaved,g!==null){f.interleaved=null;var y=g.next,_=f.pending;if(_!==null){var C=_.next;_.next=y,g.next=C}f.pending=g}ia=null}return a}function Kb(a,l){do{var f=Gt;try{if(Sm(),Wu.current=Yu,qu){for(var g=Bt.memoizedState;g!==null;){var y=g.queue;y!==null&&(y.pending=null),g=g.next}qu=!1}if(aa=0,cr=rr=Bt=null,Ul=!1,Bl=0,ep.current=null,f===null||f.return===null){nr=1,Kl=l,Gt=null;break}e:{var _=a,C=f.return,R=f,M=l;if(l=Sr,R.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var Q=M,ge=R,ve=ge.tag;if((ge.mode&1)===0&&(ve===0||ve===11||ve===15)){var me=ge.alternate;me?(ge.updateQueue=me.updateQueue,ge.memoizedState=me.memoizedState,ge.lanes=me.lanes):(ge.updateQueue=null,ge.memoizedState=null)}var Oe=yb(C);if(Oe!==null){Oe.flags&=-257,xb(Oe,C,R,_,l),Oe.mode&1&&vb(_,Q,l),l=Oe,M=Q;var Le=l.updateQueue;if(Le===null){var Be=new Set;Be.add(M),l.updateQueue=Be}else Le.add(M);break e}else{if((l&1)===0){vb(_,Q,l),cp();break e}M=Error(r(426))}}else if(Mt&&R.mode&1){var Wt=yb(C);if(Wt!==null){(Wt.flags&65536)===0&&(Wt.flags|=256),xb(Wt,C,R,_,l),wm(uo(M,R));break e}}_=M=uo(M,R),nr!==4&&(nr=2),Yl===null?Yl=[_]:Yl.push(_),_=C;do{switch(_.tag){case 3:_.flags|=65536,l&=-l,_.lanes|=l;var H=pb(_,M,l);Bw(_,H);break e;case 1:R=M;var U=_.type,G=_.stateNode;if((_.flags&128)===0&&(typeof U.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(Es===null||!Es.has(G)))){_.flags|=65536,l&=-l,_.lanes|=l;var Se=gb(_,R,l);Bw(_,Se);break e}}_=_.return}while(_!==null)}Jb(f)}catch(Ve){l=Ve,Gt===f&&f!==null&&(Gt=f=f.return);continue}break}while(!0)}function Yb(){var a=ed.current;return ed.current=Yu,a===null?Yu:a}function cp(){(nr===0||nr===3||nr===2)&&(nr=4),ur===null||(oa&268435455)===0&&(td&268435455)===0||Os(ur,Sr)}function od(a,l){var f=ft;ft|=2;var g=Yb();(ur!==a||Sr!==l)&&(Vi=null,ca(a,l));do try{iI();break}catch(y){Kb(a,y)}while(!0);if(Sm(),ft=f,ed.current=g,Gt!==null)throw Error(r(261));return ur=null,Sr=0,nr}function iI(){for(;Gt!==null;)Gb(Gt)}function sI(){for(;Gt!==null&&!gl();)Gb(Gt)}function Gb(a){var l=Zb(a.alternate,a,on);a.memoizedProps=a.pendingProps,l===null?Jb(a):Gt=l,ep.current=null}function Jb(a){var l=a;do{var f=l.alternate;if(a=l.return,(l.flags&32768)===0){if(f=QT(f,l,on),f!==null){Gt=f;return}}else{if(f=XT(f,l),f!==null){f.flags&=32767,Gt=f;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{nr=6,Gt=null;return}}if(l=l.sibling,l!==null){Gt=l;return}Gt=l=a}while(l!==null);nr===0&&(nr=5)}function ua(a,l,f){var g=St,y=Tn.transition;try{Tn.transition=null,St=1,aI(a,l,f,g)}finally{Tn.transition=y,St=g}return null}function aI(a,l,f,g){do po();while(Cs!==null);if((ft&6)!==0)throw Error(r(327));f=a.finishedWork;var y=a.finishedLanes;if(f===null)return null;if(a.finishedWork=null,a.finishedLanes=0,f===a.current)throw Error(r(177));a.callbackNode=null,a.callbackPriority=0;var _=f.lanes|f.childLanes;if(zP(a,_),a===ur&&(Gt=ur=null,Sr=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||nd||(nd=!0,e1(du,function(){return po(),null})),_=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||_){_=Tn.transition,Tn.transition=null;var C=St;St=1;var R=ft;ft|=4,ep.current=null,eI(a,f),zb(f,a),NT(cm),yu=!!lm,cm=lm=null,a.current=f,tI(f),uu(),ft=R,St=C,Tn.transition=_}else a.current=f;if(nd&&(nd=!1,Cs=a,id=y),_=a.pendingLanes,_===0&&(Es=null),RP(f.stateNode),Gr(a,xt()),l!==null)for(g=a.onRecoverableError,f=0;f<l.length;f++)y=l[f],g(y.value,{componentStack:y.stack,digest:y.digest});if(rd)throw rd=!1,a=np,np=null,a;return(id&1)!==0&&a.tag!==0&&po(),_=a.pendingLanes,(_&1)!==0?a===ip?Gl++:(Gl=0,ip=a):Gl=0,js(),null}function po(){if(Cs!==null){var a=Lx(id),l=Tn.transition,f=St;try{if(Tn.transition=null,St=16>a?16:a,Cs===null)var g=!1;else{if(a=Cs,Cs=null,id=0,(ft&6)!==0)throw Error(r(331));var y=ft;for(ft|=4,Re=a.current;Re!==null;){var _=Re,C=_.child;if((Re.flags&16)!==0){var R=_.deletions;if(R!==null){for(var M=0;M<R.length;M++){var Q=R[M];for(Re=Q;Re!==null;){var ge=Re;switch(ge.tag){case 0:case 11:case 15:Hl(8,ge,_)}var ve=ge.child;if(ve!==null)ve.return=ge,Re=ve;else for(;Re!==null;){ge=Re;var me=ge.sibling,Oe=ge.return;if(Db(ge),ge===Q){Re=null;break}if(me!==null){me.return=Oe,Re=me;break}Re=Oe}}}var Le=_.alternate;if(Le!==null){var Be=Le.child;if(Be!==null){Le.child=null;do{var Wt=Be.sibling;Be.sibling=null,Be=Wt}while(Be!==null)}}Re=_}}if((_.subtreeFlags&2064)!==0&&C!==null)C.return=_,Re=C;else e:for(;Re!==null;){if(_=Re,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Hl(9,_,_.return)}var H=_.sibling;if(H!==null){H.return=_.return,Re=H;break e}Re=_.return}}var U=a.current;for(Re=U;Re!==null;){C=Re;var G=C.child;if((C.subtreeFlags&2064)!==0&&G!==null)G.return=C,Re=G;else e:for(C=U;Re!==null;){if(R=Re,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:Zu(9,R)}}catch(Ve){Vt(R,R.return,Ve)}if(R===C){Re=null;break e}var Se=R.sibling;if(Se!==null){Se.return=R.return,Re=Se;break e}Re=R.return}}if(ft=y,js(),yi&&typeof yi.onPostCommitFiberRoot=="function")try{yi.onPostCommitFiberRoot(fu,a)}catch{}g=!0}return g}finally{St=f,Tn.transition=l}}return!1}function Qb(a,l,f){l=uo(f,l),l=pb(a,l,1),a=ks(a,l,1),l=Lr(),a!==null&&(xl(a,1,l),Gr(a,l))}function Vt(a,l,f){if(a.tag===3)Qb(a,a,f);else for(;l!==null;){if(l.tag===3){Qb(l,a,f);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Es===null||!Es.has(g))){a=uo(f,a),a=gb(l,a,1),l=ks(l,a,1),a=Lr(),l!==null&&(xl(l,1,a),Gr(l,a));break}}l=l.return}}function oI(a,l,f){var g=a.pingCache;g!==null&&g.delete(l),l=Lr(),a.pingedLanes|=a.suspendedLanes&f,ur===a&&(Sr&f)===f&&(nr===4||nr===3&&(Sr&130023424)===Sr&&500>xt()-rp?ca(a,0):tp|=f),Gr(a,l)}function Xb(a,l){l===0&&((a.mode&1)===0?l=1:(l=mu,mu<<=1,(mu&130023424)===0&&(mu=4194304)));var f=Lr();a=zi(a,l),a!==null&&(xl(a,l,f),Gr(a,f))}function lI(a){var l=a.memoizedState,f=0;l!==null&&(f=l.retryLane),Xb(a,f)}function cI(a,l){var f=0;switch(a.tag){case 13:var g=a.stateNode,y=a.memoizedState;y!==null&&(f=y.retryLane);break;case 19:g=a.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(l),Xb(a,f)}var Zb;Zb=function(a,l,f){if(a!==null)if(a.memoizedProps!==l.pendingProps||qr.current)Kr=!0;else{if((a.lanes&f)===0&&(l.flags&128)===0)return Kr=!1,JT(a,l,f);Kr=(a.flags&131072)!==0}else Kr=!1,Mt&&(l.flags&1048576)!==0&&Tw(l,$u,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;Qu(a,l),a=l.pendingProps;var y=ro(l,Pr.current);lo(l,f),y=Im(null,l,g,a,y,f);var _=Rm();return l.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Hr(g)?(_=!0,Iu(l)):_=!1,l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Nm(l),y.updater=Gu,l.stateNode=y,y._reactInternals=l,zm(l,g,a,f),l=Wm(null,l,g,!0,_,f)):(l.tag=0,Mt&&_&&gm(l),Mr(null,l,y,f),l=l.child),l;case 16:g=l.elementType;e:{switch(Qu(a,l),a=l.pendingProps,y=g._init,g=y(g._payload),l.type=g,y=l.tag=dI(g),a=Qn(g,a),y){case 0:l=Vm(null,l,g,a,f);break e;case 1:l=kb(null,l,g,a,f);break e;case 11:l=wb(null,l,g,a,f);break e;case 14:l=bb(null,l,g,Qn(g.type,a),f);break e}throw Error(r(306,g,""))}return l;case 0:return g=l.type,y=l.pendingProps,y=l.elementType===g?y:Qn(g,y),Vm(a,l,g,y,f);case 1:return g=l.type,y=l.pendingProps,y=l.elementType===g?y:Qn(g,y),kb(a,l,g,y,f);case 3:e:{if(Nb(l),a===null)throw Error(r(387));g=l.pendingProps,_=l.memoizedState,y=_.element,Uw(a,l),Bu(l,g,null,f);var C=l.memoizedState;if(g=C.element,_.isDehydrated)if(_={element:g,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},l.updateQueue.baseState=_,l.memoizedState=_,l.flags&256){y=uo(Error(r(423)),l),l=Eb(a,l,g,f,y);break e}else if(g!==y){y=uo(Error(r(424)),l),l=Eb(a,l,g,f,y);break e}else for(an=ws(l.stateNode.containerInfo.firstChild),sn=l,Mt=!0,Jn=null,f=Fw(l,null,g,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(so(),g===y){l=Bi(a,l,f);break e}Mr(a,l,g,f)}l=l.child}return l;case 5:return Ww(l),a===null&&xm(l),g=l.type,y=l.pendingProps,_=a!==null?a.memoizedProps:null,C=y.children,um(g,y)?C=null:_!==null&&um(g,_)&&(l.flags|=32),_b(a,l),Mr(a,l,C,f),l.child;case 6:return a===null&&xm(l),null;case 13:return Cb(a,l,f);case 4:return Em(l,l.stateNode.containerInfo),g=l.pendingProps,a===null?l.child=ao(l,null,g,f):Mr(a,l,g,f),l.child;case 11:return g=l.type,y=l.pendingProps,y=l.elementType===g?y:Qn(g,y),wb(a,l,g,y,f);case 7:return Mr(a,l,l.pendingProps,f),l.child;case 8:return Mr(a,l,l.pendingProps.children,f),l.child;case 12:return Mr(a,l,l.pendingProps.children,f),l.child;case 10:e:{if(g=l.type._context,y=l.pendingProps,_=l.memoizedProps,C=y.value,Ct(Fu,g._currentValue),g._currentValue=C,_!==null)if(Gn(_.value,C)){if(_.children===y.children&&!qr.current){l=Bi(a,l,f);break e}}else for(_=l.child,_!==null&&(_.return=l);_!==null;){var R=_.dependencies;if(R!==null){C=_.child;for(var M=R.firstContext;M!==null;){if(M.context===g){if(_.tag===1){M=Ui(-1,f&-f),M.tag=2;var Q=_.updateQueue;if(Q!==null){Q=Q.shared;var ge=Q.pending;ge===null?M.next=M:(M.next=ge.next,ge.next=M),Q.pending=M}}_.lanes|=f,M=_.alternate,M!==null&&(M.lanes|=f),_m(_.return,f,l),R.lanes|=f;break}M=M.next}}else if(_.tag===10)C=_.type===l.type?null:_.child;else if(_.tag===18){if(C=_.return,C===null)throw Error(r(341));C.lanes|=f,R=C.alternate,R!==null&&(R.lanes|=f),_m(C,f,l),C=_.sibling}else C=_.child;if(C!==null)C.return=_;else for(C=_;C!==null;){if(C===l){C=null;break}if(_=C.sibling,_!==null){_.return=C.return,C=_;break}C=C.return}_=C}Mr(a,l,y.children,f),l=l.child}return l;case 9:return y=l.type,g=l.pendingProps.children,lo(l,f),y=On(y),g=g(y),l.flags|=1,Mr(a,l,g,f),l.child;case 14:return g=l.type,y=Qn(g,l.pendingProps),y=Qn(g.type,y),bb(a,l,g,y,f);case 15:return Sb(a,l,l.type,l.pendingProps,f);case 17:return g=l.type,y=l.pendingProps,y=l.elementType===g?y:Qn(g,y),Qu(a,l),l.tag=1,Hr(g)?(a=!0,Iu(l)):a=!1,lo(l,f),hb(l,g,y),zm(l,g,y,f),Wm(null,l,g,!0,a,f);case 19:return Ob(a,l,f);case 22:return jb(a,l,f)}throw Error(r(156,l.tag))};function e1(a,l){return pl(a,l)}function uI(a,l,f,g){this.tag=a,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(a,l,f,g){return new uI(a,l,f,g)}function up(a){return a=a.prototype,!(!a||!a.isReactComponent)}function dI(a){if(typeof a=="function")return up(a)?1:0;if(a!=null){if(a=a.$$typeof,a===W)return 11;if(a===ae)return 14}return 2}function Ps(a,l){var f=a.alternate;return f===null?(f=In(a.tag,l,a.key,a.mode),f.elementType=a.elementType,f.type=a.type,f.stateNode=a.stateNode,f.alternate=a,a.alternate=f):(f.pendingProps=l,f.type=a.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=a.flags&14680064,f.childLanes=a.childLanes,f.lanes=a.lanes,f.child=a.child,f.memoizedProps=a.memoizedProps,f.memoizedState=a.memoizedState,f.updateQueue=a.updateQueue,l=a.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=a.sibling,f.index=a.index,f.ref=a.ref,f}function ld(a,l,f,g,y,_){var C=2;if(g=a,typeof a=="function")up(a)&&(C=1);else if(typeof a=="string")C=5;else e:switch(a){case L:return da(f.children,y,_,l);case q:C=8,y|=8;break;case B:return a=In(12,f,l,y|2),a.elementType=B,a.lanes=_,a;case te:return a=In(13,f,l,y),a.elementType=te,a.lanes=_,a;case K:return a=In(19,f,l,y),a.elementType=K,a.lanes=_,a;case ke:return cd(f,y,_,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case F:C=10;break e;case V:C=9;break e;case W:C=11;break e;case ae:C=14;break e;case Ne:C=16,g=null;break e}throw Error(r(130,a==null?a:typeof a,""))}return l=In(C,f,l,y),l.elementType=a,l.type=g,l.lanes=_,l}function da(a,l,f,g){return a=In(7,a,g,l),a.lanes=f,a}function cd(a,l,f,g){return a=In(22,a,g,l),a.elementType=ke,a.lanes=f,a.stateNode={isHidden:!1},a}function dp(a,l,f){return a=In(6,a,null,l),a.lanes=f,a}function fp(a,l,f){return l=In(4,a.children!==null?a.children:[],a.key,l),l.lanes=f,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function fI(a,l,f,g,y){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fh(0),this.expirationTimes=Fh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fh(0),this.identifierPrefix=g,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function hp(a,l,f,g,y,_,C,R,M){return a=new fI(a,l,f,R,M),l===1?(l=1,_===!0&&(l|=8)):l=0,_=In(3,null,null,l),a.current=_,_.stateNode=a,_.memoizedState={element:g,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nm(_),a}function hI(a,l,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:g==null?null:""+g,children:a,containerInfo:l,implementation:f}}function t1(a){if(!a)return Ss;a=a._reactInternals;e:{if(He(a)!==a||a.tag!==1)throw Error(r(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Hr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(r(171))}if(a.tag===1){var f=a.type;if(Hr(f))return Aw(a,f,l)}return l}function r1(a,l,f,g,y,_,C,R,M){return a=hp(f,g,!0,a,y,_,C,R,M),a.context=t1(null),f=a.current,g=Lr(),y=As(f),_=Ui(g,y),_.callback=l??null,ks(f,_,y),a.current.lanes=y,xl(a,y,g),Gr(a,g),a}function ud(a,l,f,g){var y=l.current,_=Lr(),C=As(y);return f=t1(f),l.context===null?l.context=f:l.pendingContext=f,l=Ui(_,C),l.payload={element:a},g=g===void 0?null:g,g!==null&&(l.callback=g),a=ks(y,l,C),a!==null&&(ei(a,y,C,_),Uu(a,y,C)),C}function dd(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function n1(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var f=a.retryLane;a.retryLane=f!==0&&f<l?f:l}}function mp(a,l){n1(a,l),(a=a.alternate)&&n1(a,l)}function mI(){return null}var i1=typeof reportError=="function"?reportError:function(a){console.error(a)};function pp(a){this._internalRoot=a}fd.prototype.render=pp.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(r(409));ud(a,l,null,null)},fd.prototype.unmount=pp.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;la(function(){ud(null,a,null,null)}),l[$i]=null}};function fd(a){this._internalRoot=a}fd.prototype.unstable_scheduleHydration=function(a){if(a){var l=Ux();a={blockedOn:null,target:a,priority:l};for(var f=0;f<vs.length&&l!==0&&l<vs[f].priority;f++);vs.splice(f,0,a),f===0&&Wx(a)}};function gp(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function hd(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function s1(){}function pI(a,l,f,g,y){if(y){if(typeof g=="function"){var _=g;g=function(){var Q=dd(C);_.call(Q)}}var C=r1(l,g,a,0,null,!1,!1,"",s1);return a._reactRootContainer=C,a[$i]=C.current,Il(a.nodeType===8?a.parentNode:a),la(),C}for(;y=a.lastChild;)a.removeChild(y);if(typeof g=="function"){var R=g;g=function(){var Q=dd(M);R.call(Q)}}var M=hp(a,0,!1,null,null,!1,!1,"",s1);return a._reactRootContainer=M,a[$i]=M.current,Il(a.nodeType===8?a.parentNode:a),la(function(){ud(l,M,f,g)}),M}function md(a,l,f,g,y){var _=f._reactRootContainer;if(_){var C=_;if(typeof y=="function"){var R=y;y=function(){var M=dd(C);R.call(M)}}ud(l,C,a,y)}else C=pI(f,l,a,y,g);return dd(C)}Fx=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var f=yl(l.pendingLanes);f!==0&&(zh(l,f|1),Gr(l,xt()),(ft&6)===0&&(mo=xt()+500,js()))}break;case 13:la(function(){var g=zi(a,1);if(g!==null){var y=Lr();ei(g,a,1,y)}}),mp(a,1)}},Uh=function(a){if(a.tag===13){var l=zi(a,134217728);if(l!==null){var f=Lr();ei(l,a,134217728,f)}mp(a,134217728)}},zx=function(a){if(a.tag===13){var l=As(a),f=zi(a,l);if(f!==null){var g=Lr();ei(f,a,l,g)}mp(a,l)}},Ux=function(){return St},Bx=function(a,l){var f=St;try{return St=a,l()}finally{St=f}},Nn=function(a,l,f){switch(l){case"input":if(de(a,f),l=f.name,f.type==="radio"&&l!=null){for(f=a;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<f.length;l++){var g=f[l];if(g!==a&&g.form===a.form){var y=Pu(g);if(!y)throw Error(r(90));ie(g),de(g,y)}}}break;case"textarea":Y(a,f);break;case"select":l=f.value,l!=null&&ce(a,!!f.multiple,l,!1)}},Zs=op,Ha=la;var gI={usingClientEntryPoint:!1,Events:[$l,eo,Pu,hs,Xs,op]},Jl={findFiberByHostInstance:ea,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vI={bundleType:Jl.bundleType,version:Jl.version,rendererPackageName:Jl.rendererPackageName,rendererConfig:Jl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=wr(a),a===null?null:a.stateNode},findFiberByHostInstance:Jl.findFiberByHostInstance||mI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pd.isDisabled&&pd.supportsFiber)try{fu=pd.inject(vI),yi=pd}catch{}}return Jr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gI,Jr.createPortal=function(a,l){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gp(l))throw Error(r(200));return hI(a,l,null,f)},Jr.createRoot=function(a,l){if(!gp(a))throw Error(r(299));var f=!1,g="",y=i1;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(y=l.onRecoverableError)),l=hp(a,1,!1,null,null,f,!1,g,y),a[$i]=l.current,Il(a.nodeType===8?a.parentNode:a),new pp(l)},Jr.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=wr(l),a=a===null?null:a.stateNode,a},Jr.flushSync=function(a){return la(a)},Jr.hydrate=function(a,l,f){if(!hd(l))throw Error(r(200));return md(null,a,l,!0,f)},Jr.hydrateRoot=function(a,l,f){if(!gp(a))throw Error(r(405));var g=f!=null&&f.hydratedSources||null,y=!1,_="",C=i1;if(f!=null&&(f.unstable_strictMode===!0&&(y=!0),f.identifierPrefix!==void 0&&(_=f.identifierPrefix),f.onRecoverableError!==void 0&&(C=f.onRecoverableError)),l=r1(l,null,a,1,f??null,y,!1,_,C),a[$i]=l.current,Il(a),g)for(a=0;a<g.length;a++)f=g[a],y=f._getVersion,y=y(f._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[f,y]:l.mutableSourceEagerHydrationData.push(f,y);return new fd(l)},Jr.render=function(a,l,f){if(!hd(l))throw Error(r(200));return md(null,a,l,!1,f)},Jr.unmountComponentAtNode=function(a){if(!hd(a))throw Error(r(40));return a._reactRootContainer?(la(function(){md(null,null,a,!1,function(){a._reactRootContainer=null,a[$i]=null})}),!0):!1},Jr.unstable_batchedUpdates=op,Jr.unstable_renderSubtreeIntoContainer=function(a,l,f,g){if(!hd(f))throw Error(r(200));if(a==null||a._reactInternals===void 0)throw Error(r(38));return md(a,l,f,!1,g)},Jr.version="18.3.1-next-f1338f8080-20240426",Jr}var h1;function MN(){if(h1)return wp.exports;h1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),wp.exports=AI(),wp.exports}var m1;function OI(){if(m1)return gd;m1=1;var e=MN();return gd.createRoot=e.createRoot,gd.hydrateRoot=e.hydrateRoot,gd}var PI=OI();const TI=ui(PI);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var p1="popstate";function II(e={}){function t(n,i){let{pathname:s,search:o,hash:u}=n.location;return _v("",{pathname:s,search:o,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:_c(i)}return DI(t,r,null,e)}function Ft(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function zn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function RI(){return Math.random().toString(36).substring(2,10)}function g1(e,t){return{usr:e.state,key:e.key,idx:t}}function _v(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Xo(t):t,state:r,key:t&&t.key||n||RI()}}function _c({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Xo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function DI(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,u="POP",d=null,m=h();m==null&&(m=0,o.replaceState({...o.state,idx:m},""));function h(){return(o.state||{idx:null}).idx}function p(){u="POP";let j=h(),k=j==null?null:j-m;m=j,d&&d({action:u,location:S.location,delta:k})}function v(j,k){u="PUSH";let E=_v(S.location,j,k);m=h()+1;let N=g1(E,m),A=S.createHref(E);try{o.pushState(N,"",A)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(A)}s&&d&&d({action:u,location:S.location,delta:1})}function x(j,k){u="REPLACE";let E=_v(S.location,j,k);m=h();let N=g1(E,m),A=S.createHref(E);o.replaceState(N,"",A),s&&d&&d({action:u,location:S.location,delta:0})}function b(j){return $I(j)}let S={get action(){return u},get location(){return e(i,o)},listen(j){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(p1,p),d=j,()=>{i.removeEventListener(p1,p),d=null}},createHref(j){return t(i,j)},createURL:b,encodeLocation(j){let k=b(j);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:v,replace:x,go(j){return o.go(j)}};return S}function $I(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ft(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:_c(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function LN(e,t,r="/"){return MI(e,t,r,!1)}function MI(e,t,r,n){let i=typeof t=="string"?Xo(t):t,s=es(i.pathname||"/",r);if(s==null)return null;let o=FN(e);LI(o);let u=null;for(let d=0;u==null&&d<o.length;++d){let m=GI(s);u=KI(o[d],m,n)}return u}function FN(e,t=[],r=[],n="",i=!1){let s=(o,u,d=i,m)=>{let h={relativePath:m===void 0?o.path||"":m,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(n)&&d)return;Ft(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length)}let p=Qi([n,h.relativePath]),v=r.concat(h);o.children&&o.children.length>0&&(Ft(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),FN(o.children,t,v,p,d)),!(o.path==null&&!o.index)&&t.push({path:p,score:qI(p,o.index),routesMeta:v})};return e.forEach((o,u)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))s(o,u);else for(let m of zN(o.path))s(o,u,!0,m)}),t}function zN(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=zN(n.join("/")),u=[];return u.push(...o.map(d=>d===""?s:[s,d].join("/"))),i&&u.push(...o),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function LI(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:HI(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var FI=/^:[\w-]+$/,zI=3,UI=2,BI=1,VI=10,WI=-2,v1=e=>e==="*";function qI(e,t){let r=e.split("/"),n=r.length;return r.some(v1)&&(n+=WI),t&&(n+=UI),r.filter(i=>!v1(i)).reduce((i,s)=>i+(FI.test(s)?zI:s===""?BI:VI),n)}function HI(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function KI(e,t,r=!1){let{routesMeta:n}=e,i={},s="/",o=[];for(let u=0;u<n.length;++u){let d=n[u],m=u===n.length-1,h=s==="/"?t:t.slice(s.length)||"/",p=Qd({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},h),v=d.route;if(!p&&m&&r&&!n[n.length-1].route.index&&(p=Qd({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Qi([s,p.pathname]),pathnameBase:ZI(Qi([s,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(s=Qi([s,p.pathnameBase]))}return o}function Qd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=YI(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((m,{paramName:h,isOptional:p},v)=>{if(h==="*"){let b=u[v]||"";o=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const x=u[v];return p&&!x?m[h]=void 0:m[h]=(x||"").replace(/%2F/g,"/"),m},{}),pathname:s,pathnameBase:o,pattern:e}}function YI(e,t=!1,r=!0){zn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function GI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return zn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function es(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function JI(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Xo(e):e;return{pathname:r?r.startsWith("/")?r:QI(r,t):t,search:e4(n),hash:t4(i)}}function QI(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function jp(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XI(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ly(e){let t=XI(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Fy(e,t,r,n=!1){let i;typeof e=="string"?i=Xo(e):(i={...e},Ft(!i.pathname||!i.pathname.includes("?"),jp("?","pathname","search",i)),Ft(!i.pathname||!i.pathname.includes("#"),jp("#","pathname","hash",i)),Ft(!i.search||!i.search.includes("#"),jp("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,u;if(o==null)u=r;else{let p=t.length-1;if(!n&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),p-=1;i.pathname=v.join("/")}u=p>=0?t[p]:"/"}let d=JI(i,u),m=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(m||h)&&(d.pathname+="/"),d}var Qi=e=>e.join("/").replace(/\/\/+/g,"/"),ZI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),e4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,t4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function r4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var UN=["POST","PUT","PATCH","DELETE"];new Set(UN);var n4=["GET",...UN];new Set(n4);var Zo=w.createContext(null);Zo.displayName="DataRouter";var Qf=w.createContext(null);Qf.displayName="DataRouterState";w.createContext(!1);var BN=w.createContext({isTransitioning:!1});BN.displayName="ViewTransition";var i4=w.createContext(new Map);i4.displayName="Fetchers";var s4=w.createContext(null);s4.displayName="Await";var di=w.createContext(null);di.displayName="Navigation";var Fc=w.createContext(null);Fc.displayName="Location";var Ii=w.createContext({outlet:null,matches:[],isDataRoute:!1});Ii.displayName="Route";var zy=w.createContext(null);zy.displayName="RouteError";function a4(e,{relative:t}={}){Ft(el(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=w.useContext(di),{hash:i,pathname:s,search:o}=zc(e,{relative:t}),u=s;return r!=="/"&&(u=s==="/"?r:Qi([r,s])),n.createHref({pathname:u,search:o,hash:i})}function el(){return w.useContext(Fc)!=null}function ss(){return Ft(el(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Fc).location}var VN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function WN(e){w.useContext(di).static||w.useLayoutEffect(e)}function Sn(){let{isDataRoute:e}=w.useContext(Ii);return e?x4():o4()}function o4(){Ft(el(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(Zo),{basename:t,navigator:r}=w.useContext(di),{matches:n}=w.useContext(Ii),{pathname:i}=ss(),s=JSON.stringify(Ly(n)),o=w.useRef(!1);return WN(()=>{o.current=!0}),w.useCallback((d,m={})=>{if(zn(o.current,VN),!o.current)return;if(typeof d=="number"){r.go(d);return}let h=Fy(d,JSON.parse(s),i,m.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Qi([t,h.pathname])),(m.replace?r.replace:r.push)(h,m.state,m)},[t,r,s,i,e])}w.createContext(null);function zc(e,{relative:t}={}){let{matches:r}=w.useContext(Ii),{pathname:n}=ss(),i=JSON.stringify(Ly(r));return w.useMemo(()=>Fy(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function l4(e,t){return qN(e,t)}function qN(e,t,r,n,i){var E;Ft(el(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=w.useContext(di),{matches:o}=w.useContext(Ii),u=o[o.length-1],d=u?u.params:{},m=u?u.pathname:"/",h=u?u.pathnameBase:"/",p=u&&u.route;{let N=p&&p.path||"";HN(m,!p||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let v=ss(),x;if(t){let N=typeof t=="string"?Xo(t):t;Ft(h==="/"||((E=N.pathname)==null?void 0:E.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${N.pathname}" was given in the \`location\` prop.`),x=N}else x=v;let b=x.pathname||"/",S=b;if(h!=="/"){let N=h.replace(/^\//,"").split("/");S="/"+b.replace(/^\//,"").split("/").slice(N.length).join("/")}let j=LN(e,{pathname:S});zn(p||j!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),zn(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=h4(j&&j.map(N=>Object.assign({},N,{params:Object.assign({},d,N.params),pathname:Qi([h,s.encodeLocation?s.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?h:Qi([h,s.encodeLocation?s.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),o,r,n,i);return t&&k?w.createElement(Fc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},k):k}function c4(){let e=y4(),t=r4(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:s},"ErrorBoundary")," or"," ",w.createElement("code",{style:s},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:i},r):null,o)}var u4=w.createElement(c4,null),d4=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?w.createElement(Ii.Provider,{value:this.props.routeContext},w.createElement(zy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function f4({routeContext:e,match:t,children:r}){let n=w.useContext(Zo);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(Ii.Provider,{value:e},r)}function h4(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=r==null?void 0:r.errors;if(o!=null){let m=s.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);Ft(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,m+1))}let u=!1,d=-1;if(r)for(let m=0;m<s.length;m++){let h=s[m];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=m),h.route.id){let{loaderData:p,errors:v}=r,x=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||x){u=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((m,h,p)=>{let v,x=!1,b=null,S=null;r&&(v=o&&h.route.id?o[h.route.id]:void 0,b=h.route.errorElement||u4,u&&(d<0&&p===0?(HN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,S=null):d===p&&(x=!0,S=h.route.hydrateFallbackElement||null)));let j=t.concat(s.slice(0,p+1)),k=()=>{let E;return v?E=b:x?E=S:h.route.Component?E=w.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=m,w.createElement(f4,{match:h,routeContext:{outlet:m,matches:j,isDataRoute:r!=null},children:E})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?w.createElement(d4,{location:r.location,revalidation:r.revalidation,component:b,error:v,children:k(),routeContext:{outlet:null,matches:j,isDataRoute:!0},unstable_onError:n}):k()},null)}function Uy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function m4(e){let t=w.useContext(Zo);return Ft(t,Uy(e)),t}function p4(e){let t=w.useContext(Qf);return Ft(t,Uy(e)),t}function g4(e){let t=w.useContext(Ii);return Ft(t,Uy(e)),t}function By(e){let t=g4(e),r=t.matches[t.matches.length-1];return Ft(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function v4(){return By("useRouteId")}function y4(){var n;let e=w.useContext(zy),t=p4("useRouteError"),r=By("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function x4(){let{router:e}=m4("useNavigate"),t=By("useNavigate"),r=w.useRef(!1);return WN(()=>{r.current=!0}),w.useCallback(async(i,s={})=>{zn(r.current,VN),r.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var y1={};function HN(e,t,r){!t&&!y1[e]&&(y1[e]=!0,zn(!1,r))}w.memo(w4);function w4({routes:e,future:t,state:r,unstable_onError:n}){return qN(e,void 0,r,n,t)}function b4({to:e,replace:t,state:r,relative:n}){Ft(el(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=w.useContext(di);zn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=w.useContext(Ii),{pathname:o}=ss(),u=Sn(),d=Fy(e,Ly(s),o,n==="path"),m=JSON.stringify(d);return w.useEffect(()=>{u(JSON.parse(m),{replace:t,state:r,relative:n})},[u,m,n,t,r]),null}function ln(e){Ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function S4({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:s=!1}){Ft(!el(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof r=="string"&&(r=Xo(r));let{pathname:d="/",search:m="",hash:h="",state:p=null,key:v="default"}=r,x=w.useMemo(()=>{let b=es(d,o);return b==null?null:{location:{pathname:b,search:m,hash:h,state:p,key:v},navigationType:n}},[o,d,m,h,p,v,n]);return zn(x!=null,`<Router basename="${o}"> is not able to match the URL "${d}${m}${h}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:w.createElement(di.Provider,{value:u},w.createElement(Fc.Provider,{children:t,value:x}))}function j4({children:e,location:t}){return l4(kv(e),t)}function kv(e,t=[]){let r=[];return w.Children.forEach(e,(n,i)=>{if(!w.isValidElement(n))return;let s=[...t,i];if(n.type===w.Fragment){r.push.apply(r,kv(n.props.children,s));return}Ft(n.type===ln,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ft(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=kv(n.props.children,s)),r.push(o)}),r}var Ud="get",Bd="application/x-www-form-urlencoded";function Xf(e){return e!=null&&typeof e.tagName=="string"}function _4(e){return Xf(e)&&e.tagName.toLowerCase()==="button"}function k4(e){return Xf(e)&&e.tagName.toLowerCase()==="form"}function N4(e){return Xf(e)&&e.tagName.toLowerCase()==="input"}function E4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function C4(e,t){return e.button===0&&(!t||t==="_self")&&!E4(e)}function Nv(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function A4(e,t){let r=Nv(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(s=>{r.append(i,s)})}),r}var vd=null;function O4(){if(vd===null)try{new FormData(document.createElement("form"),0),vd=!1}catch{vd=!0}return vd}var P4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _p(e){return e!=null&&!P4.has(e)?(zn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bd}"`),null):e}function T4(e,t){let r,n,i,s,o;if(k4(e)){let u=e.getAttribute("action");n=u?es(u,t):null,r=e.getAttribute("method")||Ud,i=_p(e.getAttribute("enctype"))||Bd,s=new FormData(e)}else if(_4(e)||N4(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||u.getAttribute("action");if(n=d?es(d,t):null,r=e.getAttribute("formmethod")||u.getAttribute("method")||Ud,i=_p(e.getAttribute("formenctype"))||_p(u.getAttribute("enctype"))||Bd,s=new FormData(u,e),!O4()){let{name:m,type:h,value:p}=e;if(h==="image"){let v=m?`${m}.`:"";s.append(`${v}x`,"0"),s.append(`${v}y`,"0")}else m&&s.append(m,p)}}else{if(Xf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ud,n=null,i=Bd,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function I4(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&es(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function R4(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function D4(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function $4(e,t,r){let n=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await R4(s,r);return o.links?o.links():[]}return[]}));return z4(n.flat(1).filter(D4).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function x1(e,t,r,n,i,s){let o=(d,m)=>r[m]?d.route.id!==r[m].route.id:!0,u=(d,m)=>{var h;return r[m].pathname!==d.pathname||((h=r[m].route.path)==null?void 0:h.endsWith("*"))&&r[m].params["*"]!==d.params["*"]};return s==="assets"?t.filter((d,m)=>o(d,m)||u(d,m)):s==="data"?t.filter((d,m)=>{var p;let h=n.routes[d.route.id];if(!h||!h.hasLoader)return!1;if(o(d,m)||u(d,m))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=r[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function M4(e,t,{includeHydrateFallback:r}={}){return L4(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function L4(e){return[...new Set(e)]}function F4(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function z4(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let s=JSON.stringify(F4(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function KN(){let e=w.useContext(Zo);return Vy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function U4(){let e=w.useContext(Qf);return Vy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Wy=w.createContext(void 0);Wy.displayName="FrameworkContext";function YN(){let e=w.useContext(Wy);return Vy(e,"You must render this element inside a <HydratedRouter> element"),e}function B4(e,t){let r=w.useContext(Wy),[n,i]=w.useState(!1),[s,o]=w.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:m,onMouseLeave:h,onTouchStart:p}=t,v=w.useRef(null);w.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let S=k=>{k.forEach(E=>{o(E.isIntersecting)})},j=new IntersectionObserver(S,{threshold:.5});return v.current&&j.observe(v.current),()=>{j.disconnect()}}},[e]),w.useEffect(()=>{if(n){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[n]);let x=()=>{i(!0)},b=()=>{i(!1),o(!1)};return r?e!=="intent"?[s,v,{}]:[s,v,{onFocus:Xl(u,x),onBlur:Xl(d,b),onMouseEnter:Xl(m,x),onMouseLeave:Xl(h,b),onTouchStart:Xl(p,x)}]:[!1,v,{}]}function Xl(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function V4({page:e,...t}){let{router:r}=KN(),n=w.useMemo(()=>LN(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?w.createElement(q4,{page:e,matches:n,...t}):null}function W4(e){let{manifest:t,routeModules:r}=YN(),[n,i]=w.useState([]);return w.useEffect(()=>{let s=!1;return $4(e,t,r).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,r]),n}function q4({page:e,matches:t,...r}){let n=ss(),{manifest:i,routeModules:s}=YN(),{basename:o}=KN(),{loaderData:u,matches:d}=U4(),m=w.useMemo(()=>x1(e,t,d,i,n,"data"),[e,t,d,i,n]),h=w.useMemo(()=>x1(e,t,d,i,n,"assets"),[e,t,d,i,n]),p=w.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let b=new Set,S=!1;if(t.forEach(k=>{var N;let E=i.routes[k.route.id];!E||!E.hasLoader||(!m.some(A=>A.route.id===k.route.id)&&k.route.id in u&&((N=s[k.route.id])!=null&&N.shouldRevalidate)||E.hasClientLoader?S=!0:b.add(k.route.id))}),b.size===0)return[];let j=I4(e,o,"data");return S&&b.size>0&&j.searchParams.set("_routes",t.filter(k=>b.has(k.route.id)).map(k=>k.route.id).join(",")),[j.pathname+j.search]},[o,u,n,i,m,t,e,s]),v=w.useMemo(()=>M4(h,i),[h,i]),x=W4(h);return w.createElement(w.Fragment,null,p.map(b=>w.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...r})),v.map(b=>w.createElement("link",{key:b,rel:"modulepreload",href:b,...r})),x.map(({key:b,link:S})=>w.createElement("link",{key:b,nonce:r.nonce,...S})))}function H4(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var GN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{GN&&(window.__reactRouterVersion="7.9.4")}catch{}function K4({basename:e,children:t,window:r}){let n=w.useRef();n.current==null&&(n.current=II({window:r,v5Compat:!0}));let i=n.current,[s,o]=w.useState({action:i.action,location:i.location}),u=w.useCallback(d=>{w.startTransition(()=>o(d))},[o]);return w.useLayoutEffect(()=>i.listen(u),[i,u]),w.createElement(S4,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var JN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,QN=w.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:o,state:u,target:d,to:m,preventScrollReset:h,viewTransition:p,...v},x){let{basename:b}=w.useContext(di),S=typeof m=="string"&&JN.test(m),j,k=!1;if(typeof m=="string"&&S&&(j=m,GN))try{let B=new URL(window.location.href),F=m.startsWith("//")?new URL(B.protocol+m):new URL(m),V=es(F.pathname,b);F.origin===B.origin&&V!=null?m=V+F.search+F.hash:k=!0}catch{zn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=a4(m,{relative:i}),[N,A,T]=B4(n,v),I=Q4(m,{replace:o,state:u,target:d,preventScrollReset:h,relative:i,viewTransition:p});function L(B){t&&t(B),B.defaultPrevented||I(B)}let q=w.createElement("a",{...v,...T,href:j||E,onClick:k||s?t:L,ref:H4(x,A),target:d,"data-discover":!S&&r==="render"?"true":void 0});return N&&!S?w.createElement(w.Fragment,null,q,w.createElement(V4,{page:E})):q});QN.displayName="Link";var Y4=w.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:o,viewTransition:u,children:d,...m},h){let p=zc(o,{relative:m.relative}),v=ss(),x=w.useContext(Qf),{navigator:b,basename:S}=w.useContext(di),j=x!=null&&rR(p)&&u===!0,k=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,E=v.pathname,N=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(E=E.toLowerCase(),N=N?N.toLowerCase():null,k=k.toLowerCase()),N&&S&&(N=es(N,S)||N);const A=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let T=E===k||!i&&E.startsWith(k)&&E.charAt(A)==="/",I=N!=null&&(N===k||!i&&N.startsWith(k)&&N.charAt(k.length)==="/"),L={isActive:T,isPending:I,isTransitioning:j},q=T?t:void 0,B;typeof n=="function"?B=n(L):B=[n,T?"active":null,I?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let F=typeof s=="function"?s(L):s;return w.createElement(QN,{...m,"aria-current":q,className:B,ref:h,style:F,to:o,viewTransition:u},typeof d=="function"?d(L):d)});Y4.displayName="NavLink";var G4=w.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:s,method:o=Ud,action:u,onSubmit:d,relative:m,preventScrollReset:h,viewTransition:p,...v},x)=>{let b=eR(),S=tR(u,{relative:m}),j=o.toLowerCase()==="get"?"get":"post",k=typeof u=="string"&&JN.test(u),E=N=>{if(d&&d(N),N.defaultPrevented)return;N.preventDefault();let A=N.nativeEvent.submitter,T=(A==null?void 0:A.getAttribute("formmethod"))||o;b(A||N.currentTarget,{fetcherKey:t,method:T,navigate:r,replace:i,state:s,relative:m,preventScrollReset:h,viewTransition:p})};return w.createElement("form",{ref:x,method:j,action:S,onSubmit:n?d:E,...v,"data-discover":!k&&e==="render"?"true":void 0})});G4.displayName="Form";function J4(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XN(e){let t=w.useContext(Zo);return Ft(t,J4(e)),t}function Q4(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:o}={}){let u=Sn(),d=ss(),m=zc(e,{relative:s});return w.useCallback(h=>{if(C4(h,t)){h.preventDefault();let p=r!==void 0?r:_c(d)===_c(m);u(e,{replace:p,state:n,preventScrollReset:i,relative:s,viewTransition:o})}},[d,u,m,r,n,t,e,i,s,o])}function ZN(e){zn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=w.useRef(Nv(e)),r=w.useRef(!1),n=ss(),i=w.useMemo(()=>A4(n.search,r.current?null:t.current),[n.search]),s=Sn(),o=w.useCallback((u,d)=>{const m=Nv(typeof u=="function"?u(new URLSearchParams(i)):u);r.current=!0,s("?"+m,d)},[s,i]);return[i,o]}var X4=0,Z4=()=>`__${String(++X4)}__`;function eR(){let{router:e}=XN("useSubmit"),{basename:t}=w.useContext(di),r=v4();return w.useCallback(async(n,i={})=>{let{action:s,method:o,encType:u,formData:d,body:m}=T4(n,t);if(i.navigate===!1){let h=i.fetcherKey||Z4();await e.fetch(h,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:m,formMethod:i.method||o,formEncType:i.encType||u,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:m,formMethod:i.method||o,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,r])}function tR(e,{relative:t}={}){let{basename:r}=w.useContext(di),n=w.useContext(Ii);Ft(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...zc(e||".",{relative:t})},o=ss();if(e==null){s.search=o.search;let u=new URLSearchParams(s.search),d=u.getAll("index");if(d.some(h=>h==="")){u.delete("index"),d.filter(p=>p).forEach(p=>u.append("index",p));let h=u.toString();s.search=h?`?${h}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Qi([r,s.pathname])),_c(s)}function rR(e,{relative:t}={}){let r=w.useContext(BN);Ft(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=XN("useViewTransitionState"),i=zc(e,{relative:t});if(!r.isTransitioning)return!1;let s=es(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=es(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Qd(i.pathname,o)!=null||Qd(i.pathname,s)!=null}var nR=MN();const iR="modulepreload",sR=function(e,t){return new URL(e,t).href},w1={},Uc=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let o=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};const u=document.getElementsByTagName("link"),d=document.querySelector("meta[property=csp-nonce]"),m=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));i=o(r.map(h=>{if(h=sR(h,n),h in w1)return;w1[h]=!0;const p=h.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(!!n)for(let S=u.length-1;S>=0;S--){const j=u[S];if(j.href===h&&(!p||j.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${h}"]${v}`))return;const b=document.createElement("link");if(b.rel=p?"stylesheet":iR,p||(b.as="script"),b.crossOrigin="",b.href=h,m&&b.setAttribute("nonce",m),document.head.appendChild(b),p)return new Promise((S,j)=>{b.addEventListener("load",S),b.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return i.then(o=>{for(const u of o||[])u.status==="rejected"&&s(u.reason);return t().catch(s)})},aR=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Uc(async()=>{const{default:n}=await Promise.resolve().then(()=>tl);return{default:n}},[],import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class qy extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class b1 extends qy{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class S1 extends qy{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class j1 extends qy{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ev;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ev||(Ev={}));var oR=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(h){try{m(n.next(h))}catch(p){o(p)}}function d(h){try{m(n.throw(h))}catch(p){o(p)}}function m(h){h.done?s(h.value):i(h.value).then(u,d)}m((n=n.apply(e,t||[])).next())})};class lR{constructor(t,{headers:r={},customFetch:n,region:i=Ev.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=aR(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return oR(this,arguments,void 0,function*(r,n={}){var i;try{const{headers:s,method:o,body:u,signal:d}=n;let m={},{region:h}=n;h||(h=this.region);const p=new URL(`${this.url}/${r}`);h&&h!=="any"&&(m["x-region"]=h,p.searchParams.set("forceFunctionRegion",h));let v;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(m["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(m["Content-Type"]="application/json",v=JSON.stringify(u)));const x=yield this.fetch(p.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),s),body:v,signal:d}).catch(k=>{throw k.name==="AbortError"?k:new b1(k)}),b=x.headers.get("x-relay-error");if(b&&b==="true")throw new S1(x);if(!x.ok)throw new j1(x);let S=((i=x.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),j;return S==="application/json"?j=yield x.json():S==="application/octet-stream"?j=yield x.blob():S==="text/event-stream"?j=x:S==="multipart/form-data"?j=yield x.formData():j=yield x.text(),{data:j,error:null,response:x}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new b1(s)}:{data:null,error:s,response:s instanceof j1||s instanceof S1?s.context:void 0}}})}}var fr={},go={},vo={},yo={},xo={},wo={},cR=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Fo=cR();const uR=Fo.fetch,eE=Fo.fetch.bind(Fo),tE=Fo.Headers,dR=Fo.Request,fR=Fo.Response,tl=Object.freeze(Object.defineProperty({__proto__:null,Headers:tE,Request:dR,Response:fR,default:eE,fetch:uR},Symbol.toStringTag,{value:"Module"})),hR=SI(tl);var yd={},_1;function rE(){if(_1)return yd;_1=1,Object.defineProperty(yd,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return yd.default=e,yd}var k1;function nE(){if(k1)return wo;k1=1;var e=wo&&wo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(wo,"__esModule",{value:!0});const t=e(hR),r=e(rE());class n{constructor(s){var o,u;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(o=s.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=s.signal,this.isMaybeSingle=(u=s.isMaybeSingle)!==null&&u!==void 0?u:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=new Headers(this.headers),this.headers.set(s,o),this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var h,p,v,x;let b=null,S=null,j=null,k=m.status,E=m.statusText;if(m.ok){if(this.method!=="HEAD"){const I=await m.text();I===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?S=I:S=JSON.parse(I))}const A=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),T=(v=m.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");A&&T&&T.length>1&&(j=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(b={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,j=null,k=406,E="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const A=await m.text();try{b=JSON.parse(A),Array.isArray(b)&&m.status===404&&(S=[],b=null,k=200,E="OK")}catch{m.status===404&&A===""?(k=204,E="No Content"):b={message:A}}if(b&&this.isMaybeSingle&&(!((x=b==null?void 0:b.details)===null||x===void 0)&&x.includes("0 rows"))&&(b=null,k=200,E="OK"),b&&this.shouldThrowOnError)throw new r.default(b)}return{error:b,data:S,count:j,status:k,statusText:E}});return this.shouldThrowOnError||(d=d.catch(m=>{var h,p,v;return{error:{message:`${(h=m==null?void 0:m.name)!==null&&h!==void 0?h:"FetchError"}: ${m==null?void 0:m.message}`,details:`${(p=m==null?void 0:m.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(v=m==null?void 0:m.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),d.then(s,o)}returns(){return this}overrideTypes(){return this}}return wo.default=n,wo}var N1;function iE(){if(N1)return xo;N1=1;var e=xo&&xo.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(xo,"__esModule",{value:!0});const t=e(nE());class r extends t.default{select(i){let s=!1;const o=(i??"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:u,referencedTable:d=u}={}){const m=d?`${d}.order`:"order",h=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${h?`${h},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:o=s}={}){const u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(u,`${i}`),this}range(i,s,{foreignTable:o,referencedTable:u=o}={}){const d=typeof u>"u"?"offset":`${u}.offset`,m=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${i}`),this.url.searchParams.set(m,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:u=!1,wal:d=!1,format:m="text"}={}){var h;const p=[i?"analyze":null,s?"verbose":null,o?"settings":null,u?"buffers":null,d?"wal":null].filter(Boolean).join("|"),v=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${v}"; options=${p};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return xo.default=r,xo}var E1;function Hy(){if(E1)return yo;E1=1;var e=yo&&yo.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(yo,"__esModule",{value:!0});const t=e(iE());class r extends t.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const o=Array.from(new Set(s)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:o,type:u}={}){let d="";u==="plain"?d="pl":u==="phrase"?d="ph":u==="websearch"&&(d="w");const m=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${d}fts${m}.${s}`),this}match(i){return Object.entries(i).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(i,s,o){return this.url.searchParams.append(i,`not.${s}.${o}`),this}or(i,{foreignTable:s,referencedTable:o=s}={}){const u=o?`${o}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,s,o){return this.url.searchParams.append(i,`${s}.${o}`),this}}return yo.default=r,yo}var C1;function sE(){if(C1)return vo;C1=1;var e=vo&&vo.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(vo,"__esModule",{value:!0});const t=e(Hy());class r{constructor(i,{headers:s={},schema:o,fetch:u}){this.url=i,this.headers=new Headers(s),this.schema=o,this.fetch=u}select(i,s){const{head:o=!1,count:u}=s??{},d=o?"HEAD":"GET";let m=!1;const h=(i??"*").split("").map(p=>/\s/.test(p)&&!m?"":(p==='"'&&(m=!m),p)).join("");return this.url.searchParams.set("select",h),u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:o=!0}={}){var u;const d="POST";if(s&&this.headers.append("Prefer",`count=${s}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(m.length>0){const h=[...new Set(m)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:u,defaultToNull:d=!0}={}){var m;const h="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((v,x)=>v.concat(Object.keys(x)),[]);if(p.length>0){const v=[...new Set(p)].map(x=>`"${x}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(i,{count:s}={}){var o;const u="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var s;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return vo.default=r,vo}var A1;function mR(){if(A1)return go;A1=1;var e=go&&go.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(go,"__esModule",{value:!0});const t=e(sE()),r=e(Hy());class n{constructor(s,{headers:o={},schema:u,fetch:d}={}){this.url=s,this.headers=new Headers(o),this.schemaName=u,this.fetch=d}from(s){const o=new URL(`${this.url}/${s}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,o={},{head:u=!1,get:d=!1,count:m}={}){var h;let p;const v=new URL(`${this.url}/rpc/${s}`);let x;u||d?(p=u?"HEAD":"GET",Object.entries(o).filter(([S,j])=>j!==void 0).map(([S,j])=>[S,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([S,j])=>{v.searchParams.append(S,j)})):(p="POST",x=o);const b=new Headers(this.headers);return m&&b.set("Prefer",`count=${m}`),new r.default({method:p,url:v,headers:b,schema:this.schemaName,body:x,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return go.default=n,go}var O1;function pR(){if(O1)return fr;O1=1;var e=fr&&fr.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(fr,"__esModule",{value:!0}),fr.PostgrestError=fr.PostgrestBuilder=fr.PostgrestTransformBuilder=fr.PostgrestFilterBuilder=fr.PostgrestQueryBuilder=fr.PostgrestClient=void 0;const t=e(mR());fr.PostgrestClient=t.default;const r=e(sE());fr.PostgrestQueryBuilder=r.default;const n=e(Hy());fr.PostgrestFilterBuilder=n.default;const i=e(iE());fr.PostgrestTransformBuilder=i.default;const s=e(nE());fr.PostgrestBuilder=s.default;const o=e(rE());return fr.PostgrestError=o.default,fr.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:o.default},fr}var gR=pR();const vR=ui(gR),{PostgrestClient:yR,PostgrestQueryBuilder:HJ,PostgrestFilterBuilder:KJ,PostgrestTransformBuilder:YJ,PostgrestBuilder:GJ,PostgrestError:JJ}=vR;class xR{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const wR="2.74.0",bR=`realtime-js/${wR}`,SR="1.0.0",Cv=1e4,jR=1e3,_R=100;var pc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(pc||(pc={}));var ir;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ir||(ir={}));var ri;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ri||(ri={}));var Av;(function(e){e.websocket="websocket"})(Av||(Av={}));var xa;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(xa||(xa={}));class kR{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2);let o=this.HEADER_LENGTH+2;const u=n.decode(t.slice(o,o+i));o=o+i;const d=n.decode(t.slice(o,o+s));o=o+s;const m=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:u,event:d,payload:m}}}class aE{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var At;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(At||(At={}));const P1=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,o)=>(s[o]=NR(o,e,t,i),s),{}):{}},NR=(e,t,r,n)=>{const i=t.find(u=>u.name===e),s=i==null?void 0:i.type,o=r[e];return s&&!n.includes(s)?oE(s,o):Ov(o)},oE=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return OR(t,r)}switch(e){case At.bool:return ER(t);case At.float4:case At.float8:case At.int2:case At.int4:case At.int8:case At.numeric:case At.oid:return CR(t);case At.json:case At.jsonb:return AR(t);case At.timestamp:return PR(t);case At.abstime:case At.date:case At.daterange:case At.int4range:case At.int8range:case At.money:case At.reltime:case At.text:case At.time:case At.timestamptz:case At.timetz:case At.tsrange:case At.tstzrange:return Ov(t);default:return Ov(t)}},Ov=e=>e,ER=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},CR=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},AR=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},OR=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const o=e.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(u=>oE(t,u))}return e},PR=e=>typeof e=="string"?e.replace(" ","T"):e,lE=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class kp{constructor(t,r,n={},i=Cv){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var T1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(T1||(T1={}));class gc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:o,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gc.syncState(this.state,i,s,o),this.pendingDiffs.forEach(d=>{this.state=gc.syncDiff(this.state,d,s,o)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=gc.syncDiff(this.state,i,s,o),u())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),o=this.transformState(r),u={},d={};return this.map(s,(m,h)=>{o[m]||(d[m]=h)}),this.map(o,(m,h)=>{const p=s[m];if(p){const v=h.map(j=>j.presence_ref),x=p.map(j=>j.presence_ref),b=h.filter(j=>x.indexOf(j.presence_ref)<0),S=p.filter(j=>v.indexOf(j.presence_ref)<0);b.length>0&&(u[m]=b),S.length>0&&(d[m]=S)}else u[m]=h}),this.syncDiff(s,{joins:u,leaves:d},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(u,d)=>{var m;const h=(m=t[u])!==null&&m!==void 0?m:[];if(t[u]=this.cloneDeep(d),h.length>0){const p=t[u].map(x=>x.presence_ref),v=h.filter(x=>p.indexOf(x.presence_ref)<0);t[u].unshift(...v)}n(u,h,d)}),this.map(o,(u,d)=>{let m=t[u];if(!m)return;const h=d.map(p=>p.presence_ref);m=m.filter(p=>h.indexOf(p.presence_ref)<0),t[u]=m,i(u,m,d),m.length===0&&delete t[u]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var I1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(I1||(I1={}));var vc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(vc||(vc={}));var Hi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Hi||(Hi={}));class Ky{constructor(t,r={config:{}},n){var i,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ir.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new kp(this,ri.join,this.params,this.timeout),this.rejoinTimer=new aE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ir.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ir.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ir.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ir.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ir.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ri.reply,{},(o,u)=>{this._trigger(this._replyEventName(u),o)}),this.presence=new gc(this),this.broadcastEndpointURL=lE(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==ir.closed){const{config:{broadcast:o,presence:u,private:d}}=this.params,m=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(x=>x.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[vc.PRESENCE]&&this.bindings[vc.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,p={},v={broadcast:o,presence:Object.assign(Object.assign({},u),{enabled:h}),postgres_changes:m,private:d};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(x=>t==null?void 0:t(Hi.CHANNEL_ERROR,x)),this._onClose(()=>t==null?void 0:t(Hi.CLOSED)),this.updateJoinPayload(Object.assign({config:v},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var b;if(this.socket.setAuth(),x===void 0){t==null||t(Hi.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,j=(b=S==null?void 0:S.length)!==null&&b!==void 0?b:0,k=[];for(let E=0;E<j;E++){const N=S[E],{filter:{event:A,schema:T,table:I,filter:L}}=N,q=x&&x[E];if(q&&q.event===A&&q.schema===T&&q.table===I&&q.filter===L)k.push(Object.assign(Object.assign({},N),{id:q.id}));else{this.unsubscribe(),this.state=ir.errored,t==null||t(Hi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,t&&t(Hi.SUBSCRIBED);return}}).receive("error",x=>{this.state=ir.errored,t==null||t(Hi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Hi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ir.joined&&t===vc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=m.body)===null||i===void 0?void 0:i.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,u,d;const m=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(u=(o=this.params)===null||o===void 0?void 0:o.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&s("ok"),m.receive("ok",()=>s("ok")),m.receive("error",()=>s("error")),m.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ir.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ri.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new kp(this,ri.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ir.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new kp(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>_R){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const o=t.toLocaleLowerCase(),{close:u,error:d,leave:m,join:h}=ri;if(n&&[u,d,m,h].indexOf(o)>=0&&n!==this._joinRef())return;let v=this._onMessage(o,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(x=>{var b,S,j;return((b=x.filter)===null||b===void 0?void 0:b.event)==="*"||((j=(S=x.filter)===null||S===void 0?void 0:S.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(x=>x.callback(v,n)):(s=this.bindings[o])===null||s===void 0||s.filter(x=>{var b,S,j,k,E,N;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in x){const A=x.id,T=(b=x.filter)===null||b===void 0?void 0:b.event;return A&&((S=r.ids)===null||S===void 0?void 0:S.includes(A))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const A=(E=(k=x==null?void 0:x.filter)===null||k===void 0?void 0:k.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return A==="*"||A===((N=r==null?void 0:r.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===o}).map(x=>{if(typeof v=="object"&&"ids"in v){const b=v.data,{schema:S,table:j,commit_timestamp:k,type:E,errors:N}=b;v=Object.assign(Object.assign({},{schema:S,table:j,commit_timestamp:k,eventType:E,new:{},old:{},errors:N}),this._getPayloadRecords(b))}x.callback(v,n)})}_isClosed(){return this.state===ir.closed}_isJoined(){return this.state===ir.joined}_isJoining(){return this.state===ir.joining}_isLeaving(){return this.state===ir.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Ky.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ri.close,{},t)}_onError(t){this._on(ri.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ir.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=P1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=P1(t.columns,t.old_record)),r}}const Np=()=>{},xd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},TR=[1e3,2e3,5e3,1e4],IR=1e4,RR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class DR{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Cv,this.transport=null,this.heartbeatIntervalMs=xd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Np,this.ref=0,this.reconnectTimer=null,this.logger=Np,this.conn=null,this.sendBuffer=[],this.serializer=new kR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...o)=>Uc(async()=>{const{default:u}=await Promise.resolve().then(()=>tl);return{default:u}},void 0,import.meta.url).then(({default:u})=>u(...o)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...o)=>s(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Av.websocket}`,this.httpEndpoint=lE(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=xR.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:SR}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case pc.connecting:return xa.Connecting;case pc.open:return xa.Open;case pc.closing:return xa.Closing;default:return xa.Closed}}isConnected(){return this.connectionState()===xa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new Ky(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,o=()=>{this.encode(t,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(jR,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},xd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:o}=r,u=o?`(${o})`:"",d=s.status||"";this.log("receive",`${d} ${n} ${i} ${u}`.trim(),s),this.channels.filter(m=>m._isMember(n)).forEach(m=>m._trigger(i,s,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ri.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([RR],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:bR};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(ri.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new aE(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},xd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,s,o,u,d,m,h;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Cv,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:xd.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(u=t==null?void 0:t.heartbeatCallback)!==null&&u!==void 0?u:Np,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:(p=>TR[p-1]||IR),this.encode=(m=t==null?void 0:t.encode)!==null&&m!==void 0?m:((p,v)=>v(JSON.stringify(p))),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Yy extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Qt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class $R extends Yy{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Pv extends Yy{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var MR=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(h){try{m(n.next(h))}catch(p){o(p)}}function d(h){try{m(n.throw(h))}catch(p){o(p)}}function m(h){h.done?s(h.value):i(h.value).then(u,d)}m((n=n.apply(e,t||[])).next())})};const cE=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Uc(async()=>{const{default:n}=await Promise.resolve().then(()=>tl);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},LR=()=>MR(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Uc(()=>Promise.resolve().then(()=>tl),void 0,import.meta.url)).Response:Response}),Tv=e=>{if(Array.isArray(e))return e.map(r=>Tv(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Tv(n)}),t},FR=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var za=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(h){try{m(n.next(h))}catch(p){o(p)}}function d(h){try{m(n.throw(h))}catch(p){o(p)}}function m(h){h.done?s(h.value):i(h.value).then(u,d)}m((n=n.apply(e,t||[])).next())})};const Ep=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),zR=(e,t,r)=>za(void 0,void 0,void 0,function*(){const n=yield LR();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const s=e.status||500,o=(i==null?void 0:i.statusCode)||s+"";t(new $R(Ep(i),s,o))}).catch(i=>{t(new Pv(Ep(i),i))}):t(new Pv(Ep(e),e))}),UR=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(FR(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function Bc(e,t,r,n,i,s){return za(this,void 0,void 0,function*(){return new Promise((o,u)=>{e(r,UR(t,n,i,s)).then(d=>{if(!d.ok)throw d;return n!=null&&n.noResolveJson?d:d.json()}).then(d=>o(d)).catch(d=>zR(d,u,n))})})}function Xd(e,t,r,n){return za(this,void 0,void 0,function*(){return Bc(e,"GET",t,r,n)})}function _i(e,t,r,n,i){return za(this,void 0,void 0,function*(){return Bc(e,"POST",t,n,i,r)})}function Iv(e,t,r,n,i){return za(this,void 0,void 0,function*(){return Bc(e,"PUT",t,n,i,r)})}function BR(e,t,r,n){return za(this,void 0,void 0,function*(){return Bc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function uE(e,t,r,n,i){return za(this,void 0,void 0,function*(){return Bc(e,"DELETE",t,n,i,r)})}var VR=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(h){try{m(n.next(h))}catch(p){o(p)}}function d(h){try{m(n.throw(h))}catch(p){o(p)}}function m(h){h.done?s(h.value):i(h.value).then(u,d)}m((n=n.apply(e,t||[])).next())})};class WR{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return VR(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qt(t))return{data:null,error:t};throw t}})}}var qR=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(h){try{m(n.next(h))}catch(p){o(p)}}function d(h){try{m(n.throw(h))}catch(p){o(p)}}function m(h){h.done?s(h.value):i(h.value).then(u,d)}m((n=n.apply(e,t||[])).next())})};class HR{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}asStream(){return new WR(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.execute().then(t,r)}execute(){return qR(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qt(t))return{data:null,error:t};throw t}})}}var Qr=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(h){try{m(n.next(h))}catch(p){o(p)}}function d(h){try{m(n.throw(h))}catch(p){o(p)}}function m(h){h.done?s(h.value):i(h.value).then(u,d)}m((n=n.apply(e,t||[])).next())})};const KR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},R1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class YR{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=cE(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return Qr(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},R1),i);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const d=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),d&&s.append("metadata",this.encodeMetadata(d)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl),d&&s.append("metadata",this.encodeMetadata(d))):(s=n,u["cache-control"]=`max-age=${o.cacheControl}`,u["content-type"]=o.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),i!=null&&i.headers&&(u=Object.assign(Object.assign({},u),i.headers));const m=this._removeEmptyFolders(r),h=this._getFinalPath(m),p=yield(t=="PUT"?Iv:_i)(this.fetch,`${this.url}/object/${h}`,s,Object.assign({headers:u},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:m,id:p.Id,fullPath:p.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Qt(s))return{data:null,error:s};throw s}})}upload(t,r,n){return Qr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Qr(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),u=new URL(this.url+`/object/upload/sign/${o}`);u.searchParams.set("token",r);try{let d;const m=Object.assign({upsert:R1.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",m.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",m.cacheControl)):(d=n,h["cache-control"]=`max-age=${m.cacheControl}`,h["content-type"]=m.contentType);const p=yield Iv(this.fetch,u.toString(),d,{headers:h});return{data:{path:s,fullPath:p.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Qt(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,r){return Qr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield _i(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+s.url),u=o.searchParams.get("token");if(!u)throw new Yy("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:u},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Qr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Qr(this,void 0,void 0,function*(){try{return{data:yield _i(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qt(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Qr(this,void 0,void 0,function*(){try{return{data:{path:(yield _i(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Qr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield _i(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Qr(this,void 0,void 0,function*(){try{const i=yield _i(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qt(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=s?`?${s}`:"",u=this._getFinalPath(t),d=()=>Xd(this.fetch,`${this.url}/${i}/${u}${o}`,{headers:this.headers,noResolveJson:!0});return new HR(d,this.shouldThrowOnError)}info(t){return Qr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Xd(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Tv(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}})}exists(t){return Qr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield BR(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qt(n)&&n instanceof Pv){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const u=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});d!==""&&i.push(d);let m=i.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${m}`)}}}remove(t){return Qr(this,void 0,void 0,function*(){try{return{data:yield uE(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Qr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},KR),r),{prefix:t||""});return{data:yield _i(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qt(i))return{data:null,error:i};throw i}})}listV2(t,r){return Qr(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield _i(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const GR="2.74.0",JR={"X-Client-Info":`storage-js/${GR}`};var bo=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(h){try{m(n.next(h))}catch(p){o(p)}}function d(h){try{m(n.throw(h))}catch(p){o(p)}}function m(h){h.done?s(h.value):i(h.value).then(u,d)}m((n=n.apply(e,t||[])).next())})};class QR{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},JR),r),this.fetch=cE(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return bo(this,void 0,void 0,function*(){try{return{data:yield Xd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qt(t))return{data:null,error:t};throw t}})}getBucket(t){return bo(this,void 0,void 0,function*(){try{return{data:yield Xd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}})}createBucket(t){return bo(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield _i(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qt(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return bo(this,void 0,void 0,function*(){try{return{data:yield Iv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return bo(this,void 0,void 0,function*(){try{return{data:yield _i(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return bo(this,void 0,void 0,function*(){try{return{data:yield uE(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}})}}class XR extends QR{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new YR(this.url,this.headers,t,this.fetch)}}const ZR="2.74.0";let dc="";typeof Deno<"u"?dc="deno":typeof document<"u"?dc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?dc="react-native":dc="node";const eD={"X-Client-Info":`supabase-js-${dc}/${ZR}`},tD={headers:eD},rD={schema:"public"},nD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},iD={};var sD=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(h){try{m(n.next(h))}catch(p){o(p)}}function d(h){try{m(n.throw(h))}catch(p){o(p)}}function m(h){h.done?s(h.value):i(h.value).then(u,d)}m((n=n.apply(e,t||[])).next())})};const aD=e=>{let t;return e?t=e:typeof fetch>"u"?t=eE:t=fetch,(...r)=>t(...r)},oD=()=>typeof Headers>"u"?tE:Headers,lD=(e,t,r)=>{const n=aD(r),i=oD();return(s,o)=>sD(void 0,void 0,void 0,function*(){var u;const d=(u=yield t())!==null&&u!==void 0?u:e;let m=new i(o==null?void 0:o.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${d}`),n(s,Object.assign(Object.assign({},o),{headers:m}))})};var cD=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(h){try{m(n.next(h))}catch(p){o(p)}}function d(h){try{m(n.throw(h))}catch(p){o(p)}}function m(h){h.done?s(h.value):i(h.value).then(u,d)}m((n=n.apply(e,t||[])).next())})};function uD(e){return e.endsWith("/")?e:e+"/"}function dD(e,t){var r,n;const{db:i,auth:s,realtime:o,global:u}=e,{db:d,auth:m,realtime:h,global:p}=t,v={db:Object.assign(Object.assign({},d),i),auth:Object.assign(Object.assign({},m),s),realtime:Object.assign(Object.assign({},h),o),storage:{},global:Object.assign(Object.assign(Object.assign({},p),u),{headers:Object.assign(Object.assign({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(n=u==null?void 0:u.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>cD(this,void 0,void 0,function*(){return""})};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function fD(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(uD(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const dE="2.74.0",Oo=30*1e3,Rv=3,Cp=Rv*Oo,hD="http://localhost:9999",mD="supabase.auth.token",pD={"X-Client-Info":`gotrue-js/${dE}`},Dv="X-Supabase-Api-Version",fE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},gD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,vD=600*1e3;class kc extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Qe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class yD extends kc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function xD(e){return Qe(e)&&e.name==="AuthApiError"}class wa extends kc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ks extends kc{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Rs extends Ks{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wD(e){return Qe(e)&&e.name==="AuthSessionMissingError"}class So extends Ks{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wd extends Ks{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class bd extends Ks{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function bD(e){return Qe(e)&&e.name==="AuthImplicitGrantRedirectError"}class D1 extends Ks{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $v extends Ks{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ap(e){return Qe(e)&&e.name==="AuthRetryableFetchError"}class $1 extends Ks{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Mv extends Ks{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Zd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),M1=` 	
\r=`.split(""),SD=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<M1.length;t+=1)e[M1[t].charCodeAt(0)]=-2;for(let t=0;t<Zd.length;t+=1)e[Zd[t].charCodeAt(0)]=t;return e})();function L1(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Zd[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Zd[n]),t.queuedBits-=6}}function hE(e,t,r){const n=SD[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function F1(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{kD(o,n,r)};for(let o=0;o<e.length;o+=1)hE(e.charCodeAt(o),i,s);return t.join("")}function jD(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function _D(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}jD(n,t)}}function kD(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Do(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)hE(e.charCodeAt(i),r,n);return new Uint8Array(t)}function ND(e){const t=[];return _D(e,r=>t.push(r)),new Uint8Array(t)}function Sa(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>L1(i,r,n)),L1(null,r,n),t.join("")}function ED(e){return Math.round(Date.now()/1e3)+e}function CD(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const cn=()=>typeof window<"u"&&typeof document<"u",fa={tested:!1,writable:!1},mE=()=>{if(!cn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fa.tested)return fa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),fa.tested=!0,fa.writable=!0}catch{fa.tested=!0,fa.writable=!1}return fa.writable};function AD(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const pE=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Uc(async()=>{const{default:n}=await Promise.resolve().then(()=>tl);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},OD=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Po=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ha=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Is=async(e,t)=>{await e.removeItem(t)};class Zf{constructor(){this.promise=new Zf.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Zf.promiseConstructor=Promise;function Op(e){const t=e.split(".");if(t.length!==3)throw new Mv("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!gD.test(t[n]))throw new Mv("JWT not in base64url format");return{header:JSON.parse(F1(t[0])),payload:JSON.parse(F1(t[1])),signature:Do(t[2]),raw:{header:t[0],payload:t[1]}}}async function PD(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function TD(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){n(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function ID(e){return("0"+e.toString(16)).substr(-2)}function RD(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,ID).join("")}async function DD(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function $D(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await DD(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function jo(e,t,r=!1){const n=RD();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Po(e,`${t}-code-verifier`,i);const s=await $D(n);return[s,n===s?"plain":"s256"]}const MD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function LD(e){const t=e.headers.get(Dv);if(!t||!t.match(MD))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function FD(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function zD(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const UD=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function _o(e){if(!UD.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Pp(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function z1(e){return JSON.parse(JSON.stringify(e))}var BD=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const pa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),VD=[502,503,504];async function U1(e){var t;if(!OD(e))throw new $v(pa(e),0);if(VD.includes(e.status))throw new $v(pa(e),e.status);let r;try{r=await e.json()}catch(s){throw new wa(pa(s),s)}let n;const i=LD(e);if(i&&i.getTime()>=fE["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new $1(pa(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Rs}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new $1(pa(r),e.status,r.weak_password.reasons);throw new yD(pa(r),e.status||500,n)}const WD=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function rt(e,t,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[Dv]||(s[Dv]=fE["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const u=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",d=await qD(e,t,r+u,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(d):{data:Object.assign({},d),error:null}}async function qD(e,t,r,n,i,s){const o=WD(t,n,i,s);let u;try{u=await e(r,Object.assign({},o))}catch(d){throw console.error(d),new $v(pa(d),0)}if(u.ok||await U1(u),n!=null&&n.noResolveJson)return u;try{return await u.json()}catch(d){await U1(d)}}function ti(e){var t;let r=null;YD(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=ED(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function B1(e){const t=ti(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ls(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function HD(e){return{data:e,error:null}}function KD(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,o=BD(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},d=Object.assign({},o);return{data:{properties:u,user:d},error:null}}function V1(e){return e}function YD(e){return e.access_token&&e.refresh_token&&e.expires_in}const Tp=["global","local","others"];var GD=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class JD{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=pE(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Tp[0]){if(Tp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Tp.join(", ")}`);try{return await rt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Qe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await rt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ls})}catch(n){if(Qe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=GD(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await rt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:KD,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Qe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await rt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ls})}catch(r){if(Qe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,o,u,d;try{const m={nextPage:null,lastPage:0,total:0},h=await rt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:V1});if(h.error)throw h.error;const p=await h.json(),v=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(d=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return x.length>0&&(x.forEach(b=>{const S=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(b.split(";")[1].split("=")[1]);m[`${j}Page`]=S}),m.total=parseInt(v)),{data:Object.assign(Object.assign({},p),m),error:null}}catch(m){if(Qe(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){_o(t);try{return await rt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ls})}catch(r){if(Qe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){_o(t);try{return await rt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ls})}catch(n){if(Qe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){_o(t);try{return await rt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ls})}catch(n){if(Qe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){_o(t.userId);try{const{data:r,error:n}=await rt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){_o(t.userId),_o(t.id);try{return{data:await rt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,s,o,u,d;try{const m={nextPage:null,lastPage:0,total:0},h=await rt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:V1});if(h.error)throw h.error;const p=await h.json(),v=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(d=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return x.length>0&&(x.forEach(b=>{const S=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(b.split(";")[1].split("=")[1]);m[`${j}Page`]=S}),m.total=parseInt(v)),{data:Object.assign(Object.assign({},p),m),error:null}}catch(m){if(Qe(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(t){try{return await rt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await rt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await rt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await rt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Qe(r))return{data:null,error:r};throw r}}}function W1(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const ko={debug:!!(globalThis&&mE()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gE extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class QD extends gE{}async function XD(e,t,r){ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ko.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new QD(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ko.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function ZD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function vE(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function e$(e){return parseInt(e,16)}function t$(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function r$(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:u,requestId:d,resources:m,scheme:h,uri:p,version:v}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const x=vE(e.address),b=h?`${h}://${n}`:n,S=e.statement?`${e.statement}
`:"",j=`${b} wants you to sign in with your Ethereum account:
${x}

${S}`;let k=`URI: ${p}
Version: ${v}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(k+=`
Expiration Time: ${i.toISOString()}`),u&&(k+=`
Not Before: ${u.toISOString()}`),d&&(k+=`
Request ID: ${d}`),m){let E=`
Resources:`;for(const N of m){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);E+=`
- ${N}`}k+=E}return`${j}
${k}`}class Jt extends Error{constructor({message:t,code:r,cause:n,name:i}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class ef extends Jt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function n$({error:e,options:t}){var r,n,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Jt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Jt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Jt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Jt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Jt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Jt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Jt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Jt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(xE(o)){if(s.rp.id!==o)return new Jt({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Jt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Jt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function i$({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Jt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Jt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(xE(n)){if(r.rpId!==n)return new Jt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Jt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var yE=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class s${createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const a$=new s$;function o$(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=yE(e,["challenge","user","excludeCredentials"]),s=Do(t).buffer,o=Object.assign(Object.assign({},r),{id:Do(r.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:s,user:o});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const m=n[d];u.excludeCredentials[d]=Object.assign(Object.assign({},m),{id:Do(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return u}function l$(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=yE(e,["challenge","allowCredentials"]),i=Do(t).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const u=r[o];s.allowCredentials[o]=Object.assign(Object.assign({},u),{id:Do(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function c$(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Sa(new Uint8Array(e.response.attestationObject)),clientDataJSON:Sa(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function u$(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Sa(new Uint8Array(i.authenticatorData)),clientDataJSON:Sa(new Uint8Array(i.clientDataJSON)),signature:Sa(new Uint8Array(i.signature)),userHandle:i.userHandle?Sa(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function xE(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function q1(){var e,t;return!!(cn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function d$(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ef("Browser returned unexpected credential type",t)}:{data:null,error:new ef("Empty credential response",t)}}catch(t){return{data:null,error:n$({error:t,options:e})}}}async function f$(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ef("Browser returned unexpected credential type",t)}:{data:null,error:new ef("Empty credential response",t)}}catch(t){return{data:null,error:i$({error:t,options:e})}}}const h$={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},m$={userVerification:"preferred",hints:["security-key"]};function tf(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))n[s]=o;else if(r(o))n[s]=o;else if(t(o)){const u=n[s];t(u)?n[s]=tf(u,o):n[s]=tf(o)}else n[s]=o}return n}function p$(e,t){return tf(h$,e,t||{})}function g$(e,t){return tf(m$,e,t||{})}class v${constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},s){try{const{data:o,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:u};const d=i??a$.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:m}=o.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${n}`),m.displayName||(m.displayName=m.name)}switch(o.webauthn.type){case"create":{const m=p$(o.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:h,error:p}=await d$({publicKey:m,signal:d});return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const m=g$(o.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:h,error:p}=await f$(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:m,signal:d}));return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(o){return Qe(o)?{data:null,error:o}:{data:null,error:new wa("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!r)return{data:null,error:new kc("rpId is required for WebAuthn authentication")};try{if(!q1())return{data:null,error:new wa("Browser does not support WebAuthn",null)};const{data:o,error:u}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!o)return{data:null,error:u};const{webauthn:d}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(o){return Qe(o)?{data:null,error:o}:{data:null,error:new wa("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!r)return{data:null,error:new kc("rpId is required for WebAuthn registration")};try{if(!q1())return{data:null,error:new wa("Browser does not support WebAuthn",null)};const{data:o,error:u}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(h=>{var p;return(p=h.data)===null||p===void 0?void 0:p.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:u};const{data:d,error:m}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return d?this._verify({factorId:o.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:m}}catch(o){return Qe(o)?{data:null,error:o}:{data:null,error:new wa("Unexpected error in register",o)}}}}ZD();const y$={url:hD,storageKey:mD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:pD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function H1(e,t,r){return await r()}const No={};class Nc{get jwks(){var t,r;return(r=(t=No[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){No[this.storageKey]=Object.assign(Object.assign({},No[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=No[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){No[this.storageKey]=Object.assign(Object.assign({},No[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Nc.nextInstanceID,Nc.nextInstanceID+=1,this.instanceID>0&&cn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},y$),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new JD({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=pE(i.fetch),this.lock=i.lock||H1,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:cn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=XD:this.lock=H1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new v$(this)},this.persistSession?(i.storage?this.storage=i.storage:mE()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=W1(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=W1(this.memoryStorage)),cn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${dE}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=AD(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),cn()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),bD(s)){const d=(t=s.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",u),await this._saveSession(o),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Qe(r)?{error:r}:{error:new wa("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:ti}),{data:o,error:u}=s;if(u||!o)return{data:{user:null,session:null},error:u};const d=o.session,m=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:m,session:d},error:null}}catch(s){if(Qe(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:h,password:p,options:v}=t;let x=null,b=null;this.flowType==="pkce"&&([x,b]=await jo(this.storage,this.storageKey)),s=await rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:h,password:p,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:x,code_challenge_method:b},xform:ti})}else if("phone"in t){const{phone:h,password:p,options:v}=t;s=await rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:ti})}else throw new wd("You must provide either an email or phone number and a password");const{data:o,error:u}=s;if(u||!o)return{data:{user:null,session:null},error:u};const d=o.session,m=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:m,session:d},error:null}}catch(s){if(Qe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:o,options:u}=t;r=await rt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:B1})}else if("phone"in t){const{phone:s,password:o,options:u}=t;r=await rt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:B1})}else throw new wd("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new So}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Qe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,s,o,u,d,m,h,p,v;let x,b;if("message"in t)x=t.message,b=t.signature;else{const{chain:S,wallet:j,statement:k,options:E}=t;let N;if(cn())if(typeof j=="object")N=j;else{const B=window;if("ethereum"in B&&typeof B.ethereum=="object"&&"request"in B.ethereum&&typeof B.ethereum.request=="function")N=B.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=j}const A=new URL((r=E==null?void 0:E.url)!==null&&r!==void 0?r:window.location.href),T=await N.request({method:"eth_requestAccounts"}).then(B=>B).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=vE(T[0]);let L=(n=E==null?void 0:E.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!L){const B=await N.request({method:"eth_chainId"});L=e$(B)}const q={domain:A.host,address:I,statement:k,uri:A.href,version:"1",chainId:L,nonce:(i=E==null?void 0:E.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=E==null?void 0:E.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(u=E==null?void 0:E.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=E==null?void 0:E.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(m=E==null?void 0:E.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(h=E==null?void 0:E.signInWithEthereum)===null||h===void 0?void 0:h.resources};x=r$(q),b=await N.request({method:"personal_sign",params:[t$(x),I]})}try{const{data:S,error:j}=await rt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:b},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:ti});if(j)throw j;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new So}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:j})}catch(S){if(Qe(S))return{data:{user:null,session:null},error:S};throw S}}async signInWithSolana(t){var r,n,i,s,o,u,d,m,h,p,v,x;let b,S;if("message"in t)b=t.message,S=t.signature;else{const{chain:j,wallet:k,statement:E,options:N}=t;let A;if(cn())if(typeof k=="object")A=k;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))A=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=k}const T=new URL((r=N==null?void 0:N.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in A&&A.signIn){const I=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N==null?void 0:N.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),E?{statement:E}:null));let L;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")L=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)L=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)b=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),S=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${T.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(i=(n=N==null?void 0:N.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=N==null?void 0:N.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((o=N==null?void 0:N.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((u=N==null?void 0:N.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((d=N==null?void 0:N.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((m=N==null?void 0:N.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((p=(h=N==null?void 0:N.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...N.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const I=await A.signMessage(new TextEncoder().encode(b),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=I}}try{const{data:j,error:k}=await rt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Sa(S)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:ti});if(k)throw k;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new So}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:k})}catch(j){if(Qe(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(t){const r=await ha(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:o}=await rt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ti});if(await Is(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new So}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(Qe(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:o}=t,u=await rt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ti}),{data:d,error:m}=u;return m?{data:{user:null,session:null},error:m}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new So}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:m})}catch(r){if(Qe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,s,o;try{if("email"in t){const{email:u,options:d}=t;let m=null,h=null;this.flowType==="pkce"&&([m,h]=await jo(this.storage,this.storageKey));const{error:p}=await rt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},create_user:(n=d==null?void 0:d.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:m,code_challenge_method:h},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:u,options:d}=t,{data:m,error:h}=await rt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=d==null?void 0:d.data)!==null&&i!==void 0?i:{},create_user:(s=d==null?void 0:d.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(o=d==null?void 0:d.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:h}}throw new wd("You must provide either an email or phone number.")}catch(u){if(Qe(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:u}=await rt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:ti});if(u)throw u;if(!o)throw new Error("An error occurred on token verification.");const d=o.session,m=o.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:m,session:d},error:null}}catch(i){if(Qe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await jo(this.storage,this.storageKey)),await rt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:HD})}catch(s){if(Qe(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Rs;const{error:i}=await rt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Qe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:o}=await rt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:o,error:u}=await rt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:u}}throw new wd("You must provide either an email or phone number and a type")}catch(r){if(Qe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ha(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Cp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await ha(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Pp()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(d,m,h)=>(!o&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,m,h))})}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await rt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ls}):await this._useSession(async r=>{var n,i,s;const{data:o,error:u}=r;if(u)throw u;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rs}:await rt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ls})})}catch(r){if(Qe(r))return wD(r)&&(await this._removeSession(),await Is(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Rs;const o=i.session;let u=null,d=null;this.flowType==="pkce"&&t.email!=null&&([u,d]=await jo(this.storage,this.storageKey));const{data:m,error:h}=await rt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:d}),jwt:o.access_token,xform:Ls});if(h)throw h;return o.user=m.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Qe(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Rs;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:o}=Op(t.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:u,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!u)return{data:{user:null,session:null},error:null};s=u}else{const{data:u,error:d}=await this._getUser(t.access_token);if(d)throw d;s={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(Qe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:u}=r;if(u)throw u;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Rs;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Qe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!cn())throw new bd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new bd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new D1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new D1("No code detected.");const{data:E,error:N}=await this._exchangeCodeForSession(t.code);if(N)throw N;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:u,expires_at:d,token_type:m}=t;if(!s||!u||!o||!m)throw new bd("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(u);let v=h+p;d&&(v=parseInt(d));const x=v-h;x*1e3<=Oo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${p}s`);const b=v-p;h-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,v,h):h-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,v,h);const{data:S,error:j}=await this._getUser(s);if(j)throw j;const k={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:v,refresh_token:o,token_type:m,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:k,redirectType:t.type},error:null}}catch(n){if(Qe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ha(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:u}=await this.admin.signOut(o,t);if(u&&!(xD(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return t!=="others"&&(await this._removeSession(),await Is(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=CD(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await jo(this.storage,this.storageKey,!0));try{return await rt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(Qe(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var o,u,d,m,h;const{data:p,error:v}=s;if(v)throw v;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await rt(this.fetch,"GET",x,{headers:this.headers,jwt:(h=(m=p.session)===null||m===void 0?void 0:m.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return cn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Qe(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:o,provider:u,token:d,access_token:m,nonce:h}=t,p=await rt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:d,access_token:m,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ti}),{data:v,error:x}=p;return x?{data:{user:null,session:null},error:x}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new So}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),{data:v,error:x})}catch(i){if(Qe(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)throw o;return await rt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await TD(async i=>(i>0&&await PD(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await rt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ti})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Ap(s)&&Date.now()+o-n<Oo})}catch(n){if(this._debug(r,"error",n),Qe(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),cn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await ha(this.storage,this.storageKey);if(i&&this.userStorage){let o=await ha(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Po(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Pp()}else if(i&&!i.user&&!i.user){const o=await ha(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Is(this.storage,this.storageKey+"-user"),await Po(this.storage,this.storageKey,i)):i.user=Pp()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Cp;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Cp}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Ap(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:u}=await this._getUser(i.access_token);!u&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Rs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Zf;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new Rs;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const u={data:s.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(s){if(this._debug(i,"error",s),Qe(s)){const o={data:null,error:s};return Ap(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,r)}catch(d){s.push(d)}});if(await Promise.all(o),s.length>0){for(let u=0;u<s.length;u+=1)console.error(s[u]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Po(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=z1(i);await Po(this.storage,this.storageKey,s)}else{const i=z1(r);await Po(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Is(this.storage,this.storageKey),await Is(this.storage,this.storageKey+"-code-verifier"),await Is(this.storage,this.storageKey+"-user"),this.userStorage&&await Is(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&cn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Oo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Oo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Oo}ms, refresh threshold is ${Rv} ticks`),i<=Rv&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof gE)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!cn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await jo(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(u.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await rt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)return{data:null,error:o};const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:m}=await rt(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return m?{data:null,error:m}:(t.factorType==="totp"&&d.type==="totp"&&(!((i=d==null?void 0:d.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?c$(t.webauthn.credential_response):u$(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:d}=await rt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:d})})}catch(r){if(Qe(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const o=await rt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:u}=o;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:o$(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:l$(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Qe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Op(i.access_token);let u=null;o.aal&&(u=o.aal);let d=u;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const h=o.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(u=>u.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(u=>u.kid===t),n&&this.jwks_cached_at+vD>i)return n;const{data:s,error:o}=await rt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(u=>u.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:x,error:b}=await this.getSession();if(b||!x.session)return{data:null,error:b};n=x.session.access_token}const{header:i,payload:s,signature:o,raw:{header:u,payload:d}}=Op(n);r!=null&&r.allowExpired||FD(s.exp);const m=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!m){const{error:x}=await this.getUser(n);if(x)throw x;return{data:{claims:s,header:i,signature:o},error:null}}const h=zD(i.alg),p=await crypto.subtle.importKey("jwk",m,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,o,ND(`${u}.${d}`)))throw new Mv("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(n){if(Qe(n))return{data:null,error:n};throw n}}}Nc.nextInstanceID=0;const x$=Nc;class w$ extends x${constructor(t){super(t)}}var b$=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(h){try{m(n.next(h))}catch(p){o(p)}}function d(h){try{m(n.throw(h))}catch(p){o(p)}}function m(h){h.done?s(h.value):i(h.value).then(u,d)}m((n=n.apply(e,t||[])).next())})};class S${constructor(t,r,n){var i,s,o;this.supabaseUrl=t,this.supabaseKey=r;const u=fD(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const d=`sb-${u.hostname.split(".")[0]}-auth-token`,m={db:rD,realtime:iD,auth:Object.assign(Object.assign({},nD),{storageKey:d}),global:tD},h=dD(n??{},m);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=h.global.headers)!==null&&s!==void 0?s:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=lD(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new yR(new URL("rest/v1",u).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new XR(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new lR(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return b$(this,void 0,void 0,function*(){var t,r;if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:o,flowType:u,lock:d,debug:m},h,p){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new w$({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),h),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,flowType:u,lock:d,debug:m,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new DR(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const j$=(e,t,r)=>new S$(e,t,r);function _$(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}_$()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const k$="https://okdzllfpsvltjqryslnn.supabase.co",N$="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9rZHpsbGZwc3ZsdGpxcnlzbG5uIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3NTcxMTgsImV4cCI6MjA3NTMzMzExOH0.uLhMzo49-OMEp4ghFAFI31IpiDs1tjbyY2jZlk-vgUo",Ye=j$(k$,N$);async function E$(e){const{data:t,error:r}=await Ye.from("users").select("*").eq("email",e).single();if(r){if(r.code==="PGRST116")return null;throw r}return t}async function C$(e){const{data:t,error:r}=await Ye.from("users").insert([e]).select().single();if(r)throw r;return t}async function Gy(e,t){let r=await E$(e);return r||(r=await C$({email:e,name:t})),r}async function K1(){const{data:e,error:t}=await Ye.from("users").select("*").order("created_at",{ascending:!1});if(t)throw t;return e||[]}async function A$(e){var o,u;const[t,r,n]=await Promise.all([rl(e),Ye.from("session_admins").select("session_id").eq("user_id",e),Ye.from("users").select("email").eq("id",e).single()]),i=((o=r.data)==null?void 0:o.length)||0;let s=0;if((u=n.data)!=null&&u.email){const{data:d}=await Ye.from("session_stakeholders").select("session_id").eq("user_email",n.data.email);s=(d==null?void 0:d.length)||0}return{userId:e,isSystemAdmin:t,sessionAdminCount:i,stakeholderSessionCount:s}}async function Jy(){const{data:e,error:t}=await Ye.from("voting_sessions").select("*").order("created_at",{ascending:!1});if(t)throw t;return e||[]}async function O$(e){const{data:t,error:r}=await Ye.from("voting_sessions").select("*").eq("session_code",e).single();if(r){if(r.code==="PGRST116")return null;throw r}return t}async function wE(e){if(await rl(e))return Jy();const{data:r,error:n}=await Ye.from("session_admins").select("session_id").eq("user_id",e);if(n)throw n;const i=(r==null?void 0:r.map(v=>v.session_id))||[],s=await Ye.from("users").select("email").eq("id",e).single();if(s.error)throw s.error;const{data:o,error:u}=await Ye.from("session_stakeholders").select("session_id").eq("user_email",s.data.email);if(u)throw u;const d=(o==null?void 0:o.map(v=>v.session_id))||[],m=[...new Set([...i,...d])];if(m.length===0)return[];const{data:h,error:p}=await Ye.from("voting_sessions").select("*").in("id",m).order("created_at",{ascending:!1});if(p)throw p;return h||[]}async function P$(e){const{data:t,error:r}=await Ye.from("voting_sessions").insert([e]).select().single();if(r)throw r;return t}async function T$(e,t){const{data:r,error:n}=await Ye.from("voting_sessions").update(t).eq("id",e).select().single();if(n)throw n;return r}async function bE(e){const{data:t,error:r}=await Ye.from("session_admins").select(`
      *,
      users (*)
    `).eq("session_id",e);if(r)throw r;return(t||[]).map(n=>({id:n.id,session_id:n.session_id,user_id:n.user_id,created_at:n.created_at,user:n.users}))}async function rf(e,t){const{data:r,error:n}=await Ye.from("session_admins").insert([{session_id:e,user_id:t}]).select().single();if(n)throw n;return r}async function I$(e,t,r){const n=await Gy(t,r);return rf(e,n.id)}async function Vd(e,t){const{error:r}=await Ye.from("session_admins").delete().eq("session_id",e).eq("user_id",t);if(r)throw r}async function Ec(e,t){try{if(await rl(t))return!0;const{data:n,error:i}=await Ye.from("session_admins").select("id").eq("session_id",e).eq("user_id",t).maybeSingle();return i?(console.error("Error checking admin status:",i),!1):!!n}catch(r){return console.error("Caught exception checking admin:",r),!1}}async function SE(e){const{data:t,error:r}=await Ye.from("session_stakeholders").select("*").eq("session_id",e).order("user_name",{ascending:!0});if(r)throw r;return t||[]}async function jE(e){const{data:t,error:r}=await Ye.from("session_stakeholders").insert([e]).select().single();if(r)throw r;return t}async function Y1(e,t,r){return jE({session_id:e,user_email:t,user_name:r})}function _E(e,t,r){const n=`${window.location.origin}/login?session=${e.session_code??""}`,i=encodeURIComponent(`You're invited to vote: ${e.title}`),s=encodeURIComponent(`Hi,

You've been invited to participate in a feature voting session.

Session: ${e.title}
Goal: ${e.goal}

To get started, copy and paste this link into your browser:

${n}

Voting Period: ${e.start_date?G1(e.start_date):""} - ${e.end_date?G1(e.end_date):""}

Best regards,
${r}`);return`mailto:${encodeURIComponent(t)}?subject=${i}&body=${s}`}function G1(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}async function Lv(e,t){const{error:r}=await Ye.from("session_stakeholders").delete().eq("session_id",e).eq("user_email",t);if(r)throw r}async function Qy(e,t){try{const{data:r,error:n}=await Ye.from("session_stakeholders").select("id").eq("session_id",e).eq("user_email",t).maybeSingle();return n?(console.error("Error checking stakeholder status:",n),!1):!!r}catch(r){return console.error("Caught exception checking stakeholder:",r),!1}}async function qi(e){const{data:t,error:r}=await Ye.from("features").select("*").eq("session_id",e).order("created_at",{ascending:!1});if(r)throw r;return t||[]}async function Ip(e){const{data:t,error:r}=await Ye.from("features").insert([{session_id:e.session_id,title:e.title,description:e.description,epic:e.epic,state:e.state,area_path:e.areaPath,tags:e.tags,azure_devops_id:e.azure_devops_id,azure_devops_url:e.azure_devops_url}]).select().single();if(r)throw r;return t}async function Rp(e,t){const r={};t.title!==void 0&&(r.title=t.title),t.description!==void 0&&(r.description=t.description),t.epic!==void 0&&(r.epic=t.epic),t.state!==void 0&&(r.state=t.state),t.areaPath!==void 0&&(r.area_path=t.areaPath),t.tags!==void 0&&(r.tags=t.tags),t.azure_devops_id!==void 0&&(r.azure_devops_id=t.azure_devops_id),t.azure_devops_url!==void 0&&(r.azure_devops_url=t.azure_devops_url);const{data:n,error:i}=await Ye.from("features").update(r).eq("id",e).select().single();if(i)throw i;return n}async function J1(e){const{error:t}=await Ye.from("features").delete().eq("id",e);if(t)throw t}async function ba(e){const{data:t,error:r}=await Ye.from("votes").select("*").eq("session_id",e);if(r)throw r;return t||[]}async function R$(e){const{data:t}=await Ye.from("votes").select("*").eq("session_id",e.session_id).eq("feature_id",e.feature_id).eq("user_id",e.user_id).single();if(t){const{data:r,error:n}=await Ye.from("votes").update({vote_count:e.vote_count}).eq("session_id",e.session_id).eq("feature_id",e.feature_id).eq("user_id",e.user_id).select().single();if(n)throw n;return r}else{const{data:r,error:n}=await Ye.from("votes").insert([e]).select().single();if(n)throw n;return r}}async function D$(e,t){const{error:r}=await Ye.from("votes").delete().eq("session_id",e).eq("user_id",t);if(r)throw console.error("Error deleting user votes:",r),r}async function $$(e){const{error:t}=await Ye.from("votes").delete().eq("session_id",e);if(t)throw t}async function M$(e){try{const{data:t,error:r}=await Ye.from("azure_devops_config").select("*").eq("session_id",e).maybeSingle();if(r){if(r.code==="PGRST116")return null;throw r}return t}catch(t){return console.error("Error getting Azure DevOps config:",t),null}}async function Eo(e,t){try{const r={session_id:e,organization:t.organization,project:t.project,enabled:t.enabled,work_item_type:t.workItemType};t.accessToken!==void 0&&(r.access_token=t.accessToken),t.refreshToken!==void 0&&(r.refresh_token=t.refreshToken),t.tokenExpiresAt!==void 0&&(r.token_expires_at=t.tokenExpiresAt),t.tenantId!==void 0&&(r.tenant_id=t.tenantId),t.clientId!==void 0&&(r.client_id=t.clientId),t.query!==void 0&&(r.query=t.query),t.lastSyncTime!==void 0&&(r.last_sync_time=t.lastSyncTime),t.states!==void 0&&(r.states=t.states),t.areaPath!==void 0&&(r.area_path=t.areaPath),t.tags!==void 0&&(r.tags=t.tags);const{data:n,error:i}=await Ye.from("azure_devops_config").update(r).eq("session_id",e).select();if(!i&&n&&n.length>0)return n[0];const{data:s,error:o}=await Ye.from("azure_devops_config").upsert([r]).select().single();if(!o)return s;if((o==null?void 0:o.code)==="23505"){const{data:u,error:d}=await Ye.from("azure_devops_config").select("*").eq("session_id",e).maybeSingle();if(d)throw d;return u}throw o||i}catch(r){throw console.error("Error saving Azure DevOps config:",r),r}}async function L$(){return(await Jy())[0]||null}async function Q1(e){const t=await L$();if(!t)throw new Error("No session found");return T$(t.id,e)}async function F$(e){const{data:t,error:r}=await Ye.from("info_requests").insert([{session_id:e.session_id,feature_id:e.feature_id,feature_title:e.feature_title,requester_id:e.requester_id,requester_name:e.requester_name,requester_email:e.requester_email,created_at:e.created_at}]).select().single();if(r)throw r;return t}async function z$(e){const{error:t}=await Ye.from("feature_suggestions").insert([{session_id:e.session_id??null,title:e.title,description:e.description??null,requester_id:e.requester_id??null,requester_name:e.requester_name??null,requester_email:e.requester_email??null,created_at:new Date().toISOString()}]);if(t)throw t}async function Fv(){const{data:e,error:t}=await Ye.from("system_admins").select(`
      *,
      users (*)
    `).order("created_at",{ascending:!1});if(t)throw t;return(e||[]).map(r=>({id:r.id,user_id:r.user_id,created_at:r.created_at,user:r.users}))}async function nf(e){const{data:t,error:r}=await Ye.from("system_admins").insert([{user_id:e}]).select().single();if(r)throw r;return t}async function Wd(e){const{error:t}=await Ye.from("system_admins").delete().eq("user_id",e);if(t)throw t}async function rl(e){try{const{data:t,error:r}=await Ye.from("system_admins").select("id").eq("user_id",e).maybeSingle();return r?(console.error("Error checking system admin status:",r),!1):!!t}catch(t){return console.error("Caught exception checking system admin:",t),!1}}const kE=w.createContext(void 0);function U$({children:e}){const[t,r]=w.useState(null),[n,i]=w.useState([]),[s,o]=w.useState(null),[u,d]=w.useState(!1),[m,h]=w.useState(!1),[p,v]=w.useState(!0),[x,b]=w.useState(!1);w.useEffect(()=>{(async()=>{const A=localStorage.getItem("voting_system_user");if(A)try{const T=JSON.parse(A);o(T),await S(T)}catch(T){console.error("Error loading stored user:",T),localStorage.removeItem("voting_system_user")}v(!1)})()},[]),w.useEffect(()=>{(async()=>{if(!t||!s){d(!1),h(!1),b(!1);return}if(!x)try{const[A,T]=await Promise.all([Ec(t.id,s.id),Qy(t.id,s.email)]);d(A),h(T),b(!1)}catch(A){console.error("Error checking user roles:",A),d(!1),h(!1),b(!0)}})()},[t,s,x]);const S=w.useCallback(async N=>{const A=N||s;if(!A){i([]);return}try{const T=await wE(A.id);i(T),t&&!T.find(I=>I.id===t.id)&&r(null)}catch(T){console.error("Error loading sessions:",T),i([])}},[s,t]),j=w.useCallback(async N=>{o(N),b(!1),N?(localStorage.setItem("voting_system_user",JSON.stringify(N)),await S(N)):(localStorage.removeItem("voting_system_user"),i([]),r(null))},[S]),k=w.useCallback(N=>{r(N),b(!1),N?localStorage.setItem("voting_system_current_session",N.id):localStorage.removeItem("voting_system_current_session")},[]);w.useEffect(()=>{(async()=>{if(!s||n.length===0)return;const A=localStorage.getItem("voting_system_current_session");if(A){const T=n.find(I=>I.id===A);T&&r(T)}})()},[s,n]);const E={currentSession:t,sessions:n,currentUser:s,isAdmin:u,isStakeholder:m,setCurrentSession:k,refreshSessions:S,setCurrentUser:j};return p?c.jsx("div",{className:"min-h-screen w-full bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2d4660] mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):c.jsx(kE.Provider,{value:E,children:e})}function Ri(){const e=w.useContext(kE);if(e===void 0)throw new Error("useSession must be used within a SessionProvider");return e}function Xy(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function Ys(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(m){try{d(n.next(m))}catch(h){s(h)}}function u(m){try{d(n.throw(m))}catch(h){s(h)}}function d(m){var h;m.done?i(m.value):(h=m.value,h instanceof r?h:new r((function(p){p(h)}))).then(o,u)}d((n=n.apply(e,[])).next())}))}var X1,Z1,eS,sf,tS,rS,nS,zv,iS,sS;function B$(e){return(e==null?void 0:e.errorCode)!==void 0}(function(e){e.Inline="inline",e.Desktop="desktop",e.Web="web"})(X1||(X1={})),(function(e){e.M365Content="m365content"})(Z1||(Z1={})),(function(e){e.DriveId="driveId",e.GroupId="groupId",e.SiteId="siteId",e.UserId="userId"})(eS||(eS={})),(function(e){e[e.NOT_SUPPORTED_ON_PLATFORM=100]="NOT_SUPPORTED_ON_PLATFORM",e[e.INTERNAL_ERROR=500]="INTERNAL_ERROR",e[e.NOT_SUPPORTED_IN_CURRENT_CONTEXT=501]="NOT_SUPPORTED_IN_CURRENT_CONTEXT",e[e.PERMISSION_DENIED=1e3]="PERMISSION_DENIED",e[e.NETWORK_ERROR=2e3]="NETWORK_ERROR",e[e.NO_HW_SUPPORT=3e3]="NO_HW_SUPPORT",e[e.INVALID_ARGUMENTS=4e3]="INVALID_ARGUMENTS",e[e.UNAUTHORIZED_USER_OPERATION=5e3]="UNAUTHORIZED_USER_OPERATION",e[e.INSUFFICIENT_RESOURCES=6e3]="INSUFFICIENT_RESOURCES",e[e.THROTTLE=7e3]="THROTTLE",e[e.USER_ABORT=8e3]="USER_ABORT",e[e.OPERATION_TIMED_OUT=8001]="OPERATION_TIMED_OUT",e[e.OLD_PLATFORM=9e3]="OLD_PLATFORM",e[e.FILE_NOT_FOUND=404]="FILE_NOT_FOUND",e[e.SIZE_EXCEEDED=1e4]="SIZE_EXCEEDED"})(sf||(sf={})),(function(e){e.GeoLocation="geolocation",e.Media="media"})(tS||(tS={})),(function(e){e.BCAIS="bcais",e.BCWAF="bcwaf",e.BCWBF="bcwbf"})(rS||(rS={})),(function(e){e.Faculty="faculty",e.Student="student",e.Other="other"})(nS||(nS={})),(function(e){e.Adult="adult",e.MinorNoParentalConsentRequired="minorNoParentalConsentRequired",e.MinorWithoutParentalConsent="minorWithoutParentalConsent",e.MinorWithParentalConsent="minorWithParentalConsent",e.NotAdult="notAdult",e.NonAdult="notAdult"})(zv||(zv={})),(function(e){e.HigherEducation="higherEducation",e.K12="k12",e.Other="other"})(iS||(iS={})),(function(e){e.TextPlain="text/plain",e.TextHtml="text/html",e.ImagePNG="image/png",e.ImageJPEG="image/jpeg"})(sS||(sS={}));var ht,Uv,Bv,aS,oS,lS,cS,uS;(function(e){e.desktop="desktop",e.web="web",e.android="android",e.ios="ios",e.ipados="ipados",e.macos="macos",e.visionOS="visionOS",e.rigel="rigel",e.surfaceHub="surfaceHub",e.teamsRoomsWindows="teamsRoomsWindows",e.teamsRoomsAndroid="teamsRoomsAndroid",e.teamsPhones="teamsPhones",e.teamsDisplays="teamsDisplays"})(ht||(ht={})),(function(e){e.office="Office",e.outlook="Outlook",e.outlookWin32="OutlookWin32",e.orange="Orange",e.places="Places",e.teams="Teams",e.teamsModern="TeamsModern"})(Uv||(Uv={})),(function(e){e.settings="settings",e.content="content",e.authentication="authentication",e.remove="remove",e.task="task",e.sidePanel="sidePanel",e.stage="stage",e.meetingStage="meetingStage"})(Bv||(Bv={})),(function(e){e.copilotSidePanel="copilotSidePanel",e.copilotMainPane="copilotMainPane",e.copilotFullScreen="copilotFullScreen"})(aS||(aS={})),(function(e){e[e.Standard=0]="Standard",e[e.Edu=1]="Edu",e[e.Class=2]="Class",e[e.Plc=3]="Plc",e[e.Staff=4]="Staff"})(oS||(oS={})),(function(e){e[e.Admin=0]="Admin",e[e.User=1]="User",e[e.Guest=2]="Guest"})(lS||(lS={})),(function(e){e.Large="large",e.Medium="medium",e.Small="small"})(cS||(cS={})),(function(e){e.Regular="Regular",e.Private="Private",e.Shared="Shared"})(uS||(uS={}));const V$={errorCode:sf.NOT_SUPPORTED_ON_PLATFORM},W$={adaptiveCardSchemaVersion:{majorVersion:1,minorVersion:5}};var dS={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Sd;const q$=new Uint8Array(16);function H$(){if(!Sd&&(Sd=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Sd))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Sd(q$)}const jr=[];for(let e=0;e<256;++e)jr.push((e+256).toString(16).slice(1));function K$(e,t=0){return jr[e[t+0]]+jr[e[t+1]]+jr[e[t+2]]+jr[e[t+3]]+"-"+jr[e[t+4]]+jr[e[t+5]]+"-"+jr[e[t+6]]+jr[e[t+7]]+"-"+jr[e[t+8]]+jr[e[t+9]]+"-"+jr[e[t+10]]+jr[e[t+11]]+jr[e[t+12]]+jr[e[t+13]]+jr[e[t+14]]+jr[e[t+15]]}function Y$(e,t,r){if(dS.randomUUID&&!e)return dS.randomUUID();const n=(e=e||{}).random||(e.rng||H$)();return n[6]=15&n[6]|64,n[8]=63&n[8]|128,K$(n)}var G$=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function J$(e){return typeof e=="string"&&G$.test(e)}function NE(e,t){if(typeof e!="string"||typeof t!="string")return NaN;const r=e.split("."),n=t.split(".");function i(s){return/^\d+$/.test(s)}if(!r.every(i)||!n.every(i))return NaN;for(;r.length<n.length;)r.push("0");for(;n.length<r.length;)n.push("0");for(let s=0;s<r.length;++s)if(Number(r[s])!=Number(n[s]))return Number(r[s])>Number(n[s])?1:-1;return 0}function Q$(){return Y$()}function EE(e){return Object.keys(e).forEach((t=>{e[t]!==null&&e[t]!==void 0&&typeof e[t]=="object"&&EE(e[t])})),Object.freeze(e)}function X$(e,t,r){return new Promise(((n,i)=>{const s=setTimeout(i,t,r);e().then((o=>{clearTimeout(s),n(o)})).catch((o=>{clearTimeout(s),i(o)}))}))}function Z$(e){return e.protocol==="https:"}function eM(){if(eh())throw new Error("window object undefined at SSR check");return window}function eh(){return typeof window>"u"}function tM(e){return new RegExp(`${/<script[^>]*>|&lt;script[^&]*&gt;|%3Cscript[^%]*%3E/gi.source}|${/<\/script[^>]*>|&lt;\/script[^&]*&gt;|%3C\/script[^%]*%3E/gi.source}`,"gi").test(e)}function rM(e){if(!e)throw new Error("id must not be empty");if(J$(e)===!1)throw new Error("id must be a valid UUID")}const nM=!!performance&&"now"in performance;function Zy(){return nM?performance.now()+performance.timeOrigin:void 0}function fS(e){var t,r;if(!(!((r=(t=e.hostVersionsInfo)===null||t===void 0?void 0:t.appEligibilityInformation)===null||r===void 0)&&r.ageGroup))return e;const n=e.hostVersionsInfo.appEligibilityInformation.ageGroup;return(n==null?void 0:n.toLowerCase())!=="nonadult"?e:Object.assign(Object.assign({},e),{hostVersionsInfo:Object.assign(Object.assign({},e.hostVersionsInfo),{appEligibilityInformation:Object.assign(Object.assign({},e.hostVersionsInfo.appEligibilityInformation),{ageGroup:zv.NotAdult})})})}let Vc=class{constructor(t=Q$()){this.uuid=t,rM(t)}toString(){return this.uuid}serialize(){return this.toString()}};const CE=e=>{const{uuid:t}=e,r=Xy(e,["uuid"]),n=t==null?void 0:t.toString();return Object.assign(Object.assign({},r),{uuidAsString:n})},iM=e=>{const{uuidAsString:t}=e,r=Xy(e,["uuidAsString"]);return Object.assign(Object.assign({},r),{uuid:t?new Vc(t):void 0})};var Vv={exports:{}},hS,mS;function sM(){if(mS)return hS;mS=1;var e=1e3,t=60*e,r=60*t,n=24*r,i=7*n,s=365.25*n;function o(u,d,m,h){var p=d>=1.5*m;return Math.round(u/m)+" "+h+(p?"s":"")}return hS=function(u,d){d=d||{};var m=typeof u;if(m==="string"&&u.length>0)return(function(h){if(!((h=String(h)).length>100)){var p=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(h);if(p){var v=parseFloat(p[1]);switch((p[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return v*s;case"weeks":case"week":case"w":return v*i;case"days":case"day":case"d":return v*n;case"hours":case"hour":case"hrs":case"hr":case"h":return v*r;case"minutes":case"minute":case"mins":case"min":case"m":return v*t;case"seconds":case"second":case"secs":case"sec":case"s":return v*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return v;default:return}}}})(u);if(m==="number"&&isFinite(u))return d.long?(function(h){var p=Math.abs(h);return p>=n?o(h,p,n,"day"):p>=r?o(h,p,r,"hour"):p>=t?o(h,p,t,"minute"):p>=e?o(h,p,e,"second"):h+" ms"})(u):(function(h){var p=Math.abs(h);return p>=n?Math.round(h/n)+"d":p>=r?Math.round(h/r)+"h":p>=t?Math.round(h/t)+"m":p>=e?Math.round(h/e)+"s":h+"ms"})(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))}}var aM=function(e){function t(i){let s,o,u,d=null;function m(...h){if(!m.enabled)return;const p=m,v=Number(new Date),x=v-(s||v);p.diff=x,p.prev=s,p.curr=v,s=v,h[0]=t.coerce(h[0]),typeof h[0]!="string"&&h.unshift("%O");let b=0;h[0]=h[0].replace(/%([a-zA-Z%])/g,((S,j)=>{if(S==="%%")return"%";b++;const k=t.formatters[j];if(typeof k=="function"){const E=h[b];S=k.call(p,E),h.splice(b,1),b--}return S})),t.formatArgs.call(p,h),(p.log||t.log).apply(p,h)}return m.namespace=i,m.useColors=t.useColors(),m.color=t.selectColor(i),m.extend=r,m.destroy=t.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(o!==t.namespaces&&(o=t.namespaces,u=t.enabled(i)),u),set:h=>{d=h}}),typeof t.init=="function"&&t.init(m),m}function r(i,s){const o=t(this.namespace+(s===void 0?":":s)+i);return o.log=this.log,o}function n(i){return i.toString().substring(2,i.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(i){return i instanceof Error?i.stack||i.message:i},t.disable=function(){const i=[...t.names.map(n),...t.skips.map(n).map((s=>"-"+s))].join(",");return t.enable(""),i},t.enable=function(i){let s;t.save(i),t.namespaces=i,t.names=[],t.skips=[];const o=(typeof i=="string"?i:"").split(/[\s,]+/),u=o.length;for(s=0;s<u;s++)o[s]&&((i=o[s].replace(/\*/g,".*?"))[0]==="-"?t.skips.push(new RegExp("^"+i.slice(1)+"$")):t.names.push(new RegExp("^"+i+"$")))},t.enabled=function(i){if(i[i.length-1]==="*")return!0;let s,o;for(s=0,o=t.skips.length;s<o;s++)if(t.skips[s].test(i))return!1;for(s=0,o=t.names.length;s<o;s++)if(t.names[s].test(i))return!0;return!1},t.humanize=sM(),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((i=>{t[i]=e[i]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(i){let s=0;for(let o=0;o<i.length;o++)s=(s<<5)-s+i.charCodeAt(o),s|=0;return t.colors[Math.abs(s)%t.colors.length]},t.enable(t.load()),t},oM={};(function(e,t){t.formatArgs=function(n){if(n[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+n[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const i="color: "+this.color;n.splice(1,0,i,"color: inherit");let s=0,o=0;n[0].replace(/%[a-zA-Z%]/g,(u=>{u!=="%%"&&(s++,u==="%c"&&(o=s))})),n.splice(o,0,i)},t.save=function(n){try{n?t.storage.setItem("debug",n):t.storage.removeItem("debug")}catch{}},t.load=function(){let n;try{n=t.storage.getItem("debug")}catch{}return!n&&typeof process<"u"&&"env"in process&&(n=oM.DEBUG),n},t.useColors=function(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=(function(){try{return localStorage}catch{}})(),t.destroy=(()=>{let n=!1;return()=>{n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=aM(t);const{formatters:r}=e.exports;r.j=function(n){try{return JSON.stringify(n)}catch(i){return"[UnexpectedJSONParseError]: "+i.message}}})(Vv,Vv.exports);var e0=Vv.exports;const lM=new Vc,cM=e0.debug.formatArgs;e0.debug.formatArgs=function(e){e[0]=`(${new Date().toISOString()}): ${e[0]} [${lM.toString()}]`,cM.call(this,e)};const uM=e0.debug("teamsJs");function Di(e){return uM.extend(e)}function Kt(e,t){return`${e}_${t}`}function AE(e){return/^v\d+_[\w.]+$/.test(e)}function Bs(e){return e.uuidAsString!==void 0?`${e.uuidAsString} (legacy id: ${e.id})`:e.uuid!==void 0?`${e.uuid.toString()} (legacy id: ${e.id})`:`legacy id: ${e.id} (no uuid)`}const dM=Di("flushMessageQueue");function OE(e,t,r,n){if(e&&t&&r.length!==0)for(;r.length>0;){const i=r.shift();if(i){const s=CE(i);dM("Flushing message %s from %s message queue via postMessage.",Bs(s),n),e.postMessage(s,t)}}}var fM=["teams.microsoft.com","teams.microsoft.us","gov.teams.microsoft.us","dod.teams.microsoft.us","int.teams.microsoft.com","outlook.office.com","outlook-sdf.office.com","outlook.office365.com","outlook-sdf.office365.com","outlook.office365.us","outlook-dod.office365.us","webmail.apps.mil","outlook.live.com","outlook-sdf.live.com","teams.live.com","local.teams.live.com","local.teams.live.com:8080","local.teams.office.com","local.teams.office.com:8080","devspaces.skype.com","*.www.office.com","www.office.com","word.office.com","excel.office.com","powerpoint.office.com","www.officeppe.com","*.www.microsoft365.com","www.microsoft365.com","bing.com","edgeservices.bing.com","work.bing.com","www.bing.com","www.staging-bing-int.com","*.cloud.microsoft","*.m365.cloud.microsoft","*.outlook.cloud.microsoft","chatuxmanager.svc.cloud.microsoft","copilot.microsoft.com","windows.msn.com","fa000000125.resources.office.net","fa000000129.resources.office.net","fa000000124.resources.office.net","fa000000128.resources.office.net","fa000000136.resources.office.net","fa000000125.officeapps.live.com","fa000000129.officeapps.live.com","fa000000124.officeapps.live.com","fa000000128.officeapps.live.com"];const pS="2.0.1",qd=fM,gS=1500,hM=new URL("https://res.cdn.office.net/teams-js/validDomains/json/validDomains.json"),mM=/^https:\/\//,Cc="The library has not yet been initialized",pM="The runtime has not yet been initialized",gM="The runtime version is not supported";let it=class{};it.initializeCalled=!1,it.initializeCompleted=!1,it.additionalValidOrigins=[],it.initializePromise=void 0,it.isFramelessWindow=!1,it.frameContext=void 0,it.hostClientType=void 0,it.printCapabilityEnabled=!1,it.teamsJsInstanceId=new Vc().toString();const PE=Di("runtime"),th=4;function TE(e){return e.apiVersion===th}function vM(e){if(TE(e))return!0;throw e.apiVersion===-1?new Error(pM):new Error(gM)}let Ci={apiVersion:-1,supports:{}};const yM={supports:{appInstallDialog:{},appEntity:{},call:{},chat:{},conversations:{},dialog:{card:{bot:{}},url:{bot:{},parentCommunication:{}},update:{}},interactive:{},logs:{},meetingRoom:{},menus:{},monetization:{},notifications:{},pages:{config:{},backStack:{},fullTrust:{}},remoteCamera:{},teams:{fullTrust:{}},teamsCore:{},video:{sharedFrame:{}}}},IE=[ht.desktop,ht.web,ht.rigel,ht.surfaceHub,ht.teamsRoomsWindows,ht.teamsRoomsAndroid,ht.teamsPhones,ht.teamsDisplays],xM=[ht.android,ht.ios,ht.ipados,ht.visionOS],vS=[...IE,...xM];function wM(e){let t=e;if(t.apiVersion<th&&bM.forEach((r=>{t.apiVersion===r.versionToUpgradeFrom&&(t=r.upgradeToNextVersion(t))})),TE(t))return t;throw new Error("Received a runtime that could not be upgraded to the latest version")}const bM=[{versionToUpgradeFrom:1,upgradeToNextVersion:e=>{var t;return{apiVersion:2,hostVersionsInfo:void 0,isLegacyTeams:e.isLegacyTeams,supports:Object.assign(Object.assign({},e.supports),{dialog:e.supports.dialog?{card:void 0,url:e.supports.dialog,update:(t=e.supports.dialog)===null||t===void 0?void 0:t.update}:void 0})}}},{versionToUpgradeFrom:2,upgradeToNextVersion:e=>{const t=e.supports,r=Xy(t,["appNotification"]);return Object.assign(Object.assign({},e),{apiVersion:3,supports:r})}},{versionToUpgradeFrom:3,upgradeToNextVersion:e=>{var t,r,n,i,s;return{apiVersion:4,hostVersionsInfo:e.hostVersionsInfo,isNAAChannelRecommended:e.isNAAChannelRecommended,isLegacyTeams:e.isLegacyTeams,supports:Object.assign(Object.assign({},e.supports),{dialog:e.supports.dialog?{card:(t=e.supports.dialog)===null||t===void 0?void 0:t.card,url:{bot:(n=(r=e.supports.dialog)===null||r===void 0?void 0:r.url)===null||n===void 0?void 0:n.bot,parentCommunication:!((i=e.supports.dialog)===null||i===void 0)&&i.url?{}:void 0},update:(s=e.supports.dialog)===null||s===void 0?void 0:s.update}:void 0})}}}],SM={"1.0.0":[{capability:{pages:{appButton:{},tabs:{}},stageView:{}},hostClientTypes:IE}],"1.9.0":[{capability:{location:{}},hostClientTypes:vS}],"2.0.0":[{capability:{people:{}},hostClientTypes:vS},{capability:{sharing:{}},hostClientTypes:[ht.desktop,ht.web]}],"2.0.1":[{capability:{teams:{fullTrust:{joinedTeams:{}}}},hostClientTypes:[ht.android,ht.desktop,ht.ios,ht.teamsRoomsAndroid,ht.teamsPhones,ht.teamsDisplays,ht.web]},{capability:{webStorage:{}},hostClientTypes:[ht.desktop]}],"2.0.5":[{capability:{webStorage:{}},hostClientTypes:[ht.android,ht.ios]}],"2.0.8":[{capability:{sharing:{}},hostClientTypes:[ht.android,ht.ios]}],"2.1.1":[{capability:{nestedAppAuth:{}},hostClientTypes:[ht.android,ht.ios,ht.ipados,ht.visionOS]}],"2.1.2":[]},Dp=PE.extend("generateBackCompatRuntimeConfig");function RE(e,t){const r=Object.assign({},e);for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(typeof t[n]!="object"||Array.isArray(t[n])?n in e||(r[n]=t[n]):r[n]=RE(e[n]||{},t[n]));return r}function jM(e,t,r){Dp("generating back compat runtime config for %s",e);let n=Object.assign({},t.supports);Dp("Supported capabilities in config before updating based on highestSupportedVersion: %o",n),Object.keys(r).forEach((s=>{NE(e,s)>=0&&r[s].forEach((o=>{it.hostClientType!==void 0&&o.hostClientTypes.includes(it.hostClientType)&&(n=RE(n,o.capability))}))}));const i={apiVersion:th,hostVersionsInfo:W$,isLegacyTeams:!0,supports:n};return Dp("Runtime config after updating based on highestSupportedVersion: %o",i),i}const $p=PE.extend("applyRuntimeConfig");function Mp(e){typeof e.apiVersion=="string"&&($p("Trying to apply runtime with string apiVersion, processing as v1: %o",e),e=Object.assign(Object.assign({},e),{apiVersion:1})),$p("Fast-forwarding runtime %o",e);const t=wM(e);$p("Applying runtime %o",t),Ci=EE(t)}function _M(e){return e!=null&&e.serialize!==void 0&&typeof e.serialize=="function"}const af="2.46.0";let of=class To{static storeCallbackInformation(t,r){To.callbackInformation.set(t,r)}static clearMessages(){To.callbackInformation.clear()}static deleteMessageInformation(t){To.callbackInformation.delete(t)}static handleOneWayPerformanceMetrics(t,r,n){const i=t.monotonicTimestamp;i&&n?OS({actionName:t.func,messageDelay:n-i,requestStartedAt:i}):r("Unable to send performance metrics for event %s",t.func)}static handlePerformanceMetrics(t,r,n,i){const s=To.callbackInformation.get(t);s&&r.monotonicTimestamp&&i?(OS({actionName:s.name,messageDelay:i-r.monotonicTimestamp,requestStartedAt:s.calledAt}),To.deleteMessageInformation(t)):n("Unable to send performance metrics for callback %s with arguments %o",t.toString(),r.args)}};of.callbackInformation=new Map;const DE=Di("nestedAppAuthUtils"),kM=DE.extend("tryPolyfillWithNestedAppAuthBridge"),NM="v2";function EM(e,t,r){var n;const i=kM;if(it.isFramelessWindow)return void i("Cannot polyfill nestedAppAuthBridge as current window is frameless");if(!t)return void i("Cannot polyfill nestedAppAuthBridge as current window does not exist");if(t.parent!==t.top)return void i("Default NAA bridge injection not supported in nested iframe. Use standalone NAA bridge instead.");const s=(()=>{try{return JSON.parse(e)}catch{return null}})();if(!s||!(!((n=s.supports)===null||n===void 0)&&n.nestedAppAuth))return void i("Cannot polyfill nestedAppAuthBridge as current hub does not support nested app auth");const o=t;if(o.nestedAppAuthBridge)return void i("nestedAppAuthBridge already exists on current window, skipping polyfill");const u=(function(d,m){const h=CM;if(!d)return h("nestedAppAuthBridge cannot be created as current window does not exist"),null;const{onMessage:p,sendPostMessage:v}=m,x=b=>S=>p(S,b);return{addEventListener:(b,S)=>{b==="message"?d.addEventListener(b,x(S)):h(`Event ${b} is not supported by nestedAppAuthBridge`)},postMessage:b=>{const S=(()=>{try{return JSON.parse(b)}catch{return null}})();if(!S||typeof S!="object"||S.messageType!=="NestedAppAuthRequest")return void h("Unrecognized data format received by app, message being ignored. Message: %o",b);const j=Kt(NM,"nestedAppAuth.execute");v(b,j)},removeEventListener:(b,S)=>{d.removeEventListener(b,x(S))}}})(o,r);u&&(o.nestedAppAuthBridge=u)}const CM=DE.extend("createNestedAppAuthBridge");let Ds=[];const Fs=Di("validateOrigin");let fc;function AM(){return Ys(this,void 0,void 0,(function*(){fc||(yield ME())}))}function $E(){return Ds.length===0}function ME(e=!1){return Ys(this,void 0,void 0,(function*(){if(!$E()&&!e)return Ds;if(fc)return fc;if(eh())return Ds=qd,qd;{Fs("Initiating fetch call to acquire valid origins list from CDN");const t=new AbortController,r=setTimeout((()=>t.abort()),gS);return fc=fetch(hM,{signal:t.signal}).then((n=>{if(clearTimeout(r),!n.ok)throw new Error("Invalid Response from Fetch Call");return Fs("Fetch call completed and retrieved valid origins list from CDN"),n.json().then((i=>{if((function(s){let o=JSON.parse(s);try{o=JSON.parse(s)}catch{return!1}if(!o.validOrigins)return!1;for(const u of o.validOrigins)try{new URL("https://"+u)}catch{return Fs("isValidOriginsFromCDN call failed to validate origin: %s",u),!1}return!0})(JSON.stringify(i)))return Ds=i.validOrigins,Ds;throw new Error("Valid origins list retrieved from CDN is invalid")}))})).catch((n=>(n.name==="AbortError"?Fs(`validOrigins fetch call to CDN failed due to Timeout of ${gS} ms. Defaulting to fallback list`):Fs("validOrigins fetch call to CDN failed with error: %s. Defaulting to fallback list",n),Ds=qd,Ds))),fc}}))}function yS(e,t){if(e.substring(0,2)==="*."){const r=e.substring(1);if(t.length>r.length&&t.split(".").length===r.split(".").length&&t.substring(t.length-r.length)===r)return!0}else if(e===t)return!0;return!1}function OM(e,t){const r=$E()?qd:Ds;return xS(e,r)?Promise.resolve(!0):(Fs("Origin %s is not in the local valid origins list, fetching from CDN",e),ME(t).then((n=>xS(e,n))))}function xS(e,t){if(!Z$(e))return Fs("Origin %s is invalid because it is not using https protocol. Protocol being used: %s",e,e.protocol),!1;const r=e.host;if(t.some((n=>yS(n,r))))return!0;for(const n of it.additionalValidOrigins)if(yS(n.substring(0,8)==="https://"?n.substring(8):n,r))return!0;return Fs(`Origin %s is invalid because it is not an origin approved by this library or included in the call to app.initialize.
Origins approved by this library: %o
Origins included in app.initialize: %o`,e,t,it.additionalValidOrigins),!1}AM();const Ua=Di("communication");let qe=class{},gt=class{};function PM(e,t){if(gt.messageListener=r=>(function(n){return Ys(this,void 0,void 0,(function*(){if(!n||!n.data||typeof n.data!="object")return void wS("Unrecognized message format received by app, message being ignored. Message: %o",n);const i=n.source||n.originalEvent&&n.originalEvent.source,s=n.origin||n.originalEvent&&n.originalEvent.origin;return zE(i,s).then((o=>{o?((function(u,d){it.isFramelessWindow||qe.parentWindow&&!qe.parentWindow.closed&&u!==qe.parentWindow||(qe.parentWindow=u,qe.parentOrigin=d),qe.parentWindow&&qe.parentWindow.closed&&(qe.parentWindow=null,qe.parentOrigin=null),OE(qe.parentWindow,qe.parentOrigin,gt.parentMessageQueue,"parent")})(i,s),i!==qe.parentWindow?R3():SS(n)):wS("Message being ignored by app because it is either coming from the current window or a different window with an invalid origin, message: %o, source: %o, origin: %o",n,i,s)}))}))})(r),qe.currentWindow=qe.currentWindow||eM(),qe.parentWindow=qe.currentWindow.parent!==qe.currentWindow.self?qe.currentWindow.parent:qe.currentWindow.opener,qe.topWindow=qe.currentWindow.top,(qe.parentWindow||e)&&qe.currentWindow.addEventListener("message",gt.messageListener,!1),!qe.parentWindow){const r=qe.currentWindow;if(!r.nativeInterface)return Promise.reject(new Error("Initialization Failed. No Parent window found."));it.isFramelessWindow=!0,r.onNativeMessage=SS}try{return qe.parentOrigin="*",rh(t,"initialize",[af,th,e]).then((([r,n,i,s])=>(EM(s,qe.currentWindow,{onMessage:UM,sendPostMessage:MM}),{context:r,clientType:n,runtimeConfig:i,clientSupportedSDKVersion:s})))}finally{qe.parentOrigin=null}}function TM(e,t,...r){return rh(e,t,r).then((([n])=>n))}function IM(e,t,r,...n){return rh(e,t,n).then((([i,s])=>{if(!i)throw new Error(s||r)}))}function rh(e,t,r=void 0){if(!AE(e))throw Error(`apiVersionTag: ${e} passed in doesn't follow the pattern starting with 'v' followed by digits, then underscore with words, please check.`);return new Promise((n=>{const i=FE(e,t,r);var s;n((s=i.uuid,new Promise((o=>{gt.promiseCallbacks.set(s,o)}))))}))}function RM(e){return e.map((t=>_M(t)?t.serialize():t))}function DM(e,t,r,n,i){var s;return Ys(this,void 0,void 0,(function*(){const o=RM(t),[u]=yield rh(n,e,o);if(B$(u))throw new Error(`${u.errorCode}, message: ${(s=u.message)!==null&&s!==void 0?s:"None"}`);if(r.validate(u))return r.deserialize(u);throw new Error(`${sf.INTERNAL_ERROR}, message: Invalid response from host - ${JSON.stringify(u)}`)}))}function li(e,t,r,n){let i;if(r instanceof Function?n=r:r instanceof Array&&(i=r),!AE(e))throw Error(`apiVersionTag: ${e} passed in doesn't follow the pattern starting with 'v' followed by digits, then underscore with words, please check.`);const s=FE(e,t,i);n&&gt.callbacks.set(s.uuid,n)}gt.parentMessageQueue=[],gt.topMessageQueue=[],gt.nextMessageId=0,gt.callbacks=new Map,gt.promiseCallbacks=new Map,gt.portCallbacks=new Map,gt.legacyMessageIdsToUuidMap={};const $M=Ua.extend("sendNestedAuthRequestToTopWindow");function MM(e,t){const r=$M,n=qe.topWindow,i=(function(s,o){const u=gt.nextMessageId++,d=new Vc;return gt.legacyMessageIdsToUuidMap[u]=d,{id:u,uuid:d,func:"nestedAppAuth.execute",timestamp:Date.now(),monotonicTimestamp:Zy(),apiVersionTag:o,args:[],data:s}})(e,t);return r("Message %s information: %o",Bs(i),{actionName:i.func}),LE(n,i)}const LM=Ua.extend("sendRequestToTargetWindowHelper");function LE(e,t){const r=LM,n=(function(s){return s===qe.topWindow&&Wv()?"top":s===qe.parentWindow?"parent":null})(e),i=CE(t);if(it.isFramelessWindow)qe.currentWindow&&qe.currentWindow.nativeInterface&&(r("Sending message %s to %s via framelessPostMessage interface",Bs(i),n),qe.currentWindow.nativeInterface.framelessPostMessage(JSON.stringify(i)));else{const s=(function(o){return o===qe.topWindow&&Wv()?qe.topOrigin:o===qe.parentWindow?qe.parentOrigin:null})(e);e&&s?(r("Sending message %s to %s via postMessage",Bs(i),n),e.postMessage(i,s)):(r("Adding message %s to %s message queue",Bs(i),n),BM(e).push(t))}return t}const FM=Ua.extend("sendMessageToParentHelper");function FE(e,t,r,n,i){const s=FM,o=qe.parentWindow,u=(function(d,m,h,p,v){const x=gt.nextMessageId++,b=new Vc;gt.legacyMessageIdsToUuidMap[x]=b;const S=it.teamsJsInstanceId;return{id:x,uuid:b,func:m,timestamp:Date.now(),monotonicTimestamp:Zy(),args:h||[],apiVersionTag:d,isProxiedFromChild:p!=null,teamsJsInstanceId:S}})(e,t,r,n);return of.storeCallbackInformation(u.uuid,{name:t,calledAt:u.timestamp}),s("Message %s information: %o",Bs(u),{actionName:t,args:r}),LE(o,u)}const wS=Ua.extend("processIncomingMessage"),zM=Ua.extend("processAuthBridgeMessage");function UM(e,t){var r,n;const i=zM;if(!e||!e.data||typeof e.data!="object")return void i("Unrecognized message format received by app, message being ignored. Message: %o",e);const{args:s}=e.data,[,o]=s??[],u=(()=>{try{return JSON.parse(o)}catch{return null}})();if(!u||typeof u!="object"||u.messageType!=="NestedAppAuthResponse")return void i("Unrecognized data format received by app, message being ignored. Message: %o",e);const d=e.source||((r=e==null?void 0:e.originalEvent)===null||r===void 0?void 0:r.source),m=e.origin||((n=e==null?void 0:e.originalEvent)===null||n===void 0?void 0:n.origin);d?zE(d,m)?(qe.topWindow&&!qe.topWindow.closed&&d!==qe.topWindow||(qe.topWindow=d,qe.topOrigin=m),qe.topWindow&&qe.topWindow.closed&&(qe.topWindow=null,qe.topOrigin=null),OE(qe.topWindow,qe.topOrigin,gt.topMessageQueue,"top"),t(o)):i("Message being ignored by app because it is either coming from the current window or a different window with an invalid origin"):i("Message being ignored by app because it is coming for a target that is null")}const Lp=Ua.extend("shouldProcessIncomingMessage");function zE(e,t){return Ys(this,void 0,void 0,(function*(){if(qe.currentWindow&&e===qe.currentWindow)return Lp("Should not process message because it is coming from the current window"),!1;if(qe.currentWindow&&qe.currentWindow.location&&t&&t===qe.currentWindow.location.origin)return!0;{let r;try{r=new URL(t)}catch{return Lp("Message has an invalid origin of %s",t),!1}const n=yield OM(r);return n||Lp("Message has an invalid origin of %s",t),n}}))}const bS=Ua.extend("handleIncomingMessageFromParent");function Hd(e,t){if(t){const r=[...e].find((([n,i])=>n.toString()===t.toString()));if(r)return r[0]}}function Fp(e,t){const r=Hd(t,e.uuid);r&&t.delete(r),e.uuid?gt.legacyMessageIdsToUuidMap={}:delete gt.legacyMessageIdsToUuidMap[e.id]}function SS(e){const t=bS,r=Zy();if("id"in e.data&&typeof e.data.id=="number"){const n=e.data,i=iM(n),s=(function(o){const u=bS;if(!o.uuid)return gt.legacyMessageIdsToUuidMap[o.id];{const d=o.uuid,m=Hd(gt.callbacks,d);if(m)return m;const h=Hd(gt.promiseCallbacks,d);if(h)return h;const p=Hd(gt.portCallbacks,d);if(p)return p}u("Received message %s that failed to produce a callbackId",Bs(o))})(i);if(s){const o=gt.callbacks.get(s);t("Received a response from parent for message %s",s.toString()),of.handlePerformanceMetrics(s,i,t,r),o&&(t("Invoking the registered callback for message %s with arguments %o",s.toString(),i.args),o.apply(null,[...i.args,i.isPartialResponse]),(function(m){return m.data.isPartialResponse===!0})(e)||(t("Removing registered callback for message %s",s.toString()),Fp(i,gt.callbacks)));const u=gt.promiseCallbacks.get(s);u&&(t("Invoking the registered promise callback for message %s with arguments %o",s.toString(),i.args),u(i.args),t("Removing registered promise callback for message %s",s.toString()),Fp(i,gt.promiseCallbacks));const d=gt.portCallbacks.get(s);if(d){let m;t("Invoking the registered port callback for message %s with arguments %o",s.toString(),i.args),e.ports&&e.ports[0]instanceof MessagePort&&(m=e.ports[0]),d(m,i.args),t("Removing registered port callback for message %s",s.toString()),Fp(i,gt.portCallbacks)}i.uuid&&(gt.legacyMessageIdsToUuidMap={})}}else if("func"in e.data&&typeof e.data.func=="string"){const n=e.data;of.handleOneWayPerformanceMetrics(n,t,r),t('Received a message from parent %s, action: "%s"',Bs(n),n.func),E3(n.func,n.args)}else t("Received an unknown message: %O",e)}function Wv(){return qe.topWindow!==qe.parentWindow}function BM(e){return e===qe.topWindow&&Wv()?gt.topMessageQueue:e===qe.parentWindow?gt.parentMessageQueue:[]}const UE=Di("internal"),VM=UE.extend("ensureInitializeCalled"),WM=UE.extend("ensureInitialized");function BE(){if(!it.initializeCalled)throw VM(Cc),new Error(Cc)}function nl(e,...t){if(!it.initializeCompleted)throw WM("%s. initializeCalled: %s",Cc,it.initializeCalled.toString()),new Error(Cc);if(t&&t.length>0){let r=!1;for(let n=0;n<t.length;n++)if(t[n]===it.frameContext){r=!0;break}if(!r)throw new Error(`This call is only allowed in following contexts: ${JSON.stringify(t)}. Current context: "${it.frameContext}".`)}return vM(e)}function qM(e){let t=it.additionalValidOrigins.concat(e.filter((n=>typeof n=="string"&&mM.test(n))));const r={};t=t.filter((n=>!r[n]&&(r[n]=!0,!0))),it.additionalValidOrigins=t}function HM(e){if(!YM(e))throw new Error(`Potential app id (${e}) is invalid; its length ${e.length} is not within the length limits (${VE}-${WE}).`)}function KM(e){if(tM(e))throw new Error(`Potential app id (${e}) is invalid; it contains script tags.`);if(GM(e))throw new Error(`Potential app id (${e}) is invalid; it contains non-printable characters.`)}const VE=4,WE=256;function YM(e){return e.length<WE&&e.length>VE}function GM(e){return[...e].some((t=>{const r=t.charCodeAt(0);return r<32||r>126}))}let JM=class{constructor(t){this.idAsString=t,KM(t)}serialize(){return this.toString()}toString(){return this.idAsString}},QM=class extends JM{constructor(t){super(t),HM(t)}toJSON(){return{appIdAsString:this.toString()}}};function qE(e){return e==null}const nh="v2",zp=Di("app"),jS={Success:"appInitialization.success"};var _S,kS;function XM(e){return v3(Kt(nh,"app.initialize"),e)}function ZM(){return new Promise((e=>{BE(),e(TM(Kt(nh,"app.getContext"),"getContext"))})).then((e=>(function(t){var r;return{actionInfo:t.actionInfo,app:{locale:t.locale,sessionId:t.appSessionId?t.appSessionId:"",theme:t.theme?t.theme:"default",iconPositionVertical:t.appIconPosition,osLocaleInfo:t.osLocaleInfo,messageId:t.messageId,parentMessageId:t.parentMessageId,userClickTime:t.userClickTime,userClickTimeV2:t.userClickTimeV2,userFileOpenPreference:t.userFileOpenPreference,host:{name:t.hostName?t.hostName:Uv.teams,clientType:t.hostClientType?t.hostClientType:ht.web,sessionId:t.sessionId?t.sessionId:"",ringId:t.ringId},appLaunchId:t.appLaunchId,appId:t.appId?new QM(t.appId):void 0,manifestVersion:t.manifestVersion},page:{id:t.entityId,frameContext:t.frameContext?t.frameContext:it.frameContext,renderingSurface:t.renderingSurface?t.renderingSurface:void 0,subPageId:t.subEntityId,isFullScreen:t.isFullScreen,isMultiWindow:t.isMultiWindow,isBackgroundLoad:t.isBackgroundLoad,sourceOrigin:t.sourceOrigin},user:{id:(r=t.userObjectId)!==null&&r!==void 0?r:"",displayName:t.userDisplayName,isCallingAllowed:t.isCallingAllowed,isPSTNCallingAllowed:t.isPSTNCallingAllowed,licenseType:t.userLicenseType,loginHint:t.loginHint,userPrincipalName:t.userPrincipalName,tenant:t.tid?{id:t.tid,teamsSku:t.tenantSKU}:void 0},channel:t.channelId?{id:t.channelId,displayName:t.channelName,relativeUrl:t.channelRelativeUrl,membershipType:t.channelType,defaultOneNoteSectionId:t.defaultOneNoteSectionId,ownerGroupId:t.hostTeamGroupId,ownerTenantId:t.hostTeamTenantId}:void 0,chat:t.chatId?{id:t.chatId}:void 0,meeting:t.meetingId?{id:t.meetingId}:void 0,sharepoint:t.sharepoint,team:t.teamId?{internalId:t.teamId,displayName:t.teamName,type:t.teamType,groupId:t.groupId,templateId:t.teamTemplateId,isArchived:t.isTeamArchived,userRole:t.userTeamRole}:void 0,sharePointSite:t.teamSiteUrl||t.teamSiteDomain||t.teamSitePath||t.mySitePath||t.mySiteDomain?{teamSiteUrl:t.teamSiteUrl,teamSiteDomain:t.teamSiteDomain,teamSitePath:t.teamSitePath,teamSiteId:t.teamSiteId,mySitePath:t.mySitePath,mySiteDomain:t.mySiteDomain}:void 0,dialogParameters:t.dialogParameters||{}}})(e)))}function e3(){return y3(Kt(nh,"app.notifySuccess"))}function t3(e){x3(Kt(nh,"app.registerOnThemeChangeHandler"),e)}(function(e){e.AuthFailed="AuthFailed",e.Timeout="Timeout",e.Other="Other"})(_S||(_S={})),(function(e){e.PermissionError="PermissionError",e.NotFound="NotFound",e.Throttling="Throttling",e.Offline="Offline",e.Other="Other"})(kS||(kS={})),zp("teamsjs instance is version %s, starting at %s UTC (%s local)",af,new Date().toISOString(),new Date().toLocaleString()),(function(){if(eh())return;const e=document.getElementsByTagName("script"),t=e&&e[e.length-1]&&e[e.length-1].src,r="Today, teamsjs can only be used from a single script or you may see undefined behavior. This log line is used to help detect cases where teamsjs is loaded multiple times -- it is always written. The presence of the log itself does not indicate a multi-load situation, but multiples of these log lines will. If you would like to use teamjs from more than one script at the same time, please open an issue at https://github.com/OfficeDev/microsoft-teams-library-js/issues";t&&t.length!==0?zp("teamsjs is being used from %s. %s",t,r):zp("teamsjs is being used from a script tag embedded directly in your html. %s",r)})();const r3="v2",n3=[];function i3(e){it.frameContext&&(it.frameContext===Bv.task?n3.push(e):C3("messageForChild"))}function s3(){Ea(Kt(r3,"dialog.registerMessageForChildHandler"),"messageForChild",i3,!1)}const $o="v2";var NS,ES;(function(e){e[e.ifRoom=0]="ifRoom",e[e.overflowOnly=1]="overflowOnly"})(NS||(NS={}));function a3(){Ea(Kt($o,"menus.registerNavBarMenuItemPressHandler"),"navBarMenuItemPress",l3,!1),Ea(Kt($o,"menus.registerActionMenuItemPressHandler"),"actionMenuItemPress",c3,!1),Ea(Kt($o,"menus.registerSetModuleViewHandler"),"setModuleView",o3,!1)}function o3(e){nl(Ci),li(Kt($o,"menus.handleViewConfigItemPress"),"viewConfigItemPress",[e])}function l3(e){nl(Ci),li(Kt($o,"menus.handleNavBarMenuItemPress"),"handleNavBarMenuItemPress",[e])}function c3(e){nl(Ci),li(Kt($o,"menus.handleActionMenuItemPress"),"handleActionMenuItemPress",[e])}(function(e){e.dropDown="dropDown",e.popOver="popOver"})(ES||(ES={}));class u3{}let d3=class extends u3{validate(t){return!0}deserialize(t){return t}};function f3(){Ea(Kt(Da,"pages.config.registerSettingsSaveHandler"),"settings.save",h3,!1),Ea(Kt(Da,"pages.config.registerSettingsRemoveHandler"),"settings.remove",p3,!1)}function h3(e){new m3(e).notifySuccess()}let m3=class{constructor(t){this.notified=!1,this.result=t||{}}notifySuccess(){this.ensureNotNotified(),li(Kt(Da,"pages.saveEvent.notifySuccess"),"settings.save.success"),this.notified=!0}notifyFailure(t){this.ensureNotNotified(),li(Kt(Da,"pages.saveEvent.notifyFailure"),"settings.save.failure",[t]),this.notified=!0}ensureNotNotified(){if(this.notified)throw new Error("The SaveEvent may only notify success or failure once.")}};function p3(){new g3().notifySuccess()}let g3=class{constructor(){this.notified=!1}notifySuccess(){this.ensureNotNotified(),li(Kt(Da,"pages.removeEvent.notifySuccess"),"settings.remove.success"),this.notified=!0}notifyFailure(t){this.ensureNotNotified(),li(Kt(Da,"pages.removeEvent.notifyFailure"),"settings.remove.failure",[t]),this.notified=!0}ensureNotNotified(){if(this.notified)throw new Error("The removeEventType may only notify success or failure once.")}};const HE=Di("app");function v3(e,t){return eh()?(HE.extend("initialize")("window object undefined at initialization"),Promise.resolve()):X$((()=>(function(r,n){return new Promise((i=>{it.initializeCalled||(it.initializeCalled=!0,N3(),it.initializePromise=PM(n,r).then((({context:s,clientType:o,runtimeConfig:u,clientSupportedSDKVersion:d=pS})=>{it.frameContext=s,it.hostClientType=o,it.clientSupportedSDKVersion=d;try{Zl("Parsing %s",u);let m=JSON.parse(u);if(Zl("Checking if %o is a valid runtime object",m??"null"),!m||!m.apiVersion)throw new Error("Received runtime config is invalid");m=fS(m),u&&Mp(m)}catch(m){if(!(m instanceof SyntaxError))throw m;try{Zl("Attempting to parse %s as an SDK version",u),isNaN(NE(u,pS))||(it.clientSupportedSDKVersion=u);let h=JSON.parse(d);if(Zl("givenRuntimeConfig parsed to %o",h??"null"),!h)throw new Error("givenRuntimeConfig string was successfully parsed. However, it parsed to value of null");h=fS(h),Mp(h)}catch(h){if(!(h instanceof SyntaxError))throw h;Mp(jM(it.clientSupportedSDKVersion,yM,SM))}}it.initializeCompleted=!0})),a3(),f3(),s3()),Array.isArray(n)&&qM(n),it.initializePromise!==void 0?i(it.initializePromise):Zl("GlobalVars.initializePromise is unexpectedly undefined")}))})(e,t)),6e4,new Error("SDK initialization timed out."))}function y3(e){return Ys(this,void 0,void 0,(function*(){if(it.initializeCompleted)return CS(e);if(!it.initializePromise)throw new Error(Cc);return it.initializePromise.then((()=>CS(e)))}))}function CS(e){return Ys(this,void 0,void 0,(function*(){return nl(Ci)&&(!((t=Ci.supports.app)===null||t===void 0)&&t.notifySuccessResponse)?DM(jS.Success,[af],new d3,e).then((()=>({hasFinishedSuccessfully:!0}))):(li(e,jS.Success,[af]),{hasFinishedSuccessfully:"unknown"});var t}))}const Zl=HE.extend("initializeHelper");function x3(e,t){!qE(t)&&BE(),A3(e,t)}function w3(){return S3(Kt(Da,"pages.backStack.navigateBack"))}function b3(){return!(!nl(Ci)||!Ci.supports.pages)&&!!Ci.supports.pages.backStack}const Da="v2";function S3(e){return new Promise((t=>{if(nl(Ci),!b3())throw V$;t(IM(e,"navigateBack","Back navigation is not supported in the current client or context."))}))}function j3(){Ea(Kt("v2","pages.backStack.registerBackButtonPressHandler"),"backButtonPress",_3,!1)}function _3(){w3()}const k3=Di("handlers");let Dt=class ji{static initializeHandlers(){ji.handlers.themeChange=O3,ji.handlers.load=P3,ji.handlers.beforeUnload=T3,j3()}static uninitializeHandlers(){ji.handlers={},ji.themeChangeHandler=null,ji.loadHandler=null,ji.beforeUnloadHandler=null,ji.beforeSuspendOrTerminateHandler=null,ji.resumeHandler=null}};function N3(){Dt.initializeHandlers()}Dt.handlers={},Dt.themeChangeHandler=null,Dt.loadHandler=null,Dt.beforeUnloadHandler=null,Dt.beforeSuspendOrTerminateHandler=null,Dt.resumeHandler=null,Dt.hostToAppPerformanceMetricsHandler=null;const AS=k3.extend("callHandler");function E3(e,t){const r=Dt.handlers[e];return r?(AS("Invoking the registered handler for message %s with arguments %o",e,t),[!0,r.apply(this,t)]):(AS("Handler for action message %s not found.",e),[!1,void 0])}function Ea(e,t,r,n=!0,i=[]){r?(Dt.handlers[t]=r,n&&li(e,"registerHandler",[t,...i])):delete Dt.handlers[t]}function C3(e){delete Dt.handlers[e]}function A3(e,t){Dt.themeChangeHandler=t,!qE(t)&&li(e,"registerHandler",["themeChange"])}function O3(e){Dt.themeChangeHandler&&Dt.themeChangeHandler(e)}function OS(e){Dt.hostToAppPerformanceMetricsHandler&&Dt.hostToAppPerformanceMetricsHandler(e)}function P3(e){const t={entityId:(r=e).entityId,contentUrl:new URL(r.contentUrl)};var r;Dt.resumeHandler?(Dt.resumeHandler(t),PS()):Dt.loadHandler&&(Dt.loadHandler(e),PS())}function T3(){return Ys(this,void 0,void 0,(function*(){const e=()=>{li(Kt("v2","handleBeforeUnload"),"readyToUnload",[])};Dt.beforeSuspendOrTerminateHandler?(yield Dt.beforeSuspendOrTerminateHandler(),e()):Dt.beforeUnloadHandler&&Dt.beforeUnloadHandler(e)||e()}))}const I3=Di("childProxyingCommunication");function PS(){return!1}function R3(e,t){return!1}I3.extend("handleIncomingMessageFromChild");const D3=w.createContext({inTeams:!1,teamsContext:null,isInitialized:!1,teamsTheme:null}),$3=({children:e})=>{const[t,r]=w.useState(!1),[n,i]=w.useState(null),[s,o]=w.useState(!1),[u,d]=w.useState(null);return w.useEffect(()=>{(async()=>{try{if(new URLSearchParams(window.location.search).get("inTeams")==="true"||window.parent!==window){console.log(" Initializing Teams SDK..."),await XM();const v=await ZM();console.log(" Teams context:",v),r(!0),i(v),d(v.app.theme),t3(x=>{d(x)}),e3()}else console.log(" Running in browser (not Teams)")}catch(h){console.error(" Teams initialization error:",h),r(!1)}finally{o(!0)}})()},[]),c.jsx(D3.Provider,{value:{inTeams:t,teamsContext:n,isInitialized:s,teamsTheme:u},children:e})};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),L3=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),TS=e=>{const t=L3(e);return t.charAt(0).toUpperCase()+t.slice(1)},KE=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),F3=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var z3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:o,...u},d)=>w.createElement("svg",{ref:d,...z3,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:KE("lucide",i),...!s&&!F3(u)&&{"aria-hidden":"true"},...u},[...o.map(([m,h])=>w.createElement(m,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=(e,t)=>{const r=w.forwardRef(({className:n,...i},s)=>w.createElement(U3,{ref:s,iconNode:t,className:KE(`lucide-${M3(TS(e))}`,`lucide-${e}`,n),...i}));return r.displayName=TS(e),r};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],IS=ct("arrow-left",B3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],oi=ct("calendar",V3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],YE=ct("chart-no-axes-column",W3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],yc=ct("chevron-down",q3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],il=ct("chevron-left",H3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Y3=ct("chevron-up",K3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Xt=ct("circle-alert",G3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Fn=ct("circle-check-big",J3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ih=ct("clock",Q3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],qv=ct("cloud",X3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],fn=ct("crown",Z3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],t6=ct("database",e6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],RS=ct("ellipsis-vertical",r6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],i6=ct("funnel",n6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Up=ct("info",s6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],GE=ct("lightbulb",a6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],ki=ct("list",o6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],c6=ct("lock",l6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],d6=ct("log-in",u6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Cr=ct("log-out",f6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Wc=ct("mail",h6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xc=ct("plus",m6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],qc=ct("refresh-cw",p6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],v6=ct("search",g6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mr=ct("settings",y6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Xr=ct("shield",x6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],b6=ct("shuffle",w6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],j6=ct("square-pen",S6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],k6=ct("tag",_6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ws=ct("trash-2",N6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],JE=ct("triangle-alert",E6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Ca=ct("user-plus",C6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],ec=ct("user-x",A6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Dr=ct("user",O6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],pn=ct("users",P6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=[["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}],["path",{d:"M5 7c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v12H5V7Z",key:"1ezoue"}],["path",{d:"M22 19H2",key:"nuriw5"}]],Zr=ct("vote",T6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Oi=ct("x",I6);function R6(){const[e,t]=w.useState(""),[r,n]=w.useState(""),[i,s]=w.useState(!1),[o,u]=w.useState(""),{setCurrentUser:d,setCurrentSession:m}=Ri(),h=Sn(),[p]=ZN(),v=async x=>{x.preventDefault(),u(""),s(!0);try{const b=await Gy(e.trim().toLowerCase(),r.trim());d(b);const S=p.get("session");if(S){const j=await O$(S);if(j){m(j);const[k,E,N]=await Promise.all([rl(b.id),Ec(j.id,b.id),Qy(j.id,b.email)]);if(k||E)h("/admin");else if(N)h("/vote");else{u("You are not authorized to access this voting session."),s(!1);return}}else{u("Invalid session code."),s(!1);return}}else h("/sessions")}catch(b){console.error("Login error:",b),u("Failed to log in. Please try again."),s(!1)}};return c.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[c.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"mx-auto h-24 w-auto"}),c.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-[#2d4660]",children:"Feature Voting System"}),c.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to access your voting sessions"})]}),c.jsx("div",{className:"relative z-10 mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:c.jsxs("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10",children:[c.jsxs("form",{onSubmit:v,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),c.jsx("div",{className:"mt-1",children:c.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,value:r,onChange:x=>n(x.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#2d4660] focus:border-[#2d4660]",placeholder:"John Doe"})})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),c.jsx("div",{className:"mt-1",children:c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:x=>t(x.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#2d4660] focus:border-[#2d4660]",placeholder:"your.email@company.com"})})]}),o&&c.jsx("div",{className:"rounded-md bg-red-50 p-4",children:c.jsx("div",{className:"flex",children:c.jsx("div",{className:"ml-3",children:c.jsx("h3",{className:"text-sm font-medium text-red-800",children:o})})})}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:i,className:"w-full flex justify-center items-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-[#2d4660] hover:bg-[#1d3a53] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#2d4660] disabled:opacity-50 disabled:cursor-not-allowed",children:i?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing in..."]}):c.jsxs(c.Fragment,{children:[c.jsx(d6,{className:"h-4 w-4 mr-2"}),"Sign In"]})})})]}),c.jsxs("div",{className:"mt-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-gray-300"})}),c.jsx("div",{className:"relative flex justify-center text-sm",children:c.jsx("span",{className:"px-2 bg-white text-gray-500",children:"No registration required"})})]}),c.jsxs("div",{className:"mt-6 text-center text-xs text-gray-500",children:[c.jsx("p",{children:"Simply enter your name and email to access"}),c.jsx("p",{children:"voting sessions you've been invited to"})]})]})]})})]})}var Hc=e=>e.type==="checkbox",ja=e=>e instanceof Date,zr=e=>e==null;const QE=e=>typeof e=="object";var Yt=e=>!zr(e)&&!Array.isArray(e)&&QE(e)&&!ja(e),XE=e=>Yt(e)&&e.target?Hc(e.target)?e.target.checked:e.target.value:e,D6=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,ZE=(e,t)=>e.has(D6(t)),$6=e=>{const t=e.constructor&&e.constructor.prototype;return Yt(t)&&t.hasOwnProperty("isPrototypeOf")},t0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function _r(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(t0&&(e instanceof Blob||n))&&(r||Yt(e)))if(t=r?[]:{},!r&&!$6(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=_r(e[i]));else return e;return t}var sh=e=>Array.isArray(e)?e.filter(Boolean):[],Ht=e=>e===void 0,Ce=(e,t,r)=>{if(!t||!Yt(e))return r;const n=sh(t.split(/[,[\].]+?/)).reduce((i,s)=>zr(i)?i:i[s],e);return Ht(n)||n===e?Ht(e[t])?r:e[t]:n},hn=e=>typeof e=="boolean",r0=e=>/^\w*$/.test(e),eC=e=>sh(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Nt=(e,t,r)=>{let n=-1;const i=r0(t)?[t]:eC(t),s=i.length,o=s-1;for(;++n<s;){const u=i[n];let d=r;if(n!==o){const m=e[u];d=Yt(m)||Array.isArray(m)?m:isNaN(+i[n+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;e[u]=d,e=e[u]}};const lf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ni={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Wi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},M6=st.createContext(null),n0=()=>st.useContext(M6);var tC=(e,t,r,n=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const o=s;return t._proxyFormState[o]!==ni.all&&(t._proxyFormState[o]=!n||ni.all),r&&(r[o]=!0),e[o]}});return i};function L6(e){const t=n0(),{control:r=t.control,disabled:n,name:i,exact:s}=e||{},[o,u]=st.useState(r._formState),d=st.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),m=st.useRef(i);return m.current=i,st.useEffect(()=>r._subscribe({name:m.current,formState:d.current,exact:s,callback:h=>{!n&&u({...r._formState,...h})}}),[r,n,s]),st.useEffect(()=>{d.current.isValid&&r._setValid(!0)},[r]),st.useMemo(()=>tC(o,r,d.current,!1),[o,r])}var Ni=e=>typeof e=="string",rC=(e,t,r,n,i)=>Ni(e)?(n&&t.watch.add(e),Ce(r,e,i)):Array.isArray(e)?e.map(s=>(n&&t.watch.add(s),Ce(r,s))):(n&&(t.watchAll=!0),r);function F6(e){const t=n0(),{control:r=t.control,name:n,defaultValue:i,disabled:s,exact:o}=e||{},u=st.useRef(n),d=st.useRef(i);u.current=n,st.useEffect(()=>r._subscribe({name:u.current,formState:{values:!0},exact:o,callback:p=>!s&&h(rC(u.current,r._names,p.values||r._formValues,!1,d.current))}),[r,s,o]);const[m,h]=st.useState(r._getWatch(n,i));return st.useEffect(()=>r._removeUnmounted()),m}function z6(e){const t=n0(),{name:r,disabled:n,control:i=t.control,shouldUnregister:s}=e,o=ZE(i._names.array,r),u=F6({control:i,name:r,defaultValue:Ce(i._formValues,r,Ce(i._defaultValues,r,e.defaultValue)),exact:!0}),d=L6({control:i,name:r,exact:!0}),m=st.useRef(e),h=st.useRef(i.register(r,{...e.rules,value:u,...hn(e.disabled)?{disabled:e.disabled}:{}})),p=st.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ce(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!Ce(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Ce(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Ce(d.validatingFields,r)},error:{enumerable:!0,get:()=>Ce(d.errors,r)}}),[d,r]),v=st.useCallback(j=>h.current.onChange({target:{value:XE(j),name:r},type:lf.CHANGE}),[r]),x=st.useCallback(()=>h.current.onBlur({target:{value:Ce(i._formValues,r),name:r},type:lf.BLUR}),[r,i._formValues]),b=st.useCallback(j=>{const k=Ce(i._fields,r);k&&j&&(k._f.ref={focus:()=>j.focus(),select:()=>j.select(),setCustomValidity:E=>j.setCustomValidity(E),reportValidity:()=>j.reportValidity()})},[i._fields,r]),S=st.useMemo(()=>({name:r,value:u,...hn(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:v,onBlur:x,ref:b}),[r,n,d.disabled,v,x,b,u]);return st.useEffect(()=>{const j=i._options.shouldUnregister||s;i.register(r,{...m.current.rules,...hn(m.current.disabled)?{disabled:m.current.disabled}:{}});const k=(E,N)=>{const A=Ce(i._fields,E);A&&A._f&&(A._f.mount=N)};if(k(r,!0),j){const E=_r(Ce(i._options.defaultValues,r));Nt(i._defaultValues,r,E),Ht(Ce(i._formValues,r))&&Nt(i._formValues,r,E)}return!o&&i.register(r),()=>{(o?j&&!i._state.action:j)?i.unregister(r):k(r,!1)}},[r,i,o,s]),st.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),st.useMemo(()=>({field:S,formState:d,fieldState:p}),[S,d,p])}const jd=e=>e.render(z6(e));var U6=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},wc=e=>Array.isArray(e)?e:[e],DS=()=>{let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}},Hv=e=>zr(e)||!QE(e);function zs(e,t){if(Hv(e)||Hv(t))return e===t;if(ja(e)&&ja(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const i of r){const s=e[i];if(!n.includes(i))return!1;if(i!=="ref"){const o=t[i];if(ja(s)&&ja(o)||Yt(s)&&Yt(o)||Array.isArray(s)&&Array.isArray(o)?!zs(s,o):s!==o)return!1}}return!0}var Fr=e=>Yt(e)&&!Object.keys(e).length,i0=e=>e.type==="file",ii=e=>typeof e=="function",cf=e=>{if(!t0)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},nC=e=>e.type==="select-multiple",s0=e=>e.type==="radio",B6=e=>s0(e)||Hc(e),Bp=e=>cf(e)&&e.isConnected;function V6(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Ht(e)?n++:e[t[n++]];return e}function W6(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ht(e[t]))return!1;return!0}function sr(e,t){const r=Array.isArray(t)?t:r0(t)?[t]:eC(t),n=r.length===1?e:V6(e,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(Yt(n)&&Fr(n)||Array.isArray(n)&&W6(n))&&sr(e,r.slice(0,-1)),e}var iC=e=>{for(const t in e)if(ii(e[t]))return!0;return!1};function uf(e,t={}){const r=Array.isArray(e);if(Yt(e)||r)for(const n in e)Array.isArray(e[n])||Yt(e[n])&&!iC(e[n])?(t[n]=Array.isArray(e[n])?[]:{},uf(e[n],t[n])):zr(e[n])||(t[n]=!0);return t}function sC(e,t,r){const n=Array.isArray(e);if(Yt(e)||n)for(const i in e)Array.isArray(e[i])||Yt(e[i])&&!iC(e[i])?Ht(t)||Hv(r[i])?r[i]=Array.isArray(e[i])?uf(e[i],[]):{...uf(e[i])}:sC(e[i],zr(t)?{}:t[i],r[i]):r[i]=!zs(e[i],t[i]);return r}var tc=(e,t)=>sC(e,t,uf(t));const $S={value:!1,isValid:!1},MS={value:!0,isValid:!0};var aC=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ht(e[0].attributes.value)?Ht(e[0].value)||e[0].value===""?MS:{value:e[0].value,isValid:!0}:MS:$S}return $S},oC=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Ht(e)?e:t?e===""?NaN:e&&+e:r&&Ni(e)?new Date(e):n?n(e):e;const LS={isValid:!1,value:null};var lC=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,LS):LS;function FS(e){const t=e.ref;return i0(t)?t.files:s0(t)?lC(e.refs).value:nC(t)?[...t.selectedOptions].map(({value:r})=>r):Hc(t)?aC(e.refs).value:oC(Ht(t.value)?e.ref.value:t.value,e)}var q6=(e,t,r,n)=>{const i={};for(const s of e){const o=Ce(t,s);o&&Nt(i,s,o._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}},df=e=>e instanceof RegExp,rc=e=>Ht(e)?e:df(e)?e.source:Yt(e)?df(e.value)?e.value.source:e.value:e,zS=e=>({isOnSubmit:!e||e===ni.onSubmit,isOnBlur:e===ni.onBlur,isOnChange:e===ni.onChange,isOnAll:e===ni.all,isOnTouch:e===ni.onTouched});const US="AsyncFunction";var H6=e=>!!e&&!!e.validate&&!!(ii(e.validate)&&e.validate.constructor.name===US||Yt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===US)),K6=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),BS=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const bc=(e,t,r,n)=>{for(const i of r||Object.keys(e)){const s=Ce(e,i);if(s){const{_f:o,...u}=s;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(bc(u,t))break}else if(Yt(u)&&bc(u,t))break}}};function VS(e,t,r){const n=Ce(e,r);if(n||r0(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),o=Ce(t,s),u=Ce(e,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(u&&u.type)return{name:s,error:u};i.pop()}return{name:r}}var Y6=(e,t,r,n)=>{r(e);const{name:i,...s}=e;return Fr(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!n||ni.all))},G6=(e,t,r)=>!e||!t||e===t||wc(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),J6=(e,t,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:(r?n.isOnChange:i.isOnChange)?e:!0,Q6=(e,t)=>!sh(Ce(e,t)).length&&sr(e,t),X6=(e,t,r)=>{const n=wc(Ce(e,r));return Nt(n,"root",t[r]),Nt(e,r,n),e},Kd=e=>Ni(e);function WS(e,t,r="validate"){if(Kd(e)||Array.isArray(e)&&e.every(Kd)||hn(e)&&!e)return{type:r,message:Kd(e)?e:"",ref:t}}var Co=e=>Yt(e)&&!df(e)?e:{value:e,message:""},qS=async(e,t,r,n,i,s)=>{const{ref:o,refs:u,required:d,maxLength:m,minLength:h,min:p,max:v,pattern:x,validate:b,name:S,valueAsNumber:j,mount:k}=e._f,E=Ce(r,S);if(!k||t.has(S))return{};const N=u?u[0]:o,A=W=>{i&&N.reportValidity&&(N.setCustomValidity(hn(W)?"":W||""),N.reportValidity())},T={},I=s0(o),L=Hc(o),q=I||L,B=(j||i0(o))&&Ht(o.value)&&Ht(E)||cf(o)&&o.value===""||E===""||Array.isArray(E)&&!E.length,F=U6.bind(null,S,n,T),V=(W,te,K,ae=Wi.maxLength,Ne=Wi.minLength)=>{const ke=W?te:K;T[S]={type:W?ae:Ne,message:ke,ref:o,...F(W?ae:Ne,ke)}};if(s?!Array.isArray(E)||!E.length:d&&(!q&&(B||zr(E))||hn(E)&&!E||L&&!aC(u).isValid||I&&!lC(u).isValid)){const{value:W,message:te}=Kd(d)?{value:!!d,message:d}:Co(d);if(W&&(T[S]={type:Wi.required,message:te,ref:N,...F(Wi.required,te)},!n))return A(te),T}if(!B&&(!zr(p)||!zr(v))){let W,te;const K=Co(v),ae=Co(p);if(!zr(E)&&!isNaN(E)){const Ne=o.valueAsNumber||E&&+E;zr(K.value)||(W=Ne>K.value),zr(ae.value)||(te=Ne<ae.value)}else{const Ne=o.valueAsDate||new Date(E),ke=pe=>new Date(new Date().toDateString()+" "+pe),se=o.type=="time",he=o.type=="week";Ni(K.value)&&E&&(W=se?ke(E)>ke(K.value):he?E>K.value:Ne>new Date(K.value)),Ni(ae.value)&&E&&(te=se?ke(E)<ke(ae.value):he?E<ae.value:Ne<new Date(ae.value))}if((W||te)&&(V(!!W,K.message,ae.message,Wi.max,Wi.min),!n))return A(T[S].message),T}if((m||h)&&!B&&(Ni(E)||s&&Array.isArray(E))){const W=Co(m),te=Co(h),K=!zr(W.value)&&E.length>+W.value,ae=!zr(te.value)&&E.length<+te.value;if((K||ae)&&(V(K,W.message,te.message),!n))return A(T[S].message),T}if(x&&!B&&Ni(E)){const{value:W,message:te}=Co(x);if(df(W)&&!E.match(W)&&(T[S]={type:Wi.pattern,message:te,ref:o,...F(Wi.pattern,te)},!n))return A(te),T}if(b){if(ii(b)){const W=await b(E,r),te=WS(W,N);if(te&&(T[S]={...te,...F(Wi.validate,te.message)},!n))return A(te.message),T}else if(Yt(b)){let W={};for(const te in b){if(!Fr(W)&&!n)break;const K=WS(await b[te](E,r),N,te);K&&(W={...K,...F(te,K.message)},A(K.message),n&&(T[S]=W))}if(!Fr(W)&&(T[S]={ref:N,...W},!n))return T}}return A(!0),T};const Z6={mode:ni.onSubmit,reValidateMode:ni.onChange,shouldFocusError:!0};function eL(e={}){let t={...Z6,...e},r={submitCount:0,isDirty:!1,isLoading:ii(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let i=Yt(t.defaultValues)||Yt(t.values)?_r(t.values||t.defaultValues)||{}:{},s=t.shouldUnregister?{}:_r(i),o={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,m=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...h};const v={array:DS(),state:DS()},x=zS(t.mode),b=zS(t.reValidateMode),S=t.criteriaMode===ni.all,j=O=>z=>{clearTimeout(m),m=setTimeout(O,z)},k=async O=>{if(!t.disabled&&(h.isValid||p.isValid||O)){const z=t.resolver?Fr((await B()).errors):await V(n,!0);z!==r.isValid&&v.state.next({isValid:z})}},E=(O,z)=>{!t.disabled&&(h.isValidating||h.validatingFields||p.isValidating||p.validatingFields)&&((O||Array.from(u.mount)).forEach(Y=>{Y&&(z?Nt(r.validatingFields,Y,z):sr(r.validatingFields,Y))}),v.state.next({validatingFields:r.validatingFields,isValidating:!Fr(r.validatingFields)}))},N=(O,z=[],Y,le,fe=!0,J=!0)=>{if(le&&Y&&!t.disabled){if(o.action=!0,J&&Array.isArray(Ce(n,O))){const be=Y(Ce(n,O),le.argA,le.argB);fe&&Nt(n,O,be)}if(J&&Array.isArray(Ce(r.errors,O))){const be=Y(Ce(r.errors,O),le.argA,le.argB);fe&&Nt(r.errors,O,be),Q6(r.errors,O)}if((h.touchedFields||p.touchedFields)&&J&&Array.isArray(Ce(r.touchedFields,O))){const be=Y(Ce(r.touchedFields,O),le.argA,le.argB);fe&&Nt(r.touchedFields,O,be)}(h.dirtyFields||p.dirtyFields)&&(r.dirtyFields=tc(i,s)),v.state.next({name:O,isDirty:te(O,z),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Nt(s,O,z)},A=(O,z)=>{Nt(r.errors,O,z),v.state.next({errors:r.errors})},T=O=>{r.errors=O,v.state.next({errors:r.errors,isValid:!1})},I=(O,z,Y,le)=>{const fe=Ce(n,O);if(fe){const J=Ce(s,O,Ht(Y)?Ce(i,O):Y);Ht(J)||le&&le.defaultChecked||z?Nt(s,O,z?J:FS(fe._f)):Ne(O,J),o.mount&&k()}},L=(O,z,Y,le,fe)=>{let J=!1,be=!1;const Fe={name:O};if(!t.disabled){if(!Y||le){(h.isDirty||p.isDirty)&&(be=r.isDirty,r.isDirty=Fe.isDirty=te(),J=be!==Fe.isDirty);const ot=zs(Ce(i,O),z);be=!!Ce(r.dirtyFields,O),ot?sr(r.dirtyFields,O):Nt(r.dirtyFields,O,!0),Fe.dirtyFields=r.dirtyFields,J=J||(h.dirtyFields||p.dirtyFields)&&be!==!ot}if(Y){const ot=Ce(r.touchedFields,O);ot||(Nt(r.touchedFields,O,Y),Fe.touchedFields=r.touchedFields,J=J||(h.touchedFields||p.touchedFields)&&ot!==Y)}J&&fe&&v.state.next(Fe)}return J?Fe:{}},q=(O,z,Y,le)=>{const fe=Ce(r.errors,O),J=(h.isValid||p.isValid)&&hn(z)&&r.isValid!==z;if(t.delayError&&Y?(d=j(()=>A(O,Y)),d(t.delayError)):(clearTimeout(m),d=null,Y?Nt(r.errors,O,Y):sr(r.errors,O)),(Y?!zs(fe,Y):fe)||!Fr(le)||J){const be={...le,...J&&hn(z)?{isValid:z}:{},errors:r.errors,name:O};r={...r,...be},v.state.next(be)}},B=async O=>{E(O,!0);const z=await t.resolver(s,t.context,q6(O||u.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return E(O),z},F=async O=>{const{errors:z}=await B(O);if(O)for(const Y of O){const le=Ce(z,Y);le?Nt(r.errors,Y,le):sr(r.errors,Y)}else r.errors=z;return z},V=async(O,z,Y={valid:!0})=>{for(const le in O){const fe=O[le];if(fe){const{_f:J,...be}=fe;if(J){const Fe=u.array.has(J.name),ot=fe._f&&H6(fe._f);ot&&h.validatingFields&&E([le],!0);const ut=await qS(fe,u.disabled,s,S,t.shouldUseNativeValidation&&!z,Fe);if(ot&&h.validatingFields&&E([le]),ut[J.name]&&(Y.valid=!1,z))break;!z&&(Ce(ut,J.name)?Fe?X6(r.errors,ut,J.name):Nt(r.errors,J.name,ut[J.name]):sr(r.errors,J.name))}!Fr(be)&&await V(be,z,Y)}}return Y.valid},W=()=>{for(const O of u.unMount){const z=Ce(n,O);z&&(z._f.refs?z._f.refs.every(Y=>!Bp(Y)):!Bp(z._f.ref))&&X(O)}u.unMount=new Set},te=(O,z)=>!t.disabled&&(O&&z&&Nt(s,O,z),!zs($(),i)),K=(O,z,Y)=>rC(O,u,{...o.mount?s:Ht(z)?i:Ni(O)?{[O]:z}:z},Y,z),ae=O=>sh(Ce(o.mount?s:i,O,t.shouldUnregister?Ce(i,O,[]):[])),Ne=(O,z,Y={})=>{const le=Ce(n,O);let fe=z;if(le){const J=le._f;J&&(!J.disabled&&Nt(s,O,oC(z,J)),fe=cf(J.ref)&&zr(z)?"":z,nC(J.ref)?[...J.ref.options].forEach(be=>be.selected=fe.includes(be.value)):J.refs?Hc(J.ref)?J.refs.length>1?J.refs.forEach(be=>(!be.defaultChecked||!be.disabled)&&(be.checked=Array.isArray(fe)?!!fe.find(Fe=>Fe===be.value):fe===be.value)):J.refs[0]&&(J.refs[0].checked=!!fe):J.refs.forEach(be=>be.checked=be.value===fe):i0(J.ref)?J.ref.value="":(J.ref.value=fe,J.ref.type||v.state.next({name:O,values:_r(s)})))}(Y.shouldDirty||Y.shouldTouch)&&L(O,fe,Y.shouldTouch,Y.shouldDirty,!0),Y.shouldValidate&&D(O)},ke=(O,z,Y)=>{for(const le in z){const fe=z[le],J=`${O}.${le}`,be=Ce(n,J);(u.array.has(O)||Yt(fe)||be&&!be._f)&&!ja(fe)?ke(J,fe,Y):Ne(J,fe,Y)}},se=(O,z,Y={})=>{const le=Ce(n,O),fe=u.array.has(O),J=_r(z);Nt(s,O,J),fe?(v.array.next({name:O,values:_r(s)}),(h.isDirty||h.dirtyFields||p.isDirty||p.dirtyFields)&&Y.shouldDirty&&v.state.next({name:O,dirtyFields:tc(i,s),isDirty:te(O,J)})):le&&!le._f&&!zr(J)?ke(O,J,Y):Ne(O,J,Y),BS(O,u)&&v.state.next({...r}),v.state.next({name:o.mount?O:void 0,values:_r(s)})},he=async O=>{o.mount=!0;const z=O.target;let Y=z.name,le=!0;const fe=Ce(n,Y),J=be=>{le=Number.isNaN(be)||ja(be)&&isNaN(be.getTime())||zs(be,Ce(s,Y,be))};if(fe){let be,Fe;const ot=z.type?FS(fe._f):XE(O),ut=O.type===lf.BLUR||O.type===lf.FOCUS_OUT,tr=!K6(fe._f)&&!t.resolver&&!Ce(r.errors,Y)&&!fe._f.deps||J6(ut,Ce(r.touchedFields,Y),r.isSubmitted,b,x),qn=BS(Y,u,ut);Nt(s,Y,ot),ut?(fe._f.onBlur&&fe._f.onBlur(O),d&&d(0)):fe._f.onChange&&fe._f.onChange(O);const _n=L(Y,ot,ut),Or=!Fr(_n)||qn;if(!ut&&v.state.next({name:Y,type:O.type,values:_r(s)}),tr)return(h.isValid||p.isValid)&&(t.mode==="onBlur"?ut&&k():ut||k()),Or&&v.state.next({name:Y,...qn?{}:_n});if(!ut&&qn&&v.state.next({...r}),t.resolver){const{errors:kn}=await B([Y]);if(J(ot),le){const Hn=VS(r.errors,n,Y),Kn=VS(kn,n,Hn.name||Y);be=Kn.error,Y=Kn.name,Fe=Fr(kn)}}else E([Y],!0),be=(await qS(fe,u.disabled,s,S,t.shouldUseNativeValidation))[Y],E([Y]),J(ot),le&&(be?Fe=!1:(h.isValid||p.isValid)&&(Fe=await V(n,!0)));le&&(fe._f.deps&&D(fe._f.deps),q(Y,Fe,be,_n))}},pe=(O,z)=>{if(Ce(r.errors,z)&&O.focus)return O.focus(),1},D=async(O,z={})=>{let Y,le;const fe=wc(O);if(t.resolver){const J=await F(Ht(O)?O:fe);Y=Fr(J),le=O?!fe.some(be=>Ce(J,be)):Y}else O?(le=(await Promise.all(fe.map(async J=>{const be=Ce(n,J);return await V(be&&be._f?{[J]:be}:be)}))).every(Boolean),!(!le&&!r.isValid)&&k()):le=Y=await V(n);return v.state.next({...!Ni(O)||(h.isValid||p.isValid)&&Y!==r.isValid?{}:{name:O},...t.resolver||!O?{isValid:Y}:{},errors:r.errors}),z.shouldFocus&&!le&&bc(n,pe,O?fe:u.mount),le},$=O=>{const z={...o.mount?s:i};return Ht(O)?z:Ni(O)?Ce(z,O):O.map(Y=>Ce(z,Y))},ee=(O,z)=>({invalid:!!Ce((z||r).errors,O),isDirty:!!Ce((z||r).dirtyFields,O),error:Ce((z||r).errors,O),isValidating:!!Ce(r.validatingFields,O),isTouched:!!Ce((z||r).touchedFields,O)}),_e=O=>{O&&wc(O).forEach(z=>sr(r.errors,z)),v.state.next({errors:O?r.errors:{}})},re=(O,z,Y)=>{const le=(Ce(n,O,{_f:{}})._f||{}).ref,fe=Ce(r.errors,O)||{},{ref:J,message:be,type:Fe,...ot}=fe;Nt(r.errors,O,{...ot,...z,ref:le}),v.state.next({name:O,errors:r.errors,isValid:!1}),Y&&Y.shouldFocus&&le&&le.focus&&le.focus()},je=(O,z)=>ii(O)?v.state.subscribe({next:Y=>O(K(void 0,z),Y)}):K(O,z,!0),ue=O=>v.state.subscribe({next:z=>{G6(O.name,z.name,O.exact)&&Y6(z,O.formState||h,et,O.reRenderRoot)&&O.callback({values:{...s},...r,...z})}}).unsubscribe,ye=O=>(o.mount=!0,p={...p,...O.formState},ue({...O,formState:p})),X=(O,z={})=>{for(const Y of O?wc(O):u.mount)u.mount.delete(Y),u.array.delete(Y),z.keepValue||(sr(n,Y),sr(s,Y)),!z.keepError&&sr(r.errors,Y),!z.keepDirty&&sr(r.dirtyFields,Y),!z.keepTouched&&sr(r.touchedFields,Y),!z.keepIsValidating&&sr(r.validatingFields,Y),!t.shouldUnregister&&!z.keepDefaultValue&&sr(i,Y);v.state.next({values:_r(s)}),v.state.next({...r,...z.keepDirty?{isDirty:te()}:{}}),!z.keepIsValid&&k()},xe=({disabled:O,name:z})=>{(hn(O)&&o.mount||O||u.disabled.has(z))&&(O?u.disabled.add(z):u.disabled.delete(z))},$e=(O,z={})=>{let Y=Ce(n,O);const le=hn(z.disabled)||hn(t.disabled);return Nt(n,O,{...Y||{},_f:{...Y&&Y._f?Y._f:{ref:{name:O}},name:O,mount:!0,...z}}),u.mount.add(O),Y?xe({disabled:hn(z.disabled)?z.disabled:t.disabled,name:O}):I(O,!0,z.value),{...le?{disabled:z.disabled||t.disabled}:{},...t.progressive?{required:!!z.required,min:rc(z.min),max:rc(z.max),minLength:rc(z.minLength),maxLength:rc(z.maxLength),pattern:rc(z.pattern)}:{},name:O,onChange:he,onBlur:he,ref:fe=>{if(fe){$e(O,z),Y=Ce(n,O);const J=Ht(fe.value)&&fe.querySelectorAll&&fe.querySelectorAll("input,select,textarea")[0]||fe,be=B6(J),Fe=Y._f.refs||[];if(be?Fe.find(ot=>ot===J):J===Y._f.ref)return;Nt(n,O,{_f:{...Y._f,...be?{refs:[...Fe.filter(Bp),J,...Array.isArray(Ce(i,O))?[{}]:[]],ref:{type:J.type,name:O}}:{ref:J}}}),I(O,!1,void 0,J)}else Y=Ce(n,O,{}),Y._f&&(Y._f.mount=!1),(t.shouldUnregister||z.shouldUnregister)&&!(ZE(u.array,O)&&o.action)&&u.unMount.add(O)}}},ie=()=>t.shouldFocusError&&bc(n,pe,u.mount),Ae=O=>{hn(O)&&(v.state.next({disabled:O}),bc(n,(z,Y)=>{const le=Ce(n,Y);le&&(z.disabled=le._f.disabled||O,Array.isArray(le._f.refs)&&le._f.refs.forEach(fe=>{fe.disabled=le._f.disabled||O}))},0,!1))},Ke=(O,z)=>async Y=>{let le;Y&&(Y.preventDefault&&Y.preventDefault(),Y.persist&&Y.persist());let fe=_r(s);if(v.state.next({isSubmitting:!0}),t.resolver){const{errors:J,values:be}=await B();r.errors=J,fe=be}else await V(n);if(u.disabled.size)for(const J of u.disabled)Nt(fe,J,void 0);if(sr(r.errors,"root"),Fr(r.errors)){v.state.next({errors:{}});try{await O(fe,Y)}catch(J){le=J}}else z&&await z({...r.errors},Y),ie(),setTimeout(ie);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Fr(r.errors)&&!le,submitCount:r.submitCount+1,errors:r.errors}),le)throw le},nt=(O,z={})=>{Ce(n,O)&&(Ht(z.defaultValue)?se(O,_r(Ce(i,O))):(se(O,z.defaultValue),Nt(i,O,_r(z.defaultValue))),z.keepTouched||sr(r.touchedFields,O),z.keepDirty||(sr(r.dirtyFields,O),r.isDirty=z.defaultValue?te(O,_r(Ce(i,O))):te()),z.keepError||(sr(r.errors,O),h.isValid&&k()),v.state.next({...r}))},at=(O,z={})=>{const Y=O?_r(O):i,le=_r(Y),fe=Fr(O),J=fe?i:le;if(z.keepDefaultValues||(i=Y),!z.keepValues){if(z.keepDirtyValues){const be=new Set([...u.mount,...Object.keys(tc(i,s))]);for(const Fe of Array.from(be))Ce(r.dirtyFields,Fe)?Nt(J,Fe,Ce(s,Fe)):se(Fe,Ce(J,Fe))}else{if(t0&&Ht(O))for(const be of u.mount){const Fe=Ce(n,be);if(Fe&&Fe._f){const ot=Array.isArray(Fe._f.refs)?Fe._f.refs[0]:Fe._f.ref;if(cf(ot)){const ut=ot.closest("form");if(ut){ut.reset();break}}}}for(const be of u.mount)se(be,Ce(J,be))}s=_r(J),v.array.next({values:{...J}}),v.state.next({values:{...J}})}u={mount:z.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!z.keepIsValid||!!z.keepDirtyValues,o.watch=!!t.shouldUnregister,v.state.next({submitCount:z.keepSubmitCount?r.submitCount:0,isDirty:fe?!1:z.keepDirty?r.isDirty:!!(z.keepDefaultValues&&!zs(O,i)),isSubmitted:z.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:fe?{}:z.keepDirtyValues?z.keepDefaultValues&&s?tc(i,s):r.dirtyFields:z.keepDefaultValues&&O?tc(i,O):z.keepDirty?r.dirtyFields:{},touchedFields:z.keepTouched?r.touchedFields:{},errors:z.keepErrors?r.errors:{},isSubmitSuccessful:z.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},de=(O,z)=>at(ii(O)?O(s):O,z),Me=(O,z={})=>{const Y=Ce(n,O),le=Y&&Y._f;if(le){const fe=le.refs?le.refs[0]:le.ref;fe.focus&&(fe.focus(),z.shouldSelect&&ii(fe.select)&&fe.select())}},et=O=>{r={...r,...O}},ce={control:{register:$e,unregister:X,getFieldState:ee,handleSubmit:Ke,setError:re,_subscribe:ue,_runSchema:B,_getWatch:K,_getDirty:te,_setValid:k,_setFieldArray:N,_setDisabledField:xe,_setErrors:T,_getFieldArray:ae,_reset:at,_resetDefaultValues:()=>ii(t.defaultValues)&&t.defaultValues().then(O=>{de(O,t.resetOptions),v.state.next({isLoading:!1})}),_removeUnmounted:W,_disableForm:Ae,_subjects:v,_proxyFormState:h,get _fields(){return n},get _formValues(){return s},get _state(){return o},set _state(O){o=O},get _defaultValues(){return i},get _names(){return u},set _names(O){u=O},get _formState(){return r},get _options(){return t},set _options(O){t={...t,...O}}},subscribe:ye,trigger:D,register:$e,handleSubmit:Ke,watch:je,setValue:se,getValues:$,reset:de,resetField:nt,clearErrors:_e,unregister:X,setError:re,setFocus:Me,getFieldState:ee};return{...ce,formControl:ce}}function Kc(e={}){const t=st.useRef(void 0),r=st.useRef(void 0),[n,i]=st.useState({isDirty:!1,isValidating:!1,isLoading:ii(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:ii(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:eL(e),formState:n},e.formControl&&e.defaultValues&&!ii(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const s=t.current.control;return s._options=e,st.useLayoutEffect(()=>s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0}),[s]),st.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),st.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),st.useEffect(()=>{e.values&&!zs(e.values,r.current)?(s._reset(e.values,s._options.resetOptions),r.current=e.values,i(o=>({...o}))):s._resetDefaultValues()},[e.values,s]),st.useEffect(()=>{e.errors&&!Fr(e.errors)&&s._setErrors(e.errors)},[e.errors,s]),st.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),st.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[e.shouldUnregister,s]),t.current.formState=tC(n,s),t.current}function cC(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=cC(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function $t(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=cC(e))&&(n&&(n+=" "),n+=t);return n}var Vp={},Wp={},HS;function tL(){return HS||(HS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Wp)),Wp}var qp={},KS;function uC(){return KS||(KS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(qp)),qp}var Hp={},YS;function dC(){return YS||(YS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Hp)),Hp}var Kp={},GS;function a0(){return GS||(GS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],i=r.length;if(i===0)return n;let s=0,o="",u="",d=!1;for(r.charCodeAt(0)===46&&(n.push(""),s++);s<i;){const m=r[s];u?m==="\\"&&s+1<i?(s++,o+=r[s]):m===u?u="":o+=m:d?m==='"'||m==="'"?u=m:m==="]"?(d=!1,n.push(o),o=""):o+=m:m==="["?(d=!0,o&&(n.push(o),o="")):m==="."?o&&(n.push(o),o=""):o+=m,s++}return o&&n.push(o),n}e.toPath=t})(Kp)),Kp}var JS;function o0(){return JS||(JS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tL(),r=uC(),n=dC(),i=a0();function s(u,d,m){if(u==null)return m;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return m;const h=u[d];return h===void 0?r.isDeepKey(d)?s(u,i.toPath(d),m):m:h}case"number":case"symbol":{typeof d=="number"&&(d=n.toKey(d));const h=u[d];return h===void 0?m:h}default:{if(Array.isArray(d))return o(u,d,m);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return m;const h=u[d];return h===void 0?m:h}}}function o(u,d,m){if(d.length===0)return m;let h=u;for(let p=0;p<d.length;p++){if(h==null||t.isUnsafeProperty(d[p]))return m;h=h[d[p]]}return h===void 0?m:h}e.get=s})(Vp)),Vp}var Yp,QS;function rL(){return QS||(QS=1,Yp=o0().get),Yp}var nL=rL();const zo=ui(nL);var Gp={exports:{}},kt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XS;function iL(){if(XS)return kt;XS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function b(S){if(typeof S=="object"&&S!==null){var j=S.$$typeof;switch(j){case e:switch(S=S.type,S){case r:case i:case n:case d:case m:case v:return S;default:switch(S=S&&S.$$typeof,S){case o:case u:case p:case h:return S;case s:return S;default:return j}}case t:return j}}}return kt.ContextConsumer=s,kt.ContextProvider=o,kt.Element=e,kt.ForwardRef=u,kt.Fragment=r,kt.Lazy=p,kt.Memo=h,kt.Portal=t,kt.Profiler=i,kt.StrictMode=n,kt.Suspense=d,kt.SuspenseList=m,kt.isContextConsumer=function(S){return b(S)===s},kt.isContextProvider=function(S){return b(S)===o},kt.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===e},kt.isForwardRef=function(S){return b(S)===u},kt.isFragment=function(S){return b(S)===r},kt.isLazy=function(S){return b(S)===p},kt.isMemo=function(S){return b(S)===h},kt.isPortal=function(S){return b(S)===t},kt.isProfiler=function(S){return b(S)===i},kt.isStrictMode=function(S){return b(S)===n},kt.isSuspense=function(S){return b(S)===d},kt.isSuspenseList=function(S){return b(S)===m},kt.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===r||S===i||S===n||S===d||S===m||typeof S=="object"&&S!==null&&(S.$$typeof===p||S.$$typeof===h||S.$$typeof===o||S.$$typeof===s||S.$$typeof===u||S.$$typeof===x||S.getModuleId!==void 0)},kt.typeOf=b,kt}var ZS;function sL(){return ZS||(ZS=1,Gp.exports=iL()),Gp.exports}var aL=sL(),vn=e=>e===0?0:e>0?1:-1,Un=e=>typeof e=="number"&&e!=+e,_a=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,tt=e=>(typeof e=="number"||e instanceof Number)&&!Un(e),Pi=e=>tt(e)||typeof e=="string",oL=0,Ac=e=>{var t=++oL;return"".concat(e||"").concat(t)},ci=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!tt(t)&&typeof t!="string")return n;var s;if(_a(t)){if(r==null)return n;var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return Un(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},fC=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function Ur(e,t,r){return tt(e)&&tt(t)?e+r*(t-e):t}function lL(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):zo(n,t))===r)}var pr=e=>e===null||typeof e>"u",Yc=e=>pr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),cL=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function l0(e){if(typeof e!="string")return!1;var t=cL;return t.includes(e)}var uL=["viewBox","children"],ej=["points","pathLength"],Jp={svg:uL,polygon:ej,polyline:ej},dL=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(w.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{l0(i)&&(n[i]=(s=>r[i](r,s)))}),n},fL=(e,t,r)=>n=>(e(t,r,n),null),c0=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var s=e[i];l0(i)&&typeof s=="function"&&(n||(n={}),n[i]=fL(s,t,r))}),n},hL=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function hC(e){if(typeof e!="string")return!1;var t=hL;return t.includes(e)}function Gc(e){var t=Object.entries(e).filter(r=>{var[n]=r;return hC(n)});return Object.fromEntries(t)}var tj=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",rj=null,Qp=null,mC=e=>{if(e===rj&&Array.isArray(Qp))return Qp;var t=[];return w.Children.forEach(e,r=>{pr(r)||(aL.isFragment(r)?t=t.concat(mC(r.props.children)):t.push(r))}),Qp=t,rj=e,t};function mL(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>tj(i)):n=[tj(t)],mC(e).forEach(i=>{var s=zo(i,"type.displayName")||zo(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}var pL=(e,t,r,n)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var s=(i=n&&(Jp==null?void 0:Jp[n]))!==null&&i!==void 0?i:[],o=t.startsWith("data-"),u=typeof e!="function"&&(!!n&&s.includes(t)||hC(t)),d=!!r&&l0(t);return o||u||d},Ar=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(w.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(s=>{var o;pL((o=n)===null||o===void 0?void 0:o[s],s,t,r)&&(i[s]=n[s])}),i},gL=["children","width","height","viewBox","className","style","title","desc"];function Kv(){return Kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kv.apply(null,arguments)}function vL(e,t){if(e==null)return{};var r,n,i=yL(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function yL(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var pC=w.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:s,className:o,style:u,title:d,desc:m}=e,h=vL(e,gL),p=s||{width:n,height:i,x:0,y:0},v=$t("recharts-surface",o);return w.createElement("svg",Kv({},Ar(h,!0,"svg"),{className:v,width:n,height:i,style:u,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),w.createElement("title",null,d),w.createElement("desc",null,m),r)}),xL=["children","className"];function Yv(){return Yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yv.apply(null,arguments)}function wL(e,t){if(e==null)return{};var r,n,i=bL(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function bL(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qs=w.forwardRef((e,t)=>{var{children:r,className:n}=e,i=wL(e,xL),s=$t("recharts-layer",n);return w.createElement("g",Yv({className:s},Ar(i,!0),{ref:t}),r)}),SL=w.createContext(null);function Ot(e){return function(){return e}}const gC=Math.cos,ff=Math.sin,fi=Math.sqrt,hf=Math.PI,ah=2*hf,Gv=Math.PI,Jv=2*Gv,ga=1e-6,jL=Jv-ga;function vC(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function _L(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return vC;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class kL{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?vC:_L(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,u=this._y1,d=n-t,m=i-r,h=o-t,p=u-r,v=h*h+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>ga)if(!(Math.abs(p*d-m*h)>ga)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let x=n-o,b=i-u,S=d*d+m*m,j=x*x+b*b,k=Math.sqrt(S),E=Math.sqrt(v),N=s*Math.tan((Gv-Math.acos((S+v-j)/(2*k*E)))/2),A=N/E,T=N/k;Math.abs(A-1)>ga&&this._append`L${t+A*h},${r+A*p}`,this._append`A${s},${s},0,0,${+(p*x>h*b)},${this._x1=t+T*d},${this._y1=r+T*m}`}}arc(t,r,n,i,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),d=n*Math.sin(i),m=t+u,h=r+d,p=1^o,v=o?i-s:s-i;this._x1===null?this._append`M${m},${h}`:(Math.abs(this._x1-m)>ga||Math.abs(this._y1-h)>ga)&&this._append`L${m},${h}`,n&&(v<0&&(v=v%Jv+Jv),v>jL?this._append`A${n},${n},0,1,${p},${t-u},${r-d}A${n},${n},0,1,${p},${this._x1=m},${this._y1=h}`:v>ga&&this._append`A${n},${n},0,${+(v>=Gv)},${p},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function u0(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new kL(t)}function d0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function yC(e){this._context=e}yC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function oh(e){return new yC(e)}function xC(e){return e[0]}function wC(e){return e[1]}function bC(e,t){var r=Ot(!0),n=null,i=oh,s=null,o=u0(u);e=typeof e=="function"?e:e===void 0?xC:Ot(e),t=typeof t=="function"?t:t===void 0?wC:Ot(t);function u(d){var m,h=(d=d0(d)).length,p,v=!1,x;for(n==null&&(s=i(x=o())),m=0;m<=h;++m)!(m<h&&r(p=d[m],m,d))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+e(p,m,d),+t(p,m,d));if(x)return s=null,x+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Ot(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Ot(+d),u):t},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:Ot(!!d),u):r},u.curve=function(d){return arguments.length?(i=d,n!=null&&(s=i(n)),u):i},u.context=function(d){return arguments.length?(d==null?n=s=null:s=i(n=d),u):n},u}function _d(e,t,r){var n=null,i=Ot(!0),s=null,o=oh,u=null,d=u0(m);e=typeof e=="function"?e:e===void 0?xC:Ot(+e),t=typeof t=="function"?t:Ot(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?wC:Ot(+r);function m(p){var v,x,b,S=(p=d0(p)).length,j,k=!1,E,N=new Array(S),A=new Array(S);for(s==null&&(u=o(E=d())),v=0;v<=S;++v){if(!(v<S&&i(j=p[v],v,p))===k)if(k=!k)x=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),b=v-1;b>=x;--b)u.point(N[b],A[b]);u.lineEnd(),u.areaEnd()}k&&(N[v]=+e(j,v,p),A[v]=+t(j,v,p),u.point(n?+n(j,v,p):N[v],r?+r(j,v,p):A[v]))}if(E)return u=null,E+""||null}function h(){return bC().defined(i).curve(o).context(s)}return m.x=function(p){return arguments.length?(e=typeof p=="function"?p:Ot(+p),n=null,m):e},m.x0=function(p){return arguments.length?(e=typeof p=="function"?p:Ot(+p),m):e},m.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Ot(+p),m):n},m.y=function(p){return arguments.length?(t=typeof p=="function"?p:Ot(+p),r=null,m):t},m.y0=function(p){return arguments.length?(t=typeof p=="function"?p:Ot(+p),m):t},m.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Ot(+p),m):r},m.lineX0=m.lineY0=function(){return h().x(e).y(t)},m.lineY1=function(){return h().x(e).y(r)},m.lineX1=function(){return h().x(n).y(t)},m.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Ot(!!p),m):i},m.curve=function(p){return arguments.length?(o=p,s!=null&&(u=o(s)),m):o},m.context=function(p){return arguments.length?(p==null?s=u=null:u=o(s=p),m):s},m}class SC{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function NL(e){return new SC(e,!0)}function EL(e){return new SC(e,!1)}const f0={draw(e,t){const r=fi(t/hf);e.moveTo(r,0),e.arc(0,0,r,0,ah)}},CL={draw(e,t){const r=fi(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},jC=fi(1/3),AL=jC*2,OL={draw(e,t){const r=fi(t/AL),n=r*jC;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},PL={draw(e,t){const r=fi(t),n=-r/2;e.rect(n,n,r,r)}},TL=.8908130915292852,_C=ff(hf/10)/ff(7*hf/10),IL=ff(ah/10)*_C,RL=-gC(ah/10)*_C,DL={draw(e,t){const r=fi(t*TL),n=IL*r,i=RL*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const o=ah*s/5,u=gC(o),d=ff(o);e.lineTo(d*r,-u*r),e.lineTo(u*n-d*i,d*n+u*i)}e.closePath()}},Xp=fi(3),$L={draw(e,t){const r=-fi(t/(Xp*3));e.moveTo(0,r*2),e.lineTo(-Xp*r,-r),e.lineTo(Xp*r,-r),e.closePath()}},Rn=-.5,Dn=fi(3)/2,Qv=1/fi(12),ML=(Qv/2+1)*3,LL={draw(e,t){const r=fi(t/ML),n=r/2,i=r*Qv,s=n,o=r*Qv+r,u=-s,d=o;e.moveTo(n,i),e.lineTo(s,o),e.lineTo(u,d),e.lineTo(Rn*n-Dn*i,Dn*n+Rn*i),e.lineTo(Rn*s-Dn*o,Dn*s+Rn*o),e.lineTo(Rn*u-Dn*d,Dn*u+Rn*d),e.lineTo(Rn*n+Dn*i,Rn*i-Dn*n),e.lineTo(Rn*s+Dn*o,Rn*o-Dn*s),e.lineTo(Rn*u+Dn*d,Rn*d-Dn*u),e.closePath()}};function FL(e,t){let r=null,n=u0(i);e=typeof e=="function"?e:Ot(e||f0),t=typeof t=="function"?t:Ot(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Ot(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Ot(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function mf(){}function pf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function kC(e){this._context=e}kC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:pf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:pf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function zL(e){return new kC(e)}function NC(e){this._context=e}NC.prototype={areaStart:mf,areaEnd:mf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:pf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function UL(e){return new NC(e)}function EC(e){this._context=e}EC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:pf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function BL(e){return new EC(e)}function CC(e){this._context=e}CC.prototype={areaStart:mf,areaEnd:mf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function VL(e){return new CC(e)}function nj(e){return e<0?-1:1}function ij(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),u=(s*i+o*n)/(n+i);return(nj(s)+nj(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(u))||0}function sj(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Zp(e,t,r){var n=e._x0,i=e._y0,s=e._x1,o=e._y1,u=(s-n)/3;e._context.bezierCurveTo(n+u,i+u*t,s-u,o-u*r,s,o)}function gf(e){this._context=e}gf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Zp(this,this._t0,sj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Zp(this,sj(this,r=ij(this,e,t)),r);break;default:Zp(this,this._t0,r=ij(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function AC(e){this._context=new OC(e)}(AC.prototype=Object.create(gf.prototype)).point=function(e,t){gf.prototype.point.call(this,t,e)};function OC(e){this._context=e}OC.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function WL(e){return new gf(e)}function qL(e){return new AC(e)}function PC(e){this._context=e}PC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=aj(e),i=aj(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function aj(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function HL(e){return new PC(e)}function lh(e,t){this._context=e,this._t=t}lh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function KL(e){return new lh(e,.5)}function YL(e){return new lh(e,0)}function GL(e){return new lh(e,1)}function Uo(e,t){if((o=e.length)>1)for(var r=1,n,i,s=e[t[0]],o,u=s.length;r<o;++r)for(i=s,s=e[t[r]],n=0;n<u;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Xv(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function JL(e,t){return e[t]}function QL(e){const t=[];return t.key=e,t}function XL(){var e=Ot([]),t=Xv,r=Uo,n=JL;function i(s){var o=Array.from(e.apply(this,arguments),QL),u,d=o.length,m=-1,h;for(const p of s)for(u=0,++m;u<d;++u)(o[u][m]=[0,+n(p,o[u].key,m,s)]).data=p;for(u=0,h=d0(t(o));u<d;++u)o[h[u]].index=u;return r(o,h),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Ot(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Ot(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?Xv:typeof s=="function"?s:Ot(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??Uo,i):r},i}function ZL(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,o;i<s;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}Uo(e,t)}}function e5(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var o=0,u=0;o<i;++o)u+=e[o][r][1]||0;n[r][1]+=n[r][0]=-u/2}Uo(e,t)}}function t5(e,t){if(!(!((o=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,o;n<s;++n){for(var u=0,d=0,m=0;u<o;++u){for(var h=e[t[u]],p=h[n][1]||0,v=h[n-1][1]||0,x=(p-v)/2,b=0;b<u;++b){var S=e[t[b]],j=S[n][1]||0,k=S[n-1][1]||0;x+=j-k}d+=p,m+=x*p}i[n-1][1]+=i[n-1][0]=r,d&&(r-=m/d)}i[n-1][1]+=i[n-1][0]=r,Uo(e,t)}}var r5=["type","size","sizeType"];function Zv(){return Zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zv.apply(null,arguments)}function oj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oj(Object(r),!0).forEach(function(n){n5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n5(e,t,r){return(t=i5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i5(e){var t=s5(e,"string");return typeof t=="symbol"?t:t+""}function s5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a5(e,t){if(e==null)return{};var r,n,i=o5(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function o5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var TC={symbolCircle:f0,symbolCross:CL,symbolDiamond:OL,symbolSquare:PL,symbolStar:DL,symbolTriangle:$L,symbolWye:LL},l5=Math.PI/180,c5=e=>{var t="symbol".concat(Yc(e));return TC[t]||f0},u5=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*l5;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},d5=(e,t)=>{TC["symbol".concat(Yc(e))]=t},IC=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=a5(e,r5),s=lj(lj({},i),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var u=()=>{var v=c5(o),x=FL().type(v).size(u5(r,n,o));return x()},{className:d,cx:m,cy:h}=s,p=Ar(s,!0);return m===+m&&h===+h&&r===+r?w.createElement("path",Zv({},p,{className:$t("recharts-symbols",d),transform:"translate(".concat(m,", ").concat(h,")"),d:u()})):null};IC.registerSymbol=d5;var eg={},tg={},cj;function f5(){return cj||(cj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let s=0;s<r.length;s++){const o=r[s],u=n(o);i.has(u)||i.set(u,o)}return Array.from(i.values())}e.uniqBy=t})(tg)),tg}var rg={},uj;function RC(){return uj||(uj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(rg)),rg}var ng={},ig={},sg={},dj;function h5(){return dj||(dj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(sg)),sg}var fj;function h0(){return fj||(fj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h5();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(ig)),ig}var ag={},hj;function m5(){return hj||(hj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(ag)),ag}var mj;function p5(){return mj||(mj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h0(),r=m5();function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(ng)),ng}var og={},lg={},pj;function g5(){return pj||(pj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o0();function r(n){return function(i){return t.get(i,n)}}e.property=r})(lg)),lg}var cg={},ug={},dg={},fg={},gj;function DC(){return gj||(gj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(fg)),fg}var hg={},vj;function $C(){return vj||(vj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(hg)),hg}var mg={},yj;function MC(){return yj||(yj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(mg)),mg}var xj;function v5(){return xj||(xj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m0(),r=DC(),n=$C(),i=MC();function s(p,v,x){return typeof x!="function"?t.isMatch(p,v):o(p,v,function b(S,j,k,E,N,A){const T=x(S,j,k,E,N,A);return T!==void 0?!!T:o(S,j,b,A)},new Map)}function o(p,v,x,b){if(v===p)return!0;switch(typeof v){case"object":return u(p,v,x,b);case"function":return Object.keys(v).length>0?o(p,{...v},x,b):i.eq(p,v);default:return r.isObject(p)?typeof v=="string"?v==="":!0:i.eq(p,v)}}function u(p,v,x,b){if(v==null)return!0;if(Array.isArray(v))return m(p,v,x,b);if(v instanceof Map)return d(p,v,x,b);if(v instanceof Set)return h(p,v,x,b);const S=Object.keys(v);if(p==null)return S.length===0;if(S.length===0)return!0;if(b&&b.has(v))return b.get(v)===p;b&&b.set(v,p);try{for(let j=0;j<S.length;j++){const k=S[j];if(!n.isPrimitive(p)&&!(k in p)||v[k]===void 0&&p[k]!==void 0||v[k]===null&&p[k]!==null||!x(p[k],v[k],k,p,v,b))return!1}return!0}finally{b&&b.delete(v)}}function d(p,v,x,b){if(v.size===0)return!0;if(!(p instanceof Map))return!1;for(const[S,j]of v.entries()){const k=p.get(S);if(x(k,j,S,p,v,b)===!1)return!1}return!0}function m(p,v,x,b){if(v.length===0)return!0;if(!Array.isArray(p))return!1;const S=new Set;for(let j=0;j<v.length;j++){const k=v[j];let E=!1;for(let N=0;N<p.length;N++){if(S.has(N))continue;const A=p[N];let T=!1;if(x(A,k,j,p,v,b)&&(T=!0),T){S.add(N),E=!0;break}}if(!E)return!1}return!0}function h(p,v,x,b){return v.size===0?!0:p instanceof Set?m([...p],[...v],x,b):!1}e.isMatchWith=s,e.isSetMatch=h})(dg)),dg}var wj;function m0(){return wj||(wj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v5();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(ug)),ug}var pg={},gg={},vg={},bj;function y5(){return bj||(bj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(vg)),vg}var yg={},Sj;function LC(){return Sj||(Sj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(yg)),yg}var xg={},jj;function FC(){return jj||(jj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",o="[object Symbol]",u="[object Date]",d="[object Map]",m="[object Set]",h="[object Array]",p="[object Function]",v="[object ArrayBuffer]",x="[object Object]",b="[object Error]",S="[object DataView]",j="[object Uint8Array]",k="[object Uint8ClampedArray]",E="[object Uint16Array]",N="[object Uint32Array]",A="[object BigUint64Array]",T="[object Int8Array]",I="[object Int16Array]",L="[object Int32Array]",q="[object BigInt64Array]",B="[object Float32Array]",F="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=v,e.arrayTag=h,e.bigInt64ArrayTag=q,e.bigUint64ArrayTag=A,e.booleanTag=i,e.dataViewTag=S,e.dateTag=u,e.errorTag=b,e.float32ArrayTag=B,e.float64ArrayTag=F,e.functionTag=p,e.int16ArrayTag=I,e.int32ArrayTag=L,e.int8ArrayTag=T,e.mapTag=d,e.numberTag=n,e.objectTag=x,e.regexpTag=t,e.setTag=m,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=E,e.uint32ArrayTag=N,e.uint8ArrayTag=j,e.uint8ClampedArrayTag=k})(xg)),xg}var wg={},_j;function x5(){return _j||(_j=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(wg)),wg}var kj;function zC(){return kj||(kj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y5(),r=LC(),n=FC(),i=$C(),s=x5();function o(h,p){return u(h,void 0,h,new Map,p)}function u(h,p,v,x=new Map,b=void 0){const S=b==null?void 0:b(h,p,v,x);if(S!==void 0)return S;if(i.isPrimitive(h))return h;if(x.has(h))return x.get(h);if(Array.isArray(h)){const j=new Array(h.length);x.set(h,j);for(let k=0;k<h.length;k++)j[k]=u(h[k],k,v,x,b);return Object.hasOwn(h,"index")&&(j.index=h.index),Object.hasOwn(h,"input")&&(j.input=h.input),j}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const j=new RegExp(h.source,h.flags);return j.lastIndex=h.lastIndex,j}if(h instanceof Map){const j=new Map;x.set(h,j);for(const[k,E]of h)j.set(k,u(E,k,v,x,b));return j}if(h instanceof Set){const j=new Set;x.set(h,j);for(const k of h)j.add(u(k,void 0,v,x,b));return j}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(s.isTypedArray(h)){const j=new(Object.getPrototypeOf(h)).constructor(h.length);x.set(h,j);for(let k=0;k<h.length;k++)j[k]=u(h[k],k,v,x,b);return j}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const j=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return x.set(h,j),d(j,h,v,x,b),j}if(typeof File<"u"&&h instanceof File){const j=new File([h],h.name,{type:h.type});return x.set(h,j),d(j,h,v,x,b),j}if(h instanceof Blob){const j=new Blob([h],{type:h.type});return x.set(h,j),d(j,h,v,x,b),j}if(h instanceof Error){const j=new h.constructor;return x.set(h,j),j.message=h.message,j.name=h.name,j.stack=h.stack,j.cause=h.cause,d(j,h,v,x,b),j}if(typeof h=="object"&&m(h)){const j=Object.create(Object.getPrototypeOf(h));return x.set(h,j),d(j,h,v,x,b),j}return h}function d(h,p,v=h,x,b){const S=[...Object.keys(p),...t.getSymbols(p)];for(let j=0;j<S.length;j++){const k=S[j],E=Object.getOwnPropertyDescriptor(h,k);(E==null||E.writable)&&(h[k]=u(p[k],k,v,x,b))}}function m(h){switch(r.getTag(h)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=u,e.copyProperties=d})(gg)),gg}var Nj;function w5(){return Nj||(Nj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zC();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(pg)),pg}var Ej;function b5(){return Ej||(Ej=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m0(),r=w5();function n(i){return i=r.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=n})(cg)),cg}var bg={},Sg={},jg={},Cj;function S5(){return Cj||(Cj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zC(),r=FC();function n(i,s){return t.cloneDeepWith(i,(o,u,d,m)=>{const h=s==null?void 0:s(o,u,d,m);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(p,i),p}case r.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}e.cloneDeepWith=n})(jg)),jg}var Aj;function j5(){return Aj||(Aj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S5();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Sg)),Sg}var _g={},kg={},Oj;function UC(){return Oj||(Oj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(kg)),kg}var Ng={},Pj;function _5(){return Pj||(Pj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LC();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Ng)),Ng}var Tj;function k5(){return Tj||(Tj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uC(),r=UC(),n=_5(),i=a0();function s(o,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&t.isDeepKey(u)&&(o==null?void 0:o[u])==null?d=i.toPath(u):d=[u],d.length===0)return!1;let m=o;for(let h=0;h<d.length;h++){const p=d[h];if((m==null||!Object.hasOwn(m,p))&&!((Array.isArray(m)||n.isArguments(m))&&r.isIndex(p)&&p<m.length))return!1;m=m[p]}return!0}e.has=s})(_g)),_g}var Ij;function N5(){return Ij||(Ij=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m0(),r=dC(),n=j5(),i=o0(),s=k5();function o(u,d){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=r.toKey(u);break}}return d=n.cloneDeep(d),function(m){const h=i.get(m,u);return h===void 0?s.has(m,u):d===void 0?h===void 0:t.isMatch(h,d)}}e.matchesProperty=o})(bg)),bg}var Rj;function E5(){return Rj||(Rj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RC(),r=g5(),n=b5(),i=N5();function s(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=s})(og)),og}var Dj;function C5(){return Dj||(Dj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f5(),r=RC(),n=p5(),i=E5();function s(o,u=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(u)):[]}e.uniqBy=s})(eg)),eg}var Eg,$j;function A5(){return $j||($j=1,Eg=C5().uniqBy),Eg}var O5=A5();const Mj=ui(O5);function P5(e,t,r){return t===!0?Mj(e,r):typeof t=="function"?Mj(e,t):e}var Cg={exports:{}},Ag={},Og={exports:{}},Pg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lj;function T5(){if(Lj)return Pg;Lj=1;var e=Qo();function t(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,s=e.useLayoutEffect,o=e.useDebugValue;function u(p,v){var x=v(),b=n({inst:{value:x,getSnapshot:v}}),S=b[0].inst,j=b[1];return s(function(){S.value=x,S.getSnapshot=v,d(S)&&j({inst:S})},[p,x,v]),i(function(){return d(S)&&j({inst:S}),p(function(){d(S)&&j({inst:S})})},[p]),o(x),x}function d(p){var v=p.getSnapshot;p=p.value;try{var x=v();return!r(p,x)}catch{return!0}}function m(p,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:u;return Pg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,Pg}var Fj;function I5(){return Fj||(Fj=1,Og.exports=T5()),Og.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zj;function R5(){if(zj)return Ag;zj=1;var e=Qo(),t=I5();function r(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,s=e.useRef,o=e.useEffect,u=e.useMemo,d=e.useDebugValue;return Ag.useSyncExternalStoreWithSelector=function(m,h,p,v,x){var b=s(null);if(b.current===null){var S={hasValue:!1,value:null};b.current=S}else S=b.current;b=u(function(){function k(I){if(!E){if(E=!0,N=I,I=v(I),x!==void 0&&S.hasValue){var L=S.value;if(x(L,I))return A=L}return A=I}if(L=A,n(N,I))return L;var q=v(I);return x!==void 0&&x(L,q)?(N=I,L):(N=I,A=q)}var E=!1,N,A,T=p===void 0?null:p;return[function(){return k(h())},T===null?void 0:function(){return k(T())}]},[h,p,v,x]);var j=i(m,b[0],b[1]);return o(function(){S.hasValue=!0,S.value=j},[j]),d(j),j},Ag}var Uj;function D5(){return Uj||(Uj=1,Cg.exports=R5()),Cg.exports}var $5=D5(),p0=w.createContext(null),M5=e=>e,gr=()=>{var e=w.useContext(p0);return e?e.store.dispatch:M5},Yd=()=>{},L5=()=>Yd,F5=(e,t)=>e===t;function Xe(e){var t=w.useContext(p0);return $5.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:L5,t?t.store.getState:Yd,t?t.store.getState:Yd,t?e:Yd,F5)}function z5(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function U5(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function B5(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var Bj=e=>Array.isArray(e)?e:[e];function V5(e){const t=Array.isArray(e[0])?e[0]:e;return B5(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function W5(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var q5=class{constructor(e){this.value=e}deref(){return this.value}},H5=typeof WeakRef<"u"?WeakRef:q5,K5=0,Vj=1;function kd(){return{s:K5,v:void 0,o:null,p:null}}function BC(e,t={}){let r=kd();const{resultEqualityCheck:n}=t;let i,s=0;function o(){var p;let u=r;const{length:d}=arguments;for(let v=0,x=d;v<x;v++){const b=arguments[v];if(typeof b=="function"||typeof b=="object"&&b!==null){let S=u.o;S===null&&(u.o=S=new WeakMap);const j=S.get(b);j===void 0?(u=kd(),S.set(b,u)):u=j}else{let S=u.p;S===null&&(u.p=S=new Map);const j=S.get(b);j===void 0?(u=kd(),S.set(b,u)):u=j}}const m=u;let h;if(u.s===Vj)h=u.v;else if(h=e.apply(null,arguments),s++,n){const v=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;v!=null&&n(v,h)&&(h=v,s!==0&&s--),i=typeof h=="object"&&h!==null||typeof h=="function"?new H5(h):h}return m.s=Vj,m.v=h,h}return o.clearCache=()=>{r=kd(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function Y5(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let s=0,o=0,u,d={},m=i.pop();typeof m=="object"&&(d=m,m=i.pop()),z5(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const h={...r,...d},{memoize:p,memoizeOptions:v=[],argsMemoize:x=BC,argsMemoizeOptions:b=[]}=h,S=Bj(v),j=Bj(b),k=V5(i),E=p(function(){return s++,m.apply(null,arguments)},...S),N=x(function(){o++;const T=W5(k,arguments);return u=E.apply(null,T),u},...j);return Object.assign(N,{resultFunc:m,memoizedResultFunc:E,dependencies:k,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:p,argsMemoize:x})};return Object.assign(n,{withTypes:()=>n}),n}var Z=Y5(BC),G5=Object.assign((e,t=Z)=>{U5(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((o,u,d)=>(o[r[d]]=u,o),{}))},{withTypes:()=>G5}),Tg={},Ig={},Rg={},Wj;function J5(){return Wj||(Wj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const o=t(n),u=t(i);if(o===u&&o===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?u-o:o-u}return 0};e.compareValues=r})(Rg)),Rg}var Dg={},$g={},qj;function VC(){return qj||(qj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})($g)),$g}var Hj;function Q5(){return Hj||(Hj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VC(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,o){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||o!=null&&Object.hasOwn(o,s)}e.isKey=i})(Dg)),Dg}var Kj;function X5(){return Kj||(Kj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J5(),r=Q5(),n=a0();function i(s,o,u,d){if(s==null)return[];u=d?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(x=>String(x));const m=(x,b)=>{let S=x;for(let j=0;j<b.length&&S!=null;++j)S=S[b[j]];return S},h=(x,b)=>b==null||x==null?b:typeof x=="object"&&"key"in x?Object.hasOwn(b,x.key)?b[x.key]:m(b,x.path):typeof x=="function"?x(b):Array.isArray(x)?m(b,x):typeof b=="object"?b[x]:b,p=o.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||r.isKey(x)?x:{key:x,path:n.toPath(x)}));return s.map(x=>({original:x,criteria:p.map(b=>h(b,x))})).slice().sort((x,b)=>{for(let S=0;S<p.length;S++){const j=t.compareValues(x.criteria[S],b.criteria[S],u[S]);if(j!==0)return j}return 0}).map(x=>x.original)}e.orderBy=i})(Ig)),Ig}var Mg={},Yj;function Z5(){return Yj||(Yj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],s=Math.floor(n),o=(u,d)=>{for(let m=0;m<u.length;m++){const h=u[m];Array.isArray(h)&&d<s?o(h,d+1):i.push(h)}};return o(r,0),i}e.flatten=t})(Mg)),Mg}var Lg={},Gj;function WC(){return Gj||(Gj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UC(),r=h0(),n=DC(),i=MC();function s(o,u,d){return n.isObject(d)&&(typeof u=="number"&&r.isArrayLike(d)&&t.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?i.eq(d[u],o):!1}e.isIterateeCall=s})(Lg)),Lg}var Jj;function eF(){return Jj||(Jj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X5(),r=Z5(),n=WC();function i(s,...o){const u=o.length;return u>1&&n.isIterateeCall(s,o[0],o[1])?o=[]:u>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(s,r.flatten(o),["asc"])}e.sortBy=i})(Tg)),Tg}var Fg,Qj;function tF(){return Qj||(Qj=1,Fg=eF().sortBy),Fg}var rF=tF();const ch=ui(rF);var qC=e=>e.legend.settings,nF=e=>e.legend.size,iF=e=>e.legend.payload;Z([iF,qC],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?ch(n,r):n});var Nd=1;function sF(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=w.useState({height:0,left:0,top:0,width:0}),n=w.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),o={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(o.height-t.height)>Nd||Math.abs(o.left-t.left)>Nd||Math.abs(o.top-t.top)>Nd||Math.abs(o.width-t.width)>Nd)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function kr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var aF=typeof Symbol=="function"&&Symbol.observable||"@@observable",Xj=aF,zg=()=>Math.random().toString(36).substring(7).split("").join("."),oF={INIT:`@@redux/INIT${zg()}`,REPLACE:`@@redux/REPLACE${zg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${zg()}`},vf=oF;function g0(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function HC(e,t,r){if(typeof e!="function")throw new Error(kr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(kr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(kr(1));return r(HC)(e,t)}let n=e,i=t,s=new Map,o=s,u=0,d=!1;function m(){o===s&&(o=new Map,s.forEach((j,k)=>{o.set(k,j)}))}function h(){if(d)throw new Error(kr(3));return i}function p(j){if(typeof j!="function")throw new Error(kr(4));if(d)throw new Error(kr(5));let k=!0;m();const E=u++;return o.set(E,j),function(){if(k){if(d)throw new Error(kr(6));k=!1,m(),o.delete(E),s=null}}}function v(j){if(!g0(j))throw new Error(kr(7));if(typeof j.type>"u")throw new Error(kr(8));if(typeof j.type!="string")throw new Error(kr(17));if(d)throw new Error(kr(9));try{d=!0,i=n(i,j)}finally{d=!1}return(s=o).forEach(E=>{E()}),j}function x(j){if(typeof j!="function")throw new Error(kr(10));n=j,v({type:vf.REPLACE})}function b(){const j=p;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(kr(11));function E(){const A=k;A.next&&A.next(h())}return E(),{unsubscribe:j(E)}},[Xj](){return this}}}return v({type:vf.INIT}),{dispatch:v,subscribe:p,getState:h,replaceReducer:x,[Xj]:b}}function lF(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:vf.INIT})>"u")throw new Error(kr(12));if(typeof r(void 0,{type:vf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(kr(13))})}function KC(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const o=t[s];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let i;try{lF(r)}catch(s){i=s}return function(o={},u){if(i)throw i;let d=!1;const m={};for(let h=0;h<n.length;h++){const p=n[h],v=r[p],x=o[p],b=v(x,u);if(typeof b>"u")throw u&&u.type,new Error(kr(14));m[p]=b,d=d||b!==x}return d=d||n.length!==Object.keys(o).length,d?m:o}}function yf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function cF(...e){return t=>(r,n)=>{const i=t(r,n);let s=()=>{throw new Error(kr(15))};const o={getState:i.getState,dispatch:(d,...m)=>s(d,...m)},u=e.map(d=>d(o));return s=yf(...u)(i.dispatch),{...i,dispatch:s}}}function YC(e){return g0(e)&&"type"in e&&typeof e.type=="string"}var GC=Symbol.for("immer-nothing"),Zj=Symbol.for("immer-draftable"),wn=Symbol.for("immer-state");function si(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Bo=Object.getPrototypeOf;function $a(e){return!!e&&!!e[wn]}function ts(e){var t;return e?JC(e)||Array.isArray(e)||!!e[Zj]||!!((t=e.constructor)!=null&&t[Zj])||Jc(e)||dh(e):!1}var uF=Object.prototype.constructor.toString();function JC(e){if(!e||typeof e!="object")return!1;const t=Bo(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===uF}function xf(e,t){uh(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function uh(e){const t=e[wn];return t?t.type_:Array.isArray(e)?1:Jc(e)?2:dh(e)?3:0}function ey(e,t){return uh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function QC(e,t,r){const n=uh(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function dF(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Jc(e){return e instanceof Map}function dh(e){return e instanceof Set}function va(e){return e.copy_||e.base_}function ty(e,t){if(Jc(e))return new Map(e);if(dh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=JC(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[wn];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const o=i[s],u=n[o];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[o]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[o]})}return Object.create(Bo(e),n)}else{const n=Bo(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function v0(e,t=!1){return fh(e)||$a(e)||!ts(e)||(uh(e)>1&&Object.defineProperties(e,{set:{value:Ed},add:{value:Ed},clear:{value:Ed},delete:{value:Ed}}),Object.freeze(e),t&&Object.values(e).forEach(r=>v0(r,!0))),e}function Ed(){si(2)}function fh(e){return Object.isFrozen(e)}var fF={};function Ma(e){const t=fF[e];return t||si(0,e),t}var Oc;function XC(){return Oc}function hF(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function e_(e,t){t&&(Ma("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ry(e){ny(e),e.drafts_.forEach(mF),e.drafts_=null}function ny(e){e===Oc&&(Oc=e.parent_)}function t_(e){return Oc=hF(Oc,e)}function mF(e){const t=e[wn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function r_(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[wn].modified_&&(ry(t),si(4)),ts(e)&&(e=wf(t,e),t.parent_||bf(t,e)),t.patches_&&Ma("Patches").generateReplacementPatches_(r[wn].base_,e,t.patches_,t.inversePatches_)):e=wf(t,r,[]),ry(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==GC?e:void 0}function wf(e,t,r){if(fh(t))return t;const n=t[wn];if(!n)return xf(t,(i,s)=>n_(e,n,t,i,s,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return bf(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,o=!1;n.type_===3&&(s=new Set(i),i.clear(),o=!0),xf(s,(u,d)=>n_(e,n,i,u,d,r,o)),bf(e,i,!1),r&&e.patches_&&Ma("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function n_(e,t,r,n,i,s,o){if($a(i)){const u=s&&t&&t.type_!==3&&!ey(t.assigned_,n)?s.concat(n):void 0,d=wf(e,i,u);if(QC(r,n,d),$a(d))e.canAutoFreeze_=!1;else return}else o&&r.add(i);if(ts(i)&&!fh(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;wf(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Jc(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&bf(e,i)}}function bf(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&v0(t,r)}function pF(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:XC(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=y0;r&&(i=[n],s=Pc);const{revoke:o,proxy:u}=Proxy.revocable(i,s);return n.draft_=u,n.revoke_=o,u}var y0={get(e,t){if(t===wn)return e;const r=va(e);if(!ey(r,t))return gF(e,r,t);const n=r[t];return e.finalized_||!ts(n)?n:n===Ug(e.base_,t)?(Bg(e),e.copy_[t]=sy(n,e)):n},has(e,t){return t in va(e)},ownKeys(e){return Reflect.ownKeys(va(e))},set(e,t,r){const n=ZC(va(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Ug(va(e),t),s=i==null?void 0:i[wn];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(dF(r,i)&&(r!==void 0||ey(e.base_,t)))return!0;Bg(e),iy(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Ug(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Bg(e),iy(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=va(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){si(11)},getPrototypeOf(e){return Bo(e.base_)},setPrototypeOf(){si(12)}},Pc={};xf(y0,(e,t)=>{Pc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Pc.deleteProperty=function(e,t){return Pc.set.call(this,e,t,void 0)};Pc.set=function(e,t,r){return y0.set.call(this,e[0],t,r,e[0])};function Ug(e,t){const r=e[wn];return(r?va(r):e)[t]}function gF(e,t,r){var i;const n=ZC(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function ZC(e,t){if(!(t in e))return;let r=Bo(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Bo(r)}}function iy(e){e.modified_||(e.modified_=!0,e.parent_&&iy(e.parent_))}function Bg(e){e.copy_||(e.copy_=ty(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var vF=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const o=this;return function(d=s,...m){return o.produce(d,h=>r.call(this,h,...m))}}typeof r!="function"&&si(6),n!==void 0&&typeof n!="function"&&si(7);let i;if(ts(t)){const s=t_(this),o=sy(t,void 0);let u=!0;try{i=r(o),u=!1}finally{u?ry(s):ny(s)}return e_(s,n),r_(i,s)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===GC&&(i=void 0),this.autoFreeze_&&v0(i,!0),n){const s=[],o=[];Ma("Patches").generateReplacementPatches_(t,i,s,o),n(s,o)}return i}else si(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...u)=>this.produceWithPatches(o,d=>t(d,...u));let n,i;return[this.produce(t,r,(o,u)=>{n=o,i=u}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ts(e)||si(8),$a(e)&&(e=Xi(e));const t=t_(this),r=sy(e,void 0);return r[wn].isManual_=!0,ny(t),r}finishDraft(e,t){const r=e&&e[wn];(!r||!r.isManual_)&&si(9);const{scope_:n}=r;return e_(n,t),r_(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=Ma("Patches").applyPatches_;return $a(e)?n(e,t):this.produce(e,i=>n(i,t))}};function sy(e,t){const r=Jc(e)?Ma("MapSet").proxyMap_(e,t):dh(e)?Ma("MapSet").proxySet_(e,t):pF(e,t);return(t?t.scope_:XC()).drafts_.push(r),r}function Xi(e){return $a(e)||si(10,e),eA(e)}function eA(e){if(!ts(e)||fh(e))return e;const t=e[wn];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=ty(e,t.scope_.immer_.useStrictShallowCopy_)}else r=ty(e,!0);return xf(r,(n,i)=>{QC(r,n,eA(i))}),t&&(t.finalized_=!1),r}var yF=new vF,tA=yF.produce;function rA(e){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,e):i(s)}var xF=rA(),wF=rA,bF=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?yf:yf.apply(null,arguments)};function Bn(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(xn(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>YC(n)&&n.type===e,r}var nA=class hc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,hc.prototype)}static get[Symbol.species](){return hc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new hc(...t[0].concat(this)):new hc(...t.concat(this))}};function i_(e){return ts(e)?tA(e,()=>{}):e}function Cd(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function SF(e){return typeof e=="boolean"}var jF=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let o=new nA;return r&&(SF(r)?o.push(xF):o.push(wF(r.extraArgument))),o},_F="RTK_autoBatch",s_=e=>t=>{setTimeout(t,e)},kF=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,s=!1,o=!1;const u=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:s_(10):e.type==="callback"?e.queueNotification:s_(e.timeout),m=()=>{o=!1,s&&(s=!1,u.forEach(h=>h()))};return Object.assign({},n,{subscribe(h){const p=()=>i&&h(),v=n.subscribe(p);return u.add(h),()=>{v(),u.delete(h)}},dispatch(h){var p;try{return i=!((p=h==null?void 0:h.meta)!=null&&p[_F]),s=!i,s&&(o||(o=!0,d(m))),n.dispatch(h)}finally{i=!0}}})},NF=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new nA(e);return n&&i.push(kF(typeof n=="object"?n:void 0)),i};function EF(e){const t=jF(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let u;if(typeof r=="function")u=r;else if(g0(r))u=KC(r);else throw new Error(xn(1));let d;typeof n=="function"?d=n(t):d=t();let m=yf;i&&(m=bF({trace:!1,...typeof i=="object"&&i}));const h=cF(...d),p=NF(h);let v=typeof o=="function"?o(p):p();const x=m(...v);return HC(u,s,x)}function iA(e){const t={},r=[];let n;const i={addCase(s,o){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(xn(28));if(u in t)throw new Error(xn(29));return t[u]=o,i},addAsyncThunk(s,o){return o.pending&&(t[s.pending.type]=o.pending),o.rejected&&(t[s.rejected.type]=o.rejected),o.fulfilled&&(t[s.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:s.settled,reducer:o.settled}),i},addMatcher(s,o){return r.push({matcher:s,reducer:o}),i},addDefaultCase(s){return n=s,i}};return e(i),[t,r,n]}function CF(e){return typeof e=="function"}function AF(e,t){let[r,n,i]=iA(t),s;if(CF(e))s=()=>i_(e());else{const u=i_(e);s=()=>u}function o(u=s(),d){let m=[r[d.type],...n.filter(({matcher:h})=>h(d)).map(({reducer:h})=>h)];return m.filter(h=>!!h).length===0&&(m=[i]),m.reduce((h,p)=>{if(p)if($a(h)){const x=p(h,d);return x===void 0?h:x}else{if(ts(h))return tA(h,v=>p(v,d));{const v=p(h,d);if(v===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return h},u)}return o.getInitialState=s,o}var OF="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",PF=(e=21)=>{let t="",r=e;for(;r--;)t+=OF[Math.random()*64|0];return t},TF=Symbol.for("rtk-slice-createasyncthunk");function IF(e,t){return`${e}/${t}`}function RF({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[TF];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(xn(11));const u=(typeof i.reducers=="function"?i.reducers($F()):i.reducers)||{},d=Object.keys(u),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(A,T){const I=typeof A=="string"?A:A.type;if(!I)throw new Error(xn(12));if(I in m.sliceCaseReducersByType)throw new Error(xn(13));return m.sliceCaseReducersByType[I]=T,h},addMatcher(A,T){return m.sliceMatchers.push({matcher:A,reducer:T}),h},exposeAction(A,T){return m.actionCreators[A]=T,h},exposeCaseReducer(A,T){return m.sliceCaseReducersByName[A]=T,h}};d.forEach(A=>{const T=u[A],I={reducerName:A,type:IF(s,A),createNotation:typeof i.reducers=="function"};LF(T)?zF(I,T,h,t):MF(I,T,h)});function p(){const[A={},T=[],I=void 0]=typeof i.extraReducers=="function"?iA(i.extraReducers):[i.extraReducers],L={...A,...m.sliceCaseReducersByType};return AF(i.initialState,q=>{for(let B in L)q.addCase(B,L[B]);for(let B of m.sliceMatchers)q.addMatcher(B.matcher,B.reducer);for(let B of T)q.addMatcher(B.matcher,B.reducer);I&&q.addDefaultCase(I)})}const v=A=>A,x=new Map,b=new WeakMap;let S;function j(A,T){return S||(S=p()),S(A,T)}function k(){return S||(S=p()),S.getInitialState()}function E(A,T=!1){function I(q){let B=q[A];return typeof B>"u"&&T&&(B=Cd(b,I,k)),B}function L(q=v){const B=Cd(x,T,()=>new WeakMap);return Cd(B,q,()=>{const F={};for(const[V,W]of Object.entries(i.selectors??{}))F[V]=DF(W,q,()=>Cd(b,q,k),T);return F})}return{reducerPath:A,getSelectors:L,get selectors(){return L(I)},selectSlice:I}}const N={name:s,reducer:j,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:k,...E(o),injectInto(A,{reducerPath:T,...I}={}){const L=T??o;return A.inject({reducerPath:L,reducer:j},I),{...N,...E(L,!0)}}};return N}}function DF(e,t,r,n){function i(s,...o){let u=t(s);return typeof u>"u"&&n&&(u=r()),e(u,...o)}return i.unwrapped=e,i}var jn=RF();function $F(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function MF({type:e,reducerName:t,createNotation:r},n,i){let s,o;if("reducer"in n){if(r&&!FF(n))throw new Error(xn(17));s=n.reducer,o=n.prepare}else s=n;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,o?Bn(e,o):Bn(e))}function LF(e){return e._reducerDefinitionType==="asyncThunk"}function FF(e){return e._reducerDefinitionType==="reducerWithPrepare"}function zF({type:e,reducerName:t},r,n,i){if(!i)throw new Error(xn(18));const{payloadCreator:s,fulfilled:o,pending:u,rejected:d,settled:m,options:h}=r,p=i(e,s,h);n.exposeAction(t,p),o&&n.addCase(p.fulfilled,o),u&&n.addCase(p.pending,u),d&&n.addCase(p.rejected,d),m&&n.addMatcher(p.settled,m),n.exposeCaseReducer(t,{fulfilled:o||Ad,pending:u||Ad,rejected:d||Ad,settled:m||Ad})}function Ad(){}var UF="task",sA="listener",aA="completed",x0="cancelled",BF=`task-${x0}`,VF=`task-${aA}`,ay=`${sA}-${x0}`,WF=`${sA}-${aA}`,hh=class{constructor(e){vp(this,"name","TaskAbortError");vp(this,"message");this.code=e,this.message=`${UF} ${x0} (reason: ${e})`}},w0=(e,t)=>{if(typeof e!="function")throw new TypeError(xn(32))},Sf=()=>{},oA=(e,t=Sf)=>(e.catch(t),e),lA=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Aa=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Oa=e=>{if(e.aborted){const{reason:t}=e;throw new hh(t)}};function cA(e,t){let r=Sf;return new Promise((n,i)=>{const s=()=>i(new hh(e.reason));if(e.aborted){s();return}r=lA(e,s),t.finally(()=>r()).then(n,i)}).finally(()=>{r=Sf})}var qF=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof hh?"cancelled":"rejected",error:r}}finally{t==null||t()}},jf=e=>t=>oA(cA(e,t).then(r=>(Oa(e),r))),uA=e=>{const t=jf(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Mo}=Object,a_={},mh="listenerMiddleware",HF=(e,t)=>{const r=n=>lA(e,()=>Aa(n,e.reason));return(n,i)=>{w0(n);const s=new AbortController;r(s);const o=qF(async()=>{Oa(e),Oa(s.signal);const u=await n({pause:jf(s.signal),delay:uA(s.signal),signal:s.signal});return Oa(s.signal),u},()=>Aa(s,VF));return i!=null&&i.autoJoin&&t.push(o.catch(Sf)),{result:jf(e)(o),cancel(){Aa(s,BF)}}}},KF=(e,t)=>{const r=async(n,i)=>{Oa(t);let s=()=>{};const u=[new Promise((d,m)=>{let h=e({predicate:n,effect:(p,v)=>{v.unsubscribe(),d([p,v.getState(),v.getOriginalState()])}});s=()=>{h(),m()}})];i!=null&&u.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await cA(t,Promise.race(u));return Oa(t),d}finally{s()}};return(n,i)=>oA(r(n,i))},dA=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:s}=e;if(t)i=Bn(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(xn(21));return w0(s),{predicate:i,type:t,effect:s}},fA=Mo(e=>{const{type:t,predicate:r,effect:n}=dA(e);return{id:PF(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(xn(22))}}},{withTypes:()=>fA}),o_=(e,t)=>{const{type:r,effect:n,predicate:i}=dA(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},oy=e=>{e.pending.forEach(t=>{Aa(t,ay)})},YF=e=>()=>{e.forEach(oy),e.clear()},l_=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},hA=Mo(Bn(`${mh}/add`),{withTypes:()=>hA}),GF=Bn(`${mh}/removeAll`),mA=Mo(Bn(`${mh}/remove`),{withTypes:()=>mA}),JF=(...e)=>{console.error(`${mh}/error`,...e)},Qc=(e={})=>{const t=new Map,{extra:r,onError:n=JF}=e;w0(n);const i=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),p=>{h.unsubscribe(),p!=null&&p.cancelActive&&oy(h)}),s=h=>{const p=o_(t,h)??fA(h);return i(p)};Mo(s,{withTypes:()=>s});const o=h=>{const p=o_(t,h);return p&&(p.unsubscribe(),h.cancelActive&&oy(p)),!!p};Mo(o,{withTypes:()=>o});const u=async(h,p,v,x)=>{const b=new AbortController,S=KF(s,b.signal),j=[];try{h.pending.add(b),await Promise.resolve(h.effect(p,Mo({},v,{getOriginalState:x,condition:(k,E)=>S(k,E).then(Boolean),take:S,delay:uA(b.signal),pause:jf(b.signal),extra:r,signal:b.signal,fork:HF(b.signal,j),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((k,E,N)=>{k!==b&&(Aa(k,ay),N.delete(k))})},cancel:()=>{Aa(b,ay),h.pending.delete(b)},throwIfCancelled:()=>{Oa(b.signal)}})))}catch(k){k instanceof hh||l_(n,k,{raisedBy:"effect"})}finally{await Promise.all(j),Aa(b,WF),h.pending.delete(b)}},d=YF(t);return{middleware:h=>p=>v=>{if(!YC(v))return p(v);if(hA.match(v))return s(v.payload);if(GF.match(v)){d();return}if(mA.match(v))return o(v.payload);let x=h.getState();const b=()=>{if(x===a_)throw new Error(xn(23));return x};let S;try{if(S=p(v),t.size>0){const j=h.getState(),k=Array.from(t.values());for(const E of k){let N=!1;try{N=E.predicate(v,j,x)}catch(A){N=!1,l_(n,A,{raisedBy:"predicate"})}N&&u(E,v,h,b)}}}finally{x=a_}return S},startListening:s,stopListening:o,clearListeners:d}};function xn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var QF={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},pA=jn({name:"chartLayout",initialState:QF,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:XF,setLayout:ZF,setChartSize:ez,setScale:tz}=pA.actions,rz=pA.reducer;function c_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function u_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c_(Object(r),!0).forEach(function(n){nz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nz(e,t,r){return(t=iz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iz(e){var t=sz(e,"string");return typeof t=="symbol"?t:t+""}function sz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _f=Math.PI/180,az=e=>e*180/Math.PI,Er=(e,t,r,n)=>({x:e+Math.cos(-_f*n)*r,y:t+Math.sin(-_f*n)*r}),oz=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},lz=(e,t)=>{var{x:r,y:n}=e,{x:i,y:s}=t;return Math.sqrt((r-i)**2+(n-s)**2)},cz=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:s}=t,o=lz({x:r,y:n},{x:i,y:s});if(o<=0)return{radius:o,angle:0};var u=(r-i)/o,d=Math.acos(u);return n>s&&(d=2*Math.PI-d),{radius:o,angle:az(d),angleInRadian:d}},uz=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:t-s*360,endAngle:r-s*360}},dz=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(i,s);return e+o*360},fz=(e,t)=>{var{x:r,y:n}=e,{radius:i,angle:s}=cz({x:r,y:n},t),{innerRadius:o,outerRadius:u}=t;if(i<o||i>u||i===0)return null;var{startAngle:d,endAngle:m}=uz(t),h=s,p;if(d<=m){for(;h>m;)h-=360;for(;h<d;)h+=360;p=h>=d&&h<=m}else{for(;h>d;)h-=360;for(;h<m;)h+=360;p=h>=m&&h<=d}return p?u_(u_({},t),{},{radius:i,angle:dz(h,t)}):null};function gA(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function d_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d_(Object(r),!0).forEach(function(n){hz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hz(e,t,r){return(t=mz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mz(e){var t=pz(e,"string");return typeof t=="symbol"?t:t+""}function pz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wr(e,t,r){return pr(e)||pr(t)?r:Pi(t)?zo(e,t,r):typeof t=="function"?t(e):r}var gz=(e,t,r,n,i)=>{var s,o=-1,u=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(u<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var d=0;d<u;d++){var m=d>0?r[d-1].coordinate:r[u-1].coordinate,h=r[d].coordinate,p=d>=u-1?r[0].coordinate:r[d+1].coordinate,v=void 0;if(vn(h-m)!==vn(p-h)){var x=[];if(vn(p-h)===vn(i[1]-i[0])){v=p;var b=h+i[1]-i[0];x[0]=Math.min(b,(b+m)/2),x[1]=Math.max(b,(b+m)/2)}else{v=m;var S=p+i[1]-i[0];x[0]=Math.min(h,(S+h)/2),x[1]=Math.max(h,(S+h)/2)}var j=[Math.min(h,(v+h)/2),Math.max(h,(v+h)/2)];if(e>j[0]&&e<=j[1]||e>=x[0]&&e<=x[1]){({index:o}=r[d]);break}}else{var k=Math.min(m,p),E=Math.max(m,p);if(e>(k+h)/2&&e<=(E+h)/2){({index:o}=r[d]);break}}}else if(t){for(var N=0;N<u;N++)if(N===0&&e<=(t[N].coordinate+t[N+1].coordinate)/2||N>0&&N<u-1&&e>(t[N].coordinate+t[N-1].coordinate)/2&&e<=(t[N].coordinate+t[N+1].coordinate)/2||N===u-1&&e>(t[N].coordinate+t[N-1].coordinate)/2){({index:o}=t[N]);break}}return o},vz=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:s,verticalAlign:o,layout:u}=t;if((u==="vertical"||u==="horizontal"&&o==="middle")&&s!=="center"&&tt(e[s]))return Mn(Mn({},e),{},{[s]:e[s]+(n||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&o!=="middle"&&tt(e[o]))return Mn(Mn({},e),{},{[o]:e[o]+(i||0)})}return e},Ba=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",f_=1e-4,yz=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-f_,s=Math.max(n[0],n[1])+f_,o=e(t[0]),u=e(t[r-1]);(o<i||o>s||u<i||u>s)&&e.domain([t[0],t[r-1]])}},xz=(e,t)=>{if(!t||t.length!==2||!tt(t[0])||!tt(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!tt(e[0])||e[0]<r)&&(i[0]=r),(!tt(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},wz=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,s=0,o=0;o<t;++o){var u=Un(e[o][r][1])?e[o][r][0]:e[o][r][1];u>=0?(e[o][r][0]=i,e[o][r][1]=i+u,i=e[o][r][1]):(e[o][r][0]=s,e[o][r][1]=s+u,s=e[o][r][1])}},bz=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,s=0;s<t;++s){var o=Un(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=i,e[s][r][1]=i+o,i=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},Sz={sign:wz,expand:ZL,none:Uo,silhouette:e5,wiggle:t5,positive:bz},jz=(e,t,r)=>{var n=Sz[r],i=XL().keys(t).value((s,o)=>+Wr(s,o,0)).order(Xv).offset(n);return i(e)};function _z(e){return e==null?void 0:String(e)}var h_=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:s,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var u=Wr(s,t.dataKey,t.scale.domain()[o]);return pr(u)?null:t.scale(u)-i/2+n},kz=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},Nz=e=>{var t=e.flat(2).filter(tt);return[Math.min(...t),Math.max(...t)]},Ez=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Cz=(e,t,r)=>{if(e!=null)return Ez(Object.keys(e).reduce((n,i)=>{var s=e[i],{stackedData:o}=s,u=o.reduce((d,m)=>{var h=gA(m,t,r),p=Nz(h);return[Math.min(d[0],p[0]),Math.max(d[1],p[1])]},[1/0,-1/0]);return[Math.min(u[0],n[0]),Math.max(u[1],n[1])]},[1/0,-1/0]))},m_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,p_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,b0=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=ch(t,h=>h.coordinate),s=1/0,o=1,u=i.length;o<u;o++){var d=i[o],m=i[o-1];s=Math.min((d.coordinate||0)-(m.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function g_(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:s}=e;return Mn(Mn({},t),{},{dataKey:r,payload:n,value:i,name:s})}function vA(e,t){if(e)return String(e);if(typeof t=="string")return t}function Az(e,t,r,n,i){if(r==="horizontal"||r==="vertical"){var s=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return s?{x:e,y:t}:null}return n?fz({x:e,y:t},n):null}var Oz=(e,t,r,n)=>{var i=t.find(m=>m&&m.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,{radius:o}=n;return Mn(Mn(Mn({},n),Er(n.cx,n.cy,o,s)),{},{angle:s,radius:o})}var u=i.coordinate,{angle:d}=n;return Mn(Mn(Mn({},n),Er(n.cx,n.cy,u,d)),{},{angle:d,radius:u})}return{x:0,y:0}},Pz=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,as=e=>e.layout.width,os=e=>e.layout.height,Tz=e=>e.layout.scale,yA=e=>e.layout.margin,ph=Z(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),gh=Z(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Iz="data-recharts-item-index",Rz="data-recharts-item-data-key",Xc=60;function v_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Od(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v_(Object(r),!0).forEach(function(n){Dz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dz(e,t,r){return(t=$z(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $z(e){var t=Mz(e,"string");return typeof t=="symbol"?t:t+""}function Mz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lz=e=>e.brush.height;function Fz(e){var t=gh(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Xc;return r+i}return r},0)}function zz(e){var t=gh(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Xc;return r+i}return r},0)}function Uz(e){var t=ph(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function Bz(e){var t=ph(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var vr=Z([as,os,yA,Lz,Fz,zz,Uz,Bz,qC,nF],(e,t,r,n,i,s,o,u,d,m)=>{var h={left:(r.left||0)+i,right:(r.right||0)+s},p={top:(r.top||0)+o,bottom:(r.bottom||0)+u},v=Od(Od({},p),h),x=v.bottom;v.bottom+=n,v=vz(v,d,m);var b=e-v.left-v.right,S=t-v.top-v.bottom;return Od(Od({brushBottom:x},v),{},{width:Math.max(b,0),height:Math.max(S,0)})}),Vz=Z(vr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),S0=Z(as,os,(e,t)=>({x:0,y:0,width:e,height:t})),Wz=w.createContext(null),hi=()=>w.useContext(Wz)!=null,vh=e=>e.brush,yh=Z([vh,vr,yA],(e,t,r)=>({height:e.height,x:tt(e.x)?e.x:t.left,y:tt(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:tt(e.width)?e.width:t.width})),j0=()=>{var e,t=hi(),r=Xe(Vz),n=Xe(yh),i=(e=Xe(vh))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},qz={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Hz=()=>{var e;return(e=Xe(vr))!==null&&e!==void 0?e:qz},Kz=()=>Xe(as),Yz=()=>Xe(os),_t=e=>e.layout.layoutType,_0=()=>Xe(_t),Gz={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},xA=jn({name:"legend",initialState:Gz,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=Xi(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:aQ,setLegendSettings:oQ,addLegendPayload:Jz,removeLegendPayload:Qz}=xA.actions,Xz=xA.reducer;function ly(){return ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ly.apply(null,arguments)}function y_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y_(Object(r),!0).forEach(function(n){Zz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zz(e,t,r){return(t=eU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eU(e){var t=tU(e,"string");return typeof t=="symbol"?t:t+""}function tU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rU(e){return Array.isArray(e)&&Pi(e[0])&&Pi(e[1])?e.join(" ~ "):e}var nU=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:s,formatter:o,itemSorter:u,wrapperClassName:d,labelClassName:m,label:h,labelFormatter:p,accessibilityLayer:v=!1}=e,x=()=>{if(s&&s.length){var T={padding:0,margin:0},I=(u?ch(s,u):s).map((L,q)=>{if(L.type==="none")return null;var B=L.formatter||o||rU,{value:F,name:V}=L,W=F,te=V;if(B){var K=B(F,V,L,q,s);if(Array.isArray(K))[W,te]=K;else if(K!=null)W=K;else return null}var ae=Vg({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},n);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(q),style:ae},Pi(te)?w.createElement("span",{className:"recharts-tooltip-item-name"},te):null,Pi(te)?w.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,w.createElement("span",{className:"recharts-tooltip-item-value"},W),w.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:T},I)}return null},b=Vg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),S=Vg({margin:0},i),j=!pr(h),k=j?h:"",E=$t("recharts-default-tooltip",d),N=$t("recharts-tooltip-label",m);j&&p&&s!==void 0&&s!==null&&(k=p(h,s));var A=v?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",ly({className:E,style:b},A),w.createElement("p",{className:N,style:S},w.isValidElement(k)?k:"".concat(k)),x())},nc="recharts-tooltip-wrapper",iU={visibility:"hidden"};function sU(e){var{coordinate:t,translateX:r,translateY:n}=e;return $t(nc,{["".concat(nc,"-right")]:tt(r)&&t&&tt(t.x)&&r>=t.x,["".concat(nc,"-left")]:tt(r)&&t&&tt(t.x)&&r<t.x,["".concat(nc,"-bottom")]:tt(n)&&t&&tt(t.y)&&n>=t.y,["".concat(nc,"-top")]:tt(n)&&t&&tt(t.y)&&n<t.y})}function x_(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:s,reverseDirection:o,tooltipDimension:u,viewBox:d,viewBoxDimension:m}=e;if(s&&tt(s[n]))return s[n];var h=r[n]-u-(i>0?i:0),p=r[n]+i;if(t[n])return o[n]?h:p;var v=d[n];if(v==null)return 0;if(o[n]){var x=h,b=v;return x<b?Math.max(p,v):Math.max(h,v)}if(m==null)return 0;var S=p+u,j=v+m;return S>j?Math.max(h,v):Math.max(p,v)}function aU(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function oU(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:s,tooltipBox:o,useTranslate3d:u,viewBox:d}=e,m,h,p;return o.height>0&&o.width>0&&r?(h=x_({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),p=x_({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),m=aU({translateX:h,translateY:p,useTranslate3d:u})):m=iU,{cssProperties:m,cssClasses:sU({translateX:h,translateY:p,coordinate:r})}}function w_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w_(Object(r),!0).forEach(function(n){cy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cy(e,t,r){return(t=lU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lU(e){var t=cU(e,"string");return typeof t=="symbol"?t:t+""}function cU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class uU extends w.PureComponent{constructor(){super(...arguments),cy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),cy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:o,hasPayload:u,isAnimationActive:d,offset:m,position:h,reverseDirection:p,useTranslate3d:v,viewBox:x,wrapperStyle:b,lastBoundingBox:S,innerRef:j,hasPortalFromProps:k}=this.props,{cssClasses:E,cssProperties:N}=oU({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:m,position:h,reverseDirection:p,tooltipBox:{height:S.height,width:S.width},useTranslate3d:v,viewBox:x}),A=k?{}:Pd(Pd({transition:d&&t?"transform ".concat(n,"ms ").concat(i):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),T=Pd(Pd({},A),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},b);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:E,style:T,ref:j},s)}}var dU=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),sl={devToolsEnabled:!1,isSsr:dU()},wA=()=>Xe(e=>e.rootProps.accessibilityLayer);function bn(e){return Number.isFinite(e)}function kf(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function uy(){return uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uy.apply(null,arguments)}function b_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function S_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b_(Object(r),!0).forEach(function(n){fU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fU(e,t,r){return(t=hU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hU(e){var t=mU(e,"string");return typeof t=="symbol"?t:t+""}function mU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j_={curveBasisClosed:UL,curveBasisOpen:BL,curveBasis:zL,curveBumpX:NL,curveBumpY:EL,curveLinearClosed:VL,curveLinear:oh,curveMonotoneX:WL,curveMonotoneY:qL,curveNatural:HL,curveStep:KL,curveStepAfter:GL,curveStepBefore:YL},Td=e=>bn(e.x)&&bn(e.y),ic=e=>e.x,sc=e=>e.y,pU=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Yc(e));return(r==="curveMonotone"||r==="curveBump")&&t?j_["".concat(r).concat(t==="vertical"?"Y":"X")]:j_[r]||oh},gU=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:s=!1}=e,o=pU(t,i),u=s?r.filter(Td):r,d;if(Array.isArray(n)){var m=s?n.filter(p=>Td(p)):n,h=u.map((p,v)=>S_(S_({},p),{},{base:m[v]}));return i==="vertical"?d=_d().y(sc).x1(ic).x0(p=>p.base.x):d=_d().x(ic).y1(sc).y0(p=>p.base.y),d.defined(Td).curve(o),d(h)}return i==="vertical"&&tt(n)?d=_d().y(sc).x1(ic).x0(n):tt(n)?d=_d().x(ic).y1(sc).y0(n):d=bC().x(ic).y(sc),d.defined(Td).curve(o),d(u)},vU=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?gU(e):n;return w.createElement("path",uy({},Gc(e),dL(e),{className:$t("recharts-curve",t),d:s===null?void 0:s,ref:i}))},yU=["x","y","top","left","width","height","className"];function dy(){return dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dy.apply(null,arguments)}function __(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?__(Object(r),!0).forEach(function(n){wU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):__(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wU(e,t,r){return(t=bU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bU(e){var t=SU(e,"string");return typeof t=="symbol"?t:t+""}function SU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jU(e,t){if(e==null)return{};var r,n,i=_U(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _U(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kU=(e,t,r,n,i,s)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),NU=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:s=0,height:o=0,className:u}=e,d=jU(e,yU),m=xU({x:t,y:r,top:n,left:i,width:s,height:o},d);return!tt(t)||!tt(r)||!tt(s)||!tt(o)||!tt(n)||!tt(i)?null:w.createElement("path",dy({},Ar(m,!0),{className:$t("recharts-cross",u),d:kU(t,r,s,o,n,i)}))};function EU(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function k_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function CU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k_(Object(r),!0).forEach(function(n){AU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AU(e,t,r){return(t=OU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OU(e){var t=PU(e,"string");return typeof t=="symbol"?t:t+""}function PU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mi(e,t){var r=CU({},e),n=t,i=Object.keys(t),s=i.reduce((o,u)=>(o[u]===void 0&&n[u]!==void 0&&(o[u]=n[u]),o),r);return s}function TU(){}function N_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function E_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N_(Object(r),!0).forEach(function(n){IU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IU(e,t,r){return(t=RU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RU(e){var t=DU(e,"string");return typeof t=="symbol"?t:t+""}function DU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $U=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),bA=(e,t,r)=>e.map(n=>"".concat($U(n)," ").concat(t,"ms ").concat(r)).join(","),MU=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),Tc=(e,t)=>Object.keys(t).reduce((r,n)=>E_(E_({},r),{},{[n]:e(n,t[n])}),{});function C_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C_(Object(r),!0).forEach(function(n){LU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LU(e,t,r){return(t=FU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FU(e){var t=zU(e,"string");return typeof t=="symbol"?t:t+""}function zU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nf=(e,t,r)=>e+(t-e)*r,fy=e=>{var{from:t,to:r}=e;return t!==r},SA=(e,t,r)=>{var n=Tc((i,s)=>{if(fy(s)){var[o,u]=e(s.from,s.to,s.velocity);return Nr(Nr({},s),{},{from:o,velocity:u})}return s},t);return r<1?Tc((i,s)=>fy(s)?Nr(Nr({},s),{},{velocity:Nf(s.velocity,n[i].velocity,r),from:Nf(s.from,n[i].from,r)}):s,t):SA(e,n,r-1)};function UU(e,t,r,n,i,s){var o,u=n.reduce((v,x)=>Nr(Nr({},v),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),d=()=>Tc((v,x)=>x.from,u),m=()=>!Object.values(u).filter(fy).length,h=null,p=v=>{o||(o=v);var x=v-o,b=x/r.dt;u=SA(r,u,b),i(Nr(Nr(Nr({},e),t),d())),o=v,m()||(h=s.setTimeout(p))};return()=>(h=s.setTimeout(p),()=>{h()})}function BU(e,t,r,n,i,s,o){var u=null,d=i.reduce((p,v)=>Nr(Nr({},p),{},{[v]:[e[v],t[v]]}),{}),m,h=p=>{m||(m=p);var v=(p-m)/n,x=Tc((S,j)=>Nf(...j,r(v)),d);if(s(Nr(Nr(Nr({},e),t),x)),v<1)u=o.setTimeout(h);else{var b=Tc((S,j)=>Nf(...j,r(1)),d);s(Nr(Nr(Nr({},e),t),b))}};return()=>(u=o.setTimeout(h),()=>{u()})}const VU=(e,t,r,n,i,s)=>{var o=MU(e,t);return r.isStepper===!0?UU(e,t,r,o,i,s):BU(e,t,r,n,o,i,s)};var Ef=1e-4,jA=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],_A=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),A_=(e,t)=>r=>{var n=jA(e,t);return _A(n,r)},WU=(e,t)=>r=>{var n=jA(e,t),i=[...n.map((s,o)=>s*o).slice(1),0];return _A(i,r)},O_=function(){for(var t,r,n,i,s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];if(o.length===1)switch(o[0]){case"linear":[t,n,r,i]=[0,0,1,1];break;case"ease":[t,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,i]=[.42,0,1,1];break;case"ease-out":[t,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,i]=[0,0,.58,1];break;default:{var d=o[0].split("(");d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4&&([t,n,r,i]=d[1].split(")")[0].split(",").map(b=>parseFloat(b)))}}else o.length===4&&([t,n,r,i]=o);var m=A_(t,r),h=A_(n,i),p=WU(t,r),v=b=>b>1?1:b<0?0:b,x=b=>{for(var S=b>1?1:b,j=S,k=0;k<8;++k){var E=m(j)-S,N=p(j);if(Math.abs(E-S)<Ef||N<Ef)return h(j);j=v(j-E/N)}return h(j)};return x.isStepper=!1,x},qU=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,s=(o,u,d)=>{var m=-(o-u)*r,h=d*n,p=d+(m-h)*i/1e3,v=d*i/1e3+o;return Math.abs(v-u)<Ef&&Math.abs(p)<Ef?[u,0]:[v,p]};return s.isStepper=!0,s.dt=i,s},HU=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return O_(e);case"spring":return qU();default:if(e.split("(")[0]==="cubic-bezier")return O_(e)}return typeof e=="function"?e:null};function KU(e){var t,r=()=>null,n=!1,i=null,s=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var u=o,[d,...m]=u;if(typeof d=="number"){i=e.setTimeout(s.bind(null,m),d);return}s(d),i=e.setTimeout(s.bind(null,m));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,i&&(i(),i=null),s(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class YU{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}function GU(){return KU(new YU)}var JU=w.createContext(GU);function QU(e,t){var r=w.useContext(JU);return w.useMemo(()=>t??r(e),[e,t,r])}var XU={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},P_={t:0},Wg={t:1};function k0(e){var t=mi(e,XU),{isActive:r,canBegin:n,duration:i,easing:s,begin:o,onAnimationEnd:u,onAnimationStart:d,children:m}=t,h=QU(t.animationId,t.animationManager),[p,v]=w.useState(r?P_:Wg),x=w.useRef(null);return w.useEffect(()=>{r||v(Wg)},[r]),w.useEffect(()=>{if(!r||!n)return TU;var b=VU(P_,Wg,HU(s),i,v,h.getTimeoutController()),S=()=>{x.current=b()};return h.start([d,o,S,i,u]),()=>{h.stop(),x.current&&x.current(),u()}},[r,n,i,s,o,d,u,h]),m(p.t)}function N0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=w.useRef(Ac(t)),n=w.useRef(e);return n.current!==e&&(r.current=Ac(t),n.current=e),r.current}function T_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function I_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T_(Object(r),!0).forEach(function(n){ZU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZU(e,t,r){return(t=eB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eB(e){var t=tB(e,"string");return typeof t=="symbol"?t:t+""}function tB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cf(){return Cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cf.apply(null,arguments)}var R_=(e,t,r,n,i)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,u=r>=0?1:-1,d=n>=0&&r>=0||n<0&&r<0?1:0,m;if(s>0&&i instanceof Array){for(var h=[0,0,0,0],p=0,v=4;p<v;p++)h[p]=i[p]>s?s:i[p];m="M".concat(e,",").concat(t+o*h[0]),h[0]>0&&(m+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(e+u*h[0],",").concat(t)),m+="L ".concat(e+r-u*h[1],",").concat(t),h[1]>0&&(m+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(e+r,",").concat(t+o*h[1])),m+="L ".concat(e+r,",").concat(t+n-o*h[2]),h[2]>0&&(m+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(e+r-u*h[2],",").concat(t+n)),m+="L ".concat(e+u*h[3],",").concat(t+n),h[3]>0&&(m+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+n-o*h[3])),m+="Z"}else if(s>0&&i===+i&&i>0){var x=Math.min(s,i);m="M ".concat(e,",").concat(t+o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+u*x,",").concat(t,`
            L `).concat(e+r-u*x,",").concat(t,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+r,",").concat(t+o*x,`
            L `).concat(e+r,",").concat(t+n-o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+r-u*x,",").concat(t+n,`
            L `).concat(e+u*x,",").concat(t+n,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e,",").concat(t+n-o*x," Z")}else m="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return m},rB={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kA=e=>{var t=mi(e,rB),r=w.useRef(null),[n,i]=w.useState(-1);w.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var K=r.current.getTotalLength();K&&i(K)}catch{}},[]);var{x:s,y:o,width:u,height:d,radius:m,className:h}=t,{animationEasing:p,animationDuration:v,animationBegin:x,isAnimationActive:b,isUpdateAnimationActive:S}=t,j=w.useRef(u),k=w.useRef(d),E=w.useRef(s),N=w.useRef(o),A=w.useMemo(()=>({x:s,y:o,width:u,height:d,radius:m}),[s,o,u,d,m]),T=N0(A,"rectangle-");if(s!==+s||o!==+o||u!==+u||d!==+d||u===0||d===0)return null;var I=$t("recharts-rectangle",h);if(!S)return w.createElement("path",Cf({},Ar(t,!0),{className:I,d:R_(s,o,u,d,m)}));var L=j.current,q=k.current,B=E.current,F=N.current,V="0px ".concat(n===-1?1:n,"px"),W="".concat(n,"px 0px"),te=bA(["strokeDasharray"],v,typeof p=="string"?p:void 0);return w.createElement(k0,{animationId:T,key:T,canBegin:n>0,duration:v,easing:p,isActive:S,begin:x},K=>{var ae=Ur(L,u,K),Ne=Ur(q,d,K),ke=Ur(B,s,K),se=Ur(F,o,K);r.current&&(j.current=ae,k.current=Ne,E.current=ke,N.current=se);var he;return b?K>0?he={transition:te,strokeDasharray:W}:he={strokeDasharray:V}:he={strokeDasharray:W},w.createElement("path",Cf({},Ar(t,!0),{className:I,d:R_(ke,se,ae,Ne,m),ref:r,style:I_(I_({},he),t.style)}))})};function NA(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:s}=e,o=Er(t,r,n,i),u=Er(t,r,n,s);return{points:[o,u],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}function hy(){return hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hy.apply(null,arguments)}var nB=(e,t)=>{var r=vn(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Id=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:s,isExternal:o,cornerRadius:u,cornerIsExternal:d}=e,m=u*(o?1:-1)+n,h=Math.asin(u/m)/_f,p=d?i:i+s*h,v=Er(t,r,m,p),x=Er(t,r,n,p),b=d?i-s*h:i,S=Er(t,r,m*Math.cos(h*_f),b);return{center:v,circleTangency:x,lineTangency:S,theta:h}},EA=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:o}=e,u=nB(s,o),d=s+u,m=Er(t,r,i,s),h=Er(t,r,i,d),p="M ".concat(m.x,",").concat(m.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(s>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(n>0){var v=Er(t,r,n,s),x=Er(t,r,n,d);p+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(s<=d),`,
            `).concat(v.x,",").concat(v.y," Z")}else p+="L ".concat(t,",").concat(r," Z");return p},iB=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:u,startAngle:d,endAngle:m}=e,h=vn(m-d),{circleTangency:p,lineTangency:v,theta:x}=Id({cx:t,cy:r,radius:i,angle:d,sign:h,cornerRadius:s,cornerIsExternal:u}),{circleTangency:b,lineTangency:S,theta:j}=Id({cx:t,cy:r,radius:i,angle:m,sign:-h,cornerRadius:s,cornerIsExternal:u}),k=u?Math.abs(d-m):Math.abs(d-m)-x-j;if(k<0)return o?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):EA({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:d,endAngle:m});var E="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(k>180),",").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
  `);if(n>0){var{circleTangency:N,lineTangency:A,theta:T}=Id({cx:t,cy:r,radius:n,angle:d,sign:h,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:I,lineTangency:L,theta:q}=Id({cx:t,cy:r,radius:n,angle:m,sign:-h,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),B=u?Math.abs(d-m):Math.abs(d-m)-T-q;if(B<0&&s===0)return"".concat(E,"L").concat(t,",").concat(r,"Z");E+="L".concat(L.x,",").concat(L.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(B>180),",").concat(+(h>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(A.x,",").concat(A.y,"Z")}else E+="L".concat(t,",").concat(r,"Z");return E},sB={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},CA=e=>{var t=mi(e,sB),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:o,forceCornerRadius:u,cornerIsExternal:d,startAngle:m,endAngle:h,className:p}=t;if(s<i||m===h)return null;var v=$t("recharts-sector",p),x=s-i,b=ci(o,x,0,!0),S;return b>0&&Math.abs(m-h)<360?S=iB({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(b,x/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:m,endAngle:h}):S=EA({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:m,endAngle:h}),w.createElement("path",hy({},Ar(t,!0),{className:v,d:S}))};function aB(e,t,r){var n,i,s,o;if(e==="horizontal")n=t.x,s=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:u,cy:d,innerRadius:m,outerRadius:h,angle:p}=t,v=Er(u,d,m,p),x=Er(u,d,h,p);n=v.x,i=v.y,s=x.x,o=x.y}else return NA(t);return[{x:n,y:i},{x:s,y:o}]}var qg={},Hg={},Kg={},D_;function oB(){return D_||(D_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VC();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(Kg)),Kg}var $_;function lB(){return $_||($_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oB();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(Hg)),Hg}var M_;function cB(){return M_||(M_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WC(),r=lB();function n(i,s,o){o&&typeof o!="number"&&t.isIterateeCall(i,s,o)&&(s=o=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),o=o===void 0?i<s?1:-1:r.toFinite(o);const u=Math.max(Math.ceil((s-i)/(o||1)),0),d=new Array(u);for(let m=0;m<u;m++)d[m]=i,i+=o;return d}e.range=n})(qg)),qg}var Yg,L_;function uB(){return L_||(L_=1,Yg=cB().range),Yg}var dB=uB();const AA=ui(dB);function Vs(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function fB(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function E0(e){let t,r,n;e.length!==2?(t=Vs,r=(u,d)=>Vs(e(u),d),n=(u,d)=>e(u)-d):(t=e===Vs||e===fB?e:hB,r=e,n=e);function i(u,d,m=0,h=u.length){if(m<h){if(t(d,d)!==0)return h;do{const p=m+h>>>1;r(u[p],d)<0?m=p+1:h=p}while(m<h)}return m}function s(u,d,m=0,h=u.length){if(m<h){if(t(d,d)!==0)return h;do{const p=m+h>>>1;r(u[p],d)<=0?m=p+1:h=p}while(m<h)}return m}function o(u,d,m=0,h=u.length){const p=i(u,d,m,h-1);return p>m&&n(u[p-1],d)>-n(u[p],d)?p-1:p}return{left:i,center:o,right:s}}function hB(){return 0}function OA(e){return e===null?NaN:+e}function*mB(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const pB=E0(Vs),Zc=pB.right;E0(OA).center;class F_ extends Map{constructor(t,r=yB){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(z_(this,t))}has(t){return super.has(z_(this,t))}set(t,r){return super.set(gB(this,t),r)}delete(t){return super.delete(vB(this,t))}}function z_({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function gB({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function vB({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function yB(e){return e!==null&&typeof e=="object"?e.valueOf():e}function xB(e=Vs){if(e===Vs)return PA;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function PA(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const wB=Math.sqrt(50),bB=Math.sqrt(10),SB=Math.sqrt(2);function Af(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),o=s>=wB?10:s>=bB?5:s>=SB?2:1;let u,d,m;return i<0?(m=Math.pow(10,-i)/o,u=Math.round(e*m),d=Math.round(t*m),u/m<e&&++u,d/m>t&&--d,m=-m):(m=Math.pow(10,i)*o,u=Math.round(e/m),d=Math.round(t/m),u*m<e&&++u,d*m>t&&--d),d<u&&.5<=r&&r<2?Af(e,t,r*2):[u,d,m]}function my(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,o]=n?Af(t,e,r):Af(e,t,r);if(!(s>=i))return[];const u=s-i+1,d=new Array(u);if(n)if(o<0)for(let m=0;m<u;++m)d[m]=(s-m)/-o;else for(let m=0;m<u;++m)d[m]=(s-m)*o;else if(o<0)for(let m=0;m<u;++m)d[m]=(i+m)/-o;else for(let m=0;m<u;++m)d[m]=(i+m)*o;return d}function py(e,t,r){return t=+t,e=+e,r=+r,Af(e,t,r)[2]}function gy(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?py(t,e,r):py(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function U_(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function B_(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function TA(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?PA:xB(i);n>r;){if(n-r>600){const d=n-r+1,m=t-r+1,h=Math.log(d),p=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*p*(d-p)/d)*(m-d/2<0?-1:1),x=Math.max(r,Math.floor(t-m*p/d+v)),b=Math.min(n,Math.floor(t+(d-m)*p/d+v));TA(e,t,x,b,i)}const s=e[t];let o=r,u=n;for(ac(e,r,t),i(e[n],s)>0&&ac(e,r,n);o<u;){for(ac(e,o,u),++o,--u;i(e[o],s)<0;)++o;for(;i(e[u],s)>0;)--u}i(e[r],s)===0?ac(e,r,u):(++u,ac(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function ac(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function jB(e,t,r){if(e=Float64Array.from(mB(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return B_(e);if(t>=1)return U_(e);var n,i=(n-1)*t,s=Math.floor(i),o=U_(TA(e,s).subarray(0,s+1)),u=B_(e.subarray(s+1));return o+(u-o)*(i-s)}}function _B(e,t,r=OA){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),o=+r(e[s],s,e),u=+r(e[s+1],s+1,e);return o+(u-o)*(i-s)}}function kB(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function Wn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ls(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const vy=Symbol("implicit");function C0(){var e=new F_,t=[],r=[],n=vy;function i(s){let o=e.get(s);if(o===void 0){if(n!==vy)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new F_;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return C0(t,r).unknown(n)},Wn.apply(i,arguments),i}function A0(){var e=C0().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,o,u=!1,d=0,m=0,h=.5;delete e.unknown;function p(){var v=t().length,x=i<n,b=x?i:n,S=x?n:i;s=(S-b)/Math.max(1,v-d+m*2),u&&(s=Math.floor(s)),b+=(S-b-s*(v-d))*h,o=s*(1-d),u&&(b=Math.round(b),o=Math.round(o));var j=kB(v).map(function(k){return b+s*k});return r(x?j.reverse():j)}return e.domain=function(v){return arguments.length?(t(v),p()):t()},e.range=function(v){return arguments.length?([n,i]=v,n=+n,i=+i,p()):[n,i]},e.rangeRound=function(v){return[n,i]=v,n=+n,i=+i,u=!0,p()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(v){return arguments.length?(u=!!v,p()):u},e.padding=function(v){return arguments.length?(d=Math.min(1,m=+v),p()):d},e.paddingInner=function(v){return arguments.length?(d=Math.min(1,v),p()):d},e.paddingOuter=function(v){return arguments.length?(m=+v,p()):m},e.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),p()):h},e.copy=function(){return A0(t(),[n,i]).round(u).paddingInner(d).paddingOuter(m).align(h)},Wn.apply(p(),arguments)}function IA(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return IA(t())},e}function NB(){return IA(A0.apply(null,arguments).paddingInner(1))}function O0(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function RA(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function eu(){}var Ic=.7,Of=1/Ic,Lo="\\s*([+-]?\\d+)\\s*",Rc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ai="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",EB=/^#([0-9a-f]{3,8})$/,CB=new RegExp(`^rgb\\(${Lo},${Lo},${Lo}\\)$`),AB=new RegExp(`^rgb\\(${Ai},${Ai},${Ai}\\)$`),OB=new RegExp(`^rgba\\(${Lo},${Lo},${Lo},${Rc}\\)$`),PB=new RegExp(`^rgba\\(${Ai},${Ai},${Ai},${Rc}\\)$`),TB=new RegExp(`^hsl\\(${Rc},${Ai},${Ai}\\)$`),IB=new RegExp(`^hsla\\(${Rc},${Ai},${Ai},${Rc}\\)$`),V_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};O0(eu,Dc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:W_,formatHex:W_,formatHex8:RB,formatHsl:DB,formatRgb:q_,toString:q_});function W_(){return this.rgb().formatHex()}function RB(){return this.rgb().formatHex8()}function DB(){return DA(this).formatHsl()}function q_(){return this.rgb().formatRgb()}function Dc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=EB.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?H_(t):r===3?new tn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Rd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Rd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=CB.exec(e))?new tn(t[1],t[2],t[3],1):(t=AB.exec(e))?new tn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=OB.exec(e))?Rd(t[1],t[2],t[3],t[4]):(t=PB.exec(e))?Rd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=TB.exec(e))?G_(t[1],t[2]/100,t[3]/100,1):(t=IB.exec(e))?G_(t[1],t[2]/100,t[3]/100,t[4]):V_.hasOwnProperty(e)?H_(V_[e]):e==="transparent"?new tn(NaN,NaN,NaN,0):null}function H_(e){return new tn(e>>16&255,e>>8&255,e&255,1)}function Rd(e,t,r,n){return n<=0&&(e=t=r=NaN),new tn(e,t,r,n)}function $B(e){return e instanceof eu||(e=Dc(e)),e?(e=e.rgb(),new tn(e.r,e.g,e.b,e.opacity)):new tn}function yy(e,t,r,n){return arguments.length===1?$B(e):new tn(e,t,r,n??1)}function tn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}O0(tn,yy,RA(eu,{brighter(e){return e=e==null?Of:Math.pow(Of,e),new tn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ic:Math.pow(Ic,e),new tn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new tn(Pa(this.r),Pa(this.g),Pa(this.b),Pf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:K_,formatHex:K_,formatHex8:MB,formatRgb:Y_,toString:Y_}));function K_(){return`#${ka(this.r)}${ka(this.g)}${ka(this.b)}`}function MB(){return`#${ka(this.r)}${ka(this.g)}${ka(this.b)}${ka((isNaN(this.opacity)?1:this.opacity)*255)}`}function Y_(){const e=Pf(this.opacity);return`${e===1?"rgb(":"rgba("}${Pa(this.r)}, ${Pa(this.g)}, ${Pa(this.b)}${e===1?")":`, ${e})`}`}function Pf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Pa(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ka(e){return e=Pa(e),(e<16?"0":"")+e.toString(16)}function G_(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ai(e,t,r,n)}function DA(e){if(e instanceof ai)return new ai(e.h,e.s,e.l,e.opacity);if(e instanceof eu||(e=Dc(e)),!e)return new ai;if(e instanceof ai)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,u=s-i,d=(s+i)/2;return u?(t===s?o=(r-n)/u+(r<n)*6:r===s?o=(n-t)/u+2:o=(t-r)/u+4,u/=d<.5?s+i:2-s-i,o*=60):u=d>0&&d<1?0:o,new ai(o,u,d,e.opacity)}function LB(e,t,r,n){return arguments.length===1?DA(e):new ai(e,t,r,n??1)}function ai(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}O0(ai,LB,RA(eu,{brighter(e){return e=e==null?Of:Math.pow(Of,e),new ai(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ic:Math.pow(Ic,e),new ai(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new tn(Gg(e>=240?e-240:e+120,i,n),Gg(e,i,n),Gg(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new ai(J_(this.h),Dd(this.s),Dd(this.l),Pf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Pf(this.opacity);return`${e===1?"hsl(":"hsla("}${J_(this.h)}, ${Dd(this.s)*100}%, ${Dd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function J_(e){return e=(e||0)%360,e<0?e+360:e}function Dd(e){return Math.max(0,Math.min(1,e||0))}function Gg(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const P0=e=>()=>e;function FB(e,t){return function(r){return e+r*t}}function zB(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function UB(e){return(e=+e)==1?$A:function(t,r){return r-t?zB(t,r,e):P0(isNaN(t)?r:t)}}function $A(e,t){var r=t-e;return r?FB(e,r):P0(isNaN(e)?t:e)}const Q_=(function e(t){var r=UB(t);function n(i,s){var o=r((i=yy(i)).r,(s=yy(s)).r),u=r(i.g,s.g),d=r(i.b,s.b),m=$A(i.opacity,s.opacity);return function(h){return i.r=o(h),i.g=u(h),i.b=d(h),i.opacity=m(h),i+""}}return n.gamma=e,n})(1);function BB(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function VB(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function WB(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=al(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(u){for(o=0;o<n;++o)s[o]=i[o](u);return s}}function qB(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Tf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function HB(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=al(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var xy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Jg=new RegExp(xy.source,"g");function KB(e){return function(){return e}}function YB(e){return function(t){return e(t)+""}}function GB(e,t){var r=xy.lastIndex=Jg.lastIndex=0,n,i,s,o=-1,u=[],d=[];for(e=e+"",t=t+"";(n=xy.exec(e))&&(i=Jg.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),u[o]?u[o]+=s:u[++o]=s),(n=n[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,d.push({i:o,x:Tf(n,i)})),r=Jg.lastIndex;return r<t.length&&(s=t.slice(r),u[o]?u[o]+=s:u[++o]=s),u.length<2?d[0]?YB(d[0].x):KB(t):(t=d.length,function(m){for(var h=0,p;h<t;++h)u[(p=d[h]).i]=p.x(m);return u.join("")})}function al(e,t){var r=typeof t,n;return t==null||r==="boolean"?P0(t):(r==="number"?Tf:r==="string"?(n=Dc(t))?(t=n,Q_):GB:t instanceof Dc?Q_:t instanceof Date?qB:VB(t)?BB:Array.isArray(t)?WB:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?HB:Tf)(e,t)}function T0(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function JB(e,t){t===void 0&&(t=e,e=al);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(o){var u=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[u](o-u)}}function QB(e){return function(){return e}}function If(e){return+e}var X_=[0,1];function Vr(e){return e}function wy(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:QB(isNaN(t)?NaN:.5)}function XB(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function ZB(e,t,r){var n=e[0],i=e[1],s=t[0],o=t[1];return i<n?(n=wy(i,n),s=r(o,s)):(n=wy(n,i),s=r(s,o)),function(u){return s(n(u))}}function e8(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=wy(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(u){var d=Zc(e,u,1,n)-1;return s[d](i[d](u))}}function tu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function xh(){var e=X_,t=X_,r=al,n,i,s,o=Vr,u,d,m;function h(){var v=Math.min(e.length,t.length);return o!==Vr&&(o=XB(e[0],e[v-1])),u=v>2?e8:ZB,d=m=null,p}function p(v){return v==null||isNaN(v=+v)?s:(d||(d=u(e.map(n),t,r)))(n(o(v)))}return p.invert=function(v){return o(i((m||(m=u(t,e.map(n),Tf)))(v)))},p.domain=function(v){return arguments.length?(e=Array.from(v,If),h()):e.slice()},p.range=function(v){return arguments.length?(t=Array.from(v),h()):t.slice()},p.rangeRound=function(v){return t=Array.from(v),r=T0,h()},p.clamp=function(v){return arguments.length?(o=v?!0:Vr,h()):o!==Vr},p.interpolate=function(v){return arguments.length?(r=v,h()):r},p.unknown=function(v){return arguments.length?(s=v,p):s},function(v,x){return n=v,i=x,h()}}function I0(){return xh()(Vr,Vr)}function t8(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Rf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Vo(e){return e=Rf(Math.abs(e)),e?e[1]:NaN}function r8(e,t){return function(r,n){for(var i=r.length,s=[],o=0,u=e[0],d=0;i>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),s.push(r.substring(i-=u,i+u)),!((d+=u+1)>n));)u=e[o=(o+1)%e.length];return s.reverse().join(t)}}function n8(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var i8=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $c(e){if(!(t=i8.exec(e)))throw new Error("invalid format: "+e);var t;return new R0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}$c.prototype=R0.prototype;function R0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}R0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function s8(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var MA;function a8(e,t){var r=Rf(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(MA=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Rf(e,Math.max(0,t+s-1))[0]}function Z_(e,t){var r=Rf(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const ek={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:t8,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Z_(e*100,t),r:Z_,s:a8,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function tk(e){return e}var rk=Array.prototype.map,nk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function o8(e){var t=e.grouping===void 0||e.thousands===void 0?tk:r8(rk.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?tk:n8(rk.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function m(p){p=$c(p);var v=p.fill,x=p.align,b=p.sign,S=p.symbol,j=p.zero,k=p.width,E=p.comma,N=p.precision,A=p.trim,T=p.type;T==="n"?(E=!0,T="g"):ek[T]||(N===void 0&&(N=12),A=!0,T="g"),(j||v==="0"&&x==="=")&&(j=!0,v="0",x="=");var I=S==="$"?r:S==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",L=S==="$"?n:/[%p]/.test(T)?o:"",q=ek[T],B=/[defgprs%]/.test(T);N=N===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function F(V){var W=I,te=L,K,ae,Ne;if(T==="c")te=q(V)+te,V="";else{V=+V;var ke=V<0||1/V<0;if(V=isNaN(V)?d:q(Math.abs(V),N),A&&(V=s8(V)),ke&&+V==0&&b!=="+"&&(ke=!1),W=(ke?b==="("?b:u:b==="-"||b==="("?"":b)+W,te=(T==="s"?nk[8+MA/3]:"")+te+(ke&&b==="("?")":""),B){for(K=-1,ae=V.length;++K<ae;)if(Ne=V.charCodeAt(K),48>Ne||Ne>57){te=(Ne===46?i+V.slice(K+1):V.slice(K))+te,V=V.slice(0,K);break}}}E&&!j&&(V=t(V,1/0));var se=W.length+V.length+te.length,he=se<k?new Array(k-se+1).join(v):"";switch(E&&j&&(V=t(he+V,he.length?k-te.length:1/0),he=""),x){case"<":V=W+V+te+he;break;case"=":V=W+he+V+te;break;case"^":V=he.slice(0,se=he.length>>1)+W+V+te+he.slice(se);break;default:V=he+W+V+te;break}return s(V)}return F.toString=function(){return p+""},F}function h(p,v){var x=m((p=$c(p),p.type="f",p)),b=Math.max(-8,Math.min(8,Math.floor(Vo(v)/3)))*3,S=Math.pow(10,-b),j=nk[8+b/3];return function(k){return x(S*k)+j}}return{format:m,formatPrefix:h}}var $d,D0,LA;l8({thousands:",",grouping:[3],currency:["$",""]});function l8(e){return $d=o8(e),D0=$d.format,LA=$d.formatPrefix,$d}function c8(e){return Math.max(0,-Vo(Math.abs(e)))}function u8(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vo(t)/3)))*3-Vo(Math.abs(e)))}function d8(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Vo(t)-Vo(e))+1}function FA(e,t,r,n){var i=gy(e,t,r),s;switch(n=$c(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=u8(i,o))&&(n.precision=s),LA(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=d8(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=c8(i))&&(n.precision=s-(n.type==="%")*2);break}}return D0(n)}function Gs(e){var t=e.domain;return e.ticks=function(r){var n=t();return my(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return FA(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,o=n[i],u=n[s],d,m,h=10;for(u<o&&(m=o,o=u,u=m,m=i,i=s,s=m);h-- >0;){if(m=py(o,u,r),m===d)return n[i]=o,n[s]=u,t(n);if(m>0)o=Math.floor(o/m)*m,u=Math.ceil(u/m)*m;else if(m<0)o=Math.ceil(o*m)/m,u=Math.floor(u*m)/m;else break;d=m}return e},e}function zA(){var e=I0();return e.copy=function(){return tu(e,zA())},Wn.apply(e,arguments),Gs(e)}function UA(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,If),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return UA(e).unknown(t)},e=arguments.length?Array.from(e,If):[0,1],Gs(r)}function BA(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],o;return s<i&&(o=r,r=n,n=o,o=i,i=s,s=o),e[r]=t.floor(i),e[n]=t.ceil(s),e}function ik(e){return Math.log(e)}function sk(e){return Math.exp(e)}function f8(e){return-Math.log(-e)}function h8(e){return-Math.exp(-e)}function m8(e){return isFinite(e)?+("1e"+e):e<0?0:e}function p8(e){return e===10?m8:e===Math.E?Math.exp:t=>Math.pow(e,t)}function g8(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function ak(e){return(t,r)=>-e(-t,r)}function $0(e){const t=e(ik,sk),r=t.domain;let n=10,i,s;function o(){return i=g8(n),s=p8(n),r()[0]<0?(i=ak(i),s=ak(s),e(f8,h8)):e(ik,sk),t}return t.base=function(u){return arguments.length?(n=+u,o()):n},t.domain=function(u){return arguments.length?(r(u),o()):r()},t.ticks=u=>{const d=r();let m=d[0],h=d[d.length-1];const p=h<m;p&&([m,h]=[h,m]);let v=i(m),x=i(h),b,S;const j=u==null?10:+u;let k=[];if(!(n%1)&&x-v<j){if(v=Math.floor(v),x=Math.ceil(x),m>0){for(;v<=x;++v)for(b=1;b<n;++b)if(S=v<0?b/s(-v):b*s(v),!(S<m)){if(S>h)break;k.push(S)}}else for(;v<=x;++v)for(b=n-1;b>=1;--b)if(S=v>0?b/s(-v):b*s(v),!(S<m)){if(S>h)break;k.push(S)}k.length*2<j&&(k=my(m,h,j))}else k=my(v,x,Math.min(x-v,j)).map(s);return p?k.reverse():k},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=$c(d)).precision==null&&(d.trim=!0),d=D0(d)),u===1/0)return d;const m=Math.max(1,n*u/t.ticks().length);return h=>{let p=h/s(Math.round(i(h)));return p*n<n-.5&&(p*=n),p<=m?d(h):""}},t.nice=()=>r(BA(r(),{floor:u=>s(Math.floor(i(u))),ceil:u=>s(Math.ceil(i(u)))})),t}function VA(){const e=$0(xh()).domain([1,10]);return e.copy=()=>tu(e,VA()).base(e.base()),Wn.apply(e,arguments),e}function ok(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function lk(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function M0(e){var t=1,r=e(ok(t),lk(t));return r.constant=function(n){return arguments.length?e(ok(t=+n),lk(t)):t},Gs(r)}function WA(){var e=M0(xh());return e.copy=function(){return tu(e,WA()).constant(e.constant())},Wn.apply(e,arguments)}function ck(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function v8(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function y8(e){return e<0?-e*e:e*e}function L0(e){var t=e(Vr,Vr),r=1;function n(){return r===1?e(Vr,Vr):r===.5?e(v8,y8):e(ck(r),ck(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Gs(t)}function F0(){var e=L0(xh());return e.copy=function(){return tu(e,F0()).exponent(e.exponent())},Wn.apply(e,arguments),e}function x8(){return F0.apply(null,arguments).exponent(.5)}function uk(e){return Math.sign(e)*e*e}function w8(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function qA(){var e=I0(),t=[0,1],r=!1,n;function i(s){var o=w8(e(s));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(s){return e.invert(uk(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,If)).map(uk)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return qA(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Wn.apply(i,arguments),Gs(i)}function HA(){var e=[],t=[],r=[],n;function i(){var o=0,u=Math.max(1,t.length);for(r=new Array(u-1);++o<u;)r[o-1]=_B(e,o/u);return s}function s(o){return o==null||isNaN(o=+o)?n:t[Zc(r,o)]}return s.invertExtent=function(o){var u=t.indexOf(o);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let u of o)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Vs),i()},s.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return HA().domain(e).range(t).unknown(n)},Wn.apply(s,arguments)}function KA(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function o(d){return d!=null&&d<=d?i[Zc(n,d,0,r)]:s}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return o}return o.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},o.range=function(d){return arguments.length?(r=(i=Array.from(d)).length-1,u()):i.slice()},o.invertExtent=function(d){var m=i.indexOf(d);return m<0?[NaN,NaN]:m<1?[e,n[0]]:m>=r?[n[r-1],t]:[n[m-1],n[m]]},o.unknown=function(d){return arguments.length&&(s=d),o},o.thresholds=function(){return n.slice()},o.copy=function(){return KA().domain([e,t]).range(i).unknown(s)},Wn.apply(Gs(o),arguments)}function YA(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[Zc(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return YA().domain(e).range(t).unknown(r)},Wn.apply(i,arguments)}const Qg=new Date,Xg=new Date;function or(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),u=i.ceil(s);return s-o<u-s?o:u},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,u)=>{const d=[];if(s=i.ceil(s),u=u==null?1:Math.floor(u),!(s<o)||!(u>0))return d;let m;do d.push(m=new Date(+s)),t(s,u),e(s);while(m<s&&s<o);return d},i.filter=s=>or(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;t(o,-1),!s(o););else for(;--u>=0;)for(;t(o,1),!s(o););}),r&&(i.count=(s,o)=>(Qg.setTime(+s),Xg.setTime(+o),e(Qg),e(Xg),Math.floor(r(Qg,Xg))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?o=>n(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const Df=or(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Df.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?or(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Df);Df.range;const Gi=1e3,Ln=Gi*60,Ji=Ln*60,rs=Ji*24,z0=rs*7,dk=rs*30,Zg=rs*365,Na=or(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Gi)},(e,t)=>(t-e)/Gi,e=>e.getUTCSeconds());Na.range;const U0=or(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Gi)},(e,t)=>{e.setTime(+e+t*Ln)},(e,t)=>(t-e)/Ln,e=>e.getMinutes());U0.range;const B0=or(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ln)},(e,t)=>(t-e)/Ln,e=>e.getUTCMinutes());B0.range;const V0=or(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Gi-e.getMinutes()*Ln)},(e,t)=>{e.setTime(+e+t*Ji)},(e,t)=>(t-e)/Ji,e=>e.getHours());V0.range;const W0=or(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ji)},(e,t)=>(t-e)/Ji,e=>e.getUTCHours());W0.range;const ru=or(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ln)/rs,e=>e.getDate()-1);ru.range;const wh=or(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/rs,e=>e.getUTCDate()-1);wh.range;const GA=or(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/rs,e=>Math.floor(e/rs));GA.range;function Va(e){return or(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ln)/z0)}const bh=Va(0),$f=Va(1),b8=Va(2),S8=Va(3),Wo=Va(4),j8=Va(5),_8=Va(6);bh.range;$f.range;b8.range;S8.range;Wo.range;j8.range;_8.range;function Wa(e){return or(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/z0)}const Sh=Wa(0),Mf=Wa(1),k8=Wa(2),N8=Wa(3),qo=Wa(4),E8=Wa(5),C8=Wa(6);Sh.range;Mf.range;k8.range;N8.range;qo.range;E8.range;C8.range;const q0=or(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());q0.range;const H0=or(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());H0.range;const ns=or(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ns.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:or(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ns.range;const is=or(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());is.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:or(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});is.range;function JA(e,t,r,n,i,s){const o=[[Na,1,Gi],[Na,5,5*Gi],[Na,15,15*Gi],[Na,30,30*Gi],[s,1,Ln],[s,5,5*Ln],[s,15,15*Ln],[s,30,30*Ln],[i,1,Ji],[i,3,3*Ji],[i,6,6*Ji],[i,12,12*Ji],[n,1,rs],[n,2,2*rs],[r,1,z0],[t,1,dk],[t,3,3*dk],[e,1,Zg]];function u(m,h,p){const v=h<m;v&&([m,h]=[h,m]);const x=p&&typeof p.range=="function"?p:d(m,h,p),b=x?x.range(m,+h+1):[];return v?b.reverse():b}function d(m,h,p){const v=Math.abs(h-m)/p,x=E0(([,,j])=>j).right(o,v);if(x===o.length)return e.every(gy(m/Zg,h/Zg,p));if(x===0)return Df.every(Math.max(gy(m,h,p),1));const[b,S]=o[v/o[x-1][2]<o[x][2]/v?x-1:x];return b.every(S)}return[u,d]}const[A8,O8]=JA(is,H0,Sh,GA,W0,B0),[P8,T8]=JA(ns,q0,bh,ru,V0,U0);function ev(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function tv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function oc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function I8(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,o=e.shortDays,u=e.months,d=e.shortMonths,m=lc(i),h=cc(i),p=lc(s),v=cc(s),x=lc(o),b=cc(o),S=lc(u),j=cc(u),k=lc(d),E=cc(d),N={a:ke,A:se,b:he,B:pe,c:null,d:vk,e:vk,f:rV,g:fV,G:mV,H:Z8,I:eV,j:tV,L:QA,m:nV,M:iV,p:D,q:$,Q:wk,s:bk,S:sV,u:aV,U:oV,V:lV,w:cV,W:uV,x:null,X:null,y:dV,Y:hV,Z:pV,"%":xk},A={a:ee,A:_e,b:re,B:je,c:null,d:yk,e:yk,f:xV,g:AV,G:PV,H:gV,I:vV,j:yV,L:ZA,m:wV,M:bV,p:ue,q:ye,Q:wk,s:bk,S:SV,u:jV,U:_V,V:kV,w:NV,W:EV,x:null,X:null,y:CV,Y:OV,Z:TV,"%":xk},T={a:F,A:V,b:W,B:te,c:K,d:pk,e:pk,f:G8,g:mk,G:hk,H:gk,I:gk,j:q8,L:Y8,m:W8,M:H8,p:B,q:V8,Q:Q8,s:X8,S:K8,u:L8,U:F8,V:z8,w:M8,W:U8,x:ae,X:Ne,y:mk,Y:hk,Z:B8,"%":J8};N.x=I(r,N),N.X=I(n,N),N.c=I(t,N),A.x=I(r,A),A.X=I(n,A),A.c=I(t,A);function I(X,xe){return function($e){var ie=[],Ae=-1,Ke=0,nt=X.length,at,de,Me;for($e instanceof Date||($e=new Date(+$e));++Ae<nt;)X.charCodeAt(Ae)===37&&(ie.push(X.slice(Ke,Ae)),(de=fk[at=X.charAt(++Ae)])!=null?at=X.charAt(++Ae):de=at==="e"?" ":"0",(Me=xe[at])&&(at=Me($e,de)),ie.push(at),Ke=Ae+1);return ie.push(X.slice(Ke,Ae)),ie.join("")}}function L(X,xe){return function($e){var ie=oc(1900,void 0,1),Ae=q(ie,X,$e+="",0),Ke,nt;if(Ae!=$e.length)return null;if("Q"in ie)return new Date(ie.Q);if("s"in ie)return new Date(ie.s*1e3+("L"in ie?ie.L:0));if(xe&&!("Z"in ie)&&(ie.Z=0),"p"in ie&&(ie.H=ie.H%12+ie.p*12),ie.m===void 0&&(ie.m="q"in ie?ie.q:0),"V"in ie){if(ie.V<1||ie.V>53)return null;"w"in ie||(ie.w=1),"Z"in ie?(Ke=tv(oc(ie.y,0,1)),nt=Ke.getUTCDay(),Ke=nt>4||nt===0?Mf.ceil(Ke):Mf(Ke),Ke=wh.offset(Ke,(ie.V-1)*7),ie.y=Ke.getUTCFullYear(),ie.m=Ke.getUTCMonth(),ie.d=Ke.getUTCDate()+(ie.w+6)%7):(Ke=ev(oc(ie.y,0,1)),nt=Ke.getDay(),Ke=nt>4||nt===0?$f.ceil(Ke):$f(Ke),Ke=ru.offset(Ke,(ie.V-1)*7),ie.y=Ke.getFullYear(),ie.m=Ke.getMonth(),ie.d=Ke.getDate()+(ie.w+6)%7)}else("W"in ie||"U"in ie)&&("w"in ie||(ie.w="u"in ie?ie.u%7:"W"in ie?1:0),nt="Z"in ie?tv(oc(ie.y,0,1)).getUTCDay():ev(oc(ie.y,0,1)).getDay(),ie.m=0,ie.d="W"in ie?(ie.w+6)%7+ie.W*7-(nt+5)%7:ie.w+ie.U*7-(nt+6)%7);return"Z"in ie?(ie.H+=ie.Z/100|0,ie.M+=ie.Z%100,tv(ie)):ev(ie)}}function q(X,xe,$e,ie){for(var Ae=0,Ke=xe.length,nt=$e.length,at,de;Ae<Ke;){if(ie>=nt)return-1;if(at=xe.charCodeAt(Ae++),at===37){if(at=xe.charAt(Ae++),de=T[at in fk?xe.charAt(Ae++):at],!de||(ie=de(X,$e,ie))<0)return-1}else if(at!=$e.charCodeAt(ie++))return-1}return ie}function B(X,xe,$e){var ie=m.exec(xe.slice($e));return ie?(X.p=h.get(ie[0].toLowerCase()),$e+ie[0].length):-1}function F(X,xe,$e){var ie=x.exec(xe.slice($e));return ie?(X.w=b.get(ie[0].toLowerCase()),$e+ie[0].length):-1}function V(X,xe,$e){var ie=p.exec(xe.slice($e));return ie?(X.w=v.get(ie[0].toLowerCase()),$e+ie[0].length):-1}function W(X,xe,$e){var ie=k.exec(xe.slice($e));return ie?(X.m=E.get(ie[0].toLowerCase()),$e+ie[0].length):-1}function te(X,xe,$e){var ie=S.exec(xe.slice($e));return ie?(X.m=j.get(ie[0].toLowerCase()),$e+ie[0].length):-1}function K(X,xe,$e){return q(X,t,xe,$e)}function ae(X,xe,$e){return q(X,r,xe,$e)}function Ne(X,xe,$e){return q(X,n,xe,$e)}function ke(X){return o[X.getDay()]}function se(X){return s[X.getDay()]}function he(X){return d[X.getMonth()]}function pe(X){return u[X.getMonth()]}function D(X){return i[+(X.getHours()>=12)]}function $(X){return 1+~~(X.getMonth()/3)}function ee(X){return o[X.getUTCDay()]}function _e(X){return s[X.getUTCDay()]}function re(X){return d[X.getUTCMonth()]}function je(X){return u[X.getUTCMonth()]}function ue(X){return i[+(X.getUTCHours()>=12)]}function ye(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var xe=I(X+="",N);return xe.toString=function(){return X},xe},parse:function(X){var xe=L(X+="",!1);return xe.toString=function(){return X},xe},utcFormat:function(X){var xe=I(X+="",A);return xe.toString=function(){return X},xe},utcParse:function(X){var xe=L(X+="",!0);return xe.toString=function(){return X},xe}}}var fk={"-":"",_:" ",0:"0"},yr=/^\s*\d+/,R8=/^%/,D8=/[\\^$*+?|[\]().{}]/g;function vt(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function $8(e){return e.replace(D8,"\\$&")}function lc(e){return new RegExp("^(?:"+e.map($8).join("|")+")","i")}function cc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function M8(e,t,r){var n=yr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function L8(e,t,r){var n=yr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function F8(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function z8(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function U8(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function hk(e,t,r){var n=yr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function mk(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function B8(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function V8(e,t,r){var n=yr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function W8(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function pk(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function q8(e,t,r){var n=yr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function gk(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function H8(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function K8(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Y8(e,t,r){var n=yr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function G8(e,t,r){var n=yr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function J8(e,t,r){var n=R8.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Q8(e,t,r){var n=yr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function X8(e,t,r){var n=yr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function vk(e,t){return vt(e.getDate(),t,2)}function Z8(e,t){return vt(e.getHours(),t,2)}function eV(e,t){return vt(e.getHours()%12||12,t,2)}function tV(e,t){return vt(1+ru.count(ns(e),e),t,3)}function QA(e,t){return vt(e.getMilliseconds(),t,3)}function rV(e,t){return QA(e,t)+"000"}function nV(e,t){return vt(e.getMonth()+1,t,2)}function iV(e,t){return vt(e.getMinutes(),t,2)}function sV(e,t){return vt(e.getSeconds(),t,2)}function aV(e){var t=e.getDay();return t===0?7:t}function oV(e,t){return vt(bh.count(ns(e)-1,e),t,2)}function XA(e){var t=e.getDay();return t>=4||t===0?Wo(e):Wo.ceil(e)}function lV(e,t){return e=XA(e),vt(Wo.count(ns(e),e)+(ns(e).getDay()===4),t,2)}function cV(e){return e.getDay()}function uV(e,t){return vt($f.count(ns(e)-1,e),t,2)}function dV(e,t){return vt(e.getFullYear()%100,t,2)}function fV(e,t){return e=XA(e),vt(e.getFullYear()%100,t,2)}function hV(e,t){return vt(e.getFullYear()%1e4,t,4)}function mV(e,t){var r=e.getDay();return e=r>=4||r===0?Wo(e):Wo.ceil(e),vt(e.getFullYear()%1e4,t,4)}function pV(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+vt(t/60|0,"0",2)+vt(t%60,"0",2)}function yk(e,t){return vt(e.getUTCDate(),t,2)}function gV(e,t){return vt(e.getUTCHours(),t,2)}function vV(e,t){return vt(e.getUTCHours()%12||12,t,2)}function yV(e,t){return vt(1+wh.count(is(e),e),t,3)}function ZA(e,t){return vt(e.getUTCMilliseconds(),t,3)}function xV(e,t){return ZA(e,t)+"000"}function wV(e,t){return vt(e.getUTCMonth()+1,t,2)}function bV(e,t){return vt(e.getUTCMinutes(),t,2)}function SV(e,t){return vt(e.getUTCSeconds(),t,2)}function jV(e){var t=e.getUTCDay();return t===0?7:t}function _V(e,t){return vt(Sh.count(is(e)-1,e),t,2)}function e2(e){var t=e.getUTCDay();return t>=4||t===0?qo(e):qo.ceil(e)}function kV(e,t){return e=e2(e),vt(qo.count(is(e),e)+(is(e).getUTCDay()===4),t,2)}function NV(e){return e.getUTCDay()}function EV(e,t){return vt(Mf.count(is(e)-1,e),t,2)}function CV(e,t){return vt(e.getUTCFullYear()%100,t,2)}function AV(e,t){return e=e2(e),vt(e.getUTCFullYear()%100,t,2)}function OV(e,t){return vt(e.getUTCFullYear()%1e4,t,4)}function PV(e,t){var r=e.getUTCDay();return e=r>=4||r===0?qo(e):qo.ceil(e),vt(e.getUTCFullYear()%1e4,t,4)}function TV(){return"+0000"}function xk(){return"%"}function wk(e){return+e}function bk(e){return Math.floor(+e/1e3)}var Ao,t2,r2;IV({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function IV(e){return Ao=I8(e),t2=Ao.format,Ao.parse,r2=Ao.utcFormat,Ao.utcParse,Ao}function RV(e){return new Date(e)}function DV(e){return e instanceof Date?+e:+new Date(+e)}function K0(e,t,r,n,i,s,o,u,d,m){var h=I0(),p=h.invert,v=h.domain,x=m(".%L"),b=m(":%S"),S=m("%I:%M"),j=m("%I %p"),k=m("%a %d"),E=m("%b %d"),N=m("%B"),A=m("%Y");function T(I){return(d(I)<I?x:u(I)<I?b:o(I)<I?S:s(I)<I?j:n(I)<I?i(I)<I?k:E:r(I)<I?N:A)(I)}return h.invert=function(I){return new Date(p(I))},h.domain=function(I){return arguments.length?v(Array.from(I,DV)):v().map(RV)},h.ticks=function(I){var L=v();return e(L[0],L[L.length-1],I??10)},h.tickFormat=function(I,L){return L==null?T:m(L)},h.nice=function(I){var L=v();return(!I||typeof I.range!="function")&&(I=t(L[0],L[L.length-1],I??10)),I?v(BA(L,I)):h},h.copy=function(){return tu(h,K0(e,t,r,n,i,s,o,u,d,m))},h}function $V(){return Wn.apply(K0(P8,T8,ns,q0,bh,ru,V0,U0,Na,t2).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function MV(){return Wn.apply(K0(A8,O8,is,H0,Sh,wh,W0,B0,Na,r2).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function jh(){var e=0,t=1,r,n,i,s,o=Vr,u=!1,d;function m(p){return p==null||isNaN(p=+p)?d:o(i===0?.5:(p=(s(p)-r)*i,u?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t]=p,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),m):[e,t]},m.clamp=function(p){return arguments.length?(u=!!p,m):u},m.interpolator=function(p){return arguments.length?(o=p,m):o};function h(p){return function(v){var x,b;return arguments.length?([x,b]=v,o=p(x,b),m):[o(0),o(1)]}}return m.range=h(al),m.rangeRound=h(T0),m.unknown=function(p){return arguments.length?(d=p,m):d},function(p){return s=p,r=p(e),n=p(t),i=r===n?0:1/(n-r),m}}function Js(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function n2(){var e=Gs(jh()(Vr));return e.copy=function(){return Js(e,n2())},ls.apply(e,arguments)}function i2(){var e=$0(jh()).domain([1,10]);return e.copy=function(){return Js(e,i2()).base(e.base())},ls.apply(e,arguments)}function s2(){var e=M0(jh());return e.copy=function(){return Js(e,s2()).constant(e.constant())},ls.apply(e,arguments)}function Y0(){var e=L0(jh());return e.copy=function(){return Js(e,Y0()).exponent(e.exponent())},ls.apply(e,arguments)}function LV(){return Y0.apply(null,arguments).exponent(.5)}function a2(){var e=[],t=Vr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Zc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Vs),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>jB(e,s/n))},r.copy=function(){return a2(t).domain(e)},ls.apply(r,arguments)}function _h(){var e=0,t=.5,r=1,n=1,i,s,o,u,d,m=Vr,h,p=!1,v;function x(S){return isNaN(S=+S)?v:(S=.5+((S=+h(S))-s)*(n*S<n*s?u:d),m(p?Math.max(0,Math.min(1,S)):S))}x.domain=function(S){return arguments.length?([e,t,r]=S,i=h(e=+e),s=h(t=+t),o=h(r=+r),u=i===s?0:.5/(s-i),d=s===o?0:.5/(o-s),n=s<i?-1:1,x):[e,t,r]},x.clamp=function(S){return arguments.length?(p=!!S,x):p},x.interpolator=function(S){return arguments.length?(m=S,x):m};function b(S){return function(j){var k,E,N;return arguments.length?([k,E,N]=j,m=JB(S,[k,E,N]),x):[m(0),m(.5),m(1)]}}return x.range=b(al),x.rangeRound=b(T0),x.unknown=function(S){return arguments.length?(v=S,x):v},function(S){return h=S,i=S(e),s=S(t),o=S(r),u=i===s?0:.5/(s-i),d=s===o?0:.5/(o-s),n=s<i?-1:1,x}}function o2(){var e=Gs(_h()(Vr));return e.copy=function(){return Js(e,o2())},ls.apply(e,arguments)}function l2(){var e=$0(_h()).domain([.1,1,10]);return e.copy=function(){return Js(e,l2()).base(e.base())},ls.apply(e,arguments)}function c2(){var e=M0(_h());return e.copy=function(){return Js(e,c2()).constant(e.constant())},ls.apply(e,arguments)}function G0(){var e=L0(_h());return e.copy=function(){return Js(e,G0()).exponent(e.exponent())},ls.apply(e,arguments)}function FV(){return G0.apply(null,arguments).exponent(.5)}const mc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:A0,scaleDiverging:o2,scaleDivergingLog:l2,scaleDivergingPow:G0,scaleDivergingSqrt:FV,scaleDivergingSymlog:c2,scaleIdentity:UA,scaleImplicit:vy,scaleLinear:zA,scaleLog:VA,scaleOrdinal:C0,scalePoint:NB,scalePow:F0,scaleQuantile:HA,scaleQuantize:KA,scaleRadial:qA,scaleSequential:n2,scaleSequentialLog:i2,scaleSequentialPow:Y0,scaleSequentialQuantile:a2,scaleSequentialSqrt:LV,scaleSequentialSymlog:s2,scaleSqrt:x8,scaleSymlog:WA,scaleThreshold:YA,scaleTime:$V,scaleUtc:MV,tickFormat:FA},Symbol.toStringTag,{value:"Module"}));var Qs=e=>e.chartData,zV=Z([Qs],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),J0=(e,t,r,n)=>n?zV(e):Qs(e);function Ho(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(bn(t)&&bn(r))return!0}return!1}function Sk(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function UV(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,s;if(bn(r))i=r;else if(typeof r=="function")return;if(bn(n))s=n;else if(typeof n=="function")return;var o=[i,s];if(Ho(o))return o}}function BV(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Ho(n))return Sk(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,o,u;if(i==="auto")t!=null&&(o=Math.min(...t));else if(tt(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&m_.test(i)){var d=m_.exec(i);if(d==null||t==null)o=void 0;else{var m=+d[1];o=t[0]-m}}else o=t==null?void 0:t[0];if(s==="auto")t!=null&&(u=Math.max(...t));else if(tt(s))u=s;else if(typeof s=="function")try{t!=null&&(u=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&p_.test(s)){var h=p_.exec(s);if(h==null||t==null)u=void 0;else{var p=+h[1];u=t[1]+p}}else u=t==null?void 0:t[1];var v=[o,u];if(Ho(v))return t==null?v:Sk(v,t,r)}}}var ol=1e9,VV={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},X0,Lt=!0,Vn="[DecimalError] ",Ta=Vn+"Invalid argument: ",Q0=Vn+"Exponent out of range: ",ll=Math.floor,ya=Math.pow,WV=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,gn,hr=1e7,Rt=7,u2=9007199254740991,Lf=ll(u2/Rt),De={};De.absoluteValue=De.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};De.comparedTo=De.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};De.decimalPlaces=De.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Rt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};De.dividedBy=De.div=function(e){return Zi(this,new this.constructor(e))};De.dividedToIntegerBy=De.idiv=function(e){var t=this,r=t.constructor;return Et(Zi(t,new r(e),0,1),r.precision)};De.equals=De.eq=function(e){return!this.cmp(e)};De.exponent=function(){return Zt(this)};De.greaterThan=De.gt=function(e){return this.cmp(e)>0};De.greaterThanOrEqualTo=De.gte=function(e){return this.cmp(e)>=0};De.isInteger=De.isint=function(){return this.e>this.d.length-2};De.isNegative=De.isneg=function(){return this.s<0};De.isPositive=De.ispos=function(){return this.s>0};De.isZero=function(){return this.s===0};De.lessThan=De.lt=function(e){return this.cmp(e)<0};De.lessThanOrEqualTo=De.lte=function(e){return this.cmp(e)<1};De.logarithm=De.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(gn))throw Error(Vn+"NaN");if(r.s<1)throw Error(Vn+(r.s?"NaN":"-Infinity"));return r.eq(gn)?new n(0):(Lt=!1,t=Zi(Mc(r,s),Mc(e,s),s),Lt=!0,Et(t,i))};De.minus=De.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?h2(t,e):d2(t,(e.s=-e.s,e))};De.modulo=De.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Vn+"NaN");return r.s?(Lt=!1,t=Zi(r,e,0,1).times(e),Lt=!0,r.minus(t)):Et(new n(r),i)};De.naturalExponential=De.exp=function(){return f2(this)};De.naturalLogarithm=De.ln=function(){return Mc(this)};De.negated=De.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};De.plus=De.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?d2(t,e):h2(t,(e.s=-e.s,e))};De.precision=De.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ta+e);if(t=Zt(i)+1,n=i.d.length-1,r=n*Rt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};De.squareRoot=De.sqrt=function(){var e,t,r,n,i,s,o,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Vn+"NaN")}for(e=Zt(u),Lt=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=Ei(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=ll((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(i.toString()),r=d.precision,i=o=r+3;;)if(s=n,n=s.plus(Zi(u,s,o+2)).times(.5),Ei(s.d).slice(0,o)===(t=Ei(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Et(s,r+1,0),s.times(s).eq(u)){n=s;break}}else if(t!="9999")break;o+=4}return Lt=!0,Et(n,r)};De.times=De.mul=function(e){var t,r,n,i,s,o,u,d,m,h=this,p=h.constructor,v=h.d,x=(e=new p(e)).d;if(!h.s||!e.s)return new p(0);for(e.s*=h.s,r=h.e+e.e,d=v.length,m=x.length,d<m&&(s=v,v=x,x=s,o=d,d=m,m=o),s=[],o=d+m,n=o;n--;)s.push(0);for(n=m;--n>=0;){for(t=0,i=d+n;i>n;)u=s[i]+x[n]*v[i-n-1]+t,s[i--]=u%hr|0,t=u/hr|0;s[i]=(s[i]+t)%hr|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Lt?Et(e,p.precision):e};De.toDecimalPlaces=De.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ti(e,0,ol),t===void 0?t=n.rounding:Ti(t,0,8),Et(r,e+Zt(r)+1,t))};De.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=La(n,!0):(Ti(e,0,ol),t===void 0?t=i.rounding:Ti(t,0,8),n=Et(new i(n),e+1,t),r=La(n,!0,e+1)),r};De.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?La(i):(Ti(e,0,ol),t===void 0?t=s.rounding:Ti(t,0,8),n=Et(new s(i),e+Zt(i)+1,t),r=La(n.abs(),!1,e+Zt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};De.toInteger=De.toint=function(){var e=this,t=e.constructor;return Et(new t(e),Zt(e)+1,t.rounding)};De.toNumber=function(){return+this};De.toPower=De.pow=function(e){var t,r,n,i,s,o,u=this,d=u.constructor,m=12,h=+(e=new d(e));if(!e.s)return new d(gn);if(u=new d(u),!u.s){if(e.s<1)throw Error(Vn+"Infinity");return u}if(u.eq(gn))return u;if(n=d.precision,e.eq(gn))return Et(u,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=u.s,o){if((r=h<0?-h:h)<=u2){for(i=new d(gn),t=Math.ceil(n/Rt+4),Lt=!1;r%2&&(i=i.times(u),_k(i.d,t)),r=ll(r/2),r!==0;)u=u.times(u),_k(u.d,t);return Lt=!0,e.s<0?new d(gn).div(i):Et(i,n)}}else if(s<0)throw Error(Vn+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,Lt=!1,i=e.times(Mc(u,n+m)),Lt=!0,i=f2(i),i.s=s,i};De.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=Zt(i),n=La(i,r<=s.toExpNeg||r>=s.toExpPos)):(Ti(e,1,ol),t===void 0?t=s.rounding:Ti(t,0,8),i=Et(new s(i),e,t),r=Zt(i),n=La(i,e<=r||r<=s.toExpNeg,e)),n};De.toSignificantDigits=De.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ti(e,1,ol),t===void 0?t=n.rounding:Ti(t,0,8)),Et(new n(r),e,t)};De.toString=De.valueOf=De.val=De.toJSON=De[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Zt(e),r=e.constructor;return La(e,t<=r.toExpNeg||t>=r.toExpPos)};function d2(e,t){var r,n,i,s,o,u,d,m,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Lt?Et(t,p):t;if(d=e.d,m=t.d,o=e.e,i=t.e,d=d.slice(),s=o-i,s){for(s<0?(n=d,s=-s,u=m.length):(n=m,i=o,u=d.length),o=Math.ceil(p/Rt),u=o>u?o+1:u+1,s>u&&(s=u,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(u=d.length,s=m.length,u-s<0&&(s=u,n=m,m=d,d=n),r=0;s;)r=(d[--s]=d[s]+m[s]+r)/hr|0,d[s]%=hr;for(r&&(d.unshift(r),++i),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=i,Lt?Et(t,p):t}function Ti(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ta+e)}function Ei(e){var t,r,n,i=e.length-1,s="",o=e[0];if(i>0){for(s+=o,t=1;t<i;t++)n=e[t]+"",r=Rt-n.length,r&&(s+=$s(r)),s+=n;o=e[t],n=o+"",r=Rt-n.length,r&&(s+=$s(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Zi=(function(){function e(n,i){var s,o=0,u=n.length;for(n=n.slice();u--;)s=n[u]*i+o,n[u]=s%hr|0,o=s/hr|0;return o&&n.unshift(o),n}function t(n,i,s,o){var u,d;if(s!=o)d=s>o?1:-1;else for(u=d=0;u<s;u++)if(n[u]!=i[u]){d=n[u]>i[u]?1:-1;break}return d}function r(n,i,s){for(var o=0;s--;)n[s]-=o,o=n[s]<i[s]?1:0,n[s]=o*hr+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o){var u,d,m,h,p,v,x,b,S,j,k,E,N,A,T,I,L,q,B=n.constructor,F=n.s==i.s?1:-1,V=n.d,W=i.d;if(!n.s)return new B(n);if(!i.s)throw Error(Vn+"Division by zero");for(d=n.e-i.e,L=W.length,T=V.length,x=new B(F),b=x.d=[],m=0;W[m]==(V[m]||0);)++m;if(W[m]>(V[m]||0)&&--d,s==null?E=s=B.precision:o?E=s+(Zt(n)-Zt(i))+1:E=s,E<0)return new B(0);if(E=E/Rt+2|0,m=0,L==1)for(h=0,W=W[0],E++;(m<T||h)&&E--;m++)N=h*hr+(V[m]||0),b[m]=N/W|0,h=N%W|0;else{for(h=hr/(W[0]+1)|0,h>1&&(W=e(W,h),V=e(V,h),L=W.length,T=V.length),A=L,S=V.slice(0,L),j=S.length;j<L;)S[j++]=0;q=W.slice(),q.unshift(0),I=W[0],W[1]>=hr/2&&++I;do h=0,u=t(W,S,L,j),u<0?(k=S[0],L!=j&&(k=k*hr+(S[1]||0)),h=k/I|0,h>1?(h>=hr&&(h=hr-1),p=e(W,h),v=p.length,j=S.length,u=t(p,S,v,j),u==1&&(h--,r(p,L<v?q:W,v))):(h==0&&(u=h=1),p=W.slice()),v=p.length,v<j&&p.unshift(0),r(S,p,j),u==-1&&(j=S.length,u=t(W,S,L,j),u<1&&(h++,r(S,L<j?q:W,j))),j=S.length):u===0&&(h++,S=[0]),b[m++]=h,u&&S[0]?S[j++]=V[A]||0:(S=[V[A]],j=1);while((A++<T||S[0]!==void 0)&&E--)}return b[0]||b.shift(),x.e=d,Et(x,o?s+Zt(x)+1:s)}})();function f2(e,t){var r,n,i,s,o,u,d=0,m=0,h=e.constructor,p=h.precision;if(Zt(e)>16)throw Error(Q0+Zt(e));if(!e.s)return new h(gn);for(Lt=!1,u=p,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),m+=5;for(n=Math.log(ya(2,m))/Math.LN10*2+5|0,u+=n,r=i=s=new h(gn),h.precision=u;;){if(i=Et(i.times(e),u),r=r.times(++d),o=s.plus(Zi(i,r,u)),Ei(o.d).slice(0,u)===Ei(s.d).slice(0,u)){for(;m--;)s=Et(s.times(s),u);return h.precision=p,t==null?(Lt=!0,Et(s,p)):s}s=o}}function Zt(e){for(var t=e.e*Rt,r=e.d[0];r>=10;r/=10)t++;return t}function rv(e,t,r){if(t>e.LN10.sd())throw Lt=!0,r&&(e.precision=r),Error(Vn+"LN10 precision limit exceeded");return Et(new e(e.LN10),t)}function $s(e){for(var t="";e--;)t+="0";return t}function Mc(e,t){var r,n,i,s,o,u,d,m,h,p=1,v=10,x=e,b=x.d,S=x.constructor,j=S.precision;if(x.s<1)throw Error(Vn+(x.s?"NaN":"-Infinity"));if(x.eq(gn))return new S(0);if(t==null?(Lt=!1,m=j):m=t,x.eq(10))return t==null&&(Lt=!0),rv(S,m);if(m+=v,S.precision=m,r=Ei(b),n=r.charAt(0),s=Zt(x),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(e),r=Ei(x.d),n=r.charAt(0),p++;s=Zt(x),n>1?(x=new S("0."+r),s++):x=new S(n+"."+r.slice(1))}else return d=rv(S,m+2,j).times(s+""),x=Mc(new S(n+"."+r.slice(1)),m-v).plus(d),S.precision=j,t==null?(Lt=!0,Et(x,j)):x;for(u=o=x=Zi(x.minus(gn),x.plus(gn),m),h=Et(x.times(x),m),i=3;;){if(o=Et(o.times(h),m),d=u.plus(Zi(o,new S(i),m)),Ei(d.d).slice(0,m)===Ei(u.d).slice(0,m))return u=u.times(2),s!==0&&(u=u.plus(rv(S,m+2,j).times(s+""))),u=Zi(u,new S(p),m),S.precision=j,t==null?(Lt=!0,Et(u,j)):u;u=d,i+=2}}function jk(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=ll(r/Rt),e.d=[],n=(r+1)%Rt,r<0&&(n+=Rt),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Rt;n<i;)e.d.push(+t.slice(n,n+=Rt));t=t.slice(n),n=Rt-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Lt&&(e.e>Lf||e.e<-Lf))throw Error(Q0+r)}else e.s=0,e.e=0,e.d=[0];return e}function Et(e,t,r){var n,i,s,o,u,d,m,h,p=e.d;for(o=1,s=p[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=Rt,i=t,m=p[h=0];else{if(h=Math.ceil((n+1)/Rt),s=p.length,h>=s)return e;for(m=s=p[h],o=1;s>=10;s/=10)o++;n%=Rt,i=n-Rt+o}if(r!==void 0&&(s=ya(10,o-i-1),u=m/s%10|0,d=t<0||p[h+1]!==void 0||m%s,d=r<4?(u||d)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?i>0?m/ya(10,o-i):0:p[h-1])%10&1||r==(e.s<0?8:7))),t<1||!p[0])return d?(s=Zt(e),p.length=1,t=t-s-1,p[0]=ya(10,(Rt-t%Rt)%Rt),e.e=ll(-t/Rt)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(n==0?(p.length=h,s=1,h--):(p.length=h+1,s=ya(10,Rt-n),p[h]=i>0?(m/ya(10,o-i)%ya(10,i)|0)*s:0),d)for(;;)if(h==0){(p[0]+=s)==hr&&(p[0]=1,++e.e);break}else{if(p[h]+=s,p[h]!=hr)break;p[h--]=0,s=1}for(n=p.length;p[--n]===0;)p.pop();if(Lt&&(e.e>Lf||e.e<-Lf))throw Error(Q0+Zt(e));return e}function h2(e,t){var r,n,i,s,o,u,d,m,h,p,v=e.constructor,x=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),Lt?Et(t,x):t;if(d=e.d,p=t.d,n=t.e,m=e.e,d=d.slice(),o=m-n,o){for(h=o<0,h?(r=d,o=-o,u=p.length):(r=p,n=m,u=d.length),i=Math.max(Math.ceil(x/Rt),u)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=d.length,u=p.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(d[i]!=p[i]){h=d[i]<p[i];break}o=0}for(h&&(r=d,d=p,p=r,t.s=-t.s),u=d.length,i=p.length-u;i>0;--i)d[u++]=0;for(i=p.length;i>o;){if(d[--i]<p[i]){for(s=i;s&&d[--s]===0;)d[s]=hr-1;--d[s],d[i]+=hr}d[i]-=p[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,Lt?Et(t,x):t):new v(0)}function La(e,t,r){var n,i=Zt(e),s=Ei(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+$s(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+$s(-i-1)+s,r&&(n=r-o)>0&&(s+=$s(n))):i>=o?(s+=$s(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+$s(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=$s(n))),e.s<0?"-"+s:s}function _k(e,t){if(e.length>t)return e.length=t,!0}function m2(e){var t,r,n;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Ta+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return jk(o,s.toString())}else if(typeof s!="string")throw Error(Ta+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,WV.test(s))jk(o,s);else throw Error(Ta+s)}if(i.prototype=De,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=m2,i.config=i.set=qV,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function qV(e){if(!e||typeof e!="object")throw Error(Vn+"Object expected");var t,r,n,i=["precision",1,ol,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(ll(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Ta+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ta+r+": "+n);return this}var X0=m2(VV);gn=new X0(1);const jt=X0;var HV=e=>e,p2={},g2=e=>e===p2,kk=e=>function t(){return arguments.length===0||arguments.length===1&&g2(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},v2=(e,t)=>e===1?t:kk(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=n.filter(o=>o!==p2).length;return s>=e?t(...n):v2(e-s,kk(function(){for(var o=arguments.length,u=new Array(o),d=0;d<o;d++)u[d]=arguments[d];var m=n.map(h=>g2(h)?u.shift():h);return t(...m,...u)}))}),kh=e=>v2(e.length,e),by=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},KV=kh((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),YV=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return HV;var i=r.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce((u,d)=>d(u),s(...arguments))}},Sy=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),y2=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t&&i.every((o,u)=>{var d;return o===((d=t)===null||d===void 0?void 0:d[u])})||(t=i,r=e(...i)),r}};function x2(e){var t;return e===0?t=1:t=Math.floor(new jt(e).abs().log(10).toNumber())+1,t}function w2(e,t,r){for(var n=new jt(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}kh((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});kh((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});kh((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var b2=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},S2=(e,t,r)=>{if(e.lte(0))return new jt(0);var n=x2(e.toNumber()),i=new jt(10).pow(n),s=e.div(i),o=n!==1?.05:.1,u=new jt(Math.ceil(s.div(o).toNumber())).add(r).mul(o),d=u.mul(i);return t?new jt(d.toNumber()):new jt(Math.ceil(d.toNumber()))},GV=(e,t,r)=>{var n=new jt(1),i=new jt(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new jt(10).pow(x2(e)-1),i=new jt(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new jt(Math.floor(e)))}else e===0?i=new jt(Math.floor((t-1)/2)):r||(i=new jt(Math.floor(e)));var o=Math.floor((t-1)/2),u=YV(KV(d=>i.add(new jt(d-o).mul(n)).toNumber()),by);return u(0,t)},j2=function(t,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new jt(0),tickMin:new jt(0),tickMax:new jt(0)};var o=S2(new jt(r).sub(t).div(n-1),i,s),u;t<=0&&r>=0?u=new jt(0):(u=new jt(t).add(r).div(2),u=u.sub(new jt(u).mod(o)));var d=Math.ceil(u.sub(t).div(o).toNumber()),m=Math.ceil(new jt(r).sub(u).div(o).toNumber()),h=d+m+1;return h>n?j2(t,r,n,i,s+1):(h<n&&(m=r>0?m+(n-h):m,d=r>0?d:d+(n-h)),{step:o,tickMin:u.sub(new jt(d).mul(o)),tickMax:u.add(new jt(m).mul(o))})};function JV(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(n,2),[o,u]=b2([t,r]);if(o===-1/0||u===1/0){var d=u===1/0?[o,...by(0,n-1).map(()=>1/0)]:[...by(0,n-1).map(()=>-1/0),u];return t>r?Sy(d):d}if(o===u)return GV(o,n,i);var{step:m,tickMin:h,tickMax:p}=j2(o,u,s,i,0),v=w2(h,p.add(new jt(.1).mul(m)),m);return t>r?Sy(v):v}function QV(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=b2([r,n]);if(s===-1/0||o===1/0)return[r,n];if(s===o)return[s];var u=Math.max(t,2),d=S2(new jt(o).sub(s).div(u-1),i,0),m=[...w2(new jt(s),new jt(o),d),o];return i===!1&&(m=m.map(h=>Math.round(h))),r>n?Sy(m):m}var XV=y2(JV),ZV=y2(QV),_2=e=>e.rootProps.maxBarSize,eW=e=>e.rootProps.barGap,k2=e=>e.rootProps.barCategoryGap,tW=e=>e.rootProps.barSize,Nh=e=>e.rootProps.stackOffset,Z0=e=>e.options.chartName,ex=e=>e.rootProps.syncId,N2=e=>e.rootProps.syncMethod,tx=e=>e.options.eventEmitter,Ki={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},mn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Eh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},rW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ki.angleAxisId,includeHidden:!1,name:void 0,reversed:Ki.reversed,scale:Ki.scale,tick:Ki.tick,tickCount:void 0,ticks:void 0,type:Ki.type,unit:void 0},nW={allowDataOverflow:mn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:mn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:mn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:mn.scale,tick:mn.tick,tickCount:mn.tickCount,ticks:void 0,type:mn.type,unit:void 0},iW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ki.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ki.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ki.scale,tick:Ki.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},sW={allowDataOverflow:mn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:mn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:mn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:mn.scale,tick:mn.tick,tickCount:mn.tickCount,ticks:void 0,type:"category",unit:void 0},rx=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?iW:rW,nx=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?sW:nW,Ch=e=>e.polarOptions,ix=Z([as,os,vr],oz),E2=Z([Ch,ix],(e,t)=>{if(e!=null)return ci(e.innerRadius,t,0)}),C2=Z([Ch,ix],(e,t)=>{if(e!=null)return ci(e.outerRadius,t,t*.8)}),aW=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},A2=Z([Ch],aW);Z([rx,A2],Eh);var O2=Z([ix,E2,C2],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Z([nx,O2],Eh);var P2=Z([_t,Ch,E2,C2,as,os],(e,t,r,n,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:u,startAngle:d,endAngle:m}=t;return{cx:ci(o,i,i/2),cy:ci(u,s,s/2),innerRadius:r,outerRadius:n,startAngle:d,endAngle:m,clockWise:!1}}}),er=(e,t)=>t,Ah=(e,t,r)=>r;function sx(e){return e==null?void 0:e.id}var lr=e=>{var t=_t(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},cl=e=>e.tooltip.settings.axisId,xr=e=>{var t=lr(e),r=cl(e);return nu(e,t,r)},T2=Z([xr],e=>e==null?void 0:e.dataKey);function I2(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:s}=r,o=new Map;return e.forEach(u=>{var d,m=(d=u.data)!==null&&d!==void 0?d:n;if(!(m==null||m.length===0)){var h=sx(u);m.forEach((p,v)=>{var x=s==null||i?v:String(Wr(p,s,null)),b=Wr(p,u.dataKey,0),S;o.has(x)?S=o.get(x):S={},Object.assign(S,{[h]:b}),o.set(x,S)})}}),Array.from(o.values())}function Oh(e){return e.stackId!=null&&e.dataKey!=null}function Nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ff(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nk(Object(r),!0).forEach(function(n){oW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oW(e,t,r){return(t=lW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lW(e){var t=cW(e,"string");return typeof t=="symbol"?t:t+""}function cW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jy=[0,"auto"],un={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},R2=(e,t)=>e.cartesianAxis.xAxis[t],cs=(e,t)=>{var r=R2(e,t);return r??un},dn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:jy,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Xc},D2=(e,t)=>e.cartesianAxis.yAxis[t],us=(e,t)=>{var r=D2(e,t);return r??dn},uW={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},ax=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??uW},rn=(e,t,r)=>{switch(t){case"xAxis":return cs(e,r);case"yAxis":return us(e,r);case"zAxis":return ax(e,r);case"angleAxis":return rx(e,r);case"radiusAxis":return nx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},dW=(e,t,r)=>{switch(t){case"xAxis":return cs(e,r);case"yAxis":return us(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},nu=(e,t,r)=>{switch(t){case"xAxis":return cs(e,r);case"yAxis":return us(e,r);case"angleAxis":return rx(e,r);case"radiusAxis":return nx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},$2=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function M2(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var ox=e=>e.graphicalItems.cartesianItems,fW=Z([er,Ah],M2),L2=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),iu=Z([ox,rn,fW],L2),F2=Z([iu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Oh)),z2=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),U2=Z([iu],z2),B2=e=>e.map(t=>t.data).filter(Boolean).flat(1),hW=Z([iu],B2),V2=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},lx=Z([hW,J0],V2),W2=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Wr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Wr(i,n)}))):e.map(n=>({value:n})),Ph=Z([lx,rn,iu],W2);function q2(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function qa(e){return e.filter(t=>Pi(t)||t instanceof Date).map(Number).filter(t=>Un(t)===!1)}function mW(e,t,r){return!r||typeof t!="number"||Un(t)?[]:r.length?qa(r.flatMap(n=>{var i=Wr(e,n.dataKey),s,o;if(Array.isArray(i)?[s,o]=i:s=o=i,!(!bn(s)||!bn(o)))return[t-s,t+o]})):[]}var pW=Z([F2,J0,xr],I2),H2=(e,t,r)=>{var n={},i=t.reduce((s,o)=>(o.stackId==null||(s[o.stackId]==null&&(s[o.stackId]=[]),s[o.stackId].push(o)),s),n);return Object.fromEntries(Object.entries(i).map(s=>{var[o,u]=s,d=u.map(sx);return[o,{stackedData:jz(e,d,r),graphicalItems:u}]}))},_y=Z([pW,F2,Nh],H2),K2=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(r!=="zAxis"){var s=Cz(e,n,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},gW=Z([_y,Qs,er],K2),Y2=(e,t,r,n,i)=>r.length>0?e.flatMap(s=>r.flatMap(o=>{var u,d,m=(u=n[o.id])===null||u===void 0?void 0:u.filter(p=>q2(i,p)),h=Wr(s,(d=t.dataKey)!==null&&d!==void 0?d:o.dataKey);return{value:h,errorDomain:mW(s,h,m)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(s=>({value:Wr(s,t.dataKey),errorDomain:[]})):e.map(s=>({value:s,errorDomain:[]})),Th=e=>e.errorBars,G2=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>q2(r,n));Z([U2,Th,er],G2);var vW=Z([lx,rn,U2,Th,er],Y2);function yW(e){var{value:t}=e;if(Pi(t)||t instanceof Date)return t}var Ek=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=qa(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},xW=(e,t,r)=>{var n=e.map(yW).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&fC(n))?AA(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},cx=e=>{var t;if(e==null||!("domain"in e))return jy;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=qa(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:jy},zf=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),o=Math.min(...s),u=Math.max(...s);return[o,u]}},J2=e=>e.referenceElements.dots,ul=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),wW=Z([J2,er,Ah],ul),Q2=e=>e.referenceElements.areas,bW=Z([Q2,er,Ah],ul),X2=e=>e.referenceElements.lines,SW=Z([X2,er,Ah],ul),Z2=(e,t)=>{var r=qa(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},jW=Z(wW,er,Z2),eO=(e,t)=>{var r=qa(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},_W=Z([bW,er],eO),tO=(e,t)=>{var r=qa(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},kW=Z(SW,er,tO),NW=Z(jW,kW,_W,(e,t,r)=>zf(e,r,t)),EW=Z([rn],cx),rO=(e,t,r,n,i,s,o)=>{var u=UV(t,e.allowDataOverflow);if(u!=null)return u;var d=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",m=d?zf(r,i,Ek(n)):zf(i,Ek(n));return BV(t,m,e.allowDataOverflow)},CW=Z([rn,EW,gW,vW,NW,_t,er],rO),AW=[0,1],nO=(e,t,r,n,i,s,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:u,type:d}=e,m=Ba(t,s);return m&&u==null?AA(0,r.length):d==="category"?xW(n,e,m):i==="expand"?AW:o}},ux=Z([rn,_t,lx,Ph,Nh,er,CW],nO),iO=(e,t,r,n,i)=>{if(e!=null){var{scale:s,type:o}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof s=="string"){var u="scale".concat(Yc(s));return u in mc?u:"point"}}},su=Z([rn,_t,$2,Z0,er],iO);function OW(e){if(e!=null){if(e in mc)return mc[e]();var t="scale".concat(Yc(e));if(t in mc)return mc[t]()}}function dx(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=OW(t);if(i!=null){var s=i.domain(r).range(n);return yz(s),s}}}var sO=(e,t,r)=>{var n=cx(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Ho(e))return XV(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ho(e))return ZV(e,t.tickCount,t.allowDecimals)}},fx=Z([ux,nu,su],sO),aO=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Ho(t)&&Array.isArray(r)&&r.length>0){var i=t[0],s=r[0],o=t[1],u=r[r.length-1];return[Math.min(i,s),Math.max(o,u)]}return t},PW=Z([rn,ux,fx,er],aO),TW=Z(Ph,rn,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(qa(e.map(u=>u.value))).sort((u,d)=>u-d);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var s=0;s<n.length-1;s++){var o=n[s+1]-n[s];r=Math.min(r,o)}return r/i}}),oO=Z(TW,_t,k2,vr,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!bn(e))return 0;var s=t==="vertical"?n.height:n.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var o=ci(r,e*s),u=e*s/2;return u-o-(u-o)/s*o}return 0}),IW=(e,t)=>{var r=cs(e,t);return r==null||typeof r.padding!="string"?0:oO(e,"xAxis",t,r.padding)},RW=(e,t)=>{var r=us(e,t);return r==null||typeof r.padding!="string"?0:oO(e,"yAxis",t,r.padding)},DW=Z(cs,IW,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),$W=Z(us,RW,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),MW=Z([vr,DW,yh,vh,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),LW=Z([vr,_t,$W,yh,vh,(e,t,r)=>r],(e,t,r,n,i,s)=>{var{padding:o}=i;return s?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),au=(e,t,r,n)=>{var i;switch(t){case"xAxis":return MW(e,r,n);case"yAxis":return LW(e,r,n);case"zAxis":return(i=ax(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return A2(e);case"radiusAxis":return O2(e,r);default:return}},lO=Z([rn,au],Eh),dl=Z([rn,su,PW,lO],dx);Z([iu,Th,er],G2);function cO(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Ih=(e,t)=>t,Rh=(e,t,r)=>r,FW=Z(ph,Ih,Rh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(cO)),zW=Z(gh,Ih,Rh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(cO)),uO=(e,t)=>({width:e.width,height:t.height}),UW=(e,t)=>{var r=typeof t.width=="number"?t.width:Xc;return{width:r,height:e.height}},dO=Z(vr,cs,uO),BW=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},VW=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},WW=Z(os,vr,FW,Ih,Rh,(e,t,r,n,i)=>{var s={},o;return r.forEach(u=>{var d=uO(t,u);o==null&&(o=BW(t,n,e));var m=n==="top"&&!i||n==="bottom"&&i;s[u.id]=o-Number(m)*d.height,o+=(m?-1:1)*d.height}),s}),qW=Z(as,vr,zW,Ih,Rh,(e,t,r,n,i)=>{var s={},o;return r.forEach(u=>{var d=UW(t,u);o==null&&(o=VW(t,n,e));var m=n==="left"&&!i||n==="right"&&i;s[u.id]=o-Number(m)*d.width,o+=(m?-1:1)*d.width}),s}),HW=(e,t)=>{var r=cs(e,t);if(r!=null)return WW(e,r.orientation,r.mirror)},KW=Z([vr,cs,HW,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),YW=(e,t)=>{var r=us(e,t);if(r!=null)return qW(e,r.orientation,r.mirror)},GW=Z([vr,us,YW,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),fO=Z(vr,us,(e,t)=>{var r=typeof t.width=="number"?t.width:Xc;return{width:r,height:e.height}}),Ck=(e,t,r)=>{switch(t){case"xAxis":return dO(e,r).width;case"yAxis":return fO(e,r).height;default:return}},hO=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:o}=r,u=Ba(e,n),d=t.map(m=>m.value);if(o&&u&&s==="category"&&i&&fC(d))return d}},hx=Z([_t,Ph,rn,er],hO),mO=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,o=Ba(e,n);if(o&&(i==="number"||s!=="auto"))return t.map(u=>u.value)}},mx=Z([_t,Ph,nu,er],mO);Z([_t,dW,su,dl,hx,mx,au,fx,er],(e,t,r,n,i,s,o,u,d)=>{if(t==null)return null;var m=Ba(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:s,duplicateDomain:i,isCategorical:m,niceTicks:u,range:o,realScaleType:r,scale:n}});var JW=(e,t,r,n,i,s,o,u,d)=>{if(!(t==null||n==null)){var m=Ba(e,d),{type:h,ticks:p,tickCount:v}=t,x=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,b=h==="category"&&n.bandwidth?n.bandwidth()/x:0;b=d==="angleAxis"&&s!=null&&s.length>=2?vn(s[0]-s[1])*2*b:b;var S=p||i;if(S){var j=S.map((k,E)=>{var N=o?o.indexOf(k):k;return{index:E,coordinate:n(N)+b,value:k,offset:b}});return j.filter(k=>!Un(k.coordinate))}return m&&u?u.map((k,E)=>({coordinate:n(k)+b,value:k,index:E,offset:b})):n.ticks?n.ticks(v).map(k=>({coordinate:n(k)+b,value:k,offset:b})):n.domain().map((k,E)=>({coordinate:n(k)+b,value:o?o[k]:k,index:E,offset:b}))}},pO=Z([_t,nu,su,dl,fx,au,hx,mx,er],JW),QW=(e,t,r,n,i,s,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var u=Ba(e,o),{tickCount:d}=t,m=0;return m=o==="angleAxis"&&(n==null?void 0:n.length)>=2?vn(n[0]-n[1])*2*m:m,u&&s?s.map((h,p)=>({coordinate:r(h)+m,value:h,index:p,offset:m})):r.ticks?r.ticks(d).map(h=>({coordinate:r(h)+m,value:h,offset:m})):r.domain().map((h,p)=>({coordinate:r(h)+m,value:i?i[h]:h,index:p,offset:m}))}},Ko=Z([_t,nu,dl,au,hx,mx,er],QW),Yo=Z(rn,dl,(e,t)=>{if(!(e==null||t==null))return Ff(Ff({},e),{},{scale:t})}),XW=Z([rn,su,ux,lO],dx);Z((e,t,r)=>ax(e,r),XW,(e,t)=>{if(!(e==null||t==null))return Ff(Ff({},e),{},{scale:t})});var ZW=Z([_t,ph,gh],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),gO=e=>e.options.defaultTooltipEventType,vO=e=>e.options.validateTooltipEventTypes;function yO(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function px(e,t){var r=gO(e),n=vO(e);return yO(t,r,n)}function eq(e){return Xe(t=>px(t,e))}var xO=(e,t)=>{var r,n=Number(t);if(!(Un(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},tq=e=>e.tooltip.settings,Us={active:!1,index:null,dataKey:void 0,coordinate:void 0},rq={itemInteraction:{click:Us,hover:Us},axisInteraction:{click:Us,hover:Us},keyboardInteraction:Us,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},wO=jn({name:"tooltip",initialState:rq,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=Xi(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:nq,removeTooltipEntrySettings:iq,setTooltipSettingsState:sq,setActiveMouseOverItemIndex:bO,mouseLeaveItem:aq,mouseLeaveChart:SO,setActiveClickItemIndex:oq,setMouseOverAxisIndex:jO,setMouseClickAxisIndex:lq,setSyncInteraction:ky,setKeyboardInteraction:Ny}=wO.actions,cq=wO.reducer;function Ak(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Md(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ak(Object(r),!0).forEach(function(n){uq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ak(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uq(e,t,r){return(t=dq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dq(e){var t=fq(e,"string");return typeof t=="symbol"?t:t+""}function fq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hq(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function mq(e){return e.index!=null}var _O=(e,t,r,n)=>{if(t==null)return Us;var i=hq(e,t,r);if(i==null)return Us;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(mq(i)){if(s)return Md(Md({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Md(Md({},Us),{},{coordinate:i.coordinate})},gx=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!bn(n))return r;var i=0,s=1/0;return t.length>0&&(s=t.length-1),String(Math.max(i,Math.min(n,s)))},kO=(e,t,r,n,i,s,o,u)=>{if(!(s==null||u==null)){var d=o[0],m=d==null?void 0:u(d.positions,s);if(m!=null)return m;var h=i==null?void 0:i[Number(s)];if(h)switch(r){case"horizontal":return{x:h.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:h.coordinate}}}},NO=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.dataKey)===i})},ou=e=>e.options.tooltipPayloadSearcher,fl=e=>e.tooltip;function Ok(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ok(Object(r),!0).forEach(function(n){pq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ok(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pq(e,t,r){return(t=gq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gq(e){var t=vq(e,"string");return typeof t=="symbol"?t:t+""}function vq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yq(e,t){return e??t}var EO=(e,t,r,n,i,s,o)=>{if(!(t==null||s==null)){var{chartData:u,computedData:d,dataStartIndex:m,dataEndIndex:h}=r,p=[];return e.reduce((v,x)=>{var b,{dataDefinedOnItem:S,settings:j}=x,k=yq(S,u),E=Array.isArray(k)?gA(k,m,h):k,N=(b=j==null?void 0:j.dataKey)!==null&&b!==void 0?b:n,A=j==null?void 0:j.nameKey,T;if(n&&Array.isArray(E)&&!Array.isArray(E[0])&&o==="axis"?T=lL(E,n,i):T=s(E,t,d,A),Array.isArray(T))T.forEach(L=>{var q=Pk(Pk({},j),{},{name:L.name,unit:L.unit,color:void 0,fill:void 0});v.push(g_({tooltipEntrySettings:q,dataKey:L.dataKey,payload:L.payload,value:Wr(L.payload,L.dataKey),name:L.name}))});else{var I;v.push(g_({tooltipEntrySettings:j,dataKey:N,payload:T,value:Wr(T,N),name:(I=Wr(T,A))!==null&&I!==void 0?I:j==null?void 0:j.name}))}return v},p)}},vx=Z([xr,_t,$2,Z0,lr],iO),xq=Z([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),wq=Z([lr,cl],M2),lu=Z([xq,xr,wq],L2),bq=Z([lu],e=>e.filter(Oh)),Sq=Z([lu],B2),hl=Z([Sq,Qs],V2),jq=Z([bq,Qs,xr],I2),yx=Z([hl,xr,lu],W2),_q=Z([xr],cx),kq=Z([lu],e=>e.filter(Oh)),Nq=Z([jq,kq,Nh],H2),Eq=Z([Nq,Qs,lr],K2),Cq=Z([lu],z2),Aq=Z([hl,xr,Cq,Th,lr],Y2),Oq=Z([J2,lr,cl],ul),Pq=Z([Oq,lr],Z2),Tq=Z([Q2,lr,cl],ul),Iq=Z([Tq,lr],eO),Rq=Z([X2,lr,cl],ul),Dq=Z([Rq,lr],tO),$q=Z([Pq,Dq,Iq],zf),Mq=Z([xr,_q,Eq,Aq,$q,_t,lr],rO),CO=Z([xr,_t,hl,yx,Nh,lr,Mq],nO),Lq=Z([CO,xr,vx],sO),Fq=Z([xr,CO,Lq,lr],aO),AO=e=>{var t=lr(e),r=cl(e),n=!1;return au(e,t,r,n)},OO=Z([xr,AO],Eh),PO=Z([xr,vx,Fq,OO],dx),zq=Z([_t,yx,xr,lr],hO),Uq=Z([_t,yx,xr,lr],mO),Bq=(e,t,r,n,i,s,o,u)=>{if(t){var{type:d}=t,m=Ba(e,u);if(n){var h=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,p=d==="category"&&n.bandwidth?n.bandwidth()/h:0;return p=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?vn(i[0]-i[1])*2*p:p,m&&o?o.map((v,x)=>({coordinate:n(v)+p,value:v,index:x,offset:p})):n.domain().map((v,x)=>({coordinate:n(v)+p,value:s?s[v]:v,index:x,offset:p}))}}},ds=Z([_t,xr,vx,PO,AO,zq,Uq,lr],Bq),xx=Z([gO,vO,tq],(e,t,r)=>yO(r.shared,e,t)),TO=e=>e.tooltip.settings.trigger,wx=e=>e.tooltip.settings.defaultIndex,Dh=Z([fl,xx,TO,wx],_O),Go=Z([Dh,hl],gx),IO=Z([ds,Go],xO),RO=Z([Dh],e=>{if(e)return e.dataKey}),DO=Z([fl,xx,TO,wx],NO),Vq=Z([as,os,_t,vr,ds,wx,DO,ou],kO),Wq=Z([Dh,Vq],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),qq=Z([Dh],e=>e.active),Hq=Z([DO,Go,Qs,T2,IO,ou,xx],EO);Z([Hq],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function Tk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ik(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tk(Object(r),!0).forEach(function(n){Kq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kq(e,t,r){return(t=Yq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yq(e){var t=Gq(e,"string");return typeof t=="symbol"?t:t+""}function Gq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jq=()=>Xe(xr),Qq=()=>{var e=Jq(),t=Xe(ds),r=Xe(PO);return b0(Ik(Ik({},e),{},{scale:r}),t)},Xq=()=>Xe(Z0),bx=(e,t)=>t,$O=(e,t,r)=>r,Sx=(e,t,r,n)=>n,Zq=Z(ds,e=>ch(e,t=>t.coordinate)),jx=Z([fl,bx,$O,Sx],_O),MO=Z([jx,hl],gx),e7=(e,t,r)=>{if(t!=null){var n=fl(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},LO=Z([fl,bx,$O,Sx],NO),Uf=Z([as,os,_t,vr,ds,Sx,LO,ou],kO),t7=Z([jx,Uf],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),FO=Z(ds,MO,xO),r7=Z([LO,MO,Qs,T2,FO,ou,bx],EO),n7=Z([jx],e=>({isActive:e.active,activeIndex:e.index})),i7=(e,t,r,n,i,s,o,u)=>{if(!(!e||!t||!n||!i||!s)){var d=Az(e.chartX,e.chartY,t,r,u);if(d){var m=Pz(d,t),h=gz(m,o,s,n,i),p=Oz(t,s,h,d);return{activeIndex:String(h),activeCoordinate:p}}}};function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ey.apply(null,arguments)}function Rk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ld(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rk(Object(r),!0).forEach(function(n){s7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function s7(e,t,r){return(t=a7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a7(e){var t=o7(e,"string");return typeof t=="symbol"?t:t+""}function o7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l7(e){var{coordinate:t,payload:r,index:n,offset:i,tooltipAxisBandSize:s,layout:o,cursor:u,tooltipEventType:d,chartName:m}=e,h=t,p=r,v=n;if(!u||!h||m!=="ScatterChart"&&d!=="axis")return null;var x,b;if(m==="ScatterChart")x=h,b=NU;else if(m==="BarChart")x=EU(o,h,i,s),b=kA;else if(o==="radial"){var{cx:S,cy:j,radius:k,startAngle:E,endAngle:N}=NA(h);x={cx:S,cy:j,startAngle:E,endAngle:N,innerRadius:k,outerRadius:k},b=CA}else x={points:aB(o,h,i)},b=vU;var A=typeof u=="object"&&"className"in u?u.className:void 0,T=Ld(Ld(Ld(Ld({stroke:"#ccc",pointerEvents:"none"},i),x),Ar(u,!1)),{},{payload:p,payloadIndex:v,className:$t("recharts-tooltip-cursor",A)});return w.isValidElement(u)?w.cloneElement(u,T):w.createElement(b,T)}function c7(e){var t=Qq(),r=Hz(),n=_0(),i=Xq();return w.createElement(l7,Ey({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var zO=w.createContext(null),u7=()=>w.useContext(zO),nv={exports:{}},Dk;function d7(){return Dk||(Dk=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(d,m,h){this.fn=d,this.context=m,this.once=h||!1}function s(d,m,h,p,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var x=new i(h,p||d,v),b=r?r+m:m;return d._events[b]?d._events[b].fn?d._events[b]=[d._events[b],x]:d._events[b].push(x):(d._events[b]=x,d._eventsCount++),d}function o(d,m){--d._eventsCount===0?d._events=new n:delete d._events[m]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var m=[],h,p;if(this._eventsCount===0)return m;for(p in h=this._events)t.call(h,p)&&m.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(h)):m},u.prototype.listeners=function(m){var h=r?r+m:m,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,x=p.length,b=new Array(x);v<x;v++)b[v]=p[v].fn;return b},u.prototype.listenerCount=function(m){var h=r?r+m:m,p=this._events[h];return p?p.fn?1:p.length:0},u.prototype.emit=function(m,h,p,v,x,b){var S=r?r+m:m;if(!this._events[S])return!1;var j=this._events[S],k=arguments.length,E,N;if(j.fn){switch(j.once&&this.removeListener(m,j.fn,void 0,!0),k){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,h),!0;case 3:return j.fn.call(j.context,h,p),!0;case 4:return j.fn.call(j.context,h,p,v),!0;case 5:return j.fn.call(j.context,h,p,v,x),!0;case 6:return j.fn.call(j.context,h,p,v,x,b),!0}for(N=1,E=new Array(k-1);N<k;N++)E[N-1]=arguments[N];j.fn.apply(j.context,E)}else{var A=j.length,T;for(N=0;N<A;N++)switch(j[N].once&&this.removeListener(m,j[N].fn,void 0,!0),k){case 1:j[N].fn.call(j[N].context);break;case 2:j[N].fn.call(j[N].context,h);break;case 3:j[N].fn.call(j[N].context,h,p);break;case 4:j[N].fn.call(j[N].context,h,p,v);break;default:if(!E)for(T=1,E=new Array(k-1);T<k;T++)E[T-1]=arguments[T];j[N].fn.apply(j[N].context,E)}}return!0},u.prototype.on=function(m,h,p){return s(this,m,h,p,!1)},u.prototype.once=function(m,h,p){return s(this,m,h,p,!0)},u.prototype.removeListener=function(m,h,p,v){var x=r?r+m:m;if(!this._events[x])return this;if(!h)return o(this,x),this;var b=this._events[x];if(b.fn)b.fn===h&&(!v||b.once)&&(!p||b.context===p)&&o(this,x);else{for(var S=0,j=[],k=b.length;S<k;S++)(b[S].fn!==h||v&&!b[S].once||p&&b[S].context!==p)&&j.push(b[S]);j.length?this._events[x]=j.length===1?j[0]:j:o(this,x)}return this},u.prototype.removeAllListeners=function(m){var h;return m?(h=r?r+m:m,this._events[h]&&o(this,h)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(nv)),nv.exports}var f7=d7();const h7=ui(f7);var Lc=new h7,Cy="recharts.syncEvent.tooltip",$k="recharts.syncEvent.brush";function m7(e,t){if(t){var r=Number.parseInt(t,10);if(!Un(r))return e==null?void 0:e[r]}}var p7={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},UO=jn({name:"options",initialState:p7,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),g7=UO.reducer,{createEventEmitter:v7}=UO.actions;function y7(e){return e.tooltip.syncInteraction}var x7={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},BO=jn({name:"chartData",initialState:x7,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:Mk,setDataStartEndIndexes:w7,setComputedData:lQ}=BO.actions,b7=BO.reducer,S7=["x","y"];function Lk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ma(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lk(Object(r),!0).forEach(function(n){j7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j7(e,t,r){return(t=_7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _7(e){var t=k7(e,"string");return typeof t=="symbol"?t:t+""}function k7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N7(e,t){if(e==null)return{};var r,n,i=E7(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function E7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var VO=()=>{};function C7(){var e=Xe(ex),t=Xe(tx),r=gr(),n=Xe(N2),i=Xe(ds),s=_0(),o=j0(),u=Xe(d=>d.rootProps.className);w.useEffect(()=>{if(e==null)return VO;var d=(m,h,p)=>{if(t!==p&&e===m){if(n==="index"){var v;if(o&&h!==null&&h!==void 0&&(v=h.payload)!==null&&v!==void 0&&v.coordinate){var x=h.payload.coordinate,{x:b,y:S}=x,j=N7(x,S7),k=ma(ma(ma({},j),typeof b=="number"&&{x:Math.max(o.x,Math.min(b,o.x+o.width))}),typeof S=="number"&&{y:Math.max(o.y,Math.min(S,o.y+o.height))}),E=ma(ma({},h),{},{payload:ma(ma({},h.payload),{},{coordinate:k})});r(E)}else r(h);return}if(i!=null){var N;if(typeof n=="function"){var A={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},T=n(i,A);N=i[T]}else n==="value"&&(N=i.find(te=>String(te.value)===h.payload.label));var{coordinate:I}=h.payload;if(N==null||h.payload.active===!1||I==null||o==null){r(ky({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:L,y:q}=I,B=Math.min(L,o.x+o.width),F=Math.min(q,o.y+o.height),V={x:s==="horizontal"?N.coordinate:B,y:s==="horizontal"?F:N.coordinate},W=ky({active:h.payload.active,coordinate:V,dataKey:h.payload.dataKey,index:String(N.index),label:h.payload.label});r(W)}}};return Lc.on(Cy,d),()=>{Lc.off(Cy,d)}},[u,r,t,e,n,i,s,o])}function A7(){var e=Xe(ex),t=Xe(tx),r=gr();w.useEffect(()=>{if(e==null)return VO;var n=(i,s,o)=>{t!==o&&e===i&&r(w7(s))};return Lc.on($k,n),()=>{Lc.off($k,n)}},[r,t,e])}function O7(){var e=gr();w.useEffect(()=>{e(v7())},[e]),C7(),A7()}function P7(e,t,r,n,i,s){var o=Xe(v=>e7(v,e,t)),u=Xe(tx),d=Xe(ex),m=Xe(N2),h=Xe(y7),p=h==null?void 0:h.active;w.useEffect(()=>{if(!p&&d!=null&&u!=null){var v=ky({active:s,coordinate:r,dataKey:o,index:i,label:typeof n=="number"?String(n):n});Lc.emit(Cy,d,v,u)}},[p,r,o,i,n,u,d,m,s])}function Fk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fk(Object(r),!0).forEach(function(n){T7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T7(e,t,r){return(t=I7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I7(e){var t=R7(e,"string");return typeof t=="symbol"?t:t+""}function R7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D7(e){return e.dataKey}function $7(e,t){return w.isValidElement(e)?w.cloneElement(e,t):typeof e=="function"?w.createElement(e,t):w.createElement(nU,t)}var Uk=[],M7={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!sl.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function L7(e){var t=mi(e,M7),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:s,content:o,filterNull:u,isAnimationActive:d,offset:m,payloadUniqBy:h,position:p,reverseDirection:v,useTranslate3d:x,wrapperStyle:b,cursor:S,shared:j,trigger:k,defaultIndex:E,portal:N,axisId:A}=t,T=gr(),I=typeof E=="number"?String(E):E;w.useEffect(()=>{T(sq({shared:j,trigger:k,axisId:A,active:r,defaultIndex:I}))},[T,j,k,A,r,I]);var L=j0(),q=wA(),B=eq(j),{activeIndex:F,isActive:V}=Xe(re=>n7(re,B,k,I)),W=Xe(re=>r7(re,B,k,I)),te=Xe(re=>FO(re,B,k,I)),K=Xe(re=>t7(re,B,k,I)),ae=W,Ne=u7(),ke=r??V,[se,he]=sF([ae,ke]),pe=B==="axis"?te:void 0;P7(B,k,K,pe,F,ke);var D=N??Ne;if(D==null)return null;var $=ae??Uk;ke||($=Uk),u&&$.length&&($=P5(ae.filter(re=>re.value!=null&&(re.hide!==!0||t.includeHidden)),h,D7));var ee=$.length>0,_e=w.createElement(uU,{allowEscapeViewBox:n,animationDuration:i,animationEasing:s,isAnimationActive:d,active:ke,coordinate:K,hasPayload:ee,offset:m,position:p,reverseDirection:v,useTranslate3d:x,viewBox:L,wrapperStyle:b,lastBoundingBox:se,innerRef:he,hasPortalFromProps:!!N},$7(o,zk(zk({},t),{},{payload:$,label:pe,active:ke,coordinate:K,accessibilityLayer:q})));return w.createElement(w.Fragment,null,nR.createPortal(_e,D),ke&&w.createElement(c7,{cursor:S,tooltipEventType:B,coordinate:K,payload:ae,index:F}))}var iv={},sv={},av={},Bk;function F7(){return Bk||(Bk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:s}={}){let o,u=null;const d=s!=null&&s.includes("leading"),m=s==null||s.includes("trailing"),h=()=>{u!==null&&(r.apply(o,u),o=void 0,u=null)},p=()=>{m&&h(),S()};let v=null;const x=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,p()},n)},b=()=>{v!==null&&(clearTimeout(v),v=null)},S=()=>{b(),o=void 0,u=null},j=()=>{h()},k=function(...E){if(i!=null&&i.aborted)return;o=this,u=E;const N=v==null;x(),d&&N&&h()};return k.schedule=x,k.cancel=S,k.flush=j,i==null||i.addEventListener("abort",S,{once:!0}),k}e.debounce=t})(av)),av}var Vk;function z7(){return Vk||(Vk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F7();function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:o=!1,trailing:u=!0,maxWait:d}=s,m=Array(2);o&&(m[0]="leading"),u&&(m[1]="trailing");let h,p=null;const v=t.debounce(function(...S){h=n.apply(this,S),p=null},i,{edges:m}),x=function(...S){return d!=null&&(p===null&&(p=Date.now()),Date.now()-p>=d)?(h=n.apply(this,S),p=Date.now(),v.cancel(),v.schedule(),h):(v.apply(this,S),h)},b=()=>(v.flush(),h);return x.cancel=v.cancel,x.flush=b,x}e.debounce=r})(sv)),sv}var Wk;function U7(){return Wk||(Wk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z7();function r(n,i=0,s={}){const{leading:o=!0,trailing:u=!0}=s;return t.debounce(n,i,{leading:o,maxWait:i,trailing:u})}e.throttle=r})(iv)),iv}var ov,qk;function B7(){return qk||(qk=1,ov=U7().throttle),ov}var V7=B7();const W7=ui(V7);var lv=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function Hk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hk(Object(r),!0).forEach(function(n){q7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q7(e,t,r){return(t=H7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H7(e){var t=K7(e,"string");return typeof t=="symbol"?t:t+""}function K7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y7=w.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:o=0,minHeight:u,maxHeight:d,children:m,debounce:h=0,id:p,className:v,onResize:x,style:b={}}=e,S=w.useRef(null),j=w.useRef();j.current=x,w.useImperativeHandle(t,()=>S.current);var[k,E]=w.useState({containerWidth:n.width,containerHeight:n.height}),N=w.useCallback((T,I)=>{E(L=>{var q=Math.round(T),B=Math.round(I);return L.containerWidth===q&&L.containerHeight===B?L:{containerWidth:q,containerHeight:B}})},[]);w.useEffect(()=>{var T=B=>{var F,{width:V,height:W}=B[0].contentRect;N(V,W),(F=j.current)===null||F===void 0||F.call(j,V,W)};h>0&&(T=W7(T,h,{trailing:!0,leading:!1}));var I=new ResizeObserver(T),{width:L,height:q}=S.current.getBoundingClientRect();return N(L,q),I.observe(S.current),()=>{I.disconnect()}},[N,h]);var A=w.useMemo(()=>{var{containerWidth:T,containerHeight:I}=k;if(T<0||I<0)return null;lv(_a(i)||_a(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,s),lv(!r||r>0,"The aspect(%s) must be greater than zero.",r);var L=_a(i)?T:i,q=_a(s)?I:s;return r&&r>0&&(L?q=L/r:q&&(L=q*r),d&&q>d&&(q=d)),lv(L>0||q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,q,i,s,o,u,r),w.Children.map(m,B=>w.cloneElement(B,{width:L,height:q,style:cv({width:L,height:q},B.props.style)}))},[r,m,s,d,u,o,k,i]);return w.createElement("div",{id:p?"".concat(p):void 0,className:$t("recharts-responsive-container",v),style:cv(cv({},b),{},{width:i,height:s,minWidth:o,minHeight:u,maxHeight:d}),ref:S},w.createElement("div",{style:{width:0,height:0,overflow:"visible"}},A))}),_x=e=>null;_x.displayName="Cell";function G7(e,t,r){return(t=J7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J7(e){var t=Q7(e,"string");return typeof t=="symbol"?t:t+""}function Q7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class X7{constructor(t){G7(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function Kk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Z7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kk(Object(r),!0).forEach(function(n){e9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e9(e,t,r){return(t=t9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t9(e){var t=r9(e,"string");return typeof t=="symbol"?t:t+""}function r9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n9={cacheSize:2e3,enableCache:!0},WO=Z7({},n9),Yk=new X7(WO.cacheSize),i9={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Gk="recharts_measurement_span";function s9(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",o=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(o,"|").concat(u)}var Jk=(e,t)=>{try{var r=document.getElementById(Gk);r||(r=document.createElement("span"),r.setAttribute("id",Gk),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,i9,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Sc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||sl.isSsr)return{width:0,height:0};if(!WO.enableCache)return Jk(t,r);var n=s9(t,r),i=Yk.get(n);if(i)return i;var s=Jk(t,r);return Yk.set(n,s),s},Qk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Xk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,a9=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,o9=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,qO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},l9=Object.keys(qO),Ro="NaN";function c9(e,t){return e*qO[t]}class en{static parse(t){var r,[,n,i]=(r=o9.exec(t))!==null&&r!==void 0?r:[];return new en(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Un(t)&&(this.unit=""),r!==""&&!a9.test(r)&&(this.num=NaN,this.unit=""),l9.includes(r)&&(this.num=c9(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new en(NaN,""):new en(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new en(NaN,""):new en(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new en(NaN,""):new en(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new en(NaN,""):new en(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Un(this.num)}}function HO(e){if(e.includes(Ro))return Ro;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,s]=(r=Qk.exec(t))!==null&&r!==void 0?r:[],o=en.parse(n??""),u=en.parse(s??""),d=i==="*"?o.multiply(u):o.divide(u);if(d.isNaN())return Ro;t=t.replace(Qk,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,h,p,v]=(m=Xk.exec(t))!==null&&m!==void 0?m:[],x=en.parse(h??""),b=en.parse(v??""),S=p==="+"?x.add(b):x.subtract(b);if(S.isNaN())return Ro;t=t.replace(Xk,S.toString())}return t}var Zk=/\(([^()]*)\)/;function u9(e){for(var t=e,r;(r=Zk.exec(t))!=null;){var[,n]=r;t=t.replace(Zk,HO(n))}return t}function d9(e){var t=e.replace(/\s+/g,"");return t=u9(t),t=HO(t),t}function f9(e){try{return d9(e)}catch{return Ro}}function uv(e){var t=f9(e.slice(5,-1));return t===Ro?"":t}var h9=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],m9=["dx","dy","angle","className","breakAll"];function Ay(){return Ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ay.apply(null,arguments)}function eN(e,t){if(e==null)return{};var r,n,i=p9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function p9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var KO=/[ \f\n\r\t\v\u2028\u2029]+/,YO=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];pr(t)||(r?i=t.toString().split(""):i=t.toString().split(KO));var s=i.map(u=>({word:u,width:Sc(u,n).width})),o=r?0:Sc("",n).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},g9=(e,t,r,n,i)=>{var{maxLines:s,children:o,style:u,breakAll:d}=e,m=tt(s),h=o,p=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce((W,te)=>{var{word:K,width:ae}=te,Ne=W[W.length-1];if(Ne&&(n==null||i||Ne.width+ae+r<Number(n)))Ne.words.push(K),Ne.width+=ae+r;else{var ke={words:[K],width:ae};W.push(ke)}return W},[])},v=p(t),x=F=>F.reduce((V,W)=>V.width>W.width?V:W);if(!m||i)return v;var b=v.length>s||x(v).width>Number(n);if(!b)return v;for(var S="",j=F=>{var V=h.slice(0,F),W=YO({breakAll:d,style:u,children:V+S}).wordsWithComputedWidth,te=p(W),K=te.length>s||x(te).width>Number(n);return[K,te]},k=0,E=h.length-1,N=0,A;k<=E&&N<=h.length-1;){var T=Math.floor((k+E)/2),I=T-1,[L,q]=j(I),[B]=j(T);if(!L&&!B&&(k=T+1),L&&B&&(E=T-1),!L&&B){A=q;break}N++}return A||v},tN=e=>{var t=pr(e)?[]:e.toString().split(KO);return[{words:t}]},v9=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:o}=e;if((t||r)&&!sl.isSsr){var u,d,m=YO({breakAll:s,children:n,style:i});if(m){var{wordsWithComputedWidth:h,spaceWidth:p}=m;u=h,d=p}else return tN(n);return g9({breakAll:s,children:n,maxLines:o,style:i},u,d,t,r)}return tN(n)},rN="#808080",kx=w.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:o=!1,textAnchor:u="start",verticalAnchor:d="end",fill:m=rN}=e,h=eN(e,h9),p=w.useMemo(()=>v9({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:o,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,o,h.style,h.width]),{dx:v,dy:x,angle:b,className:S,breakAll:j}=h,k=eN(h,m9);if(!Pi(r)||!Pi(n)||p.length===0)return null;var E=r+(tt(v)?v:0),N=n+(tt(x)?x:0),A;switch(d){case"start":A=uv("calc(".concat(s,")"));break;case"middle":A=uv("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:A=uv("calc(".concat(p.length-1," * -").concat(i,")"));break}var T=[];if(o){var I=p[0].width,{width:L}=h;T.push("scale(".concat(tt(L)?L/I:1,")"))}return b&&T.push("rotate(".concat(b,", ").concat(E,", ").concat(N,")")),T.length&&(k.transform=T.join(" ")),w.createElement("text",Ay({},Ar(k,!0),{ref:t,x:E,y:N,className:$t("recharts-text",S),textAnchor:u,fill:m.includes("url")?rN:m}),p.map((q,B)=>{var F=q.words.join(j?"":" ");return w.createElement("tspan",{x:E,dy:B===0?A:i,key:"".concat(F,"-").concat(B)},F)}))});kx.displayName="Text";var y9=["labelRef"];function x9(e,t){if(e==null)return{};var r,n,i=w9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function w9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nN(Object(r),!0).forEach(function(n){b9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b9(e,t,r){return(t=S9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S9(e){var t=j9(e,"string");return typeof t=="symbol"?t:t+""}function j9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yi(){return Yi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yi.apply(null,arguments)}var GO=w.createContext(null),_9=e=>{var{x:t,y:r,width:n,height:i,children:s}=e,o=w.useMemo(()=>({x:t,y:r,width:n,height:i}),[t,r,n,i]);return w.createElement(GO.Provider,{value:o},s)},JO=()=>{var e=w.useContext(GO),t=j0();return e||t},k9=w.createContext(null),N9=()=>{var e=w.useContext(k9),t=Xe(P2);return e||t},E9=e=>{var{value:t,formatter:r}=e,n=pr(e.children)?t:e.children;return typeof r=="function"?r(n):n},Nx=e=>e!=null&&typeof e=="function",C9=(e,t)=>{var r=vn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},A9=(e,t,r,n,i)=>{var{offset:s,className:o}=e,{cx:u,cy:d,innerRadius:m,outerRadius:h,startAngle:p,endAngle:v,clockWise:x}=i,b=(m+h)/2,S=C9(p,v),j=S>=0?1:-1,k,E;switch(t){case"insideStart":k=p+j*s,E=x;break;case"insideEnd":k=v-j*s,E=!x;break;case"end":k=v+j*s,E=x;break;default:throw new Error("Unsupported position ".concat(t))}E=S<=0?E:!E;var N=Er(u,d,b,k),A=Er(u,d,b,k+(E?1:-1)*359),T="M".concat(N.x,",").concat(N.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(E?0:1,`,
    `).concat(A.x,",").concat(A.y),I=pr(e.id)?Ac("recharts-radial-line-"):e.id;return w.createElement("text",Yi({},n,{dominantBaseline:"central",className:$t("recharts-radial-bar-label",o)}),w.createElement("defs",null,w.createElement("path",{id:I,d:T})),w.createElement("textPath",{xlinkHref:"#".concat(I)},r))},O9=(e,t,r)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:o,startAngle:u,endAngle:d}=e,m=(u+d)/2;if(r==="outside"){var{x:h,y:p}=Er(n,i,o+t,m);return{x:h,y:p,textAnchor:h>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(s+o)/2,{x,y:b}=Er(n,i,v,m);return{x,y:b,textAnchor:"middle",verticalAnchor:"middle"}},QO=e=>"cx"in e&&tt(e.cx),P9=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,s;r!=null&&!QO(r)&&(s=r);var{x:o,y:u,width:d,height:m}=t,h=m>=0?1:-1,p=h*n,v=h>0?"end":"start",x=h>0?"start":"end",b=d>=0?1:-1,S=b*n,j=b>0?"end":"start",k=b>0?"start":"end";if(i==="top"){var E={x:o+d/2,y:u-h*n,textAnchor:"middle",verticalAnchor:v};return qt(qt({},E),s?{height:Math.max(u-s.y,0),width:d}:{})}if(i==="bottom"){var N={x:o+d/2,y:u+m+p,textAnchor:"middle",verticalAnchor:x};return qt(qt({},N),s?{height:Math.max(s.y+s.height-(u+m),0),width:d}:{})}if(i==="left"){var A={x:o-S,y:u+m/2,textAnchor:j,verticalAnchor:"middle"};return qt(qt({},A),s?{width:Math.max(A.x-s.x,0),height:m}:{})}if(i==="right"){var T={x:o+d+S,y:u+m/2,textAnchor:k,verticalAnchor:"middle"};return qt(qt({},T),s?{width:Math.max(s.x+s.width-T.x,0),height:m}:{})}var I=s?{width:d,height:m}:{};return i==="insideLeft"?qt({x:o+S,y:u+m/2,textAnchor:k,verticalAnchor:"middle"},I):i==="insideRight"?qt({x:o+d-S,y:u+m/2,textAnchor:j,verticalAnchor:"middle"},I):i==="insideTop"?qt({x:o+d/2,y:u+p,textAnchor:"middle",verticalAnchor:x},I):i==="insideBottom"?qt({x:o+d/2,y:u+m-p,textAnchor:"middle",verticalAnchor:v},I):i==="insideTopLeft"?qt({x:o+S,y:u+p,textAnchor:k,verticalAnchor:x},I):i==="insideTopRight"?qt({x:o+d-S,y:u+p,textAnchor:j,verticalAnchor:x},I):i==="insideBottomLeft"?qt({x:o+S,y:u+m-p,textAnchor:k,verticalAnchor:v},I):i==="insideBottomRight"?qt({x:o+d-S,y:u+m-p,textAnchor:j,verticalAnchor:v},I):i&&typeof i=="object"&&(tt(i.x)||_a(i.x))&&(tt(i.y)||_a(i.y))?qt({x:o+ci(i.x,d),y:u+ci(i.y,m),textAnchor:"end",verticalAnchor:"end"},I):qt({x:o+d/2,y:u+m/2,textAnchor:"middle",verticalAnchor:"middle"},I)},T9={offset:5};function Ms(e){var t=mi(e,T9),{viewBox:r,position:n,value:i,children:s,content:o,className:u="",textBreakAll:d,labelRef:m}=t,h=N9(),p=JO(),v=n==="center"?p:h??p,x=r||v;if(!x||pr(i)&&pr(s)&&!w.isValidElement(o)&&typeof o!="function")return null;var b=qt(qt({},t),{},{viewBox:x});if(w.isValidElement(o)){var{labelRef:S}=b,j=x9(b,y9);return w.cloneElement(o,j)}var k;if(typeof o=="function"){if(k=w.createElement(o,b),w.isValidElement(k))return k}else k=E9(t);var E=QO(x),N=Ar(t,!0);if(E&&(n==="insideStart"||n==="insideEnd"||n==="end"))return A9(t,n,k,N,x);var A=E?O9(x,t.offset,t.position):P9(t,x);return w.createElement(kx,Yi({ref:m,className:$t("recharts-label",u)},N,A,{breakAll:d}),k)}Ms.displayName="Label";var I9=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?w.createElement(Ms,Yi({key:"label-implicit"},n)):Pi(e)?w.createElement(Ms,Yi({key:"label-implicit",value:e},n)):w.isValidElement(e)?e.type===Ms?w.cloneElement(e,qt({key:"label-implicit"},n)):w.createElement(Ms,Yi({key:"label-implicit",content:e},n)):Nx(e)?w.createElement(Ms,Yi({key:"label-implicit",content:e},n)):e&&typeof e=="object"?w.createElement(Ms,Yi({},e,{key:"label-implicit"},n)):null};function R9(e){var{label:t}=e,r=JO();return I9(t,r)||null}var dv={},fv={},iN;function D9(){return iN||(iN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(fv)),fv}var hv={},sN;function $9(){return sN||(sN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(hv)),hv}var aN;function M9(){return aN||(aN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D9(),r=$9(),n=h0();function i(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=i})(dv)),dv}var mv,oN;function L9(){return oN||(oN=1,mv=M9().last),mv}var F9=L9();const z9=ui(F9);var U9=["valueAccessor"],B9=["dataKey","clockWise","id","textBreakAll"];function Bf(){return Bf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bf.apply(null,arguments)}function lN(e,t){if(e==null)return{};var r,n,i=V9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function V9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var W9=e=>Array.isArray(e.value)?z9(e.value):e.value,XO=w.createContext(void 0),q9=XO.Provider,ZO=w.createContext(void 0);ZO.Provider;function H9(){return w.useContext(XO)}function K9(){return w.useContext(ZO)}function Gd(e){var{valueAccessor:t=W9}=e,r=lN(e,U9),{dataKey:n,clockWise:i,id:s,textBreakAll:o}=r,u=lN(r,B9),d=H9(),m=K9(),h=d||m;return!h||!h.length?null:w.createElement(qs,{className:"recharts-label-list"},h.map((p,v)=>{var x,b=pr(n)?t(p,v):Wr(p&&p.payload,n),S=pr(s)?{}:{id:"".concat(s,"-").concat(v)};return w.createElement(Ms,Bf({},Ar(p,!0),u,S,{fill:(x=r.fill)!==null&&x!==void 0?x:p.fill,parentViewBox:p.parentViewBox,value:b,textBreakAll:o,viewBox:p.viewBox,key:"label-".concat(v),index:v}))}))}Gd.displayName="LabelList";function Y9(e){var{label:t}=e;return t?t===!0?w.createElement(Gd,{key:"labelList-implicit"}):w.isValidElement(t)||Nx(t)?w.createElement(Gd,{key:"labelList-implicit",content:t}):typeof t=="object"?w.createElement(Gd,Bf({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var G9={radiusAxis:{},angleAxis:{}},eP=jn({name:"polarAxis",initialState:G9,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:cQ,removeRadiusAxis:uQ,addAngleAxis:dQ,removeAngleAxis:fQ}=eP.actions,J9=eP.reducer,pv={},cN;function Q9(){return cN||(cN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(pv)),pv}var gv,uN;function X9(){return uN||(uN=1,gv=Q9().isPlainObject),gv}var Z9=X9();const eH=ui(Z9);function dN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dN(Object(r),!0).forEach(function(n){tH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tH(e,t,r){return(t=rH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rH(e){var t=nH(e,"string");return typeof t=="symbol"?t:t+""}function nH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vf(){return Vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vf.apply(null,arguments)}var hN=(e,t,r,n,i)=>{var s=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-s/2,",").concat(t+i),o+="L ".concat(e+r-s/2-n,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z"),o},iH={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sH=e=>{var t=mi(e,iH),{x:r,y:n,upperWidth:i,lowerWidth:s,height:o,className:u}=t,{animationEasing:d,animationDuration:m,animationBegin:h,isUpdateAnimationActive:p}=t,v=w.useRef(),[x,b]=w.useState(-1),S=w.useRef(i),j=w.useRef(s),k=w.useRef(o),E=w.useRef(r),N=w.useRef(n),A=N0(e,"trapezoid-");if(w.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var K=v.current.getTotalLength();K&&b(K)}catch{}},[]),r!==+r||n!==+n||i!==+i||s!==+s||o!==+o||i===0&&s===0||o===0)return null;var T=$t("recharts-trapezoid",u);if(!p)return w.createElement("g",null,w.createElement("path",Vf({},Ar(t,!0),{className:T,d:hN(r,n,i,s,o)})));var I=S.current,L=j.current,q=k.current,B=E.current,F=N.current,V="0px ".concat(x===-1?1:x,"px"),W="".concat(x,"px 0px"),te=bA(["strokeDasharray"],m,d);return w.createElement(k0,{animationId:A,key:A,canBegin:x>0,duration:m,easing:d,isActive:p,begin:h},K=>{var ae=Ur(I,i,K),Ne=Ur(L,s,K),ke=Ur(q,o,K),se=Ur(B,r,K),he=Ur(F,n,K);v.current&&(S.current=ae,j.current=Ne,k.current=ke,E.current=se,N.current=he);var pe=K>0?{transition:te,strokeDasharray:W}:{strokeDasharray:V};return w.createElement("path",Vf({},Ar(t,!0),{className:T,d:hN(se,he,ae,Ne,ke),ref:v,style:fN(fN({},pe),t.style)}))})},aH=["option","shapeType","propTransformer","activeClassName","isActive"];function oH(e,t){if(e==null)return{};var r,n,i=lH(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function lH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mN(Object(r),!0).forEach(function(n){cH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cH(e,t,r){return(t=uH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uH(e){var t=dH(e,"string");return typeof t=="symbol"?t:t+""}function dH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fH(e,t){return Wf(Wf({},t),e)}function hH(e,t){return e==="symbols"}function pN(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return w.createElement(kA,r);case"trapezoid":return w.createElement(sH,r);case"sector":return w.createElement(CA,r);case"symbols":if(hH(t))return w.createElement(IC,r);break;default:return null}}function mH(e){return w.isValidElement(e)?e.props:e}function pH(e){var{option:t,shapeType:r,propTransformer:n=fH,activeClassName:i="recharts-active-shape",isActive:s}=e,o=oH(e,aH),u;if(w.isValidElement(t))u=w.cloneElement(t,Wf(Wf({},o),mH(t)));else if(typeof t=="function")u=t(o);else if(eH(t)&&typeof t!="boolean"){var d=n(t,o);u=w.createElement(pN,{shapeType:r,elementProps:d})}else{var m=o;u=w.createElement(pN,{shapeType:r,elementProps:m})}return s?w.createElement(qs,{className:i},u):u}var tP=(e,t)=>{var r=gr();return(n,i)=>s=>{e==null||e(n,i,s),r(bO({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},rP=e=>{var t=gr();return(r,n)=>i=>{e==null||e(r,n,i),t(aq())}},nP=(e,t)=>{var r=gr();return(n,i)=>s=>{e==null||e(n,i,s),r(oq({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function gH(e){var{fn:t,args:r}=e,n=gr(),i=hi();return w.useEffect(()=>{if(!i){var s=t(r);return n(nq(s)),()=>{n(iq(s))}}},[t,r,n,i]),null}var vH=()=>{};function yH(e){var{legendPayload:t}=e,r=gr(),n=hi();return w.useEffect(()=>n?vH:(r(Jz(t)),()=>{r(Qz(t))}),[r,n,t]),null}var vv,xH=()=>{var[e]=w.useState(()=>Ac("uid-"));return e},wH=(vv=NI.useId)!==null&&vv!==void 0?vv:xH;function bH(e,t){var r=wH();return t||(e?"".concat(e,"-").concat(r):r)}var SH=w.createContext(void 0),jH=e=>{var{id:t,type:r,children:n}=e,i=bH("recharts-".concat(r),t);return w.createElement(SH.Provider,{value:i},n(i))},_H={cartesianItems:[],polarItems:[]},iP=jn({name:"graphicalItems",initialState:_H,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,i=Xi(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},removeCartesianGraphicalItem(e,t){var r=Xi(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=Xi(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:kH,replaceCartesianGraphicalItem:NH,removeCartesianGraphicalItem:EH,addPolarGraphicalItem:hQ,removePolarGraphicalItem:mQ}=iP.actions,CH=iP.reducer;function AH(e){var t=gr(),r=w.useRef(null);return w.useEffect(()=>{r.current===null?t(kH(e)):r.current!==e&&t(NH({prev:r.current,next:e})),r.current=e},[t,e]),w.useEffect(()=>()=>{r.current&&(t(EH(r.current)),r.current=null)},[t]),null}function gN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gN(Object(r),!0).forEach(function(n){OH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OH(e,t,r){return(t=PH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PH(e){var t=TH(e,"string");return typeof t=="symbol"?t:t+""}function TH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IH={xAxis:{},yAxis:{},zAxis:{}},sP=jn({name:"cartesianAxis",initialState:IH,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=vN(vN({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:RH,removeXAxis:DH,addYAxis:$H,removeYAxis:MH,addZAxis:pQ,removeZAxis:gQ,updateYAxisWidth:LH}=sP.actions,FH=sP.reducer,zH=Z([vr],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),UH=Z([zH,as,os],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),aP=()=>Xe(UH),BH="Invariant failed";function VH(e,t){throw new Error(BH)}var WH=["x","y"];function Oy(){return Oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oy.apply(null,arguments)}function yN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yN(Object(r),!0).forEach(function(n){qH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qH(e,t,r){return(t=HH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HH(e){var t=KH(e,"string");return typeof t=="symbol"?t:t+""}function KH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YH(e,t){if(e==null)return{};var r,n,i=GH(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function GH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function JH(e,t){var{x:r,y:n}=e,i=YH(e,WH),s="".concat(r),o=parseInt(s,10),u="".concat(n),d=parseInt(u,10),m="".concat(t.height||i.height),h=parseInt(m,10),p="".concat(t.width||i.width),v=parseInt(p,10);return uc(uc(uc(uc(uc({},t),i),o?{x:o}:{}),d?{y:d}:{}),{},{height:h,width:v,name:t.name,radius:t.radius})}function Ex(e){return w.createElement(pH,Oy({shapeType:"rectangle",propTransformer:JH,activeClassName:"recharts-active-bar"},e))}var QH=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(tt(t))return t;var s=tt(n)||pr(n);return s?t(n,i):(s||VH(),r)}},XH={},oP=jn({name:"errorBars",initialState:XH,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?i:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:vQ,replaceErrorBar:yQ,removeErrorBar:xQ}=oP.actions,ZH=oP.reducer,eK=["children"];function tK(e,t){if(e==null)return{};var r,n,i=rK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function rK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nK={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},iK=w.createContext(nK);function sK(e){var{children:t}=e,r=tK(e,eK);return w.createElement(iK.Provider,{value:r},t)}function lP(e,t){var r,n,i=Xe(m=>cs(m,e)),s=Xe(m=>us(m,t)),o=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:un.allowDataOverflow,u=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:dn.allowDataOverflow,d=o||u;return{needClip:d,needClipX:o,needClipY:u}}function aK(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=aP(),{needClipX:s,needClipY:o,needClip:u}=lP(t,r);if(!u)return null;var{x:d,y:m,width:h,height:p}=i;return w.createElement("clipPath",{id:"clipPath-".concat(n)},w.createElement("rect",{x:s?d:d-h/2,y:o?m:m-p/2,width:s?h:h*2,height:o?p:p*2}))}var oK=["onMouseEnter","onMouseLeave","onClick"],lK=["value","background","tooltipPosition"],cK=["id"],uK=["onMouseEnter","onClick","onMouseLeave"];function Hs(){return Hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hs.apply(null,arguments)}function xN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xN(Object(r),!0).forEach(function(n){dK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dK(e,t,r){return(t=fK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fK(e){var t=hK(e,"string");return typeof t=="symbol"?t:t+""}function hK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qf(e,t){if(e==null)return{};var r,n,i=mK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var pK=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:n,value:vA(r,t),payload:e}]};function gK(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:s,hide:o,unit:u}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:vA(s,t),hide:o,type:e.tooltipType,color:e.fill,unit:u}}}function vK(e){var t=Xe(Go),{data:r,dataKey:n,background:i,allOtherBarProps:s}=e,{onMouseEnter:o,onMouseLeave:u,onClick:d}=s,m=qf(s,oK),h=tP(o,n),p=rP(u),v=nP(d,n);if(!i||r==null)return null;var x=Ar(i,!1);return w.createElement(w.Fragment,null,r.map((b,S)=>{var{value:j,background:k,tooltipPosition:E}=b,N=qf(b,lK);if(!k)return null;var A=h(b,S),T=p(b,S),I=v(b,S),L=Br(Br(Br(Br(Br({option:i,isActive:String(S)===t},N),{},{fill:"#eee"},k),x),c0(m,b,S)),{},{onMouseEnter:A,onMouseLeave:T,onClick:I,dataKey:n,index:S,className:"recharts-bar-background-rectangle"});return w.createElement(Ex,Hs({key:"background-bar-".concat(L.index)},L))}))}function yK(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(s=>{var o={x:s.x,y:s.y,width:s.width,height:s.height};return Br(Br({},o),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:o,fill:s.fill})});return w.createElement(q9,{value:t?i:void 0},r)}function xK(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:s,dataKey:o}=e,u=Xe(Go),d=Xe(RO),m=r&&String(s)===u&&(d==null||o===d),h=m?r:t;return w.createElement(Ex,Hs({},n,i,{isActive:m,option:h,index:s,dataKey:o}))}function wK(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:s}=e;return w.createElement(Ex,Hs({},r,n,{isActive:!1,option:t,index:i,dataKey:s}))}function bK(e){var{data:t,props:r}=e,n=Gc(r),{id:i}=n,s=qf(n,cK),{shape:o,dataKey:u,activeBar:d}=r,{onMouseEnter:m,onClick:h,onMouseLeave:p}=r,v=qf(r,uK),x=tP(m,u),b=rP(p),S=nP(h,u);return t?w.createElement(w.Fragment,null,t.map((j,k)=>w.createElement(qs,Hs({className:"recharts-bar-rectangle"},c0(v,j,k),{onMouseEnter:x(j,k),onMouseLeave:b(j,k),onClick:S(j,k),key:"rectangle-".concat(j==null?void 0:j.x,"-").concat(j==null?void 0:j.y,"-").concat(j==null?void 0:j.value,"-").concat(k)}),d?w.createElement(xK,{shape:o,activeBar:d,baseProps:s,entry:j,index:k,dataKey:u}):w.createElement(wK,{shape:o,baseProps:s,entry:j,index:k,dataKey:u})))):null}function SK(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:s,animationBegin:o,animationDuration:u,animationEasing:d,onAnimationEnd:m,onAnimationStart:h}=t,p=r.current,v=N0(t,"recharts-bar-"),[x,b]=w.useState(!1),S=!x,j=w.useCallback(()=>{typeof m=="function"&&m(),b(!1)},[m]),k=w.useCallback(()=>{typeof h=="function"&&h(),b(!0)},[h]);return w.createElement(yK,{showLabels:S,rects:n},w.createElement(k0,{animationId:v,begin:o,duration:u,isActive:s,easing:d,onAnimationEnd:j,onAnimationStart:k,key:v},E=>{var N=E===1?n:n==null?void 0:n.map((A,T)=>{var I=p&&p[T];if(I)return Br(Br({},A),{},{x:Ur(I.x,A.x,E),y:Ur(I.y,A.y,E),width:Ur(I.width,A.width,E),height:Ur(I.height,A.height,E)});if(i==="horizontal"){var L=Ur(0,A.height,E);return Br(Br({},A),{},{y:A.y+A.height-L,height:L})}var q=Ur(0,A.width,E);return Br(Br({},A),{},{width:q})});return E>0&&(r.current=N??null),N==null?null:w.createElement(qs,null,w.createElement(bK,{props:t,data:N}))}),w.createElement(Y9,{label:t.label}),t.children)}function jK(e){var t=w.useRef(null);return w.createElement(SK,{previousRectanglesRef:t,props:e})}var cP=0,_K=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Wr(e,t)}};class kK extends w.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:s,yAxisId:o,needClip:u,background:d,id:m}=this.props;if(t||r==null)return null;var h=$t("recharts-bar",i),p=m;return w.createElement(qs,{className:h,id:m},u&&w.createElement("defs",null,w.createElement(aK,{clipPathId:p,xAxisId:s,yAxisId:o})),w.createElement(qs,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(p,")"):void 0},w.createElement(vK,{data:r,dataKey:n,background:d,allOtherBarProps:this.props}),w.createElement(jK,this.props)))}}var NK={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!sl.isSsr,legendType:"rect",minPointSize:cP,xAxisId:0,yAxisId:0};function EK(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:o,animationBegin:u,animationDuration:d,animationEasing:m,isAnimationActive:h}=e,{needClip:p}=lP(t,r),v=_0(),x=hi(),b=mL(e.children,_x),S=Xe(E=>tY(E,t,r,x,e.id,b));if(v!=="vertical"&&v!=="horizontal")return null;var j,k=S==null?void 0:S[0];return k==null||k.height==null||k.width==null?j=0:j=v==="vertical"?k.height/2:k.width/2,w.createElement(sK,{xAxisId:t,yAxisId:r,data:S,dataPointFormatter:_K,errorBarOffset:j},w.createElement(kK,Hs({},e,{layout:v,needClip:p,data:S,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:o,animationBegin:u,animationDuration:d,animationEasing:m,isAnimationActive:h})))}function CK(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:s,xAxis:o,yAxis:u,xAxisTicks:d,yAxisTicks:m,stackedData:h,displayedData:p,offset:v,cells:x,parentViewBox:b}=e,S=t==="horizontal"?u:o,j=h?S.scale.domain():null,k=kz({numericAxis:S});return p.map((E,N)=>{var A,T,I,L,q,B;h?A=xz(h[N],j):(A=Wr(E,r),Array.isArray(A)||(A=[k,A]));var F=QH(n,cP)(A[1],N);if(t==="horizontal"){var V,[W,te]=[u.scale(A[0]),u.scale(A[1])];T=h_({axis:o,ticks:d,bandSize:s,offset:i.offset,entry:E,index:N}),I=(V=te??W)!==null&&V!==void 0?V:void 0,L=i.size;var K=W-te;if(q=Un(K)?0:K,B={x:T,y:v.top,width:L,height:v.height},Math.abs(F)>0&&Math.abs(q)<Math.abs(F)){var ae=vn(q||F)*(Math.abs(F)-Math.abs(q));I-=ae,q+=ae}}else{var[Ne,ke]=[o.scale(A[0]),o.scale(A[1])];if(T=Ne,I=h_({axis:u,ticks:m,bandSize:s,offset:i.offset,entry:E,index:N}),L=ke-Ne,q=i.size,B={x:v.left,y:I,width:v.width,height:q},Math.abs(F)>0&&Math.abs(L)<Math.abs(F)){var se=vn(L||F)*(Math.abs(F)-Math.abs(L));L+=se}}if(T==null||I==null||L==null||q==null)return null;var he=Br(Br({},E),{},{x:T,y:I,width:L,height:q,value:h?A:A[1],payload:E,background:B,tooltipPosition:{x:T+L/2,y:I+q/2},parentViewBox:b},x&&x[N]&&x[N].props);return he}).filter(Boolean)}function AK(e){var t=mi(e,NK),r=hi();return w.createElement(jH,{id:t.id,type:"bar"},n=>w.createElement(w.Fragment,null,w.createElement(yH,{legendPayload:pK(t)}),w.createElement(gH,{fn:gK,args:t}),w.createElement(AH,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:_z(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),w.createElement(EK,Hs({},t,{id:n}))))}var uP=w.memo(AK);uP.displayName="Bar";function wN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wN(Object(r),!0).forEach(function(n){OK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OK(e,t,r){return(t=PK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PK(e){var t=TK(e,"string");return typeof t=="symbol"?t:t+""}function TK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IK=(e,t)=>t,RK=(e,t,r)=>r,DK=(e,t,r,n)=>n,$K=(e,t,r,n,i)=>i,cu=Z([ox,$K],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),MK=Z([cu],e=>e==null?void 0:e.maxBarSize),LK=(e,t,r,n,i,s)=>s,bN=(e,t,r)=>{var n=r??e;if(!pr(n))return ci(n,t,0)},FK=Z([_t,ox,IK,RK,DK],(e,t,r,n,i)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),zK=(e,t,r,n)=>{var i=_t(e);return i==="horizontal"?_y(e,"yAxis",r,n):_y(e,"xAxis",t,n)},UK=(e,t,r)=>{var n=_t(e);return n==="horizontal"?Ck(e,"xAxis",t):Ck(e,"yAxis",r)},BK=(e,t,r)=>{var n={},i=e.filter(Oh),s=e.filter(m=>m.stackId==null),o=i.reduce((m,h)=>(m[h.stackId]||(m[h.stackId]=[]),m[h.stackId].push(h),m),n),u=Object.entries(o).map(m=>{var[h,p]=m,v=p.map(b=>b.dataKey),x=bN(t,r,p[0].barSize);return{stackId:h,dataKeys:v,barSize:x}}),d=s.map(m=>{var h=[m.dataKey].filter(v=>v!=null),p=bN(t,r,m.barSize);return{stackId:void 0,dataKeys:h,barSize:p}});return[...u,...d]},VK=Z([FK,tW,UK],BK),WK=(e,t,r,n,i)=>{var s,o,u=cu(e,t,r,n,i);if(u!=null){var d=_t(e),m=_2(e),{maxBarSize:h}=u,p=pr(h)?m:h,v,x;return d==="horizontal"?(v=Yo(e,"xAxis",t,n),x=Ko(e,"xAxis",t,n)):(v=Yo(e,"yAxis",r,n),x=Ko(e,"yAxis",r,n)),(s=(o=b0(v,x,!0))!==null&&o!==void 0?o:p)!==null&&s!==void 0?s:0}},dP=(e,t,r,n)=>{var i=_t(e),s,o;return i==="horizontal"?(s=Yo(e,"xAxis",t,n),o=Ko(e,"xAxis",t,n)):(s=Yo(e,"yAxis",r,n),o=Ko(e,"yAxis",r,n)),b0(s,o)};function qK(e,t,r,n,i){var s=n.length;if(!(s<1)){var o=ci(e,r,0,!0),u,d=[];if(bn(n[0].barSize)){var m=!1,h=r/s,p=n.reduce((k,E)=>k+(E.barSize||0),0);p+=(s-1)*o,p>=r&&(p-=(s-1)*o,o=0),p>=r&&h>0&&(m=!0,h*=.9,p=s*h);var v=(r-p)/2>>0,x={offset:v-o,size:0};u=n.reduce((k,E)=>{var N,A={stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:x.offset+x.size+o,size:m?h:(N=E.barSize)!==null&&N!==void 0?N:0}},T=[...k,A];return x=T[T.length-1].position,T},d)}else{var b=ci(t,r,0,!0);r-2*b-(s-1)*o<=0&&(o=0);var S=(r-2*b-(s-1)*o)/s;S>1&&(S>>=0);var j=bn(i)?Math.min(S,i):S;u=n.reduce((k,E,N)=>[...k,{stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:b+(S+o)*N+(S-j)/2,size:j}}],d)}return u}}var HK=(e,t,r,n,i,s,o)=>{var u=pr(o)?t:o,d=qK(r,n,i!==s?i:s,e,u);return i!==s&&d!=null&&(d=d.map(m=>Fd(Fd({},m),{},{position:Fd(Fd({},m.position),{},{offset:m.position.offset-i/2})}))),d},KK=Z([VK,_2,eW,k2,WK,dP,MK],HK),YK=(e,t,r,n)=>Yo(e,"xAxis",t,n),GK=(e,t,r,n)=>Yo(e,"yAxis",r,n),JK=(e,t,r,n)=>Ko(e,"xAxis",t,n),QK=(e,t,r,n)=>Ko(e,"yAxis",r,n),XK=Z([KK,cu],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),ZK=(e,t)=>{var r=sx(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:s}=i;if(s)return s.find(o=>o.key===r)}}}},eY=Z([zK,cu],ZK),tY=Z([vr,S0,YK,GK,JK,QK,XK,_t,J0,dP,eY,cu,LK],(e,t,r,n,i,s,o,u,d,m,h,p,v)=>{var{chartData:x,dataStartIndex:b,dataEndIndex:S}=d;if(!(p==null||o==null||t==null||u!=="horizontal"&&u!=="vertical"||r==null||n==null||i==null||s==null||m==null)){var{data:j}=p,k;if(j!=null&&j.length>0?k=j:k=x==null?void 0:x.slice(b,S+1),k!=null)return CK({layout:u,barSettings:p,pos:o,parentViewBox:t,bandSize:m,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:s,stackedData:h,displayedData:k,offset:e,cells:v})}}),rY=e=>{var{chartData:t}=e,r=gr(),n=hi();return w.useEffect(()=>n?()=>{}:(r(Mk(t)),()=>{r(Mk(void 0))}),[t,r,n]),null},SN={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},fP=jn({name:"brush",initialState:SN,reducers:{setBrushSettings(e,t){return t.payload==null?SN:t.payload}}}),{setBrushSettings:wQ}=fP.actions,nY=fP.reducer;function iY(e,t,r){return(t=sY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sY(e){var t=aY(e,"string");return typeof t=="symbol"?t:t+""}function aY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Cx{static create(t){return new Cx(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}iY(Cx,"EPS",1e-4);function oY(e){return(e%180+180)%180}var lY=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=oY(i),o=s*Math.PI/180,u=Math.atan(n/r),d=o>u&&o<Math.PI-u?n/Math.sin(o):r/Math.cos(o);return Math.abs(d)},cY={dots:[],areas:[],lines:[]},hP=jn({name:"referenceElements",initialState:cY,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Xi(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Xi(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Xi(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:bQ,removeDot:SQ,addArea:jQ,removeArea:_Q,addLine:kQ,removeLine:NQ}=hP.actions,uY=hP.reducer,dY=w.createContext(void 0),fY=e=>{var{children:t}=e,[r]=w.useState("".concat(Ac("recharts"),"-clip")),n=aP();if(n==null)return null;var{x:i,y:s,width:o,height:u}=n;return w.createElement(dY.Provider,{value:r},w.createElement("defs",null,w.createElement("clipPath",{id:r},w.createElement("rect",{x:i,y:s,height:u,width:o}))),t)};function Jo(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function mP(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function hY(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return lY(n,r)}function mY(e,t,r){var n=r==="width",{x:i,y:s,width:o,height:u}=e;return t===1?{start:n?i:s,end:n?i+o:s+u}:{start:n?i+o:s+u,end:n?i:s}}function Hf(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function pY(e,t){return mP(e,t+1)}function gY(e,t,r,n,i){for(var s=(n||[]).slice(),{start:o,end:u}=t,d=0,m=1,h=o,p=function(){var b=n==null?void 0:n[d];if(b===void 0)return{v:mP(n,m)};var S=d,j,k=()=>(j===void 0&&(j=r(b,S)),j),E=b.coordinate,N=d===0||Hf(e,E,k,h,u);N||(d=0,h=o,m+=1),N&&(h=E+e*(k()/2+i),d+=m)},v;m<=s.length;)if(v=p(),v)return v.v;return[]}function jN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jN(Object(r),!0).forEach(function(n){vY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vY(e,t,r){return(t=yY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yY(e){var t=xY(e,"string");return typeof t=="symbol"?t:t+""}function xY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wY(e,t,r,n,i){for(var s=(n||[]).slice(),o=s.length,{start:u}=t,{end:d}=t,m=function(v){var x=s[v],b,S=()=>(b===void 0&&(b=r(x,v)),b);if(v===o-1){var j=e*(x.coordinate+e*S()/2-d);s[v]=x=$r($r({},x),{},{tickCoord:j>0?x.coordinate-j*e:x.coordinate})}else s[v]=x=$r($r({},x),{},{tickCoord:x.coordinate});var k=Hf(e,x.tickCoord,S,u,d);k&&(d=x.tickCoord-e*(S()/2+i),s[v]=$r($r({},x),{},{isShow:!0}))},h=o-1;h>=0;h--)m(h);return s}function bY(e,t,r,n,i,s){var o=(n||[]).slice(),u=o.length,{start:d,end:m}=t;if(s){var h=n[u-1],p=r(h,u-1),v=e*(h.coordinate+e*p/2-m);o[u-1]=h=$r($r({},h),{},{tickCoord:v>0?h.coordinate-v*e:h.coordinate});var x=Hf(e,h.tickCoord,()=>p,d,m);x&&(m=h.tickCoord-e*(p/2+i),o[u-1]=$r($r({},h),{},{isShow:!0}))}for(var b=s?u-1:u,S=function(E){var N=o[E],A,T=()=>(A===void 0&&(A=r(N,E)),A);if(E===0){var I=e*(N.coordinate-e*T()/2-d);o[E]=N=$r($r({},N),{},{tickCoord:I<0?N.coordinate-I*e:N.coordinate})}else o[E]=N=$r($r({},N),{},{tickCoord:N.coordinate});var L=Hf(e,N.tickCoord,T,d,m);L&&(d=N.tickCoord+e*(T()/2+i),o[E]=$r($r({},N),{},{isShow:!0}))},j=0;j<b;j++)S(j);return o}function SY(e,t,r){var{tick:n,ticks:i,viewBox:s,minTickGap:o,orientation:u,interval:d,tickFormatter:m,unit:h,angle:p}=e;if(!i||!i.length||!n)return[];if(tt(d)||sl.isSsr){var v;return(v=pY(i,tt(d)?d:0))!==null&&v!==void 0?v:[]}var x=[],b=u==="top"||u==="bottom"?"width":"height",S=h&&b==="width"?Sc(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},j=(N,A)=>{var T=typeof m=="function"?m(N.value,A):N.value;return b==="width"?hY(Sc(T,{fontSize:t,letterSpacing:r}),S,p):Sc(T,{fontSize:t,letterSpacing:r})[b]},k=i.length>=2?vn(i[1].coordinate-i[0].coordinate):1,E=mY(s,k,b);return d==="equidistantPreserveStart"?gY(k,E,j,i,o):(d==="preserveStart"||d==="preserveStartEnd"?x=bY(k,E,j,i,o,d==="preserveStartEnd"):x=wY(k,E,j,i,o),x.filter(N=>N.isShow))}var jY=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=e,o=0;if(t){t.forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>o&&(o=p.width)}});var u=r?r.getBoundingClientRect().width:0,d=i+s,m=o+d+u+(r?n:0);return Math.round(m)}return 0},_Y=["axisLine","width","height","className","hide","ticks"],kY=["viewBox"],NY=["viewBox"];function Py(e,t){if(e==null)return{};var r,n,i=EY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function EY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Fa(){return Fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fa.apply(null,arguments)}function _N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_N(Object(r),!0).forEach(function(n){CY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_N(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CY(e,t,r){return(t=AY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AY(e){var t=OY(e,"string");return typeof t=="symbol"?t:t+""}function OY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PY={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function TY(e){var{x:t,y:r,width:n,height:i,orientation:s,mirror:o,axisLine:u,otherSvgProps:d}=e;if(!u)return null;var m=ar(ar(ar({},d),Ar(u,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var h=+(s==="top"&&!o||s==="bottom"&&o);m=ar(ar({},m),{},{x1:t,y1:r+h*i,x2:t+n,y2:r+h*i})}else{var p=+(s==="left"&&!o||s==="right"&&o);m=ar(ar({},m),{},{x1:t+p*n,y1:r,x2:t+p*n,y2:r+i})}return w.createElement("line",Fa({},m,{className:$t("recharts-cartesian-axis-line",zo(u,"className"))}))}function IY(e,t,r,n,i,s,o,u,d){var m,h,p,v,x,b,S=u?-1:1,j=e.tickSize||o,k=tt(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":m=h=e.coordinate,v=r+ +!u*i,p=v-S*j,b=p-S*d,x=k;break;case"left":p=v=e.coordinate,h=t+ +!u*n,m=h-S*j,x=m-S*d,b=k;break;case"right":p=v=e.coordinate,h=t+ +u*n,m=h+S*j,x=m+S*d,b=k;break;default:m=h=e.coordinate,v=r+ +u*i,p=v+S*j,b=p+S*d,x=k;break}return{line:{x1:m,y1:p,x2:h,y2:v},tick:{x,y:b}}}function RY(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function DY(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function $Y(e){var{option:t,tickProps:r,value:n}=e,i,s=$t(r.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(t))i=w.cloneElement(t,ar(ar({},r),{},{className:s}));else if(typeof t=="function")i=t(ar(ar({},r),{},{className:s}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=$t(o,t==null?void 0:t.className)),i=w.createElement(kx,Fa({},r,{className:o}),n)}return i}function MY(e){var{ticks:t=[],tick:r,tickLine:n,stroke:i,tickFormatter:s,unit:o,padding:u,tickTextProps:d,orientation:m,mirror:h,x:p,y:v,width:x,height:b,tickSize:S,tickMargin:j,fontSize:k,letterSpacing:E,getTicksConfig:N,events:A}=e,T=SY(ar(ar({},N),{},{ticks:t}),k,E),I=RY(m,h),L=DY(m,h),q=Gc(N),B=Ar(r,!1),F=ar(ar({},q),{},{fill:"none"},Ar(n,!1)),V=T.map((W,te)=>{var{line:K,tick:ae}=IY(W,p,v,x,b,m,S,h,j),Ne=ar(ar(ar(ar({textAnchor:I,verticalAnchor:L},q),{},{stroke:"none",fill:i},B),ae),{},{index:te,payload:W,visibleTicksCount:T.length,tickFormatter:s,padding:u},d);return w.createElement(qs,Fa({className:"recharts-cartesian-axis-tick",key:"tick-".concat(W.value,"-").concat(W.coordinate,"-").concat(W.tickCoord)},c0(A,W,te)),n&&w.createElement("line",Fa({},F,K,{className:$t("recharts-cartesian-axis-tick-line",zo(n,"className"))})),r&&w.createElement($Y,{option:r,tickProps:Ne,value:"".concat(typeof s=="function"?s(W.value,te):W.value).concat(o||"")}))});return V.length>0?w.createElement("g",{className:"recharts-cartesian-axis-ticks"},V):null}var LY=w.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:s,hide:o,ticks:u}=e,d=Py(e,_Y),[m,h]=w.useState(""),[p,v]=w.useState(""),x=w.useRef([]);w.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var S;return jY({ticks:x.current,label:(S=e.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var b=w.useCallback(S=>{if(S){var j=S.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=Array.from(j);var k=j[0];if(k){var E=window.getComputedStyle(k),N=E.fontSize,A=E.letterSpacing;(N!==m||A!==p)&&(h(N),v(A))}}},[m,p]);return o||n!=null&&n<=0||i!=null&&i<=0?null:w.createElement(qs,{className:$t("recharts-cartesian-axis",s),ref:b},w.createElement(TY,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Gc(e)}),w.createElement(MY,{ticks:u,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:m,letterSpacing:p,getTicksConfig:e,events:d}),w.createElement(_9,{x:e.x,y:e.y,width:e.width,height:e.height},w.createElement(R9,{label:e.label}),e.children))}),FY=w.memo(LY,(e,t)=>{var{viewBox:r}=e,n=Py(e,kY),{viewBox:i}=t,s=Py(t,NY);return Jo(r,i)&&Jo(n,s)}),Ax=w.forwardRef((e,t)=>{var r=mi(e,PY);return w.createElement(FY,Fa({},r,{ref:t}))});Ax.displayName="CartesianAxis";var zY=["dangerouslySetInnerHTML","ticks"],UY=["id"],BY=["domain"],VY=["domain"];function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ty.apply(null,arguments)}function Kf(e,t){if(e==null)return{};var r,n,i=WY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function WY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function qY(e){var t=gr();return w.useEffect(()=>(t(RH(e)),()=>{t(DH(e))}),[e,t]),null}var HY=e=>{var{xAxisId:t,className:r}=e,n=Xe(S0),i=hi(),s="xAxis",o=Xe(j=>dl(j,s,t,i)),u=Xe(j=>pO(j,s,t,i)),d=Xe(j=>dO(j,t)),m=Xe(j=>KW(j,t)),h=Xe(j=>R2(j,t));if(d==null||m==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:v}=e,x=Kf(e,zY),{id:b}=h,S=Kf(h,UY);return w.createElement(Ax,Ty({},x,S,{scale:o,x:m.x,y:m.y,width:d.width,height:d.height,className:$t("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:u}))},KY={allowDataOverflow:un.allowDataOverflow,allowDecimals:un.allowDecimals,allowDuplicatedCategory:un.allowDuplicatedCategory,height:un.height,hide:!1,mirror:un.mirror,orientation:un.orientation,padding:un.padding,reversed:un.reversed,scale:un.scale,tickCount:un.tickCount,type:un.type,xAxisId:0},YY=e=>{var t,r,n,i,s,o=mi(e,KY);return w.createElement(w.Fragment,null,w.createElement(qY,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(s=o.tick)!==null&&s!==void 0?s:!0,tickFormatter:o.tickFormatter}),w.createElement(HY,o))},GY=(e,t)=>{var{domain:r}=e,n=Kf(e,BY),{domain:i}=t,s=Kf(t,VY);return Jo(n,s)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:Jo({domain:r},{domain:i}):!1},pP=w.memo(YY,GY);pP.displayName="XAxis";var JY=["dangerouslySetInnerHTML","ticks"],QY=["id"],XY=["domain"],ZY=["domain"];function Iy(){return Iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iy.apply(null,arguments)}function Yf(e,t){if(e==null)return{};var r,n,i=eG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function eG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function tG(e){var t=gr();return w.useEffect(()=>(t($H(e)),()=>{t(MH(e))}),[e,t]),null}var rG=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,s=w.useRef(null),o=w.useRef(null),u=Xe(S0),d=hi(),m=gr(),h="yAxis",p=Xe(T=>dl(T,h,t,d)),v=Xe(T=>fO(T,t)),x=Xe(T=>GW(T,t)),b=Xe(T=>pO(T,h,t,d)),S=Xe(T=>D2(T,t));if(w.useLayoutEffect(()=>{if(!(n!=="auto"||!v||Nx(i)||w.isValidElement(i)||S==null)){var T=s.current;if(T){var I=T.getCalculatedWidth();Math.round(v.width)!==Math.round(I)&&m(LH({id:t,width:I}))}}},[b,v,m,i,t,n,S]),v==null||x==null||S==null)return null;var{dangerouslySetInnerHTML:j,ticks:k}=e,E=Yf(e,JY),{id:N}=S,A=Yf(S,QY);return w.createElement(Ax,Iy({},E,A,{ref:s,labelRef:o,scale:p,x:x.x,y:x.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:v.width,height:v.height,className:$t("recharts-".concat(h," ").concat(h),r),viewBox:u,ticks:b}))},nG={allowDataOverflow:dn.allowDataOverflow,allowDecimals:dn.allowDecimals,allowDuplicatedCategory:dn.allowDuplicatedCategory,hide:!1,mirror:dn.mirror,orientation:dn.orientation,padding:dn.padding,reversed:dn.reversed,scale:dn.scale,tickCount:dn.tickCount,type:dn.type,width:dn.width,yAxisId:0},iG=e=>{var t,r,n,i,s,o=mi(e,nG);return w.createElement(w.Fragment,null,w.createElement(tG,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(s=o.tick)!==null&&s!==void 0?s:!0,tickFormatter:o.tickFormatter}),w.createElement(rG,o))},sG=(e,t)=>{var{domain:r}=e,n=Yf(e,XY),{domain:i}=t,s=Yf(t,ZY);return Jo(n,s)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:Jo({domain:r},{domain:i}):!1},gP=w.memo(iG,sG);gP.displayName="YAxis";var yv={exports:{}},xv={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kN;function aG(){if(kN)return xv;kN=1;var e=Qo();function t(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,o=e.useMemo,u=e.useDebugValue;return xv.useSyncExternalStoreWithSelector=function(d,m,h,p,v){var x=i(null);if(x.current===null){var b={hasValue:!1,value:null};x.current=b}else b=x.current;x=o(function(){function j(T){if(!k){if(k=!0,E=T,T=p(T),v!==void 0&&b.hasValue){var I=b.value;if(v(I,T))return N=I}return N=T}if(I=N,r(E,T))return I;var L=p(T);return v!==void 0&&v(I,L)?(E=T,I):(E=T,N=L)}var k=!1,E,N,A=h===void 0?null:h;return[function(){return j(m())},A===null?void 0:function(){return j(A())}]},[m,h,p,v]);var S=n(d,x[0],x[1]);return s(function(){b.hasValue=!0,b.value=S},[S]),u(S),S},xv}var NN;function oG(){return NN||(NN=1,yv.exports=aG()),yv.exports}oG();function lG(e){e()}function cG(){let e=null,t=null;return{clear(){e=null,t=null},notify(){lG(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var EN={notify(){},get:()=>[]};function uG(e,t){let r,n=EN,i=0,s=!1;function o(S){h();const j=n.subscribe(S);let k=!1;return()=>{k||(k=!0,j(),p())}}function u(){n.notify()}function d(){b.onStateChange&&b.onStateChange()}function m(){return s}function h(){i++,r||(r=e.subscribe(d),n=cG())}function p(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=EN)}function v(){s||(s=!0,h())}function x(){s&&(s=!1,p())}const b={addNestedSub:o,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:m,trySubscribe:v,tryUnsubscribe:x,getListeners:()=>n};return b}var dG=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fG=dG(),hG=()=>typeof navigator<"u"&&navigator.product==="ReactNative",mG=hG(),pG=()=>fG||mG?w.useLayoutEffect:w.useEffect,gG=pG(),wv=Symbol.for("react-redux-context"),bv=typeof globalThis<"u"?globalThis:{};function vG(){if(!w.createContext)return{};const e=bv[wv]??(bv[wv]=new Map);let t=e.get(w.createContext);return t||(t=w.createContext(null),e.set(w.createContext,t)),t}var yG=vG();function xG(e){const{children:t,context:r,serverState:n,store:i}=e,s=w.useMemo(()=>{const d=uG(i);return{store:i,subscription:d,getServerState:n?()=>n:void 0}},[i,n]),o=w.useMemo(()=>i.getState(),[i]);gG(()=>{const{subscription:d}=s;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),o!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[s,o]);const u=r||yG;return w.createElement(u.Provider,{value:s},t)}var wG=xG,bG=(e,t)=>t,Ox=Z([bG,_t,P2,lr,OO,ds,Zq,vr],i7),Px=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},vP=Bn("mouseClick"),yP=Qc();yP.startListening({actionCreator:vP,effect:(e,t)=>{var r=e.payload,n=Ox(t.getState(),Px(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(lq({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Ry=Bn("mouseMove"),xP=Qc();xP.startListening({actionCreator:Ry,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=px(n,n.tooltip.settings.shared),s=Ox(n,Px(r));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?t.dispatch(jO({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(SO()))}});var CN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},wP=jn({name:"rootProps",initialState:CN,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:CN.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),SG=wP.reducer,{updateOptions:jG}=wP.actions,bP=jn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:EQ}=bP.actions,_G=bP.reducer,SP=Bn("keyDown"),jP=Bn("focus"),Tx=Qc();Tx.startListening({actionCreator:SP,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var o=Number(gx(i,hl(r))),u=ds(r);if(s==="Enter"){var d=Uf(r,"axis","hover",String(i.index));t.dispatch(Ny({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var m=ZW(r),h=m==="left-to-right"?1:-1,p=s==="ArrowRight"?1:-1,v=o+p*h;if(!(u==null||v>=u.length||v<0)){var x=Uf(r,"axis","hover",String(v));t.dispatch(Ny({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:x}))}}}}});Tx.startListening({actionCreator:jP,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",o=Uf(r,"axis","hover",String(s));t.dispatch(Ny({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:o}))}}}});var $n=Bn("externalEvent"),_P=Qc();_P.startListening({actionCreator:$n,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:Wq(r),activeDataKey:RO(r),activeIndex:Go(r),activeLabel:IO(r),activeTooltipIndex:Go(r),isTooltipActive:qq(r)};e.payload.handler(n,e.payload.reactEvent)}}});var kG=Z([fl],e=>e.tooltipItemPayloads),NG=Z([kG,ou,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(u=>u.settings.dataKey===n);if(i!=null){var{positions:s}=i;if(s!=null){var o=t(s,r);return o}}}),kP=Bn("touchMove"),NP=Qc();NP.startListening({actionCreator:kP,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=px(n,n.tooltip.settings.shared);if(i==="axis"){var s=Ox(n,Px({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(jO({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,u=r.touches[0],d=document.elementFromPoint(u.clientX,u.clientY);if(!d||!d.getAttribute)return;var m=d.getAttribute(Iz),h=(o=d.getAttribute(Rz))!==null&&o!==void 0?o:void 0,p=NG(t.getState(),m,h);t.dispatch(bO({activeDataKey:h,activeIndex:m,activeCoordinate:p}))}}});var EG=KC({brush:nY,cartesianAxis:FH,chartData:b7,errorBars:ZH,graphicalItems:CH,layout:rz,legend:Xz,options:g7,polarAxis:J9,polarOptions:_G,referenceElements:uY,rootProps:SG,tooltip:cq}),CG=function(t){return EF({reducer:EG,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([yP.middleware,xP.middleware,Tx.middleware,_P.middleware,NP.middleware]),devTools:sl.devToolsEnabled})};function AG(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=hi(),s=w.useRef(null);if(i)return r;s.current==null&&(s.current=CG(t));var o=p0;return w.createElement(wG,{context:o,store:s.current},r)}function OG(e){var{layout:t,width:r,height:n,margin:i}=e,s=gr(),o=hi();return w.useEffect(()=>{o||(s(ZF(t)),s(ez({width:r,height:n})),s(XF(i)))},[s,o,t,r,n,i]),null}function PG(e){var t=gr();return w.useEffect(()=>{t(jG(e))},[t,e]),null}var TG=["children"];function IG(e,t){if(e==null)return{};var r,n,i=RG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function RG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Gf(){return Gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gf.apply(null,arguments)}var DG={width:"100%",height:"100%"},$G=w.forwardRef((e,t)=>{var r=Kz(),n=Yz(),i=wA();if(!kf(r)||!kf(n))return null;var{children:s,otherAttributes:o,title:u,desc:d}=e,m,h;return typeof o.tabIndex=="number"?m=o.tabIndex:m=i?0:void 0,typeof o.role=="string"?h=o.role:h=i?"application":void 0,w.createElement(pC,Gf({},o,{title:u,desc:d,role:h,tabIndex:m,width:r,height:n,style:DG,ref:t}),s)}),MG=e=>{var{children:t}=e,r=Xe(yh);if(!r)return null;var{width:n,height:i,y:s,x:o}=r;return w.createElement(pC,{width:n,height:i,x:o,y:s},t)},AN=w.forwardRef((e,t)=>{var{children:r}=e,n=IG(e,TG),i=hi();return i?w.createElement(MG,null,r):w.createElement($G,Gf({ref:t},n),r)});function LG(){var e=gr(),[t,r]=w.useState(null),n=Xe(Tz);return w.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;bn(s)&&s!==n&&e(tz(s))}},[t,e,n]),r}function ON(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function FG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ON(Object(r),!0).forEach(function(n){zG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ON(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zG(e,t,r){return(t=UG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UG(e){var t=BG(e,"string");return typeof t=="symbol"?t:t+""}function BG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VG=w.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:o,onDoubleClick:u,onMouseDown:d,onMouseEnter:m,onMouseLeave:h,onMouseMove:p,onMouseUp:v,onTouchEnd:x,onTouchMove:b,onTouchStart:S,style:j,width:k}=e,E=gr(),[N,A]=w.useState(null),[T,I]=w.useState(null);O7();var L=LG(),q=w.useCallback($=>{L($),typeof t=="function"&&t($),A($),I($)},[L,t,A,I]),B=w.useCallback($=>{E(vP($)),E($n({handler:s,reactEvent:$}))},[E,s]),F=w.useCallback($=>{E(Ry($)),E($n({handler:m,reactEvent:$}))},[E,m]),V=w.useCallback($=>{E(SO()),E($n({handler:h,reactEvent:$}))},[E,h]),W=w.useCallback($=>{E(Ry($)),E($n({handler:p,reactEvent:$}))},[E,p]),te=w.useCallback(()=>{E(jP())},[E]),K=w.useCallback($=>{E(SP($.key))},[E]),ae=w.useCallback($=>{E($n({handler:o,reactEvent:$}))},[E,o]),Ne=w.useCallback($=>{E($n({handler:u,reactEvent:$}))},[E,u]),ke=w.useCallback($=>{E($n({handler:d,reactEvent:$}))},[E,d]),se=w.useCallback($=>{E($n({handler:v,reactEvent:$}))},[E,v]),he=w.useCallback($=>{E($n({handler:S,reactEvent:$}))},[E,S]),pe=w.useCallback($=>{E(kP($)),E($n({handler:b,reactEvent:$}))},[E,b]),D=w.useCallback($=>{E($n({handler:x,reactEvent:$}))},[E,x]);return w.createElement(zO.Provider,{value:N},w.createElement(SL.Provider,{value:T},w.createElement("div",{className:$t("recharts-wrapper",n),style:FG({position:"relative",cursor:"default",width:k,height:i},j),onClick:B,onContextMenu:ae,onDoubleClick:Ne,onFocus:te,onKeyDown:K,onMouseDown:ke,onMouseEnter:F,onMouseLeave:V,onMouseMove:W,onMouseUp:se,onTouchEnd:D,onTouchMove:pe,onTouchStart:he,ref:q},r)))}),WG=["children","className","width","height","style","compact","title","desc"];function qG(e,t){if(e==null)return{};var r,n,i=HG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function HG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var KG=w.forwardRef((e,t)=>{var{children:r,className:n,width:i,height:s,style:o,compact:u,title:d,desc:m}=e,h=qG(e,WG),p=Gc(h);return u?w.createElement(AN,{otherAttributes:p,title:d,desc:m},r):w.createElement(VG,{className:n,style:o,width:i,height:s,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},w.createElement(AN,{otherAttributes:p,title:d,desc:m,ref:t},w.createElement(fY,null,r)))}),YG=["width","height"];function Dy(){return Dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dy.apply(null,arguments)}function GG(e,t){if(e==null)return{};var r,n,i=JG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function JG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var QG={top:5,right:5,bottom:5,left:5},XG={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:QG,reverseStackOrder:!1,syncMethod:"index"},ZG=w.forwardRef(function(t,r){var n,i=mi(t.categoricalChartProps,XG),{width:s,height:o}=i,u=GG(i,YG);if(!kf(s)||!kf(o))return null;var{chartName:d,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,categoricalChartProps:v}=t,x={chartName:d,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return w.createElement(AG,{preloadedState:{options:x},reduxStoreName:(n=v.id)!==null&&n!==void 0?n:d},w.createElement(rY,{chartData:v.data}),w.createElement(OG,{width:s,height:o,layout:i.layout,margin:i.margin}),w.createElement(PG,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),w.createElement(KG,Dy({},u,{width:s,height:o,ref:r})))}),eJ=["axis","item"],tJ=w.forwardRef((e,t)=>w.createElement(ZG,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:eJ,tooltipPayloadSearcher:m7,categoricalChartProps:e,ref:t}));const EP=["Bug","Change Request","Data Correction","Epic","Feature","Group","Issue","Other","Spike","Task","Test Case","User Story"];function rJ(){const e=window.location.origin,t=window.location.pathname,r=t.includes("/admin")?t.substring(0,t.indexOf("/admin")):t.includes("/voter")?t.substring(0,t.indexOf("/voter")):t;return`${e}${r}/admin`}const yn={clientId:"a6283b6c-2210-4d6c-bade-651acfdb6703",tenantId:"3bb4e039-9a0f-4671-9733-a9ae03d39395",get redirectUri(){return rJ()},scopes:["https://app.vssps.visualstudio.com/user_impersonation","offline_access"]};function nJ(){const e=new Uint8Array(32);return crypto.getRandomValues(e),CP(e)}async function iJ(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r);return CP(new Uint8Array(n))}function CP(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}async function sJ(e){const t=nJ(),r=await iJ(t);sessionStorage.setItem("pkce_verifier",t);const n=new URLSearchParams({client_id:yn.clientId,response_type:"code",redirect_uri:yn.redirectUri,response_mode:"query",scope:yn.scopes.join(" "),state:e,code_challenge:r,code_challenge_method:"S256"});return`https://login.microsoftonline.com/${yn.tenantId}/oauth2/v2.0/authorize?${n}`}async function aJ(e){const t=`https://login.microsoftonline.com/${yn.tenantId}/oauth2/v2.0/token`,r=sessionStorage.getItem("pkce_verifier");if(!r)throw new Error("Code verifier not found - PKCE flow incomplete");const n=new URLSearchParams({client_id:yn.clientId,scope:yn.scopes.join(" "),code:e,redirect_uri:yn.redirectUri,grant_type:"authorization_code",code_verifier:r}),i=await fetch(t,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n.toString()});if(!i.ok){const o=await i.json();throw console.error("Token exchange error:",o),new Error(`Failed to exchange code for tokens: ${o.error_description||o.error}`)}const s=await i.json();return sessionStorage.removeItem("pkce_verifier"),{accessToken:s.access_token,refreshToken:s.refresh_token,expiresIn:s.expires_in}}async function oJ(e){const t=`https://login.microsoftonline.com/${yn.tenantId}/oauth2/v2.0/token`,r=new URLSearchParams({client_id:yn.clientId,scope:yn.scopes.join(" "),refresh_token:e,grant_type:"refresh_token"}),n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:r.toString()});if(!n.ok){const s=await n.json();throw console.error("Token refresh error:",s),new Error(`Failed to refresh access token: ${s.error_description||s.error}`)}const i=await n.json();return{accessToken:i.access_token,expiresIn:i.expires_in}}async function AP(e,t){if(!e.accessToken||!e.organization||!e.project)throw new Error("Missing required configuration");const r=t||e.workItemType;if(!r)throw new Error("Missing work item type for state fetch");const n=encodeURIComponent(r),i=`https://dev.azure.com/${e.organization}/${e.project}/_apis/wit/workitemtypes/${n}?api-version=7.1`,s=await fetch(i,{headers:{Authorization:`Bearer ${e.accessToken}`,"Content-Type":"application/json"}});if(!s.ok)throw new Error(`Failed to fetch states: ${s.statusText}`);const o=await s.json();return o.states&&Array.isArray(o.states)?o.states.map(u=>u.name):[]}async function PN(e){const t=new Set;for(const r of EP)try{(await AP({...e,workItemType:r},r)).forEach(i=>{i&&t.add(i)})}catch(n){console.warn(`Failed to fetch states for type ${r}:`,n)}return Array.from(t).sort((r,n)=>r.localeCompare(n))}async function $y(e){if(!e.accessToken||!e.organization||!e.project)throw new Error("Missing required configuration");const t=`https://dev.azure.com/${e.organization}/${e.project}/_apis/wit/classificationnodes/areas?$depth=10&api-version=7.1`,r=await fetch(t,{headers:{Authorization:`Bearer ${e.accessToken}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error(`Failed to fetch area paths: ${r.statusText}`);const n=await r.json(),i=(s,o="")=>{const u=o?`${o}\\${s.name}`:s.name;let d=[u];return s.children&&s.children.length>0&&s.children.forEach(m=>{d=d.concat(i(m,u))}),d};return i(n)}async function lJ(e,t,r=[]){if(!e.accessToken||!e.organization||!e.project)throw new Error("Missing required configuration");if(!t)return $y(e);try{const n=[`[System.WorkItemType] = '${t}'`];if(r&&r.length>0)if(r.length===1)n.push(`[System.State] = '${r[0]}'`);else{const x=r.map(b=>`'${b}'`).join(", ");n.push(`[System.State] IN (${x})`)}const i=`SELECT [System.Id] FROM WorkItems WHERE ${n.join(" AND ")} ORDER BY [System.ChangedDate] DESC`,s=`https://dev.azure.com/${e.organization}/${e.project}/_apis/wit/wiql?api-version=7.1`,o=await fetch(s,{method:"POST",headers:{Authorization:`Bearer ${e.accessToken}`,"Content-Type":"application/json"},body:JSON.stringify({query:i})});if(!o.ok)return console.warn("Failed to fetch area paths by type/state, returning empty list"),[];const u=await o.json();if(!u.workItems||u.workItems.length===0)return[];const d=u.workItems.map(x=>x.id).slice(0,200);if(d.length===0)return[];const m=`https://dev.azure.com/${e.organization}/${e.project}/_apis/wit/workitems?ids=${d.join(",")}&fields=System.AreaPath&api-version=7.1`,h=await fetch(m,{headers:{Authorization:`Bearer ${e.accessToken}`,"Content-Type":"application/json"}});if(!h.ok)return console.warn("Failed to fetch work item area paths for filtered request"),[];const p=await h.json(),v=new Set;return p.value&&Array.isArray(p.value)&&p.value.forEach(x=>{var S;const b=(S=x.fields)==null?void 0:S["System.AreaPath"];b&&v.add(b)}),Array.from(v).sort()}catch(n){return console.error("Error fetching area paths for type/state:",n),[]}}async function cJ(e,t){if(!e.accessToken||!e.organization||!e.project)throw new Error("Missing required configuration");if(!t||t.length===0)return{types:[],areaPaths:[],tags:[]};try{const n=`SELECT [System.Id], [System.WorkItemType], [System.AreaPath] FROM WorkItems WHERE ${t.length===1?`[System.State] = '${t[0]}'`:`[System.State] IN (${t.map(b=>`'${b}'`).join(", ")})`} ORDER BY [System.ChangedDate] DESC`,i=`https://dev.azure.com/${e.organization}/${e.project}/_apis/wit/wiql?api-version=7.1`,s=await fetch(i,{method:"POST",headers:{Authorization:`Bearer ${e.accessToken}`,"Content-Type":"application/json"},body:JSON.stringify({query:n})});if(!s.ok)throw new Error(`Failed to fetch work items by state: ${s.statusText}`);const o=await s.json();if(!o.workItems||o.workItems.length===0)return{types:[],areaPaths:[],tags:[]};const u=o.workItems.map(b=>b.id).slice(0,200);if(u.length===0)return{types:[],areaPaths:[],tags:[]};const d=`https://dev.azure.com/${e.organization}/${e.project}/_apis/wit/workitems?ids=${u.join(",")}&fields=System.WorkItemType,System.AreaPath,System.Tags&api-version=7.1`,m=await fetch(d,{headers:{Authorization:`Bearer ${e.accessToken}`,"Content-Type":"application/json"}});if(!m.ok)return console.warn("Failed to fetch work item details for states filter"),{types:[],areaPaths:[],tags:[]};const h=await m.json(),p=new Set,v=new Set,x=new Set;return h.value&&Array.isArray(h.value)&&h.value.forEach(b=>{var E,N,A;const S=(E=b.fields)==null?void 0:E["System.WorkItemType"],j=(N=b.fields)==null?void 0:N["System.AreaPath"],k=(A=b.fields)==null?void 0:A["System.Tags"];S&&p.add(S),j&&v.add(j),k&&k.split(";").map(T=>T.trim()).forEach(T=>{T&&x.add(T)})}),{types:Array.from(p).sort((b,S)=>b.localeCompare(S)),areaPaths:Array.from(v).sort((b,S)=>b.localeCompare(S)),tags:Array.from(x).sort((b,S)=>b.localeCompare(S))}}catch(r){return console.error("Error fetching types and area paths for states:",r),{types:[],areaPaths:[],tags:[]}}}async function uJ(e,t){if(!e.accessToken||!e.organization||!e.project)throw new Error("Missing required configuration");try{const n=`SELECT [System.Id], [System.WorkItemType], [System.State] FROM WorkItems WHERE (${t.map(x=>`[System.AreaPath] UNDER '${x}'`).join(" OR ")}) ORDER BY [System.ChangedDate] DESC`,i=`https://dev.azure.com/${e.organization}/${e.project}/_apis/wit/wiql?api-version=7.1`,s=await fetch(i,{method:"POST",headers:{Authorization:`Bearer ${e.accessToken}`,"Content-Type":"application/json"},body:JSON.stringify({query:n})});if(!s.ok)throw new Error(`Failed to fetch work items: ${s.statusText}`);const o=await s.json();if(!o.workItems||o.workItems.length===0)return{types:[],states:[]};const u=o.workItems.map(x=>x.id).slice(0,200),d=`https://dev.azure.com/${e.organization}/${e.project}/_apis/wit/workitems?ids=${u.join(",")}&fields=System.WorkItemType,System.State&api-version=7.1`,m=await fetch(d,{headers:{Authorization:`Bearer ${e.accessToken}`,"Content-Type":"application/json"}});if(!m.ok)return console.warn("Failed to fetch work item details"),{types:[],states:[]};const h=await m.json(),p=new Set,v=new Set;return h.value&&Array.isArray(h.value)&&h.value.forEach(x=>{x.fields&&(x.fields["System.WorkItemType"]&&p.add(x.fields["System.WorkItemType"]),x.fields["System.State"]&&v.add(x.fields["System.State"]))}),{types:Array.from(p).sort(),states:Array.from(v).sort()}}catch(r){return console.error("Error fetching types and states for area path:",r),{types:[],states:[]}}}async function dJ(e,t){if(!e.accessToken||!e.organization||!e.project)throw new Error("Missing required configuration");try{const n=`SELECT [System.Id], [System.WorkItemType], [System.State] FROM WorkItems WHERE (${t.map(b=>`[System.Tags] CONTAINS '${b}'`).join(" OR ")}) ORDER BY [System.ChangedDate] DESC`,i=`https://dev.azure.com/${e.organization}/${e.project}/_apis/wit/wiql?api-version=7.1`,s=await fetch(i,{method:"POST",headers:{Authorization:`Bearer ${e.accessToken}`,"Content-Type":"application/json"},body:JSON.stringify({query:n})});if(!s.ok)throw new Error(`Failed to fetch work items: ${s.statusText}`);const o=await s.json();if(!o.workItems||o.workItems.length===0)return{types:[],states:[],areaPaths:[]};const u=o.workItems.map(b=>b.id).slice(0,200),d=`https://dev.azure.com/${e.organization}/${e.project}/_apis/wit/workitems?ids=${u.join(",")}&fields=System.WorkItemType,System.State,System.AreaPath&api-version=7.1`,m=await fetch(d,{headers:{Authorization:`Bearer ${e.accessToken}`,"Content-Type":"application/json"}});if(!m.ok)return console.warn("Failed to fetch work item details"),{types:[],states:[],areaPaths:[]};const h=await m.json(),p=new Set,v=new Set,x=new Set;return h.value&&Array.isArray(h.value)&&h.value.forEach(b=>{b.fields&&(b.fields["System.WorkItemType"]&&p.add(b.fields["System.WorkItemType"]),b.fields["System.State"]&&v.add(b.fields["System.State"]),b.fields["System.AreaPath"]&&x.add(b.fields["System.AreaPath"]))}),{types:Array.from(p).sort(),states:Array.from(v).sort(),areaPaths:Array.from(x).sort()}}catch(r){return console.error("Error fetching types and states for tags:",r),{types:[],states:[],areaPaths:[]}}}async function fJ(e,t,r,n){if(!e.accessToken||!e.organization||!e.project)throw new Error("Missing required configuration");try{const i=[];if(i.push(`[System.WorkItemType] = '${t}'`),r&&r.length>0)if(r.length===1)i.push(`[System.State] = '${r[0]}'`);else{const b=r.map(S=>`'${S}'`).join(", ");i.push(`[System.State] IN (${b})`)}if(n&&n.length>0)if(n.length===1)i.push(`[System.AreaPath] UNDER '${n[0]}'`);else{const b=n.map(S=>`[System.AreaPath] UNDER '${S}'`);i.push(`(${b.join(" OR ")})`)}const s=`SELECT [System.Id] FROM WorkItems WHERE ${i.join(" AND ")} ORDER BY [System.ChangedDate] DESC`,o=`https://dev.azure.com/${e.organization}/${e.project}/_apis/wit/wiql?api-version=7.1`,u=await fetch(o,{method:"POST",headers:{Authorization:`Bearer ${e.accessToken}`,"Content-Type":"application/json"},body:JSON.stringify({query:s})});if(!u.ok)return console.warn("Failed to fetch tags, returning empty array"),[];const d=await u.json();if(!d.workItems||d.workItems.length===0)return[];const m=d.workItems.map(b=>b.id).slice(0,200),h=`https://dev.azure.com/${e.organization}/${e.project}/_apis/wit/workitems?ids=${m.join(",")}&fields=System.Tags&api-version=7.1`,p=await fetch(h,{headers:{Authorization:`Bearer ${e.accessToken}`,"Content-Type":"application/json"}});if(!p.ok)return console.warn("Failed to fetch work item details for tags"),[];const v=await p.json(),x=new Set;return v.value&&Array.isArray(v.value)&&v.value.forEach(b=>{b.fields&&b.fields["System.Tags"]&&b.fields["System.Tags"].split(";").map(j=>j.trim()).forEach(j=>{j&&x.add(j)})}),Array.from(x).sort()}catch(i){return console.warn("Error fetching tags, returning empty array:",i),[]}}async function TN(e){if(!e.accessToken||!e.organization||!e.project)throw new Error("Missing required configuration");const t=new Set;try{const r=[];let n=null;do{let i=`https://dev.azure.com/${e.organization}/${e.project}/_apis/wit/tags?api-version=7.1`;n&&(i+=`&continuationToken=${encodeURIComponent(n)}`);const s=await fetch(i,{headers:{Authorization:`Bearer ${e.accessToken}`,"Content-Type":"application/json"}});if(!s.ok){console.warn("Failed to fetch tags page, aborting remaining pages");break}const o=await s.json();o.value&&Array.isArray(o.value)&&o.value.forEach(u=>{u&&u.name&&r.push(u.name)}),n=s.headers.get("x-ms-continuationtoken")}while(n);r.forEach(i=>t.add(i))}catch(r){console.warn("Error fetching tags, returning empty array:",r)}try{(await hJ(e)).forEach(n=>t.add(n))}catch(r){console.warn("Error fetching tags via WIQL fallback:",r)}return Array.from(t).sort((r,n)=>r.localeCompare(n))}async function hJ(e){const t={query:"SELECT [System.Id] FROM WorkItems WHERE [System.TeamProject] = @project ORDER BY [System.ChangedDate] DESC"},r=`https://dev.azure.com/${e.organization}/${e.project}/_apis/wit/wiql?api-version=7.1`,n=await fetch(r,{method:"POST",headers:{Authorization:`Bearer ${e.accessToken}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error(`Failed to fetch tags via WIQL: ${n.status}`);const i=await n.json();if(!i.workItems||i.workItems.length===0)return[];const s=i.workItems.map(h=>h.id).slice(0,200);if(s.length===0)return[];const o=`https://dev.azure.com/${e.organization}/${e.project}/_apis/wit/workitems?ids=${s.join(",")}&fields=System.Tags&api-version=7.1`,u=await fetch(o,{headers:{Authorization:`Bearer ${e.accessToken}`,"Content-Type":"application/json"}});if(!u.ok)throw new Error(`Failed to fetch work item details for tags via WIQL fallback: ${u.status}`);const d=await u.json(),m=new Set;return d.value&&Array.isArray(d.value)&&d.value.forEach(h=>{h.fields&&h.fields["System.Tags"]&&h.fields["System.Tags"].split(";").map(v=>v.trim()).forEach(v=>{v&&m.add(v)})}),Array.from(m)}function mJ(e){const t=new Date(e).getTime(),r=Date.now(),n=300*1e3;return t-r<n}async function pJ(){const e=new URLSearchParams(window.location.search),t=e.get("code"),r=e.get("state");if(!t)return null;const n=sessionStorage.getItem("oauth_state");if(r!==n)throw new Error("State mismatch - possible CSRF attack");const i=await aJ(t);return sessionStorage.removeItem("oauth_state"),i}async function gJ(){const e=Math.random().toString(36).substring(7);sessionStorage.setItem("oauth_state",e);const t=sessionStorage.getItem("currentSession");t&&sessionStorage.setItem("oauth_session_backup",t);const r=await sJ(e);window.location.href=r}async function IN(e){const{organization:t,project:r,workItemType:n,query:i,accessToken:s}=e;if(!s)throw new Error("Not authenticated with Azure DevOps");try{let o;i?o=`SELECT [System.Id] FROM WorkItems WHERE ${i}`:o=`SELECT [System.Id] FROM WorkItems WHERE [System.WorkItemType] = '${n}' AND [System.State] = 'Active'`;const u=`https://dev.azure.com/${t}/${r}/_apis/wit/wiql?api-version=7.0`,d=await fetch(u,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({query:o})});if(!d.ok)throw new Error(`Azure DevOps query failed: ${d.status} ${d.statusText}`);const h=(await d.json()).workItems.map(N=>N.id);if(h.length===0)return[];const p=["System.Id","System.Title","System.Description","System.Tags","System.WorkItemType","System.State","Microsoft.VSTS.Common.Priority","System.AreaPath","System.IterationPath"].join(","),v=200,x=[];for(let N=0;N<h.length;N+=v){const T=h.slice(N,N+v).join(","),I=`https://dev.azure.com/${t}/${r}/_apis/wit/workitems?ids=${T}&fields=${p}&api-version=7.0`,L=await fetch(I,{headers:{Authorization:`Bearer ${s}`}});if(!L.ok)throw new Error(`Failed to fetch work items: ${L.status} ${L.statusText}`);const q=await L.json();q.value&&Array.isArray(q.value)&&x.push(...q.value)}if(x.length===0)return[];const b=new Map,S=new Map,j=new Map,k=10;for(let N=0;N<x.length;N+=k){const A=x.slice(N,N+k);await Promise.all(A.map(async T=>{try{const I=`https://dev.azure.com/${t}/${r}/_apis/wit/workitems/${T.id}?$expand=relations&api-version=7.0`,L=await fetch(I,{headers:{Authorization:`Bearer ${s}`}});if(L.ok){const q=await L.json();if(q.relations){for(const B of q.relations)if(B.rel==="System.LinkTypes.Hierarchy-Forward"){const F=B.url.match(/\/work[iI]tems\/(\d+)(?:\?|$|\/)/i);if(F){const V=parseInt(F[1],10);b.set(T.id,V),console.log(`Work item ${T.id} has parent ${V}`)}}}}}catch(I){console.error(`Error fetching relations for work item ${T.id}:`,I)}}))}const E=Array.from(new Set(b.values()));if(E.length>0){const N=E.slice(0,200).join(","),A=["System.Id","System.Title","System.WorkItemType"].join(","),T=`https://dev.azure.com/${t}/${r}/_apis/wit/workitems?ids=${N}&fields=${A}&api-version=7.0`;try{const I=await fetch(T,{headers:{Authorization:`Bearer ${s}`}});if(I.ok){const L=await I.json();for(const q of L.value)j.set(q.id,q.fields["System.Title"]||""),q.fields["System.WorkItemType"]==="Epic"&&(S.set(q.id,q.fields["System.Title"]||""),console.log(`Found Epic ${q.id}: ${q.fields["System.Title"]}`))}}catch(I){console.error("Error fetching parent work items:",I)}}return x.map(N=>{let A=null;const T=b.get(N.id);if(T)if(A=S.get(T)||null,A)console.log(`Work item ${N.id} has Epic from parent ${T}: ${A}`);else{const I=j.get(T);console.log(`Work item ${N.id} has parent ${T} (${I}) but it's not an Epic type`)}if(!A&&N.fields){const L=["System.Epic","Epic","Microsoft.VSTS.Common.Epic","Custom.Epic","EpicLink","EpicName",...Object.keys(N.fields).filter(q=>q.toLowerCase().includes("epic")&&!["System.Epic","Epic","Microsoft.VSTS.Common.Epic","Custom.Epic","EpicLink","EpicName"].includes(q))];for(const q of L){const B=N.fields[q];if(B!=null){if(typeof B=="string"&&B.trim()!==""){const F=parseInt(B.trim());if(!isNaN(F)&&F>0){if(A=S.get(F)||null,A){console.log(`Work item ${N.id} has Epic ID ${F} from field ${q}: ${A}`);break}}else{A=B.trim(),console.log(`Work item ${N.id} has Epic name from field ${q}: ${A}`);break}}else if(typeof B=="number"&&(A=S.get(B)||null,A)){console.log(`Work item ${N.id} has Epic ID ${B} from field ${q}: ${A}`);break}}}}return A||console.log(`Work item ${N.id} (${N.fields["System.Title"]}) has no Epic found`),{id:N.id,fields:{"System.Title":N.fields["System.Title"],"System.Description":N.fields["System.Description"],"System.Tags":N.fields["System.Tags"],"System.WorkItemType":N.fields["System.WorkItemType"],"System.State":N.fields["System.State"],"Microsoft.VSTS.Common.Priority":N.fields["Microsoft.VSTS.Common.Priority"],"System.AreaPath":N.fields["System.AreaPath"],"System.IterationPath":N.fields["System.IterationPath"],Epic:A||void 0},url:`https://dev.azure.com/${t}/${r}/_workitems/edit/${N.id}`}})}catch(o){throw console.error("Error fetching from Azure DevOps:",o),o}}function RN(e){return e.map(t=>{let r;const n=t.fields.Epic,i=t.fields["System.WorkItemType"];if(n&&typeof n=="string"&&n.trim()!==""){const d=n.trim();d!==i&&d!=="Epic"&&d.toLowerCase()!=="epic"?(r=d,console.log(`Work item ${t.id} converted - Epic: "${r}"`)):console.warn(`Work item ${t.id} has epic field "${d}" which matches work item type "${i}" - ignoring`)}!r&&i!=="Epic"&&console.log(`Work item ${t.id} (${t.fields["System.Title"]}) has no Epic assigned`);const o=(t.fields["System.Description"]||"").replace(/<[^>]*>/g,"").trim(),u=t.fields["System.Title"]||"Untitled";return r&&u===r&&console.warn(`Work item ${t.id}: Title "${u}" matches Epic name "${r}" - this may indicate a data issue`),{id:`ado-${t.id}`,title:u,description:o,votes:0,voters:[],epic:r||void 0,state:t.fields["System.State"]||void 0,areaPath:t.fields["System.AreaPath"]||void 0,tags:t.fields["System.Tags"]?t.fields["System.Tags"].split(";").map(d=>d.trim()).filter(d=>d):[],azureDevOpsId:t.id.toString(),azureDevOpsUrl:t.url,workItemType:i||void 0}})}function vJ({config:e,onConnect:t,onCancel:r,isFetching:n,error:i,onPrefetchAllCombinations:s}){const{register:o,handleSubmit:u,formState:{errors:d}}=Kc({defaultValues:{organization:e.organization||"newmill",project:e.project||"Product"}}),m=async h=>{t(h.organization,h.project),s&&setTimeout(async()=>{try{await s()}catch(p){console.error("Error pre-fetching combinations:",p)}},1e3)};return c.jsxs("form",{onSubmit:u(m),className:"bg-blue-50 p-4 rounded-lg",children:[c.jsxs("h3",{className:"text-lg font-medium mb-4 text-[#2d4660] flex items-center",children:[c.jsx(qv,{className:"h-5 w-5 mr-2"}),"Connect to Azure DevOps"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization Name *"}),c.jsx("input",{...o("organization",{required:"Organization name is required"}),placeholder:"your-organization",className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),d.organization&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.organization.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Name *"}),c.jsx("input",{...o("project",{required:"Project name is required"}),placeholder:"your-project",className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),d.project&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.project.message})]})]}),i&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-md",children:c.jsxs("p",{className:"flex items-center",children:[c.jsx(Xt,{className:"h-4 w-4 mr-2"}),i]})}),c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsx(wt,{variant:"secondary",onClick:r,disabled:n,children:"Cancel"}),c.jsxs(wt,{variant:"primary",type:"submit",disabled:n,className:"flex items-center",children:[n&&c.jsx(qc,{className:"animate-spin h-4 w-4 mr-2"}),n?"Connecting...":"Connect with Azure DevOps"]})]})]})}function zd({options:e,value:t,onChange:r,placeholder:n="Select...",label:i,searchable:s=!1,disabled:o=!1}){const[u,d]=w.useState(!1),[m,h]=w.useState(""),p=w.useRef(null),v=w.useRef(null);w.useEffect(()=>{function k(E){p.current&&!p.current.contains(E.target)&&(d(!1),h(""))}return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]),w.useEffect(()=>{u&&s&&v.current&&v.current.focus()},[u,s]);const x=k=>{t.includes(k)?r(t.filter(E=>E!==k)):r([...t,k])},b=(k,E)=>{E.stopPropagation(),r(t.filter(N=>N!==k))},S=k=>{k.stopPropagation(),r([])},j=s&&m?e.filter(k=>k.toLowerCase().includes(m.toLowerCase())):e;return c.jsxs("div",{ref:p,className:"relative",children:[i&&c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i}),c.jsxs("div",{onClick:()=>!o&&d(!u),className:`w-full px-3 py-2 border border-gray-300 rounded-md min-h-[38px] flex items-center justify-between ${o?"bg-gray-100 cursor-not-allowed":"bg-white cursor-pointer"}`,children:[c.jsx("div",{className:"flex-1 flex flex-wrap gap-1",children:t.length===0?c.jsx("span",{className:"text-sm text-gray-400",children:n}):t.map(k=>c.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:[k,!o&&c.jsx("button",{type:"button",onClick:E=>b(k,E),className:"ml-1 hover:text-blue-900",children:c.jsx(Oi,{className:"h-3 w-3"})})]},k))}),c.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[t.length>0&&!o&&c.jsx("button",{type:"button",onClick:S,className:"text-gray-400 hover:text-gray-600",children:c.jsx(Oi,{className:"h-4 w-4"})}),c.jsx(yc,{className:`h-4 w-4 text-gray-400 transition-transform ${u?"transform rotate-180":""}`})]})]}),u&&!o&&c.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-hidden flex flex-col",children:[s&&c.jsx("div",{className:"p-2 border-b border-gray-200",children:c.jsx("input",{ref:v,type:"text",value:m,onChange:k=>h(k.target.value),onClick:k=>k.stopPropagation(),placeholder:"Type to search...",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),c.jsx("div",{className:"overflow-y-auto",children:j.length>0?j.map(k=>c.jsxs("div",{onClick:()=>x(k),className:`px-3 py-2 cursor-pointer hover:bg-gray-50 flex items-center justify-between ${t.includes(k)?"bg-blue-50":""}`,children:[c.jsx("span",{className:"text-sm",children:k}),t.includes(k)&&c.jsx(Fn,{className:"h-4 w-4 text-blue-600"})]},k)):c.jsx("div",{className:"px-3 py-2 text-sm text-gray-500 text-center",children:"No matches found"})})]})]})}function yJ({config:e,onUpdateConfig:t,onPreview:r,isFetching:n,availableStates:i,availableAreaPaths:s,availableTags:o,previewFeatures:u,showPreviewModal:d,onFetchStatesForType:m,onFetchAreaPathsForTypeAndState:h,onFetchTagsForTypeStateAndAreaPath:p,onFetchTypesAndStatesForAreaPath:v,onFetchTypesAndStatesForTags:x,onFetchTypesAndAreaPathsForStates:b}){const S=EP,[j,k]=w.useState(!1),[E,N]=w.useState(null),[A,T]=w.useState(!1),[I,L]=w.useState(!1),[q,B]=w.useState(!1),F=w.useRef(null),V=w.useRef(!1),W=w.useRef(null),te=w.useRef(null),K=w.useRef(null),ae=w.useRef(!1),Ne={workItemTypes:[],states:[],areaPaths:[],tags:[],query:""},{register:ke,handleSubmit:se,watch:he,control:pe,setValue:D,reset:$}=Kc({defaultValues:Ne}),ee=w.useCallback(async(ce,O)=>{if(h){L(!0);try{await h(ce,O)}finally{L(!1)}}},[h]),_e=w.useRef(null),re=w.useCallback(async(ce,O,z)=>{if(!p)return;const Y=(O||[]).slice().sort(),le=(z||[]).slice().sort(),fe={type:ce,states:Y,areaPaths:le},J=JSON.stringify(fe);if(!(te.current===J&&_e.current)){te.current=J,_e.current=fe,B(!0);try{await p(ce,Y,le)}finally{B(!1)}}},[p]),je=w.useCallback(async ce=>!b||ce.length===0?[]:(await b(ce)).types||[],[b]);w.useEffect(()=>{try{localStorage.removeItem("azureDevOps_filters")}catch(ce){console.error("Error clearing saved filters:",ce)}},[]);const ue=he("workItemTypes"),ye=he("states"),X=he("areaPaths"),xe=he("tags"),$e=he("query"),ie=w.useCallback((ce,O,z,Y,le,fe)=>{const J=[];if(ce&&ce.length>0)if(ce.length===1)J.push(`[System.WorkItemType] = '${ce[0]}'`);else{const be=ce.map(Fe=>`'${Fe}'`).join(", ");J.push(`[System.WorkItemType] IN (${be})`)}if(O&&O.length>0)if(O.length===1)J.push(`[System.State] = '${O[0]}'`);else{const be=O.map(Fe=>`'${Fe}'`).join(", ");J.push(`[System.State] IN (${be})`)}if(z&&z.length>0)if(z.length===1)J.push(`[System.AreaPath] UNDER '${z[0]}'`);else{const be=z.map(Fe=>`[System.AreaPath] UNDER '${Fe}'`);J.push(`(${be.join(" OR ")})`)}if(Y&&Y.length>0){const be=Y.map(Fe=>`[System.Tags] CONTAINS '${Fe}'`);J.push(`(${be.join(" OR ")})`)}return fe&&le&&J.push(`(${le})`),J.length>0?J.join(" AND "):void 0},[]),Ae=w.useRef(ue),Ke=w.useRef(ye),nt=w.useRef(X),at=w.useRef(xe),de=w.useRef(!1),Me=w.useRef(!1);w.useEffect(()=>{const ce=JSON.stringify(Ae.current)!==JSON.stringify(ue);if(!m){Ae.current=ue||[];return}if(!ue||ue.length===0){ce&&(D("states",[]),D("areaPaths",[]),D("tags",[]),W.current=null,te.current=null),!Me.current&&!de.current&&(m(void 0),ee(void 0,[]),re(void 0,[],[])),Ae.current=ue||[];return}ce&&!Me.current&&!de.current&&!ae.current&&(D("states",[]),D("areaPaths",[]),D("tags",[]),W.current=null,te.current=null,m(ue[0]),ee(ue[0],ye||[]),re(ue[0],ye||[],X||[])),Ae.current=ue||[]},[ue,ye,X,m,ee,re,D]),w.useEffect(()=>{const ce=JSON.stringify(Ke.current)!==JSON.stringify(ye);if(h)if(ue&&ue.length>0){if(ce){const O=Ke.current&&Ke.current.length>0;!(ye&&ye.length>0)&&O&&!Me.current&&!de.current&&(D("areaPaths",[]),D("tags",[])),Ke.current=ye||[]}if(!Me.current&&!de.current){const O=JSON.stringify({type:ue[0],states:(ye||[]).slice().sort()});W.current!==O&&(W.current=O,ee(ue[0],ye||[]))}}else{if(Ke.current=ye||[],!Me.current&&!de.current){const Y=JSON.stringify({type:null,states:[]});W.current!==Y&&(W.current=Y,ee(void 0,[]))}(!ye||ye.length===0)&&(K.current=null);const O=ye&&ye.length>0,z=!ue||ue.length===0;if(O&&z&&!ae.current&&b){const Y=JSON.stringify((ye||[]).slice().sort());K.current!==Y&&(K.current=Y,ae.current=!0,je(ye||[]).then(le=>{le.length>0&&(D("workItemTypes",le,{shouldDirty:!0,shouldValidate:!0}),Ae.current=le)}).catch(le=>{console.error("Error fetching types for states:",le)}).finally(()=>{setTimeout(()=>{ae.current=!1},300)}))}}},[ue,ye,h,b,ee,je,D]),w.useEffect(()=>{if(JSON.stringify(nt.current)!==JSON.stringify(X)&&!Me.current){const O=nt.current&&nt.current.length>0;!(X&&X.length>0)&&O&&D("tags",[])}if(p&&ue&&ue.length>0){if(!de.current){const O=setTimeout(()=>{re(ue[0],ye||[],X||[])},100);return()=>{clearTimeout(O),B(!1)}}}else p&&!de.current&&re(void 0,[],[])},[ue,ye,X,p,re,D]),w.useEffect(()=>{const ce=nt.current||[],O=X||[],z=[...ce].sort(),Y=[...O].sort(),le=JSON.stringify(z),fe=JSON.stringify(Y),J=le!==fe;if(J&&v&&!de.current){const be=ue&&ue.length>0,Fe=ye&&ye.length>0,ot=!be&&!Fe;X&&X.length>0&&ot?(Me.current=!0,v(X).then(({types:ut,states:tr})=>{setTimeout(()=>{ut.length>0&&(D("workItemTypes",ut,{shouldDirty:!0,shouldValidate:!0}),Ae.current=ut),tr.length>0&&(D("states",tr,{shouldDirty:!0,shouldValidate:!0}),Ke.current=tr),m&&ut.length>0&&setTimeout(()=>{m(ut[0])},100),(!xe||xe.length===0)&&D("tags",[],{shouldDirty:!0,shouldValidate:!0}),nt.current=O,setTimeout(()=>{Me.current=!1},1e3)},50)}).catch(ut=>{console.error("[FilterForm] Error fetching types and states for area path:",ut),Me.current=!1,nt.current=O})):(nt.current=O,Me.current=!1)}else J?(nt.current=O,de.current=!1):J||(nt.current=O)},[X,ue,ye,xe,v,m,D]),w.useEffect(()=>{const ce=at.current||[],O=xe||[],z=JSON.stringify(ce)!==JSON.stringify(O);z&&x&&!Me.current?xe&&xe.length>0?(de.current=!0,at.current=O,x(xe).then(({types:Y,states:le,areaPaths:fe})=>{setTimeout(()=>{Y.length>0&&(D("workItemTypes",Y,{shouldDirty:!0,shouldValidate:!0}),Ae.current=Y),le.length>0&&(D("states",le,{shouldDirty:!0,shouldValidate:!0}),Ke.current=le),fe.length>0&&(D("areaPaths",fe,{shouldDirty:!0,shouldValidate:!0}),nt.current=fe),m&&Y.length>0&&setTimeout(()=>{m(Y[0])},100),h&&Y.length>0&&setTimeout(()=>{h(Y[0],le||[])},150),setTimeout(()=>{de.current=!1},1e3)},50)}).catch(Y=>{console.error("[FilterForm] Error fetching types, states, and area paths for tags:",Y),de.current=!1})):(de.current=!1,at.current=O,ue&&ue.length>0&&m&&m(ue[0])):z&&(at.current=O,Me.current=!1)},[xe,X,x,ue,m,h,D]),w.useEffect(()=>{if(ye&&ye.length>0&&i.length>0){if(ye.filter(O=>!i.includes(O)).length>0){const O=ye.filter(z=>i.includes(z));O.length>0?D("states",O):D("states",[])}}else ye&&ye.length>0&&i.length},[i,ye,D]),w.useEffect(()=>{if(X&&X.length>0&&s.length>0){if(X.filter(O=>!s.includes(O)).length>0){const O=X.filter(z=>s.includes(z));O.length>0?D("areaPaths",O):D("areaPaths",[]),O.length===0&&D("tags",[])}}else X&&X.length>0&&s.length},[s,X,D]),w.useEffect(()=>{if(xe&&xe.length>0&&o.length>0){if(xe.filter(O=>!o.includes(O)).length>0){const O=xe.filter(z=>o.includes(z));O.length>0?D("tags",O):D("tags",[])}}else xe&&xe.length>0&&o.length},[o,xe,D]);const et=w.useCallback(async()=>{if(!e.enabled||!e.accessToken||!ue||ue.length===0){N(null);return}try{T(!0);const ce=ue[0],O=ie(ue||[],ye||[],X||[],xe||[],$e||"",j);let z="";O?z=`SELECT [System.Id] FROM WorkItems WHERE ${O}`:z=`SELECT [System.Id] FROM WorkItems WHERE [System.WorkItemType] = '${ce}' AND [System.State] = 'Active'`;const Y=`https://dev.azure.com/${e.organization}/${e.project}/_apis/wit/wiql?api-version=7.0`,le=await fetch(Y,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.accessToken}`},body:JSON.stringify({query:z})});if(!le.ok)throw new Error(`Azure DevOps query failed: ${le.status} ${le.statusText}`);const fe=await le.json(),J=fe.workItems?fe.workItems.length:0;N(J)}catch(ce){console.error("[FilterForm] Error fetching feature count:",ce),N(null)}finally{T(!1)}},[e,ue,ye,X,xe,$e,j,ie]);w.useEffect(()=>(F.current!==null&&window.clearTimeout(F.current),N(null),ue&&ue.length>0&&e.enabled&&e.accessToken&&(F.current=window.setTimeout(()=>{et()},300)),()=>{F.current!==null&&window.clearTimeout(F.current)}),[ue,ye,X,xe,$e,j,e.enabled,e.accessToken,et]),w.useEffect(()=>{if(d&&!V.current&&u){const ce=u.length;N(ce)}V.current=d||!1},[d,u]),w.useEffect(()=>{u&&u.length>0&&!A&&N(u.length)},[u,A]),w.useEffect(()=>{const ce=ie(ue||[],ye||[],X||[],xe||[],$e||"",j),O={...e,workItemType:ue&&ue.length>0?ue[0]:e.workItemType||"Feature",query:ce,states:ye&&ye.length>0?ye:void 0,areaPath:X&&X.length>0?X[0]:void 0,tags:xe&&xe.length>0?xe:void 0},z=window.setTimeout(()=>{t(O)},100);return()=>{window.clearTimeout(z)}},[ue,ye,X,xe,$e,j,ie,t]);const Pt=async ce=>{const O=[];if(ce.workItemTypes&&ce.workItemTypes.length>0)if(ce.workItemTypes.length===1)O.push(`[System.WorkItemType] = '${ce.workItemTypes[0]}'`);else{const le=ce.workItemTypes.map(fe=>`'${fe}'`).join(", ");O.push(`[System.WorkItemType] IN (${le})`)}if(ce.states&&ce.states.length>0)if(ce.states.length===1)O.push(`[System.State] = '${ce.states[0]}'`);else{const le=ce.states.map(fe=>`'${fe}'`).join(", ");O.push(`[System.State] IN (${le})`)}if(ce.areaPaths&&ce.areaPaths.length>0)if(ce.areaPaths.length===1)O.push(`[System.AreaPath] UNDER '${ce.areaPaths[0]}'`);else{const le=ce.areaPaths.map(fe=>`[System.AreaPath] UNDER '${fe}'`);O.push(`(${le.join(" OR ")})`)}if(ce.tags&&ce.tags.length>0){const le=ce.tags.map(fe=>`[System.Tags] CONTAINS '${fe}'`);O.push(`(${le.join(" OR ")})`)}j&&ce.query&&O.push(`(${ce.query})`);const z=O.length>0?O.join(" AND "):void 0,Y={...e,workItemType:ce.workItemTypes&&ce.workItemTypes.length>0?ce.workItemTypes[0]:"Feature",query:z,states:ce.states&&ce.states.length>0?ce.states:void 0,areaPath:ce.areaPaths&&ce.areaPaths.length>0?ce.areaPaths[0]:void 0,tags:ce.tags&&ce.tags.length>0?ce.tags:void 0};t(Y),await r()};return c.jsxs("form",{onSubmit:se(Pt),className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-medium text-[#2d4660] flex items-center",children:[c.jsx(i6,{className:"h-5 w-5 mr-2"}),"Filter Work Items"]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{type:"button",onClick:()=>{$(Ne),k(!1),W.current=null,te.current=null,K.current=null,Me.current=!1,de.current=!1,ae.current=!1},className:"text-xs text-[#576C71] hover:text-[#2d4660] font-medium border border-transparent hover:border-[#576C71] rounded-full px-2 py-0.5 transition",children:"Clear All Filters"}),c.jsx("button",{type:"button",onClick:()=>k(!j),className:"text-xs text-[#1E5461] hover:text-[#2d4660] font-medium",children:j?" Hide Advanced WIQL":"Show Advanced WIQL "})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Work Item Type"}),c.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold text-white",style:{backgroundColor:"#2d4660"},children:S.length})]}),c.jsx(jd,{name:"workItemTypes",control:pe,render:({field:ce})=>c.jsx(zd,{options:S,value:ce.value,onChange:ce.onChange,placeholder:"Select types..."})}),c.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Click to select multiple types"})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"State (Optional)"}),c.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold text-white",style:{backgroundColor:"#1E5461"},children:(i==null?void 0:i.length)||0})]}),c.jsx(jd,{name:"states",control:pe,render:({field:ce})=>c.jsx(zd,{options:i,value:ce.value,onChange:ce.onChange,placeholder:"Select states...",disabled:i.length===0})}),c.jsx("p",{className:"mt-1 text-xs text-gray-500",children:i.length===0?"Loading states...":"Filtered by work item type"})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Area Path (Optional)"}),c.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold text-white",style:{backgroundColor:"#576C71"},children:(s==null?void 0:s.length)||0})]}),c.jsx(jd,{name:"areaPaths",control:pe,render:({field:ce})=>c.jsx(zd,{options:s,value:ce.value,onChange:ce.onChange,placeholder:"Select area paths...",searchable:!0,disabled:s.length===0})}),c.jsx("p",{className:"mt-1 text-xs text-gray-500",children:I?"Loading area paths...":s.length===0?"No area paths found for current filters":"Filtered by type & state"})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Tags (Optional)"}),c.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold text-white",style:{backgroundColor:"#C89212"},children:(o==null?void 0:o.length)||0})]}),c.jsx(jd,{name:"tags",control:pe,render:({field:ce})=>c.jsx(zd,{options:o,value:ce.value,onChange:ce.onChange,placeholder:"Select tags...",searchable:!0,disabled:o.length===0&&!q})}),c.jsx("p",{className:"mt-1 text-xs text-gray-500",children:!ue||ue.length===0?"Select work item type to see tags":q?"Loading tags...":o.length===0?"No tags found for current filters":"Filtered by type, state & area"})]})]}),j&&c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Advanced WIQL Query (Optional)"}),c.jsx("input",{...ke("query"),placeholder:"e.g., [System.Priority] = 1",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"}),c.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Will be combined with above filters using AND."," ",c.jsx("a",{href:"https://learn.microsoft.com/en-us/azure/devops/boards/queries/wiql-syntax",target:"_blank",rel:"noopener noreferrer",className:"text-[#1E5461] hover:text-[#2d4660]",children:"WIQL syntax reference "})]})]}),c.jsx("div",{className:"flex justify-end",children:c.jsxs(wt,{variant:"gold",type:"submit",disabled:(()=>{const ce=((ue==null?void 0:ue.length)??0)>0,O=((ye==null?void 0:ye.length)??0)>0,z=((X==null?void 0:X.length)??0)>0,Y=((xe==null?void 0:xe.length)??0)>0,le=$e&&$e.trim().length>0;return n||A||!(ce||O||z||Y||le)})(),className:"flex items-center",children:[n&&c.jsx(qc,{className:"animate-spin h-4 w-4 mr-2"}),n?"Loading...":E!==null&&!A?`Preview ${E} Feature${E!==1?"s":""}`:"Preview Features"]})})]})}function xJ({session:e,featureCount:t,onSubmit:r,onCancel:n}){const{register:i,handleSubmit:s,watch:o,formState:{errors:u}}=Kc({defaultValues:{title:e.title,goal:e.goal,startDate:e.startDate.split("T")[0],endDate:e.endDate.split("T")[0],useAutoVotes:e.useAutoVotes||!1,votesPerUser:e.votesPerUser}}),d=o("useAutoVotes"),m=d?Math.max(1,Math.floor(t/2)):o("votesPerUser");return c.jsxs("form",{onSubmit:s(r),children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Session Title"}),c.jsx("input",{...i("title",{required:"Title is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),u.title&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.title.message})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Goal"}),c.jsx("textarea",{...i("goal",{required:"Goal is required"}),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),u.goal&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.goal.message})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),c.jsx("input",{type:"date",...i("startDate",{required:"Start date is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),u.startDate&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.startDate.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),c.jsx("input",{type:"date",...i("endDate",{required:"End date is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),u.endDate&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.endDate.message})]})]}),c.jsxs("div",{className:"mb-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-start",children:[c.jsx("input",{type:"checkbox",...i("useAutoVotes"),className:"mt-1 h-4 w-4 text-blue-600 border-gray-300 rounded"}),c.jsxs("div",{className:"ml-3",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Automatically calculate votes per user"}),c.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Each user gets half the number of features (minimum 1 vote). Currently: ",m," votes"]})]})]}),!d&&c.jsxs("div",{className:"mt-3",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Votes Per User"}),c.jsx("input",{type:"number",min:"1",...i("votesPerUser",{required:d?!1:"Votes per user is required",min:{value:1,message:"Must be at least 1"}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),u.votesPerUser&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.votesPerUser.message})]})]}),c.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[c.jsx(wt,{variant:"secondary",type:"button",onClick:n,children:"Cancel"}),c.jsx(wt,{variant:"primary",type:"submit",children:"Save Changes"})]})]})}function wJ({features:e,onAddFeature:t,onUpdateFeature:r,onDeleteFeature:n,onShowResults:i,showAddForm:s,setShowAddForm:o,editingFeature:u,setEditingFeature:d,onLogout:m,votingSession:h,azureDevOpsConfig:p,onUpdateAzureDevOpsConfig:v,showAzureDevOpsForm:x,setShowAzureDevOpsForm:b,onFetchAzureDevOpsFeatures:S,onPreviewAzureDevOpsFeatures:j,onDisconnectAzureDevOps:k,isFetchingAzureDevOps:E,azureFetchError:N,onInitiateOAuth:A,availableStates:T,availableAreaPaths:I,availableTags:L,previewFeatures:q,showPreviewModal:B,setShowPreviewModal:F,onConfirmSync:V,hasImportedFeatures:W,setHasImportedFeatures:te,onShowVoterView:K,onUpdateVotingSession:ae,onFetchStatesForType:Ne,onFetchAreaPathsForTypeAndState:ke,onFetchTagsForTypeStateAndAreaPath:se,onFetchTypesAndStatesForAreaPath:he,onFetchTypesAndStatesForTags:pe,onFetchTypesAndAreaPathsForStates:D,onPrefetchAllCombinations:$}){const ee=Sn(),{currentUser:_e}=Ri(),[re,je]=w.useState(!1),[ue,ye]=w.useState(!1),{register:X,handleSubmit:xe,reset:$e}=Kc({defaultValues:{reason:"",details:""}});Ix(h.endDate);const ie=h.isActive?c.jsx("span",{className:"text-[#1E5461] font-medium",children:"Active"}):Ra(h.endDate)?c.jsx("span",{className:"text-[#591D0F] font-medium",children:"Closed"}):c.jsx("span",{className:"text-[#C89212] font-medium",children:"Upcoming"}),Ae=de=>{const Me={title:de.title,goal:de.goal,votesPerUser:de.useAutoVotes?Math.max(1,Math.floor(e.length/2)):Number(de.votesPerUser),useAutoVotes:de.useAutoVotes,startDate:new Date(de.startDate).toISOString(),endDate:new Date(de.endDate+"T23:59:59").toISOString(),isActive:h.isActive};ae(Me),je(!1)},Ke=de=>{const Me=new Date().toISOString(),et={...h,originalEndDate:h.endDate,endDate:Me,isActive:!1,endedEarlyBy:(_e==null?void 0:_e.name)||"Admin",endedEarlyReason:de.reason,endedEarlyDetails:de.details||void 0};ae(et),ye(!1),$e()},nt=()=>{const de=new Date;de.setDate(de.getDate()+7);const Me={...h,endDate:de.toISOString(),isActive:!0,originalEndDate:void 0,endedEarlyBy:void 0,endedEarlyReason:void 0,endedEarlyDetails:void 0};ae(Me)},at=async(de,Me)=>{const et={...p,organization:de,project:Me};v(et),A()};return c.jsxs("div",{className:"container mx-auto p-4 max-w-6xl min-h-screen pb-8",children:[c.jsx("div",{className:"hidden md:flex md:justify-center mb-2 cursor-pointer",onClick:()=>ee("/sessions"),children:c.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"-mt-4",style:{height:"96px",width:"auto"}})}),c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx($h,{src:"https://media.licdn.com/dms/image/C4D0BAQEC3OhRqehrKg/company-logo_200_200/0/1630518354793/new_millennium_building_systems_logo?e=2147483647&v=beta&t=LM3sJTmQZet5NshZ-RNHXW1MMG9xSi1asp-VUeSA9NA",alt:"New Millennium Building Systems Logo",className:"mr-4 md:hidden",style:{width:"40px",height:"40px"}}),c.jsx("h1",{className:"text-2xl font-bold text-[#2d4660] md:text-3xl",children:"Admin Dashboard"})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs("button",{onClick:K,className:"flex items-center px-4 py-2 bg-[#576C71] text-white rounded-lg hover:bg-[#1E5461] transition-colors",children:[c.jsx(Zr,{className:"mr-2 h-4 w-4"}),c.jsx("span",{className:"hidden md:inline",children:"Voter View"})]}),c.jsxs("button",{onClick:()=>ee("/users?filter=stakeholder"),className:"flex items-center px-4 py-2 bg-[#2d4660] text-white rounded-lg hover:bg-[#173B65] transition-colors",children:[c.jsx(pn,{className:"mr-2 h-4 w-4"}),c.jsx("span",{className:"hidden md:inline",children:"Stakeholders"})]}),c.jsxs("button",{onClick:()=>ee("/users?filter=session-admin"),className:"flex items-center px-4 py-2 bg-[#2d4660] text-white rounded-lg hover:bg-[#173B65] transition-colors",children:[c.jsx(Xr,{className:"mr-2 h-4 w-4"}),c.jsx("span",{className:"hidden md:inline",children:"Session Admins"})]}),c.jsxs("button",{onClick:m,className:"flex items-center px-4 py-2 bg-[#576C71] text-white rounded-lg hover:bg-[#1E5461] transition-colors",children:[c.jsx(Cr,{className:"mr-2 h-4 w-4"}),c.jsx("span",{className:"hidden md:inline",children:"Logout"})]})]})]}),c.jsxs("div",{className:"relative bg-white rounded-lg shadow-md p-4 mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-[#2d4660]",children:"Current Session"}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs(wt,{variant:"gold",onClick:i,className:"flex items-center",children:[c.jsx(YE,{className:"h-4 w-4 mr-2"}),Ra(h.endDate)?"Final Results":"Current Results"]}),c.jsxs(wt,{variant:"primary",onClick:()=>je(!0),className:"flex items-center",children:[c.jsx(mr,{className:"h-4 w-4 mr-2"}),"Edit Session"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Session Title"}),c.jsx("p",{className:"text-[#2d4660] font-medium",children:h.title})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Voting Period"}),c.jsxs("p",{className:`text-[#2d4660] font-medium ${h.originalEndDate?"line-through text-gray-400":""}`,children:[Ia(h.startDate)," - ",Ia(h.originalEndDate||h.endDate)]}),h.originalEndDate&&h.endedEarlyBy&&c.jsxs("div",{className:"flex items-center mt-1 text-xs text-red-600",children:[c.jsxs("span",{children:["Ended Early by ",h.endedEarlyBy]}),h.endedEarlyReason&&c.jsxs("div",{className:"group relative ml-1",children:[c.jsx(Xt,{className:"h-3 w-3 cursor-help"}),c.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 whitespace-nowrap z-10 pointer-events-none max-w-xs",children:[c.jsxs("div",{className:"font-semibold mb-1",children:["Reason: ",h.endedEarlyReason]}),h.endedEarlyDetails&&c.jsx("div",{className:"whitespace-normal",children:h.endedEarlyDetails}),c.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-1 border-4 border-transparent border-t-gray-900"})]})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Votes Per User"}),c.jsx("p",{className:"text-[#2d4660] font-medium",children:h.useAutoVotes?`${Math.max(1,Math.floor(e.length/2))} (Auto: ${e.length} features  2)`:h.votesPerUser})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Status"}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(ih,{className:"h-4 w-4 mr-1 text-gray-600"}),ie]}),(h.isActive||Ra(h.endDate))&&c.jsx(wt,{variant:h.isActive?"danger":"primary",onClick:()=>{h.isActive?ye(!0):nt()},className:"text-xs px-2 py-1 ml-2",children:h.isActive?"End Early":"Reopen"})]})]})]}),c.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[c.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Goal"}),c.jsx("p",{className:"text-[#2d4660]",children:h.goal})]})]}),c.jsxs("div",{className:"relative bg-white rounded-lg shadow-md p-4 mb-6",children:[c.jsx("div",{className:"flex items-center justify-between mb-4",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(qv,{className:"h-5 w-5 text-[#2d4660] mr-2"}),c.jsx("h2",{className:"text-xl font-semibold text-[#2d4660]",children:"Azure DevOps Integration"})]})}),p.enabled?c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Fn,{className:"h-5 w-5 text-green-600 mr-2"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-green-900",children:"Connected to Azure DevOps"}),c.jsxs("p",{className:"text-sm text-green-700 mt-1",children:[c.jsx("span",{className:"font-medium",children:"Organization:"})," ",p.organization,c.jsx("span",{className:"mx-2",children:""}),c.jsx("span",{className:"font-medium",children:"Project:"})," ",p.project,p.lastSyncTime&&c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"mx-2",children:""}),c.jsx("span",{className:"font-medium",children:"Last Sync:"})," ",Ia(p.lastSyncTime)]})]})]})]}),c.jsxs("button",{onClick:k,className:"text-sm text-red-600 hover:text-red-800 font-medium flex items-center",children:[c.jsx(Oi,{className:"h-4 w-4 mr-1"}),"Disconnect"]})]})}),c.jsx(yJ,{config:p,onUpdateConfig:v,onPreview:j,isFetching:E,availableStates:T,availableAreaPaths:I,availableTags:L,previewFeatures:q,showPreviewModal:B,onFetchStatesForType:Ne,onFetchAreaPathsForTypeAndState:ke,onFetchTagsForTypeStateAndAreaPath:se,onFetchTypesAndStatesForAreaPath:he,onFetchTypesAndStatesForTags:pe,onFetchTypesAndAreaPathsForStates:D})]}):x?c.jsx(vJ,{config:p,onConnect:at,onCancel:()=>b(!1),isFetching:E,error:N,onPrefetchAllCombinations:$}):c.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 text-center border border-dashed border-gray-300",children:[c.jsx(qv,{className:"h-10 w-10 text-gray-400 mx-auto mb-3"}),c.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"Not Connected"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Connect to Azure DevOps to import work items as features for voting."}),c.jsxs(wt,{variant:"primary",onClick:()=>b(!0),className:"inline-flex items-center",children:[c.jsx(mr,{className:"h-4 w-4 mr-2"}),"Connect to Azure DevOps"]})]})]}),c.jsxs("div",{className:"relative bg-white rounded-lg shadow-md p-4 mb-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-[#2d4660]",children:"Feature Management"}),c.jsxs(wt,{variant:"gold",onClick:()=>o(!0),className:"flex items-center w-44",children:[c.jsx(xc,{className:"mr-2 h-4 w-4"}),"Add Feature"]})]}),c.jsx("div",{className:"w-full overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 table-fixed",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"w-[20%] px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),c.jsx("th",{scope:"col",className:"hidden lg:table-cell w-[25%] px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),c.jsx("th",{scope:"col",className:"hidden md:table-cell w-[10%] px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Epic"}),c.jsx("th",{scope:"col",className:"hidden md:table-cell w-[8%] px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"State"}),c.jsx("th",{scope:"col",className:"hidden lg:table-cell w-[12%] px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Area Path"}),c.jsx("th",{scope:"col",className:"hidden xl:table-cell w-[10%] px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tags"}),c.jsx("th",{scope:"col",className:"w-[8%] px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Votes"}),c.jsx("th",{scope:"col",className:"w-[7%] px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(de=>c.jsxs("tr",{className:"align-top group",children:[c.jsx("td",{className:"px-4 py-4 whitespace-normal break-words text-sm font-medium text-left",children:c.jsxs("div",{className:"max-w-xs overflow-hidden text-left",children:[de.title,de.azureDevOpsId&&c.jsx("div",{className:"mt-1",children:c.jsx(Jf,{id:de.azureDevOpsId,url:de.azureDevOpsUrl||""})})]})}),c.jsx("td",{className:"hidden lg:table-cell px-4 py-4 text-sm text-gray-500 text-left",children:c.jsx("div",{className:"max-w-md overflow-hidden break-words text-left",children:de.description||c.jsx("span",{className:"italic text-gray-400",children:"No description provided"})})}),c.jsx("td",{className:"hidden md:table-cell px-4 py-4 whitespace-nowrap text-sm",children:de.epic&&c.jsx(jc,{name:de.epic})}),c.jsx("td",{className:"hidden md:table-cell px-4 py-4 whitespace-nowrap text-sm",children:de.state&&c.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:de.state})}),c.jsx("td",{className:"hidden lg:table-cell px-4 py-4 text-sm",children:c.jsx("div",{className:"text-gray-600",children:de.areaPath&&typeof de.areaPath=="string"&&de.areaPath.trim()!==""?c.jsx("div",{className:"max-w-xs break-words",children:de.areaPath}):c.jsx("span",{className:"text-gray-400",children:"-"})})}),c.jsx("td",{className:"hidden xl:table-cell px-4 py-4 text-sm",children:de.tags&&de.tags.length>0?c.jsxs("div",{className:"flex flex-wrap gap-1",children:[de.tags.slice(0,3).map((Me,et)=>c.jsx("span",{className:"px-2 py-0.5 text-xs bg-gray-100 text-gray-700 rounded",children:Me},et)),de.tags.length>3&&c.jsxs("span",{className:"px-2 py-0.5 text-xs text-gray-500",children:["+",de.tags.length-3]})]}):c.jsx("span",{className:"text-gray-400",children:"-"})}),c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:de.votes}),c.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500 space-x-3 md:opacity-0 md:group-hover:opacity-100 transition-opacity",children:[c.jsx("button",{onClick:()=>d(de),className:"text-[#2d4660] hover:text-[#C89212] inline-block cursor-pointer",title:"Edit Feature",children:c.jsx(j6,{className:"h-5 w-5"})}),c.jsx("button",{onClick:()=>n(de.id),className:"text-[#2d4660] hover:text-[#591D0F] inline-block cursor-pointer",title:"Delete Feature",children:c.jsx(Ws,{className:"h-5 w-5"})})]})]},de.id))})]})})]}),c.jsx(Io,{isOpen:s,onClose:()=>o(!1),title:"Add New Feature",children:c.jsx($N,{onSubmit:de=>{t(de),o(!1)},onCancel:()=>o(!1)})}),c.jsx(Io,{isOpen:u!==null,onClose:()=>d(null),title:"Edit Feature",children:u&&c.jsx($N,{feature:u,onSubmit:de=>{r({...u,...de}),d(null)},onCancel:()=>d(null)})}),c.jsx(Io,{isOpen:re,onClose:()=>je(!1),title:"Edit Session Settings",children:c.jsx(xJ,{session:h,featureCount:e.length,onSubmit:Ae,onCancel:()=>je(!1)})}),c.jsx(Io,{isOpen:B,onClose:()=>F(!1),title:"Preview Azure DevOps Features",maxWidth:"max-w-4xl",children:c.jsx("div",{className:"space-y-4",children:q&&q.length>0?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:c.jsx("p",{className:"text-blue-800 font-medium",children:"Review the work items below. If they look correct, add them to your voting session."})}),c.jsx("div",{className:"max-h-96 overflow-y-auto",children:c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:q.map(de=>c.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow",children:[c.jsx("div",{className:"mb-3",children:c.jsx("h4",{className:"text-base font-semibold text-gray-900",children:de.title})}),de.workItemType!=="Feature"&&de.epic&&c.jsxs("div",{className:"mb-3",children:[c.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Epic"}),c.jsx(jc,{name:de.epic})]}),de.description&&de.description.trim()!==""?c.jsxs("div",{className:"mb-3",children:[c.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Description"}),c.jsx("p",{className:"text-xs text-gray-700 line-clamp-3",children:de.description})]}):null,de.state&&c.jsxs("div",{className:"mb-3",children:[c.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"State"}),c.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded",children:de.state})]}),de.workItemType==="Feature"&&de.epic&&c.jsxs("div",{className:"mb-3",children:[c.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Epic"}),c.jsx(jc,{name:de.epic})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Work Item Type"}),c.jsxs("div",{className:"flex items-center gap-2",children:[de.workItemType&&c.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-purple-100 text-purple-800 rounded",children:de.workItemType}),de.azureDevOpsId&&c.jsx(Jf,{id:de.azureDevOpsId,url:de.azureDevOpsUrl||""})]})]}),de.areaPath&&c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Area Path"}),c.jsx("p",{className:"text-xs text-gray-700 break-words",children:de.areaPath})]}),de.tags&&de.tags.length>0&&c.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100",children:[c.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Tags"}),c.jsx("div",{className:"flex flex-wrap gap-1",children:de.tags.map((Me,et)=>c.jsx("span",{className:"px-2 py-0.5 text-xs bg-gray-100 text-gray-700 rounded",children:Me},et))})]})]},de.id))})}),c.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:[c.jsx(wt,{variant:"secondary",onClick:()=>F(!1),children:"Cancel"}),c.jsxs(wt,{variant:"primary",onClick:async()=>{await V(!1),F(!1)},className:"flex items-center",children:[c.jsx(xc,{className:"h-4 w-4 mr-2"}),"Add ",q.length," Feature",q.length!==1?"s":""]}),c.jsxs(wt,{variant:"danger",onClick:async()=>{await V(!0),F(!1)},className:"flex items-center",children:[c.jsx(qc,{className:"h-4 w-4 mr-2"}),"Replace All Features"]})]})]}):c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Xt,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),c.jsx("p",{className:"text-gray-600",children:"No features found to sync"})]})})}),c.jsx(Io,{isOpen:ue,onClose:()=>{ye(!1),$e()},title:"End Session Early",children:c.jsxs("form",{onSubmit:xe(Ke),className:"space-y-4",children:[c.jsx("p",{className:"text-gray-600",children:"You are about to end this voting session early. Please select a reason:"}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason *"}),c.jsxs("select",{...X("reason",{required:"Please select a reason"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent",children:[c.jsx("option",{value:"",children:"Select a reason..."}),c.jsx("option",{value:"Sufficient Responses",children:"Sufficient responses received"}),c.jsx("option",{value:"Project Cancelled",children:"Project or initiative cancelled"}),c.jsx("option",{value:"Timeline Changed",children:"Timeline or priorities changed"}),c.jsx("option",{value:"Technical Issues",children:"Technical issues or data concerns"}),c.jsx("option",{value:"Stakeholder Request",children:"Stakeholder request"}),c.jsx("option",{value:"Low Participation",children:"Low participation rate"}),c.jsx("option",{value:"Other",children:"Other"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Details (Optional)"}),c.jsx("textarea",{...X("details"),rows:3,placeholder:"Add any additional context or notes...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent"})]}),c.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 text-sm text-yellow-800",children:[c.jsx("p",{className:"font-medium mb-1",children:"Note:"}),c.jsx("p",{children:"Ending the session will close voting immediately. This action will be logged and visible to all admins."})]}),c.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[c.jsx(wt,{variant:"secondary",type:"button",onClick:()=>{ye(!1),$e()},children:"Cancel"}),c.jsx(wt,{variant:"danger",type:"submit",children:"End Session Now"})]})]})})]})}const DN=["User Experience","Vendor Management","Analytics & Reporting","Operational Efficiency","Compliance & Risk","Mobile Access","Integration","Sustainability","Budget Management"],bJ={title:"Q2 Product Roadmap",goal:"Prioritize features for the Purchasing Dashboard redesign",votesPerUser:10,useAutoVotes:!0,startDate:new Date().toISOString(),endDate:new Date(Date.now()+10080*60*1e3).toISOString(),isActive:!0},SJ={organization:"newmill",project:"Product",enabled:!1,workItemType:"Feature"},jJ=[{id:"u1",name:"John Doe",email:"john@example.com",totalVotes:10,usedVotes:0,votesPerFeature:{}},{id:"u2",name:"Jane Smith",email:"jane@example.com",totalVotes:10,usedVotes:0,votesPerFeature:{}},{id:"u3",name:"Robert Johnson",email:"robert@example.com",totalVotes:10,usedVotes:0,votesPerFeature:{}}],Ia=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),Ix=e=>{const t=new Date(e),r=new Date;t.setHours(0,0,0,0),r.setHours(0,0,0,0);const n=t.getTime()-r.getTime();return Math.ceil(n/(1e3*60*60*24))},OP=e=>e<=0?"text-[#591D0F]":e<=2?"text-[#6A4234]":e<=4?"text-[#C89212]":"text-[#1E5461]",PP=e=>e<=0?"bg-[#591D0F]/10":e<=2?"bg-[#6A4234]/10":e<=4?"bg-[#C89212]/10":"bg-[#1E5461]/10",Ra=e=>new Date(e)<new Date,_J=(e,t)=>{const r=new Date(e),n=new Date(t),i=new Date;return r<=i&&i<=n},kJ=e=>{const t=[...e];for(let r=t.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1));[t[r],t[n]]=[t[n],t[r]]}return t},Jd=(e,t)=>e?e.length>t?`${e.substring(0,t-3)}...`:e:"",Sv=e=>{if(!e)return"";const t=document.createElement("div");t.innerHTML=e;let r=t.textContent||t.innerText||"";return r=r.replace(/\s+/g," ").trim(),r},NJ=e=>{const t=e.split("");for(let r=0;r<3;r++){const n=Math.floor(Math.random()*t.length),i=Math.floor(Math.random()*t.length);n!==i&&([t[n],t[i]]=[t[i],t[n]])}return t.join("")};function $h({src:e,alt:t,style:r,className:n,...i}){const[s,o]=w.useState(!1);return s?c.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${n??""}`,style:r,children:c.jsx("div",{className:"flex items-center justify-center w-full h-full",children:c.jsx("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==",alt:"Error loading image",...i,"data-original-url":e})})}):c.jsx("img",{src:e,alt:t,className:n,style:r,...i,onError:()=>o(!0)})}const wt=st.memo(function({children:t,onClick:r,variant:n="primary",disabled:i=!1,className:s="",...o}){const u="py-2 px-4 rounded-lg flex items-center transition-colors cursor-pointer",d={primary:"bg-[#2d4660] text-white hover:bg-[#173B65]",secondary:"border border-gray-300 text-gray-700 hover:bg-gray-50",danger:"bg-[#591D0F] text-white hover:bg-[#492434]",gold:"bg-[#C89212] text-white hover:bg-[#A67810]",blue:"bg-[#173B65] text-white hover:bg-[#1D2C49]",gray:"bg-[#576C71] text-white hover:bg-[#1E5461]"};return c.jsx("button",{onClick:r,disabled:i,className:`${u} ${d[n]} ${i?"opacity-60 cursor-not-allowed":""} ${s}`,...o,children:t})});class Io extends w.Component{render(){const{isOpen:t,onClose:r,title:n,children:i,maxWidth:s="max-w-2xl"}=this.props;return t?c.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:c.jsxs("div",{className:"flex items-center justify-center min-h-screen p-4 text-center",children:[c.jsx("div",{className:"fixed inset-0 transition-opacity bg-black/50",onClick:r,"aria-hidden":"true"}),c.jsxs("div",{className:`inline-block w-full ${s} p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg`,children:[c.jsxs("div",{className:"flex items-start justify-between mb-5",children:[c.jsxs("div",{className:"flex items-center gap-3 bg-[#FFF7E2] border border-[#C89212]/40 rounded-xl px-6 py-3 shadow-sm w-full mr-4",children:[c.jsx("div",{className:"flex items-center justify-center h-10 w-10 rounded-full bg-[#C89212]/15 text-[#C89212]",children:c.jsx(GE,{className:"h-6 w-6"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-[#2d4660] tracking-tight",children:n}),c.jsx("p",{className:"text-xs text-[#8A6D3B] font-medium mt-1 uppercase tracking-widest",children:"Spark the roadmap with your ideas"})]})]}),c.jsx("button",{onClick:r,className:"ml-3 text-gray-400 hover:text-gray-500 focus:outline-none",children:c.jsx(Oi,{className:"h-5 w-5"})})]}),c.jsx("div",{className:"mt-2",children:i})]})]})}):null}}const jc=st.memo(function({name:t}){return t?c.jsxs("div",{className:"flex items-center text-xs text-[#2d4660]",children:[c.jsx(k6,{className:"h-3 w-3 mr-1 text-[#2d4660]"}),c.jsx("span",{className:"font-medium",children:Jd(t,30)})]}):null}),Jf=st.memo(function({id:t,url:r}){return t?c.jsxs("a",{href:r,target:"_blank",rel:"noreferrer",className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 hover:bg-blue-200 cursor-pointer",title:"View in Azure DevOps",children:[c.jsx(t6,{className:"h-3 w-3 mr-1"}),"#",t]}):null}),EJ=st.memo(function({endDate:t}){const r=Ix(t),n=OP(r),i=PP(r);return c.jsx("div",{className:`${i} rounded-md p-3 border ${r<=2?"border-[#6A4234]/20":r<=4?"border-[#C89212]/20":"border-[#1E5461]/20"}`,children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(oi,{className:`h-5 w-5 mr-2 ${n}`}),c.jsxs("div",{children:[c.jsxs("span",{className:`font-medium ${n}`,children:["Voting ends: ",Ia(t)]}),c.jsx("div",{className:"text-sm mt-1",children:r<=0?c.jsx("span",{className:"text-red-600 font-medium",children:"Voting ends today!"}):c.jsxs("span",{className:`${n}`,children:[r," ",r===1?"day":"days"," remaining"]})})]})]})})});function CJ({isShuffling:e,onShuffle:t}){const[r,n]=w.useState("Shuffle Features"),i=w.useRef(null);return w.useEffect(()=>(e?i.current=window.setInterval(()=>{n(NJ("Shuffle Features"))},100):i.current!==null&&(window.clearInterval(i.current),n("Shuffle Features")),()=>{i.current!==null&&window.clearInterval(i.current)}),[e]),c.jsxs("button",{onClick:t,className:`py-2 px-4 rounded-lg flex items-center transition-all duration-300 ${e?"bg-[#C89212] text-white scale-95":"bg-[#C89212] hover:bg-[#A67810] text-white hover:scale-105"}`,disabled:e,children:[c.jsx("span",{className:`transition-transform duration-500 ${e?"mr-2 animate-spin":"mr-2"}`,children:c.jsx(b6,{className:"h-4 w-4"})}),c.jsx("span",{className:"font-medium tracking-wide whitespace-nowrap",children:r})]})}const My=st.memo(function({show:t,title:r,message:n,onConfirm:i,onCancel:s,confirmText:o="Confirm",cancelText:u="Cancel",type:d="delete"}){if(!t)return null;const m=d==="delete"?"bg-[#591D0F]/10":"bg-[#C89212]/10",h=d==="delete"?"text-[#591D0F]":"text-[#C89212]",p=d==="delete"?"bg-[#591D0F] hover:bg-[#492434]":"bg-[#C89212] hover:bg-[#A67810]";return c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-xl max-w-md w-full mx-auto overflow-hidden",children:[c.jsxs("div",{className:`${m} p-4 flex items-start space-x-4`,children:[c.jsx("div",{className:h,children:d==="delete"?c.jsx(Ws,{className:"h-5 w-5"}):c.jsx(Xt,{className:"h-5 w-5"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:r}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:n})]})]}),c.jsx("div",{className:"p-4 bg-white space-y-4",children:c.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[c.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 cursor-pointer",children:u}),c.jsx("button",{type:"button",onClick:()=>{i(),s()},className:`px-4 py-2 rounded-md text-sm font-medium text-white ${p} cursor-pointer`,children:o})]})})]})})}),AJ=st.memo(function({feature:t,userVoteCount:r=0,remainingVotes:n=0,votingIsActive:i=!1,onVote:s,isShuffling:o=!1,shuffleStage:u="idle",currentUser:d,onRequestInfo:m}){const[h,p]=w.useState(!1),[v,x]=w.useState(!1),b=async()=>{if(!(!m||v)){x(!0);try{await m(t.id),p(!0)}catch(j){console.error("Error requesting info:",j)}finally{x(!1)}}},S=()=>{switch(u){case"fadeOut":return"opacity-0 scale-95 blur-sm";case"rearranging":return"opacity-0 scale-90";case"fadeIn":return"opacity-100 scale-100 blur-0";default:return"opacity-100 scale-100 blur-0"}};return c.jsx("div",{className:`relative z-10 bg-white rounded-lg shadow-md overflow-hidden transition-all duration-400 ease-in-out ${r>0?"border-2 border-[#1E5461]":""} ${S()}`,children:c.jsxs("div",{className:"p-6 flex flex-col h-full",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2 text-[#2d4660]",children:t.title}),t.description?c.jsx("p",{className:"text-gray-600 mb-4 flex-grow",children:t.description}):c.jsxs("div",{className:"mb-4 flex-grow",children:[c.jsx("p",{className:"text-gray-400 italic mb-3",children:"No description provided"}),d&&m&&c.jsx("div",{className:"transition-all duration-300",children:h?c.jsxs("div",{className:"text-sm px-3 py-2 bg-green-50 text-green-700 rounded-md font-medium flex items-center animate-fadeIn",children:[c.jsx(Fn,{className:"h-4 w-4 mr-2 flex-shrink-0"}),c.jsx("span",{children:"Thank you! Your request has been sent."})]}):c.jsxs("button",{onClick:b,disabled:v,className:"text-sm px-3 py-2 bg-blue-50 hover:bg-blue-100 text-[#2d4660] rounded-md font-medium flex items-center transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(Xt,{className:"h-4 w-4 mr-2 flex-shrink-0"}),c.jsx("span",{children:v?"Sending...":"Ask Product Owner for more info"})]})})]}),c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.epic&&c.jsx(jc,{name:t.epic}),t.azureDevOpsId&&c.jsx("div",{className:"flex items-center text-xs",children:c.jsx(Jf,{id:t.azureDevOpsId,url:t.azureDevOpsUrl||""})})]}),s&&c.jsx("div",{className:"flex justify-end items-center",children:c.jsx("div",{className:"flex items-center space-x-2",children:r===0?c.jsx("button",{onClick:()=>s(t.id,!0),className:`px-6 py-2.5 rounded-lg text-base font-semibold cursor-pointer transition-colors ${i&&n>0?"bg-[#2d4660] text-white hover:bg-[#C89212]":"bg-gray-300 text-gray-600 cursor-not-allowed"}`,disabled:!i||n<=0,children:"Vote"}):c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>s(t.id,!1),className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-700 cursor-pointer transition-colors","aria-label":"Remove vote",disabled:!i,children:c.jsx(yc,{className:"h-6 w-6"})}),c.jsx("span",{className:"px-4 py-2 bg-[#1E5461]/10 text-[#1E5461] rounded-full font-semibold text-base min-w-[3rem] text-center",children:r}),c.jsx("button",{onClick:()=>s(t.id,!0),className:`p-2 rounded-full cursor-pointer transition-colors ${i&&n>0?"bg-[#2d4660]/10 hover:bg-[#C89212]/30 text-[#2d4660]":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,disabled:!i||n<=0,"aria-label":"Add vote",children:c.jsx(Y3,{className:"h-6 w-6"})})]})})})]})})});function OJ({feature:e,onClose:t}){return c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"relative z-10 bg-white rounded-lg p-6 max-w-md w-full max-h-[80vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("h3",{className:"text-lg font-medium text-[#2d4660]",children:['Voters for "',e.title,'"']}),c.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 cursor-pointer",children:c.jsx(Oi,{className:"h-5 w-5"})})]}),e.voters.length===0?c.jsx("p",{className:"text-gray-500",children:"No votes yet"}):c.jsx("ul",{className:"divide-y divide-gray-200",children:e.voters.map(r=>c.jsxs("li",{className:"py-3 flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:r.name}),c.jsx("p",{className:"text-sm text-gray-500",children:r.email})]}),c.jsxs("div",{className:"bg-[#2d4660]/10 text-[#2d4660] rounded-full px-3 py-1",children:[r.voteCount," ",r.voteCount===1?"vote":"votes"]})]},r.userId))})]})})}function PJ({features:e,onResetVotes:t,onResetAllVotes:r,onBack:n,showVotersList:i,setShowVotersList:s,votingSession:o,effectiveVotesPerUser:u,onLogout:d}){const[m,h]=w.useState(!1),p=w.useRef(null);w.useEffect(()=>{if(!m)return;const j=k=>{p.current&&!p.current.contains(k.target)&&h(!1)};return document.addEventListener("mousedown",j),document.addEventListener("touchstart",j,{passive:!0}),()=>{document.removeEventListener("mousedown",j),document.removeEventListener("touchstart",j)}},[m]);const v=w.useMemo(()=>[...e].sort((j,k)=>k.votes-j.votes),[e]),x=w.useMemo(()=>v.slice(0,10).map(j=>({name:j.title,votes:j.votes,id:j.id})),[v]),b=Ix(o.endDate),S=OP(b);return c.jsxs("div",{className:"container mx-auto p-4 max-w-6xl pb-8",children:[c.jsx("div",{className:"hidden md:flex md:justify-center mb-2",children:c.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"-mt-4",style:{height:"96px",width:"auto"}})}),c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx($h,{src:"https://media.licdn.com/dms/image/C4D0BAQEC3OhRqehrKg/company-logo_200_200/0/1630518354793/new_millennium_building_systems_logo?e=2147483647&v=beta&t=LM3sJTmQZet5NshZ-RNHXW1MMG9xSi1asp-VUeSA9NA",alt:"New Millennium Building Systems Logo",className:"mr-4 md:hidden",style:{width:"40px",height:"40px"}}),c.jsx("button",{onClick:n,className:"mr-2 p-1 rounded-full hover:bg-gray-200 cursor-pointer",children:c.jsx(il,{className:"h-6 w-6"})}),c.jsx("h1",{className:"text-2xl font-bold text-[#2d4660] md:text-3xl",children:Ra(o.endDate)?"Final Voting Results":"Current Voting Results"})]}),c.jsxs("div",{ref:p,className:"relative z-40",children:[c.jsxs("div",{className:"hidden md:flex space-x-2",children:[c.jsxs(wt,{variant:"primary",onClick:n,className:"flex items-center",children:[c.jsx(mr,{className:"mr-2 h-4 w-4"}),"Admin Dashboard"]}),c.jsx(wt,{variant:"danger",onClick:r,children:"Reset All Votes"}),c.jsxs(wt,{variant:"gray",onClick:d,className:"flex items-center",children:[c.jsx(Cr,{className:"mr-2 h-4 w-4"}),"Logout"]})]}),c.jsx("div",{className:"flex md:hidden",children:c.jsx("button",{onClick:()=>h(!m),className:"p-2 rounded-md border border-gray-200 bg-white shadow-sm","aria-label":"Open menu",children:c.jsx(ki,{className:"h-5 w-5 text-gray-700"})})}),m&&c.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-lg md:hidden z-50",children:c.jsxs("div",{className:"py-1",children:[c.jsxs("button",{onClick:()=>{h(!1),n()},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(mr,{className:"h-4 w-4 mr-2 text-gray-700"}),"Admin Dashboard"]}),c.jsxs("button",{onClick:()=>{h(!1),r()},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50 text-red-600",children:[c.jsx(Ws,{className:"h-4 w-4 mr-2"}),"Reset All Votes"]}),c.jsxs("button",{onClick:()=>{h(!1),d()},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(Cr,{className:"h-4 w-4 mr-2 text-gray-700"}),"Logout"]})]})})]})]}),c.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-md p-4 mb-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-[#2d4660]",children:o.title}),c.jsxs("div",{className:"text-sm text-gray-600",children:[c.jsxs("span",{className:"mr-2",children:["Votes per user: ",u]}),o.isActive?c.jsx("span",{className:"text-[#1E5461] font-medium",children:"Voting Active"}):Ra(o.endDate)?c.jsx("span",{className:"text-[#591D0F] font-medium",children:"Voting Closed"}):c.jsx("span",{className:"text-[#C89212] font-medium",children:"Voting Upcoming"})]})]}),c.jsx("p",{className:"text-gray-600 mb-4",children:o.goal}),o.isActive&&c.jsx("div",{className:`${PP(b)} relative z-10 rounded-md p-3 mb-4 inline-block border ${b<=2?"border-[#6A4234]/20":b<=4?"border-[#C89212]/20":"border-[#1E5461]/20"}`,children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(oi,{className:`h-4 w-4 mr-2 ${S}`}),c.jsx("span",{className:`${S} font-medium`,children:b<=0?"Voting ends today!":`${b} ${b===1?"day":"days"} remaining until ${Ia(o.endDate)}`})]})}),c.jsx("div",{className:"h-72",children:c.jsx(Y7,{width:"100%",height:"100%",children:c.jsxs(tJ,{data:x,margin:{top:20,right:30,left:20,bottom:60},children:[c.jsx(pP,{dataKey:"name",angle:-45,textAnchor:"end",height:80,tick:{fontSize:12}}),c.jsx(gP,{}),c.jsx(L7,{}),c.jsx(uP,{dataKey:"votes",fill:"#3B82F6",children:x.map((j,k)=>c.jsx(_x,{fill:k%2===0?"#2d4660":"#4f6d8e"},`cell-${k}`))})]})})})]}),c.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-md p-4",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4 text-[#2d4660]",children:"Feature Details"}),c.jsx("div",{className:"w-full overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 table-fixed",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"w-12 px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rank"}),c.jsx("th",{scope:"col",className:"w-1/2 px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),c.jsx("th",{scope:"col",className:"hidden sm:table-cell w-1/4 px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Epic"}),c.jsx("th",{scope:"col",className:"w-14 px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Votes"}),c.jsx("th",{scope:"col",className:"hidden md:table-cell w-20 px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Voters"}),c.jsx("th",{scope:"col",className:"w-20 px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map((j,k)=>c.jsxs("tr",{className:"align-top group",children:[c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:k+1}),c.jsxs("td",{className:"px-4 py-4 whitespace-normal break-words text-sm font-medium",children:[j.title,j.azureDevOpsId&&c.jsx("div",{className:"mt-1",children:c.jsx(Jf,{id:j.azureDevOpsId,url:j.azureDevOpsUrl||""})})]}),c.jsx("td",{className:"hidden sm:table-cell px-4 py-4 whitespace-nowrap text-sm",children:j.epic&&c.jsx(jc,{name:j.epic})}),c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:j.votes}),c.jsx("td",{className:"hidden md:table-cell px-4 py-4 whitespace-nowrap text-sm",children:c.jsxs("button",{onClick:()=>s(j.id),className:"text-[#2d4660] hover:text-[#C89212] flex items-center cursor-pointer",disabled:j.voters.length===0,children:[c.jsx(pn,{className:"h-4 w-4 mr-1"}),j.voters.length," ",j.voters.length===1?"user":"users"]})}),c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm md:opacity-0 md:group-hover:opacity-100 transition-opacity",children:c.jsx("button",{onClick:()=>t(j.id),className:"text-[#591D0F] hover:text-[#492434] cursor-pointer",disabled:j.votes===0,children:"Reset Votes"})})]},j.id))})]})})]}),i&&c.jsx(OJ,{feature:e.find(j=>j.id===i),onClose:()=>s(null)})]})}function TJ({navigate:e,votingSession:t}){return c.jsx("div",{className:"relative z-10 flex flex-col items-center justify-center min-h-[80vh] p-6",children:c.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white rounded-lg shadow-lg p-8 text-center",children:[c.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"mx-auto mb-6",style:{maxWidth:"200px",height:"auto"}}),c.jsx("div",{className:"w-20 h-20 bg-[#1E5461]/10 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx(Fn,{className:"h-12 w-12 text-[#1E5461]"})}),c.jsx("h1",{className:"text-3xl font-bold text-[#1E5461] mb-4",children:"Thank You!"}),c.jsxs("p",{className:"text-gray-700 text-lg mb-6",children:["Your votes for ",c.jsx("span",{className:"font-semibold",children:t.title})," have been submitted successfully."]}),c.jsx("p",{className:"text-gray-600 mb-8",children:"We appreciate your input in helping prioritize features for our product roadmap."}),c.jsx(wt,{variant:"primary",onClick:()=>e("/sessions"),className:"mx-auto",children:"View All Voting Sessions"})]})})}function TP({isAdmin:e,viewMode:t="voting",onToggleView:r}){const n=new Date().getFullYear();return c.jsx("footer",{className:"mt-auto bg-gray-50 border-t border-gray-200",children:c.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-6xl",children:[e&&r&&c.jsx("div",{className:"flex justify-center mb-6",children:c.jsxs("div",{className:"inline-flex items-center bg-gray-100 rounded-lg p-1",children:[c.jsxs("button",{onClick:()=>t!=="voting"&&r(),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${t==="voting"?"bg-white text-[#2d4660] shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[c.jsx(Zr,{className:"h-4 w-4 inline mr-2"}),"Voter View"]}),c.jsxs("button",{onClick:()=>t!=="admin"&&r(),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${t==="admin"?"bg-white text-[#2d4660] shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[c.jsx(mr,{className:"h-4 w-4 inline mr-2"}),"Admin View"]})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-sm text-gray-600",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"New Millennium Building Systems"}),c.jsxs("p",{className:"text-xs leading-relaxed",children:["A Steel Dynamics Company",c.jsx("br",{}),"Innovation in structural steel manufacturing"]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Quick Links"}),c.jsxs("ul",{className:"space-y-1 text-xs",children:[c.jsx("li",{children:c.jsx("a",{href:"https://www.steeldynamics.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[#2d4660] transition-colors",children:"Steel Dynamics Inc."})}),c.jsx("li",{children:c.jsx("a",{href:"https://www.newmill.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[#2d4660] transition-colors",children:"New Millennium"})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Need Help?"}),c.jsx("p",{className:"text-xs",children:"Contact your Product Owner or session administrator for assistance with voting."})]})]}),c.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 text-center text-xs text-gray-500",children:c.jsxs("p",{children:[" ",n," New Millennium Building Systems, LLC. All rights reserved."]})})]})})}function $N({feature:e,onSubmit:t,onCancel:r}){const{register:n,handleSubmit:i,formState:{errors:s}}=Kc({defaultValues:e?{title:e.title,description:e.description,epic:e.epic}:{epic:DN[0]}});return c.jsxs("form",{onSubmit:i(t),children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),c.jsx("input",{...n("title",{required:"Title is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),s.title&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.title.message})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),c.jsx("textarea",{...n("description",{required:"Description is required"}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),s.description&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.description.message})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Epic"}),c.jsx("select",{...n("epic",{required:"Epic is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-white",children:DN.map(o=>c.jsx("option",{value:o,children:o},o))}),s.epic&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.epic.message})]}),c.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[c.jsx(wt,{variant:"secondary",type:"button",onClick:r,children:"Cancel"}),c.jsxs(wt,{variant:"primary",type:"submit",children:[e?"Update":"Add"," Feature"]})]})]})}function IJ({currentUser:e,votingSession:t,onChangeVotes:r,onToggleAdmin:n,isAdmin:i,navigate:s,userVotes:o,features:u}){const[d,m]=w.useState(!1),h=Object.values(o).reduce((v,x)=>v+x,0),p=u.filter(v=>o[v.id]>0);return c.jsxs("div",{className:"container mx-auto p-4 max-w-6xl min-h-screen pb-8",children:[c.jsx("div",{className:"hidden md:flex md:justify-center mb-2",children:c.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"-mt-4",style:{height:"96px",width:"auto"}})}),c.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-6",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx($h,{src:"https://media.licdn.com/dms/image/C4D0BAQEC3OhRqehrKg/company-logo_200_200/0/1630518354793/new_millennium_building_systems_logo?e=2147483647&v=beta&t=LM3sJTmQZet5NshZ-RNHXW1MMG9xSi1asp-VUeSA9NA",alt:"New Millennium Building Systems Logo",className:"mr-4 md:hidden",style:{width:"40px",height:"40px"}}),c.jsx("h1",{className:"text-2xl font-bold text-[#2d4660] md:text-3xl",children:"Feature Voting"})]}),c.jsxs("div",{className:"relative z-10 flex items-center space-x-2 mt-3 md:mt-0 md:justify-end",children:[i&&c.jsxs(wt,{variant:"primary",onClick:n,className:"flex items-center",children:[c.jsx(mr,{className:"mr-2 h-4 w-4"}),c.jsx("span",{className:"hidden md:inline",children:"Admin Dashboard"}),c.jsx("span",{className:"md:hidden",children:"Admin"})]}),c.jsxs(wt,{variant:"gray",onClick:()=>s("/sessions"),className:"flex items-center",children:[c.jsx(Cr,{className:"mr-2 h-4 w-4"}),c.jsx("span",{className:"hidden md:inline",children:"All Sessions"}),c.jsx("span",{className:"md:hidden",children:"Sessions"})]})]})]}),c.jsx("div",{className:"max-w-3xl mx-auto",children:c.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-lg p-8 text-center",children:[c.jsx("div",{className:"w-20 h-20 bg-[#1E5461]/10 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx(Fn,{className:"h-12 w-12 text-[#1E5461]"})}),c.jsx("h2",{className:"text-3xl font-bold text-[#1E5461] mb-4",children:"Votes Already Submitted"}),c.jsxs("p",{className:"text-gray-700 text-lg mb-2",children:["Welcome back, ",c.jsx("span",{className:"font-semibold",children:e.name}),"!"]}),c.jsxs("p",{className:"text-gray-600 mb-6",children:["You have already submitted your votes for ",c.jsx("span",{className:"font-semibold",children:t.title}),"."]}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-[#2d4660] mb-4",children:"Your Current Votes"}),c.jsxs("div",{className:"space-y-3",children:[p.map(v=>c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-gray-700",children:v.title}),c.jsxs("span",{className:"bg-[#1E5461]/10 text-[#1E5461] rounded-full px-3 py-1 font-medium",children:[o[v.id]," ",o[v.id]===1?"vote":"votes"]})]},v.id)),c.jsx("div",{className:"border-t border-gray-200 pt-3 mt-3",children:c.jsxs("div",{className:"flex justify-between items-center font-semibold",children:[c.jsx("span",{className:"text-[#2d4660]",children:"Total Votes"}),c.jsx("span",{className:"text-[#2d4660]",children:h})]})})]})]}),c.jsx("div",{className:"bg-[#C89212]/10 border border-[#C89212]/20 rounded-lg p-4 mb-6",children:c.jsxs("div",{className:"flex items-start text-left",children:[c.jsx(JE,{className:"h-5 w-5 text-[#C89212] mr-3 mt-0.5 flex-shrink-0"}),c.jsx("div",{children:c.jsxs("p",{className:"text-sm text-gray-700",children:["If you'd like to change your votes, you can do so below. However, please note that this will",c.jsx("span",{className:"font-semibold",children:" permanently remove your previous votes"})," and allow you to vote again. This action cannot be undone."]})})]})}),c.jsxs(wt,{variant:"gold",onClick:()=>m(!0),className:"mx-auto text-lg py-3 px-8",children:[c.jsx(qc,{className:"mr-2 h-5 w-5"}),"Change My Votes"]})]})}),c.jsx(My,{show:d,title:"Change Your Votes?",message:"This will permanently remove all your previous votes for this session and allow you to vote again. This action cannot be undone. Are you sure you want to continue?",onConfirm:r,onCancel:()=>m(!1),confirmText:"Yes, Change My Votes",cancelText:"Cancel",type:"reset"})]})}const RJ=st.memo(function({features:t,currentUser:r,pendingVotes:n,pendingUsedVotes:i,onVote:s,onSubmitVotes:o,onToggleAdmin:u,isAdmin:d,votingSession:m,navigate:h,effectiveVotesPerUser:p,sessionId:v,onLogout:x}){const[b,S]=w.useState([...t]),[j,k]=w.useState(!1),[E,N]=w.useState("idle"),[A,T]=w.useState(!1),[I,L]=w.useState({}),[q,B]=w.useState(!0),[F,V]=w.useState(!1),[W,te]=w.useState(!1),[K,ae]=w.useState(""),[Ne,ke]=w.useState(""),[se,he]=w.useState(""),[pe,D]=w.useState(""),[$,ee]=w.useState(!1),[_e,re]=w.useState(null),[je,ue]=w.useState(!1),ye=w.useRef(null);w.useEffect(()=>{if(!F)return;const Me=et=>{ye.current&&!ye.current.contains(et.target)&&V(!1)};return document.addEventListener("mousedown",Me),document.addEventListener("touchstart",Me,{passive:!0}),()=>{document.removeEventListener("mousedown",Me),document.removeEventListener("touchstart",Me)}},[F]),w.useEffect(()=>{S([...t])},[t]),w.useEffect(()=>{async function Me(){if(!r||!v){B(!1);return}try{const Pt=(await ba(v)).filter(ce=>ce.user_id===r.id);if(Pt.length>0){const ce={};Pt.forEach(O=>{ce[O.feature_id]=O.vote_count}),L(ce),T(!0)}else T(!1),L({})}catch(et){console.error("Error checking existing votes:",et),T(!1)}finally{B(!1)}}Me()},[r,v]);const X=w.useCallback(async()=>{if(!(!r||!v))try{await D$(v,r.id),T(!1),L({})}catch(Me){console.error("Error changing votes:",Me),alert("Failed to reset votes. Please try again.")}},[r,v]),xe=w.useCallback(()=>{j||(k(!0),N("fadeOut"),setTimeout(()=>{N("rearranging"),setTimeout(()=>{S(kJ(t)),N("fadeIn"),setTimeout(()=>{N("idle"),k(!1)},400)},200)},400))},[t,j]),$e=w.useCallback(async Me=>{const et=t.find(Pt=>Pt.id===Me);if(!(!et||!r))try{await F$({session_id:v,feature_id:Me,feature_title:et.title,requester_id:r.id,requester_name:r.name,requester_email:r.email,created_at:new Date().toISOString()})}catch(Pt){throw console.error("Error submitting info request:",Pt),alert("Failed to submit request. Please try again."),Pt}},[t,r,v]),ie=w.useCallback(()=>{re(null),ue(!1),te(!0)},[]),Ae=w.useCallback(()=>{$||(te(!1),re(null),ue(!1),ae(""),ke(""),he(""),D(""))},[$]),Ke=w.useCallback(async Me=>{Me.preventDefault();const et=K.trim(),Pt=Ne.trim(),ce=se.trim(),O=pe.trim();if(!et){re("Please provide a brief title for your suggestion.");return}try{ee(!0),re(null);const z=[];Pt&&z.push(`Problem it solves:
${Pt}`),ce&&z.push(`What would it do?
${ce}`),O&&z.push(`How would it work?
${O}`),await z$({session_id:v||null,title:et,description:z.length>0?z.join(`

`):null,requester_id:(r==null?void 0:r.id)??null,requester_name:(r==null?void 0:r.name)??null,requester_email:(r==null?void 0:r.email)??null}),ue(!0),ae(""),ke(""),he(""),D("")}catch(z){console.error("Error submitting feature suggestion:",z),re("We were unable to submit your suggestion. Please try again in a moment.")}finally{ee(!1)}},[Ne,K,se,pe,r,v,$]);if(!r)return null;if(q)return c.jsx("div",{className:"container mx-auto p-4 max-w-6xl min-h-screen flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2d4660] mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading your voting status..."})]})});if(A)return c.jsx(IJ,{currentUser:r,votingSession:m,onChangeVotes:X,onToggleAdmin:u,isAdmin:d,navigate:h,userVotes:I,features:t});const nt=p-i,at=nt===0,de=m.isActive;return c.jsxs("div",{className:"container mx-auto p-4 max-w-6xl pb-8",children:[c.jsx("div",{className:"hidden md:flex md:justify-center mb-2",children:c.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"-mt-4",style:{height:"96px",width:"auto"}})}),c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx($h,{src:"https://media.licdn.com/dms/image/C4D0BAQEC3OhRqehrKg/company-logo_200_200/0/1630518354793/new_millennium_building_systems_logo?e=2147483647&v=beta&t=LM3sJTmQZet5NshZ-RNHXW1MMG9xSi1asp-VUeSA9NA",alt:"New Millennium Building Systems Logo",className:"mr-4 md:hidden",style:{width:"40px",height:"40px"}}),c.jsx("h1",{className:"text-2xl font-bold text-[#2d4660] md:text-3xl",children:"Feature Voting"})]}),c.jsxs("div",{ref:ye,className:"relative z-40",children:[c.jsxs("div",{className:"hidden md:flex items-center space-x-2",children:[d&&c.jsxs(wt,{variant:"primary",onClick:u,className:"flex items-center",children:[c.jsx(mr,{className:"mr-2 h-4 w-4"}),"Admin Dashboard"]}),c.jsx(wt,{variant:"gray",onClick:()=>h("/sessions"),className:"flex items-center",children:"All Sessions"}),c.jsxs(wt,{variant:"gray",onClick:x,className:"flex items-center",children:[c.jsx(Cr,{className:"mr-2 h-4 w-4"}),"Logout"]})]}),c.jsx("div",{className:"flex md:hidden",children:c.jsx("button",{onClick:()=>V(!F),className:"p-2 rounded-md border border-gray-200 bg-white shadow-sm","aria-label":"Open menu",children:c.jsx(ki,{className:"h-5 w-5 text-gray-700"})})}),F&&c.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-lg md:hidden z-50",children:c.jsxs("div",{className:"py-1",children:[d&&c.jsxs("button",{onClick:()=>{V(!1),u()},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(mr,{className:"h-4 w-4 mr-2 text-gray-700"}),"Admin Dashboard"]}),c.jsx("button",{onClick:()=>{V(!1),h("/sessions")},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:"All Sessions"}),c.jsxs("button",{onClick:()=>{V(!1),x()},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(Cr,{className:"h-4 w-4 mr-2 text-gray-700"}),"Logout"]})]})})]})]}),c.jsx("div",{className:"relative z-10 mb-6 bg-white rounded-lg shadow-md p-4",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("h2",{className:"text-xl font-semibold text-[#2d4660] mb-2",children:m.title}),c.jsx("p",{className:"text-gray-600",children:m.goal})]}),c.jsxs("div",{className:"flex flex-col justify-center",children:[c.jsx(EJ,{endDate:m.endDate}),c.jsxs("div",{className:"flex items-center mt-3",children:[c.jsx(Zr,{className:"h-4 w-4 mr-2 text-[#2d4660]"}),c.jsxs("p",{className:"text-gray-700",children:["You have ",c.jsxs("span",{className:"font-bold text-[#2d4660]",children:[nt," / ",p]})," votes remaining"]})]})]})]})}),!de&&c.jsx("div",{className:"mb-6 bg-[#C89212]/10 p-4 rounded-lg border border-[#C89212]/20",children:c.jsxs("div",{className:"flex items-center text-[#6A4234]",children:[c.jsx(ih,{className:"h-5 w-5 mr-2"}),c.jsxs("span",{className:"font-medium",children:["Voting is currently ",Ra(m.endDate)?"closed":"not yet open",".",Ra(m.endDate)?` Voting ended on ${Ia(m.endDate)}.`:` Voting will open on ${Ia(m.startDate)}.`]})]})}),c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-[#2d4660]",children:"Available Features"}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs(wt,{variant:"gold",onClick:ie,className:"flex items-center",children:[c.jsx(GE,{className:"h-4 w-4 mr-2"}),"Suggest a Feature"]}),t.length>6&&c.jsx(CJ,{isShuffling:j,onShuffle:xe})]})]}),c.jsx("div",{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 ${i>0?"mb-32":""}`,children:b.map(Me=>{const et=n[Me.id]||0;return c.jsx(AJ,{feature:Me,userVoteCount:et,remainingVotes:nt,votingIsActive:de,onVote:s,isShuffling:j,shuffleStage:E,currentUser:r,onRequestInfo:$e},Me.id)})}),i>0&&c.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white shadow-lg border-t border-gray-200 p-4",children:c.jsxs("div",{className:"container mx-auto max-w-6xl flex items-center justify-between",children:[c.jsxs("div",{children:[!at&&c.jsxs("div",{className:"flex items-center",children:[c.jsx(JE,{className:"h-5 w-5 text-[#C89212] mr-2"}),c.jsxs("span",{className:"text-gray-700",children:["You still have ",c.jsx("span",{className:"font-semibold text-[#C89212]",children:nt})," votes remaining."]})]}),at&&c.jsxs("div",{className:"flex items-center",children:[c.jsx(Fn,{className:"h-5 w-5 text-[#1E5461] mr-2"}),c.jsx("span",{className:"text-gray-700",children:"All votes allocated! You can now submit your votes."})]})]}),c.jsx("button",{onClick:o,className:`py-3 px-6 rounded-lg font-medium cursor-pointer ${at?"bg-[#1E5461] hover:bg-[#173B65] text-white":"bg-gray-300 text-gray-600 cursor-not-allowed"}`,disabled:!at,children:"Submit Votes"})]})}),c.jsx(Io,{isOpen:W,onClose:Ae,title:"Suggest a Feature",maxWidth:"max-w-lg",children:c.jsxs("form",{onSubmit:Ke,className:"space-y-4",children:[c.jsxs("div",{className:"bg-[#1E5461]/10 border border-[#1E5461]/30 text-sm text-[#1E5461] rounded-md px-3 py-2",children:["All suggested features will be reviewed for ",c.jsx("strong",{children:"future sessions"}),".",c.jsx("br",{}),"Suggestions will not be added to the current session."]}),_e&&c.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 text-sm rounded-md px-3 py-2",children:_e}),je&&c.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 text-sm rounded-md px-3 py-2",children:"Thank you! Your suggestion has been recorded."}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Feature title"}),c.jsx("input",{type:"text",value:K,onChange:Me=>ae(Me.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Give your feature a name",disabled:$||je})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"What problem would this solve? (optional)"}),c.jsx("textarea",{value:Ne,onChange:Me=>ke(Me.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:4,placeholder:"Share a few details so we understand the request.",disabled:$||je})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"What would it do? (optional)"}),c.jsx("textarea",{value:se,onChange:Me=>he(Me.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:3,placeholder:"Describe the functionality or outcome users would experience.",disabled:$||je})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"How would it work? (optional)"}),c.jsx("textarea",{value:pe,onChange:Me=>D(Me.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:3,placeholder:"Share any ideas on workflow, technical approach, or integration.",disabled:$||je})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(wt,{type:"button",variant:"secondary",onClick:Ae,disabled:$,children:"Close"}),!je&&c.jsxs(wt,{type:"submit",variant:"primary",disabled:$,className:"flex items-center",children:[$&&c.jsx(qc,{className:"h-4 w-4 animate-spin mr-2"}),"Submit Suggestion"]})]})]})})]})});function jv({defaultVotesPerUser:e=10,adminMode:t=!1,resultsMode:r=!1}){const{currentSession:n,currentUser:i,setCurrentUser:s,setCurrentSession:o}=Ri(),u=Sn(),d=async()=>{try{await Ye.auth.signOut()}catch{}try{o(null)}catch{}s(null);try{localStorage.removeItem("voting_system_current_session"),localStorage.removeItem("azureDevOpsAuthInProgress"),sessionStorage.removeItem("oauth_return_path"),sessionStorage.removeItem("oauth_action")}catch{}u("/login",{replace:!0})};w.useEffect(()=>{const ne=new URLSearchParams(window.location.search),we=ne.has("code")||ne.has("error"),ze=localStorage.getItem("voting_system_current_session");!n&&!we&&!ze&&u("/sessions")},[n,u]);const m=w.useMemo(()=>{const ne=new URLSearchParams(window.location.search);return ne.has("code")||ne.has("error")},[]),[h,p]=w.useState([]),[v,x]=w.useState(!0),[b,S]=w.useState(jJ),[j,k]=w.useState(r?"results":t||m?"admin":"voting"),[E,N]=w.useState(t||m||r),[A,T]=w.useState(null),[I,L]=w.useState(!1),[q,B]=w.useState(null),[F,V]=w.useState(!1),[W,te]=w.useState({...bJ,votesPerUser:e}),[K,ae]=w.useState(SJ),[Ne,ke]=w.useState([]),[se,he]=w.useState([]),[pe,D]=w.useState([]),[$,ee]=w.useState(!1),[_e,re]=w.useState(null),[je,ue]=w.useState(null),[ye,X]=w.useState(!1),[xe,$e]=w.useState(!1),[ie,Ae]=w.useState({}),[Ke,nt]=w.useState(0),[at,de]=w.useState({showReset:!1,showResetAll:!1,targetId:null}),Me=w.useRef(!1),et=w.useMemo(()=>W.useAutoVotes?Math.max(1,Math.floor(h.length/2)):W.votesPerUser,[W.useAutoVotes,W.votesPerUser,h.length]),Pt=w.useRef(!1);w.useEffect(()=>{if(Pt.current){console.log("OAuth processing already in progress, skipping...");return}(async()=>{const we=new URLSearchParams(window.location.search),ze=we.has("code")||we.has("error");if(ze&&!n){console.log("OAuth callback detected, waiting for session to load..."),localStorage.getItem("voting_system_current_session")&&console.log("Found stored session ID, waiting for SessionContext to restore it...");return}if(localStorage.getItem("azureDevOpsAuthInProgress")&&localStorage.removeItem("azureDevOpsAuthInProgress"),!(!ze||Me.current)){if(!n){console.log("No session available yet, waiting...");return}Pt.current=!0,Me.current=!0,console.log("Processing OAuth callback with session:",n.id);try{const Ie=await pJ();if(Ie){const Te=new Date(Date.now()+Ie.expiresIn*1e3).toISOString(),zt={...K,accessToken:Ie.accessToken,refreshToken:Ie.refreshToken,tokenExpiresAt:Te,enabled:!0,clientId:yn.clientId,tenantId:yn.tenantId};await Eo(n.id,zt),ae(zt);const mt=sessionStorage.getItem("oauth_return_path")||"/admin";sessionStorage.removeItem("oauth_return_path"),console.log("OAuth successful, navigating to:",mt),u(mt,{replace:!0})}}catch(Ie){console.error("OAuth callback error:",Ie),re("Failed to authenticate with Azure DevOps");const Te="/admin";sessionStorage.removeItem("oauth_return_path"),u(Te,{replace:!0})}finally{Pt.current=!1}}})()},[n,u,K]);const ce=w.useCallback(ne=>{localStorage.setItem("azureDevOpsAuthInProgress","true"),ne&&sessionStorage.setItem("oauth_action",ne),sessionStorage.getItem("oauth_return_path")||sessionStorage.setItem("oauth_return_path","/admin"),gJ()},[]),O=w.useCallback(async ne=>{if(!ne.accessToken||!ne.refreshToken||!ne.tokenExpiresAt)throw new Error("Not authenticated");if(mJ(ne.tokenExpiresAt)){const we=await oJ(ne.refreshToken),ze=new Date(Date.now()+we.expiresIn*1e3).toISOString(),Pe={...ne,accessToken:we.accessToken,tokenExpiresAt:ze};return n&&(await Eo(n.id,Pe),ae(Pe)),we.accessToken}return ne.accessToken},[n]);w.useEffect(()=>{async function ne(){if(n)try{console.log("Loading data from Supabase for session:",n.id),x(!0);const we=await qi(n.id);console.log(`Loaded ${we.length} features from database`);const ze=await ba(n.id),Pe=we.map(Te=>{const mt=ze.filter(We=>We.feature_id===Te.id).map(We=>({userId:We.user_id,name:We.user_name,email:We.user_email,voteCount:We.vote_count})),bt=mt.reduce((We,P)=>We+P.voteCount,0);return{id:Te.id,title:Te.title,description:Te.description,epic:Te.epic,state:Te.state,areaPath:Te.area_path,tags:Te.tags||[],azureDevOpsId:Te.azure_devops_id,azureDevOpsUrl:Te.azure_devops_url,votes:bt,voters:mt}});p(Pe),console.log("Features with votes loaded:",Pe.map(Te=>Te.title)),te({title:n.title,goal:n.goal,votesPerUser:n.votes_per_user,useAutoVotes:n.use_auto_votes||!1,startDate:n.start_date,endDate:n.end_date,isActive:n.is_active});const Ie=await M$(n.id);ae(Ie?{organization:Ie.organization||"newmill",project:Ie.project||"Product",accessToken:Ie.access_token,refreshToken:Ie.refresh_token,tokenExpiresAt:Ie.token_expires_at,tenantId:Ie.tenant_id,clientId:Ie.client_id,enabled:Ie.enabled,workItemType:Ie.work_item_type||"Feature",query:Ie.query,lastSyncTime:Ie.last_sync_time}:{organization:"newmill",project:"Product",enabled:!1,workItemType:"Feature"})}catch(we){console.error("Error loading data:",we),p([])}finally{x(!1)}}ne()},[n==null?void 0:n.id]),w.useEffect(()=>{async function ne(){if(K.enabled&&K.accessToken)try{const we=await O(K),ze={...K,accessToken:we},[Pe,Ie,Te]=await Promise.all([PN(ze),$y(ze),TN(ze)]);ke(Pe),he(Ie),D(Te)}catch(we){console.error("Error loading filter options:",we)}else ke([]),he([]),D([])}ne()},[K.enabled,K.accessToken,O]);const z=w.useCallback(async(ne,we)=>{if(!(!K.enabled||!K.accessToken))try{const ze=await O(K),Pe={...K,accessToken:ze},Ie=ne?await AP(Pe,ne):await PN(Pe);ke(Ie)}catch(ze){console.error("Error loading states for work item type:",ze)}},[K,O]),Y=w.useCallback(async ne=>{if(!K.enabled||!K.accessToken)return{types:[],states:[]};try{const we=await O(K),ze={...K,accessToken:we};return await uJ(ze,ne)}catch(we){return console.error("Error fetching types and states for area path:",we),{types:[],states:[]}}},[K,O]),le=w.useCallback(async ne=>{if(!K.enabled||!K.accessToken)return{types:[],areaPaths:[]};try{const we=await O(K),ze={...K,accessToken:we},Pe=await cJ(ze,ne);return Pe.areaPaths.length>0&&he(Pe.areaPaths),Pe}catch(we){return console.error("Error fetching types and area paths for states:",we),{types:[],areaPaths:[]}}},[K,O]),fe=w.useCallback(async ne=>{if(!K.enabled||!K.accessToken)return{types:[],states:[],areaPaths:[]};try{const we=await O(K),ze={...K,accessToken:we},Pe=await dJ(ze,ne);return Pe.states.length>0&&ke(Pe.states),Pe.areaPaths.length>0&&he(Pe.areaPaths),Pe}catch(we){return console.error("Error fetching types, states, and area paths for tags:",we),{types:[],states:[],areaPaths:[]}}},[K,O]),J=w.useCallback(async(ne,we=[],ze=[])=>{if(!(!K.enabled||!K.accessToken))try{const Pe=await O(K),Ie={...K,accessToken:Pe},Te=ne?await fJ(Ie,ne,we,ze):await TN(Ie);D(Te)}catch(Pe){console.error("Error loading tags for type, state, and area path:",Pe)}},[K,O]),be=w.useCallback(async(ne,we=[])=>{if(!(!K.enabled||!K.accessToken))try{const ze=await O(K),Pe={...K,accessToken:ze},Ie=ne?await lJ(Pe,ne,we):await $y(Pe);he(Ie)}catch(ze){console.error("Error loading area paths for type and state:",ze)}},[K,O]);w.useEffect(()=>{const ne=async()=>{const ze=_J(W.startDate,W.endDate);if(W.isActive!==ze){const Pe={...W,isActive:ze};te(Pe);try{await Q1({title:Pe.title,goal:Pe.goal,votes_per_user:Pe.votesPerUser,start_date:Pe.startDate,end_date:Pe.endDate,is_active:Pe.isActive})}catch(Ie){console.error("Error updating voting session status:",Ie)}}};ne();const we=setInterval(ne,6e5);return()=>clearInterval(we)},[W]),w.useEffect(()=>{document.body.style.overflow="",document.body.style.position="",document.body.style.width=""},[j]),w.useEffect(()=>(document.body.style.overflow="",()=>{document.body.style.overflow=""}),[]);const Fe=w.useCallback(async(ne=K)=>{if(!ne.organization||!ne.project||!n){re("Organization and project name are required");return}try{ee(!0),re(null);const we=await O(ne),ze={...ne,accessToken:we},Pe=await IN(ze),Ie=RN(Pe);for(const We of Ie){const oe=(await qi(n.id)).find(Ue=>Ue.azure_devops_id===We.azureDevOpsId),Ee=Sv(We.description),He=Jd(Ee,300);oe?await Rp(oe.id,{title:We.title,description:He,epic:We.epic,state:We.state,area_path:We.areaPath,tags:We.tags,azure_devops_id:We.azureDevOpsId,azure_devops_url:We.azureDevOpsUrl}):await Ip({session_id:n.id,title:We.title,description:He,epic:We.epic,state:We.state,area_path:We.areaPath,tags:We.tags,azure_devops_id:We.azureDevOpsId,azure_devops_url:We.azureDevOpsUrl})}const Te=await qi(n.id),zt=await ba(n.id),mt=Te.map(We=>{const oe=zt.filter(He=>He.feature_id===We.id).map(He=>({userId:He.user_id,name:He.user_name,email:He.user_email,voteCount:He.vote_count})),Ee=oe.reduce((He,Ue)=>He+Ue.voteCount,0);return{id:We.id,title:We.title,description:We.description,epic:We.epic,state:We.state,areaPath:We.area_path,tags:We.tags||[],azureDevOpsId:We.azure_devops_id,azureDevOpsUrl:We.azure_devops_url,votes:Ee,voters:oe}});p(mt);const bt={...ze,lastSyncTime:new Date().toISOString()};await Eo(n.id,bt),ae(bt),V(!1)}catch(we){console.error("Azure DevOps sync error:",we),we instanceof Error&&we.message==="Not authenticated"?(re("Please authenticate with Azure DevOps"),ce()):re("Failed to fetch features from Azure DevOps. Please try reconnecting.")}finally{ee(!1)}},[K,n,O,ce]),ot=w.useCallback(async()=>{if(!K.organization||!K.project){re("Organization and project name are required");return}try{ee(!0),re(null);const ne=await O(K),we={...K,accessToken:ne},ze=await IN(we),Ie=RN(ze).map(Te=>({...Te,description:Jd(Sv(Te.description),300)}));ue(Ie),X(!0)}catch(ne){console.error("Azure DevOps preview error:",ne),ne instanceof Error&&ne.message==="Not authenticated"?(re("Please authenticate with Azure DevOps"),ce()):re("Failed to fetch features from Azure DevOps. Please try reconnecting.")}finally{ee(!1)}},[K,O,ce]),ut=w.useCallback(async(ne=!1)=>{if(!(!je||!n))try{if(ee(!0),ne){const Te=await qi(n.id);for(const zt of Te)await J1(zt.id)}for(const Te of je){const mt=(await qi(n.id)).find(P=>P.azure_devops_id===Te.azureDevOpsId),bt=Sv(Te.description),We=Jd(bt,300);mt?await Rp(mt.id,{title:Te.title,description:We,epic:Te.epic,state:Te.state,area_path:Te.areaPath,tags:Te.tags,azure_devops_id:Te.azureDevOpsId,azure_devops_url:Te.azureDevOpsUrl}):await Ip({session_id:n.id,title:Te.title,description:We,epic:Te.epic,state:Te.state,area_path:Te.areaPath,tags:Te.tags,azure_devops_id:Te.azureDevOpsId,azure_devops_url:Te.azureDevOpsUrl})}const we=await qi(n.id),ze=await ba(n.id),Pe=we.map(Te=>{const mt=ze.filter(We=>We.feature_id===Te.id).map(We=>({userId:We.user_id,name:We.user_name,email:We.user_email,voteCount:We.vote_count})),bt=mt.reduce((We,P)=>We+P.voteCount,0);return{id:Te.id,title:Te.title,description:Te.description,epic:Te.epic,state:Te.state,areaPath:Te.area_path,tags:Te.tags||[],azureDevOpsId:Te.azure_devops_id,azureDevOpsUrl:Te.azure_devops_url,votes:bt,voters:mt}});p(Pe);const Ie={...K,lastSyncTime:new Date().toISOString()};await Eo(n.id,Ie),ae(Ie),$e(!0)}catch(we){console.error("Azure DevOps sync error:",we),re("Failed to sync features from Azure DevOps.")}finally{ee(!1),ue(null)}},[je,n,K]),tr=w.useCallback(async()=>{if(n)try{const ne={organization:K.organization||"newmill",project:K.project||"Product",workItemType:K.workItemType||"Feature",query:K.query,accessToken:void 0,refreshToken:void 0,tokenExpiresAt:void 0,enabled:!1};await Eo(n.id,ne),ae(ne),re(null),$e(!1)}catch(ne){console.error("Error disconnecting Azure DevOps:",ne),re("Failed to disconnect from Azure DevOps")}},[K,n]);w.useEffect(()=>{(async()=>{const we=sessionStorage.getItem("oauth_action");if(we&&!(!K.enabled||!K.accessToken))try{we==="preview"?await ot():we==="sync"&&await Fe()}finally{sessionStorage.removeItem("oauth_action")}})()},[K.enabled,K.accessToken,ot,Fe]);const qn=w.useCallback(()=>{N(!0),k("admin")},[]),_n=w.useCallback(()=>{N(!1),k("voting")},[]),Or=w.useCallback(()=>{j==="voting"?(N(!0),k("admin")):j==="admin"&&(N(!1),k("voting"))},[j]),kn=w.useCallback(async ne=>{if(n)try{const we=await Ip({session_id:n.id,title:ne.title,description:ne.description,epic:ne.epic});p(ze=>[...ze,{id:we.id,title:we.title,description:we.description,epic:we.epic,votes:0,voters:[]}]),L(!1)}catch(we){console.error("Error adding feature:",we),alert("Failed to add feature")}},[n]),Hn=w.useCallback(async ne=>{try{await Rp(ne.id,{title:ne.title,description:ne.description,epic:ne.epic}),p(we=>we.map(ze=>ze.id===ne.id?ne:ze)),T(null)}catch(we){console.error("Error updating feature:",we),alert("Failed to update feature")}},[]),Kn=w.useCallback(async ne=>{try{await J1(ne),p(we=>we.filter(ze=>ze.id!==ne))}catch(we){console.error("Error deleting feature:",we),alert("Failed to delete feature")}},[]),fs=w.useCallback(ne=>{de({showReset:!0,showResetAll:!1,targetId:ne})},[]),Nn=w.useCallback(async()=>{const ne=at.targetId;if(!(!ne||!n))try{await(void 0)(ne);const we=await qi(n.id),ze=await ba(n.id),Pe=we.map(Ie=>{const zt=ze.filter(bt=>bt.feature_id===Ie.id).map(bt=>({userId:bt.user_id,name:bt.user_name,email:bt.user_email,voteCount:bt.vote_count})),mt=zt.reduce((bt,We)=>bt+We.voteCount,0);return{id:Ie.id,title:Ie.title,description:Ie.description,epic:Ie.epic,state:Ie.state,areaPath:Ie.area_path,tags:Ie.tags||[],azureDevOpsId:Ie.azure_devops_id,azureDevOpsUrl:Ie.azure_devops_url,votes:mt,voters:zt}});p(Pe)}catch(we){console.error("Error resetting votes:",we),alert("Failed to reset votes")}},[at.targetId,n]),En=w.useCallback(()=>{de({showReset:!1,showResetAll:!0,targetId:null})},[]),pi=w.useCallback(async()=>{if(n)try{await $$(n.id),p(ne=>ne.map(we=>({...we,votes:0,voters:[]})))}catch(ne){console.error("Error resetting all votes:",ne),alert("Failed to reset all votes")}},[n]),gi=w.useCallback((ne,we)=>{if(!i||!W.isActive)return;const ze=ie[ne]||0;let Pe=ze;if(we)if(Ke<et)Pe=ze+1;else return;else if(ze>0)Pe=ze-1;else return;Ae(Ie=>{const Te={...Ie};return Pe===0?delete Te[ne]:Te[ne]=Pe,Te}),nt(Ie=>we?Ie+1:Ie-1)},[i,ie,Ke,W.isActive,et]),hs=w.useCallback(async()=>{if(!(!i||!W.isActive||!n)&&!(Ke<et))try{for(const[Pe,Ie]of Object.entries(ie))Ie>0&&await R$({session_id:n.id,feature_id:Pe,user_id:i.id,user_name:i.name,user_email:i.email,vote_count:Ie});const ne=await qi(n.id),we=await ba(n.id),ze=ne.map(Pe=>{const Te=we.filter(mt=>mt.feature_id===Pe.id).map(mt=>({userId:mt.user_id,name:mt.user_name,email:mt.user_email,voteCount:mt.vote_count})),zt=Te.reduce((mt,bt)=>mt+bt.voteCount,0);return{id:Pe.id,title:Pe.title,description:Pe.description,epic:Pe.epic,state:Pe.state,areaPath:Pe.area_path,tags:Pe.tags||[],azureDevOpsId:Pe.azure_devops_id,azureDevOpsUrl:Pe.azure_devops_url,votes:zt,voters:Te}});p(ze),k("thankyou")}catch(ne){console.error("Error submitting votes:",ne),alert("Failed to submit votes. Please try again.")}},[i,n,Ke,ie,W.isActive,et]),Xs=w.useCallback(async ne=>{try{await Q1({title:ne.title,goal:ne.goal,votes_per_user:ne.votesPerUser,start_date:ne.startDate,end_date:ne.endDate,is_active:ne.isActive}),te(ne)}catch(we){console.error("Error updating voting session:",we),alert("Failed to update voting session settings")}},[]),Zs=w.useCallback(async ne=>{if(n){ae(ne);try{await Eo(n.id,{organization:ne.organization,project:ne.project,accessToken:ne.accessToken,refreshToken:ne.refreshToken,tokenExpiresAt:ne.tokenExpiresAt,tenantId:ne.tenantId,clientId:ne.clientId,enabled:ne.enabled,workItemType:ne.workItemType,query:ne.query,lastSyncTime:ne.lastSyncTime})}catch(we){console.error("Error saving config:",we)}}},[n]),Ha=w.useMemo(()=>{switch(j){case"voting":return c.jsx(RJ,{features:h,currentUser:i,pendingVotes:ie,pendingUsedVotes:Ke,onVote:gi,onSubmitVotes:hs,onToggleAdmin:qn,isAdmin:E,votingSession:W,navigate:u,effectiveVotesPerUser:et,sessionId:(n==null?void 0:n.id)||"",onLogout:d});case"results":return c.jsx(PJ,{features:h,onResetVotes:fs,onResetAllVotes:En,onBack:()=>k("admin"),showVotersList:q,setShowVotersList:B,votingSession:W,effectiveVotesPerUser:et,onLogout:d});case"thankyou":return c.jsx(TJ,{navigate:u,votingSession:W});case"admin":default:return c.jsx(wJ,{features:h,onAddFeature:kn,onUpdateFeature:Hn,onDeleteFeature:Kn,onShowResults:()=>k("results"),showAddForm:I,setShowAddForm:L,editingFeature:A,setEditingFeature:T,onLogout:_n,votingSession:W,azureDevOpsConfig:K,onUpdateAzureDevOpsConfig:Zs,showAzureDevOpsForm:F,setShowAzureDevOpsForm:V,onFetchAzureDevOpsFeatures:Fe,onPreviewAzureDevOpsFeatures:ot,onDisconnectAzureDevOps:tr,isFetchingAzureDevOps:$,azureFetchError:_e,onInitiateOAuth:ce,availableStates:Ne,availableAreaPaths:se,availableTags:pe,previewFeatures:je,showPreviewModal:ye,setShowPreviewModal:X,onConfirmSync:ut,hasImportedFeatures:xe,setHasImportedFeatures:$e,onShowVoterView:_n,onUpdateVotingSession:Xs,onFetchStatesForType:z,onFetchAreaPathsForTypeAndState:be,onFetchTagsForTypeStateAndAreaPath:J,onFetchTypesAndStatesForAreaPath:Y,onFetchTypesAndStatesForTags:fe,onFetchTypesAndAreaPathsForStates:le})}},[j,h,i,ie,Ke,gi,hs,qn,_n,E,W,fs,En,q,B,kn,Hn,Kn,I,L,A,T,K,Zs,F,V,Fe,ot,tr,$,_e,ce,je,ye,X,ut,xe,$e,u,et,Ne,se,pe,z,n,Or]);return n?v?c.jsx("div",{className:"min-h-screen w-full bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2d4660] mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):c.jsxs("div",{className:"w-full bg-gray-50 text-gray-900 font-sans min-h-screen flex flex-col",children:[c.jsx("div",{className:"flex-grow",children:Ha}),c.jsx(TP,{isAdmin:E,viewMode:j==="admin"?"admin":"voting",onToggleView:Or}),c.jsx(My,{show:at.showReset,title:"Reset Votes",message:"Are you sure you want to reset all votes for this feature? This will remove all voting data for this feature.",onConfirm:Nn,onCancel:()=>de(ne=>({...ne,showReset:!1})),confirmText:"Reset",type:"reset"}),c.jsx(My,{show:at.showResetAll,title:"Reset All Votes",message:"Are you sure you want to reset all votes for all features? This will remove all voting data and cannot be undone.",onConfirm:pi,onCancel:()=>de(ne=>({...ne,showResetAll:!1})),confirmText:"Reset All",type:"reset"})]}):c.jsx("div",{className:"min-h-screen w-full bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2d4660] mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading session..."})]})})}function DJ(){const{currentUser:e,setCurrentSession:t,refreshSessions:r,setCurrentUser:n}=Ri(),i=Sn(),[s,o]=w.useState(!0),[u,d]=w.useState([]),[m,h]=w.useState({}),[p,v]=w.useState({}),[x,b]=w.useState({}),[S,j]=w.useState(!1),[k,E]=w.useState("admin"),[N,A]=w.useState(!1),T=w.useRef(null);w.useEffect(()=>{if(!N)return;const $=ee=>{T.current&&!T.current.contains(ee.target)&&A(!1)};return document.addEventListener("mousedown",$),document.addEventListener("touchstart",$,{passive:!0}),()=>{document.removeEventListener("mousedown",$),document.removeEventListener("touchstart",$)}},[N]),w.useEffect(()=>{if(!e){i("/login");return}I()},[e]);const I=async()=>{if(e){o(!0);try{const $=await rl(e.id);j($);const ee=await wE(e.id),_e={},re={},je={};for(const ue of ee){const[ye,X,xe,$e]=await Promise.all([$?Promise.resolve(!0):Ec(ue.id,e.id),Qy(ue.id,e.email),qi(ue.id),ba(ue.id)]);_e[ue.id]={isAdmin:ye,isStakeholder:X},re[ue.id]=xe.length;const ie=$e.some(Ae=>Ae.user_id===e.id);je[ue.id]=ie}await r(),d(ee),h(_e),v(re),b(je)}catch($){console.error("Error loading sessions:",$)}finally{o(!1)}}},L=$=>{const ee=p[$.id]||0;if($.use_auto_votes){const _e=Math.max(1,Math.floor(ee/2));return{votes:_e,displayText:`${_e} votes per user`,isAuto:!0,formula:`Auto: ${ee} ${ee===1?"feature":"features"}  2 = ${_e}`}}else return{votes:$.votes_per_user,displayText:`${$.votes_per_user} votes per user`,isAuto:!1,formula:""}},q=$=>{t($);const ee=m[$.id];k==="stakeholder"?i("/vote"):ee!=null&&ee.isAdmin?i("/admin"):i("/vote")},B=async()=>{try{await Ye.auth.signOut()}catch{}try{t(null)}catch{}n(null);try{localStorage.removeItem("voting_system_current_session"),localStorage.removeItem("azureDevOpsAuthInProgress"),sessionStorage.removeItem("oauth_return_path"),sessionStorage.removeItem("oauth_action")}catch{}A(!1),i("/login",{replace:!0})},F=$=>new Date($).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),V=$=>{const ee=new Date,_e=new Date($.start_date),re=new Date($.end_date);return ee<_e?{text:"Upcoming",color:"text-yellow-600 bg-yellow-50",icon:ih}:ee>re?{text:"Closed",color:"text-gray-600 bg-gray-100",icon:Xt}:{text:"Active",color:"text-[#1E6154] bg-[#1E6154]/10",icon:Fn}},W=($,ee)=>{$.stopPropagation();const _e=`${window.location.origin}/login?session=${ee.session_code}`,re=encodeURIComponent(`You're invited to vote: ${ee.title}`),je=encodeURIComponent(`Hi,

You've been invited to participate in a feature voting session.

Session: ${ee.title}
Goal: ${ee.goal}

To get started, copy and paste this link into your browser:

${_e}

Voting Period: ${F(ee.start_date)} - ${F(ee.end_date)}

Best regards,
${e==null?void 0:e.name}`);window.location.href=`mailto:?subject=${re}&body=${je}`},te=($,ee)=>{$.stopPropagation(),t(ee),i("/results")},K=($,ee)=>{$.stopPropagation(),t(ee),i("/manage-admins")},ae=($,ee)=>{$.stopPropagation(),t(ee),i("/manage-stakeholders")};if(s)return c.jsx("div",{className:"min-h-screen w-full bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2D4660] mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading sessions..."})]})});const Ne=S?u:u.filter($=>{var ee;return(ee=m[$.id])==null?void 0:ee.isAdmin}),ke=S?[]:u.filter($=>{var ee,_e;return((ee=m[$.id])==null?void 0:ee.isStakeholder)&&!((_e=m[$.id])!=null&&_e.isAdmin)}),se=S||Ne.length>0,he=k==="stakeholder"?u:[],pe=k==="admin"?Ne:[],D=k==="admin"?ke:[];return c.jsxs("div",{className:"container mx-auto p-4 max-w-6xl min-h-screen pb-8",children:[c.jsx("div",{className:"hidden md:flex md:justify-center mb-2",children:c.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"-mt-4",style:{height:"96px",width:"auto"}})}),c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("img",{src:"https://media.licdn.com/dms/image/C4D0BAQEC3OhRqehrKg/company-logo_200_200/0/1630518354793/new_millennium_building_systems_logo?e=2147483647&v=beta&t=LM3sJTmQZet5NshZ-RNHXW1MMG9xSi1asp-VUeSA9NA",alt:"New Millennium Building Systems Logo",className:"mr-4 md:hidden",style:{width:"40px",height:"40px"}}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-[#2D4660] md:text-3xl",children:"My Voting Sessions"}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Welcome, ",e==null?void 0:e.name,S&&c.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"System Admin"}),!S&&Ne.length>0&&c.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Session Admin"}),!S&&Ne.length===0&&ke.length>0&&c.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Stakeholder"})]})]})]}),c.jsxs("div",{ref:T,className:"relative z-40 md:justify-end",children:[c.jsxs("div",{className:"hidden md:flex space-x-2",children:[S&&k==="admin"&&c.jsx(c.Fragment,{children:c.jsxs("button",{onClick:()=>i("/users"),className:"flex items-center px-4 py-2 bg-[#2D4660] text-white rounded-lg hover:bg-[#173B65] transition-colors",children:[c.jsx(pn,{className:"h-4 w-4 mr-2"}),"User Management"]})}),(S||Ne.length>0)&&k==="admin"&&c.jsxs("button",{onClick:()=>i("/create-session"),className:"flex items-center px-4 py-2 bg-[#C89212] text-white rounded-lg hover:bg-[#6A4234] transition-colors",children:[c.jsx(xc,{className:"h-4 w-4 mr-2"}),c.jsx("span",{className:"hidden sm:inline",children:"Create Session"}),c.jsx("span",{className:"sm:hidden",children:"Create"})]}),c.jsxs("button",{onClick:B,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[c.jsx(Cr,{className:"h-4 w-4 mr-2"}),c.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]}),c.jsx("div",{className:"flex md:hidden justify-end",children:c.jsx("button",{onClick:()=>A(!N),className:"p-2 rounded-md border border-gray-200 bg-white shadow-sm","aria-label":"Open menu",children:c.jsx(ki,{className:"h-5 w-5 text-gray-700"})})}),N&&c.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-lg md:hidden z-50",children:c.jsxs("div",{className:"py-1",children:[S&&k==="admin"&&c.jsx(c.Fragment,{children:c.jsxs("button",{onClick:()=>{A(!1),i("/users")},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(pn,{className:"h-4 w-4 mr-2 text-gray-700"}),"User Management"]})}),(S||Ne.length>0)&&k==="admin"&&c.jsxs("button",{onClick:()=>{A(!1),i("/create-session")},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(xc,{className:"h-4 w-4 mr-2 text-gray-700"}),"Create Session"]}),c.jsxs("button",{onClick:()=>{A(!1),B()},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(Cr,{className:"h-4 w-4 mr-2 text-gray-700"}),"Logout"]})]})})]})]}),u.length===0?c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-12 text-center",children:[c.jsx(Zr,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No voting sessions"}),c.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"You are not part of any voting sessions yet."}),S&&c.jsxs("button",{onClick:()=>i("/create-session"),className:"inline-flex items-center px-4 py-2 bg-[#2D4660] text-white rounded-lg hover:bg-[#173B65] transition-colors",children:[c.jsx(xc,{className:"h-5 w-5 mr-2"}),"Create Your First Session"]})]}):c.jsxs("div",{className:"space-y-8",children:[k==="stakeholder"&&c.jsxs("div",{children:[c.jsxs("h2",{className:"text-xl font-semibold text-[#2D4660] mb-4 flex items-center",children:[c.jsx(Zr,{className:"h-5 w-5 mr-2"}),"All Your Voting Sessions"]}),c.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:he.map($=>{const ee=V($),_e=ee.icon,re=L($),je=x[$.id];return c.jsx("div",{className:"relative z-10 bg-white overflow-hidden shadow-md rounded-lg hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>q($),children:c.jsxs("div",{className:"p-6",children:[c.jsx("div",{className:"flex justify-end items-start mb-4",children:je?c.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[c.jsx(Fn,{className:"h-3 w-3 mr-1"}),"Voted"]}):ee.text==="Active"?c.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[c.jsx(Xt,{className:"h-3 w-3 mr-1"}),"Needs Your Vote"]}):null}),c.jsx("h3",{className:"text-lg font-semibold text-[#2D4660] mb-2",children:$.title}),c.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:$.goal}),c.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(oi,{className:"h-4 w-4 mr-2"}),c.jsxs("span",{children:[F($.start_date)," - ",F($.end_date)]})]}),c.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${ee.color}`,children:[c.jsx(_e,{className:"h-3 w-3 mr-1"}),ee.text]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(ki,{className:"h-4 w-4 mr-2"}),c.jsxs("span",{children:[p[$.id]||0," ",p[$.id]===1?"feature":"features"," to vote on"]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Zr,{className:"h-4 w-4 mr-2"}),c.jsx("span",{children:re.displayText}),re.isAuto&&c.jsxs("div",{className:"group relative ml-1",children:[c.jsx(Up,{className:"h-4 w-4 text-blue-500 cursor-help"}),c.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 whitespace-nowrap z-10 pointer-events-none",children:[re.formula,c.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-1 border-4 border-transparent border-t-gray-900"})]})]})]})]}),c.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:c.jsxs("button",{onClick:ue=>{ue.stopPropagation(),q($)},className:`w-full flex items-center justify-center px-4 py-2 rounded-lg transition-colors font-medium ${je?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-[#2D4660] text-white hover:bg-[#173B65]"}`,children:[c.jsx(Zr,{className:"h-4 w-4 mr-2"}),je?"View or Change Votes":"Cast Your Votes"]})})]})},$.id)})})]}),k==="admin"&&c.jsxs(c.Fragment,{children:[D.length>0&&c.jsxs("div",{children:[c.jsxs("h2",{className:"text-xl font-semibold text-[#2D4660] mb-4 flex items-center",children:[c.jsx(Zr,{className:"h-5 w-5 mr-2"}),"Your Voting Sessions"]}),c.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:D.map($=>{const ee=V($),_e=ee.icon,re=L($),je=x[$.id];return c.jsx("div",{className:"relative z-10 bg-white overflow-hidden shadow-md rounded-lg hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>q($),children:c.jsxs("div",{className:"p-6",children:[c.jsx("div",{className:"flex justify-end items-start mb-4",children:je?c.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[c.jsx(Fn,{className:"h-3 w-3 mr-1"}),"Voted"]}):ee.text==="Active"?c.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[c.jsx(Xt,{className:"h-3 w-3 mr-1"}),"Needs Your Vote"]}):null}),c.jsx("h3",{className:"text-lg font-semibold text-[#2D4660] mb-2",children:$.title}),c.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:$.goal}),c.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(oi,{className:"h-4 w-4 mr-2"}),c.jsxs("span",{children:[F($.start_date)," - ",F($.end_date)]})]}),c.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${ee.color}`,children:[c.jsx(_e,{className:"h-3 w-3 mr-1"}),ee.text]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(ki,{className:"h-4 w-4 mr-2"}),c.jsxs("span",{children:[p[$.id]||0," ",p[$.id]===1?"feature":"features"," to vote on"]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Zr,{className:"h-4 w-4 mr-2"}),c.jsx("span",{children:re.displayText}),re.isAuto&&c.jsxs("div",{className:"group relative ml-1",children:[c.jsx(Up,{className:"h-4 w-4 text-blue-500 cursor-help"}),c.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 whitespace-nowrap z-10 pointer-events-none",children:[re.formula,c.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-1 border-4 border-transparent border-t-gray-900"})]})]})]})]}),c.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:c.jsxs("button",{onClick:ue=>{ue.stopPropagation(),q($)},className:`w-full flex items-center justify-center px-4 py-2 rounded-lg transition-colors font-medium ${je?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-[#2D4660] text-white hover:bg-[#173B65]"}`,children:[c.jsx(Zr,{className:"h-4 w-4 mr-2"}),je?"View or Change Votes":"Cast Your Votes"]})})]})},$.id)})})]}),pe.length>0&&c.jsxs("div",{children:[c.jsxs("h2",{className:"text-xl font-semibold text-[#2D4660] mb-4 flex items-center",children:[c.jsx(mr,{className:"h-5 w-5 mr-2"}),"Sessions You Manage"]}),c.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:pe.map($=>{const ee=V($),_e=ee.icon,re=L($);return c.jsx("div",{className:"relative z-10 bg-white overflow-hidden shadow-md rounded-lg hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>q($),children:c.jsxs("div",{className:"p-6",children:[c.jsx("div",{className:"flex justify-end items-start mb-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{onClick:je=>K(je,$),className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-[#173B65] hover:bg-gray-200 transition-colors cursor-pointer",children:[c.jsx(mr,{className:"h-3 w-3 mr-1"}),"Admins"]}),c.jsxs("button",{onClick:je=>ae(je,$),className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-[#1E5461] text-white hover:bg-[#576C71] transition-colors cursor-pointer",children:[c.jsx(pn,{className:"h-3 w-3 mr-1"}),"Stakeholders"]})]})}),c.jsx("h3",{className:"text-lg font-semibold text-[#2D4660] mb-2",children:$.title}),c.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:$.goal}),c.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(oi,{className:"h-4 w-4 mr-2"}),c.jsxs("span",{children:[F($.start_date)," - ",F($.end_date)]})]}),c.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${ee.color}`,children:[c.jsx(_e,{className:"h-3 w-3 mr-1"}),ee.text]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(ki,{className:"h-4 w-4 mr-2"}),c.jsxs("span",{children:[p[$.id]||0," ",p[$.id]===1?"feature":"features"]})]}),c.jsxs("div",{className:"flex items-start",children:[c.jsx(Zr,{className:"h-4 w-4 mr-2 mt-0.5 flex-shrink-0"}),c.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"break-words",children:re.displayText}),re.isAuto&&c.jsxs("div",{className:"group relative ml-1 mt-0.5",children:[c.jsx(Up,{className:"h-4 w-4 text-blue-500 cursor-help"}),c.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 whitespace-nowrap z-10 pointer-events-none",children:[re.formula,c.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-1 border-4 border-transparent border-t-gray-900"})]})]})]}),c.jsxs("button",{onClick:je=>te(je,$),className:"ml-4 inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-[#C89212] text-white hover:bg-[#6A4234] transition-colors cursor-pointer flex-shrink-0",children:[c.jsx(YE,{className:"h-3 w-3 mr-1"}),ee.text==="Closed"?"Final Results":"Current Results"]})]})]})]}),c.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:c.jsxs("button",{onClick:je=>W(je,$),className:"w-full flex items-center justify-center px-3 py-2 bg-blue-50 hover:bg-blue-100 rounded-md transition-colors",children:[c.jsx(Wc,{className:"h-4 w-4 text-blue-600 mr-2"}),c.jsx("span",{className:"text-sm font-medium text-blue-600",children:"Email Invite to Stakeholders"})]})})]})},$.id)})})]})]})]}),k==="stakeholder"&&u.length>0&&c.jsx("div",{className:"relative z-10 mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(Zr,{className:"h-5 w-5 text-blue-600 mr-3 mt-0.5"}),c.jsxs("div",{className:"text-sm text-blue-800",children:[c.jsx("p",{className:"font-medium mb-1",children:"About Voting Sessions:"}),c.jsx("p",{children:"Click on any session card to cast your votes. You can change your votes at any time before the voting period ends."})]})]})}),k==="admin"&&D.length>0&&pe.length===0&&c.jsx("div",{className:"relative z-10 mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(Zr,{className:"h-5 w-5 text-blue-600 mr-3 mt-0.5"}),c.jsxs("div",{className:"text-sm text-blue-800",children:[c.jsx("p",{className:"font-medium mb-1",children:"About Voting Sessions:"}),c.jsx("p",{children:"Click on any session card to cast your votes. You can change your votes at any time before the voting period ends."})]})]})}),k==="admin"&&pe.length>0&&c.jsx("div",{className:"relative z-10 mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(pn,{className:"h-5 w-5 text-blue-600 mr-3 mt-0.5"}),c.jsxs("div",{className:"text-sm text-blue-800",children:[c.jsx("p",{className:"font-medium mb-1",children:"Managing Sessions:"}),c.jsx("p",{children:'Click "Email Invite to Stakeholders" on any session card to send invitation links. Use the Admins and Stakeholders buttons to manage access.'})]})]})}),c.jsx(TP,{isAdmin:se,viewMode:k==="admin"?"admin":"voting",onToggleView:()=>E(k==="admin"?"stakeholder":"admin")})]})}function $J(){const{currentUser:e,setCurrentSession:t,refreshSessions:r,setCurrentUser:n}=Ri(),i=Sn(),s=async()=>{try{await Ye.auth.signOut()}catch{}try{t(null)}catch{}n(null);try{localStorage.removeItem("voting_system_current_session"),localStorage.removeItem("azureDevOpsAuthInProgress"),sessionStorage.removeItem("oauth_return_path"),sessionStorage.removeItem("oauth_action")}catch{}i("/login",{replace:!0})},[o,u]=w.useState({title:"",goal:"",votesPerUser:10,useAutoVotes:!0,startDate:new Date().toISOString().split("T")[0],endDate:new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0]}),[d,m]=w.useState({}),[h,p]=w.useState(!1),[v,x]=w.useState(!1),b=()=>{const E="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let N="";for(let A=0;A<8;A++)N+=E.charAt(Math.floor(Math.random()*E.length));return N},S=()=>{const E={};o.title.trim()||(E.title="Session title is required"),o.goal.trim()||(E.goal="Session goal is required"),o.useAutoVotes||(o.votesPerUser<1&&(E.votesPerUser="Votes per user must be at least 1"),o.votesPerUser>100&&(E.votesPerUser="Votes per user cannot exceed 100"));const N=new Date(o.startDate);return new Date(o.endDate)<=N&&(E.endDate="End date must be after start date"),m(E),Object.keys(E).length===0},j=async E=>{if(E.preventDefault(),!(!S()||!e)){p(!0);try{const N=b(),A=await P$({title:o.title,goal:o.goal,votes_per_user:o.votesPerUser,use_auto_votes:o.useAutoVotes,start_date:o.startDate,end_date:o.endDate,is_active:!0,session_code:N});await rf(A.id,e.id),await r(),x(!0),setTimeout(()=>{t(A),i("/admin")},3e3)}catch(N){console.error("Error creating session:",N),m({submit:"Failed to create session. Please try again."})}finally{p(!1)}}},k=E=>{const{name:N,value:A}=E.target;u(T=>({...T,[N]:N==="votesPerUser"?parseInt(A)||0:A})),d[N]&&m(T=>{const I={...T};return delete I[N],I})};return v?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Fn,{className:"h-10 w-10 text-green-600"})}),c.jsx("h2",{className:"text-2xl font-bold text-[#2d4660] mb-2",children:"Session Created!"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Your voting session has been created successfully."}),c.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-4 mb-6",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Success!"}),c.jsx("p",{className:"text-base text-[#2d4660] font-medium",children:"Your session has been created."}),c.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"You can now invite stakeholders from your session dashboard."})]}),c.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting to admin dashboard..."})]})}):c.jsxs("div",{className:"container mx-auto p-4 max-w-6xl min-h-screen pb-8",children:[c.jsx("div",{className:"hidden md:flex md:justify-center mb-2",children:c.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"-mt-4",style:{height:"96px",width:"auto"}})}),c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("img",{src:"https://media.licdn.com/dms/image/C4D0BAQEC3OhRqehrKg/company-logo_200_200/0/1630518354793/new_millennium_building_systems_logo?e=2147483647&v=beta&t=LM3sJTmQZet5NshZ-RNHXW1MMG9xSi1asp-VUeSA9NA",alt:"New Millennium Building Systems Logo",className:"mr-4 md:hidden",style:{width:"40px",height:"40px"}}),c.jsx("button",{onClick:()=>i("/sessions"),className:"mr-2 p-1 rounded-full hover:bg-gray-200 cursor-pointer",children:c.jsx(il,{className:"h-6 w-6"})}),c.jsx("h1",{className:"text-2xl font-bold text-[#2d4660] md:text-3xl",children:"Create Voting Session"})]}),c.jsxs("button",{onClick:s,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[c.jsx(Cr,{className:"h-4 w-4 mr-2"}),c.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]}),c.jsx("div",{className:"relative z-10 bg-white rounded-lg shadow-md p-6",children:c.jsxs("form",{onSubmit:j,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Title *"}),c.jsx("input",{type:"text",name:"title",value:o.title,onChange:k,placeholder:"e.g., Q2 2025 Product Roadmap",className:`w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent ${d.title?"border-red-500":"border-gray-300"}`}),d.title&&c.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[c.jsx(Xt,{className:"h-4 w-4 mr-1"}),d.title]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Goal *"}),c.jsx("textarea",{name:"goal",value:o.goal,onChange:k,rows:3,placeholder:"Describe the purpose of this voting session...",className:`w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent ${d.goal?"border-red-500":"border-gray-300"}`}),d.goal&&c.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[c.jsx(Xt,{className:"h-4 w-4 mr-1"}),d.goal]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[c.jsx(Zr,{className:"h-4 w-4 inline mr-1"}),"Votes Per User *"]}),c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsx("input",{type:"checkbox",id:"useAutoVotes",checked:o.useAutoVotes,onChange:E=>u(N=>({...N,useAutoVotes:E.target.checked})),className:"h-4 w-4 text-[#2d4660] focus:ring-[#2d4660] border-gray-300 rounded cursor-pointer"}),c.jsx("label",{htmlFor:"useAutoVotes",className:"ml-2 text-sm text-gray-700 cursor-pointer",children:"Auto-calculate votes (half of feature count, minimum 1)"})]}),!o.useAutoVotes&&c.jsxs(c.Fragment,{children:[c.jsx("input",{type:"number",name:"votesPerUser",value:o.votesPerUser,onChange:k,min:"1",max:"100",className:`w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent ${d.votesPerUser?"border-red-500":"border-gray-300"}`}),d.votesPerUser&&c.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[c.jsx(Xt,{className:"h-4 w-4 mr-1"}),d.votesPerUser]})]}),c.jsx("p",{className:"mt-2 text-sm text-gray-500",children:o.useAutoVotes?"Votes will automatically be set to half the number of features (1 feature = 1 vote, 2 features = 1 vote, 4 features = 2 votes, etc.)":"Each stakeholder will have this many votes to distribute across features"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[c.jsx(oi,{className:"h-4 w-4 inline mr-1"}),"Start Date *"]}),c.jsx("input",{type:"date",name:"startDate",value:o.startDate,onChange:k,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[c.jsx(oi,{className:"h-4 w-4 inline mr-1"}),"End Date *"]}),c.jsx("input",{type:"date",name:"endDate",value:o.endDate,onChange:k,className:`w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent ${d.endDate?"border-red-500":"border-gray-300"}`}),d.endDate&&c.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[c.jsx(Xt,{className:"h-4 w-4 mr-1"}),d.endDate]})]})]}),c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(pn,{className:"h-5 w-5 text-blue-600 mr-3 mt-0.5"}),c.jsxs("div",{className:"text-sm text-blue-800",children:[c.jsx("p",{className:"font-medium mb-1",children:"Next Steps:"}),c.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[c.jsx("li",{children:"After creating the session, you'll be assigned as the admin"}),c.jsx("li",{children:"You can add stakeholders and other admins from the admin dashboard"}),c.jsx("li",{children:'Use the "Email Invite" button to send stakeholders a link to join'})]})]})]})}),d.submit&&c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:c.jsxs("p",{className:"text-sm text-red-800 flex items-center",children:[c.jsx(Xt,{className:"h-4 w-4 mr-2"}),d.submit]})}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[c.jsx("button",{type:"button",onClick:()=>i("/sessions"),className:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",disabled:h,children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-6 py-2 bg-[#2d4660] text-white rounded-md hover:bg-[#1d3a53] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:h,children:h?"Creating...":"Create Session"})]})]})})]})}async function Rx(e){const{error:t}=await Ye.functions.invoke("send-invitation-email",{body:e});if(t)throw t}function MJ(){const{currentSession:e,currentUser:t,setCurrentUser:r,setCurrentSession:n}=Ri(),i=Sn(),s=async()=>{try{await Ye.auth.signOut()}catch{}try{n(null)}catch{}r(null);try{localStorage.removeItem("voting_system_current_session"),localStorage.removeItem("azureDevOpsAuthInProgress"),sessionStorage.removeItem("oauth_return_path"),sessionStorage.removeItem("oauth_action")}catch{}N(!1),i("/login",{replace:!0})},[o,u]=w.useState([]),[d,m]=w.useState(!0),[h,p]=w.useState(!1),[v,x]=w.useState({name:"",email:""}),[b,S]=w.useState({}),[j,k]=w.useState(!1),[E,N]=w.useState(!1),A=w.useRef(null);w.useEffect(()=>{if(!E)return;const F=V=>{A.current&&!A.current.contains(V.target)&&N(!1)};return document.addEventListener("mousedown",F),document.addEventListener("touchstart",F,{passive:!0}),()=>{document.removeEventListener("mousedown",F),document.removeEventListener("touchstart",F)}},[E]),w.useEffect(()=>{if(!e){i("/sessions");return}T()},[e,i]);const T=async()=>{if(e){m(!0);try{const F=await SE(e.id);u(F)}catch(F){console.error("Error loading stakeholders:",F)}finally{m(!1)}}},I=F=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(F),L=async F=>{F.preventDefault();const V={};if(v.name.trim()||(V.name="Name is required"),v.email.trim()?I(v.email)||(V.email="Invalid email address"):V.email="Email is required",o.some(W=>W.user_email.toLowerCase()===v.email.toLowerCase())&&(V.email="This stakeholder is already added"),S(V),!(Object.keys(V).length>0)&&e){k(!0);try{await jE({session_id:e.id,user_name:v.name,user_email:v.email,has_voted:!1});try{const W=`${window.location.origin}/login?session=${e.session_code}`;await Rx({to:v.email,subject:`You're invited to vote: ${e.title}`,text:`Hi,

You've been invited to vote in "${e.title}".

Open: ${W}

Best regards,
${(t==null?void 0:t.name)||""}`,html:`<p>Hi,</p><p>You've been invited to vote in <strong>${e.title}</strong>.</p><p><a href="${W}">Open the Feature Voting System</a></p><p>Best regards,<br/>${(t==null?void 0:t.name)||""}</p>`})}catch{try{const W=_E(e,v.email,(t==null?void 0:t.name)||"");window.location.href=W}catch{}}await T(),x({name:"",email:""}),p(!1)}catch(W){console.error("Error adding stakeholder:",W),S({submit:"Failed to add stakeholder. Please try again."})}finally{k(!1)}}},q=async F=>{if(e&&confirm("Are you sure you want to remove this stakeholder?"))try{await Lv(e.id,F),await T()}catch(V){console.error("Error removing stakeholder:",V),alert("Failed to remove stakeholder")}},B=F=>new Date(F).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return e?d?c.jsx("div",{className:"min-h-screen w-full bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2d4660] mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading stakeholders..."})]})}):c.jsxs("div",{className:"container mx-auto p-4 max-w-6xl min-h-screen pb-8",children:[c.jsx("div",{className:"hidden md:flex md:justify-center mb-2",children:c.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"-mt-4",style:{height:"96px",width:"auto"}})}),c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("img",{src:"https://media.licdn.com/dms/image/C4D0BAQEC3OhRqehrKg/company-logo_200_200/0/1630518354793/new_millennium_building_systems_logo?e=2147483647&v=beta&t=LM3sJTmQZet5NshZ-RNHXW1MMG9xSi1asp-VUeSA9NA",alt:"New Millennium Building Systems Logo",className:"mr-4 md:hidden",style:{width:"40px",height:"40px"}}),c.jsx("button",{onClick:()=>i("/admin"),className:"mr-2 p-1 rounded-full hover:bg-gray-200 cursor-pointer",children:c.jsx(il,{className:"h-6 w-6"})}),c.jsx("h1",{className:"text-2xl font-bold text-[#2d4660] md:text-3xl",children:"Manage Stakeholders"})]}),c.jsxs("div",{ref:A,className:"relative z-40",children:[c.jsxs("div",{className:"hidden md:flex space-x-2",children:[c.jsxs("button",{onClick:()=>i("/admin"),className:"flex items-center px-4 py-2 bg-[#4f6d8e] text-white rounded-lg hover:bg-[#3d5670] transition-colors",children:[c.jsx(mr,{className:"h-4 w-4 mr-2"}),"Admin Dashboard"]}),c.jsxs("button",{onClick:()=>p(!0),className:"flex items-center px-4 py-2 bg-[#c59f2d] text-white rounded-lg hover:bg-[#a88a26] transition-colors",children:[c.jsx(Ca,{className:"h-4 w-4 mr-2"}),"Add Stakeholder"]}),c.jsxs("button",{onClick:s,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[c.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Logout"]})]}),c.jsx("div",{className:"flex md:hidden",children:c.jsx("button",{onClick:()=>N(!E),className:"p-2 rounded-md border border-gray-200 bg-white shadow-sm","aria-label":"Open menu",children:c.jsx(ki,{className:"h-5 w-5 text-gray-700"})})}),E&&c.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-lg md:hidden z-50",children:c.jsxs("div",{className:"py-1",children:[c.jsxs("button",{onClick:()=>{N(!1),i("/admin")},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(mr,{className:"h-4 w-4 mr-2 text-gray-700"}),"Admin Dashboard"]}),c.jsxs("button",{onClick:()=>{N(!1),p(!0)},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(Ca,{className:"h-4 w-4 mr-2 text-gray-700"}),"Add Stakeholder"]}),c.jsxs("button",{onClick:()=>{N(!1),s()},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(Cr,{className:"h-4 w-4 mr-2 text-gray-700"}),"Logout"]})]})})]})]}),c.jsx("div",{className:"relative z-10 bg-white rounded-lg shadow-md p-4 mb-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold text-[#2d4660]",children:"Current Session"}),c.jsx("p",{className:"text-gray-600 mt-1",children:e.title})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total Stakeholders"}),c.jsx("p",{className:"text-2xl font-bold text-[#2d4660]",children:o.length})]})]})}),c.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-md overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b border-gray-200",children:[c.jsxs("h2",{className:"text-lg font-semibold text-[#2d4660]",children:["Stakeholders (",o.length,")"]}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage who can vote in this session"})]}),o.length===0?c.jsxs("div",{className:"p-12 text-center",children:[c.jsx(Dr,{className:"mx-auto h-12 w-12 text-gray-400"}),c.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No stakeholders"}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by adding stakeholders to this voting session."}),c.jsx("div",{className:"mt-6",children:c.jsxs("button",{onClick:()=>p(!0),className:"inline-flex items-center px-4 py-2 bg-[#2d4660] text-white rounded-md hover:bg-[#1d3a53] transition-colors",children:[c.jsx(Ca,{className:"h-5 w-5 mr-2"}),"Add First Stakeholder"]})})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Voting Status"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Added"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(F=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Dr,{className:"h-5 w-5 text-gray-400 mr-2"}),c.jsx("span",{className:"text-sm font-medium text-gray-900",children:F.user_name})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[c.jsx(Wc,{className:"h-4 w-4 mr-2"}),F.user_email]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:F.has_voted?c.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[c.jsx(Fn,{className:"h-3 w-3 mr-1"}),"Voted"]}):c.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[c.jsx(ih,{className:"h-3 w-3 mr-1"}),"Pending"]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:B(F.created_at)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:c.jsx("button",{onClick:()=>q(F.user_email),className:"text-red-600 hover:text-red-900",children:c.jsx(Ws,{className:"h-5 w-5"})})})]},F.id))})]})})]}),h&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-medium text-[#2d4660]",children:"Add Stakeholder"}),c.jsx("button",{onClick:()=>{p(!1),x({name:"",email:""}),S({})},className:"text-gray-400 hover:text-gray-500",children:c.jsx(Oi,{className:"h-5 w-5"})})]}),c.jsxs("form",{onSubmit:L,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),c.jsx("input",{type:"text",value:v.name,onChange:F=>x(V=>({...V,name:F.target.value})),className:`w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent ${b.name?"border-red-500":"border-gray-300"}`,placeholder:"John Doe"}),b.name&&c.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[c.jsx(Xt,{className:"h-4 w-4 mr-1"}),b.name]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),c.jsx("input",{type:"email",value:v.email,onChange:F=>x(V=>({...V,email:F.target.value})),className:`w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent ${b.email?"border-red-500":"border-gray-300"}`,placeholder:"john@example.com"}),b.email&&c.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[c.jsx(Xt,{className:"h-4 w-4 mr-1"}),b.email]})]}),b.submit&&c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:c.jsxs("p",{className:"text-sm text-red-800 flex items-center",children:[c.jsx(Xt,{className:"h-4 w-4 mr-2"}),b.submit]})}),c.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>{p(!1),x({name:"",email:""}),S({})},className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:j,children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-[#2d4660] text-white rounded-md hover:bg-[#1d3a53] disabled:opacity-50",disabled:j,children:j?"Adding...":"Add Stakeholder"})]})]})]})})]}):null}function LJ(){const{currentSession:e,currentUser:t,setCurrentUser:r,setCurrentSession:n}=Ri(),i=Sn(),s=async()=>{try{await Ye.auth.signOut()}catch{}try{n(null)}catch{}r(null);try{localStorage.removeItem("voting_system_current_session"),localStorage.removeItem("azureDevOpsAuthInProgress"),sessionStorage.removeItem("oauth_return_path"),sessionStorage.removeItem("oauth_action")}catch{}N(!1),i("/login",{replace:!0})},[o,u]=w.useState([]),[d,m]=w.useState(!0),[h,p]=w.useState(!1),[v,x]=w.useState({email:""}),[b,S]=w.useState({}),[j,k]=w.useState(!1),[E,N]=w.useState(!1),A=w.useRef(null);w.useEffect(()=>{if(!E)return;const F=V=>{A.current&&!A.current.contains(V.target)&&N(!1)};return document.addEventListener("mousedown",F),document.addEventListener("touchstart",F,{passive:!0}),()=>{document.removeEventListener("mousedown",F),document.removeEventListener("touchstart",F)}},[E]),w.useEffect(()=>{if(!e){i("/sessions");return}T()},[e,i]);const T=async()=>{if(e){m(!0);try{const F=await bE(e.id);u(F)}catch(F){console.error("Error loading admins:",F)}finally{m(!1)}}},I=F=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(F),L=async F=>{F.preventDefault();const V={};if(v.email.trim()?I(v.email)||(V.email="Invalid email address"):V.email="Email is required",o.some(W=>W.user.email.toLowerCase()===v.email.toLowerCase())&&(V.email="This user is already an admin"),S(V),!(Object.keys(V).length>0)&&e){k(!0);try{const W=v.email.split("@")[0].replace(/\./g," ");await I$(e.id,v.email,W);try{const te=`${window.location.origin}/login?session=${e.session_code}`;await Rx({to:v.email,subject:`You're invited to administer: ${e.title}`,text:`Hi,

You've been added as an admin for "${e.title}".

Open: ${te}

Best regards,
${(t==null?void 0:t.name)||""}`,html:`<p>Hi,</p><p>You've been added as an admin for <strong>${e.title}</strong>.</p><p><a href="${te}">Open the Feature Voting System</a></p><p>Best regards,<br/>${(t==null?void 0:t.name)||""}</p>`})}catch{try{const te=_E(e,v.email,(t==null?void 0:t.name)||"");window.location.href=te}catch{}}await T(),x({email:""}),p(!1)}catch(W){console.error("Error adding admin:",W),S({submit:"Failed to add admin. Please try again."})}finally{k(!1)}}},q=async F=>{if(e){if(o.length===1){alert("Cannot remove the last admin. Sessions must have at least one admin.");return}if(F===(t==null?void 0:t.id)){alert("You cannot remove yourself as an admin.");return}if(confirm("Are you sure you want to remove this admin?"))try{await Vd(e.id,F),await T()}catch(V){console.error("Error removing admin:",V),alert("Failed to remove admin")}}},B=F=>new Date(F).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return e?d?c.jsx("div",{className:"min-h-screen w-full bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2d4660] mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading admins..."})]})}):c.jsxs("div",{className:"container mx-auto p-4 max-w-6xl min-h-screen pb-8",children:[c.jsx("div",{className:"hidden md:flex md:justify-center mb-2",children:c.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"-mt-4",style:{height:"96px",width:"auto"}})}),c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("img",{src:"https://media.licdn.com/dms/image/C4D0BAQEC3OhRqehrKg/company-logo_200_200/0/1630518354793/new_millennium_building_systems_logo?e=2147483647&v=beta&t=LM3sJTmQZet5NshZ-RNHXW1MMG9xSi1asp-VUeSA9NA",alt:"New Millennium Building Systems Logo",className:"mr-4 md:hidden",style:{width:"40px",height:"40px"}}),c.jsx("button",{onClick:()=>i("/admin"),className:"mr-2 p-1 rounded-full hover:bg-gray-200 cursor-pointer",children:c.jsx(il,{className:"h-6 w-6"})}),c.jsx("h1",{className:"text-2xl font-bold text-[#2d4660] md:text-3xl",children:"Session Admins"})]}),c.jsxs("div",{ref:A,className:"relative z-40",children:[c.jsxs("div",{className:"hidden md:flex space-x-2",children:[c.jsxs("button",{onClick:()=>i("/admin"),className:"flex items-center px-4 py-2 bg-[#4f6d8e] text-white rounded-lg hover:bg-[#3d5670] transition-colors",children:[c.jsx(mr,{className:"h-4 w-4 mr-2"}),"Admin Dashboard"]}),c.jsxs("button",{onClick:()=>p(!0),className:"flex items-center px-4 py-2 bg-[#c59f2d] text-white rounded-lg hover:bg-[#a88a26] transition-colors",children:[c.jsx(Ca,{className:"h-4 w-4 mr-2"}),"Add Admin"]}),c.jsxs("button",{onClick:s,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[c.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Logout"]})]}),c.jsx("div",{className:"flex md:hidden",children:c.jsx("button",{onClick:()=>N(!E),className:"p-2 rounded-md border border-gray-200 bg-white shadow-sm","aria-label":"Open menu",children:c.jsx(ki,{className:"h-5 w-5 text-gray-700"})})}),E&&c.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-lg md:hidden z-50",children:c.jsxs("div",{className:"py-1",children:[c.jsxs("button",{onClick:()=>{N(!1),i("/admin")},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(mr,{className:"h-4 w-4 mr-2 text-gray-700"}),"Admin Dashboard"]}),c.jsxs("button",{onClick:()=>{N(!1),p(!0)},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(Ca,{className:"h-4 w-4 mr-2 text-gray-700"}),"Add Admin"]}),c.jsxs("button",{onClick:()=>{N(!1),s()},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(Cr,{className:"h-4 w-4 mr-2 text-gray-700"}),"Logout"]})]})})]})]}),c.jsx("div",{className:"relative z-10 bg-white rounded-lg shadow-md p-4 mb-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold text-[#2d4660]",children:"Current Session"}),c.jsx("p",{className:"text-gray-600 mt-1",children:e.title})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total Admins"}),c.jsx("p",{className:"text-2xl font-bold text-[#2d4660]",children:o.length})]})]})}),c.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-md overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b border-gray-200",children:[c.jsxs("h2",{className:"text-lg font-semibold text-[#2d4660]",children:["Session Admins (",o.length,")"]}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage who can administer this voting session"})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Added"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"relative z-10 bg-white divide-y divide-gray-200",children:o.map(F=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Xr,{className:"h-5 w-5 text-blue-500 mr-2"}),c.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[F.user.name,F.user.id===(t==null?void 0:t.id)&&c.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(You)"})]})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[c.jsx(Wc,{className:"h-4 w-4 mr-2"}),F.user.email]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:B(F.created_at)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:c.jsx("button",{onClick:()=>q(F.user_id),className:`text-red-600 hover:text-red-900 ${F.user.id===(t==null?void 0:t.id)||o.length===1?"opacity-50 cursor-not-allowed":""}`,disabled:F.user.id===(t==null?void 0:t.id)||o.length===1,title:F.user.id===(t==null?void 0:t.id)?"You cannot remove yourself":o.length===1?"Cannot remove the last admin":"Remove admin",children:c.jsx(Ws,{className:"h-5 w-5"})})})]},F.id))})]})})]}),c.jsx("div",{className:"relative z-10 mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(Xr,{className:"h-5 w-5 text-blue-600 mr-3 mt-0.5"}),c.jsxs("div",{className:"text-sm text-blue-800",children:[c.jsx("p",{className:"font-medium mb-1",children:"Session Admin Permissions:"}),c.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[c.jsx("li",{children:"Manage features and voting settings for this session"}),c.jsx("li",{children:"Add and remove stakeholders for this session"}),c.jsx("li",{children:"View voting results and analytics for this session"}),c.jsx("li",{children:"Add and remove other session admins"})]}),c.jsx("p",{className:"mt-2 text-xs italic",children:"Note: System Admins have full admin access to all sessions in the system."})]})]})}),h&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-medium text-[#2d4660]",children:"Add Session Admin"}),c.jsx("button",{onClick:()=>{p(!1),x({email:""}),S({})},className:"text-gray-400 hover:text-gray-500",children:c.jsx(Oi,{className:"h-5 w-5"})})]}),c.jsxs("form",{onSubmit:L,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),c.jsx("input",{type:"email",value:v.email,onChange:F=>x(V=>({...V,email:F.target.value})),className:`w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent ${b.email?"border-red-500":"border-gray-300"}`,placeholder:"admin@example.com"}),b.email&&c.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[c.jsx(Xt,{className:"h-4 w-4 mr-1"}),b.email]})]}),b.submit&&c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:c.jsxs("p",{className:"text-sm text-red-800 flex items-center",children:[c.jsx(Xt,{className:"h-4 w-4 mr-2"}),b.submit]})}),c.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>{p(!1),x({email:""}),S({})},className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:j,children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-[#2d4660] text-white rounded-md hover:bg-[#1d3a53] disabled:opacity-50",disabled:j,children:j?"Adding...":"Add Admin"})]})]})]})})]}):null}function FJ(){const{currentUser:e,sessions:t}=Ri(),r=Sn(),[n,i]=w.useState([]),[s,o]=w.useState(!0),[u,d]=w.useState(!1);w.useEffect(()=>{m()},[t]);const m=async()=>{o(!0);try{const v=new Set;for(const x of t)(await bE(x.id)).forEach(S=>{S.user&&S.user.email&&v.add(S.user.email)});i(Array.from(v))}catch(v){console.error("Error loading admin emails:",v)}finally{o(!1)}},h=()=>{const v=encodeURIComponent(" Request: Add me to Feature Voting System"),x=encodeURIComponent(`Hi Team,

I tried to access the Feature Voting System but don't have admin permissions yet.

Could you please add me to the system so I can participate in voting?

My details:
Name: ${(e==null?void 0:e.name)||"Unknown"}
Email: ${(e==null?void 0:e.email)||"Unknown"}

Thanks!
${(e==null?void 0:e.name)||"A hopeful voter"} `),b=n.length>0?`mailto:${n.join(",")}?subject=${v}&body=${x}`:`mailto:?subject=${v}&body=${x}`;window.location.href=b,d(!0)},p=()=>{r("/login")};return s?c.jsx("div",{className:"min-h-screen w-full bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2d4660] mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-4",children:c.jsxs("div",{className:"max-w-md w-full",children:[c.jsx("div",{className:"text-center mb-8",children:c.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"mx-auto",style:{height:"80px",width:"auto"}})}),c.jsxs("div",{className:"relative z-10 bg-white rounded-xl shadow-lg overflow-hidden",children:[c.jsxs("div",{className:"bg-gradient-to-r from-[#2d4660] to-[#1d3a53] p-6 text-center",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-white/10 rounded-full mb-4",children:c.jsx(c6,{className:"h-8 w-8 text-white"})}),c.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Whoa There, Speedracer! "}),c.jsx("p",{className:"text-blue-100 text-sm",children:"You need access to the Feature Voting System"})]}),c.jsx("div",{className:"p-6",children:u?c.jsx(c.Fragment,{children:c.jsxs("div",{className:"text-center py-4",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:c.jsx(Fn,{className:"h-8 w-8 text-green-600"})}),c.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Email Sent! "}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Your access request has been sent to the admin team. They'll get you set up soon!"}),c.jsxs("button",{onClick:p,className:"inline-flex items-center px-4 py-2 bg-[#2d4660] text-white rounded-lg hover:bg-[#1d3a53] transition-colors",children:[c.jsx(IS,{className:"h-4 w-4 mr-2"}),"Back to Login"]})]})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("p",{className:"text-gray-600 mb-4",children:"Looks like you're trying to access the Feature Voting System, but you haven't been added yet."}),c.jsx("p",{className:"text-gray-600 mb-4",children:"No worries! Click the button below to send a quick message to the admins asking to be added."}),c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(pn,{className:"h-5 w-5 text-blue-600 mr-2 mt-0.5 flex-shrink-0"}),c.jsx("div",{className:"text-sm text-blue-800",children:n.length>0?c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"font-medium mb-1",children:"Your message will be sent to:"}),c.jsx("p",{className:"text-xs",children:n.join(", ")})]}):c.jsx("p",{children:"Your message will help the admin team get you set up!"})})]})})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("button",{onClick:h,className:"w-full flex items-center justify-center px-4 py-3 bg-[#c59f2d] text-white rounded-lg hover:bg-[#a88a26] transition-colors font-medium",children:[c.jsx(Wc,{className:"h-5 w-5 mr-2"}),"Request Access from Admins"]}),c.jsxs("button",{onClick:p,className:"w-full flex items-center justify-center px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[c.jsx(IS,{className:"h-4 w-4 mr-2"}),"Back to Login"]})]})]})})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsx("p",{className:"text-sm text-gray-500",children:"Once you're added to the system, you'll be able to participate in voting sessions."})})]})})}function zJ(){const{currentUser:e,setCurrentUser:t,setCurrentSession:r}=Ri(),n=Sn(),i=async()=>{try{await Ye.auth.signOut()}catch{}try{r(null)}catch{}t(null);try{localStorage.removeItem("voting_system_current_session"),localStorage.removeItem("azureDevOpsAuthInProgress"),sessionStorage.removeItem("oauth_return_path"),sessionStorage.removeItem("oauth_action")}catch{}E(!1),n("/login",{replace:!0})},[s,o]=w.useState([]),[u,d]=w.useState(!0),[m,h]=w.useState(!1),[p,v]=w.useState({email:""}),[x,b]=w.useState({}),[S,j]=w.useState(!1),[k,E]=w.useState(!1),N=w.useRef(null);w.useEffect(()=>{if(!k)return;const B=F=>{N.current&&!N.current.contains(F.target)&&E(!1)};return document.addEventListener("mousedown",B),document.addEventListener("touchstart",B,{passive:!0}),()=>{document.removeEventListener("mousedown",B),document.removeEventListener("touchstart",B)}},[k]),w.useEffect(()=>{A()},[]);const A=async()=>{d(!0);try{let B=await Fv();B.length===0&&e&&(console.log("No system admins found. Adding current user as first system admin..."),await nf(e.id),B=await Fv()),o(B)}catch(B){console.error("Error loading system admins:",B)}finally{d(!1)}},T=B=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(B),I=async B=>{B.preventDefault();const F={};if(p.email.trim()?T(p.email)||(F.email="Invalid email address"):F.email="Email is required",s.some(V=>V.user.email.toLowerCase()===p.email.toLowerCase())&&(F.email="This user is already a system admin"),b(F),!(Object.keys(F).length>0)){j(!0);try{const V=p.email.split("@")[0].replace(/\./g," "),W=await Gy(p.email,V);await nf(W.id);try{const te=`${window.location.origin}/login`;await Rx({to:p.email,subject:"You're a System Admin: Feature Voting System",text:`Hi,

You've been granted System Admin access to the Feature Voting System.

Login: ${te}

Best regards,
System`,html:`<p>Hi,</p><p>You've been granted <strong>System Admin</strong> access to the Feature Voting System.</p><p><a href="${te}">Login</a></p><p>Best regards,<br/>System</p>`})}catch{try{const te=`${window.location.origin}/login`,K=encodeURIComponent("You're a System Admin: Feature Voting System"),ae=encodeURIComponent(`Hi,

You've been granted System Admin access to the Feature Voting System.

To sign in, use this link:

${te}

Best regards,
System`);window.location.href=`mailto:${encodeURIComponent(p.email)}?subject=${K}&body=${ae}`}catch{}}await A(),v({email:""}),h(!1)}catch(V){console.error("Error adding system admin:",V),b({submit:"Failed to add system admin. Please try again."})}finally{j(!1)}}},L=async B=>{const F=s.reduce((V,W)=>new Date(W.created_at)<new Date(V.created_at)?W:V);if(B===F.user_id){alert("Cannot remove the original system admin. This protects against accidentally locking everyone out of the system.");return}if(s.length===1){alert("Cannot remove the last system admin. The system must have at least one admin.");return}if(B===(e==null?void 0:e.id)){alert("You cannot remove yourself as a system admin.");return}if(confirm("Are you sure you want to remove this system admin?"))try{await Wd(B),await A()}catch(V){console.error("Error removing system admin:",V),alert("Failed to remove system admin")}},q=B=>new Date(B).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return u?c.jsx("div",{className:"min-h-screen w-full bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2d4660] mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading system admins..."})]})}):c.jsxs("div",{className:"container mx-auto p-4 max-w-6xl min-h-screen pb-8",children:[c.jsx("div",{className:"hidden md:flex md:justify-center mb-2",children:c.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"-mt-4",style:{height:"96px",width:"auto"}})}),c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("img",{src:"https://media.licdn.com/dms/image/C4D0BAQEC3OhRqehrKg/company-logo_200_200/0/1630518354793/new_millennium_building_systems_logo?e=2147483647&v=beta&t=LM3sJTmQZet5NshZ-RNHXW1MMG9xSi1asp-VUeSA9NA",alt:"New Millennium Building Systems Logo",className:"mr-4 md:hidden",style:{width:"40px",height:"40px"}}),c.jsx("button",{onClick:()=>n("/sessions"),className:"mr-2 p-1 rounded-full hover:bg-gray-200 cursor-pointer",children:c.jsx(il,{className:"h-6 w-6"})}),c.jsx("h1",{className:"text-2xl font-bold text-[#2d4660] md:text-3xl",children:"System Admins"})]}),c.jsxs("div",{ref:N,className:"relative z-40",children:[c.jsxs("div",{className:"hidden md:flex space-x-2",children:[c.jsxs("button",{onClick:()=>n("/sessions"),className:"flex items-center px-4 py-2 bg-[#4f6d8e] text-white rounded-lg hover:bg-[#3d5670] transition-colors",children:[c.jsx(mr,{className:"h-4 w-4 mr-2"}),"My Sessions"]}),c.jsxs("button",{onClick:()=>h(!0),className:"flex items-center px-4 py-2 bg-[#c59f2d] text-white rounded-lg hover:bg-[#a88a26] transition-colors",children:[c.jsx(Ca,{className:"h-4 w-4 mr-2"}),"Add System Admin"]}),c.jsxs("button",{onClick:i,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[c.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Logout"]})]}),c.jsx("div",{className:"flex md:hidden",children:c.jsx("button",{onClick:()=>E(!k),className:"p-2 rounded-md border border-gray-200 bg-white shadow-sm","aria-label":"Open menu",children:c.jsx(ki,{className:"h-5 w-5 text-gray-700"})})}),k&&c.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-lg md:hidden z-50",children:c.jsxs("div",{className:"py-1",children:[c.jsxs("button",{onClick:()=>{E(!1),n("/sessions")},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(mr,{className:"h-4 w-4 mr-2 text-gray-700"}),"My Sessions"]}),c.jsxs("button",{onClick:()=>{E(!1),h(!0)},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(Ca,{className:"h-4 w-4 mr-2 text-gray-700"}),"Add System Admin"]}),c.jsxs("button",{onClick:()=>{E(!1),i()},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(Cr,{className:"h-4 w-4 mr-2 text-gray-700"}),"Logout"]})]})})]})]}),c.jsx("div",{className:"relative z-10 bg-gradient-to-r from-[#2d4660] to-[#1d3a53] rounded-lg shadow-md p-6 mb-6 text-white",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(fn,{className:"h-8 w-8 mr-3"}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold",children:"Feature Voting System"}),c.jsx("p",{className:"text-blue-100 mt-1",children:"Global administrator management"})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-sm text-blue-100",children:"Total System Admins"}),c.jsx("p",{className:"text-3xl font-bold",children:s.length})]})]})}),c.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-md overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b border-gray-200",children:[c.jsxs("h2",{className:"text-lg font-semibold text-[#2d4660]",children:["System Administrators (",s.length,")"]}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage who has full access to the Feature Voting System"})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Added"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(()=>{const B=s.reduce((F,V)=>new Date(V.created_at)<new Date(F.created_at)?V:F);return s.map(F=>{const V=F.user_id===B.user_id;return c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(fn,{className:"h-5 w-5 text-[#c59f2d] mr-2"}),c.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[F.user.name,F.user.id===(e==null?void 0:e.id)&&c.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(You)"}),V&&c.jsx("span",{className:"ml-2 text-xs text-[#c59f2d] font-semibold",children:"(Original Admin)"})]})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[c.jsx(Wc,{className:"h-4 w-4 mr-2"}),F.user.email]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:q(F.created_at)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:c.jsx("button",{onClick:()=>L(F.user_id),className:`text-red-600 hover:text-red-900 ${F.user.id===(e==null?void 0:e.id)||s.length===1||V?"opacity-50 cursor-not-allowed":""}`,disabled:F.user.id===(e==null?void 0:e.id)||s.length===1||V,title:V?"Cannot remove the original system admin":F.user.id===(e==null?void 0:e.id)?"You cannot remove yourself":s.length===1?"Cannot remove the last system admin":"Remove system admin",children:c.jsx(Ws,{className:"h-5 w-5"})})})]},F.id)})})()})]})})]}),c.jsx("div",{className:"relative z-10 mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(fn,{className:"h-5 w-5 text-yellow-600 mr-3 mt-0.5"}),c.jsxs("div",{className:"text-sm text-yellow-800",children:[c.jsx("p",{className:"font-medium mb-1",children:"System Admin Permissions:"}),c.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[c.jsx("li",{children:"Full access to all voting sessions across the system"}),c.jsx("li",{children:"Create and manage any voting session"}),c.jsx("li",{children:"Add and remove other system administrators"}),c.jsx("li",{children:"Manage session admins and stakeholders for any session"}),c.jsx("li",{children:"View all results and analytics system-wide"})]}),c.jsx("p",{className:"mt-3 text-xs font-medium",children:"Note: The original system admin (first person to access this page) cannot be removed to prevent system lockout."})]})]})}),m&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-medium text-[#2d4660]",children:"Add System Admin"}),c.jsx("button",{onClick:()=>{h(!1),v({email:""}),b({})},className:"text-gray-400 hover:text-gray-500",children:c.jsx(Oi,{className:"h-5 w-5"})})]}),c.jsxs("form",{onSubmit:I,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),c.jsx("input",{type:"email",value:p.email,onChange:B=>v(F=>({...F,email:B.target.value})),className:`w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent ${x.email?"border-red-500":"border-gray-300"}`,placeholder:"admin@example.com"}),x.email&&c.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[c.jsx(Xt,{className:"h-4 w-4 mr-1"}),x.email]})]}),x.submit&&c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:c.jsxs("p",{className:"text-sm text-red-800 flex items-center",children:[c.jsx(Xt,{className:"h-4 w-4 mr-2"}),x.submit]})}),c.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>{h(!1),v({email:""}),b({})},className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:S,children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-[#2d4660] text-white rounded-md hover:bg-[#1d3a53] disabled:opacity-50",disabled:S,children:S?"Adding...":"Add System Admin"})]})]})]})})]})}function UJ(){const{currentUser:e,setCurrentUser:t,setCurrentSession:r,currentSession:n}=Ri(),i=Sn(),[s]=ZN(),[o,u]=w.useState([]),[d,m]=w.useState([]),[h,p]=w.useState(!0),[v,x]=w.useState(""),[b,S]=w.useState("all"),[j,k]=w.useState(!1),[E,N]=w.useState(null),[A,T]=w.useState(null),I=w.useRef(null),L=w.useRef({}),q=w.useRef(!1),[B,F]=w.useState(!1),[V,W]=w.useState(!1),[te,K]=w.useState([]),[ae,Ne]=w.useState("system-admin"),[ke,se]=w.useState(!0),[he,pe]=w.useState(!1),[D,$]=w.useState(null),[ee,_e]=w.useState(null),[re,je]=w.useState([]),[ue,ye]=w.useState(""),[X,xe]=w.useState({adminSessions:[],stakeholderSessions:[]}),[$e,ie]=w.useState(!1),[Ae,Ke]=w.useState(null),[nt,at]=w.useState(!1),[de,Me]=w.useState(null),[et,Pt]=w.useState(new Set),[ce,O]=w.useState(new Map),[z,Y]=w.useState(!1),[le,fe]=w.useState(!1),[J,be]=w.useState({name:"",email:"",password:"",isSystemAdmin:!1,sessionAdminIds:[],stakeholderSessionIds:[]}),[Fe,ot]=w.useState({systemAdmin:!1,sessionAdmin:!1,stakeholder:!1}),ut=async()=>{try{await Ye.auth.signOut()}catch{}try{r(null)}catch{}t(null);try{localStorage.removeItem("voting_system_current_session"),localStorage.removeItem("azureDevOpsAuthInProgress"),sessionStorage.removeItem("oauth_return_path"),sessionStorage.removeItem("oauth_action")}catch{}k(!1),i("/login",{replace:!0})};w.useEffect(()=>{if(!j)return;const P=oe=>{I.current&&!I.current.contains(oe.target)&&k(!1)};return document.addEventListener("mousedown",P),document.addEventListener("touchstart",P,{passive:!0}),()=>{document.removeEventListener("mousedown",P),document.removeEventListener("touchstart",P)}},[j]),w.useEffect(()=>{if(!E)return;const P=oe=>{const Ee=L.current[E];Ee&&!Ee.contains(oe.target)&&N(null)};return document.addEventListener("mousedown",P),document.addEventListener("touchstart",P,{passive:!0}),()=>{document.removeEventListener("mousedown",P),document.removeEventListener("touchstart",P)}},[E]);const tr=async P=>{p(!0),console.log("=== CHECKING USERS TABLE SCHEMA ===");try{const{data:oe,error:Ee}=await Ye.from("users").select("*").limit(1).single();oe?(console.log(" Sample user record:",oe),console.log(" Available fields:",Object.keys(oe)),console.log(" Has created_by?","created_by"in oe),console.log(" Has created_by_name?","created_by_name"in oe),console.log(" Has created_by_user_id?","created_by_user_id"in oe)):console.log(" No users found or error:",Ee)}catch(oe){console.log(" Error checking schema:",oe)}console.log(`=== END SCHEMA CHECK ===
`);try{const oe=await K1(),Ee=new Map;await Promise.all(P.map(async dt=>{try{const wr=await SE(dt.id);Ee.set(dt.id,wr)}catch(wr){console.error(`Error loading stakeholders for session ${dt.id}:`,wr),Ee.set(dt.id,[])}}));const He=await Promise.all(oe.map(async dt=>{const wr=await A$(dt.id),ml=[],pl=[];if(wr.sessionAdminCount>0)try{const{data:vi,error:gl}=await Ye.from("session_admins").select("session_id").eq("user_id",dt.id);if(gl)console.error("Error fetching admin sessions:",gl);else if(vi){const uu=vi.map(xt=>xt.session_id);ml.push(...P.filter(xt=>uu.includes(xt.id)))}}catch(vi){console.error("Error querying session_admins:",vi)}for(const vi of P)(Ee.get(vi.id)||[]).some(xt=>{const Mh=xt.user_email&&dt.email&&xt.user_email.toLowerCase()===dt.email.toLowerCase(),vl=xt.user_id===dt.id||xt.id===dt.id;return Mh||vl})&&pl.push(vi);return{...dt,roles:wr,adminInSessions:ml,stakeholderInSessions:pl}}));u(He);const Ue=new Map;He.forEach(dt=>{const wr=dt.email.toLowerCase().trim();Ue.has(wr)||Ue.set(wr,[]),Ue.get(wr).push(dt.id)});const yt=new Map;Ue.forEach((dt,wr)=>{dt.length>1&&yt.set(wr,dt)}),O(yt)}catch(oe){console.error("Error loading users:",oe)}finally{p(!1)}},qn=async()=>{if(e){se(!0);try{const P=await rl(e.id);F(P);const oe=await Jy();let Ee=[];if(P)je(oe),await _n(),await tr(oe);else{const He=await Promise.all(oe.map(dt=>Ec(dt.id,e.id)));oe.forEach((dt,wr)=>{He[wr]&&Ee.push(dt.id)});const Ue=Ee.length>0;if(W(Ue),K(Ee),!Ue){i("/sessions");return}const yt=oe.filter(dt=>Ee.includes(dt.id));je(yt),Ne("session-admin"),await tr(yt)}}catch(P){console.error("Error checking access:",P),i("/sessions")}finally{se(!1)}}},_n=async()=>{try{const P=["chris.rodes@newmill.com","spencer.faull@newmill.com"],oe=new Set,Ee=await Fv();if(Ee.length>0){const Ue=Ee.reduce((yt,dt)=>new Date(dt.created_at)<new Date(yt.created_at)?dt:yt);Me(Ue.user_id),oe.add(Ue.user_id)}(await K1()).forEach(Ue=>{P.includes(Ue.email.toLowerCase())&&oe.add(Ue.id)}),Pt(oe)}catch(P){console.error("Error loading protected accounts:",P)}},Or=P=>{if(P.id===de)return"Original Admin";const oe=P.email.toLowerCase();return oe==="chris.rodes@newmill.com"?"Manager":oe==="spencer.faull@newmill.com"?"Portfolio Owner":null},kn=P=>{const oe=P.email.toLowerCase().trim(),Ee=ce.get(oe);return Ee?Ee.length>1:!1},Hn=P=>{const oe=P.email.toLowerCase().trim(),Ee=ce.get(oe);return Ee?Ee.length:1},Kn=()=>{let P=[...o];if(v.trim()){const oe=v.toLowerCase();P=P.filter(Ee=>Ee.name.toLowerCase().includes(oe)||Ee.email.toLowerCase().includes(oe))}b!=="all"&&(P=P.filter(oe=>{switch(b){case"system-admin":return oe.roles.isSystemAdmin;case"session-admin":return oe.roles.sessionAdminCount>0&&!oe.roles.isSystemAdmin;case"stakeholder":return oe.roles.stakeholderSessionCount>0&&oe.roles.sessionAdminCount===0&&!oe.roles.isSystemAdmin;case"none":return!oe.roles.isSystemAdmin&&oe.roles.sessionAdminCount===0&&oe.roles.stakeholderSessionCount===0;default:return!0}})),m(P)};w.useEffect(()=>{if(!e){i("/login");return}if(!q.current)return q.current=!0,qn(),()=>{}},[e]),w.useEffect(()=>{const P=s.get("filter");P&&["system-admin","session-admin","stakeholder","none"].includes(P)&&S(P)},[s]),w.useEffect(()=>{Kn()},[o,v,b]);const fs=async P=>{try{const oe=[],Ee=[];for(const He of re)await Ec(P,He.id)&&oe.push(He.id),await(void 0)(P,He.id)&&Ee.push(He.id);xe({adminSessions:oe,stakeholderSessions:Ee})}catch(oe){console.error("Error loading user session memberships:",oe)}},Nn=async(P,oe)=>{_e(P),$(oe),ye(""),pe(!0),N(null),await fs(P.id)},En=()=>{pe(!1),$(null),_e(null),ye(""),xe({adminSessions:[],stakeholderSessions:[]})},pi=async()=>{if(!(!ee||!ue||!D))try{D==="session-admin"?await rf(ue,ee.id):D==="stakeholder"?await Y1(ue,ee.email,ee.name):D==="remove-stakeholder"&&await Lv(ue,ee.email),En(),await tr(re)}catch(P){console.error("Error modifying user session role:",P);const oe=(P==null?void 0:P.message)||(P==null?void 0:P.toString())||"Unknown error";console.error("Full error details:",P),alert(`Failed to ${D==="remove-stakeholder"?"remove stakeholder from":"add user to"} session.

Error: ${oe}

Please check the console for more details.`)}},gi=async(P,oe)=>{if(N(null),!!confirm(`Are you sure you want to ${oe?"remove":"grant"} system admin access for this user?`))try{oe?await Wd(P):await nf(P),await tr(re)}catch(Ee){console.error("Error toggling system admin:",Ee),alert("Failed to update system admin status. Please try again.")}},hs=async(P,oe)=>{N(null);const Ee=ae==="session-admin"?`Are you sure you want to remove ${oe} from all sessions you manage? This will remove them as a stakeholder or session admin from your sessions only.`:`Are you sure you want to remove all roles from ${oe}? This will remove them from all sessions and revoke system admin access.`;if(confirm(Ee))try{if(ae==="system-admin"&&await Wd(P),ae==="session-admin"){for(const He of te)try{await Vd(He,P)}catch(Ue){console.error(`Error removing session admin from ${He}:`,Ue)}for(const He of te)try{await(void 0)(He,P)}catch(Ue){console.error(`Error removing stakeholder from ${He}:`,Ue)}}else for(const He of re)try{await Vd(He.id,P),await(void 0)(He.id,P)}catch{}await tr(re)}catch(He){console.error("Error removing roles:",He),alert("Failed to remove roles. Please try again.")}},Xs=async(P,oe)=>{const Ee=o.find(He=>He.id===P);if(Ee){if(ae==="session-admin"){if(Ee.roles.stakeholderSessionCount===0){alert("This user is not a stakeholder in any sessions.");return}const He=`Are you sure you want to remove ${oe} as a stakeholder from all sessions you manage?`;if(!confirm(He))return;try{let Ue=0;for(const yt of re)try{await Lv(yt.id,Ee.email),Ue++}catch(dt){console.error(`Error removing stakeholder from session ${yt.id}:`,dt)}await tr(re),Ue>0?alert(`${oe} has been removed as a stakeholder from ${Ue} session(s) you manage.`):alert(`${oe} was not a stakeholder in any of the sessions you manage.`)}catch(Ue){console.error("Error removing stakeholder:",Ue),alert("Failed to remove stakeholder. Please try again.")}return}Ke(Ee),ie(!0)}},Zs=async()=>{if(Ae){if(et.has(Ae.id)){const P=Or(Ae);alert(`Cannot delete this protected account${P?` (${P})`:""}. This protects against accidentally locking important users out of the system.`),ie(!1),Ke(null);return}at(!0);try{for(const oe of re)try{await Vd(oe.id,Ae.id),await(void 0)(oe.id,Ae.id)}catch{}if(Ae.roles.isSystemAdmin)try{await Wd(Ae.id)}catch(oe){console.error("Error removing system admin role:",oe)}const{error:P}=await Ye.from("users").delete().eq("id",Ae.id);if(P)throw P;await tr(re),ie(!1),Ke(null)}catch(P){console.error("Error deleting user:",P),alert("Failed to delete user. Please try again.")}finally{at(!1)}}},Ha=()=>{ie(!1),Ke(null)},ne=()=>{be({name:"",email:"",password:ze(),isSystemAdmin:!1,sessionAdminIds:[],stakeholderSessionIds:[]}),Y(!0)},we=()=>{Y(!1),be({name:"",email:"",password:"",isSystemAdmin:!1,sessionAdminIds:[],stakeholderSessionIds:[]}),ot({systemAdmin:!1,sessionAdmin:!1,stakeholder:!1})},ze=()=>{const oe="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";let Ee="";for(let He=0;He<12;He++)Ee+=oe.charAt(Math.floor(Math.random()*oe.length));return Ee},Pe=async()=>{if(!J.name.trim()||!J.email.trim()||!J.password.trim()){alert("Please fill in all required fields (Name, Email, Password)");return}fe(!0);try{const{data:P,error:oe}=await Ye.auth.signUp({email:J.email,password:J.password,options:{data:{name:J.name}}});if(oe)throw oe;if(!P.user)throw new Error("User creation failed");const Ee=P.user.id,{error:He}=await Ye.from("users").insert({id:Ee,name:J.name,email:J.email,created_by:e==null?void 0:e.id,created_by_name:e==null?void 0:e.name});if(He)throw He;if(ae==="system-admin"&&J.isSystemAdmin&&await nf(Ee),ae==="system-admin")for(const Ue of J.sessionAdminIds)try{await rf(Ue,Ee)}catch(yt){console.error("Error adding session admin role:",yt)}if(console.log("Adding stakeholder to sessions:",J.stakeholderSessionIds),console.log("View mode:",ae),console.log("User admin sessions:",te),console.log("All sessions:",re.map(Ue=>({id:Ue.id,title:Ue.title}))),J.stakeholderSessionIds.length===0)console.log("No stakeholder sessions selected");else{for(const Ue of J.stakeholderSessionIds){if(ae==="session-admin"&&!re.some(dt=>dt.id===Ue)){console.warn(`Skipping session ${Ue} - not in managed sessions`);continue}try{console.log(`Adding ${J.email} as stakeholder to session ${Ue}`);const yt=await Y1(Ue,J.email,J.name);console.log(`Successfully added stakeholder to session ${Ue}:`,yt)}catch(yt){console.error(`Error adding stakeholder role to session ${Ue}:`,yt);const dt=(yt==null?void 0:yt.message)||(yt==null?void 0:yt.toString())||"Unknown error";alert(`Warning: Failed to add ${J.email} to session ${Ue}.

Error: ${dt}`)}}console.log("Finished adding stakeholder roles")}we(),await tr(re),alert(`User created successfully!

Email: ${J.email}
Temporary Password: ${J.password}

Please save this password and share it with the user securely.`)}catch(P){console.error("Error creating user:",P),alert(`Failed to create user: ${P.message||"Unknown error"}`)}finally{fe(!1)}},Ie=P=>{be(oe=>({...oe,sessionAdminIds:oe.sessionAdminIds.includes(P)?oe.sessionAdminIds.filter(Ee=>Ee!==P):[...oe.sessionAdminIds,P]}))},Te=P=>{be(oe=>({...oe,stakeholderSessionIds:oe.stakeholderSessionIds.includes(P)?oe.stakeholderSessionIds.filter(Ee=>Ee!==P):[...oe.stakeholderSessionIds,P]}))},zt=P=>new Date(P).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),mt=P=>P.roles.isSystemAdmin?c.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[c.jsx(fn,{className:"h-3 w-3 mr-1"}),"System Admin"]}):P.roles.sessionAdminCount>0?c.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-[#173B65] text-white",children:[c.jsx(Xr,{className:"h-3 w-3 mr-1"}),"Session Admin (",P.roles.sessionAdminCount,")"]}):P.roles.stakeholderSessionCount>0?c.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[c.jsx(Dr,{className:"h-3 w-3 mr-1"}),"Stakeholder (",P.roles.stakeholderSessionCount,")"]}):c.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600",children:"No Role"}),bt=P=>P?P==="session-admin"?re.filter(oe=>!X.adminSessions.includes(oe.id)):P==="remove-stakeholder"?re.filter(oe=>X.stakeholderSessions.includes(oe.id)&&(ae==="system-admin"||te.includes(oe.id))):re.filter(oe=>!X.stakeholderSessions.includes(oe.id)):[],We=(P,oe)=>oe?oe==="session-admin"?P.roles.sessionAdminCount<re.length:P.roles.stakeholderSessionCount<re.length:!1;return ke||h?c.jsx("div",{className:"min-h-screen w-full bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2d4660] mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:ke?"Checking access...":"Loading users..."})]})}):B?c.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[c.jsxs("div",{className:"container mx-auto p-4 max-w-6xl",children:[c.jsx("div",{className:"hidden md:flex md:justify-center mb-2",children:c.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"-mt-4",style:{height:"96px",width:"auto"}})}),c.jsxs("div",{className:"flex justify-between items-center mb-4 md:mb-6",children:[c.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[c.jsx("img",{src:"https://media.licdn.com/dms/image/C4D0BAQEC3OhRqehrKg/company-logo_200_200/0/1630518354793/new_millennium_building_systems_logo?e=2147483647&v=beta&t=LM3sJTmQZet5NshZ-RNHXW1MMG9xSi1asp-VUeSA9NA",alt:"New Millennium Building Systems Logo",className:"mr-3 md:hidden flex-shrink-0",style:{width:"36px",height:"36px"}}),c.jsx("button",{onClick:()=>{n!=null&&n.id?i("/admin"):i("/sessions")},className:"mr-2 p-1 rounded-full hover:bg-gray-200 cursor-pointer flex-shrink-0",children:c.jsx(il,{className:"h-6 w-6"})}),c.jsx("h1",{className:"text-xl md:text-3xl font-bold text-[#2d4660] truncate",children:"User Management"})]}),c.jsxs("div",{ref:I,className:"relative z-40 flex-shrink-0 ml-2",children:[c.jsxs("div",{className:"hidden md:flex space-x-2",children:[(B||V)&&c.jsxs("button",{onClick:ne,className:"flex items-center px-4 py-2 bg-[#2D4660] text-white rounded-lg hover:bg-[#173B65] transition-colors",children:[c.jsx(pn,{className:"h-4 w-4 mr-2"}),"Add User"]}),c.jsxs("button",{onClick:()=>i("/sessions"),className:"flex items-center px-4 py-2 bg-[#4f6d8e] text-white rounded-lg hover:bg-[#3d5670] transition-colors",children:[c.jsx(mr,{className:"h-4 w-4 mr-2"}),"My Sessions"]}),c.jsxs("button",{onClick:ut,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[c.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Logout"]})]}),c.jsx("div",{className:"flex md:hidden",children:c.jsx("button",{onClick:()=>k(!j),className:"p-2 rounded-md border border-gray-200 bg-white shadow-sm","aria-label":"Open menu",children:c.jsx(ki,{className:"h-5 w-5 text-gray-700"})})}),j&&c.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-lg md:hidden z-50",children:c.jsxs("div",{className:"py-1",children:[(B||V)&&c.jsxs("button",{onClick:()=>{k(!1),ne()},className:"w-full px-4 py-3 flex items-center text-left hover:bg-gray-50",children:[c.jsx(pn,{className:"h-5 w-5 mr-3 text-green-600"}),c.jsx("span",{className:"text-base",children:"Add User"})]}),c.jsxs("button",{onClick:()=>{k(!1),i("/sessions")},className:"w-full px-4 py-3 flex items-center text-left hover:bg-gray-50",children:[c.jsx(mr,{className:"h-5 w-5 mr-3 text-gray-700"}),c.jsx("span",{className:"text-base",children:"My Sessions"})]}),c.jsxs("button",{onClick:()=>{k(!1),ut()},className:"w-full px-4 py-3 flex items-center text-left hover:bg-gray-50",children:[c.jsx(Cr,{className:"h-5 w-5 mr-3 text-gray-700"}),c.jsx("span",{className:"text-base",children:"Logout"})]})]})})]})]}),c.jsx("div",{className:"relative z-10 bg-white rounded-lg shadow-md p-3 md:p-4 mb-4 md:mb-6",children:c.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:gap-4",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(v6,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search by name or email...",value:v,onChange:P=>x(P.target.value),className:"w-full pl-10 pr-10 py-2.5 md:py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#2d4660] focus:border-transparent text-base"}),v&&c.jsx("button",{onClick:()=>x(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c.jsx(Oi,{className:"h-5 w-5"})})]}),c.jsxs("select",{value:b,onChange:P=>S(P.target.value),className:"px-4 py-2.5 md:py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#2d4660] focus:border-transparent text-base",children:[c.jsx("option",{value:"all",children:"All Roles"}),c.jsx("option",{value:"system-admin",children:"System Admin"}),c.jsx("option",{value:"session-admin",children:"Session Admin"}),c.jsx("option",{value:"stakeholder",children:"Stakeholder"}),c.jsx("option",{value:"none",children:"No Role"})]})]})}),c.jsx("div",{className:"md:hidden space-y-3 relative z-10",children:d.length===0?c.jsx("div",{className:"bg-white rounded-lg shadow-md p-8 text-center text-gray-500",children:v||b!=="all"?"No users found matching your filters.":"No users found."}):d.map(P=>{var oe;return c.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[c.jsxs("div",{className:"p-4 border-b border-gray-100",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[c.jsxs("h3",{className:"text-base font-semibold text-gray-900 truncate",children:[P.name,P.id===(e==null?void 0:e.id)&&c.jsx("span",{className:"ml-2 text-xs text-[#c59f2d] font-semibold",children:"(You)"}),Or(P)&&c.jsxs("span",{className:"ml-2 text-xs text-[#c59f2d] font-semibold",children:["(",Or(P),")"]}),kn(P)&&c.jsxs("span",{className:"ml-2 px-2 py-0.5 bg-red-100 text-red-700 text-xs font-medium rounded",children:["Duplicate (",Hn(P),")"]})]}),c.jsx("p",{className:"text-sm text-gray-500 truncate",children:P.email})]}),c.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(ae==="system-admin"||ae==="session-admin"&&P.roles.stakeholderSessionCount>0&&((oe=P.stakeholderInSessions)==null?void 0:oe.some(Ee=>re.some(He=>He.id===Ee.id))))&&c.jsx("button",{onClick:()=>Xs(P.id,P.name),className:`p-2 rounded-md hover:bg-red-50 transition-colors ${P.id===(e==null?void 0:e.id)||ae==="system-admin"&&et.has(P.id)?"opacity-50 cursor-not-allowed":""}`,disabled:P.id===(e==null?void 0:e.id)||ae==="system-admin"&&et.has(P.id),title:ae==="session-admin"?"Remove stakeholder from all your sessions":et.has(P.id)?`Cannot delete protected account${Or(P)?` (${Or(P)})`:""}`:P.id===(e==null?void 0:e.id)?"Cannot delete your own account":"Delete user",children:c.jsx(Ws,{className:"h-5 w-5 text-red-600"})}),c.jsxs("div",{className:"relative",ref:Ee=>{L.current[P.id]=Ee},children:[c.jsx("button",{onClick:()=>N(E===P.id?null:P.id),className:`p-2 rounded-md hover:bg-gray-100 transition-colors ${P.id===(e==null?void 0:e.id)?"opacity-50 cursor-not-allowed":""}`,disabled:P.id===(e==null?void 0:e.id),title:P.id===(e==null?void 0:e.id)?"Cannot modify your own permissions":"Change user role",children:c.jsx(RS,{className:"h-5 w-5 text-gray-600"})}),E===P.id&&P.id!==(e==null?void 0:e.id)&&c.jsx("div",{className:"absolute right-0 mt-1 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:c.jsxs("div",{className:"py-1",children:[c.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase border-b border-gray-200",children:"Change User Role"}),ae==="system-admin"&&c.jsxs(c.Fragment,{children:[P.roles.isSystemAdmin?c.jsxs("button",{onClick:()=>gi(P.id,!0),className:"w-full px-4 py-3 text-left flex items-center hover:bg-red-50 text-red-700",children:[c.jsx(fn,{className:"h-5 w-5 mr-3 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-base",children:"Remove System Admin"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Revoke global admin access"})]})]}):c.jsxs("button",{onClick:()=>gi(P.id,!1),className:"w-full px-4 py-3 text-left flex items-center hover:bg-purple-50 text-purple-700",children:[c.jsx(fn,{className:"h-5 w-5 mr-3 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-base",children:"Make System Admin"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Grant global admin access"})]})]}),We(P,"session-admin")&&c.jsxs("button",{onClick:()=>Nn(P,"session-admin"),className:"w-full px-4 py-3 text-left flex items-center hover:bg-[#E8EDF2] text-[#2D4660] border-t border-gray-200",children:[c.jsx(Xr,{className:"h-5 w-5 mr-3 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-base",children:"Make Session Admin"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Add to a session as admin"})]})]})]}),We(P,"stakeholder")&&c.jsxs("button",{onClick:()=>Nn(P,"stakeholder"),className:"w-full px-4 py-3 text-left flex items-center hover:bg-green-50 text-green-700 border-t border-gray-200",children:[c.jsx(Dr,{className:"h-5 w-5 mr-3 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-base",children:"Make Stakeholder"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Add to a session as stakeholder"})]})]}),ae==="session-admin"&&P.stakeholderInSessions&&P.stakeholderInSessions.length>0&&P.stakeholderInSessions.some(Ee=>te.includes(Ee.id))&&c.jsxs("button",{onClick:()=>Nn(P,"remove-stakeholder"),className:"w-full px-4 py-3 text-left flex items-center hover:bg-red-50 text-red-700 border-t border-gray-200",children:[c.jsx(ec,{className:"h-5 w-5 mr-3 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-base",children:"Remove Stakeholder"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Remove from a session you manage"})]})]}),(P.roles.isSystemAdmin||P.roles.sessionAdminCount>0||P.roles.stakeholderSessionCount>0)&&c.jsxs("button",{onClick:()=>hs(P.id,P.name),className:"w-full px-4 py-3 text-left flex items-center hover:bg-gray-50 text-gray-700 border-t border-gray-200",children:[c.jsx(ec,{className:"h-5 w-5 mr-3 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-base",children:"Remove All Roles"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Remove from all sessions"})]})]})]})})]})]})]}),c.jsx("div",{className:"mt-2",children:mt(P)})]}),c.jsxs("div",{className:"p-4 space-y-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase mb-1",children:"Sessions"}),c.jsxs("div",{className:"space-y-1",children:[P.roles.sessionAdminCount>0&&c.jsxs("div",{className:"flex items-center text-sm cursor-help",title:P.adminInSessions&&P.adminInSessions.length>0?`Admin in: ${P.adminInSessions.map(Ee=>Ee.title||Ee.name||"Unnamed Session").join(", ")}`:"Loading session details...",children:[c.jsx(Xr,{className:"h-4 w-4 mr-2 text-[#2D4660] flex-shrink-0"}),c.jsxs("span",{className:"text-gray-700",children:[P.roles.sessionAdminCount," as Admin"]})]}),P.roles.stakeholderSessionCount>0&&c.jsxs("div",{className:"flex items-center text-sm cursor-help",title:P.stakeholderInSessions&&P.stakeholderInSessions.length>0?`Stakeholder in: ${P.stakeholderInSessions.map(Ee=>Ee.title||Ee.name||"Unnamed Session").join(", ")}`:"Loading session details...",children:[c.jsx(Dr,{className:"h-4 w-4 mr-2 text-green-500 flex-shrink-0"}),c.jsxs("span",{className:"text-gray-700",children:[P.roles.stakeholderSessionCount," as Stakeholder"]})]}),P.roles.sessionAdminCount===0&&P.roles.stakeholderSessionCount===0&&c.jsx("span",{className:"text-sm text-gray-400",children:"No session roles"})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase mb-1",children:"Created"}),c.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[c.jsx(oi,{className:"h-4 w-4 mr-2 text-gray-400 flex-shrink-0"}),P.created_at?zt(P.created_at):"N/A"]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase mb-1",children:"Created By"}),c.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[c.jsx(Dr,{className:"h-4 w-4 mr-2 text-gray-400 flex-shrink-0"}),P.created_by_name||"System"]})]})]})]},P.id)})}),c.jsxs("div",{className:"hidden md:block relative z-10 bg-white rounded-lg shadow-md overflow-visible",children:[c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 rounded-t-lg",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sessions"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:v||b!=="all"?"No users found matching your filters.":"No users found."})}):d.map(P=>{var oe,Ee,He;return c.jsxs("tr",{className:"hover:bg-gray-50",onMouseEnter:()=>T(P.id),onMouseLeave:()=>T(null),children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{children:[c.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[P.name,P.id===(e==null?void 0:e.id)&&c.jsx("span",{className:"ml-2 text-xs text-[#c59f2d] font-semibold",children:"(You)"}),Or(P)&&c.jsxs("span",{className:"ml-2 text-xs text-[#c59f2d] font-semibold",children:["(",Or(P),")"]}),kn(P)&&c.jsxs("span",{className:"ml-2 px-2 py-0.5 bg-red-100 text-red-700 text-xs font-medium rounded",children:["Duplicate (",Hn(P),")"]})]}),c.jsx("div",{className:"text-sm text-gray-500",children:P.email})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:mt(P)}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:c.jsxs("div",{className:"space-y-2",children:[P.roles.sessionAdminCount===0&&P.roles.stakeholderSessionCount===0&&c.jsx("span",{className:"text-gray-400",children:"None"}),P.adminInSessions&&P.adminInSessions.length>0&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center text-sm font-medium text-gray-700 mb-1.5",children:[c.jsx(Xr,{className:"h-4 w-4 mr-1.5 text-[#173B65]"}),"Admin in ",P.adminInSessions.length," session",P.adminInSessions.length!==1?"s":"",":"]}),c.jsx("div",{className:"space-y-1.5 ml-5",children:P.adminInSessions.map(Ue=>c.jsx("div",{className:"flex items-start",children:c.jsxs("div",{className:"text-xs text-gray-600",children:[c.jsx("div",{className:"font-medium text-gray-900",children:Ue.title||Ue.name||"Unnamed Session"}),Ue.created_at&&c.jsxs("div",{className:"flex items-center text-gray-500 mt-0.5",children:[c.jsx(oi,{className:"h-3 w-3 mr-1"}),new Date(Ue.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]})},Ue.id))})]}),P.stakeholderInSessions&&P.stakeholderInSessions.length>0&&c.jsxs("div",{className:P.adminInSessions&&P.adminInSessions.length>0?"pt-2 border-t border-gray-100":"",children:[c.jsxs("div",{className:"flex items-center text-sm font-medium text-gray-700 mb-1.5",children:[c.jsx(Dr,{className:"h-4 w-4 mr-1.5 text-green-600"}),"Stakeholder in ",P.stakeholderInSessions.length," session",P.stakeholderInSessions.length!==1?"s":"",":"]}),c.jsx("div",{className:"space-y-1.5 ml-5",children:P.stakeholderInSessions.map(Ue=>c.jsx("div",{className:"flex items-start",children:c.jsxs("div",{className:"text-xs text-gray-600",children:[c.jsx("div",{className:"font-medium text-gray-900",children:Ue.title||Ue.name||"Unnamed Session"}),Ue.created_at&&c.jsxs("div",{className:"flex items-center text-gray-500 mt-0.5",children:[c.jsx(oi,{className:"h-3 w-3 mr-1"}),new Date(Ue.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]})},Ue.id))})]})]})}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center text-gray-700",children:[c.jsx(oi,{className:"h-4 w-4 mr-1.5 text-gray-400"}),P.created_at?zt(P.created_at):"N/A"]}),c.jsxs("div",{className:"flex items-center text-gray-500 text-xs mt-1",children:[c.jsx(Dr,{className:"h-3.5 w-3.5 mr-1.5 text-gray-400"}),P.created_by_name||"System"]})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:c.jsxs("div",{className:"flex items-center justify-end gap-2",children:[(ae==="system-admin"||ae==="session-admin"&&P.roles.stakeholderSessionCount>0&&((oe=P.stakeholderInSessions)==null?void 0:oe.some(Ue=>re.some(yt=>yt.id===Ue.id))))&&c.jsx("button",{onClick:()=>Xs(P.id,P.name),className:`p-2 rounded-md hover:bg-red-50 transition-all md:transition-opacity ${P.id===(e==null?void 0:e.id)||ae==="system-admin"&&et.has(P.id)?"opacity-50 cursor-not-allowed":A===P.id?"opacity-100 visible":"md:opacity-0 md:invisible opacity-100 visible"}`,disabled:P.id===(e==null?void 0:e.id)||ae==="system-admin"&&et.has(P.id),title:ae==="session-admin"?"Remove stakeholder from all your sessions":et.has(P.id)?`Cannot delete protected account${Or(P)?` (${Or(P)})`:""}`:P.id===(e==null?void 0:e.id)?"Cannot delete your own account":"Delete user",children:c.jsx(Ws,{className:"h-5 w-5 text-red-600"})}),c.jsxs("div",{className:`relative inline-block transition-all md:transition-opacity ${P.id===(e==null?void 0:e.id)?"opacity-50":A===P.id?"opacity-100 visible":"md:opacity-0 md:invisible opacity-100 visible"}`,ref:Ue=>{L.current[P.id]=Ue},children:[c.jsx("button",{onClick:()=>N(E===P.id?null:P.id),className:"p-2 rounded-md hover:bg-gray-100 transition-colors",disabled:P.id===(e==null?void 0:e.id),title:P.id===(e==null?void 0:e.id)?"Cannot modify your own permissions":"Change user role",children:c.jsx(RS,{className:"h-5 w-5 text-gray-600"})}),E===P.id&&P.id!==(e==null?void 0:e.id)&&c.jsx("div",{className:"fixed mt-1 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-[100]",style:{top:((Ee=L.current[P.id])==null?void 0:Ee.getBoundingClientRect().bottom)??0,right:window.innerWidth-(((He=L.current[P.id])==null?void 0:He.getBoundingClientRect().right)??0)},children:c.jsxs("div",{className:"py-1",children:[c.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase border-b border-gray-200",children:"Change User Role"}),ae==="system-admin"&&c.jsxs(c.Fragment,{children:[P.roles.isSystemAdmin?c.jsxs("button",{onClick:()=>gi(P.id,!0),className:"w-full px-4 py-2 text-left flex items-center hover:bg-red-50 text-red-700",children:[c.jsx(fn,{className:"h-4 w-4 mr-3"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:"Remove System Admin"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Revoke global admin access"})]})]}):c.jsxs("button",{onClick:()=>gi(P.id,!1),className:"w-full px-4 py-2 text-left flex items-center hover:bg-purple-50 text-purple-700",children:[c.jsx(fn,{className:"h-4 w-4 mr-3"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:"Make System Admin"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Grant global admin access"})]})]}),We(P,"session-admin")&&c.jsxs("button",{onClick:()=>Nn(P,"session-admin"),className:"w-full px-4 py-2 text-left flex items-center hover:bg-[#E8EDF2] text-[#2D4660] border-t border-gray-200",children:[c.jsx(Xr,{className:"h-4 w-4 mr-3"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:"Make Session Admin"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Add to a session as admin"})]})]})]}),We(P,"stakeholder")&&c.jsxs("button",{onClick:()=>Nn(P,"stakeholder"),className:"w-full px-4 py-2 text-left flex items-center hover:bg-green-50 text-green-700 border-t border-gray-200",children:[c.jsx(Dr,{className:"h-4 w-4 mr-3"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:"Make Stakeholder"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Add to a session as stakeholder"})]})]}),ae==="session-admin"&&P.stakeholderInSessions&&P.stakeholderInSessions.length>0&&P.stakeholderInSessions.some(Ue=>te.includes(Ue.id))&&c.jsxs("button",{onClick:()=>Nn(P,"remove-stakeholder"),className:"w-full px-4 py-2 text-left flex items-center hover:bg-red-50 text-red-700 border-t border-gray-200",children:[c.jsx(ec,{className:"h-4 w-4 mr-3"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:"Remove Stakeholder"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Remove from a session you manage"})]})]}),(P.roles.isSystemAdmin||P.roles.sessionAdminCount>0||P.roles.stakeholderSessionCount>0)&&c.jsxs("button",{onClick:()=>hs(P.id,P.name),className:"w-full px-4 py-2 text-left flex items-center hover:bg-gray-50 text-gray-700 border-t border-gray-200",children:[c.jsx(ec,{className:"h-4 w-4 mr-3"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:"Remove All Roles"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Remove from all sessions"})]})]})]})})]})]})})]},P.id)})})]}),c.jsx("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200",children:c.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(pn,{className:"h-4 w-4 mr-2 text-gray-500"}),c.jsxs("span",{className:"text-gray-600",children:["Total Users: ",c.jsx("strong",{children:o.length})]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(fn,{className:"h-4 w-4 mr-2 text-purple-500"}),c.jsxs("span",{className:"text-gray-600",children:["System Admins: ",c.jsx("strong",{children:o.filter(P=>P.roles.isSystemAdmin).length})]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Xr,{className:"h-4 w-4 mr-2 text-[#2D4660]"}),c.jsxs("span",{className:"text-gray-600",children:["Session Admins: ",c.jsx("strong",{children:o.filter(P=>P.roles.sessionAdminCount>0).length})]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Dr,{className:"h-4 w-4 mr-2 text-green-500"}),c.jsxs("span",{className:"text-gray-600",children:["Stakeholders: ",c.jsx("strong",{children:o.filter(P=>P.roles.stakeholderSessionCount>0).length})]})]})]})})]}),c.jsx("div",{className:"md:hidden mt-4 bg-white rounded-lg shadow-md p-4",children:c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(pn,{className:"h-5 w-5 mr-2 text-gray-500 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-gray-500",children:"Total"}),c.jsx("div",{className:"text-lg font-bold text-gray-900",children:o.length})]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(fn,{className:"h-5 w-5 mr-2 text-purple-500 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-gray-500",children:"Sys Admins"}),c.jsx("div",{className:"text-lg font-bold text-gray-900",children:o.filter(P=>P.roles.isSystemAdmin).length})]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Xr,{className:"h-5 w-5 mr-2 text-[#2D4660] flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-gray-500",children:"Session Admins"}),c.jsx("div",{className:"text-lg font-bold text-gray-900",children:o.filter(P=>P.roles.sessionAdminCount>0).length})]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Dr,{className:"h-5 w-5 mr-2 text-green-500 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-gray-500",children:"Stakeholders"}),c.jsx("div",{className:"text-lg font-bold text-gray-900",children:o.filter(P=>P.roles.stakeholderSessionCount>0).length})]})]})]})}),(B||V)&&c.jsx("div",{className:"mt-8 flex justify-center",children:c.jsxs("div",{className:"inline-flex items-center bg-gray-100 rounded-lg p-1",children:[c.jsxs("button",{onClick:()=>{B&&Ne("system-admin")},className:`px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center ${ae==="system-admin"?"bg-white text-[#2d4660] shadow-sm":"text-gray-600 hover:text-gray-900"}`,disabled:!B,title:B?"System Admin View":"Only available for System Admins",children:[c.jsx(fn,{className:"h-4 w-4 inline mr-2"}),"System Admin"]}),c.jsxs("button",{onClick:()=>{(V||B)&&Ne("session-admin")},className:`px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center ${ae==="session-admin"?"bg-white text-[#2d4660] shadow-sm":"text-gray-600 hover:text-gray-900"}`,title:"Session Admin View",children:[c.jsx(Xr,{className:"h-4 w-4 inline mr-2"}),"Session Admin"]})]})})]}),c.jsx("footer",{className:"mt-12 bg-gray-50 border-t border-gray-200",children:c.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-6xl",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-sm text-gray-600",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"New Millennium Building Systems"}),c.jsxs("p",{className:"text-xs leading-relaxed",children:["A Steel Dynamics Company",c.jsx("br",{}),"Innovation in structural steel manufacturing"]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Quick Links"}),c.jsxs("ul",{className:"space-y-1 text-xs",children:[c.jsx("li",{children:c.jsx("a",{href:"https://www.steeldynamics.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[#2d4660] transition-colors",children:"Steel Dynamics Inc."})}),c.jsx("li",{children:c.jsx("a",{href:"https://www.newmill.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[#2d4660] transition-colors",children:"New Millennium"})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Need Help?"}),c.jsx("p",{className:"text-xs",children:"Contact your Product Owner or IT administrator for assistance with user management."})]})]}),c.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 text-center text-xs text-gray-500",children:c.jsx("p",{children:" 2025 New Millennium Building Systems, LLC. All rights reserved."})})]})}),he&&ee&&D&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:c.jsxs("div",{className:"p-6",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:D==="session-admin"?"Add Session Admin":D==="remove-stakeholder"?"Remove Stakeholder":"Add Stakeholder"}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:D==="remove-stakeholder"?c.jsxs(c.Fragment,{children:["Select a session to remove ",c.jsx("strong",{children:ee.name})," as a stakeholder."]}):c.jsxs(c.Fragment,{children:["Select a session to add ",c.jsx("strong",{children:ee.name})," as ",D==="session-admin"?"an admin":"a stakeholder","."]})}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Choose Session"}),c.jsxs("select",{value:ue,onChange:P=>ye(P.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#2d4660] focus:border-transparent",children:[c.jsx("option",{value:"",children:"-- Select a session --"}),bt(D).map(P=>{const oe=P.title||P.name||P.session_name||"Unnamed Session",Ee=P.created_at?new Date(P.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"",He=Ee?`${oe} (${Ee})`:oe;return c.jsx("option",{value:P.id,children:He},P.id)})]}),re.length===0&&c.jsx("p",{className:"mt-2 text-sm text-red-500",children:"No sessions found in the system. Create a session first."}),re.length>0&&bt(D).length===0&&c.jsx("p",{className:"mt-2 text-sm text-gray-500",children:D==="remove-stakeholder"?"This user is not a stakeholder in any sessions you manage.":`This user is already ${D==="session-admin"?"an admin":"a stakeholder"} in all ${re.length} session(s).`}),re.length>0&&bt(D).length>0&&c.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:[bt(D).length," session(s) available"]})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:En,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),c.jsx("button",{onClick:pi,disabled:!ue,className:`flex-1 px-4 py-2.5 rounded-lg transition-colors ${ue?D==="remove-stakeholder"?"bg-red-600 text-white hover:bg-red-700":"bg-[#4f6d8e] text-white hover:bg-[#3d5670]":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:D==="remove-stakeholder"?"Remove from Session":"Add to Session"})]})]})})}),$e&&Ae&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-start mb-4",children:[c.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-red-100 flex items-center justify-center",children:c.jsx(ec,{className:"h-6 w-6 text-red-600"})}),c.jsxs("div",{className:"ml-4 flex-1",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:"Delete User Account"}),c.jsx("p",{className:"text-sm text-gray-600",children:"This action cannot be undone. Please review the details below."})]})]}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsx(Dr,{className:"h-5 w-5 text-gray-400 mr-2"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:Ae.name}),c.jsx("div",{className:"text-sm text-gray-500",children:Ae.email})]})]}),c.jsxs("div",{className:"space-y-2 border-t border-gray-200 pt-3",children:[c.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Current Roles"}),Ae.roles.isSystemAdmin&&c.jsxs("div",{className:"flex items-center text-sm",children:[c.jsx(fn,{className:"h-4 w-4 mr-2 text-purple-500"}),c.jsx("span",{className:"text-gray-700",children:"System Admin"})]}),Ae.roles.sessionAdminCount>0&&c.jsxs("div",{className:"flex items-center text-sm",children:[c.jsx(Xr,{className:"h-4 w-4 mr-2 text-[#2D4660]"}),c.jsxs("span",{className:"text-gray-700",children:["Session Admin in ",Ae.roles.sessionAdminCount," session",Ae.roles.sessionAdminCount!==1?"s":""]})]}),Ae.roles.stakeholderSessionCount>0&&c.jsxs("div",{className:"flex items-center text-sm",children:[c.jsx(Dr,{className:"h-4 w-4 mr-2 text-green-500"}),c.jsxs("span",{className:"text-gray-700",children:["Stakeholder in ",Ae.roles.stakeholderSessionCount," session",Ae.roles.stakeholderSessionCount!==1?"s":""]})]}),!Ae.roles.isSystemAdmin&&Ae.roles.sessionAdminCount===0&&Ae.roles.stakeholderSessionCount===0&&c.jsx("div",{className:"text-sm text-gray-500",children:"No roles assigned"})]})]}),Ae.adminInSessions&&Ae.adminInSessions.length>0||Ae.stakeholderInSessions&&Ae.stakeholderInSessions.length>0?c.jsxs("div",{className:"mb-4",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-2",children:"User will be removed from these sessions:"}),c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 max-h-48 overflow-y-auto",children:[Ae.adminInSessions&&Ae.adminInSessions.length>0&&c.jsxs("div",{className:"mb-3",children:[c.jsxs("div",{className:"text-xs font-semibold text-gray-600 mb-1.5 flex items-center",children:[c.jsx(Xr,{className:"h-3.5 w-3.5 mr-1.5 text-[#173B65]"}),"Admin Sessions (",Ae.adminInSessions.length,")"]}),c.jsx("div",{className:"space-y-1 ml-5",children:Ae.adminInSessions.map(P=>c.jsxs("div",{className:"text-sm text-gray-700",children:[" ",P.title||P.name||"Unnamed Session"]},P.id))})]}),Ae.stakeholderInSessions&&Ae.stakeholderInSessions.length>0&&c.jsxs("div",{children:[c.jsxs("div",{className:"text-xs font-semibold text-gray-600 mb-1.5 flex items-center",children:[c.jsx(Dr,{className:"h-3.5 w-3.5 mr-1.5 text-green-600"}),"Stakeholder Sessions (",Ae.stakeholderInSessions.length,")"]}),c.jsx("div",{className:"space-y-1 ml-5",children:Ae.stakeholderInSessions.map(P=>c.jsxs("div",{className:"text-sm text-gray-700",children:[" ",P.title||P.name||"Unnamed Session"]},P.id))})]})]})]}):null,c.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("svg",{className:"h-5 w-5 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Warning: This action is permanent"}),c.jsx("div",{className:"mt-1 text-sm text-yellow-700",children:c.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[c.jsx("li",{children:"User account will be permanently deleted"}),c.jsx("li",{children:"All authentication access will be revoked"}),c.jsx("li",{children:"User will be removed from all sessions"}),c.jsx("li",{children:"This action cannot be undone"})]})})]})]})}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:Ha,disabled:nt,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),c.jsx("button",{onClick:Zs,disabled:nt,className:"flex-1 px-4 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:nt?c.jsxs(c.Fragment,{children:[c.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Deleting..."]}):"Delete User Permanently"})]})]})})}),z&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",onClick:we,children:c.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full my-8",onClick:P=>P.stopPropagation(),children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-start mb-6",children:[c.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-green-100 flex items-center justify-center",children:c.jsx(pn,{className:"h-6 w-6 text-green-600"})}),c.jsxs("div",{className:"ml-4 flex-1",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:"Add New User"}),c.jsx("p",{className:"text-sm text-gray-600",children:ae==="session-admin"?"Create a new user account and add as stakeholder to your sessions":"Create a new user account and assign roles"})]}),c.jsx("button",{onClick:we,disabled:le,className:"flex-shrink-0 ml-4 p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Close modal",children:c.jsx(Oi,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Full Name ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",value:J.name,onChange:P=>be({...J,name:P.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#2D4660] focus:border-transparent",placeholder:"John Doe"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email Address ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"email",value:J.email,onChange:P=>be({...J,email:P.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#2D4660] focus:border-transparent",placeholder:"john.doe@newmill.com"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Temporary Password ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:J.password,onChange:P=>be({...J,password:P.target.value}),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#2D4660] focus:border-transparent font-mono text-sm",placeholder:"Auto-generated password"}),c.jsx("button",{onClick:()=>be({...J,password:ze()}),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors whitespace-nowrap",children:"Regenerate"})]}),c.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Save this password to share with the user securely"})]}),ae==="system-admin"&&c.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[c.jsxs("button",{type:"button",onClick:()=>ot({...Fe,systemAdmin:!Fe.systemAdmin}),className:"w-full flex items-center justify-between py-2 hover:bg-gray-50 rounded-lg px-2 -ml-2 transition-colors",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(fn,{className:"h-4 w-4 mr-2 text-purple-500"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"System Administrator"})]}),c.jsx(yc,{className:`h-4 w-4 text-gray-500 transition-transform ${Fe.systemAdmin?"rotate-180":""}`})]}),Fe.systemAdmin&&c.jsxs("div",{className:"mt-3 ml-6 space-y-3",children:[c.jsxs("label",{className:"flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:J.isSystemAdmin,onChange:P=>be({...J,isSystemAdmin:P.target.checked}),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),c.jsx("span",{className:"ml-3 text-sm text-gray-700",children:"Grant system administrator privileges"})]}),c.jsx("p",{className:"text-xs text-gray-500",children:"Full access to all sessions and user management"})]})]}),ae==="system-admin"&&c.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[c.jsxs("button",{type:"button",onClick:()=>ot({...Fe,sessionAdmin:!Fe.sessionAdmin}),className:"w-full flex items-center justify-between py-2 hover:bg-gray-50 rounded-lg px-2 -ml-2 transition-colors",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Xr,{className:"h-4 w-4 mr-2 text-[#2D4660]"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Session Admin"}),J.sessionAdminIds.length>0&&c.jsx("span",{className:"ml-2 px-2 py-0.5 bg-[#E8EDF2] text-[#173B65] text-xs rounded-full",children:J.sessionAdminIds.length})]}),c.jsx(yc,{className:`h-4 w-4 text-gray-500 transition-transform ${Fe.sessionAdmin?"rotate-180":""}`})]}),Fe.sessionAdmin&&c.jsxs("div",{className:"mt-3 ml-6 space-y-3",children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Select sessions where this user will be an admin"}),re.length===0?c.jsx("p",{className:"text-sm text-gray-400",children:"No sessions available"}):c.jsx("div",{className:"max-h-40 overflow-y-auto border border-gray-200 rounded-lg",children:re.map(P=>c.jsxs("label",{className:"flex items-center px-3 py-2 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",children:[c.jsx("input",{type:"checkbox",checked:J.sessionAdminIds.includes(P.id),onChange:()=>Ie(P.id),className:"w-4 h-4 text-[#173B65] border-gray-300 rounded focus:ring-[#2D4660]"}),c.jsx("span",{className:"ml-3 text-sm text-gray-700",children:P.title||P.name||"Unnamed Session"})]},P.id))})]})]}),ae==="session-admin"?c.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsx(Dr,{className:"h-4 w-4 mr-2 text-green-500"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add as Stakeholder"}),J.stakeholderSessionIds.length>0&&c.jsx("span",{className:"ml-2 px-2 py-0.5 bg-green-100 text-green-700 text-xs rounded-full",children:J.stakeholderSessionIds.length})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Select sessions where this user will be a stakeholder (voting access)"}),re.length===0?c.jsx("p",{className:"text-sm text-gray-400",children:"No sessions available"}):c.jsx("div",{className:"max-h-40 overflow-y-auto border border-gray-200 rounded-lg",children:re.map(P=>c.jsxs("label",{className:"flex items-center px-3 py-2 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",children:[c.jsx("input",{type:"checkbox",checked:J.stakeholderSessionIds.includes(P.id),onChange:()=>Te(P.id),className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-[#2D4660]"}),c.jsx("span",{className:"ml-3 text-sm text-gray-700",children:P.title||P.name||"Unnamed Session"})]},P.id))})]})]}):c.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[c.jsxs("button",{type:"button",onClick:()=>ot({...Fe,stakeholder:!Fe.stakeholder}),className:"w-full flex items-center justify-between py-2 hover:bg-gray-50 rounded-lg px-2 -ml-2 transition-colors",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Dr,{className:"h-4 w-4 mr-2 text-green-500"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Stakeholder"}),J.stakeholderSessionIds.length>0&&c.jsx("span",{className:"ml-2 px-2 py-0.5 bg-green-100 text-green-700 text-xs rounded-full",children:J.stakeholderSessionIds.length})]}),c.jsx(yc,{className:`h-4 w-4 text-gray-500 transition-transform ${Fe.stakeholder?"rotate-180":""}`})]}),Fe.stakeholder&&c.jsxs("div",{className:"mt-3 ml-6 space-y-3",children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Select sessions where this user will be a stakeholder (voting access)"}),re.length===0?c.jsx("p",{className:"text-sm text-gray-400",children:"No sessions available"}):c.jsx("div",{className:"max-h-40 overflow-y-auto border border-gray-200 rounded-lg",children:re.map(P=>c.jsxs("label",{className:"flex items-center px-3 py-2 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",children:[c.jsx("input",{type:"checkbox",checked:J.stakeholderSessionIds.includes(P.id),onChange:()=>Te(P.id),className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-[#2D4660]"}),c.jsx("span",{className:"ml-3 text-sm text-gray-700",children:P.title||P.name||"Unnamed Session"})]},P.id))})]})]})]}),c.jsxs("div",{className:"flex gap-3 mt-6 pt-6 border-t border-gray-200",children:[c.jsx("button",{onClick:we,disabled:le,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),c.jsx("button",{onClick:Pe,disabled:le||!J.name.trim()||!J.email.trim()||!J.password.trim(),className:"flex-1 px-4 py-2.5 bg-[#2D4660] text-white rounded-lg hover:bg-[#173B65] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:le?c.jsxs(c.Fragment,{children:[c.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating User..."]}):"Create User"})]})]})})})]}):null}const BJ=""+new URL("bottom-left-curve-T4fflHT3.png",import.meta.url).href,VJ=()=>c.jsx("div",{className:"fixed bottom-0 left-0 pointer-events-none z-0",children:c.jsx("img",{src:BJ,alt:"",style:{maxWidth:"600px",height:"auto",opacity:.2}})});function WJ(){return c.jsx($3,{children:c.jsxs(U$,{children:[c.jsx(VJ,{}),c.jsx(K4,{basename:"/feature-voting-app",children:c.jsxs(j4,{children:[c.jsx(ln,{path:"/",element:c.jsx(b4,{to:"/login",replace:!0})}),c.jsx(ln,{path:"/login",element:c.jsx(R6,{})}),c.jsx(ln,{path:"/sessions",element:c.jsx(DJ,{})}),c.jsx(ln,{path:"/create-session",element:c.jsx($J,{})}),c.jsx(ln,{path:"/manage-stakeholders",element:c.jsx(MJ,{})}),c.jsx(ln,{path:"/manage-admins",element:c.jsx(LJ,{})}),c.jsx(ln,{path:"/vote",element:c.jsx(jv,{adminMode:!1})}),c.jsx(ln,{path:"/admin",element:c.jsx(jv,{adminMode:!0})}),c.jsx(ln,{path:"/results",element:c.jsx(jv,{resultsMode:!0})}),c.jsx(ln,{path:"/unauthorized",element:c.jsx(FJ,{})}),c.jsx(ln,{path:"/system-admins",element:c.jsx(zJ,{})}),c.jsx(ln,{path:"/users",element:c.jsx(UJ,{})})]})})]})})}TI.createRoot(document.getElementById("root")).render(c.jsx(st.StrictMode,{children:c.jsx(WJ,{})}));
