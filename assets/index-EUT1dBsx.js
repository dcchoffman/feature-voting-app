var yO=Object.defineProperty;var xO=(e,t,r)=>t in e?yO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Mm=(e,t,r)=>xO(e,typeof t!="symbol"?t+"":t,r);function wO(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function ai(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function bO(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var $m={exports:{}},Cl={},Lm={exports:{}},Ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ub;function _O(){if(ub)return Ze;ub=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function v(M){return M===null||typeof M!="object"?null:(M=p&&M[p]||M["@@iterator"],typeof M=="function"?M:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,_={};function x(M,D,te){this.props=M,this.context=D,this.refs=_,this.updater=te||w}x.prototype.isReactComponent={},x.prototype.setState=function(M,D){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,D,"setState")},x.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function k(){}k.prototype=x.prototype;function N(M,D,te){this.props=M,this.context=D,this.refs=_,this.updater=te||w}var E=N.prototype=new k;E.constructor=N,S(E,x.prototype),E.isPureReactComponent=!0;var C=Array.isArray,O=Object.prototype.hasOwnProperty,I={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function Y(M,D,te){var _e,ne={},ke=null,Me=null;if(D!=null)for(_e in D.ref!==void 0&&(Me=D.ref),D.key!==void 0&&(ke=""+D.key),D)O.call(D,_e)&&!L.hasOwnProperty(_e)&&(ne[_e]=D[_e]);var Je=arguments.length-2;if(Je===1)ne.children=te;else if(1<Je){for(var ue=Array(Je),Oe=0;Oe<Je;Oe++)ue[Oe]=arguments[Oe+2];ne.children=ue}if(M&&M.defaultProps)for(_e in Je=M.defaultProps,Je)ne[_e]===void 0&&(ne[_e]=Je[_e]);return{$$typeof:e,type:M,key:ke,ref:Me,props:ne,_owner:I.current}}function q(M,D){return{$$typeof:e,type:M.type,key:D,ref:M.ref,props:M.props,_owner:M._owner}}function U(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function z(M){var D={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(te){return D[te]})}var V=/\/+/g;function ee(M,D){return typeof M=="object"&&M!==null&&M.key!=null?z(""+M.key):D.toString(36)}function Q(M,D,te,_e,ne){var ke=typeof M;(ke==="undefined"||ke==="boolean")&&(M=null);var Me=!1;if(M===null)Me=!0;else switch(ke){case"string":case"number":Me=!0;break;case"object":switch(M.$$typeof){case e:case t:Me=!0}}if(Me)return Me=M,ne=ne(Me),M=_e===""?"."+ee(Me,0):_e,C(ne)?(te="",M!=null&&(te=M.replace(V,"$&/")+"/"),Q(ne,D,te,"",function(Oe){return Oe})):ne!=null&&(U(ne)&&(ne=q(ne,te+(!ne.key||Me&&Me.key===ne.key?"":(""+ne.key).replace(V,"$&/")+"/")+M)),D.push(ne)),1;if(Me=0,_e=_e===""?".":_e+":",C(M))for(var Je=0;Je<M.length;Je++){ke=M[Je];var ue=_e+ee(ke,Je);Me+=Q(ke,D,te,ue,ne)}else if(ue=v(M),typeof ue=="function")for(M=ue.call(M),Je=0;!(ke=M.next()).done;)ke=ke.value,ue=_e+ee(ke,Je++),Me+=Q(ke,D,te,ue,ne);else if(ke==="object")throw D=String(M),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return Me}function ae(M,D,te){if(M==null)return M;var _e=[],ne=0;return Q(M,_e,"","",function(ke){return D.call(te,ke,ne++)}),_e}function xe(M){if(M._status===-1){var D=M._result;D=D(),D.then(function(te){(M._status===0||M._status===-1)&&(M._status=1,M._result=te)},function(te){(M._status===0||M._status===-1)&&(M._status=2,M._result=te)}),M._status===-1&&(M._status=0,M._result=D)}if(M._status===1)return M._result.default;throw M._result}var ye={current:null},re={transition:null},le={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:re,ReactCurrentOwner:I};function ce(){throw Error("act(...) is not supported in production builds of React.")}return Ze.Children={map:ae,forEach:function(M,D,te){ae(M,function(){D.apply(this,arguments)},te)},count:function(M){var D=0;return ae(M,function(){D++}),D},toArray:function(M){return ae(M,function(D){return D})||[]},only:function(M){if(!U(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ze.Component=x,Ze.Fragment=r,Ze.Profiler=i,Ze.PureComponent=N,Ze.StrictMode=n,Ze.Suspense=f,Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,Ze.act=ce,Ze.cloneElement=function(M,D,te){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var _e=S({},M.props),ne=M.key,ke=M.ref,Me=M._owner;if(D!=null){if(D.ref!==void 0&&(ke=D.ref,Me=I.current),D.key!==void 0&&(ne=""+D.key),M.type&&M.type.defaultProps)var Je=M.type.defaultProps;for(ue in D)O.call(D,ue)&&!L.hasOwnProperty(ue)&&(_e[ue]=D[ue]===void 0&&Je!==void 0?Je[ue]:D[ue])}var ue=arguments.length-2;if(ue===1)_e.children=te;else if(1<ue){Je=Array(ue);for(var Oe=0;Oe<ue;Oe++)Je[Oe]=arguments[Oe+2];_e.children=Je}return{$$typeof:e,type:M.type,key:ne,ref:ke,props:_e,_owner:Me}},Ze.createContext=function(M){return M={$$typeof:l,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:s,_context:M},M.Consumer=M},Ze.createElement=Y,Ze.createFactory=function(M){var D=Y.bind(null,M);return D.type=M,D},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(M){return{$$typeof:u,render:M}},Ze.isValidElement=U,Ze.lazy=function(M){return{$$typeof:h,_payload:{_status:-1,_result:M},_init:xe}},Ze.memo=function(M,D){return{$$typeof:m,type:M,compare:D===void 0?null:D}},Ze.startTransition=function(M){var D=re.transition;re.transition={};try{M()}finally{re.transition=D}},Ze.unstable_act=ce,Ze.useCallback=function(M,D){return ye.current.useCallback(M,D)},Ze.useContext=function(M){return ye.current.useContext(M)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(M){return ye.current.useDeferredValue(M)},Ze.useEffect=function(M,D){return ye.current.useEffect(M,D)},Ze.useId=function(){return ye.current.useId()},Ze.useImperativeHandle=function(M,D,te){return ye.current.useImperativeHandle(M,D,te)},Ze.useInsertionEffect=function(M,D){return ye.current.useInsertionEffect(M,D)},Ze.useLayoutEffect=function(M,D){return ye.current.useLayoutEffect(M,D)},Ze.useMemo=function(M,D){return ye.current.useMemo(M,D)},Ze.useReducer=function(M,D,te){return ye.current.useReducer(M,D,te)},Ze.useRef=function(M){return ye.current.useRef(M)},Ze.useState=function(M){return ye.current.useState(M)},Ze.useSyncExternalStore=function(M,D,te){return ye.current.useSyncExternalStore(M,D,te)},Ze.useTransition=function(){return ye.current.useTransition()},Ze.version="18.3.1",Ze}var db;function Po(){return db||(db=1,Lm.exports=_O()),Lm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fb;function jO(){if(fb)return Cl;fb=1;var e=Po(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(u,f,m){var h,p={},v=null,w=null;m!==void 0&&(v=""+m),f.key!==void 0&&(v=""+f.key),f.ref!==void 0&&(w=f.ref);for(h in f)n.call(f,h)&&!s.hasOwnProperty(h)&&(p[h]=f[h]);if(u&&u.defaultProps)for(h in f=u.defaultProps,f)p[h]===void 0&&(p[h]=f[h]);return{$$typeof:t,type:u,key:v,ref:w,props:p,_owner:i.current}}return Cl.Fragment=r,Cl.jsx=l,Cl.jsxs=l,Cl}var hb;function SO(){return hb||(hb=1,$m.exports=jO()),$m.exports}var c=SO(),b=Po();const Qe=ai(b),kO=wO({__proto__:null,default:Qe},[b]);var Vu={},Fm={exports:{}},Vr={},Um={exports:{}},zm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mb;function NO(){return mb||(mb=1,(function(e){function t(re,le){var ce=re.length;re.push(le);e:for(;0<ce;){var M=ce-1>>>1,D=re[M];if(0<i(D,le))re[M]=le,re[ce]=D,ce=M;else break e}}function r(re){return re.length===0?null:re[0]}function n(re){if(re.length===0)return null;var le=re[0],ce=re.pop();if(ce!==le){re[0]=ce;e:for(var M=0,D=re.length,te=D>>>1;M<te;){var _e=2*(M+1)-1,ne=re[_e],ke=_e+1,Me=re[ke];if(0>i(ne,ce))ke<D&&0>i(Me,ne)?(re[M]=Me,re[ke]=ce,M=ke):(re[M]=ne,re[_e]=ce,M=_e);else if(ke<D&&0>i(Me,ce))re[M]=Me,re[ke]=ce,M=ke;else break e}}return le}function i(re,le){var ce=re.sortIndex-le.sortIndex;return ce!==0?ce:re.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var f=[],m=[],h=1,p=null,v=3,w=!1,S=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(re){for(var le=r(m);le!==null;){if(le.callback===null)n(m);else if(le.startTime<=re)n(m),le.sortIndex=le.expirationTime,t(f,le);else break;le=r(m)}}function C(re){if(_=!1,E(re),!S)if(r(f)!==null)S=!0,xe(O);else{var le=r(m);le!==null&&ye(C,le.startTime-re)}}function O(re,le){S=!1,_&&(_=!1,k(Y),Y=-1),w=!0;var ce=v;try{for(E(le),p=r(f);p!==null&&(!(p.expirationTime>le)||re&&!z());){var M=p.callback;if(typeof M=="function"){p.callback=null,v=p.priorityLevel;var D=M(p.expirationTime<=le);le=e.unstable_now(),typeof D=="function"?p.callback=D:p===r(f)&&n(f),E(le)}else n(f);p=r(f)}if(p!==null)var te=!0;else{var _e=r(m);_e!==null&&ye(C,_e.startTime-le),te=!1}return te}finally{p=null,v=ce,w=!1}}var I=!1,L=null,Y=-1,q=5,U=-1;function z(){return!(e.unstable_now()-U<q)}function V(){if(L!==null){var re=e.unstable_now();U=re;var le=!0;try{le=L(!0,re)}finally{le?ee():(I=!1,L=null)}}else I=!1}var ee;if(typeof N=="function")ee=function(){N(V)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ae=Q.port2;Q.port1.onmessage=V,ee=function(){ae.postMessage(null)}}else ee=function(){x(V,0)};function xe(re){L=re,I||(I=!0,ee())}function ye(re,le){Y=x(function(){re(e.unstable_now())},le)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(re){re.callback=null},e.unstable_continueExecution=function(){S||w||(S=!0,xe(O))},e.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<re?Math.floor(1e3/re):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(f)},e.unstable_next=function(re){switch(v){case 1:case 2:case 3:var le=3;break;default:le=v}var ce=v;v=le;try{return re()}finally{v=ce}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(re,le){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ce=v;v=re;try{return le()}finally{v=ce}},e.unstable_scheduleCallback=function(re,le,ce){var M=e.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?M+ce:M):ce=M,re){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ce+D,re={id:h++,callback:le,priorityLevel:re,startTime:ce,expirationTime:D,sortIndex:-1},ce>M?(re.sortIndex=ce,t(m,re),r(f)===null&&re===r(m)&&(_?(k(Y),Y=-1):_=!0,ye(C,ce-M))):(re.sortIndex=D,t(f,re),S||w||(S=!0,xe(O))),re},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(re){var le=v;return function(){var ce=v;v=le;try{return re.apply(this,arguments)}finally{v=ce}}}})(zm)),zm}var pb;function EO(){return pb||(pb=1,Um.exports=NO()),Um.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gb;function AO(){if(gb)return Vr;gb=1;var e=Po(),t=EO();function r(a){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=1;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(a,o){l(a,o),l(a+"Capture",o)}function l(a,o){for(i[a]=o,a=0;a<o.length;a++)n.add(o[a])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(a){return f.call(p,a)?!0:f.call(h,a)?!1:m.test(a)?p[a]=!0:(h[a]=!0,!1)}function w(a,o,d,g){if(d!==null&&d.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return g?!1:d!==null?!d.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function S(a,o,d,g){if(o===null||typeof o>"u"||w(a,o,d,g))return!0;if(g)return!1;if(d!==null)switch(d.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function _(a,o,d,g,y,j,A){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=g,this.attributeNamespace=y,this.mustUseProperty=d,this.propertyName=a,this.type=o,this.sanitizeURL=j,this.removeEmptyString=A}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){x[a]=new _(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var o=a[0];x[o]=new _(o,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){x[a]=new _(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){x[a]=new _(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){x[a]=new _(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){x[a]=new _(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){x[a]=new _(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){x[a]=new _(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){x[a]=new _(a,5,!1,a.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function N(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var o=a.replace(k,N);x[o]=new _(o,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var o=a.replace(k,N);x[o]=new _(o,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var o=a.replace(k,N);x[o]=new _(o,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){x[a]=new _(a,1,!1,a.toLowerCase(),null,!1,!1)}),x.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){x[a]=new _(a,1,!1,a.toLowerCase(),null,!0,!0)});function E(a,o,d,g){var y=x.hasOwnProperty(o)?x[o]:null;(y!==null?y.type!==0:g||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(S(o,d,y,g)&&(d=null),g||y===null?v(o)&&(d===null?a.removeAttribute(o):a.setAttribute(o,""+d)):y.mustUseProperty?a[y.propertyName]=d===null?y.type===3?!1:"":d:(o=y.attributeName,g=y.attributeNamespace,d===null?a.removeAttribute(o):(y=y.type,d=y===3||y===4&&d===!0?"":""+d,g?a.setAttributeNS(g,o,d):a.setAttribute(o,d))))}var C=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),I=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),z=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),xe=Symbol.for("react.lazy"),ye=Symbol.for("react.offscreen"),re=Symbol.iterator;function le(a){return a===null||typeof a!="object"?null:(a=re&&a[re]||a["@@iterator"],typeof a=="function"?a:null)}var ce=Object.assign,M;function D(a){if(M===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);M=o&&o[1]||""}return`
`+M+a}var te=!1;function _e(a,o){if(!a||te)return"";te=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(H){var g=H}Reflect.construct(a,[],o)}else{try{o.call()}catch(H){g=H}a.call(o.prototype)}else{try{throw Error()}catch(H){g=H}a()}}catch(H){if(H&&g&&typeof H.stack=="string"){for(var y=H.stack.split(`
`),j=g.stack.split(`
`),A=y.length-1,T=j.length-1;1<=A&&0<=T&&y[A]!==j[T];)T--;for(;1<=A&&0<=T;A--,T--)if(y[A]!==j[T]){if(A!==1||T!==1)do if(A--,T--,0>T||y[A]!==j[T]){var $=`
`+y[A].replace(" at new "," at ");return a.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",a.displayName)),$}while(1<=A&&0<=T);break}}}finally{te=!1,Error.prepareStackTrace=d}return(a=a?a.displayName||a.name:"")?D(a):""}function ne(a){switch(a.tag){case 5:return D(a.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return a=_e(a.type,!1),a;case 11:return a=_e(a.type.render,!1),a;case 1:return a=_e(a.type,!0),a;default:return""}}function ke(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case L:return"Fragment";case I:return"Portal";case q:return"Profiler";case Y:return"StrictMode";case ee:return"Suspense";case Q:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case z:return(a.displayName||"Context")+".Consumer";case U:return(a._context.displayName||"Context")+".Provider";case V:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ae:return o=a.displayName||null,o!==null?o:ke(a.type)||"Memo";case xe:o=a._payload,a=a._init;try{return ke(a(o))}catch{}}return null}function Me(a){var o=a.type;switch(a.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=o.render,a=a.displayName||a.name||"",o.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(o);case 8:return o===Y?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Je(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ue(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Oe(a){var o=ue(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,o),g=""+a[o];if(!a.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,j=d.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return y.call(this)},set:function(A){g=""+A,j.call(this,A)}}),Object.defineProperty(a,o,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(A){g=""+A},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function oe(a){a._valueTracker||(a._valueTracker=Oe(a))}function Z(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var d=o.getValue(),g="";return a&&(g=ue(a)?a.checked?"true":"false":a.value),a=g,a!==d?(o.setValue(a),!0):!1}function Ee(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Ye(a,o){var d=o.checked;return ce({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??a._wrapperState.initialChecked})}function Nt(a,o){var d=o.defaultValue==null?"":o.defaultValue,g=o.checked!=null?o.checked:o.defaultChecked;d=Je(o.value!=null?o.value:d),a._wrapperState={initialChecked:g,initialValue:d,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function mt(a,o){o=o.checked,o!=null&&E(a,"checked",o,!1)}function Dt(a,o){mt(a,o);var d=Je(o.value),g=o.type;if(d!=null)g==="number"?(d===0&&a.value===""||a.value!=d)&&(a.value=""+d):a.value!==""+d&&(a.value=""+d);else if(g==="submit"||g==="reset"){a.removeAttribute("value");return}o.hasOwnProperty("value")?Rt(a,o.type,d):o.hasOwnProperty("defaultValue")&&Rt(a,o.type,Je(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(a.defaultChecked=!!o.defaultChecked)}function vn(a,o,d){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var g=o.type;if(!(g!=="submit"&&g!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+a._wrapperState.initialValue,d||o===a.value||(a.value=o),a.defaultValue=o}d=a.name,d!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,d!==""&&(a.name=d)}function Rt(a,o,d){(o!=="number"||Ee(a.ownerDocument)!==a)&&(d==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+d&&(a.defaultValue=""+d))}var yn=Array.isArray;function Ht(a,o,d,g){if(a=a.options,o){o={};for(var y=0;y<d.length;y++)o["$"+d[y]]=!0;for(d=0;d<a.length;d++)y=o.hasOwnProperty("$"+a[d].value),a[d].selected!==y&&(a[d].selected=y),y&&g&&(a[d].defaultSelected=!0)}else{for(d=""+Je(d),o=null,y=0;y<a.length;y++){if(a[y].value===d){a[y].selected=!0,g&&(a[y].defaultSelected=!0);return}o!==null||a[y].disabled||(o=a[y])}o!==null&&(o.selected=!0)}}function R(a,o){if(o.dangerouslySetInnerHTML!=null)throw Error(r(91));return ce({},o,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function K(a,o){var d=o.value;if(d==null){if(d=o.children,o=o.defaultValue,d!=null){if(o!=null)throw Error(r(92));if(yn(d)){if(1<d.length)throw Error(r(93));d=d[0]}o=d}o==null&&(o=""),d=o}a._wrapperState={initialValue:Je(d)}}function X(a,o){var d=Je(o.value),g=Je(o.defaultValue);d!=null&&(d=""+d,d!==a.value&&(a.value=d),o.defaultValue==null&&a.defaultValue!==d&&(a.defaultValue=d)),g!=null&&(a.defaultValue=""+g)}function ge(a){var o=a.textContent;o===a._wrapperState.initialValue&&o!==""&&o!==null&&(a.value=o)}function pe(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function G(a,o){return a==null||a==="http://www.w3.org/1999/xhtml"?pe(o):a==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var ve,Fe=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,d,g,y){MSApp.execUnsafeLocalFunction(function(){return a(o,d,g,y)})}:a})(function(a,o){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=o;else{for(ve=ve||document.createElement("div"),ve.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ve.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;o.firstChild;)a.appendChild(o.firstChild)}});function rt(a,o){if(o){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=o;return}}a.textContent=o}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Er=["Webkit","ms","Moz","O"];Object.keys(ft).forEach(function(a){Er.forEach(function(o){o=o+a.charAt(0).toUpperCase()+a.substring(1),ft[o]=ft[a]})});function zn(a,o,d){return o==null||typeof o=="boolean"||o===""?"":d||typeof o!="number"||o===0||ft.hasOwnProperty(a)&&ft[a]?(""+o).trim():o+"px"}function Bn(a,o){a=a.style;for(var d in o)if(o.hasOwnProperty(d)){var g=d.indexOf("--")===0,y=zn(d,o[d],g);d==="float"&&(d="cssFloat"),g?a.setProperty(d,y):a[d]=y}}var Ar=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xn(a,o){if(o){if(Ar[a]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(r(137,a));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(r(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(r(61))}if(o.style!=null&&typeof o.style!="object")throw Error(r(62))}}function di(a,o){if(a.indexOf("-")===-1)return typeof o.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vn=null;function ss(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var wn=null,bn=null,fi=null;function ie(a){if(a=ml(a)){if(typeof wn!="function")throw Error(r(280));var o=a.stateNode;o&&(o=iu(o),wn(a.stateNode,a.type,o))}}function we(a){bn?fi?fi.push(a):fi=[a]:bn=a}function Ke(){if(bn){var a=bn,o=fi;if(fi=bn=null,ie(a),o)for(a=0;a<o.length;a++)ie(o[a])}}function qe(a,o){return a(o)}function $e(){}var Ne=!1;function Tt(a,o,d){if(Ne)return a(o,d);Ne=!0;try{return qe(a,o,d)}finally{Ne=!1,(bn!==null||fi!==null)&&($e(),Ke())}}function nt(a,o){var d=a.stateNode;if(d===null)return null;var g=iu(d);if(g===null)return null;d=g[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(r(231,o,typeof d));return d}var bt=!1;if(u)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){bt=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch{bt=!1}function _n(a,o,d,g,y,j,A,T,$){var H=Array.prototype.slice.call(arguments,3);try{o.apply(d,H)}catch(fe){this.onError(fe)}}var $r=!1,qn=null,Mt=!1,jn=null,P={onError:function(a){$r=!0,qn=a}};function se(a,o,d,g,y,j,A,T,$){$r=!1,qn=null,_n.apply(P,arguments)}function Se(a,o,d,g,y,j,A,T,$){if(se.apply(this,arguments),$r){if($r){var H=qn;$r=!1,qn=null}else throw Error(r(198));Mt||(Mt=!0,jn=H)}}function He(a){var o=a,d=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(d=o.return),a=o.return;while(a)}return o.tag===3?d:null}function De(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function ot(a){if(He(a)!==a)throw Error(r(188))}function tt(a){var o=a.alternate;if(!o){if(o=He(a),o===null)throw Error(r(188));return o!==a?null:a}for(var d=a,g=o;;){var y=d.return;if(y===null)break;var j=y.alternate;if(j===null){if(g=y.return,g!==null){d=g;continue}break}if(y.child===j.child){for(j=y.child;j;){if(j===d)return ot(y),a;if(j===g)return ot(y),o;j=j.sibling}throw Error(r(188))}if(d.return!==g.return)d=y,g=j;else{for(var A=!1,T=y.child;T;){if(T===d){A=!0,d=y,g=j;break}if(T===g){A=!0,g=y,d=j;break}T=T.sibling}if(!A){for(T=j.child;T;){if(T===d){A=!0,d=j,g=y;break}if(T===g){A=!0,g=j,d=y;break}T=T.sibling}if(!A)throw Error(r(189))}}if(d.alternate!==g)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?a:o}function fr(a){return a=tt(a),a!==null?Ko(a):null}function Ko(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var o=Ko(a);if(o!==null)return o;a=a.sibling}return null}var Ho=t.unstable_scheduleCallback,hi=t.unstable_cancelCallback,Yo=t.unstable_shouldYield,$c=t.unstable_requestPaint,lt=t.unstable_now,rh=t.unstable_getCurrentPriorityLevel,Go=t.unstable_ImmediatePriority,F0=t.unstable_UserBlockingPriority,Lc=t.unstable_NormalPriority,TC=t.unstable_LowPriority,U0=t.unstable_IdlePriority,Fc=null,mi=null;function IC(a){if(mi&&typeof mi.onCommitFiberRoot=="function")try{mi.onCommitFiberRoot(Fc,a,void 0,(a.current.flags&128)===128)}catch{}}var Wn=Math.clz32?Math.clz32:MC,DC=Math.log,RC=Math.LN2;function MC(a){return a>>>=0,a===0?32:31-(DC(a)/RC|0)|0}var Uc=64,zc=4194304;function Jo(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Bc(a,o){var d=a.pendingLanes;if(d===0)return 0;var g=0,y=a.suspendedLanes,j=a.pingedLanes,A=d&268435455;if(A!==0){var T=A&~y;T!==0?g=Jo(T):(j&=A,j!==0&&(g=Jo(j)))}else A=d&~y,A!==0?g=Jo(A):j!==0&&(g=Jo(j));if(g===0)return 0;if(o!==0&&o!==g&&(o&y)===0&&(y=g&-g,j=o&-o,y>=j||y===16&&(j&4194240)!==0))return o;if((g&4)!==0&&(g|=d&16),o=a.entangledLanes,o!==0)for(a=a.entanglements,o&=g;0<o;)d=31-Wn(o),y=1<<d,g|=a[d],o&=~y;return g}function $C(a,o){switch(a){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function LC(a,o){for(var d=a.suspendedLanes,g=a.pingedLanes,y=a.expirationTimes,j=a.pendingLanes;0<j;){var A=31-Wn(j),T=1<<A,$=y[A];$===-1?((T&d)===0||(T&g)!==0)&&(y[A]=$C(T,o)):$<=o&&(a.expiredLanes|=T),j&=~T}}function nh(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function z0(){var a=Uc;return Uc<<=1,(Uc&4194240)===0&&(Uc=64),a}function ih(a){for(var o=[],d=0;31>d;d++)o.push(a);return o}function Xo(a,o,d){a.pendingLanes|=o,o!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,o=31-Wn(o),a[o]=d}function FC(a,o){var d=a.pendingLanes&~o;a.pendingLanes=o,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=o,a.mutableReadLanes&=o,a.entangledLanes&=o,o=a.entanglements;var g=a.eventTimes;for(a=a.expirationTimes;0<d;){var y=31-Wn(d),j=1<<y;o[y]=0,g[y]=-1,a[y]=-1,d&=~j}}function sh(a,o){var d=a.entangledLanes|=o;for(a=a.entanglements;d;){var g=31-Wn(d),y=1<<g;y&o|a[g]&o&&(a[g]|=o),d&=~y}}var ct=0;function B0(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var V0,ah,q0,W0,K0,oh=!1,Vc=[],as=null,os=null,ls=null,Qo=new Map,Zo=new Map,cs=[],UC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function H0(a,o){switch(a){case"focusin":case"focusout":as=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":Qo.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zo.delete(o.pointerId)}}function el(a,o,d,g,y,j){return a===null||a.nativeEvent!==j?(a={blockedOn:o,domEventName:d,eventSystemFlags:g,nativeEvent:j,targetContainers:[y]},o!==null&&(o=ml(o),o!==null&&ah(o)),a):(a.eventSystemFlags|=g,o=a.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),a)}function zC(a,o,d,g,y){switch(o){case"focusin":return as=el(as,a,o,d,g,y),!0;case"dragenter":return os=el(os,a,o,d,g,y),!0;case"mouseover":return ls=el(ls,a,o,d,g,y),!0;case"pointerover":var j=y.pointerId;return Qo.set(j,el(Qo.get(j)||null,a,o,d,g,y)),!0;case"gotpointercapture":return j=y.pointerId,Zo.set(j,el(Zo.get(j)||null,a,o,d,g,y)),!0}return!1}function Y0(a){var o=Us(a.target);if(o!==null){var d=He(o);if(d!==null){if(o=d.tag,o===13){if(o=De(d),o!==null){a.blockedOn=o,K0(a.priority,function(){q0(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function qc(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var d=ch(a.domEventName,a.eventSystemFlags,o[0],a.nativeEvent);if(d===null){d=a.nativeEvent;var g=new d.constructor(d.type,d);Vn=g,d.target.dispatchEvent(g),Vn=null}else return o=ml(d),o!==null&&ah(o),a.blockedOn=d,!1;o.shift()}return!0}function G0(a,o,d){qc(a)&&d.delete(o)}function BC(){oh=!1,as!==null&&qc(as)&&(as=null),os!==null&&qc(os)&&(os=null),ls!==null&&qc(ls)&&(ls=null),Qo.forEach(G0),Zo.forEach(G0)}function tl(a,o){a.blockedOn===o&&(a.blockedOn=null,oh||(oh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,BC)))}function rl(a){function o(y){return tl(y,a)}if(0<Vc.length){tl(Vc[0],a);for(var d=1;d<Vc.length;d++){var g=Vc[d];g.blockedOn===a&&(g.blockedOn=null)}}for(as!==null&&tl(as,a),os!==null&&tl(os,a),ls!==null&&tl(ls,a),Qo.forEach(o),Zo.forEach(o),d=0;d<cs.length;d++)g=cs[d],g.blockedOn===a&&(g.blockedOn=null);for(;0<cs.length&&(d=cs[0],d.blockedOn===null);)Y0(d),d.blockedOn===null&&cs.shift()}var Ca=C.ReactCurrentBatchConfig,Wc=!0;function VC(a,o,d,g){var y=ct,j=Ca.transition;Ca.transition=null;try{ct=1,lh(a,o,d,g)}finally{ct=y,Ca.transition=j}}function qC(a,o,d,g){var y=ct,j=Ca.transition;Ca.transition=null;try{ct=4,lh(a,o,d,g)}finally{ct=y,Ca.transition=j}}function lh(a,o,d,g){if(Wc){var y=ch(a,o,d,g);if(y===null)Nh(a,o,g,Kc,d),H0(a,g);else if(zC(y,a,o,d,g))g.stopPropagation();else if(H0(a,g),o&4&&-1<UC.indexOf(a)){for(;y!==null;){var j=ml(y);if(j!==null&&V0(j),j=ch(a,o,d,g),j===null&&Nh(a,o,g,Kc,d),j===y)break;y=j}y!==null&&g.stopPropagation()}else Nh(a,o,g,null,d)}}var Kc=null;function ch(a,o,d,g){if(Kc=null,a=ss(g),a=Us(a),a!==null)if(o=He(a),o===null)a=null;else if(d=o.tag,d===13){if(a=De(o),a!==null)return a;a=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null);return Kc=a,null}function J0(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rh()){case Go:return 1;case F0:return 4;case Lc:case TC:return 16;case U0:return 536870912;default:return 16}default:return 16}}var us=null,uh=null,Hc=null;function X0(){if(Hc)return Hc;var a,o=uh,d=o.length,g,y="value"in us?us.value:us.textContent,j=y.length;for(a=0;a<d&&o[a]===y[a];a++);var A=d-a;for(g=1;g<=A&&o[d-g]===y[j-g];g++);return Hc=y.slice(a,1<g?1-g:void 0)}function Yc(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Gc(){return!0}function Q0(){return!1}function Jr(a){function o(d,g,y,j,A){this._reactName=d,this._targetInst=y,this.type=g,this.nativeEvent=j,this.target=A,this.currentTarget=null;for(var T in a)a.hasOwnProperty(T)&&(d=a[T],this[T]=d?d(j):j[T]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?Gc:Q0,this.isPropagationStopped=Q0,this}return ce(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Gc)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Gc)},persist:function(){},isPersistent:Gc}),o}var Pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dh=Jr(Pa),nl=ce({},Pa,{view:0,detail:0}),WC=Jr(nl),fh,hh,il,Jc=ce({},nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ph,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==il&&(il&&a.type==="mousemove"?(fh=a.screenX-il.screenX,hh=a.screenY-il.screenY):hh=fh=0,il=a),fh)},movementY:function(a){return"movementY"in a?a.movementY:hh}}),Z0=Jr(Jc),KC=ce({},Jc,{dataTransfer:0}),HC=Jr(KC),YC=ce({},nl,{relatedTarget:0}),mh=Jr(YC),GC=ce({},Pa,{animationName:0,elapsedTime:0,pseudoElement:0}),JC=Jr(GC),XC=ce({},Pa,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),QC=Jr(XC),ZC=ce({},Pa,{data:0}),ex=Jr(ZC),eP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nP(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=rP[a])?!!o[a]:!1}function ph(){return nP}var iP=ce({},nl,{key:function(a){if(a.key){var o=eP[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Yc(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?tP[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ph,charCode:function(a){return a.type==="keypress"?Yc(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Yc(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),sP=Jr(iP),aP=ce({},Jc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tx=Jr(aP),oP=ce({},nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ph}),lP=Jr(oP),cP=ce({},Pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),uP=Jr(cP),dP=ce({},Jc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),fP=Jr(dP),hP=[9,13,27,32],gh=u&&"CompositionEvent"in window,sl=null;u&&"documentMode"in document&&(sl=document.documentMode);var mP=u&&"TextEvent"in window&&!sl,rx=u&&(!gh||sl&&8<sl&&11>=sl),nx=" ",ix=!1;function sx(a,o){switch(a){case"keyup":return hP.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ax(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Oa=!1;function pP(a,o){switch(a){case"compositionend":return ax(o);case"keypress":return o.which!==32?null:(ix=!0,nx);case"textInput":return a=o.data,a===nx&&ix?null:a;default:return null}}function gP(a,o){if(Oa)return a==="compositionend"||!gh&&sx(a,o)?(a=X0(),Hc=uh=us=null,Oa=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return rx&&o.locale!=="ko"?null:o.data;default:return null}}var vP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ox(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!vP[a.type]:o==="textarea"}function lx(a,o,d,g){we(g),o=tu(o,"onChange"),0<o.length&&(d=new dh("onChange","change",null,d,g),a.push({event:d,listeners:o}))}var al=null,ol=null;function yP(a){Nx(a,0)}function Xc(a){var o=Ma(a);if(Z(o))return a}function xP(a,o){if(a==="change")return o}var cx=!1;if(u){var vh;if(u){var yh="oninput"in document;if(!yh){var ux=document.createElement("div");ux.setAttribute("oninput","return;"),yh=typeof ux.oninput=="function"}vh=yh}else vh=!1;cx=vh&&(!document.documentMode||9<document.documentMode)}function dx(){al&&(al.detachEvent("onpropertychange",fx),ol=al=null)}function fx(a){if(a.propertyName==="value"&&Xc(ol)){var o=[];lx(o,ol,a,ss(a)),Tt(yP,o)}}function wP(a,o,d){a==="focusin"?(dx(),al=o,ol=d,al.attachEvent("onpropertychange",fx)):a==="focusout"&&dx()}function bP(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Xc(ol)}function _P(a,o){if(a==="click")return Xc(o)}function jP(a,o){if(a==="input"||a==="change")return Xc(o)}function SP(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Kn=typeof Object.is=="function"?Object.is:SP;function ll(a,o){if(Kn(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var d=Object.keys(a),g=Object.keys(o);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var y=d[g];if(!f.call(o,y)||!Kn(a[y],o[y]))return!1}return!0}function hx(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function mx(a,o){var d=hx(a);a=0;for(var g;d;){if(d.nodeType===3){if(g=a+d.textContent.length,a<=o&&g>=o)return{node:d,offset:o-a};a=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=hx(d)}}function px(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?px(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function gx(){for(var a=window,o=Ee();o instanceof a.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)a=o.contentWindow;else break;o=Ee(a.document)}return o}function xh(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}function kP(a){var o=gx(),d=a.focusedElem,g=a.selectionRange;if(o!==d&&d&&d.ownerDocument&&px(d.ownerDocument.documentElement,d)){if(g!==null&&xh(d)){if(o=g.start,a=g.end,a===void 0&&(a=o),"selectionStart"in d)d.selectionStart=o,d.selectionEnd=Math.min(a,d.value.length);else if(a=(o=d.ownerDocument||document)&&o.defaultView||window,a.getSelection){a=a.getSelection();var y=d.textContent.length,j=Math.min(g.start,y);g=g.end===void 0?j:Math.min(g.end,y),!a.extend&&j>g&&(y=g,g=j,j=y),y=mx(d,j);var A=mx(d,g);y&&A&&(a.rangeCount!==1||a.anchorNode!==y.node||a.anchorOffset!==y.offset||a.focusNode!==A.node||a.focusOffset!==A.offset)&&(o=o.createRange(),o.setStart(y.node,y.offset),a.removeAllRanges(),j>g?(a.addRange(o),a.extend(A.node,A.offset)):(o.setEnd(A.node,A.offset),a.addRange(o)))}}for(o=[],a=d;a=a.parentNode;)a.nodeType===1&&o.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<o.length;d++)a=o[d],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var NP=u&&"documentMode"in document&&11>=document.documentMode,Ta=null,wh=null,cl=null,bh=!1;function vx(a,o,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;bh||Ta==null||Ta!==Ee(g)||(g=Ta,"selectionStart"in g&&xh(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),cl&&ll(cl,g)||(cl=g,g=tu(wh,"onSelect"),0<g.length&&(o=new dh("onSelect","select",null,o,d),a.push({event:o,listeners:g}),o.target=Ta)))}function Qc(a,o){var d={};return d[a.toLowerCase()]=o.toLowerCase(),d["Webkit"+a]="webkit"+o,d["Moz"+a]="moz"+o,d}var Ia={animationend:Qc("Animation","AnimationEnd"),animationiteration:Qc("Animation","AnimationIteration"),animationstart:Qc("Animation","AnimationStart"),transitionend:Qc("Transition","TransitionEnd")},_h={},yx={};u&&(yx=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function Zc(a){if(_h[a])return _h[a];if(!Ia[a])return a;var o=Ia[a],d;for(d in o)if(o.hasOwnProperty(d)&&d in yx)return _h[a]=o[d];return a}var xx=Zc("animationend"),wx=Zc("animationiteration"),bx=Zc("animationstart"),_x=Zc("transitionend"),jx=new Map,Sx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ds(a,o){jx.set(a,o),s(o,[a])}for(var jh=0;jh<Sx.length;jh++){var Sh=Sx[jh],EP=Sh.toLowerCase(),AP=Sh[0].toUpperCase()+Sh.slice(1);ds(EP,"on"+AP)}ds(xx,"onAnimationEnd"),ds(wx,"onAnimationIteration"),ds(bx,"onAnimationStart"),ds("dblclick","onDoubleClick"),ds("focusin","onFocus"),ds("focusout","onBlur"),ds(_x,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CP=new Set("cancel close invalid load scroll toggle".split(" ").concat(ul));function kx(a,o,d){var g=a.type||"unknown-event";a.currentTarget=d,Se(g,o,void 0,a),a.currentTarget=null}function Nx(a,o){o=(o&4)!==0;for(var d=0;d<a.length;d++){var g=a[d],y=g.event;g=g.listeners;e:{var j=void 0;if(o)for(var A=g.length-1;0<=A;A--){var T=g[A],$=T.instance,H=T.currentTarget;if(T=T.listener,$!==j&&y.isPropagationStopped())break e;kx(y,T,H),j=$}else for(A=0;A<g.length;A++){if(T=g[A],$=T.instance,H=T.currentTarget,T=T.listener,$!==j&&y.isPropagationStopped())break e;kx(y,T,H),j=$}}}if(Mt)throw a=jn,Mt=!1,jn=null,a}function _t(a,o){var d=o[Th];d===void 0&&(d=o[Th]=new Set);var g=a+"__bubble";d.has(g)||(Ex(o,a,2,!1),d.add(g))}function kh(a,o,d){var g=0;o&&(g|=4),Ex(d,a,g,o)}var eu="_reactListening"+Math.random().toString(36).slice(2);function dl(a){if(!a[eu]){a[eu]=!0,n.forEach(function(d){d!=="selectionchange"&&(CP.has(d)||kh(d,!1,a),kh(d,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[eu]||(o[eu]=!0,kh("selectionchange",!1,o))}}function Ex(a,o,d,g){switch(J0(o)){case 1:var y=VC;break;case 4:y=qC;break;default:y=lh}d=y.bind(null,o,d,a),y=void 0,!bt||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),g?y!==void 0?a.addEventListener(o,d,{capture:!0,passive:y}):a.addEventListener(o,d,!0):y!==void 0?a.addEventListener(o,d,{passive:y}):a.addEventListener(o,d,!1)}function Nh(a,o,d,g,y){var j=g;if((o&1)===0&&(o&2)===0&&g!==null)e:for(;;){if(g===null)return;var A=g.tag;if(A===3||A===4){var T=g.stateNode.containerInfo;if(T===y||T.nodeType===8&&T.parentNode===y)break;if(A===4)for(A=g.return;A!==null;){var $=A.tag;if(($===3||$===4)&&($=A.stateNode.containerInfo,$===y||$.nodeType===8&&$.parentNode===y))return;A=A.return}for(;T!==null;){if(A=Us(T),A===null)return;if($=A.tag,$===5||$===6){g=j=A;continue e}T=T.parentNode}}g=g.return}Tt(function(){var H=j,fe=ss(d),he=[];e:{var de=jx.get(a);if(de!==void 0){var je=dh,Pe=a;switch(a){case"keypress":if(Yc(d)===0)break e;case"keydown":case"keyup":je=sP;break;case"focusin":Pe="focus",je=mh;break;case"focusout":Pe="blur",je=mh;break;case"beforeblur":case"afterblur":je=mh;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=Z0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=HC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=lP;break;case xx:case wx:case bx:je=JC;break;case _x:je=uP;break;case"scroll":je=WC;break;case"wheel":je=fP;break;case"copy":case"cut":case"paste":je=QC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=tx}var Te=(o&4)!==0,$t=!Te&&a==="scroll",B=Te?de!==null?de+"Capture":null:de;Te=[];for(var F=H,W;F!==null;){W=F;var me=W.stateNode;if(W.tag===5&&me!==null&&(W=me,B!==null&&(me=nt(F,B),me!=null&&Te.push(fl(F,me,W)))),$t)break;F=F.return}0<Te.length&&(de=new je(de,Pe,null,d,fe),he.push({event:de,listeners:Te}))}}if((o&7)===0){e:{if(de=a==="mouseover"||a==="pointerover",je=a==="mouseout"||a==="pointerout",de&&d!==Vn&&(Pe=d.relatedTarget||d.fromElement)&&(Us(Pe)||Pe[Ci]))break e;if((je||de)&&(de=fe.window===fe?fe:(de=fe.ownerDocument)?de.defaultView||de.parentWindow:window,je?(Pe=d.relatedTarget||d.toElement,je=H,Pe=Pe?Us(Pe):null,Pe!==null&&($t=He(Pe),Pe!==$t||Pe.tag!==5&&Pe.tag!==6)&&(Pe=null)):(je=null,Pe=H),je!==Pe)){if(Te=Z0,me="onMouseLeave",B="onMouseEnter",F="mouse",(a==="pointerout"||a==="pointerover")&&(Te=tx,me="onPointerLeave",B="onPointerEnter",F="pointer"),$t=je==null?de:Ma(je),W=Pe==null?de:Ma(Pe),de=new Te(me,F+"leave",je,d,fe),de.target=$t,de.relatedTarget=W,me=null,Us(fe)===H&&(Te=new Te(B,F+"enter",Pe,d,fe),Te.target=W,Te.relatedTarget=$t,me=Te),$t=me,je&&Pe)t:{for(Te=je,B=Pe,F=0,W=Te;W;W=Da(W))F++;for(W=0,me=B;me;me=Da(me))W++;for(;0<F-W;)Te=Da(Te),F--;for(;0<W-F;)B=Da(B),W--;for(;F--;){if(Te===B||B!==null&&Te===B.alternate)break t;Te=Da(Te),B=Da(B)}Te=null}else Te=null;je!==null&&Ax(he,de,je,Te,!1),Pe!==null&&$t!==null&&Ax(he,$t,Pe,Te,!0)}}e:{if(de=H?Ma(H):window,je=de.nodeName&&de.nodeName.toLowerCase(),je==="select"||je==="input"&&de.type==="file")var Ie=xP;else if(ox(de))if(cx)Ie=jP;else{Ie=bP;var Ue=wP}else(je=de.nodeName)&&je.toLowerCase()==="input"&&(de.type==="checkbox"||de.type==="radio")&&(Ie=_P);if(Ie&&(Ie=Ie(a,H))){lx(he,Ie,d,fe);break e}Ue&&Ue(a,de,H),a==="focusout"&&(Ue=de._wrapperState)&&Ue.controlled&&de.type==="number"&&Rt(de,"number",de.value)}switch(Ue=H?Ma(H):window,a){case"focusin":(ox(Ue)||Ue.contentEditable==="true")&&(Ta=Ue,wh=H,cl=null);break;case"focusout":cl=wh=Ta=null;break;case"mousedown":bh=!0;break;case"contextmenu":case"mouseup":case"dragend":bh=!1,vx(he,d,fe);break;case"selectionchange":if(NP)break;case"keydown":case"keyup":vx(he,d,fe)}var ze;if(gh)e:{switch(a){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else Oa?sx(a,d)&&(We="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(We="onCompositionStart");We&&(rx&&d.locale!=="ko"&&(Oa||We!=="onCompositionStart"?We==="onCompositionEnd"&&Oa&&(ze=X0()):(us=fe,uh="value"in us?us.value:us.textContent,Oa=!0)),Ue=tu(H,We),0<Ue.length&&(We=new ex(We,a,null,d,fe),he.push({event:We,listeners:Ue}),ze?We.data=ze:(ze=ax(d),ze!==null&&(We.data=ze)))),(ze=mP?pP(a,d):gP(a,d))&&(H=tu(H,"onBeforeInput"),0<H.length&&(fe=new ex("onBeforeInput","beforeinput",null,d,fe),he.push({event:fe,listeners:H}),fe.data=ze))}Nx(he,o)})}function fl(a,o,d){return{instance:a,listener:o,currentTarget:d}}function tu(a,o){for(var d=o+"Capture",g=[];a!==null;){var y=a,j=y.stateNode;y.tag===5&&j!==null&&(y=j,j=nt(a,d),j!=null&&g.unshift(fl(a,j,y)),j=nt(a,o),j!=null&&g.push(fl(a,j,y))),a=a.return}return g}function Da(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function Ax(a,o,d,g,y){for(var j=o._reactName,A=[];d!==null&&d!==g;){var T=d,$=T.alternate,H=T.stateNode;if($!==null&&$===g)break;T.tag===5&&H!==null&&(T=H,y?($=nt(d,j),$!=null&&A.unshift(fl(d,$,T))):y||($=nt(d,j),$!=null&&A.push(fl(d,$,T)))),d=d.return}A.length!==0&&a.push({event:o,listeners:A})}var PP=/\r\n?/g,OP=/\u0000|\uFFFD/g;function Cx(a){return(typeof a=="string"?a:""+a).replace(PP,`
`).replace(OP,"")}function ru(a,o,d){if(o=Cx(o),Cx(a)!==o&&d)throw Error(r(425))}function nu(){}var Eh=null,Ah=null;function Ch(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ph=typeof setTimeout=="function"?setTimeout:void 0,TP=typeof clearTimeout=="function"?clearTimeout:void 0,Px=typeof Promise=="function"?Promise:void 0,IP=typeof queueMicrotask=="function"?queueMicrotask:typeof Px<"u"?function(a){return Px.resolve(null).then(a).catch(DP)}:Ph;function DP(a){setTimeout(function(){throw a})}function Oh(a,o){var d=o,g=0;do{var y=d.nextSibling;if(a.removeChild(d),y&&y.nodeType===8)if(d=y.data,d==="/$"){if(g===0){a.removeChild(y),rl(o);return}g--}else d!=="$"&&d!=="$?"&&d!=="$!"||g++;d=y}while(d);rl(o)}function fs(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return a}function Ox(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(o===0)return a;o--}else d==="/$"&&o++}a=a.previousSibling}return null}var Ra=Math.random().toString(36).slice(2),pi="__reactFiber$"+Ra,hl="__reactProps$"+Ra,Ci="__reactContainer$"+Ra,Th="__reactEvents$"+Ra,RP="__reactListeners$"+Ra,MP="__reactHandles$"+Ra;function Us(a){var o=a[pi];if(o)return o;for(var d=a.parentNode;d;){if(o=d[Ci]||d[pi]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(a=Ox(a);a!==null;){if(d=a[pi])return d;a=Ox(a)}return o}a=d,d=a.parentNode}return null}function ml(a){return a=a[pi]||a[Ci],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Ma(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(r(33))}function iu(a){return a[hl]||null}var Ih=[],$a=-1;function hs(a){return{current:a}}function jt(a){0>$a||(a.current=Ih[$a],Ih[$a]=null,$a--)}function yt(a,o){$a++,Ih[$a]=a.current,a.current=o}var ms={},br=hs(ms),Lr=hs(!1),zs=ms;function La(a,o){var d=a.type.contextTypes;if(!d)return ms;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===o)return g.__reactInternalMemoizedMaskedChildContext;var y={},j;for(j in d)y[j]=o[j];return g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=o,a.__reactInternalMemoizedMaskedChildContext=y),y}function Fr(a){return a=a.childContextTypes,a!=null}function su(){jt(Lr),jt(br)}function Tx(a,o,d){if(br.current!==ms)throw Error(r(168));yt(br,o),yt(Lr,d)}function Ix(a,o,d){var g=a.stateNode;if(o=o.childContextTypes,typeof g.getChildContext!="function")return d;g=g.getChildContext();for(var y in g)if(!(y in o))throw Error(r(108,Me(a)||"Unknown",y));return ce({},d,g)}function au(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||ms,zs=br.current,yt(br,a),yt(Lr,Lr.current),!0}function Dx(a,o,d){var g=a.stateNode;if(!g)throw Error(r(169));d?(a=Ix(a,o,zs),g.__reactInternalMemoizedMergedChildContext=a,jt(Lr),jt(br),yt(br,a)):jt(Lr),yt(Lr,d)}var Pi=null,ou=!1,Dh=!1;function Rx(a){Pi===null?Pi=[a]:Pi.push(a)}function $P(a){ou=!0,Rx(a)}function ps(){if(!Dh&&Pi!==null){Dh=!0;var a=0,o=ct;try{var d=Pi;for(ct=1;a<d.length;a++){var g=d[a];do g=g(!0);while(g!==null)}Pi=null,ou=!1}catch(y){throw Pi!==null&&(Pi=Pi.slice(a+1)),Ho(Go,ps),y}finally{ct=o,Dh=!1}}return null}var Fa=[],Ua=0,lu=null,cu=0,Sn=[],kn=0,Bs=null,Oi=1,Ti="";function Vs(a,o){Fa[Ua++]=cu,Fa[Ua++]=lu,lu=a,cu=o}function Mx(a,o,d){Sn[kn++]=Oi,Sn[kn++]=Ti,Sn[kn++]=Bs,Bs=a;var g=Oi;a=Ti;var y=32-Wn(g)-1;g&=~(1<<y),d+=1;var j=32-Wn(o)+y;if(30<j){var A=y-y%5;j=(g&(1<<A)-1).toString(32),g>>=A,y-=A,Oi=1<<32-Wn(o)+y|d<<y|g,Ti=j+a}else Oi=1<<j|d<<y|g,Ti=a}function Rh(a){a.return!==null&&(Vs(a,1),Mx(a,1,0))}function Mh(a){for(;a===lu;)lu=Fa[--Ua],Fa[Ua]=null,cu=Fa[--Ua],Fa[Ua]=null;for(;a===Bs;)Bs=Sn[--kn],Sn[kn]=null,Ti=Sn[--kn],Sn[kn]=null,Oi=Sn[--kn],Sn[kn]=null}var Xr=null,Qr=null,Et=!1,Hn=null;function $x(a,o){var d=Cn(5,null,null,0);d.elementType="DELETED",d.stateNode=o,d.return=a,o=a.deletions,o===null?(a.deletions=[d],a.flags|=16):o.push(d)}function Lx(a,o){switch(a.tag){case 5:var d=a.type;return o=o.nodeType!==1||d.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(a.stateNode=o,Xr=a,Qr=fs(o.firstChild),!0):!1;case 6:return o=a.pendingProps===""||o.nodeType!==3?null:o,o!==null?(a.stateNode=o,Xr=a,Qr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(d=Bs!==null?{id:Oi,overflow:Ti}:null,a.memoizedState={dehydrated:o,treeContext:d,retryLane:1073741824},d=Cn(18,null,null,0),d.stateNode=o,d.return=a,a.child=d,Xr=a,Qr=null,!0):!1;default:return!1}}function $h(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Lh(a){if(Et){var o=Qr;if(o){var d=o;if(!Lx(a,o)){if($h(a))throw Error(r(418));o=fs(d.nextSibling);var g=Xr;o&&Lx(a,o)?$x(g,d):(a.flags=a.flags&-4097|2,Et=!1,Xr=a)}}else{if($h(a))throw Error(r(418));a.flags=a.flags&-4097|2,Et=!1,Xr=a}}}function Fx(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Xr=a}function uu(a){if(a!==Xr)return!1;if(!Et)return Fx(a),Et=!0,!1;var o;if((o=a.tag!==3)&&!(o=a.tag!==5)&&(o=a.type,o=o!=="head"&&o!=="body"&&!Ch(a.type,a.memoizedProps)),o&&(o=Qr)){if($h(a))throw Ux(),Error(r(418));for(;o;)$x(a,o),o=fs(o.nextSibling)}if(Fx(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,o=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"){if(o===0){Qr=fs(a.nextSibling);break e}o--}else d!=="$"&&d!=="$!"&&d!=="$?"||o++}a=a.nextSibling}Qr=null}}else Qr=Xr?fs(a.stateNode.nextSibling):null;return!0}function Ux(){for(var a=Qr;a;)a=fs(a.nextSibling)}function za(){Qr=Xr=null,Et=!1}function Fh(a){Hn===null?Hn=[a]:Hn.push(a)}var LP=C.ReactCurrentBatchConfig;function pl(a,o,d){if(a=d.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(r(309));var g=d.stateNode}if(!g)throw Error(r(147,a));var y=g,j=""+a;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===j?o.ref:(o=function(A){var T=y.refs;A===null?delete T[j]:T[j]=A},o._stringRef=j,o)}if(typeof a!="string")throw Error(r(284));if(!d._owner)throw Error(r(290,a))}return a}function du(a,o){throw a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a))}function zx(a){var o=a._init;return o(a._payload)}function Bx(a){function o(B,F){if(a){var W=B.deletions;W===null?(B.deletions=[F],B.flags|=16):W.push(F)}}function d(B,F){if(!a)return null;for(;F!==null;)o(B,F),F=F.sibling;return null}function g(B,F){for(B=new Map;F!==null;)F.key!==null?B.set(F.key,F):B.set(F.index,F),F=F.sibling;return B}function y(B,F){return B=js(B,F),B.index=0,B.sibling=null,B}function j(B,F,W){return B.index=W,a?(W=B.alternate,W!==null?(W=W.index,W<F?(B.flags|=2,F):W):(B.flags|=2,F)):(B.flags|=1048576,F)}function A(B){return a&&B.alternate===null&&(B.flags|=2),B}function T(B,F,W,me){return F===null||F.tag!==6?(F=Pm(W,B.mode,me),F.return=B,F):(F=y(F,W),F.return=B,F)}function $(B,F,W,me){var Ie=W.type;return Ie===L?fe(B,F,W.props.children,me,W.key):F!==null&&(F.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===xe&&zx(Ie)===F.type)?(me=y(F,W.props),me.ref=pl(B,F,W),me.return=B,me):(me=Ru(W.type,W.key,W.props,null,B.mode,me),me.ref=pl(B,F,W),me.return=B,me)}function H(B,F,W,me){return F===null||F.tag!==4||F.stateNode.containerInfo!==W.containerInfo||F.stateNode.implementation!==W.implementation?(F=Om(W,B.mode,me),F.return=B,F):(F=y(F,W.children||[]),F.return=B,F)}function fe(B,F,W,me,Ie){return F===null||F.tag!==7?(F=Xs(W,B.mode,me,Ie),F.return=B,F):(F=y(F,W),F.return=B,F)}function he(B,F,W){if(typeof F=="string"&&F!==""||typeof F=="number")return F=Pm(""+F,B.mode,W),F.return=B,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case O:return W=Ru(F.type,F.key,F.props,null,B.mode,W),W.ref=pl(B,null,F),W.return=B,W;case I:return F=Om(F,B.mode,W),F.return=B,F;case xe:var me=F._init;return he(B,me(F._payload),W)}if(yn(F)||le(F))return F=Xs(F,B.mode,W,null),F.return=B,F;du(B,F)}return null}function de(B,F,W,me){var Ie=F!==null?F.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return Ie!==null?null:T(B,F,""+W,me);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case O:return W.key===Ie?$(B,F,W,me):null;case I:return W.key===Ie?H(B,F,W,me):null;case xe:return Ie=W._init,de(B,F,Ie(W._payload),me)}if(yn(W)||le(W))return Ie!==null?null:fe(B,F,W,me,null);du(B,W)}return null}function je(B,F,W,me,Ie){if(typeof me=="string"&&me!==""||typeof me=="number")return B=B.get(W)||null,T(F,B,""+me,Ie);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case O:return B=B.get(me.key===null?W:me.key)||null,$(F,B,me,Ie);case I:return B=B.get(me.key===null?W:me.key)||null,H(F,B,me,Ie);case xe:var Ue=me._init;return je(B,F,W,Ue(me._payload),Ie)}if(yn(me)||le(me))return B=B.get(W)||null,fe(F,B,me,Ie,null);du(F,me)}return null}function Pe(B,F,W,me){for(var Ie=null,Ue=null,ze=F,We=F=0,nr=null;ze!==null&&We<W.length;We++){ze.index>We?(nr=ze,ze=null):nr=ze.sibling;var st=de(B,ze,W[We],me);if(st===null){ze===null&&(ze=nr);break}a&&ze&&st.alternate===null&&o(B,ze),F=j(st,F,We),Ue===null?Ie=st:Ue.sibling=st,Ue=st,ze=nr}if(We===W.length)return d(B,ze),Et&&Vs(B,We),Ie;if(ze===null){for(;We<W.length;We++)ze=he(B,W[We],me),ze!==null&&(F=j(ze,F,We),Ue===null?Ie=ze:Ue.sibling=ze,Ue=ze);return Et&&Vs(B,We),Ie}for(ze=g(B,ze);We<W.length;We++)nr=je(ze,B,We,W[We],me),nr!==null&&(a&&nr.alternate!==null&&ze.delete(nr.key===null?We:nr.key),F=j(nr,F,We),Ue===null?Ie=nr:Ue.sibling=nr,Ue=nr);return a&&ze.forEach(function(Ss){return o(B,Ss)}),Et&&Vs(B,We),Ie}function Te(B,F,W,me){var Ie=le(W);if(typeof Ie!="function")throw Error(r(150));if(W=Ie.call(W),W==null)throw Error(r(151));for(var Ue=Ie=null,ze=F,We=F=0,nr=null,st=W.next();ze!==null&&!st.done;We++,st=W.next()){ze.index>We?(nr=ze,ze=null):nr=ze.sibling;var Ss=de(B,ze,st.value,me);if(Ss===null){ze===null&&(ze=nr);break}a&&ze&&Ss.alternate===null&&o(B,ze),F=j(Ss,F,We),Ue===null?Ie=Ss:Ue.sibling=Ss,Ue=Ss,ze=nr}if(st.done)return d(B,ze),Et&&Vs(B,We),Ie;if(ze===null){for(;!st.done;We++,st=W.next())st=he(B,st.value,me),st!==null&&(F=j(st,F,We),Ue===null?Ie=st:Ue.sibling=st,Ue=st);return Et&&Vs(B,We),Ie}for(ze=g(B,ze);!st.done;We++,st=W.next())st=je(ze,B,We,st.value,me),st!==null&&(a&&st.alternate!==null&&ze.delete(st.key===null?We:st.key),F=j(st,F,We),Ue===null?Ie=st:Ue.sibling=st,Ue=st);return a&&ze.forEach(function(vO){return o(B,vO)}),Et&&Vs(B,We),Ie}function $t(B,F,W,me){if(typeof W=="object"&&W!==null&&W.type===L&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case O:e:{for(var Ie=W.key,Ue=F;Ue!==null;){if(Ue.key===Ie){if(Ie=W.type,Ie===L){if(Ue.tag===7){d(B,Ue.sibling),F=y(Ue,W.props.children),F.return=B,B=F;break e}}else if(Ue.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===xe&&zx(Ie)===Ue.type){d(B,Ue.sibling),F=y(Ue,W.props),F.ref=pl(B,Ue,W),F.return=B,B=F;break e}d(B,Ue);break}else o(B,Ue);Ue=Ue.sibling}W.type===L?(F=Xs(W.props.children,B.mode,me,W.key),F.return=B,B=F):(me=Ru(W.type,W.key,W.props,null,B.mode,me),me.ref=pl(B,F,W),me.return=B,B=me)}return A(B);case I:e:{for(Ue=W.key;F!==null;){if(F.key===Ue)if(F.tag===4&&F.stateNode.containerInfo===W.containerInfo&&F.stateNode.implementation===W.implementation){d(B,F.sibling),F=y(F,W.children||[]),F.return=B,B=F;break e}else{d(B,F);break}else o(B,F);F=F.sibling}F=Om(W,B.mode,me),F.return=B,B=F}return A(B);case xe:return Ue=W._init,$t(B,F,Ue(W._payload),me)}if(yn(W))return Pe(B,F,W,me);if(le(W))return Te(B,F,W,me);du(B,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,F!==null&&F.tag===6?(d(B,F.sibling),F=y(F,W),F.return=B,B=F):(d(B,F),F=Pm(W,B.mode,me),F.return=B,B=F),A(B)):d(B,F)}return $t}var Ba=Bx(!0),Vx=Bx(!1),fu=hs(null),hu=null,Va=null,Uh=null;function zh(){Uh=Va=hu=null}function Bh(a){var o=fu.current;jt(fu),a._currentValue=o}function Vh(a,o,d){for(;a!==null;){var g=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,g!==null&&(g.childLanes|=o)):g!==null&&(g.childLanes&o)!==o&&(g.childLanes|=o),a===d)break;a=a.return}}function qa(a,o){hu=a,Uh=Va=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&o)!==0&&(Ur=!0),a.firstContext=null)}function Nn(a){var o=a._currentValue;if(Uh!==a)if(a={context:a,memoizedValue:o,next:null},Va===null){if(hu===null)throw Error(r(308));Va=a,hu.dependencies={lanes:0,firstContext:a}}else Va=Va.next=a;return o}var qs=null;function qh(a){qs===null?qs=[a]:qs.push(a)}function qx(a,o,d,g){var y=o.interleaved;return y===null?(d.next=d,qh(o)):(d.next=y.next,y.next=d),o.interleaved=d,Ii(a,g)}function Ii(a,o){a.lanes|=o;var d=a.alternate;for(d!==null&&(d.lanes|=o),d=a,a=a.return;a!==null;)a.childLanes|=o,d=a.alternate,d!==null&&(d.childLanes|=o),d=a,a=a.return;return d.tag===3?d.stateNode:null}var gs=!1;function Wh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wx(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Di(a,o){return{eventTime:a,lane:o,tag:0,payload:null,callback:null,next:null}}function vs(a,o,d){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(it&2)!==0){var y=g.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),g.pending=o,Ii(a,d)}return y=g.interleaved,y===null?(o.next=o,qh(g)):(o.next=y.next,y.next=o),g.interleaved=o,Ii(a,d)}function mu(a,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194240)!==0)){var g=o.lanes;g&=a.pendingLanes,d|=g,o.lanes=d,sh(a,d)}}function Kx(a,o){var d=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var y=null,j=null;if(d=d.firstBaseUpdate,d!==null){do{var A={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};j===null?y=j=A:j=j.next=A,d=d.next}while(d!==null);j===null?y=j=o:j=j.next=o}else y=j=o;d={baseState:g.baseState,firstBaseUpdate:y,lastBaseUpdate:j,shared:g.shared,effects:g.effects},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=o:a.next=o,d.lastBaseUpdate=o}function pu(a,o,d,g){var y=a.updateQueue;gs=!1;var j=y.firstBaseUpdate,A=y.lastBaseUpdate,T=y.shared.pending;if(T!==null){y.shared.pending=null;var $=T,H=$.next;$.next=null,A===null?j=H:A.next=H,A=$;var fe=a.alternate;fe!==null&&(fe=fe.updateQueue,T=fe.lastBaseUpdate,T!==A&&(T===null?fe.firstBaseUpdate=H:T.next=H,fe.lastBaseUpdate=$))}if(j!==null){var he=y.baseState;A=0,fe=H=$=null,T=j;do{var de=T.lane,je=T.eventTime;if((g&de)===de){fe!==null&&(fe=fe.next={eventTime:je,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var Pe=a,Te=T;switch(de=o,je=d,Te.tag){case 1:if(Pe=Te.payload,typeof Pe=="function"){he=Pe.call(je,he,de);break e}he=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Te.payload,de=typeof Pe=="function"?Pe.call(je,he,de):Pe,de==null)break e;he=ce({},he,de);break e;case 2:gs=!0}}T.callback!==null&&T.lane!==0&&(a.flags|=64,de=y.effects,de===null?y.effects=[T]:de.push(T))}else je={eventTime:je,lane:de,tag:T.tag,payload:T.payload,callback:T.callback,next:null},fe===null?(H=fe=je,$=he):fe=fe.next=je,A|=de;if(T=T.next,T===null){if(T=y.shared.pending,T===null)break;de=T,T=de.next,de.next=null,y.lastBaseUpdate=de,y.shared.pending=null}}while(!0);if(fe===null&&($=he),y.baseState=$,y.firstBaseUpdate=H,y.lastBaseUpdate=fe,o=y.shared.interleaved,o!==null){y=o;do A|=y.lane,y=y.next;while(y!==o)}else j===null&&(y.shared.lanes=0);Hs|=A,a.lanes=A,a.memoizedState=he}}function Hx(a,o,d){if(a=o.effects,o.effects=null,a!==null)for(o=0;o<a.length;o++){var g=a[o],y=g.callback;if(y!==null){if(g.callback=null,g=d,typeof y!="function")throw Error(r(191,y));y.call(g)}}}var gl={},gi=hs(gl),vl=hs(gl),yl=hs(gl);function Ws(a){if(a===gl)throw Error(r(174));return a}function Kh(a,o){switch(yt(yl,o),yt(vl,a),yt(gi,gl),a=o.nodeType,a){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:G(null,"");break;default:a=a===8?o.parentNode:o,o=a.namespaceURI||null,a=a.tagName,o=G(o,a)}jt(gi),yt(gi,o)}function Wa(){jt(gi),jt(vl),jt(yl)}function Yx(a){Ws(yl.current);var o=Ws(gi.current),d=G(o,a.type);o!==d&&(yt(vl,a),yt(gi,d))}function Hh(a){vl.current===a&&(jt(gi),jt(vl))}var Pt=hs(0);function gu(a){for(var o=a;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Yh=[];function Gh(){for(var a=0;a<Yh.length;a++)Yh[a]._workInProgressVersionPrimary=null;Yh.length=0}var vu=C.ReactCurrentDispatcher,Jh=C.ReactCurrentBatchConfig,Ks=0,Ot=null,Yt=null,tr=null,yu=!1,xl=!1,wl=0,FP=0;function _r(){throw Error(r(321))}function Xh(a,o){if(o===null)return!1;for(var d=0;d<o.length&&d<a.length;d++)if(!Kn(a[d],o[d]))return!1;return!0}function Qh(a,o,d,g,y,j){if(Ks=j,Ot=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,vu.current=a===null||a.memoizedState===null?VP:qP,a=d(g,y),xl){j=0;do{if(xl=!1,wl=0,25<=j)throw Error(r(301));j+=1,tr=Yt=null,o.updateQueue=null,vu.current=WP,a=d(g,y)}while(xl)}if(vu.current=bu,o=Yt!==null&&Yt.next!==null,Ks=0,tr=Yt=Ot=null,yu=!1,o)throw Error(r(300));return a}function Zh(){var a=wl!==0;return wl=0,a}function vi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tr===null?Ot.memoizedState=tr=a:tr=tr.next=a,tr}function En(){if(Yt===null){var a=Ot.alternate;a=a!==null?a.memoizedState:null}else a=Yt.next;var o=tr===null?Ot.memoizedState:tr.next;if(o!==null)tr=o,Yt=a;else{if(a===null)throw Error(r(310));Yt=a,a={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},tr===null?Ot.memoizedState=tr=a:tr=tr.next=a}return tr}function bl(a,o){return typeof o=="function"?o(a):o}function em(a){var o=En(),d=o.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var g=Yt,y=g.baseQueue,j=d.pending;if(j!==null){if(y!==null){var A=y.next;y.next=j.next,j.next=A}g.baseQueue=y=j,d.pending=null}if(y!==null){j=y.next,g=g.baseState;var T=A=null,$=null,H=j;do{var fe=H.lane;if((Ks&fe)===fe)$!==null&&($=$.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),g=H.hasEagerState?H.eagerState:a(g,H.action);else{var he={lane:fe,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};$===null?(T=$=he,A=g):$=$.next=he,Ot.lanes|=fe,Hs|=fe}H=H.next}while(H!==null&&H!==j);$===null?A=g:$.next=T,Kn(g,o.memoizedState)||(Ur=!0),o.memoizedState=g,o.baseState=A,o.baseQueue=$,d.lastRenderedState=g}if(a=d.interleaved,a!==null){y=a;do j=y.lane,Ot.lanes|=j,Hs|=j,y=y.next;while(y!==a)}else y===null&&(d.lanes=0);return[o.memoizedState,d.dispatch]}function tm(a){var o=En(),d=o.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var g=d.dispatch,y=d.pending,j=o.memoizedState;if(y!==null){d.pending=null;var A=y=y.next;do j=a(j,A.action),A=A.next;while(A!==y);Kn(j,o.memoizedState)||(Ur=!0),o.memoizedState=j,o.baseQueue===null&&(o.baseState=j),d.lastRenderedState=j}return[j,g]}function Gx(){}function Jx(a,o){var d=Ot,g=En(),y=o(),j=!Kn(g.memoizedState,y);if(j&&(g.memoizedState=y,Ur=!0),g=g.queue,rm(Zx.bind(null,d,g,a),[a]),g.getSnapshot!==o||j||tr!==null&&tr.memoizedState.tag&1){if(d.flags|=2048,_l(9,Qx.bind(null,d,g,y,o),void 0,null),rr===null)throw Error(r(349));(Ks&30)!==0||Xx(d,o,y)}return y}function Xx(a,o,d){a.flags|=16384,a={getSnapshot:o,value:d},o=Ot.updateQueue,o===null?(o={lastEffect:null,stores:null},Ot.updateQueue=o,o.stores=[a]):(d=o.stores,d===null?o.stores=[a]:d.push(a))}function Qx(a,o,d,g){o.value=d,o.getSnapshot=g,ew(o)&&tw(a)}function Zx(a,o,d){return d(function(){ew(o)&&tw(a)})}function ew(a){var o=a.getSnapshot;a=a.value;try{var d=o();return!Kn(a,d)}catch{return!0}}function tw(a){var o=Ii(a,1);o!==null&&Xn(o,a,1,-1)}function rw(a){var o=vi();return typeof a=="function"&&(a=a()),o.memoizedState=o.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:a},o.queue=a,a=a.dispatch=BP.bind(null,Ot,a),[o.memoizedState,a]}function _l(a,o,d,g){return a={tag:a,create:o,destroy:d,deps:g,next:null},o=Ot.updateQueue,o===null?(o={lastEffect:null,stores:null},Ot.updateQueue=o,o.lastEffect=a.next=a):(d=o.lastEffect,d===null?o.lastEffect=a.next=a:(g=d.next,d.next=a,a.next=g,o.lastEffect=a)),a}function nw(){return En().memoizedState}function xu(a,o,d,g){var y=vi();Ot.flags|=a,y.memoizedState=_l(1|o,d,void 0,g===void 0?null:g)}function wu(a,o,d,g){var y=En();g=g===void 0?null:g;var j=void 0;if(Yt!==null){var A=Yt.memoizedState;if(j=A.destroy,g!==null&&Xh(g,A.deps)){y.memoizedState=_l(o,d,j,g);return}}Ot.flags|=a,y.memoizedState=_l(1|o,d,j,g)}function iw(a,o){return xu(8390656,8,a,o)}function rm(a,o){return wu(2048,8,a,o)}function sw(a,o){return wu(4,2,a,o)}function aw(a,o){return wu(4,4,a,o)}function ow(a,o){if(typeof o=="function")return a=a(),o(a),function(){o(null)};if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function lw(a,o,d){return d=d!=null?d.concat([a]):null,wu(4,4,ow.bind(null,o,a),d)}function nm(){}function cw(a,o){var d=En();o=o===void 0?null:o;var g=d.memoizedState;return g!==null&&o!==null&&Xh(o,g[1])?g[0]:(d.memoizedState=[a,o],a)}function uw(a,o){var d=En();o=o===void 0?null:o;var g=d.memoizedState;return g!==null&&o!==null&&Xh(o,g[1])?g[0]:(a=a(),d.memoizedState=[a,o],a)}function dw(a,o,d){return(Ks&21)===0?(a.baseState&&(a.baseState=!1,Ur=!0),a.memoizedState=d):(Kn(d,o)||(d=z0(),Ot.lanes|=d,Hs|=d,a.baseState=!0),o)}function UP(a,o){var d=ct;ct=d!==0&&4>d?d:4,a(!0);var g=Jh.transition;Jh.transition={};try{a(!1),o()}finally{ct=d,Jh.transition=g}}function fw(){return En().memoizedState}function zP(a,o,d){var g=bs(a);if(d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},hw(a))mw(o,d);else if(d=qx(a,o,d,g),d!==null){var y=Pr();Xn(d,a,g,y),pw(d,o,g)}}function BP(a,o,d){var g=bs(a),y={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(hw(a))mw(o,y);else{var j=a.alternate;if(a.lanes===0&&(j===null||j.lanes===0)&&(j=o.lastRenderedReducer,j!==null))try{var A=o.lastRenderedState,T=j(A,d);if(y.hasEagerState=!0,y.eagerState=T,Kn(T,A)){var $=o.interleaved;$===null?(y.next=y,qh(o)):(y.next=$.next,$.next=y),o.interleaved=y;return}}catch{}finally{}d=qx(a,o,y,g),d!==null&&(y=Pr(),Xn(d,a,g,y),pw(d,o,g))}}function hw(a){var o=a.alternate;return a===Ot||o!==null&&o===Ot}function mw(a,o){xl=yu=!0;var d=a.pending;d===null?o.next=o:(o.next=d.next,d.next=o),a.pending=o}function pw(a,o,d){if((d&4194240)!==0){var g=o.lanes;g&=a.pendingLanes,d|=g,o.lanes=d,sh(a,d)}}var bu={readContext:Nn,useCallback:_r,useContext:_r,useEffect:_r,useImperativeHandle:_r,useInsertionEffect:_r,useLayoutEffect:_r,useMemo:_r,useReducer:_r,useRef:_r,useState:_r,useDebugValue:_r,useDeferredValue:_r,useTransition:_r,useMutableSource:_r,useSyncExternalStore:_r,useId:_r,unstable_isNewReconciler:!1},VP={readContext:Nn,useCallback:function(a,o){return vi().memoizedState=[a,o===void 0?null:o],a},useContext:Nn,useEffect:iw,useImperativeHandle:function(a,o,d){return d=d!=null?d.concat([a]):null,xu(4194308,4,ow.bind(null,o,a),d)},useLayoutEffect:function(a,o){return xu(4194308,4,a,o)},useInsertionEffect:function(a,o){return xu(4,2,a,o)},useMemo:function(a,o){var d=vi();return o=o===void 0?null:o,a=a(),d.memoizedState=[a,o],a},useReducer:function(a,o,d){var g=vi();return o=d!==void 0?d(o):o,g.memoizedState=g.baseState=o,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:o},g.queue=a,a=a.dispatch=zP.bind(null,Ot,a),[g.memoizedState,a]},useRef:function(a){var o=vi();return a={current:a},o.memoizedState=a},useState:rw,useDebugValue:nm,useDeferredValue:function(a){return vi().memoizedState=a},useTransition:function(){var a=rw(!1),o=a[0];return a=UP.bind(null,a[1]),vi().memoizedState=a,[o,a]},useMutableSource:function(){},useSyncExternalStore:function(a,o,d){var g=Ot,y=vi();if(Et){if(d===void 0)throw Error(r(407));d=d()}else{if(d=o(),rr===null)throw Error(r(349));(Ks&30)!==0||Xx(g,o,d)}y.memoizedState=d;var j={value:d,getSnapshot:o};return y.queue=j,iw(Zx.bind(null,g,j,a),[a]),g.flags|=2048,_l(9,Qx.bind(null,g,j,d,o),void 0,null),d},useId:function(){var a=vi(),o=rr.identifierPrefix;if(Et){var d=Ti,g=Oi;d=(g&~(1<<32-Wn(g)-1)).toString(32)+d,o=":"+o+"R"+d,d=wl++,0<d&&(o+="H"+d.toString(32)),o+=":"}else d=FP++,o=":"+o+"r"+d.toString(32)+":";return a.memoizedState=o},unstable_isNewReconciler:!1},qP={readContext:Nn,useCallback:cw,useContext:Nn,useEffect:rm,useImperativeHandle:lw,useInsertionEffect:sw,useLayoutEffect:aw,useMemo:uw,useReducer:em,useRef:nw,useState:function(){return em(bl)},useDebugValue:nm,useDeferredValue:function(a){var o=En();return dw(o,Yt.memoizedState,a)},useTransition:function(){var a=em(bl)[0],o=En().memoizedState;return[a,o]},useMutableSource:Gx,useSyncExternalStore:Jx,useId:fw,unstable_isNewReconciler:!1},WP={readContext:Nn,useCallback:cw,useContext:Nn,useEffect:rm,useImperativeHandle:lw,useInsertionEffect:sw,useLayoutEffect:aw,useMemo:uw,useReducer:tm,useRef:nw,useState:function(){return tm(bl)},useDebugValue:nm,useDeferredValue:function(a){var o=En();return Yt===null?o.memoizedState=a:dw(o,Yt.memoizedState,a)},useTransition:function(){var a=tm(bl)[0],o=En().memoizedState;return[a,o]},useMutableSource:Gx,useSyncExternalStore:Jx,useId:fw,unstable_isNewReconciler:!1};function Yn(a,o){if(a&&a.defaultProps){o=ce({},o),a=a.defaultProps;for(var d in a)o[d]===void 0&&(o[d]=a[d]);return o}return o}function im(a,o,d,g){o=a.memoizedState,d=d(g,o),d=d==null?o:ce({},o,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var _u={isMounted:function(a){return(a=a._reactInternals)?He(a)===a:!1},enqueueSetState:function(a,o,d){a=a._reactInternals;var g=Pr(),y=bs(a),j=Di(g,y);j.payload=o,d!=null&&(j.callback=d),o=vs(a,j,y),o!==null&&(Xn(o,a,y,g),mu(o,a,y))},enqueueReplaceState:function(a,o,d){a=a._reactInternals;var g=Pr(),y=bs(a),j=Di(g,y);j.tag=1,j.payload=o,d!=null&&(j.callback=d),o=vs(a,j,y),o!==null&&(Xn(o,a,y,g),mu(o,a,y))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var d=Pr(),g=bs(a),y=Di(d,g);y.tag=2,o!=null&&(y.callback=o),o=vs(a,y,g),o!==null&&(Xn(o,a,g,d),mu(o,a,g))}};function gw(a,o,d,g,y,j,A){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,j,A):o.prototype&&o.prototype.isPureReactComponent?!ll(d,g)||!ll(y,j):!0}function vw(a,o,d){var g=!1,y=ms,j=o.contextType;return typeof j=="object"&&j!==null?j=Nn(j):(y=Fr(o)?zs:br.current,g=o.contextTypes,j=(g=g!=null)?La(a,y):ms),o=new o(d,j),a.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=_u,a.stateNode=o,o._reactInternals=a,g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=y,a.__reactInternalMemoizedMaskedChildContext=j),o}function yw(a,o,d,g){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,g),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,g),o.state!==a&&_u.enqueueReplaceState(o,o.state,null)}function sm(a,o,d,g){var y=a.stateNode;y.props=d,y.state=a.memoizedState,y.refs={},Wh(a);var j=o.contextType;typeof j=="object"&&j!==null?y.context=Nn(j):(j=Fr(o)?zs:br.current,y.context=La(a,j)),y.state=a.memoizedState,j=o.getDerivedStateFromProps,typeof j=="function"&&(im(a,o,j,d),y.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(o=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),o!==y.state&&_u.enqueueReplaceState(y,y.state,null),pu(a,d,y,g),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308)}function Ka(a,o){try{var d="",g=o;do d+=ne(g),g=g.return;while(g);var y=d}catch(j){y=`
Error generating stack: `+j.message+`
`+j.stack}return{value:a,source:o,stack:y,digest:null}}function am(a,o,d){return{value:a,source:null,stack:d??null,digest:o??null}}function om(a,o){try{console.error(o.value)}catch(d){setTimeout(function(){throw d})}}var KP=typeof WeakMap=="function"?WeakMap:Map;function xw(a,o,d){d=Di(-1,d),d.tag=3,d.payload={element:null};var g=o.value;return d.callback=function(){Cu||(Cu=!0,_m=g),om(a,o)},d}function ww(a,o,d){d=Di(-1,d),d.tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var y=o.value;d.payload=function(){return g(y)},d.callback=function(){om(a,o)}}var j=a.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(d.callback=function(){om(a,o),typeof g!="function"&&(xs===null?xs=new Set([this]):xs.add(this));var A=o.stack;this.componentDidCatch(o.value,{componentStack:A!==null?A:""})}),d}function bw(a,o,d){var g=a.pingCache;if(g===null){g=a.pingCache=new KP;var y=new Set;g.set(o,y)}else y=g.get(o),y===void 0&&(y=new Set,g.set(o,y));y.has(d)||(y.add(d),a=aO.bind(null,a,o,d),o.then(a,a))}function _w(a){do{var o;if((o=a.tag===13)&&(o=a.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return a;a=a.return}while(a!==null);return null}function jw(a,o,d,g,y){return(a.mode&1)===0?(a===o?a.flags|=65536:(a.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(o=Di(-1,1),o.tag=2,vs(d,o,1))),d.lanes|=1),a):(a.flags|=65536,a.lanes=y,a)}var HP=C.ReactCurrentOwner,Ur=!1;function Cr(a,o,d,g){o.child=a===null?Vx(o,null,d,g):Ba(o,a.child,d,g)}function Sw(a,o,d,g,y){d=d.render;var j=o.ref;return qa(o,y),g=Qh(a,o,d,g,j,y),d=Zh(),a!==null&&!Ur?(o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~y,Ri(a,o,y)):(Et&&d&&Rh(o),o.flags|=1,Cr(a,o,g,y),o.child)}function kw(a,o,d,g,y){if(a===null){var j=d.type;return typeof j=="function"&&!Cm(j)&&j.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(o.tag=15,o.type=j,Nw(a,o,j,g,y)):(a=Ru(d.type,null,g,o,o.mode,y),a.ref=o.ref,a.return=o,o.child=a)}if(j=a.child,(a.lanes&y)===0){var A=j.memoizedProps;if(d=d.compare,d=d!==null?d:ll,d(A,g)&&a.ref===o.ref)return Ri(a,o,y)}return o.flags|=1,a=js(j,g),a.ref=o.ref,a.return=o,o.child=a}function Nw(a,o,d,g,y){if(a!==null){var j=a.memoizedProps;if(ll(j,g)&&a.ref===o.ref)if(Ur=!1,o.pendingProps=g=j,(a.lanes&y)!==0)(a.flags&131072)!==0&&(Ur=!0);else return o.lanes=a.lanes,Ri(a,o,y)}return lm(a,o,d,g,y)}function Ew(a,o,d){var g=o.pendingProps,y=g.children,j=a!==null?a.memoizedState:null;if(g.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt(Ya,Zr),Zr|=d;else{if((d&1073741824)===0)return a=j!==null?j.baseLanes|d:d,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:a,cachePool:null,transitions:null},o.updateQueue=null,yt(Ya,Zr),Zr|=a,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=j!==null?j.baseLanes:d,yt(Ya,Zr),Zr|=g}else j!==null?(g=j.baseLanes|d,o.memoizedState=null):g=d,yt(Ya,Zr),Zr|=g;return Cr(a,o,y,d),o.child}function Aw(a,o){var d=o.ref;(a===null&&d!==null||a!==null&&a.ref!==d)&&(o.flags|=512,o.flags|=2097152)}function lm(a,o,d,g,y){var j=Fr(d)?zs:br.current;return j=La(o,j),qa(o,y),d=Qh(a,o,d,g,j,y),g=Zh(),a!==null&&!Ur?(o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~y,Ri(a,o,y)):(Et&&g&&Rh(o),o.flags|=1,Cr(a,o,d,y),o.child)}function Cw(a,o,d,g,y){if(Fr(d)){var j=!0;au(o)}else j=!1;if(qa(o,y),o.stateNode===null)Su(a,o),vw(o,d,g),sm(o,d,g,y),g=!0;else if(a===null){var A=o.stateNode,T=o.memoizedProps;A.props=T;var $=A.context,H=d.contextType;typeof H=="object"&&H!==null?H=Nn(H):(H=Fr(d)?zs:br.current,H=La(o,H));var fe=d.getDerivedStateFromProps,he=typeof fe=="function"||typeof A.getSnapshotBeforeUpdate=="function";he||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(T!==g||$!==H)&&yw(o,A,g,H),gs=!1;var de=o.memoizedState;A.state=de,pu(o,g,A,y),$=o.memoizedState,T!==g||de!==$||Lr.current||gs?(typeof fe=="function"&&(im(o,d,fe,g),$=o.memoizedState),(T=gs||gw(o,d,T,g,de,$,H))?(he||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(o.flags|=4194308)):(typeof A.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=g,o.memoizedState=$),A.props=g,A.state=$,A.context=H,g=T):(typeof A.componentDidMount=="function"&&(o.flags|=4194308),g=!1)}else{A=o.stateNode,Wx(a,o),T=o.memoizedProps,H=o.type===o.elementType?T:Yn(o.type,T),A.props=H,he=o.pendingProps,de=A.context,$=d.contextType,typeof $=="object"&&$!==null?$=Nn($):($=Fr(d)?zs:br.current,$=La(o,$));var je=d.getDerivedStateFromProps;(fe=typeof je=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(T!==he||de!==$)&&yw(o,A,g,$),gs=!1,de=o.memoizedState,A.state=de,pu(o,g,A,y);var Pe=o.memoizedState;T!==he||de!==Pe||Lr.current||gs?(typeof je=="function"&&(im(o,d,je,g),Pe=o.memoizedState),(H=gs||gw(o,d,H,g,de,Pe,$)||!1)?(fe||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(g,Pe,$),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(g,Pe,$)),typeof A.componentDidUpdate=="function"&&(o.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof A.componentDidUpdate!="function"||T===a.memoizedProps&&de===a.memoizedState||(o.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||T===a.memoizedProps&&de===a.memoizedState||(o.flags|=1024),o.memoizedProps=g,o.memoizedState=Pe),A.props=g,A.state=Pe,A.context=$,g=H):(typeof A.componentDidUpdate!="function"||T===a.memoizedProps&&de===a.memoizedState||(o.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||T===a.memoizedProps&&de===a.memoizedState||(o.flags|=1024),g=!1)}return cm(a,o,d,g,j,y)}function cm(a,o,d,g,y,j){Aw(a,o);var A=(o.flags&128)!==0;if(!g&&!A)return y&&Dx(o,d,!1),Ri(a,o,j);g=o.stateNode,HP.current=o;var T=A&&typeof d.getDerivedStateFromError!="function"?null:g.render();return o.flags|=1,a!==null&&A?(o.child=Ba(o,a.child,null,j),o.child=Ba(o,null,T,j)):Cr(a,o,T,j),o.memoizedState=g.state,y&&Dx(o,d,!0),o.child}function Pw(a){var o=a.stateNode;o.pendingContext?Tx(a,o.pendingContext,o.pendingContext!==o.context):o.context&&Tx(a,o.context,!1),Kh(a,o.containerInfo)}function Ow(a,o,d,g,y){return za(),Fh(y),o.flags|=256,Cr(a,o,d,g),o.child}var um={dehydrated:null,treeContext:null,retryLane:0};function dm(a){return{baseLanes:a,cachePool:null,transitions:null}}function Tw(a,o,d){var g=o.pendingProps,y=Pt.current,j=!1,A=(o.flags&128)!==0,T;if((T=A)||(T=a!==null&&a.memoizedState===null?!1:(y&2)!==0),T?(j=!0,o.flags&=-129):(a===null||a.memoizedState!==null)&&(y|=1),yt(Pt,y&1),a===null)return Lh(o),a=o.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((o.mode&1)===0?o.lanes=1:a.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(A=g.children,a=g.fallback,j?(g=o.mode,j=o.child,A={mode:"hidden",children:A},(g&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=A):j=Mu(A,g,0,null),a=Xs(a,g,d,null),j.return=o,a.return=o,j.sibling=a,o.child=j,o.child.memoizedState=dm(d),o.memoizedState=um,a):fm(o,A));if(y=a.memoizedState,y!==null&&(T=y.dehydrated,T!==null))return YP(a,o,A,g,T,y,d);if(j){j=g.fallback,A=o.mode,y=a.child,T=y.sibling;var $={mode:"hidden",children:g.children};return(A&1)===0&&o.child!==y?(g=o.child,g.childLanes=0,g.pendingProps=$,o.deletions=null):(g=js(y,$),g.subtreeFlags=y.subtreeFlags&14680064),T!==null?j=js(T,j):(j=Xs(j,A,d,null),j.flags|=2),j.return=o,g.return=o,g.sibling=j,o.child=g,g=j,j=o.child,A=a.child.memoizedState,A=A===null?dm(d):{baseLanes:A.baseLanes|d,cachePool:null,transitions:A.transitions},j.memoizedState=A,j.childLanes=a.childLanes&~d,o.memoizedState=um,g}return j=a.child,a=j.sibling,g=js(j,{mode:"visible",children:g.children}),(o.mode&1)===0&&(g.lanes=d),g.return=o,g.sibling=null,a!==null&&(d=o.deletions,d===null?(o.deletions=[a],o.flags|=16):d.push(a)),o.child=g,o.memoizedState=null,g}function fm(a,o){return o=Mu({mode:"visible",children:o},a.mode,0,null),o.return=a,a.child=o}function ju(a,o,d,g){return g!==null&&Fh(g),Ba(o,a.child,null,d),a=fm(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function YP(a,o,d,g,y,j,A){if(d)return o.flags&256?(o.flags&=-257,g=am(Error(r(422))),ju(a,o,A,g)):o.memoizedState!==null?(o.child=a.child,o.flags|=128,null):(j=g.fallback,y=o.mode,g=Mu({mode:"visible",children:g.children},y,0,null),j=Xs(j,y,A,null),j.flags|=2,g.return=o,j.return=o,g.sibling=j,o.child=g,(o.mode&1)!==0&&Ba(o,a.child,null,A),o.child.memoizedState=dm(A),o.memoizedState=um,j);if((o.mode&1)===0)return ju(a,o,A,null);if(y.data==="$!"){if(g=y.nextSibling&&y.nextSibling.dataset,g)var T=g.dgst;return g=T,j=Error(r(419)),g=am(j,g,void 0),ju(a,o,A,g)}if(T=(A&a.childLanes)!==0,Ur||T){if(g=rr,g!==null){switch(A&-A){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(g.suspendedLanes|A))!==0?0:y,y!==0&&y!==j.retryLane&&(j.retryLane=y,Ii(a,y),Xn(g,a,y,-1))}return Am(),g=am(Error(r(421))),ju(a,o,A,g)}return y.data==="$?"?(o.flags|=128,o.child=a.child,o=oO.bind(null,a),y._reactRetry=o,null):(a=j.treeContext,Qr=fs(y.nextSibling),Xr=o,Et=!0,Hn=null,a!==null&&(Sn[kn++]=Oi,Sn[kn++]=Ti,Sn[kn++]=Bs,Oi=a.id,Ti=a.overflow,Bs=o),o=fm(o,g.children),o.flags|=4096,o)}function Iw(a,o,d){a.lanes|=o;var g=a.alternate;g!==null&&(g.lanes|=o),Vh(a.return,o,d)}function hm(a,o,d,g,y){var j=a.memoizedState;j===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:y}:(j.isBackwards=o,j.rendering=null,j.renderingStartTime=0,j.last=g,j.tail=d,j.tailMode=y)}function Dw(a,o,d){var g=o.pendingProps,y=g.revealOrder,j=g.tail;if(Cr(a,o,g.children,d),g=Pt.current,(g&2)!==0)g=g&1|2,o.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Iw(a,d,o);else if(a.tag===19)Iw(a,d,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(yt(Pt,g),(o.mode&1)===0)o.memoizedState=null;else switch(y){case"forwards":for(d=o.child,y=null;d!==null;)a=d.alternate,a!==null&&gu(a)===null&&(y=d),d=d.sibling;d=y,d===null?(y=o.child,o.child=null):(y=d.sibling,d.sibling=null),hm(o,!1,y,d,j);break;case"backwards":for(d=null,y=o.child,o.child=null;y!==null;){if(a=y.alternate,a!==null&&gu(a)===null){o.child=y;break}a=y.sibling,y.sibling=d,d=y,y=a}hm(o,!0,d,null,j);break;case"together":hm(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Su(a,o){(o.mode&1)===0&&a!==null&&(a.alternate=null,o.alternate=null,o.flags|=2)}function Ri(a,o,d){if(a!==null&&(o.dependencies=a.dependencies),Hs|=o.lanes,(d&o.childLanes)===0)return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,d=js(a,a.pendingProps),o.child=d,d.return=o;a.sibling!==null;)a=a.sibling,d=d.sibling=js(a,a.pendingProps),d.return=o;d.sibling=null}return o.child}function GP(a,o,d){switch(o.tag){case 3:Pw(o),za();break;case 5:Yx(o);break;case 1:Fr(o.type)&&au(o);break;case 4:Kh(o,o.stateNode.containerInfo);break;case 10:var g=o.type._context,y=o.memoizedProps.value;yt(fu,g._currentValue),g._currentValue=y;break;case 13:if(g=o.memoizedState,g!==null)return g.dehydrated!==null?(yt(Pt,Pt.current&1),o.flags|=128,null):(d&o.child.childLanes)!==0?Tw(a,o,d):(yt(Pt,Pt.current&1),a=Ri(a,o,d),a!==null?a.sibling:null);yt(Pt,Pt.current&1);break;case 19:if(g=(d&o.childLanes)!==0,(a.flags&128)!==0){if(g)return Dw(a,o,d);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),yt(Pt,Pt.current),g)break;return null;case 22:case 23:return o.lanes=0,Ew(a,o,d)}return Ri(a,o,d)}var Rw,mm,Mw,$w;Rw=function(a,o){for(var d=o.child;d!==null;){if(d.tag===5||d.tag===6)a.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},mm=function(){},Mw=function(a,o,d,g){var y=a.memoizedProps;if(y!==g){a=o.stateNode,Ws(gi.current);var j=null;switch(d){case"input":y=Ye(a,y),g=Ye(a,g),j=[];break;case"select":y=ce({},y,{value:void 0}),g=ce({},g,{value:void 0}),j=[];break;case"textarea":y=R(a,y),g=R(a,g),j=[];break;default:typeof y.onClick!="function"&&typeof g.onClick=="function"&&(a.onclick=nu)}xn(d,g);var A;d=null;for(H in y)if(!g.hasOwnProperty(H)&&y.hasOwnProperty(H)&&y[H]!=null)if(H==="style"){var T=y[H];for(A in T)T.hasOwnProperty(A)&&(d||(d={}),d[A]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(i.hasOwnProperty(H)?j||(j=[]):(j=j||[]).push(H,null));for(H in g){var $=g[H];if(T=y!=null?y[H]:void 0,g.hasOwnProperty(H)&&$!==T&&($!=null||T!=null))if(H==="style")if(T){for(A in T)!T.hasOwnProperty(A)||$&&$.hasOwnProperty(A)||(d||(d={}),d[A]="");for(A in $)$.hasOwnProperty(A)&&T[A]!==$[A]&&(d||(d={}),d[A]=$[A])}else d||(j||(j=[]),j.push(H,d)),d=$;else H==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,T=T?T.__html:void 0,$!=null&&T!==$&&(j=j||[]).push(H,$)):H==="children"?typeof $!="string"&&typeof $!="number"||(j=j||[]).push(H,""+$):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(i.hasOwnProperty(H)?($!=null&&H==="onScroll"&&_t("scroll",a),j||T===$||(j=[])):(j=j||[]).push(H,$))}d&&(j=j||[]).push("style",d);var H=j;(o.updateQueue=H)&&(o.flags|=4)}},$w=function(a,o,d,g){d!==g&&(o.flags|=4)};function jl(a,o){if(!Et)switch(a.tailMode){case"hidden":o=a.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function jr(a){var o=a.alternate!==null&&a.alternate.child===a.child,d=0,g=0;if(o)for(var y=a.child;y!==null;)d|=y.lanes|y.childLanes,g|=y.subtreeFlags&14680064,g|=y.flags&14680064,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)d|=y.lanes|y.childLanes,g|=y.subtreeFlags,g|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=g,a.childLanes=d,o}function JP(a,o,d){var g=o.pendingProps;switch(Mh(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jr(o),null;case 1:return Fr(o.type)&&su(),jr(o),null;case 3:return g=o.stateNode,Wa(),jt(Lr),jt(br),Gh(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(a===null||a.child===null)&&(uu(o)?o.flags|=4:a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Hn!==null&&(km(Hn),Hn=null))),mm(a,o),jr(o),null;case 5:Hh(o);var y=Ws(yl.current);if(d=o.type,a!==null&&o.stateNode!=null)Mw(a,o,d,g,y),a.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!g){if(o.stateNode===null)throw Error(r(166));return jr(o),null}if(a=Ws(gi.current),uu(o)){g=o.stateNode,d=o.type;var j=o.memoizedProps;switch(g[pi]=o,g[hl]=j,a=(o.mode&1)!==0,d){case"dialog":_t("cancel",g),_t("close",g);break;case"iframe":case"object":case"embed":_t("load",g);break;case"video":case"audio":for(y=0;y<ul.length;y++)_t(ul[y],g);break;case"source":_t("error",g);break;case"img":case"image":case"link":_t("error",g),_t("load",g);break;case"details":_t("toggle",g);break;case"input":Nt(g,j),_t("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!j.multiple},_t("invalid",g);break;case"textarea":K(g,j),_t("invalid",g)}xn(d,j),y=null;for(var A in j)if(j.hasOwnProperty(A)){var T=j[A];A==="children"?typeof T=="string"?g.textContent!==T&&(j.suppressHydrationWarning!==!0&&ru(g.textContent,T,a),y=["children",T]):typeof T=="number"&&g.textContent!==""+T&&(j.suppressHydrationWarning!==!0&&ru(g.textContent,T,a),y=["children",""+T]):i.hasOwnProperty(A)&&T!=null&&A==="onScroll"&&_t("scroll",g)}switch(d){case"input":oe(g),vn(g,j,!0);break;case"textarea":oe(g),ge(g);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(g.onclick=nu)}g=y,o.updateQueue=g,g!==null&&(o.flags|=4)}else{A=y.nodeType===9?y:y.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=pe(d)),a==="http://www.w3.org/1999/xhtml"?d==="script"?(a=A.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof g.is=="string"?a=A.createElement(d,{is:g.is}):(a=A.createElement(d),d==="select"&&(A=a,g.multiple?A.multiple=!0:g.size&&(A.size=g.size))):a=A.createElementNS(a,d),a[pi]=o,a[hl]=g,Rw(a,o,!1,!1),o.stateNode=a;e:{switch(A=di(d,g),d){case"dialog":_t("cancel",a),_t("close",a),y=g;break;case"iframe":case"object":case"embed":_t("load",a),y=g;break;case"video":case"audio":for(y=0;y<ul.length;y++)_t(ul[y],a);y=g;break;case"source":_t("error",a),y=g;break;case"img":case"image":case"link":_t("error",a),_t("load",a),y=g;break;case"details":_t("toggle",a),y=g;break;case"input":Nt(a,g),y=Ye(a,g),_t("invalid",a);break;case"option":y=g;break;case"select":a._wrapperState={wasMultiple:!!g.multiple},y=ce({},g,{value:void 0}),_t("invalid",a);break;case"textarea":K(a,g),y=R(a,g),_t("invalid",a);break;default:y=g}xn(d,y),T=y;for(j in T)if(T.hasOwnProperty(j)){var $=T[j];j==="style"?Bn(a,$):j==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&Fe(a,$)):j==="children"?typeof $=="string"?(d!=="textarea"||$!=="")&&rt(a,$):typeof $=="number"&&rt(a,""+$):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(i.hasOwnProperty(j)?$!=null&&j==="onScroll"&&_t("scroll",a):$!=null&&E(a,j,$,A))}switch(d){case"input":oe(a),vn(a,g,!1);break;case"textarea":oe(a),ge(a);break;case"option":g.value!=null&&a.setAttribute("value",""+Je(g.value));break;case"select":a.multiple=!!g.multiple,j=g.value,j!=null?Ht(a,!!g.multiple,j,!1):g.defaultValue!=null&&Ht(a,!!g.multiple,g.defaultValue,!0);break;default:typeof y.onClick=="function"&&(a.onclick=nu)}switch(d){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return jr(o),null;case 6:if(a&&o.stateNode!=null)$w(a,o,a.memoizedProps,g);else{if(typeof g!="string"&&o.stateNode===null)throw Error(r(166));if(d=Ws(yl.current),Ws(gi.current),uu(o)){if(g=o.stateNode,d=o.memoizedProps,g[pi]=o,(j=g.nodeValue!==d)&&(a=Xr,a!==null))switch(a.tag){case 3:ru(g.nodeValue,d,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&ru(g.nodeValue,d,(a.mode&1)!==0)}j&&(o.flags|=4)}else g=(d.nodeType===9?d:d.ownerDocument).createTextNode(g),g[pi]=o,o.stateNode=g}return jr(o),null;case 13:if(jt(Pt),g=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Et&&Qr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Ux(),za(),o.flags|=98560,j=!1;else if(j=uu(o),g!==null&&g.dehydrated!==null){if(a===null){if(!j)throw Error(r(318));if(j=o.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(r(317));j[pi]=o}else za(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;jr(o),j=!1}else Hn!==null&&(km(Hn),Hn=null),j=!0;if(!j)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=d,o):(g=g!==null,g!==(a!==null&&a.memoizedState!==null)&&g&&(o.child.flags|=8192,(o.mode&1)!==0&&(a===null||(Pt.current&1)!==0?Gt===0&&(Gt=3):Am())),o.updateQueue!==null&&(o.flags|=4),jr(o),null);case 4:return Wa(),mm(a,o),a===null&&dl(o.stateNode.containerInfo),jr(o),null;case 10:return Bh(o.type._context),jr(o),null;case 17:return Fr(o.type)&&su(),jr(o),null;case 19:if(jt(Pt),j=o.memoizedState,j===null)return jr(o),null;if(g=(o.flags&128)!==0,A=j.rendering,A===null)if(g)jl(j,!1);else{if(Gt!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(A=gu(a),A!==null){for(o.flags|=128,jl(j,!1),g=A.updateQueue,g!==null&&(o.updateQueue=g,o.flags|=4),o.subtreeFlags=0,g=d,d=o.child;d!==null;)j=d,a=g,j.flags&=14680066,A=j.alternate,A===null?(j.childLanes=0,j.lanes=a,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=A.childLanes,j.lanes=A.lanes,j.child=A.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=A.memoizedProps,j.memoizedState=A.memoizedState,j.updateQueue=A.updateQueue,j.type=A.type,a=A.dependencies,j.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),d=d.sibling;return yt(Pt,Pt.current&1|2),o.child}a=a.sibling}j.tail!==null&&lt()>Ga&&(o.flags|=128,g=!0,jl(j,!1),o.lanes=4194304)}else{if(!g)if(a=gu(A),a!==null){if(o.flags|=128,g=!0,d=a.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),jl(j,!0),j.tail===null&&j.tailMode==="hidden"&&!A.alternate&&!Et)return jr(o),null}else 2*lt()-j.renderingStartTime>Ga&&d!==1073741824&&(o.flags|=128,g=!0,jl(j,!1),o.lanes=4194304);j.isBackwards?(A.sibling=o.child,o.child=A):(d=j.last,d!==null?d.sibling=A:o.child=A,j.last=A)}return j.tail!==null?(o=j.tail,j.rendering=o,j.tail=o.sibling,j.renderingStartTime=lt(),o.sibling=null,d=Pt.current,yt(Pt,g?d&1|2:d&1),o):(jr(o),null);case 22:case 23:return Em(),g=o.memoizedState!==null,a!==null&&a.memoizedState!==null!==g&&(o.flags|=8192),g&&(o.mode&1)!==0?(Zr&1073741824)!==0&&(jr(o),o.subtreeFlags&6&&(o.flags|=8192)):jr(o),null;case 24:return null;case 25:return null}throw Error(r(156,o.tag))}function XP(a,o){switch(Mh(o),o.tag){case 1:return Fr(o.type)&&su(),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Wa(),jt(Lr),jt(br),Gh(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 5:return Hh(o),null;case 13:if(jt(Pt),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));za()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return jt(Pt),null;case 4:return Wa(),null;case 10:return Bh(o.type._context),null;case 22:case 23:return Em(),null;case 24:return null;default:return null}}var ku=!1,Sr=!1,QP=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function Ha(a,o){var d=a.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){It(a,o,g)}else d.current=null}function pm(a,o,d){try{d()}catch(g){It(a,o,g)}}var Lw=!1;function ZP(a,o){if(Eh=Wc,a=gx(),xh(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var y=g.anchorOffset,j=g.focusNode;g=g.focusOffset;try{d.nodeType,j.nodeType}catch{d=null;break e}var A=0,T=-1,$=-1,H=0,fe=0,he=a,de=null;t:for(;;){for(var je;he!==d||y!==0&&he.nodeType!==3||(T=A+y),he!==j||g!==0&&he.nodeType!==3||($=A+g),he.nodeType===3&&(A+=he.nodeValue.length),(je=he.firstChild)!==null;)de=he,he=je;for(;;){if(he===a)break t;if(de===d&&++H===y&&(T=A),de===j&&++fe===g&&($=A),(je=he.nextSibling)!==null)break;he=de,de=he.parentNode}he=je}d=T===-1||$===-1?null:{start:T,end:$}}else d=null}d=d||{start:0,end:0}}else d=null;for(Ah={focusedElem:a,selectionRange:d},Wc=!1,Ae=o;Ae!==null;)if(o=Ae,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Ae=a;else for(;Ae!==null;){o=Ae;try{var Pe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Pe!==null){var Te=Pe.memoizedProps,$t=Pe.memoizedState,B=o.stateNode,F=B.getSnapshotBeforeUpdate(o.elementType===o.type?Te:Yn(o.type,Te),$t);B.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var W=o.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(me){It(o,o.return,me)}if(a=o.sibling,a!==null){a.return=o.return,Ae=a;break}Ae=o.return}return Pe=Lw,Lw=!1,Pe}function Sl(a,o,d){var g=o.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var y=g=g.next;do{if((y.tag&a)===a){var j=y.destroy;y.destroy=void 0,j!==void 0&&pm(o,d,j)}y=y.next}while(y!==g)}}function Nu(a,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var d=o=o.next;do{if((d.tag&a)===a){var g=d.create;d.destroy=g()}d=d.next}while(d!==o)}}function gm(a){var o=a.ref;if(o!==null){var d=a.stateNode;switch(a.tag){case 5:a=d;break;default:a=d}typeof o=="function"?o(a):o.current=a}}function Fw(a){var o=a.alternate;o!==null&&(a.alternate=null,Fw(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&(delete o[pi],delete o[hl],delete o[Th],delete o[RP],delete o[MP])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Uw(a){return a.tag===5||a.tag===3||a.tag===4}function zw(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Uw(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function vm(a,o,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,o?d.nodeType===8?d.parentNode.insertBefore(a,o):d.insertBefore(a,o):(d.nodeType===8?(o=d.parentNode,o.insertBefore(a,d)):(o=d,o.appendChild(a)),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=nu));else if(g!==4&&(a=a.child,a!==null))for(vm(a,o,d),a=a.sibling;a!==null;)vm(a,o,d),a=a.sibling}function ym(a,o,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,o?d.insertBefore(a,o):d.appendChild(a);else if(g!==4&&(a=a.child,a!==null))for(ym(a,o,d),a=a.sibling;a!==null;)ym(a,o,d),a=a.sibling}var hr=null,Gn=!1;function ys(a,o,d){for(d=d.child;d!==null;)Bw(a,o,d),d=d.sibling}function Bw(a,o,d){if(mi&&typeof mi.onCommitFiberUnmount=="function")try{mi.onCommitFiberUnmount(Fc,d)}catch{}switch(d.tag){case 5:Sr||Ha(d,o);case 6:var g=hr,y=Gn;hr=null,ys(a,o,d),hr=g,Gn=y,hr!==null&&(Gn?(a=hr,d=d.stateNode,a.nodeType===8?a.parentNode.removeChild(d):a.removeChild(d)):hr.removeChild(d.stateNode));break;case 18:hr!==null&&(Gn?(a=hr,d=d.stateNode,a.nodeType===8?Oh(a.parentNode,d):a.nodeType===1&&Oh(a,d),rl(a)):Oh(hr,d.stateNode));break;case 4:g=hr,y=Gn,hr=d.stateNode.containerInfo,Gn=!0,ys(a,o,d),hr=g,Gn=y;break;case 0:case 11:case 14:case 15:if(!Sr&&(g=d.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){y=g=g.next;do{var j=y,A=j.destroy;j=j.tag,A!==void 0&&((j&2)!==0||(j&4)!==0)&&pm(d,o,A),y=y.next}while(y!==g)}ys(a,o,d);break;case 1:if(!Sr&&(Ha(d,o),g=d.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(T){It(d,o,T)}ys(a,o,d);break;case 21:ys(a,o,d);break;case 22:d.mode&1?(Sr=(g=Sr)||d.memoizedState!==null,ys(a,o,d),Sr=g):ys(a,o,d);break;default:ys(a,o,d)}}function Vw(a){var o=a.updateQueue;if(o!==null){a.updateQueue=null;var d=a.stateNode;d===null&&(d=a.stateNode=new QP),o.forEach(function(g){var y=lO.bind(null,a,g);d.has(g)||(d.add(g),g.then(y,y))})}}function Jn(a,o){var d=o.deletions;if(d!==null)for(var g=0;g<d.length;g++){var y=d[g];try{var j=a,A=o,T=A;e:for(;T!==null;){switch(T.tag){case 5:hr=T.stateNode,Gn=!1;break e;case 3:hr=T.stateNode.containerInfo,Gn=!0;break e;case 4:hr=T.stateNode.containerInfo,Gn=!0;break e}T=T.return}if(hr===null)throw Error(r(160));Bw(j,A,y),hr=null,Gn=!1;var $=y.alternate;$!==null&&($.return=null),y.return=null}catch(H){It(y,o,H)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)qw(o,a),o=o.sibling}function qw(a,o){var d=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Jn(o,a),yi(a),g&4){try{Sl(3,a,a.return),Nu(3,a)}catch(Te){It(a,a.return,Te)}try{Sl(5,a,a.return)}catch(Te){It(a,a.return,Te)}}break;case 1:Jn(o,a),yi(a),g&512&&d!==null&&Ha(d,d.return);break;case 5:if(Jn(o,a),yi(a),g&512&&d!==null&&Ha(d,d.return),a.flags&32){var y=a.stateNode;try{rt(y,"")}catch(Te){It(a,a.return,Te)}}if(g&4&&(y=a.stateNode,y!=null)){var j=a.memoizedProps,A=d!==null?d.memoizedProps:j,T=a.type,$=a.updateQueue;if(a.updateQueue=null,$!==null)try{T==="input"&&j.type==="radio"&&j.name!=null&&mt(y,j),di(T,A);var H=di(T,j);for(A=0;A<$.length;A+=2){var fe=$[A],he=$[A+1];fe==="style"?Bn(y,he):fe==="dangerouslySetInnerHTML"?Fe(y,he):fe==="children"?rt(y,he):E(y,fe,he,H)}switch(T){case"input":Dt(y,j);break;case"textarea":X(y,j);break;case"select":var de=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!j.multiple;var je=j.value;je!=null?Ht(y,!!j.multiple,je,!1):de!==!!j.multiple&&(j.defaultValue!=null?Ht(y,!!j.multiple,j.defaultValue,!0):Ht(y,!!j.multiple,j.multiple?[]:"",!1))}y[hl]=j}catch(Te){It(a,a.return,Te)}}break;case 6:if(Jn(o,a),yi(a),g&4){if(a.stateNode===null)throw Error(r(162));y=a.stateNode,j=a.memoizedProps;try{y.nodeValue=j}catch(Te){It(a,a.return,Te)}}break;case 3:if(Jn(o,a),yi(a),g&4&&d!==null&&d.memoizedState.isDehydrated)try{rl(o.containerInfo)}catch(Te){It(a,a.return,Te)}break;case 4:Jn(o,a),yi(a);break;case 13:Jn(o,a),yi(a),y=a.child,y.flags&8192&&(j=y.memoizedState!==null,y.stateNode.isHidden=j,!j||y.alternate!==null&&y.alternate.memoizedState!==null||(bm=lt())),g&4&&Vw(a);break;case 22:if(fe=d!==null&&d.memoizedState!==null,a.mode&1?(Sr=(H=Sr)||fe,Jn(o,a),Sr=H):Jn(o,a),yi(a),g&8192){if(H=a.memoizedState!==null,(a.stateNode.isHidden=H)&&!fe&&(a.mode&1)!==0)for(Ae=a,fe=a.child;fe!==null;){for(he=Ae=fe;Ae!==null;){switch(de=Ae,je=de.child,de.tag){case 0:case 11:case 14:case 15:Sl(4,de,de.return);break;case 1:Ha(de,de.return);var Pe=de.stateNode;if(typeof Pe.componentWillUnmount=="function"){g=de,d=de.return;try{o=g,Pe.props=o.memoizedProps,Pe.state=o.memoizedState,Pe.componentWillUnmount()}catch(Te){It(g,d,Te)}}break;case 5:Ha(de,de.return);break;case 22:if(de.memoizedState!==null){Hw(he);continue}}je!==null?(je.return=de,Ae=je):Hw(he)}fe=fe.sibling}e:for(fe=null,he=a;;){if(he.tag===5){if(fe===null){fe=he;try{y=he.stateNode,H?(j=y.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(T=he.stateNode,$=he.memoizedProps.style,A=$!=null&&$.hasOwnProperty("display")?$.display:null,T.style.display=zn("display",A))}catch(Te){It(a,a.return,Te)}}}else if(he.tag===6){if(fe===null)try{he.stateNode.nodeValue=H?"":he.memoizedProps}catch(Te){It(a,a.return,Te)}}else if((he.tag!==22&&he.tag!==23||he.memoizedState===null||he===a)&&he.child!==null){he.child.return=he,he=he.child;continue}if(he===a)break e;for(;he.sibling===null;){if(he.return===null||he.return===a)break e;fe===he&&(fe=null),he=he.return}fe===he&&(fe=null),he.sibling.return=he.return,he=he.sibling}}break;case 19:Jn(o,a),yi(a),g&4&&Vw(a);break;case 21:break;default:Jn(o,a),yi(a)}}function yi(a){var o=a.flags;if(o&2){try{e:{for(var d=a.return;d!==null;){if(Uw(d)){var g=d;break e}d=d.return}throw Error(r(160))}switch(g.tag){case 5:var y=g.stateNode;g.flags&32&&(rt(y,""),g.flags&=-33);var j=zw(a);ym(a,j,y);break;case 3:case 4:var A=g.stateNode.containerInfo,T=zw(a);vm(a,T,A);break;default:throw Error(r(161))}}catch($){It(a,a.return,$)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function eO(a,o,d){Ae=a,Ww(a)}function Ww(a,o,d){for(var g=(a.mode&1)!==0;Ae!==null;){var y=Ae,j=y.child;if(y.tag===22&&g){var A=y.memoizedState!==null||ku;if(!A){var T=y.alternate,$=T!==null&&T.memoizedState!==null||Sr;T=ku;var H=Sr;if(ku=A,(Sr=$)&&!H)for(Ae=y;Ae!==null;)A=Ae,$=A.child,A.tag===22&&A.memoizedState!==null?Yw(y):$!==null?($.return=A,Ae=$):Yw(y);for(;j!==null;)Ae=j,Ww(j),j=j.sibling;Ae=y,ku=T,Sr=H}Kw(a)}else(y.subtreeFlags&8772)!==0&&j!==null?(j.return=y,Ae=j):Kw(a)}}function Kw(a){for(;Ae!==null;){var o=Ae;if((o.flags&8772)!==0){var d=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Sr||Nu(5,o);break;case 1:var g=o.stateNode;if(o.flags&4&&!Sr)if(d===null)g.componentDidMount();else{var y=o.elementType===o.type?d.memoizedProps:Yn(o.type,d.memoizedProps);g.componentDidUpdate(y,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var j=o.updateQueue;j!==null&&Hx(o,j,g);break;case 3:var A=o.updateQueue;if(A!==null){if(d=null,o.child!==null)switch(o.child.tag){case 5:d=o.child.stateNode;break;case 1:d=o.child.stateNode}Hx(o,A,d)}break;case 5:var T=o.stateNode;if(d===null&&o.flags&4){d=T;var $=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&d.focus();break;case"img":$.src&&(d.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var H=o.alternate;if(H!==null){var fe=H.memoizedState;if(fe!==null){var he=fe.dehydrated;he!==null&&rl(he)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Sr||o.flags&512&&gm(o)}catch(de){It(o,o.return,de)}}if(o===a){Ae=null;break}if(d=o.sibling,d!==null){d.return=o.return,Ae=d;break}Ae=o.return}}function Hw(a){for(;Ae!==null;){var o=Ae;if(o===a){Ae=null;break}var d=o.sibling;if(d!==null){d.return=o.return,Ae=d;break}Ae=o.return}}function Yw(a){for(;Ae!==null;){var o=Ae;try{switch(o.tag){case 0:case 11:case 15:var d=o.return;try{Nu(4,o)}catch($){It(o,d,$)}break;case 1:var g=o.stateNode;if(typeof g.componentDidMount=="function"){var y=o.return;try{g.componentDidMount()}catch($){It(o,y,$)}}var j=o.return;try{gm(o)}catch($){It(o,j,$)}break;case 5:var A=o.return;try{gm(o)}catch($){It(o,A,$)}}}catch($){It(o,o.return,$)}if(o===a){Ae=null;break}var T=o.sibling;if(T!==null){T.return=o.return,Ae=T;break}Ae=o.return}}var tO=Math.ceil,Eu=C.ReactCurrentDispatcher,xm=C.ReactCurrentOwner,An=C.ReactCurrentBatchConfig,it=0,rr=null,zt=null,mr=0,Zr=0,Ya=hs(0),Gt=0,kl=null,Hs=0,Au=0,wm=0,Nl=null,zr=null,bm=0,Ga=1/0,Mi=null,Cu=!1,_m=null,xs=null,Pu=!1,ws=null,Ou=0,El=0,jm=null,Tu=-1,Iu=0;function Pr(){return(it&6)!==0?lt():Tu!==-1?Tu:Tu=lt()}function bs(a){return(a.mode&1)===0?1:(it&2)!==0&&mr!==0?mr&-mr:LP.transition!==null?(Iu===0&&(Iu=z0()),Iu):(a=ct,a!==0||(a=window.event,a=a===void 0?16:J0(a.type)),a)}function Xn(a,o,d,g){if(50<El)throw El=0,jm=null,Error(r(185));Xo(a,d,g),((it&2)===0||a!==rr)&&(a===rr&&((it&2)===0&&(Au|=d),Gt===4&&_s(a,mr)),Br(a,g),d===1&&it===0&&(o.mode&1)===0&&(Ga=lt()+500,ou&&ps()))}function Br(a,o){var d=a.callbackNode;LC(a,o);var g=Bc(a,a===rr?mr:0);if(g===0)d!==null&&hi(d),a.callbackNode=null,a.callbackPriority=0;else if(o=g&-g,a.callbackPriority!==o){if(d!=null&&hi(d),o===1)a.tag===0?$P(Jw.bind(null,a)):Rx(Jw.bind(null,a)),IP(function(){(it&6)===0&&ps()}),d=null;else{switch(B0(g)){case 1:d=Go;break;case 4:d=F0;break;case 16:d=Lc;break;case 536870912:d=U0;break;default:d=Lc}d=ib(d,Gw.bind(null,a))}a.callbackPriority=o,a.callbackNode=d}}function Gw(a,o){if(Tu=-1,Iu=0,(it&6)!==0)throw Error(r(327));var d=a.callbackNode;if(Ja()&&a.callbackNode!==d)return null;var g=Bc(a,a===rr?mr:0);if(g===0)return null;if((g&30)!==0||(g&a.expiredLanes)!==0||o)o=Du(a,g);else{o=g;var y=it;it|=2;var j=Qw();(rr!==a||mr!==o)&&(Mi=null,Ga=lt()+500,Gs(a,o));do try{iO();break}catch(T){Xw(a,T)}while(!0);zh(),Eu.current=j,it=y,zt!==null?o=0:(rr=null,mr=0,o=Gt)}if(o!==0){if(o===2&&(y=nh(a),y!==0&&(g=y,o=Sm(a,y))),o===1)throw d=kl,Gs(a,0),_s(a,g),Br(a,lt()),d;if(o===6)_s(a,g);else{if(y=a.current.alternate,(g&30)===0&&!rO(y)&&(o=Du(a,g),o===2&&(j=nh(a),j!==0&&(g=j,o=Sm(a,j))),o===1))throw d=kl,Gs(a,0),_s(a,g),Br(a,lt()),d;switch(a.finishedWork=y,a.finishedLanes=g,o){case 0:case 1:throw Error(r(345));case 2:Js(a,zr,Mi);break;case 3:if(_s(a,g),(g&130023424)===g&&(o=bm+500-lt(),10<o)){if(Bc(a,0)!==0)break;if(y=a.suspendedLanes,(y&g)!==g){Pr(),a.pingedLanes|=a.suspendedLanes&y;break}a.timeoutHandle=Ph(Js.bind(null,a,zr,Mi),o);break}Js(a,zr,Mi);break;case 4:if(_s(a,g),(g&4194240)===g)break;for(o=a.eventTimes,y=-1;0<g;){var A=31-Wn(g);j=1<<A,A=o[A],A>y&&(y=A),g&=~j}if(g=y,g=lt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*tO(g/1960))-g,10<g){a.timeoutHandle=Ph(Js.bind(null,a,zr,Mi),g);break}Js(a,zr,Mi);break;case 5:Js(a,zr,Mi);break;default:throw Error(r(329))}}}return Br(a,lt()),a.callbackNode===d?Gw.bind(null,a):null}function Sm(a,o){var d=Nl;return a.current.memoizedState.isDehydrated&&(Gs(a,o).flags|=256),a=Du(a,o),a!==2&&(o=zr,zr=d,o!==null&&km(o)),a}function km(a){zr===null?zr=a:zr.push.apply(zr,a)}function rO(a){for(var o=a;;){if(o.flags&16384){var d=o.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var g=0;g<d.length;g++){var y=d[g],j=y.getSnapshot;y=y.value;try{if(!Kn(j(),y))return!1}catch{return!1}}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function _s(a,o){for(o&=~wm,o&=~Au,a.suspendedLanes|=o,a.pingedLanes&=~o,a=a.expirationTimes;0<o;){var d=31-Wn(o),g=1<<d;a[d]=-1,o&=~g}}function Jw(a){if((it&6)!==0)throw Error(r(327));Ja();var o=Bc(a,0);if((o&1)===0)return Br(a,lt()),null;var d=Du(a,o);if(a.tag!==0&&d===2){var g=nh(a);g!==0&&(o=g,d=Sm(a,g))}if(d===1)throw d=kl,Gs(a,0),_s(a,o),Br(a,lt()),d;if(d===6)throw Error(r(345));return a.finishedWork=a.current.alternate,a.finishedLanes=o,Js(a,zr,Mi),Br(a,lt()),null}function Nm(a,o){var d=it;it|=1;try{return a(o)}finally{it=d,it===0&&(Ga=lt()+500,ou&&ps())}}function Ys(a){ws!==null&&ws.tag===0&&(it&6)===0&&Ja();var o=it;it|=1;var d=An.transition,g=ct;try{if(An.transition=null,ct=1,a)return a()}finally{ct=g,An.transition=d,it=o,(it&6)===0&&ps()}}function Em(){Zr=Ya.current,jt(Ya)}function Gs(a,o){a.finishedWork=null,a.finishedLanes=0;var d=a.timeoutHandle;if(d!==-1&&(a.timeoutHandle=-1,TP(d)),zt!==null)for(d=zt.return;d!==null;){var g=d;switch(Mh(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&su();break;case 3:Wa(),jt(Lr),jt(br),Gh();break;case 5:Hh(g);break;case 4:Wa();break;case 13:jt(Pt);break;case 19:jt(Pt);break;case 10:Bh(g.type._context);break;case 22:case 23:Em()}d=d.return}if(rr=a,zt=a=js(a.current,null),mr=Zr=o,Gt=0,kl=null,wm=Au=Hs=0,zr=Nl=null,qs!==null){for(o=0;o<qs.length;o++)if(d=qs[o],g=d.interleaved,g!==null){d.interleaved=null;var y=g.next,j=d.pending;if(j!==null){var A=j.next;j.next=y,g.next=A}d.pending=g}qs=null}return a}function Xw(a,o){do{var d=zt;try{if(zh(),vu.current=bu,yu){for(var g=Ot.memoizedState;g!==null;){var y=g.queue;y!==null&&(y.pending=null),g=g.next}yu=!1}if(Ks=0,tr=Yt=Ot=null,xl=!1,wl=0,xm.current=null,d===null||d.return===null){Gt=1,kl=o,zt=null;break}e:{var j=a,A=d.return,T=d,$=o;if(o=mr,T.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var H=$,fe=T,he=fe.tag;if((fe.mode&1)===0&&(he===0||he===11||he===15)){var de=fe.alternate;de?(fe.updateQueue=de.updateQueue,fe.memoizedState=de.memoizedState,fe.lanes=de.lanes):(fe.updateQueue=null,fe.memoizedState=null)}var je=_w(A);if(je!==null){je.flags&=-257,jw(je,A,T,j,o),je.mode&1&&bw(j,H,o),o=je,$=H;var Pe=o.updateQueue;if(Pe===null){var Te=new Set;Te.add($),o.updateQueue=Te}else Pe.add($);break e}else{if((o&1)===0){bw(j,H,o),Am();break e}$=Error(r(426))}}else if(Et&&T.mode&1){var $t=_w(A);if($t!==null){($t.flags&65536)===0&&($t.flags|=256),jw($t,A,T,j,o),Fh(Ka($,T));break e}}j=$=Ka($,T),Gt!==4&&(Gt=2),Nl===null?Nl=[j]:Nl.push(j),j=A;do{switch(j.tag){case 3:j.flags|=65536,o&=-o,j.lanes|=o;var B=xw(j,$,o);Kx(j,B);break e;case 1:T=$;var F=j.type,W=j.stateNode;if((j.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(xs===null||!xs.has(W)))){j.flags|=65536,o&=-o,j.lanes|=o;var me=ww(j,T,o);Kx(j,me);break e}}j=j.return}while(j!==null)}eb(d)}catch(Ie){o=Ie,zt===d&&d!==null&&(zt=d=d.return);continue}break}while(!0)}function Qw(){var a=Eu.current;return Eu.current=bu,a===null?bu:a}function Am(){(Gt===0||Gt===3||Gt===2)&&(Gt=4),rr===null||(Hs&268435455)===0&&(Au&268435455)===0||_s(rr,mr)}function Du(a,o){var d=it;it|=2;var g=Qw();(rr!==a||mr!==o)&&(Mi=null,Gs(a,o));do try{nO();break}catch(y){Xw(a,y)}while(!0);if(zh(),it=d,Eu.current=g,zt!==null)throw Error(r(261));return rr=null,mr=0,Gt}function nO(){for(;zt!==null;)Zw(zt)}function iO(){for(;zt!==null&&!Yo();)Zw(zt)}function Zw(a){var o=nb(a.alternate,a,Zr);a.memoizedProps=a.pendingProps,o===null?eb(a):zt=o,xm.current=null}function eb(a){var o=a;do{var d=o.alternate;if(a=o.return,(o.flags&32768)===0){if(d=JP(d,o,Zr),d!==null){zt=d;return}}else{if(d=XP(d,o),d!==null){d.flags&=32767,zt=d;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Gt=6,zt=null;return}}if(o=o.sibling,o!==null){zt=o;return}zt=o=a}while(o!==null);Gt===0&&(Gt=5)}function Js(a,o,d){var g=ct,y=An.transition;try{An.transition=null,ct=1,sO(a,o,d,g)}finally{An.transition=y,ct=g}return null}function sO(a,o,d,g){do Ja();while(ws!==null);if((it&6)!==0)throw Error(r(327));d=a.finishedWork;var y=a.finishedLanes;if(d===null)return null;if(a.finishedWork=null,a.finishedLanes=0,d===a.current)throw Error(r(177));a.callbackNode=null,a.callbackPriority=0;var j=d.lanes|d.childLanes;if(FC(a,j),a===rr&&(zt=rr=null,mr=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||Pu||(Pu=!0,ib(Lc,function(){return Ja(),null})),j=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||j){j=An.transition,An.transition=null;var A=ct;ct=1;var T=it;it|=4,xm.current=null,ZP(a,d),qw(d,a),kP(Ah),Wc=!!Eh,Ah=Eh=null,a.current=d,eO(d),$c(),it=T,ct=A,An.transition=j}else a.current=d;if(Pu&&(Pu=!1,ws=a,Ou=y),j=a.pendingLanes,j===0&&(xs=null),IC(d.stateNode),Br(a,lt()),o!==null)for(g=a.onRecoverableError,d=0;d<o.length;d++)y=o[d],g(y.value,{componentStack:y.stack,digest:y.digest});if(Cu)throw Cu=!1,a=_m,_m=null,a;return(Ou&1)!==0&&a.tag!==0&&Ja(),j=a.pendingLanes,(j&1)!==0?a===jm?El++:(El=0,jm=a):El=0,ps(),null}function Ja(){if(ws!==null){var a=B0(Ou),o=An.transition,d=ct;try{if(An.transition=null,ct=16>a?16:a,ws===null)var g=!1;else{if(a=ws,ws=null,Ou=0,(it&6)!==0)throw Error(r(331));var y=it;for(it|=4,Ae=a.current;Ae!==null;){var j=Ae,A=j.child;if((Ae.flags&16)!==0){var T=j.deletions;if(T!==null){for(var $=0;$<T.length;$++){var H=T[$];for(Ae=H;Ae!==null;){var fe=Ae;switch(fe.tag){case 0:case 11:case 15:Sl(8,fe,j)}var he=fe.child;if(he!==null)he.return=fe,Ae=he;else for(;Ae!==null;){fe=Ae;var de=fe.sibling,je=fe.return;if(Fw(fe),fe===H){Ae=null;break}if(de!==null){de.return=je,Ae=de;break}Ae=je}}}var Pe=j.alternate;if(Pe!==null){var Te=Pe.child;if(Te!==null){Pe.child=null;do{var $t=Te.sibling;Te.sibling=null,Te=$t}while(Te!==null)}}Ae=j}}if((j.subtreeFlags&2064)!==0&&A!==null)A.return=j,Ae=A;else e:for(;Ae!==null;){if(j=Ae,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:Sl(9,j,j.return)}var B=j.sibling;if(B!==null){B.return=j.return,Ae=B;break e}Ae=j.return}}var F=a.current;for(Ae=F;Ae!==null;){A=Ae;var W=A.child;if((A.subtreeFlags&2064)!==0&&W!==null)W.return=A,Ae=W;else e:for(A=F;Ae!==null;){if(T=Ae,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:Nu(9,T)}}catch(Ie){It(T,T.return,Ie)}if(T===A){Ae=null;break e}var me=T.sibling;if(me!==null){me.return=T.return,Ae=me;break e}Ae=T.return}}if(it=y,ps(),mi&&typeof mi.onPostCommitFiberRoot=="function")try{mi.onPostCommitFiberRoot(Fc,a)}catch{}g=!0}return g}finally{ct=d,An.transition=o}}return!1}function tb(a,o,d){o=Ka(d,o),o=xw(a,o,1),a=vs(a,o,1),o=Pr(),a!==null&&(Xo(a,1,o),Br(a,o))}function It(a,o,d){if(a.tag===3)tb(a,a,d);else for(;o!==null;){if(o.tag===3){tb(o,a,d);break}else if(o.tag===1){var g=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(xs===null||!xs.has(g))){a=Ka(d,a),a=ww(o,a,1),o=vs(o,a,1),a=Pr(),o!==null&&(Xo(o,1,a),Br(o,a));break}}o=o.return}}function aO(a,o,d){var g=a.pingCache;g!==null&&g.delete(o),o=Pr(),a.pingedLanes|=a.suspendedLanes&d,rr===a&&(mr&d)===d&&(Gt===4||Gt===3&&(mr&130023424)===mr&&500>lt()-bm?Gs(a,0):wm|=d),Br(a,o)}function rb(a,o){o===0&&((a.mode&1)===0?o=1:(o=zc,zc<<=1,(zc&130023424)===0&&(zc=4194304)));var d=Pr();a=Ii(a,o),a!==null&&(Xo(a,o,d),Br(a,d))}function oO(a){var o=a.memoizedState,d=0;o!==null&&(d=o.retryLane),rb(a,d)}function lO(a,o){var d=0;switch(a.tag){case 13:var g=a.stateNode,y=a.memoizedState;y!==null&&(d=y.retryLane);break;case 19:g=a.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(o),rb(a,d)}var nb;nb=function(a,o,d){if(a!==null)if(a.memoizedProps!==o.pendingProps||Lr.current)Ur=!0;else{if((a.lanes&d)===0&&(o.flags&128)===0)return Ur=!1,GP(a,o,d);Ur=(a.flags&131072)!==0}else Ur=!1,Et&&(o.flags&1048576)!==0&&Mx(o,cu,o.index);switch(o.lanes=0,o.tag){case 2:var g=o.type;Su(a,o),a=o.pendingProps;var y=La(o,br.current);qa(o,d),y=Qh(null,o,g,a,y,d);var j=Zh();return o.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Fr(g)?(j=!0,au(o)):j=!1,o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Wh(o),y.updater=_u,o.stateNode=y,y._reactInternals=o,sm(o,g,a,d),o=cm(null,o,g,!0,j,d)):(o.tag=0,Et&&j&&Rh(o),Cr(null,o,y,d),o=o.child),o;case 16:g=o.elementType;e:{switch(Su(a,o),a=o.pendingProps,y=g._init,g=y(g._payload),o.type=g,y=o.tag=uO(g),a=Yn(g,a),y){case 0:o=lm(null,o,g,a,d);break e;case 1:o=Cw(null,o,g,a,d);break e;case 11:o=Sw(null,o,g,a,d);break e;case 14:o=kw(null,o,g,Yn(g.type,a),d);break e}throw Error(r(306,g,""))}return o;case 0:return g=o.type,y=o.pendingProps,y=o.elementType===g?y:Yn(g,y),lm(a,o,g,y,d);case 1:return g=o.type,y=o.pendingProps,y=o.elementType===g?y:Yn(g,y),Cw(a,o,g,y,d);case 3:e:{if(Pw(o),a===null)throw Error(r(387));g=o.pendingProps,j=o.memoizedState,y=j.element,Wx(a,o),pu(o,g,null,d);var A=o.memoizedState;if(g=A.element,j.isDehydrated)if(j={element:g,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},o.updateQueue.baseState=j,o.memoizedState=j,o.flags&256){y=Ka(Error(r(423)),o),o=Ow(a,o,g,d,y);break e}else if(g!==y){y=Ka(Error(r(424)),o),o=Ow(a,o,g,d,y);break e}else for(Qr=fs(o.stateNode.containerInfo.firstChild),Xr=o,Et=!0,Hn=null,d=Vx(o,null,g,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(za(),g===y){o=Ri(a,o,d);break e}Cr(a,o,g,d)}o=o.child}return o;case 5:return Yx(o),a===null&&Lh(o),g=o.type,y=o.pendingProps,j=a!==null?a.memoizedProps:null,A=y.children,Ch(g,y)?A=null:j!==null&&Ch(g,j)&&(o.flags|=32),Aw(a,o),Cr(a,o,A,d),o.child;case 6:return a===null&&Lh(o),null;case 13:return Tw(a,o,d);case 4:return Kh(o,o.stateNode.containerInfo),g=o.pendingProps,a===null?o.child=Ba(o,null,g,d):Cr(a,o,g,d),o.child;case 11:return g=o.type,y=o.pendingProps,y=o.elementType===g?y:Yn(g,y),Sw(a,o,g,y,d);case 7:return Cr(a,o,o.pendingProps,d),o.child;case 8:return Cr(a,o,o.pendingProps.children,d),o.child;case 12:return Cr(a,o,o.pendingProps.children,d),o.child;case 10:e:{if(g=o.type._context,y=o.pendingProps,j=o.memoizedProps,A=y.value,yt(fu,g._currentValue),g._currentValue=A,j!==null)if(Kn(j.value,A)){if(j.children===y.children&&!Lr.current){o=Ri(a,o,d);break e}}else for(j=o.child,j!==null&&(j.return=o);j!==null;){var T=j.dependencies;if(T!==null){A=j.child;for(var $=T.firstContext;$!==null;){if($.context===g){if(j.tag===1){$=Di(-1,d&-d),$.tag=2;var H=j.updateQueue;if(H!==null){H=H.shared;var fe=H.pending;fe===null?$.next=$:($.next=fe.next,fe.next=$),H.pending=$}}j.lanes|=d,$=j.alternate,$!==null&&($.lanes|=d),Vh(j.return,d,o),T.lanes|=d;break}$=$.next}}else if(j.tag===10)A=j.type===o.type?null:j.child;else if(j.tag===18){if(A=j.return,A===null)throw Error(r(341));A.lanes|=d,T=A.alternate,T!==null&&(T.lanes|=d),Vh(A,d,o),A=j.sibling}else A=j.child;if(A!==null)A.return=j;else for(A=j;A!==null;){if(A===o){A=null;break}if(j=A.sibling,j!==null){j.return=A.return,A=j;break}A=A.return}j=A}Cr(a,o,y.children,d),o=o.child}return o;case 9:return y=o.type,g=o.pendingProps.children,qa(o,d),y=Nn(y),g=g(y),o.flags|=1,Cr(a,o,g,d),o.child;case 14:return g=o.type,y=Yn(g,o.pendingProps),y=Yn(g.type,y),kw(a,o,g,y,d);case 15:return Nw(a,o,o.type,o.pendingProps,d);case 17:return g=o.type,y=o.pendingProps,y=o.elementType===g?y:Yn(g,y),Su(a,o),o.tag=1,Fr(g)?(a=!0,au(o)):a=!1,qa(o,d),vw(o,g,y),sm(o,g,y,d),cm(null,o,g,!0,a,d);case 19:return Dw(a,o,d);case 22:return Ew(a,o,d)}throw Error(r(156,o.tag))};function ib(a,o){return Ho(a,o)}function cO(a,o,d,g){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(a,o,d,g){return new cO(a,o,d,g)}function Cm(a){return a=a.prototype,!(!a||!a.isReactComponent)}function uO(a){if(typeof a=="function")return Cm(a)?1:0;if(a!=null){if(a=a.$$typeof,a===V)return 11;if(a===ae)return 14}return 2}function js(a,o){var d=a.alternate;return d===null?(d=Cn(a.tag,o,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=o,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&14680064,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,o=a.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d}function Ru(a,o,d,g,y,j){var A=2;if(g=a,typeof a=="function")Cm(a)&&(A=1);else if(typeof a=="string")A=5;else e:switch(a){case L:return Xs(d.children,y,j,o);case Y:A=8,y|=8;break;case q:return a=Cn(12,d,o,y|2),a.elementType=q,a.lanes=j,a;case ee:return a=Cn(13,d,o,y),a.elementType=ee,a.lanes=j,a;case Q:return a=Cn(19,d,o,y),a.elementType=Q,a.lanes=j,a;case ye:return Mu(d,y,j,o);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case U:A=10;break e;case z:A=9;break e;case V:A=11;break e;case ae:A=14;break e;case xe:A=16,g=null;break e}throw Error(r(130,a==null?a:typeof a,""))}return o=Cn(A,d,o,y),o.elementType=a,o.type=g,o.lanes=j,o}function Xs(a,o,d,g){return a=Cn(7,a,g,o),a.lanes=d,a}function Mu(a,o,d,g){return a=Cn(22,a,g,o),a.elementType=ye,a.lanes=d,a.stateNode={isHidden:!1},a}function Pm(a,o,d){return a=Cn(6,a,null,o),a.lanes=d,a}function Om(a,o,d){return o=Cn(4,a.children!==null?a.children:[],a.key,o),o.lanes=d,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}function dO(a,o,d,g,y){this.tag=o,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ih(0),this.expirationTimes=ih(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ih(0),this.identifierPrefix=g,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Tm(a,o,d,g,y,j,A,T,$){return a=new dO(a,o,d,T,$),o===1?(o=1,j===!0&&(o|=8)):o=0,j=Cn(3,null,null,o),a.current=j,j.stateNode=a,j.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wh(j),a}function fO(a,o,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:g==null?null:""+g,children:a,containerInfo:o,implementation:d}}function sb(a){if(!a)return ms;a=a._reactInternals;e:{if(He(a)!==a||a.tag!==1)throw Error(r(170));var o=a;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Fr(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(r(171))}if(a.tag===1){var d=a.type;if(Fr(d))return Ix(a,d,o)}return o}function ab(a,o,d,g,y,j,A,T,$){return a=Tm(d,g,!0,a,y,j,A,T,$),a.context=sb(null),d=a.current,g=Pr(),y=bs(d),j=Di(g,y),j.callback=o??null,vs(d,j,y),a.current.lanes=y,Xo(a,y,g),Br(a,g),a}function $u(a,o,d,g){var y=o.current,j=Pr(),A=bs(y);return d=sb(d),o.context===null?o.context=d:o.pendingContext=d,o=Di(j,A),o.payload={element:a},g=g===void 0?null:g,g!==null&&(o.callback=g),a=vs(y,o,A),a!==null&&(Xn(a,y,A,j),mu(a,y,A)),A}function Lu(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function ob(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<o?d:o}}function Im(a,o){ob(a,o),(a=a.alternate)&&ob(a,o)}function hO(){return null}var lb=typeof reportError=="function"?reportError:function(a){console.error(a)};function Dm(a){this._internalRoot=a}Fu.prototype.render=Dm.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));$u(a,o,null,null)},Fu.prototype.unmount=Dm.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;Ys(function(){$u(null,a,null,null)}),o[Ci]=null}};function Fu(a){this._internalRoot=a}Fu.prototype.unstable_scheduleHydration=function(a){if(a){var o=W0();a={blockedOn:null,target:a,priority:o};for(var d=0;d<cs.length&&o!==0&&o<cs[d].priority;d++);cs.splice(d,0,a),d===0&&Y0(a)}};function Rm(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Uu(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function cb(){}function mO(a,o,d,g,y){if(y){if(typeof g=="function"){var j=g;g=function(){var H=Lu(A);j.call(H)}}var A=ab(o,g,a,0,null,!1,!1,"",cb);return a._reactRootContainer=A,a[Ci]=A.current,dl(a.nodeType===8?a.parentNode:a),Ys(),A}for(;y=a.lastChild;)a.removeChild(y);if(typeof g=="function"){var T=g;g=function(){var H=Lu($);T.call(H)}}var $=Tm(a,0,!1,null,null,!1,!1,"",cb);return a._reactRootContainer=$,a[Ci]=$.current,dl(a.nodeType===8?a.parentNode:a),Ys(function(){$u(o,$,d,g)}),$}function zu(a,o,d,g,y){var j=d._reactRootContainer;if(j){var A=j;if(typeof y=="function"){var T=y;y=function(){var $=Lu(A);T.call($)}}$u(o,A,a,y)}else A=mO(d,o,a,y,g);return Lu(A)}V0=function(a){switch(a.tag){case 3:var o=a.stateNode;if(o.current.memoizedState.isDehydrated){var d=Jo(o.pendingLanes);d!==0&&(sh(o,d|1),Br(o,lt()),(it&6)===0&&(Ga=lt()+500,ps()))}break;case 13:Ys(function(){var g=Ii(a,1);if(g!==null){var y=Pr();Xn(g,a,1,y)}}),Im(a,1)}},ah=function(a){if(a.tag===13){var o=Ii(a,134217728);if(o!==null){var d=Pr();Xn(o,a,134217728,d)}Im(a,134217728)}},q0=function(a){if(a.tag===13){var o=bs(a),d=Ii(a,o);if(d!==null){var g=Pr();Xn(d,a,o,g)}Im(a,o)}},W0=function(){return ct},K0=function(a,o){var d=ct;try{return ct=a,o()}finally{ct=d}},wn=function(a,o,d){switch(o){case"input":if(Dt(a,d),o=d.name,d.type==="radio"&&o!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<d.length;o++){var g=d[o];if(g!==a&&g.form===a.form){var y=iu(g);if(!y)throw Error(r(90));Z(g),Dt(g,y)}}}break;case"textarea":X(a,d);break;case"select":o=d.value,o!=null&&Ht(a,!!d.multiple,o,!1)}},qe=Nm,$e=Ys;var pO={usingClientEntryPoint:!1,Events:[ml,Ma,iu,we,Ke,Nm]},Al={findFiberByHostInstance:Us,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gO={bundleType:Al.bundleType,version:Al.version,rendererPackageName:Al.rendererPackageName,rendererConfig:Al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=fr(a),a===null?null:a.stateNode},findFiberByHostInstance:Al.findFiberByHostInstance||hO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bu.isDisabled&&Bu.supportsFiber)try{Fc=Bu.inject(gO),mi=Bu}catch{}}return Vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pO,Vr.createPortal=function(a,o){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rm(o))throw Error(r(200));return fO(a,o,null,d)},Vr.createRoot=function(a,o){if(!Rm(a))throw Error(r(299));var d=!1,g="",y=lb;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),o=Tm(a,1,!1,null,null,d,!1,g,y),a[Ci]=o.current,dl(a.nodeType===8?a.parentNode:a),new Dm(o)},Vr.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=fr(o),a=a===null?null:a.stateNode,a},Vr.flushSync=function(a){return Ys(a)},Vr.hydrate=function(a,o,d){if(!Uu(o))throw Error(r(200));return zu(null,a,o,!0,d)},Vr.hydrateRoot=function(a,o,d){if(!Rm(a))throw Error(r(405));var g=d!=null&&d.hydratedSources||null,y=!1,j="",A=lb;if(d!=null&&(d.unstable_strictMode===!0&&(y=!0),d.identifierPrefix!==void 0&&(j=d.identifierPrefix),d.onRecoverableError!==void 0&&(A=d.onRecoverableError)),o=ab(o,null,a,1,d??null,y,!1,j,A),a[Ci]=o.current,dl(a),g)for(a=0;a<g.length;a++)d=g[a],y=d._getVersion,y=y(d._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[d,y]:o.mutableSourceEagerHydrationData.push(d,y);return new Fu(o)},Vr.render=function(a,o,d){if(!Uu(o))throw Error(r(200));return zu(null,a,o,!1,d)},Vr.unmountComponentAtNode=function(a){if(!Uu(a))throw Error(r(40));return a._reactRootContainer?(Ys(function(){zu(null,null,a,!1,function(){a._reactRootContainer=null,a[Ci]=null})}),!0):!1},Vr.unstable_batchedUpdates=Nm,Vr.unstable_renderSubtreeIntoContainer=function(a,o,d,g){if(!Uu(d))throw Error(r(200));if(a==null||a._reactInternals===void 0)throw Error(r(38));return zu(a,o,d,!1,g)},Vr.version="18.3.1-next-f1338f8080-20240426",Vr}var vb;function ak(){if(vb)return Fm.exports;vb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Fm.exports=AO(),Fm.exports}var yb;function CO(){if(yb)return Vu;yb=1;var e=ak();return Vu.createRoot=e.createRoot,Vu.hydrateRoot=e.hydrateRoot,Vu}var PO=CO();const OO=ai(PO);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var xb="popstate";function TO(e={}){function t(n,i){let{pathname:s,search:l,hash:u}=n.location;return $g("",{pathname:s,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:ec(i)}return DO(t,r,null,e)}function Ct(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Mn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function IO(){return Math.random().toString(36).substring(2,10)}function wb(e,t){return{usr:e.state,key:e.key,idx:t}}function $g(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Oo(t):t,state:r,key:t&&t.key||n||IO()}}function ec({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Oo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function DO(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,l=i.history,u="POP",f=null,m=h();m==null&&(m=0,l.replaceState({...l.state,idx:m},""));function h(){return(l.state||{idx:null}).idx}function p(){u="POP";let x=h(),k=x==null?null:x-m;m=x,f&&f({action:u,location:_.location,delta:k})}function v(x,k){u="PUSH";let N=$g(_.location,x,k);m=h()+1;let E=wb(N,m),C=_.createHref(N);try{l.pushState(E,"",C)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(C)}s&&f&&f({action:u,location:_.location,delta:1})}function w(x,k){u="REPLACE";let N=$g(_.location,x,k);m=h();let E=wb(N,m),C=_.createHref(N);l.replaceState(E,"",C),s&&f&&f({action:u,location:_.location,delta:0})}function S(x){return RO(x)}let _={get action(){return u},get location(){return e(i,l)},listen(x){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(xb,p),f=x,()=>{i.removeEventListener(xb,p),f=null}},createHref(x){return t(i,x)},createURL:S,encodeLocation(x){let k=S(x);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:v,replace:w,go(x){return l.go(x)}};return _}function RO(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ct(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:ec(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function ok(e,t,r="/"){return MO(e,t,r,!1)}function MO(e,t,r,n){let i=typeof t=="string"?Oo(t):t,s=Hi(i.pathname||"/",r);if(s==null)return null;let l=lk(e);$O(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let m=YO(s);u=KO(l[f],m,n)}return u}function lk(e,t=[],r=[],n="",i=!1){let s=(l,u,f=i,m)=>{let h={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(n)&&f)return;Ct(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length)}let p=qi([n,h.relativePath]),v=r.concat(h);l.children&&l.children.length>0&&(Ct(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),lk(l.children,t,v,p,f)),!(l.path==null&&!l.index)&&t.push({path:p,score:qO(p,l.index),routesMeta:v})};return e.forEach((l,u)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))s(l,u);else for(let m of ck(l.path))s(l,u,!0,m)}),t}function ck(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let l=ck(n.join("/")),u=[];return u.push(...l.map(f=>f===""?s:[s,f].join("/"))),i&&u.push(...l),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function $O(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:WO(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var LO=/^:[\w-]+$/,FO=3,UO=2,zO=1,BO=10,VO=-2,bb=e=>e==="*";function qO(e,t){let r=e.split("/"),n=r.length;return r.some(bb)&&(n+=VO),t&&(n+=UO),r.filter(i=>!bb(i)).reduce((i,s)=>i+(LO.test(s)?FO:s===""?zO:BO),n)}function WO(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function KO(e,t,r=!1){let{routesMeta:n}=e,i={},s="/",l=[];for(let u=0;u<n.length;++u){let f=n[u],m=u===n.length-1,h=s==="/"?t:t.slice(s.length)||"/",p=bd({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},h),v=f.route;if(!p&&m&&r&&!n[n.length-1].route.index&&(p=bd({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),l.push({params:i,pathname:qi([s,p.pathname]),pathnameBase:QO(qi([s,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(s=qi([s,p.pathnameBase]))}return l}function bd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=HO(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((m,{paramName:h,isOptional:p},v)=>{if(h==="*"){let S=u[v]||"";l=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const w=u[v];return p&&!w?m[h]=void 0:m[h]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:s,pathnameBase:l,pattern:e}}function HO(e,t=!1,r=!0){Mn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(n.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function YO(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Mn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Hi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function GO(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Oo(e):e;return{pathname:r?r.startsWith("/")?r:JO(r,t):t,search:ZO(n),hash:eT(i)}}function JO(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Bm(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XO(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Wv(e){let t=XO(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Kv(e,t,r,n=!1){let i;typeof e=="string"?i=Oo(e):(i={...e},Ct(!i.pathname||!i.pathname.includes("?"),Bm("?","pathname","search",i)),Ct(!i.pathname||!i.pathname.includes("#"),Bm("#","pathname","hash",i)),Ct(!i.search||!i.search.includes("#"),Bm("#","search","hash",i)));let s=e===""||i.pathname==="",l=s?"/":i.pathname,u;if(l==null)u=r;else{let p=t.length-1;if(!n&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),p-=1;i.pathname=v.join("/")}u=p>=0?t[p]:"/"}let f=GO(i,u),m=l&&l!=="/"&&l.endsWith("/"),h=(s||l===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(m||h)&&(f.pathname+="/"),f}var qi=e=>e.join("/").replace(/\/\/+/g,"/"),QO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ZO=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,eT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function tT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var uk=["POST","PUT","PATCH","DELETE"];new Set(uk);var rT=["GET",...uk];new Set(rT);var To=b.createContext(null);To.displayName="DataRouter";var xf=b.createContext(null);xf.displayName="DataRouterState";b.createContext(!1);var dk=b.createContext({isTransitioning:!1});dk.displayName="ViewTransition";var nT=b.createContext(new Map);nT.displayName="Fetchers";var iT=b.createContext(null);iT.displayName="Await";var oi=b.createContext(null);oi.displayName="Navigation";var mc=b.createContext(null);mc.displayName="Location";var Ei=b.createContext({outlet:null,matches:[],isDataRoute:!1});Ei.displayName="Route";var Hv=b.createContext(null);Hv.displayName="RouteError";function sT(e,{relative:t}={}){Ct(Io(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=b.useContext(oi),{hash:i,pathname:s,search:l}=pc(e,{relative:t}),u=s;return r!=="/"&&(u=s==="/"?r:qi([r,s])),n.createHref({pathname:u,search:l,hash:i})}function Io(){return b.useContext(mc)!=null}function Qi(){return Ct(Io(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(mc).location}var fk="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hk(e){b.useContext(oi).static||b.useLayoutEffect(e)}function pn(){let{isDataRoute:e}=b.useContext(Ei);return e?yT():aT()}function aT(){Ct(Io(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(To),{basename:t,navigator:r}=b.useContext(oi),{matches:n}=b.useContext(Ei),{pathname:i}=Qi(),s=JSON.stringify(Wv(n)),l=b.useRef(!1);return hk(()=>{l.current=!0}),b.useCallback((f,m={})=>{if(Mn(l.current,fk),!l.current)return;if(typeof f=="number"){r.go(f);return}let h=Kv(f,JSON.parse(s),i,m.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:qi([t,h.pathname])),(m.replace?r.replace:r.push)(h,m.state,m)},[t,r,s,i,e])}b.createContext(null);function pc(e,{relative:t}={}){let{matches:r}=b.useContext(Ei),{pathname:n}=Qi(),i=JSON.stringify(Wv(r));return b.useMemo(()=>Kv(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function oT(e,t){return mk(e,t)}function mk(e,t,r,n,i){var N;Ct(Io(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=b.useContext(oi),{matches:l}=b.useContext(Ei),u=l[l.length-1],f=u?u.params:{},m=u?u.pathname:"/",h=u?u.pathnameBase:"/",p=u&&u.route;{let E=p&&p.path||"";pk(m,!p||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let v=Qi(),w;if(t){let E=typeof t=="string"?Oo(t):t;Ct(h==="/"||((N=E.pathname)==null?void 0:N.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${E.pathname}" was given in the \`location\` prop.`),w=E}else w=v;let S=w.pathname||"/",_=S;if(h!=="/"){let E=h.replace(/^\//,"").split("/");_="/"+S.replace(/^\//,"").split("/").slice(E.length).join("/")}let x=ok(e,{pathname:_});Mn(p||x!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Mn(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=fT(x&&x.map(E=>Object.assign({},E,{params:Object.assign({},f,E.params),pathname:qi([h,s.encodeLocation?s.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:qi([h,s.encodeLocation?s.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),l,r,n,i);return t&&k?b.createElement(mc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},k):k}function lT(){let e=vT(),t=tT(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:s},"ErrorBoundary")," or"," ",b.createElement("code",{style:s},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:i},r):null,l)}var cT=b.createElement(lT,null),uT=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?b.createElement(Ei.Provider,{value:this.props.routeContext},b.createElement(Hv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dT({routeContext:e,match:t,children:r}){let n=b.useContext(To);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(Ei.Provider,{value:e},r)}function fT(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,l=r==null?void 0:r.errors;if(l!=null){let m=s.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);Ct(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,m+1))}let u=!1,f=-1;if(r)for(let m=0;m<s.length;m++){let h=s[m];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(f=m),h.route.id){let{loaderData:p,errors:v}=r,w=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||w){u=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((m,h,p)=>{let v,w=!1,S=null,_=null;r&&(v=l&&h.route.id?l[h.route.id]:void 0,S=h.route.errorElement||cT,u&&(f<0&&p===0?(pk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,_=null):f===p&&(w=!0,_=h.route.hydrateFallbackElement||null)));let x=t.concat(s.slice(0,p+1)),k=()=>{let N;return v?N=S:w?N=_:h.route.Component?N=b.createElement(h.route.Component,null):h.route.element?N=h.route.element:N=m,b.createElement(dT,{match:h,routeContext:{outlet:m,matches:x,isDataRoute:r!=null},children:N})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?b.createElement(uT,{location:r.location,revalidation:r.revalidation,component:S,error:v,children:k(),routeContext:{outlet:null,matches:x,isDataRoute:!0},unstable_onError:n}):k()},null)}function Yv(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hT(e){let t=b.useContext(To);return Ct(t,Yv(e)),t}function mT(e){let t=b.useContext(xf);return Ct(t,Yv(e)),t}function pT(e){let t=b.useContext(Ei);return Ct(t,Yv(e)),t}function Gv(e){let t=pT(e),r=t.matches[t.matches.length-1];return Ct(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function gT(){return Gv("useRouteId")}function vT(){var n;let e=b.useContext(Hv),t=mT("useRouteError"),r=Gv("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function yT(){let{router:e}=hT("useNavigate"),t=Gv("useNavigate"),r=b.useRef(!1);return hk(()=>{r.current=!0}),b.useCallback(async(i,s={})=>{Mn(r.current,fk),r.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var _b={};function pk(e,t,r){!t&&!_b[e]&&(_b[e]=!0,Mn(!1,r))}b.memo(xT);function xT({routes:e,future:t,state:r,unstable_onError:n}){return mk(e,void 0,r,n,t)}function wT({to:e,replace:t,state:r,relative:n}){Ct(Io(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=b.useContext(oi);Mn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=b.useContext(Ei),{pathname:l}=Qi(),u=pn(),f=Kv(e,Wv(s),l,n==="path"),m=JSON.stringify(f);return b.useEffect(()=>{u(JSON.parse(m),{replace:t,state:r,relative:n})},[u,m,n,t,r]),null}function en(e){Ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bT({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:s=!1}){Ct(!Io(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:l,navigator:i,static:s,future:{}}),[l,i,s]);typeof r=="string"&&(r=Oo(r));let{pathname:f="/",search:m="",hash:h="",state:p=null,key:v="default"}=r,w=b.useMemo(()=>{let S=Hi(f,l);return S==null?null:{location:{pathname:S,search:m,hash:h,state:p,key:v},navigationType:n}},[l,f,m,h,p,v,n]);return Mn(w!=null,`<Router basename="${l}"> is not able to match the URL "${f}${m}${h}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:b.createElement(oi.Provider,{value:u},b.createElement(mc.Provider,{children:t,value:w}))}function _T({children:e,location:t}){return oT(Lg(e),t)}function Lg(e,t=[]){let r=[];return b.Children.forEach(e,(n,i)=>{if(!b.isValidElement(n))return;let s=[...t,i];if(n.type===b.Fragment){r.push.apply(r,Lg(n.props.children,s));return}Ct(n.type===en,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ct(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Lg(n.props.children,s)),r.push(l)}),r}var hd="get",md="application/x-www-form-urlencoded";function wf(e){return e!=null&&typeof e.tagName=="string"}function jT(e){return wf(e)&&e.tagName.toLowerCase()==="button"}function ST(e){return wf(e)&&e.tagName.toLowerCase()==="form"}function kT(e){return wf(e)&&e.tagName.toLowerCase()==="input"}function NT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ET(e,t){return e.button===0&&(!t||t==="_self")&&!NT(e)}function Fg(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function AT(e,t){let r=Fg(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(s=>{r.append(i,s)})}),r}var qu=null;function CT(){if(qu===null)try{new FormData(document.createElement("form"),0),qu=!1}catch{qu=!0}return qu}var PT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vm(e){return e!=null&&!PT.has(e)?(Mn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${md}"`),null):e}function OT(e,t){let r,n,i,s,l;if(ST(e)){let u=e.getAttribute("action");n=u?Hi(u,t):null,r=e.getAttribute("method")||hd,i=Vm(e.getAttribute("enctype"))||md,s=new FormData(e)}else if(jT(e)||kT(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||u.getAttribute("action");if(n=f?Hi(f,t):null,r=e.getAttribute("formmethod")||u.getAttribute("method")||hd,i=Vm(e.getAttribute("formenctype"))||Vm(u.getAttribute("enctype"))||md,s=new FormData(u,e),!CT()){let{name:m,type:h,value:p}=e;if(h==="image"){let v=m?`${m}.`:"";s.append(`${v}x`,"0"),s.append(`${v}y`,"0")}else m&&s.append(m,p)}}else{if(wf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=hd,n=null,i=md,l=e}return s&&i==="text/plain"&&(l=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Jv(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function TT(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Hi(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function IT(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function DT(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function RT(e,t,r){let n=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let l=await IT(s,r);return l.links?l.links():[]}return[]}));return FT(n.flat(1).filter(DT).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function jb(e,t,r,n,i,s){let l=(f,m)=>r[m]?f.route.id!==r[m].route.id:!0,u=(f,m)=>{var h;return r[m].pathname!==f.pathname||((h=r[m].route.path)==null?void 0:h.endsWith("*"))&&r[m].params["*"]!==f.params["*"]};return s==="assets"?t.filter((f,m)=>l(f,m)||u(f,m)):s==="data"?t.filter((f,m)=>{var p;let h=n.routes[f.route.id];if(!h||!h.hasLoader)return!1;if(l(f,m)||u(f,m))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=r[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function MT(e,t,{includeHydrateFallback:r}={}){return $T(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function $T(e){return[...new Set(e)]}function LT(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function FT(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let s=JSON.stringify(LT(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function gk(){let e=b.useContext(To);return Jv(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function UT(){let e=b.useContext(xf);return Jv(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Xv=b.createContext(void 0);Xv.displayName="FrameworkContext";function vk(){let e=b.useContext(Xv);return Jv(e,"You must render this element inside a <HydratedRouter> element"),e}function zT(e,t){let r=b.useContext(Xv),[n,i]=b.useState(!1),[s,l]=b.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:m,onMouseLeave:h,onTouchStart:p}=t,v=b.useRef(null);b.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let _=k=>{k.forEach(N=>{l(N.isIntersecting)})},x=new IntersectionObserver(_,{threshold:.5});return v.current&&x.observe(v.current),()=>{x.disconnect()}}},[e]),b.useEffect(()=>{if(n){let _=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(_)}}},[n]);let w=()=>{i(!0)},S=()=>{i(!1),l(!1)};return r?e!=="intent"?[s,v,{}]:[s,v,{onFocus:Pl(u,w),onBlur:Pl(f,S),onMouseEnter:Pl(m,w),onMouseLeave:Pl(h,S),onTouchStart:Pl(p,w)}]:[!1,v,{}]}function Pl(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function BT({page:e,...t}){let{router:r}=gk(),n=b.useMemo(()=>ok(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?b.createElement(qT,{page:e,matches:n,...t}):null}function VT(e){let{manifest:t,routeModules:r}=vk(),[n,i]=b.useState([]);return b.useEffect(()=>{let s=!1;return RT(e,t,r).then(l=>{s||i(l)}),()=>{s=!0}},[e,t,r]),n}function qT({page:e,matches:t,...r}){let n=Qi(),{manifest:i,routeModules:s}=vk(),{basename:l}=gk(),{loaderData:u,matches:f}=UT(),m=b.useMemo(()=>jb(e,t,f,i,n,"data"),[e,t,f,i,n]),h=b.useMemo(()=>jb(e,t,f,i,n,"assets"),[e,t,f,i,n]),p=b.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let S=new Set,_=!1;if(t.forEach(k=>{var E;let N=i.routes[k.route.id];!N||!N.hasLoader||(!m.some(C=>C.route.id===k.route.id)&&k.route.id in u&&((E=s[k.route.id])!=null&&E.shouldRevalidate)||N.hasClientLoader?_=!0:S.add(k.route.id))}),S.size===0)return[];let x=TT(e,l,"data");return _&&S.size>0&&x.searchParams.set("_routes",t.filter(k=>S.has(k.route.id)).map(k=>k.route.id).join(",")),[x.pathname+x.search]},[l,u,n,i,m,t,e,s]),v=b.useMemo(()=>MT(h,i),[h,i]),w=VT(h);return b.createElement(b.Fragment,null,p.map(S=>b.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),v.map(S=>b.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),w.map(({key:S,link:_})=>b.createElement("link",{key:S,nonce:r.nonce,..._})))}function WT(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var yk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yk&&(window.__reactRouterVersion="7.9.4")}catch{}function KT({basename:e,children:t,window:r}){let n=b.useRef();n.current==null&&(n.current=TO({window:r,v5Compat:!0}));let i=n.current,[s,l]=b.useState({action:i.action,location:i.location}),u=b.useCallback(f=>{b.startTransition(()=>l(f))},[l]);return b.useLayoutEffect(()=>i.listen(u),[i,u]),b.createElement(bT,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var xk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wk=b.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:l,state:u,target:f,to:m,preventScrollReset:h,viewTransition:p,...v},w){let{basename:S}=b.useContext(oi),_=typeof m=="string"&&xk.test(m),x,k=!1;if(typeof m=="string"&&_&&(x=m,yk))try{let q=new URL(window.location.href),U=m.startsWith("//")?new URL(q.protocol+m):new URL(m),z=Hi(U.pathname,S);U.origin===q.origin&&z!=null?m=z+U.search+U.hash:k=!0}catch{Mn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=sT(m,{relative:i}),[E,C,O]=zT(n,v),I=JT(m,{replace:l,state:u,target:f,preventScrollReset:h,relative:i,viewTransition:p});function L(q){t&&t(q),q.defaultPrevented||I(q)}let Y=b.createElement("a",{...v,...O,href:x||N,onClick:k||s?t:L,ref:WT(w,C),target:f,"data-discover":!_&&r==="render"?"true":void 0});return E&&!_?b.createElement(b.Fragment,null,Y,b.createElement(BT,{page:N})):Y});wk.displayName="Link";var HT=b.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:l,viewTransition:u,children:f,...m},h){let p=pc(l,{relative:m.relative}),v=Qi(),w=b.useContext(xf),{navigator:S,basename:_}=b.useContext(oi),x=w!=null&&t4(p)&&u===!0,k=S.encodeLocation?S.encodeLocation(p).pathname:p.pathname,N=v.pathname,E=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;r||(N=N.toLowerCase(),E=E?E.toLowerCase():null,k=k.toLowerCase()),E&&_&&(E=Hi(E,_)||E);const C=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let O=N===k||!i&&N.startsWith(k)&&N.charAt(C)==="/",I=E!=null&&(E===k||!i&&E.startsWith(k)&&E.charAt(k.length)==="/"),L={isActive:O,isPending:I,isTransitioning:x},Y=O?t:void 0,q;typeof n=="function"?q=n(L):q=[n,O?"active":null,I?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let U=typeof s=="function"?s(L):s;return b.createElement(wk,{...m,"aria-current":Y,className:q,ref:h,style:U,to:l,viewTransition:u},typeof f=="function"?f(L):f)});HT.displayName="NavLink";var YT=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:s,method:l=hd,action:u,onSubmit:f,relative:m,preventScrollReset:h,viewTransition:p,...v},w)=>{let S=ZT(),_=e4(u,{relative:m}),x=l.toLowerCase()==="get"?"get":"post",k=typeof u=="string"&&xk.test(u),N=E=>{if(f&&f(E),E.defaultPrevented)return;E.preventDefault();let C=E.nativeEvent.submitter,O=(C==null?void 0:C.getAttribute("formmethod"))||l;S(C||E.currentTarget,{fetcherKey:t,method:O,navigate:r,replace:i,state:s,relative:m,preventScrollReset:h,viewTransition:p})};return b.createElement("form",{ref:w,method:x,action:_,onSubmit:n?f:N,...v,"data-discover":!k&&e==="render"?"true":void 0})});YT.displayName="Form";function GT(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bk(e){let t=b.useContext(To);return Ct(t,GT(e)),t}function JT(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:l}={}){let u=pn(),f=Qi(),m=pc(e,{relative:s});return b.useCallback(h=>{if(ET(h,t)){h.preventDefault();let p=r!==void 0?r:ec(f)===ec(m);u(e,{replace:p,state:n,preventScrollReset:i,relative:s,viewTransition:l})}},[f,u,m,r,n,t,e,i,s,l])}function _k(e){Mn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=b.useRef(Fg(e)),r=b.useRef(!1),n=Qi(),i=b.useMemo(()=>AT(n.search,r.current?null:t.current),[n.search]),s=pn(),l=b.useCallback((u,f)=>{const m=Fg(typeof u=="function"?u(new URLSearchParams(i)):u);r.current=!0,s("?"+m,f)},[s,i]);return[i,l]}var XT=0,QT=()=>`__${String(++XT)}__`;function ZT(){let{router:e}=bk("useSubmit"),{basename:t}=b.useContext(oi),r=gT();return b.useCallback(async(n,i={})=>{let{action:s,method:l,encType:u,formData:f,body:m}=OT(n,t);if(i.navigate===!1){let h=i.fetcherKey||QT();await e.fetch(h,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:f,body:m,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:f,body:m,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,r])}function e4(e,{relative:t}={}){let{basename:r}=b.useContext(oi),n=b.useContext(Ei);Ct(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...pc(e||".",{relative:t})},l=Qi();if(e==null){s.search=l.search;let u=new URLSearchParams(s.search),f=u.getAll("index");if(f.some(h=>h==="")){u.delete("index"),f.filter(p=>p).forEach(p=>u.append("index",p));let h=u.toString();s.search=h?`?${h}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:qi([r,s.pathname])),ec(s)}function t4(e,{relative:t}={}){let r=b.useContext(dk);Ct(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=bk("useViewTransitionState"),i=pc(e,{relative:t});if(!r.isTransitioning)return!1;let s=Hi(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=Hi(r.nextLocation.pathname,n)||r.nextLocation.pathname;return bd(i.pathname,l)!=null||bd(i.pathname,s)!=null}var r4=ak();const n4="modulepreload",i4=function(e,t){return new URL(e,t).href},Sb={},gc=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let l=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};const u=document.getElementsByTagName("link"),f=document.querySelector("meta[property=csp-nonce]"),m=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));i=l(r.map(h=>{if(h=i4(h,n),h in Sb)return;Sb[h]=!0;const p=h.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(!!n)for(let _=u.length-1;_>=0;_--){const x=u[_];if(x.href===h&&(!p||x.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${h}"]${v}`))return;const S=document.createElement("link");if(S.rel=p?"stylesheet":n4,p||(S.as="script"),S.crossOrigin="",S.href=h,m&&S.setAttribute("nonce",m),document.head.appendChild(S),p)return new Promise((_,x)=>{S.addEventListener("load",_),S.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&s(u.reason);return t().catch(s)})},s4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>gc(async()=>{const{default:n}=await Promise.resolve().then(()=>Do);return{default:n}},[],import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Qv extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class kb extends Qv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Nb extends Qv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Eb extends Qv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ug;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ug||(Ug={}));var a4=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function u(h){try{m(n.next(h))}catch(p){l(p)}}function f(h){try{m(n.throw(h))}catch(p){l(p)}}function m(h){h.done?s(h.value):i(h.value).then(u,f)}m((n=n.apply(e,t||[])).next())})};class o4{constructor(t,{headers:r={},customFetch:n,region:i=Ug.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=s4(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return a4(this,arguments,void 0,function*(r,n={}){var i;try{const{headers:s,method:l,body:u,signal:f}=n;let m={},{region:h}=n;h||(h=this.region);const p=new URL(`${this.url}/${r}`);h&&h!=="any"&&(m["x-region"]=h,p.searchParams.set("forceFunctionRegion",h));let v;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(m["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(m["Content-Type"]="application/json",v=JSON.stringify(u)));const w=yield this.fetch(p.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),s),body:v,signal:f}).catch(k=>{throw k.name==="AbortError"?k:new kb(k)}),S=w.headers.get("x-relay-error");if(S&&S==="true")throw new Nb(w);if(!w.ok)throw new Eb(w);let _=((i=w.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),x;return _==="application/json"?x=yield w.json():_==="application/octet-stream"?x=yield w.blob():_==="text/event-stream"?x=w:_==="multipart/form-data"?x=yield w.formData():x=yield w.text(),{data:x,error:null,response:w}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new kb(s)}:{data:null,error:s,response:s instanceof Eb||s instanceof Nb?s.context:void 0}}})}}var ir={},Xa={},Qa={},Za={},eo={},to={},l4=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},yo=l4();const c4=yo.fetch,jk=yo.fetch.bind(yo),Sk=yo.Headers,u4=yo.Request,d4=yo.Response,Do=Object.freeze(Object.defineProperty({__proto__:null,Headers:Sk,Request:u4,Response:d4,default:jk,fetch:c4},Symbol.toStringTag,{value:"Module"})),f4=bO(Do);var Wu={},Ab;function kk(){if(Ab)return Wu;Ab=1,Object.defineProperty(Wu,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Wu.default=e,Wu}var Cb;function Nk(){if(Cb)return to;Cb=1;var e=to&&to.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(to,"__esModule",{value:!0});const t=e(f4),r=e(kk());class n{constructor(s){var l,u;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(l=s.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=s.signal,this.isMaybeSingle=(u=s.isMaybeSingle)!==null&&u!==void 0?u:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,l){return this.headers=new Headers(this.headers),this.headers.set(s,l),this}then(s,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let f=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var h,p,v,w;let S=null,_=null,x=null,k=m.status,N=m.statusText;if(m.ok){if(this.method!=="HEAD"){const I=await m.text();I===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?_=I:_=JSON.parse(I))}const C=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),O=(v=m.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");C&&O&&O.length>1&&(x=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(S={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,x=null,k=406,N="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const C=await m.text();try{S=JSON.parse(C),Array.isArray(S)&&m.status===404&&(_=[],S=null,k=200,N="OK")}catch{m.status===404&&C===""?(k=204,N="No Content"):S={message:C}}if(S&&this.isMaybeSingle&&(!((w=S==null?void 0:S.details)===null||w===void 0)&&w.includes("0 rows"))&&(S=null,k=200,N="OK"),S&&this.shouldThrowOnError)throw new r.default(S)}return{error:S,data:_,count:x,status:k,statusText:N}});return this.shouldThrowOnError||(f=f.catch(m=>{var h,p,v;return{error:{message:`${(h=m==null?void 0:m.name)!==null&&h!==void 0?h:"FetchError"}: ${m==null?void 0:m.message}`,details:`${(p=m==null?void 0:m.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(v=m==null?void 0:m.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),f.then(s,l)}returns(){return this}overrideTypes(){return this}}return to.default=n,to}var Pb;function Ek(){if(Pb)return eo;Pb=1;var e=eo&&eo.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(eo,"__esModule",{value:!0});const t=e(Nk());class r extends t.default{select(i){let s=!1;const l=(i??"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:l,foreignTable:u,referencedTable:f=u}={}){const m=f?`${f}.order`:"order",h=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${h?`${h},`:""}${i}.${s?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:l=s}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this}range(i,s,{foreignTable:l,referencedTable:u=l}={}){const f=typeof u>"u"?"offset":`${u}.offset`,m=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${i}`),this.url.searchParams.set(m,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:l=!1,buffers:u=!1,wal:f=!1,format:m="text"}={}){var h;const p=[i?"analyze":null,s?"verbose":null,l?"settings":null,u?"buffers":null,f?"wal":null].filter(Boolean).join("|"),v=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${v}"; options=${p};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return eo.default=r,eo}var Ob;function Zv(){if(Ob)return Za;Ob=1;var e=Za&&Za.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Za,"__esModule",{value:!0});const t=e(Ek());class r extends t.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const l=Array.from(new Set(s)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:l,type:u}={}){let f="";u==="plain"?f="pl":u==="phrase"?f="ph":u==="websearch"&&(f="w");const m=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${f}fts${m}.${s}`),this}match(i){return Object.entries(i).forEach(([s,l])=>{this.url.searchParams.append(s,`eq.${l}`)}),this}not(i,s,l){return this.url.searchParams.append(i,`not.${s}.${l}`),this}or(i,{foreignTable:s,referencedTable:l=s}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,s,l){return this.url.searchParams.append(i,`${s}.${l}`),this}}return Za.default=r,Za}var Tb;function Ak(){if(Tb)return Qa;Tb=1;var e=Qa&&Qa.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Qa,"__esModule",{value:!0});const t=e(Zv());class r{constructor(i,{headers:s={},schema:l,fetch:u}){this.url=i,this.headers=new Headers(s),this.schema=l,this.fetch=u}select(i,s){const{head:l=!1,count:u}=s??{},f=l?"HEAD":"GET";let m=!1;const h=(i??"*").split("").map(p=>/\s/.test(p)&&!m?"":(p==='"'&&(m=!m),p)).join("");return this.url.searchParams.set("select",h),u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:l=!0}={}){var u;const f="POST";if(s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(m.length>0){const h=[...new Set(m)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:l=!1,count:u,defaultToNull:f=!0}={}){var m;const h="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),u&&this.headers.append("Prefer",`count=${u}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((v,w)=>v.concat(Object.keys(w)),[]);if(p.length>0){const v=[...new Set(p)].map(w=>`"${w}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(i,{count:s}={}){var l;const u="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var s;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return Qa.default=r,Qa}var Ib;function h4(){if(Ib)return Xa;Ib=1;var e=Xa&&Xa.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Xa,"__esModule",{value:!0});const t=e(Ak()),r=e(Zv());class n{constructor(s,{headers:l={},schema:u,fetch:f}={}){this.url=s,this.headers=new Headers(l),this.schemaName=u,this.fetch=f}from(s){const l=new URL(`${this.url}/${s}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,l={},{head:u=!1,get:f=!1,count:m}={}){var h;let p;const v=new URL(`${this.url}/rpc/${s}`);let w;u||f?(p=u?"HEAD":"GET",Object.entries(l).filter(([_,x])=>x!==void 0).map(([_,x])=>[_,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([_,x])=>{v.searchParams.append(_,x)})):(p="POST",w=l);const S=new Headers(this.headers);return m&&S.set("Prefer",`count=${m}`),new r.default({method:p,url:v,headers:S,schema:this.schemaName,body:w,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return Xa.default=n,Xa}var Db;function m4(){if(Db)return ir;Db=1;var e=ir&&ir.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(ir,"__esModule",{value:!0}),ir.PostgrestError=ir.PostgrestBuilder=ir.PostgrestTransformBuilder=ir.PostgrestFilterBuilder=ir.PostgrestQueryBuilder=ir.PostgrestClient=void 0;const t=e(h4());ir.PostgrestClient=t.default;const r=e(Ak());ir.PostgrestQueryBuilder=r.default;const n=e(Zv());ir.PostgrestFilterBuilder=n.default;const i=e(Ek());ir.PostgrestTransformBuilder=i.default;const s=e(Nk());ir.PostgrestBuilder=s.default;const l=e(kk());return ir.PostgrestError=l.default,ir.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:l.default},ir}var p4=m4();const g4=ai(p4),{PostgrestClient:v4,PostgrestQueryBuilder:VK,PostgrestFilterBuilder:qK,PostgrestTransformBuilder:WK,PostgrestBuilder:KK,PostgrestError:HK}=g4;class y4{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const x4="2.74.0",w4=`realtime-js/${x4}`,b4="1.0.0",zg=1e4,_4=1e3,j4=100;var Kl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Kl||(Kl={}));var Jt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Jt||(Jt={}));var Zn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Zn||(Zn={}));var Bg;(function(e){e.websocket="websocket"})(Bg||(Bg={}));var sa;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(sa||(sa={}));class S4{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2);let l=this.HEADER_LENGTH+2;const u=n.decode(t.slice(l,l+i));l=l+i;const f=n.decode(t.slice(l,l+s));l=l+s;const m=JSON.parse(n.decode(t.slice(l,t.byteLength)));return{ref:null,topic:u,event:f,payload:m}}}class Ck{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var xt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(xt||(xt={}));const Rb=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,l)=>(s[l]=k4(l,e,t,i),s),{}):{}},k4=(e,t,r,n)=>{const i=t.find(u=>u.name===e),s=i==null?void 0:i.type,l=r[e];return s&&!n.includes(s)?Pk(s,l):Vg(l)},Pk=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return C4(t,r)}switch(e){case xt.bool:return N4(t);case xt.float4:case xt.float8:case xt.int2:case xt.int4:case xt.int8:case xt.numeric:case xt.oid:return E4(t);case xt.json:case xt.jsonb:return A4(t);case xt.timestamp:return P4(t);case xt.abstime:case xt.date:case xt.daterange:case xt.int4range:case xt.int8range:case xt.money:case xt.reltime:case xt.text:case xt.time:case xt.timestamptz:case xt.timetz:case xt.tsrange:case xt.tstzrange:return Vg(t);default:return Vg(t)}},Vg=e=>e,N4=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},E4=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},A4=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},C4=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const l=e.slice(1,r);try{s=JSON.parse("["+l+"]")}catch{s=l?l.split(","):[]}return s.map(u=>Pk(t,u))}return e},P4=e=>typeof e=="string"?e.replace(" ","T"):e,Ok=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class qm{constructor(t,r,n={},i=zg){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Mb;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Mb||(Mb={}));class Hl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Hl.syncState(this.state,i,s,l),this.pendingDiffs.forEach(f=>{this.state=Hl.syncDiff(this.state,f,s,l)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Hl.syncDiff(this.state,i,s,l),u())}),this.onJoin((i,s,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:l})}),this.onLeave((i,s,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),l=this.transformState(r),u={},f={};return this.map(s,(m,h)=>{l[m]||(f[m]=h)}),this.map(l,(m,h)=>{const p=s[m];if(p){const v=h.map(x=>x.presence_ref),w=p.map(x=>x.presence_ref),S=h.filter(x=>w.indexOf(x.presence_ref)<0),_=p.filter(x=>v.indexOf(x.presence_ref)<0);S.length>0&&(u[m]=S),_.length>0&&(f[m]=_)}else u[m]=h}),this.syncDiff(s,{joins:u,leaves:f},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(u,f)=>{var m;const h=(m=t[u])!==null&&m!==void 0?m:[];if(t[u]=this.cloneDeep(f),h.length>0){const p=t[u].map(w=>w.presence_ref),v=h.filter(w=>p.indexOf(w.presence_ref)<0);t[u].unshift(...v)}n(u,h,f)}),this.map(l,(u,f)=>{let m=t[u];if(!m)return;const h=f.map(p=>p.presence_ref);m=m.filter(p=>h.indexOf(p.presence_ref)<0),t[u]=m,i(u,m,f),m.length===0&&delete t[u]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var $b;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})($b||($b={}));var Yl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Yl||(Yl={}));var Fi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Fi||(Fi={}));class ey{constructor(t,r={config:{}},n){var i,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new qm(this,Zn.join,this.params,this.timeout),this.rejoinTimer=new Ck(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Jt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Zn.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new Hl(this),this.broadcastEndpointURL=Ok(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Jt.closed){const{config:{broadcast:l,presence:u,private:f}}=this.params,m=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(w=>w.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[Yl.PRESENCE]&&this.bindings[Yl.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,p={},v={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:h}),postgres_changes:m,private:f};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(w=>t==null?void 0:t(Fi.CHANNEL_ERROR,w)),this._onClose(()=>t==null?void 0:t(Fi.CLOSED)),this.updateJoinPayload(Object.assign({config:v},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:w})=>{var S;if(this.socket.setAuth(),w===void 0){t==null||t(Fi.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,x=(S=_==null?void 0:_.length)!==null&&S!==void 0?S:0,k=[];for(let N=0;N<x;N++){const E=_[N],{filter:{event:C,schema:O,table:I,filter:L}}=E,Y=w&&w[N];if(Y&&Y.event===C&&Y.schema===O&&Y.table===I&&Y.filter===L)k.push(Object.assign(Object.assign({},E),{id:Y.id}));else{this.unsubscribe(),this.state=Jt.errored,t==null||t(Fi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,t&&t(Fi.SUBSCRIBED);return}}).receive("error",w=>{this.state=Jt.errored,t==null||t(Fi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Fi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Jt.joined&&t===Yl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:l}=t,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:l,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=m.body)===null||i===void 0?void 0:i.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var l,u,f;const m=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||f===void 0)&&f.ack)&&s("ok"),m.receive("ok",()=>s("ok")),m.receive("error",()=>s("error")),m.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Jt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Zn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new qm(this,Zn.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Jt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new qm(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>j4){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const l=t.toLocaleLowerCase(),{close:u,error:f,leave:m,join:h}=Zn;if(n&&[u,f,m,h].indexOf(l)>=0&&n!==this._joinRef())return;let v=this._onMessage(l,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(w=>{var S,_,x;return((S=w.filter)===null||S===void 0?void 0:S.event)==="*"||((x=(_=w.filter)===null||_===void 0?void 0:_.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===l}).map(w=>w.callback(v,n)):(s=this.bindings[l])===null||s===void 0||s.filter(w=>{var S,_,x,k,N,E;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in w){const C=w.id,O=(S=w.filter)===null||S===void 0?void 0:S.event;return C&&((_=r.ids)===null||_===void 0?void 0:_.includes(C))&&(O==="*"||(O==null?void 0:O.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const C=(N=(k=w==null?void 0:w.filter)===null||k===void 0?void 0:k.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return C==="*"||C===((E=r==null?void 0:r.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===l}).map(w=>{if(typeof v=="object"&&"ids"in v){const S=v.data,{schema:_,table:x,commit_timestamp:k,type:N,errors:E}=S;v=Object.assign(Object.assign({},{schema:_,table:x,commit_timestamp:k,eventType:N,new:{},old:{},errors:E}),this._getPayloadRecords(S))}w.callback(v,n)})}_isClosed(){return this.state===Jt.closed}_isJoined(){return this.state===Jt.joined}_isJoining(){return this.state===Jt.joining}_isLeaving(){return this.state===Jt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&ey.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Zn.close,{},t)}_onError(t){this._on(Zn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Jt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Rb(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Rb(t.columns,t.old_record)),r}}const Wm=()=>{},Ku={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},O4=[1e3,2e3,5e3,1e4],T4=1e4,I4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class D4{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=zg,this.transport=null,this.heartbeatIntervalMs=Ku.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Wm,this.ref=0,this.reconnectTimer=null,this.logger=Wm,this.conn=null,this.sendBuffer=[],this.serializer=new S4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...l)=>gc(async()=>{const{default:u}=await Promise.resolve().then(()=>Do);return{default:u}},void 0,import.meta.url).then(({default:u})=>u(...l)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...l)=>s(...l)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Bg.websocket}`,this.httpEndpoint=Ok(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=y4.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:b4}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Kl.connecting:return sa.Connecting;case Kl.open:return sa.Open;case Kl.closing:return sa.Closing;default:return sa.Closed}}isConnected(){return this.connectionState()===sa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new ey(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,l=()=>{this.encode(t,u=>{var f;(f=this.conn)===null||f===void 0||f.send(u)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(_4,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ku.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:l}=r,u=l?`(${l})`:"",f=s.status||"";this.log("receive",`${f} ${n} ${i} ${u}`.trim(),s),this.channels.filter(m=>m._isMember(n)).forEach(m=>m._trigger(i,s,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Zn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([I4],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:w4};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Zn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Ck(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ku.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,s,l,u,f,m,h;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:zg,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Ku.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=t==null?void 0:t.heartbeatCallback)!==null&&u!==void 0?u:Wm,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t==null?void 0:t.reconnectAfterMs)!==null&&f!==void 0?f:(p=>O4[p-1]||T4),this.encode=(m=t==null?void 0:t.encode)!==null&&m!==void 0?m:((p,v)=>v(JSON.stringify(p))),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class ty extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Vt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class R4 extends ty{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class qg extends ty{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var M4=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function u(h){try{m(n.next(h))}catch(p){l(p)}}function f(h){try{m(n.throw(h))}catch(p){l(p)}}function m(h){h.done?s(h.value):i(h.value).then(u,f)}m((n=n.apply(e,t||[])).next())})};const Tk=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>gc(async()=>{const{default:n}=await Promise.resolve().then(()=>Do);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},$4=()=>M4(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield gc(()=>Promise.resolve().then(()=>Do),void 0,import.meta.url)).Response:Response}),Wg=e=>{if(Array.isArray(e))return e.map(r=>Wg(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Wg(n)}),t},L4=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Sa=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function u(h){try{m(n.next(h))}catch(p){l(p)}}function f(h){try{m(n.throw(h))}catch(p){l(p)}}function m(h){h.done?s(h.value):i(h.value).then(u,f)}m((n=n.apply(e,t||[])).next())})};const Km=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),F4=(e,t,r)=>Sa(void 0,void 0,void 0,function*(){const n=yield $4();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const s=e.status||500,l=(i==null?void 0:i.statusCode)||s+"";t(new R4(Km(i),s,l))}).catch(i=>{t(new qg(Km(i),i))}):t(new qg(Km(e),e))}),U4=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(L4(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function vc(e,t,r,n,i,s){return Sa(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(r,U4(t,n,i,s)).then(f=>{if(!f.ok)throw f;return n!=null&&n.noResolveJson?f:f.json()}).then(f=>l(f)).catch(f=>F4(f,u,n))})})}function _d(e,t,r,n){return Sa(this,void 0,void 0,function*(){return vc(e,"GET",t,r,n)})}function xi(e,t,r,n,i){return Sa(this,void 0,void 0,function*(){return vc(e,"POST",t,n,i,r)})}function Kg(e,t,r,n,i){return Sa(this,void 0,void 0,function*(){return vc(e,"PUT",t,n,i,r)})}function z4(e,t,r,n){return Sa(this,void 0,void 0,function*(){return vc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Ik(e,t,r,n,i){return Sa(this,void 0,void 0,function*(){return vc(e,"DELETE",t,n,i,r)})}var B4=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function u(h){try{m(n.next(h))}catch(p){l(p)}}function f(h){try{m(n.throw(h))}catch(p){l(p)}}function m(h){h.done?s(h.value):i(h.value).then(u,f)}m((n=n.apply(e,t||[])).next())})};class V4{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return B4(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Vt(t))return{data:null,error:t};throw t}})}}var q4=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function u(h){try{m(n.next(h))}catch(p){l(p)}}function f(h){try{m(n.throw(h))}catch(p){l(p)}}function m(h){h.done?s(h.value):i(h.value).then(u,f)}m((n=n.apply(e,t||[])).next())})};class W4{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}asStream(){return new V4(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.execute().then(t,r)}execute(){return q4(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Vt(t))return{data:null,error:t};throw t}})}}var qr=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function u(h){try{m(n.next(h))}catch(p){l(p)}}function f(h){try{m(n.throw(h))}catch(p){l(p)}}function m(h){h.done?s(h.value):i(h.value).then(u,f)}m((n=n.apply(e,t||[])).next())})};const K4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Lb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class H4{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Tk(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return qr(this,void 0,void 0,function*(){try{let s;const l=Object.assign(Object.assign({},Lb),i);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",l.cacheControl),f&&s.append("metadata",this.encodeMetadata(f)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",l.cacheControl),f&&s.append("metadata",this.encodeMetadata(f))):(s=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,f&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),i!=null&&i.headers&&(u=Object.assign(Object.assign({},u),i.headers));const m=this._removeEmptyFolders(r),h=this._getFinalPath(m),p=yield(t=="PUT"?Kg:xi)(this.fetch,`${this.url}/object/${h}`,s,Object.assign({headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:m,id:p.Id,fullPath:p.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}})}upload(t,r,n){return qr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return qr(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),l=this._getFinalPath(s),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",r);try{let f;const m=Object.assign({upsert:Lb.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&n instanceof Blob?(f=new FormData,f.append("cacheControl",m.cacheControl),f.append("",n)):typeof FormData<"u"&&n instanceof FormData?(f=n,f.append("cacheControl",m.cacheControl)):(f=n,h["cache-control"]=`max-age=${m.cacheControl}`,h["content-type"]=m.contentType);const p=yield Kg(this.fetch,u.toString(),f,{headers:h});return{data:{path:s,fullPath:p.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(Vt(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(t,r){return qr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield xi(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),l=new URL(this.url+s.url),u=l.searchParams.get("token");if(!u)throw new ty("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:u},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}update(t,r,n){return qr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return qr(this,void 0,void 0,function*(){try{return{data:yield xi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Vt(i))return{data:null,error:i};throw i}})}copy(t,r,n){return qr(this,void 0,void 0,function*(){try{return{data:{path:(yield xi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Vt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return qr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield xi(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${l}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Vt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return qr(this,void 0,void 0,function*(){try{const i=yield xi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Vt(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=s?`?${s}`:"",u=this._getFinalPath(t),f=()=>_d(this.fetch,`${this.url}/${i}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new W4(f,this.shouldThrowOnError)}info(t){return qr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield _d(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Wg(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}exists(t){return qr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield z4(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n)&&n instanceof qg){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const u=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});f!==""&&i.push(f);let m=i.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${m}`)}}}remove(t){return qr(this,void 0,void 0,function*(){try{return{data:yield Ik(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}list(t,r,n){return qr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},K4),r),{prefix:t||""});return{data:yield xi(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Vt(i))return{data:null,error:i};throw i}})}listV2(t,r){return qr(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield xi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Y4="2.74.0",G4={"X-Client-Info":`storage-js/${Y4}`};var ro=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function u(h){try{m(n.next(h))}catch(p){l(p)}}function f(h){try{m(n.throw(h))}catch(p){l(p)}}function m(h){h.done?s(h.value):i(h.value).then(u,f)}m((n=n.apply(e,t||[])).next())})};class J4{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},G4),r),this.fetch=Tk(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ro(this,void 0,void 0,function*(){try{return{data:yield _d(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Vt(t))return{data:null,error:t};throw t}})}getBucket(t){return ro(this,void 0,void 0,function*(){try{return{data:yield _d(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}createBucket(t){return ro(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield xi(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Vt(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return ro(this,void 0,void 0,function*(){try{return{data:yield Kg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ro(this,void 0,void 0,function*(){try{return{data:yield xi(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ro(this,void 0,void 0,function*(){try{return{data:yield Ik(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}}class X4 extends J4{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new H4(this.url,this.headers,t,this.fetch)}}const Q4="2.74.0";let Vl="";typeof Deno<"u"?Vl="deno":typeof document<"u"?Vl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vl="react-native":Vl="node";const Z4={"X-Client-Info":`supabase-js-${Vl}/${Q4}`},eI={headers:Z4},tI={schema:"public"},rI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},nI={};var iI=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function u(h){try{m(n.next(h))}catch(p){l(p)}}function f(h){try{m(n.throw(h))}catch(p){l(p)}}function m(h){h.done?s(h.value):i(h.value).then(u,f)}m((n=n.apply(e,t||[])).next())})};const sI=e=>{let t;return e?t=e:typeof fetch>"u"?t=jk:t=fetch,(...r)=>t(...r)},aI=()=>typeof Headers>"u"?Sk:Headers,oI=(e,t,r)=>{const n=sI(r),i=aI();return(s,l)=>iI(void 0,void 0,void 0,function*(){var u;const f=(u=yield t())!==null&&u!==void 0?u:e;let m=new i(l==null?void 0:l.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${f}`),n(s,Object.assign(Object.assign({},l),{headers:m}))})};var lI=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function u(h){try{m(n.next(h))}catch(p){l(p)}}function f(h){try{m(n.throw(h))}catch(p){l(p)}}function m(h){h.done?s(h.value):i(h.value).then(u,f)}m((n=n.apply(e,t||[])).next())})};function cI(e){return e.endsWith("/")?e:e+"/"}function uI(e,t){var r,n;const{db:i,auth:s,realtime:l,global:u}=e,{db:f,auth:m,realtime:h,global:p}=t,v={db:Object.assign(Object.assign({},f),i),auth:Object.assign(Object.assign({},m),s),realtime:Object.assign(Object.assign({},h),l),storage:{},global:Object.assign(Object.assign(Object.assign({},p),u),{headers:Object.assign(Object.assign({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(n=u==null?void 0:u.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>lI(this,void 0,void 0,function*(){return""})};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function dI(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(cI(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Dk="2.74.0",fo=30*1e3,Hg=3,Hm=Hg*fo,fI="http://localhost:9999",hI="supabase.auth.token",mI={"X-Client-Info":`gotrue-js/${Dk}`},Yg="X-Supabase-Api-Version",Rk={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},pI=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,gI=600*1e3;class tc extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Be(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class vI extends tc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function yI(e){return Be(e)&&e.name==="AuthApiError"}class aa extends tc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ms extends tc{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Ns extends Ms{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function xI(e){return Be(e)&&e.name==="AuthSessionMissingError"}class no extends Ms{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Hu extends Ms{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Yu extends Ms{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function wI(e){return Be(e)&&e.name==="AuthImplicitGrantRedirectError"}class Fb extends Ms{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Gg extends Ms{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ym(e){return Be(e)&&e.name==="AuthRetryableFetchError"}class Ub extends Ms{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Jg extends Ms{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const jd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),zb=` 	
\r=`.split(""),bI=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<zb.length;t+=1)e[zb[t].charCodeAt(0)]=-2;for(let t=0;t<jd.length;t+=1)e[jd[t].charCodeAt(0)]=t;return e})();function Bb(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(jd[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(jd[n]),t.queuedBits-=6}}function Mk(e,t,r){const n=bI[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Vb(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=l=>{SI(l,n,r)};for(let l=0;l<e.length;l+=1)Mk(e.charCodeAt(l),i,s);return t.join("")}function _I(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function jI(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}_I(n,t)}}function SI(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function po(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Mk(e.charCodeAt(i),r,n);return new Uint8Array(t)}function kI(e){const t=[];return jI(e,r=>t.push(r)),new Uint8Array(t)}function la(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>Bb(i,r,n)),Bb(null,r,n),t.join("")}function NI(e){return Math.round(Date.now()/1e3)+e}function EI(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const tn=()=>typeof window<"u"&&typeof document<"u",Qs={tested:!1,writable:!1},$k=()=>{if(!tn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qs.tested)return Qs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Qs.tested=!0,Qs.writable=!0}catch{Qs.tested=!0,Qs.writable=!1}return Qs.writable};function AI(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const Lk=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>gc(async()=>{const{default:n}=await Promise.resolve().then(()=>Do);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},CI=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ho=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Zs=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ks=async(e,t)=>{await e.removeItem(t)};class bf{constructor(){this.promise=new bf.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}bf.promiseConstructor=Promise;function Gm(e){const t=e.split(".");if(t.length!==3)throw new Jg("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!pI.test(t[n]))throw new Jg("JWT not in base64url format");return{header:JSON.parse(Vb(t[0])),payload:JSON.parse(Vb(t[1])),signature:po(t[2]),raw:{header:t[0],payload:t[1]}}}async function PI(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function OI(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const l=await e(s);if(!t(s,null,l)){n(l);return}}catch(l){if(!t(s,l)){i(l);return}}})()})}function TI(e){return("0"+e.toString(16)).substr(-2)}function II(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,TI).join("")}async function DI(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function RI(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await DI(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function io(e,t,r=!1){const n=II();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await ho(e,`${t}-code-verifier`,i);const s=await RI(n);return[s,n===s?"plain":"s256"]}const MI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $I(e){const t=e.headers.get(Yg);if(!t||!t.match(MI))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function LI(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function FI(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const UI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function so(e){if(!UI.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Jm(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function qb(e){return JSON.parse(JSON.stringify(e))}var zI=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const ta=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),BI=[502,503,504];async function Wb(e){var t;if(!CI(e))throw new Gg(ta(e),0);if(BI.includes(e.status))throw new Gg(ta(e),e.status);let r;try{r=await e.json()}catch(s){throw new aa(ta(s),s)}let n;const i=$I(e);if(i&&i.getTime()>=Rk["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Ub(ta(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ns}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0))throw new Ub(ta(r),e.status,r.weak_password.reasons);throw new vI(ta(r),e.status||500,n)}const VI=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Xe(e,t,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[Yg]||(s[Yg]=Rk["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const l=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await qI(e,t,r+u,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(f):{data:Object.assign({},f),error:null}}async function qI(e,t,r,n,i,s){const l=VI(t,n,i,s);let u;try{u=await e(r,Object.assign({},l))}catch(f){throw console.error(f),new Gg(ta(f),0)}if(u.ok||await Wb(u),n!=null&&n.noResolveJson)return u;try{return await u.json()}catch(f){await Wb(f)}}function Qn(e){var t;let r=null;HI(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=NI(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Kb(e){const t=Qn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Cs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function WI(e){return{data:e,error:null}}function KI(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,l=zI(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},f=Object.assign({},l);return{data:{properties:u,user:f},error:null}}function Hb(e){return e}function HI(e){return e.access_token&&e.refresh_token&&e.expires_in}const Xm=["global","local","others"];var YI=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class GI{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Lk(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Xm[0]){if(Xm.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Xm.join(", ")}`);try{return await Xe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Cs})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=YI(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:KI,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Be(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Xe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Cs})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,l,u,f;try{const m={nextPage:null,lastPage:0,total:0},h=await Xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Hb});if(h.error)throw h.error;const p=await h.json(),v=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,w=(f=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return w.length>0&&(w.forEach(S=>{const _=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(S.split(";")[1].split("=")[1]);m[`${x}Page`]=_}),m.total=parseInt(v)),{data:Object.assign(Object.assign({},p),m),error:null}}catch(m){if(Be(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){so(t);try{return await Xe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Cs})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){so(t);try{return await Xe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Cs})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){so(t);try{return await Xe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Cs})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){so(t.userId);try{const{data:r,error:n}=await Xe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _deleteFactor(t){so(t.userId),so(t.id);try{return{data:await Xe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,s,l,u,f;try{const m={nextPage:null,lastPage:0,total:0},h=await Xe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Hb});if(h.error)throw h.error;const p=await h.json(),v=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,w=(f=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return w.length>0&&(w.forEach(S=>{const _=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(S.split(";")[1].split("=")[1]);m[`${x}Page`]=_}),m.total=parseInt(v)),{data:Object.assign(Object.assign({},p),m),error:null}}catch(m){if(Be(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(t){try{return await Xe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Xe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await Xe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Xe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}}function Yb(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const ao={debug:!!(globalThis&&$k()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Fk extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class JI extends Fk{}async function XI(e,t,r){ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ao.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new JI(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ao.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function QI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Uk(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function ZI(e){return parseInt(e,16)}function eD(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function tD(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:l,notBefore:u,requestId:f,resources:m,scheme:h,uri:p,version:v}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const w=Uk(e.address),S=h?`${h}://${n}`:n,_=e.statement?`${e.statement}
`:"",x=`${S} wants you to sign in with your Ethereum account:
${w}

${_}`;let k=`URI: ${p}
Version: ${v}
Chain ID: ${r}${l?`
Nonce: ${l}`:""}
Issued At: ${s.toISOString()}`;if(i&&(k+=`
Expiration Time: ${i.toISOString()}`),u&&(k+=`
Not Before: ${u.toISOString()}`),f&&(k+=`
Request ID: ${f}`),m){let N=`
Resources:`;for(const E of m){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);N+=`
- ${E}`}k+=N}return`${x}
${k}`}class Bt extends Error{constructor({message:t,code:r,cause:n,name:i}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class Sd extends Bt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function rD({error:e,options:t}){var r,n,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Bt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Bt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Bt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Bt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Bt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Bt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Bt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Bt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(Bk(l)){if(s.rp.id!==l)return new Bt({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Bt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Bt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Bt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Bt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function nD({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Bt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Bt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Bk(n)){if(r.rpId!==n)return new Bt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Bt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Bt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Bt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var zk=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class iD{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const sD=new iD;function aD(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=zk(e,["challenge","user","excludeCredentials"]),s=po(t).buffer,l=Object.assign(Object.assign({},r),{id:po(r.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:s,user:l});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let f=0;f<n.length;f++){const m=n[f];u.excludeCredentials[f]=Object.assign(Object.assign({},m),{id:po(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return u}function oD(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=zk(e,["challenge","allowCredentials"]),i=po(t).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];s.allowCredentials[l]=Object.assign(Object.assign({},u),{id:po(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function lD(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:la(new Uint8Array(e.response.attestationObject)),clientDataJSON:la(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function cD(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:la(new Uint8Array(i.authenticatorData)),clientDataJSON:la(new Uint8Array(i.clientDataJSON)),signature:la(new Uint8Array(i.signature)),userHandle:i.userHandle?la(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Bk(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Gb(){var e,t;return!!(tn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function uD(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Sd("Browser returned unexpected credential type",t)}:{data:null,error:new Sd("Empty credential response",t)}}catch(t){return{data:null,error:rD({error:t,options:e})}}}async function dD(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Sd("Browser returned unexpected credential type",t)}:{data:null,error:new Sd("Empty credential response",t)}}catch(t){return{data:null,error:nD({error:t,options:e})}}}const fD={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},hD={userVerification:"preferred",hints:["security-key"]};function kd(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const s in i){const l=i[s];if(l!==void 0)if(Array.isArray(l))n[s]=l;else if(r(l))n[s]=l;else if(t(l)){const u=n[s];t(u)?n[s]=kd(u,l):n[s]=kd(l)}else n[s]=l}return n}function mD(e,t){return kd(fD,e,t||{})}function pD(e,t){return kd(hD,e,t||{})}class gD{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},s){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:u};const f=i??sD.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:m}=l.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${n}`),m.displayName||(m.displayName=m.name)}switch(l.webauthn.type){case"create":{const m=mD(l.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:h,error:p}=await uD({publicKey:m,signal:f});return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const m=pD(l.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:h,error:p}=await dD(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:m,signal:f}));return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(l){return Be(l)?{data:null,error:l}:{data:null,error:new aa("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!r)return{data:null,error:new tc("rpId is required for WebAuthn authentication")};try{if(!Gb())return{data:null,error:new aa("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!l)return{data:null,error:u};const{webauthn:f}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:f.type,rpId:r,rpOrigins:n,credential_response:f.credential_response}})}catch(l){return Be(l)?{data:null,error:l}:{data:null,error:new aa("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!r)return{data:null,error:new tc("rpId is required for WebAuthn registration")};try{if(!Gb())return{data:null,error:new aa("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(h=>{var p;return(p=h.data)===null||p===void 0?void 0:p.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:u};const{data:f,error:m}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return f?this._verify({factorId:l.id,challengeId:f.challengeId,webauthn:{rpId:r,rpOrigins:n,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:m}}catch(l){return Be(l)?{data:null,error:l}:{data:null,error:new aa("Unexpected error in register",l)}}}}QI();const vD={url:fI,storageKey:hI,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:mI,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Jb(e,t,r){return await r()}const oo={};class rc{get jwks(){var t,r;return(r=(t=oo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){oo[this.storageKey]=Object.assign(Object.assign({},oo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=oo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){oo[this.storageKey]=Object.assign(Object.assign({},oo[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=rc.nextInstanceID,rc.nextInstanceID+=1,this.instanceID>0&&tn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},vD),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new GI({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Lk(i.fetch),this.lock=i.lock||Jb,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:tn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=XI:this.lock=Jb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new gD(this)},this.persistSession?(i.storage?this.storage=i.storage:$k()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Yb(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Yb(this.memoryStorage)),tn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Dk}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=AI(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),tn()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),wI(s)){const f=(t=s.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:l,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Be(r)?{error:r}:{error:new aa("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Qn}),{data:l,error:u}=s;if(u||!l)return{data:{user:null,session:null},error:u};const f=l.session,m=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:m,session:f},error:null}}catch(s){if(Be(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:h,password:p,options:v}=t;let w=null,S=null;this.flowType==="pkce"&&([w,S]=await io(this.storage,this.storageKey)),s=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:h,password:p,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:w,code_challenge_method:S},xform:Qn})}else if("phone"in t){const{phone:h,password:p,options:v}=t;s=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Qn})}else throw new Hu("You must provide either an email or phone number and a password");const{data:l,error:u}=s;if(u||!l)return{data:{user:null,session:null},error:u};const f=l.session,m=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:m,session:f},error:null}}catch(s){if(Be(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:l,options:u}=t;r=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Kb})}else if("phone"in t){const{phone:s,password:l,options:u}=t;r=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Kb})}else throw new Hu("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new no}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Be(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,s,l,u,f,m,h,p,v;let w,S;if("message"in t)w=t.message,S=t.signature;else{const{chain:_,wallet:x,statement:k,options:N}=t;let E;if(tn())if(typeof x=="object")E=x;else{const q=window;if("ethereum"in q&&typeof q.ethereum=="object"&&"request"in q.ethereum&&typeof q.ethereum.request=="function")E=q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=x}const C=new URL((r=N==null?void 0:N.url)!==null&&r!==void 0?r:window.location.href),O=await E.request({method:"eth_requestAccounts"}).then(q=>q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!O||O.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=Uk(O[0]);let L=(n=N==null?void 0:N.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!L){const q=await E.request({method:"eth_chainId"});L=ZI(q)}const Y={domain:C.host,address:I,statement:k,uri:C.href,version:"1",chainId:L,nonce:(i=N==null?void 0:N.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(s=N==null?void 0:N.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=N==null?void 0:N.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(f=N==null?void 0:N.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(m=N==null?void 0:N.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(h=N==null?void 0:N.signInWithEthereum)===null||h===void 0?void 0:h.resources};w=tD(Y),S=await E.request({method:"personal_sign",params:[eD(w),I]})}try{const{data:_,error:x}=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:S},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Qn});if(x)throw x;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new no}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:x})}catch(_){if(Be(_))return{data:{user:null,session:null},error:_};throw _}}async signInWithSolana(t){var r,n,i,s,l,u,f,m,h,p,v,w;let S,_;if("message"in t)S=t.message,_=t.signature;else{const{chain:x,wallet:k,statement:N,options:E}=t;let C;if(tn())if(typeof k=="object")C=k;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))C=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=k}const O=new URL((r=E==null?void 0:E.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in C&&C.signIn){const I=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E==null?void 0:E.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),N?{statement:N}:null));let L;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")L=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)L=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)S=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),_=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${O.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(i=(n=E==null?void 0:E.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=E==null?void 0:E.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((l=E==null?void 0:E.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((u=E==null?void 0:E.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((f=E==null?void 0:E.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((m=E==null?void 0:E.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((p=(h=E==null?void 0:E.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...E.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const I=await C.signMessage(new TextEncoder().encode(S),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=I}}try{const{data:x,error:k}=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:la(_)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Qn});if(k)throw k;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new no}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:k})}catch(x){if(Be(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const r=await Zs(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:l}=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Qn});if(await ks(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new no}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:l})}catch(s){if(Be(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:l}=t,u=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Qn}),{data:f,error:m}=u;return m?{data:{user:null,session:null},error:m}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new no}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:m})}catch(r){if(Be(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,s,l;try{if("email"in t){const{email:u,options:f}=t;let m=null,h=null;this.flowType==="pkce"&&([m,h]=await io(this.storage,this.storageKey));const{error:p}=await Xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},create_user:(n=f==null?void 0:f.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:h},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:u,options:f}=t,{data:m,error:h}=await Xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=f==null?void 0:f.data)!==null&&i!==void 0?i:{},create_user:(s=f==null?void 0:f.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(l=f==null?void 0:f.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:h}}throw new Hu("You must provide either an email or phone number.")}catch(u){if(Be(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:u}=await Xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Qn});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,m=l.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:m,session:f},error:null}}catch(i){if(Be(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let s=null,l=null;return this.flowType==="pkce"&&([s,l]=await io(this.storage,this.storageKey)),await Xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:WI})}catch(s){if(Be(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ns;const{error:i}=await Xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Be(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:l}=await Xe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:l,error:u}=await Xe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new Hu("You must provide either an email or phone number and a type")}catch(r){if(Be(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Zs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Hm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const l=await Zs(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=Jm()}if(this.storage.isServer&&t.user){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(f,m,h)=>(!l&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,m,h))})}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Cs}):await this._useSession(async r=>{var n,i,s;const{data:l,error:u}=r;if(u)throw u;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ns}:await Xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Cs})})}catch(r){if(Be(r))return xI(r)&&(await this._removeSession(),await ks(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Ns;const l=i.session;let u=null,f=null;this.flowType==="pkce"&&t.email!=null&&([u,f]=await io(this.storage,this.storageKey));const{data:m,error:h}=await Xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:f}),jwt:l.access_token,xform:Cs});if(h)throw h;return l.user=m.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ns;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:l}=Gm(t.access_token);if(l.exp&&(n=l.exp,i=n<=r),i){const{data:u,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!u)return{data:{user:null,session:null},error:null};s=u}else{const{data:u,error:f}=await this._getUser(t.access_token);if(f)throw f;s={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(Be(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:u}=r;if(u)throw u;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ns;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Be(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!tn())throw new Yu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Yu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Fb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Yu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Fb("No code detected.");const{data:N,error:E}=await this._exchangeCodeForSession(t.code);if(E)throw E;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:l,expires_in:u,expires_at:f,token_type:m}=t;if(!s||!u||!l||!m)throw new Yu("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(u);let v=h+p;f&&(v=parseInt(f));const w=v-h;w*1e3<=fo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${p}s`);const S=v-p;h-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,v,h):h-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,v,h);const{data:_,error:x}=await this._getUser(s);if(x)throw x;const k={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:v,refresh_token:l,token_type:m,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:k,redirectType:t.type},error:null}}catch(n){if(Be(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Zs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const l=(n=i.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!(yI(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return t!=="others"&&(await this._removeSession(),await ks(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=EI(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await io(this.storage,this.storageKey,!0));try{return await Xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(Be(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var l,u,f,m,h;const{data:p,error:v}=s;if(v)throw v;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Xe(this.fetch,"GET",w,{headers:this.headers,jwt:(h=(m=p.session)===null||m===void 0?void 0:m.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return tn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Be(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:l,provider:u,token:f,access_token:m,nonce:h}=t,p=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:f,access_token:m,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Qn}),{data:v,error:w}=p;return w?{data:{user:null,session:null},error:w}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new no}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),{data:v,error:w})}catch(i){if(Be(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:l}=r;if(l)throw l;return await Xe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await OI(async i=>(i>0&&await PI(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Qn})),(i,s)=>{const l=200*Math.pow(2,i);return s&&Ym(s)&&Date.now()+l-n<fo})}catch(n){if(this._debug(r,"error",n),Be(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),tn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Zs(this.storage,this.storageKey);if(i&&this.userStorage){let l=await Zs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await ho(this.userStorage,this.storageKey+"-user",l)),i.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:Jm()}else if(i&&!i.user&&!i.user){const l=await Zs(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await ks(this.storage,this.storageKey+"-user"),await ho(this.storage,this.storageKey,i)):i.user=Jm()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Hm;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Hm}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),Ym(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(i.access_token);!u&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ns;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new bf;const{data:s,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!s.session)throw new Ns;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const u={data:s.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(s){if(this._debug(i,"error",s),Be(s)){const l={data:null,error:s};return Ym(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,r)}catch(f){s.push(f)}});if(await Promise.all(l),s.length>0){for(let u=0;u<s.length;u+=1)console.error(s[u]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ho(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=qb(i);await ho(this.storage,this.storageKey,s)}else{const i=qb(r);await ho(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await ks(this.storage,this.storageKey),await ks(this.storage,this.storageKey+"-code-verifier"),await ks(this.storage,this.storageKey+"-user"),this.userStorage&&await ks(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&tn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),fo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/fo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${fo}ms, refresh threshold is ${Hg} ticks`),i<=Hg&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Fk)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,l]=await io(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(u.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await Xe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:l}=r;if(l)return{data:null,error:l};const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:f,error:m}=await Xe(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return m?{data:null,error:m}:(t.factorType==="totp"&&f.type==="totp"&&(!((i=f==null?void 0:f.totp)===null||i===void 0)&&i.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?lD(t.webauthn.credential_response):cD(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:f}=await Xe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:f})})}catch(r){if(Be(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const l=await Xe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:aD(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:oD(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Be(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Gm(i.access_token);let u=null;l.aal&&(u=l.aal);let f=u;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(f="aal2");const h=l.amr||[];return{data:{currentLevel:u,nextLevel:f,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(u=>u.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(u=>u.kid===t),n&&this.jwks_cached_at+gI>i)return n;const{data:s,error:l}=await Xe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(u=>u.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:w,error:S}=await this.getSession();if(S||!w.session)return{data:null,error:S};n=w.session.access_token}const{header:i,payload:s,signature:l,raw:{header:u,payload:f}}=Gm(n);r!=null&&r.allowExpired||LI(s.exp);const m=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!m){const{error:w}=await this.getUser(n);if(w)throw w;return{data:{claims:s,header:i,signature:l},error:null}}const h=FI(i.alg),p=await crypto.subtle.importKey("jwk",m,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,l,kI(`${u}.${f}`)))throw new Jg("Invalid JWT signature");return{data:{claims:s,header:i,signature:l},error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}}}rc.nextInstanceID=0;const yD=rc;class xD extends yD{constructor(t){super(t)}}var wD=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function u(h){try{m(n.next(h))}catch(p){l(p)}}function f(h){try{m(n.throw(h))}catch(p){l(p)}}function m(h){h.done?s(h.value):i(h.value).then(u,f)}m((n=n.apply(e,t||[])).next())})};class bD{constructor(t,r,n){var i,s,l;this.supabaseUrl=t,this.supabaseKey=r;const u=dI(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const f=`sb-${u.hostname.split(".")[0]}-auth-token`,m={db:tI,realtime:nI,auth:Object.assign(Object.assign({},rI),{storageKey:f}),global:eI},h=uI(n??{},m);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=h.global.headers)!==null&&s!==void 0?s:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=h.auth)!==null&&l!==void 0?l:{},this.headers,h.global.fetch),this.fetch=oI(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new v4(new URL("rest/v1",u).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new X4(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new o4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return wD(this,void 0,void 0,function*(){var t,r;if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:l,flowType:u,lock:f,debug:m},h,p){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new xD({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),h),storageKey:l,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,flowType:u,lock:f,debug:m,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new D4(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const _D=(e,t,r)=>new bD(e,t,r);function jD(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}jD()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const SD="https://okdzllfpsvltjqryslnn.supabase.co",kD="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9rZHpsbGZwc3ZsdGpxcnlzbG5uIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3NTcxMTgsImV4cCI6MjA3NTMzMzExOH0.uLhMzo49-OMEp4ghFAFI31IpiDs1tjbyY2jZlk-vgUo",Le=_D(SD,kD);async function ND(e){const{data:t,error:r}=await Le.from("users").select("*").eq("email",e).single();if(r){if(r.code==="PGRST116")return null;throw r}return t}async function ED(e){const{data:t,error:r}=await Le.from("users").insert([e]).select().single();if(r)throw r;return t}async function ry(e,t){let r=await ND(e);return r||(r=await ED({email:e,name:t})),r}async function Xb(){const{data:e,error:t}=await Le.from("users").select("*").order("created_at",{ascending:!1});if(t)throw t;return e||[]}async function AD(e){var l,u;const[t,r,n]=await Promise.all([Ro(e),Le.from("session_admins").select("session_id").eq("user_id",e),Le.from("users").select("email").eq("id",e).single()]),i=((l=r.data)==null?void 0:l.length)||0;let s=0;if((u=n.data)!=null&&u.email){const{data:f}=await Le.from("session_stakeholders").select("session_id").eq("user_email",n.data.email);s=(f==null?void 0:f.length)||0}return{userId:e,isSystemAdmin:t,sessionAdminCount:i,stakeholderSessionCount:s}}async function ny(){const{data:e,error:t}=await Le.from("voting_sessions").select("*").order("created_at",{ascending:!1});if(t)throw t;return e||[]}async function CD(e){const{data:t,error:r}=await Le.from("voting_sessions").select("*").eq("session_code",e).single();if(r){if(r.code==="PGRST116")return null;throw r}return t}async function Vk(e){if(await Ro(e))return ny();const{data:r,error:n}=await Le.from("session_admins").select("session_id").eq("user_id",e);if(n)throw n;const i=(r==null?void 0:r.map(v=>v.session_id))||[],s=await Le.from("users").select("email").eq("id",e).single();if(s.error)throw s.error;const{data:l,error:u}=await Le.from("session_stakeholders").select("session_id").eq("user_email",s.data.email);if(u)throw u;const f=(l==null?void 0:l.map(v=>v.session_id))||[],m=[...new Set([...i,...f])];if(m.length===0)return[];const{data:h,error:p}=await Le.from("voting_sessions").select("*").in("id",m).order("created_at",{ascending:!1});if(p)throw p;return h||[]}async function PD(e){const{data:t,error:r}=await Le.from("voting_sessions").insert([e]).select().single();if(r)throw r;return t}async function OD(e,t){const{data:r,error:n}=await Le.from("voting_sessions").update(t).eq("id",e).select().single();if(n)throw n;return r}async function qk(e){const{data:t,error:r}=await Le.from("session_admins").select(`
      *,
      users (*)
    `).eq("session_id",e);if(r)throw r;return(t||[]).map(n=>({id:n.id,session_id:n.session_id,user_id:n.user_id,created_at:n.created_at,user:n.users}))}async function Nd(e,t){const{data:r,error:n}=await Le.from("session_admins").insert([{session_id:e,user_id:t}]).select().single();if(n)throw n;return r}async function TD(e,t,r){const n=await ry(t,r);return Nd(e,n.id)}async function pd(e,t){const{error:r}=await Le.from("session_admins").delete().eq("session_id",e).eq("user_id",t);if(r)throw r}async function nc(e,t){try{if(await Ro(t))return!0;const{data:n,error:i}=await Le.from("session_admins").select("id").eq("session_id",e).eq("user_id",t).maybeSingle();return i?(console.error("Error checking admin status:",i),!1):!!n}catch(r){return console.error("Caught exception checking admin:",r),!1}}async function Wk(e){const{data:t,error:r}=await Le.from("session_stakeholders").select("*").eq("session_id",e).order("user_name",{ascending:!0});if(r)throw r;return t||[]}async function Kk(e){const{data:t,error:r}=await Le.from("session_stakeholders").insert([e]).select().single();if(r)throw r;return t}async function Qb(e,t,r){return Kk({session_id:e,user_email:t,user_name:r})}function Hk(e,t,r){const n=`${window.location.origin}/login?session=${e.session_code??""}`,i=encodeURIComponent(`You're invited to vote: ${e.title}`),s=encodeURIComponent(`Hi,

You've been invited to participate in a feature voting session.

Session: ${e.title}
Goal: ${e.goal}

To get started, copy and paste this link into your browser:

${n}

Voting Period: ${e.start_date?Zb(e.start_date):""} - ${e.end_date?Zb(e.end_date):""}

Best regards,
${r}`);return`mailto:${encodeURIComponent(t)}?subject=${i}&body=${s}`}function Zb(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}async function Xg(e,t){const{error:r}=await Le.from("session_stakeholders").delete().eq("session_id",e).eq("user_email",t);if(r)throw r}async function iy(e,t){try{const{data:r,error:n}=await Le.from("session_stakeholders").select("id").eq("session_id",e).eq("user_email",t).maybeSingle();return n?(console.error("Error checking stakeholder status:",n),!1):!!r}catch(r){return console.error("Caught exception checking stakeholder:",r),!1}}async function Li(e){const{data:t,error:r}=await Le.from("features").select("*").eq("session_id",e).order("created_at",{ascending:!1});if(r)throw r;return t||[]}async function Qm(e){const{data:t,error:r}=await Le.from("features").insert([{session_id:e.session_id,title:e.title,description:e.description,epic:e.epic,state:e.state,area_path:e.areaPath,tags:e.tags,azure_devops_id:e.azure_devops_id,azure_devops_url:e.azure_devops_url}]).select().single();if(r)throw r;return t}async function Zm(e,t){const r={};t.title!==void 0&&(r.title=t.title),t.description!==void 0&&(r.description=t.description),t.epic!==void 0&&(r.epic=t.epic),t.state!==void 0&&(r.state=t.state),t.areaPath!==void 0&&(r.area_path=t.areaPath),t.tags!==void 0&&(r.tags=t.tags),t.azure_devops_id!==void 0&&(r.azure_devops_id=t.azure_devops_id),t.azure_devops_url!==void 0&&(r.azure_devops_url=t.azure_devops_url);const{data:n,error:i}=await Le.from("features").update(r).eq("id",e).select().single();if(i)throw i;return n}async function e1(e){const{error:t}=await Le.from("features").delete().eq("id",e);if(t)throw t}async function oa(e){const{data:t,error:r}=await Le.from("votes").select("*").eq("session_id",e);if(r)throw r;return t||[]}async function ID(e){const{data:t}=await Le.from("votes").select("*").eq("session_id",e.session_id).eq("feature_id",e.feature_id).eq("user_id",e.user_id).single();if(t){const{data:r,error:n}=await Le.from("votes").update({vote_count:e.vote_count}).eq("session_id",e.session_id).eq("feature_id",e.feature_id).eq("user_id",e.user_id).select().single();if(n)throw n;return r}else{const{data:r,error:n}=await Le.from("votes").insert([e]).select().single();if(n)throw n;return r}}async function DD(e,t){const{error:r}=await Le.from("votes").delete().eq("session_id",e).eq("user_id",t);if(r)throw console.error("Error deleting user votes:",r),r}async function RD(e){const{error:t}=await Le.from("votes").delete().eq("session_id",e);if(t)throw t}async function MD(e){try{const{data:t,error:r}=await Le.from("azure_devops_config").select("*").eq("session_id",e).maybeSingle();if(r){if(r.code==="PGRST116")return null;throw r}return t}catch(t){return console.error("Error getting Azure DevOps config:",t),null}}async function lo(e,t){try{const r={session_id:e,organization:t.organization,project:t.project,enabled:t.enabled,work_item_type:t.workItemType};t.accessToken!==void 0&&(r.access_token=t.accessToken),t.refreshToken!==void 0&&(r.refresh_token=t.refreshToken),t.tokenExpiresAt!==void 0&&(r.token_expires_at=t.tokenExpiresAt),t.tenantId!==void 0&&(r.tenant_id=t.tenantId),t.clientId!==void 0&&(r.client_id=t.clientId),t.query!==void 0&&(r.query=t.query),t.lastSyncTime!==void 0&&(r.last_sync_time=t.lastSyncTime),t.states!==void 0&&(r.states=t.states),t.areaPath!==void 0&&(r.area_path=t.areaPath),t.tags!==void 0&&(r.tags=t.tags);const{data:n,error:i}=await Le.from("azure_devops_config").update(r).eq("session_id",e).select();if(!i&&n&&n.length>0)return n[0];const{data:s,error:l}=await Le.from("azure_devops_config").upsert([r],{onConflict:"session_id"}).select().single();if(!l)return s;if((l==null?void 0:l.code)==="23505"){const{data:u,error:f}=await Le.from("azure_devops_config").select("*").eq("session_id",e).maybeSingle();if(f)throw f;return u}throw l||i}catch(r){throw console.error("Error saving Azure DevOps config:",r),r}}async function $D(){return(await ny())[0]||null}async function t1(e){const t=await $D();if(!t)throw new Error("No session found");return OD(t.id,e)}async function LD(e){const{data:t,error:r}=await Le.from("info_requests").insert([{session_id:e.session_id,feature_id:e.feature_id,feature_title:e.feature_title,requester_id:e.requester_id,requester_name:e.requester_name,requester_email:e.requester_email,created_at:e.created_at}]).select().single();if(r)throw r;return t}async function Qg(){const{data:e,error:t}=await Le.from("system_admins").select(`
      *,
      users (*)
    `).order("created_at",{ascending:!1});if(t)throw t;return(e||[]).map(r=>({id:r.id,user_id:r.user_id,created_at:r.created_at,user:r.users}))}async function Ed(e){const{data:t,error:r}=await Le.from("system_admins").insert([{user_id:e}]).select().single();if(r)throw r;return t}async function gd(e){const{error:t}=await Le.from("system_admins").delete().eq("user_id",e);if(t)throw t}async function Ro(e){try{const{data:t,error:r}=await Le.from("system_admins").select("id").eq("user_id",e).maybeSingle();return r?(console.error("Error checking system admin status:",r),!1):!!t}catch(t){return console.error("Caught exception checking system admin:",t),!1}}const Yk=b.createContext(void 0);function FD({children:e}){const[t,r]=b.useState(null),[n,i]=b.useState([]),[s,l]=b.useState(null),[u,f]=b.useState(!1),[m,h]=b.useState(!1),[p,v]=b.useState(!0),[w,S]=b.useState(!1);b.useEffect(()=>{(async()=>{const C=localStorage.getItem("voting_system_user");if(C)try{const O=JSON.parse(C);l(O),await _(O)}catch(O){console.error("Error loading stored user:",O),localStorage.removeItem("voting_system_user")}v(!1)})()},[]),b.useEffect(()=>{(async()=>{if(!t||!s){f(!1),h(!1),S(!1);return}if(!w)try{const[C,O]=await Promise.all([nc(t.id,s.id),iy(t.id,s.email)]);f(C),h(O),S(!1)}catch(C){console.error("Error checking user roles:",C),f(!1),h(!1),S(!0)}})()},[t,s,w]);const _=b.useCallback(async E=>{const C=E||s;if(!C){i([]);return}try{const O=await Vk(C.id);i(O),t&&!O.find(I=>I.id===t.id)&&r(null)}catch(O){console.error("Error loading sessions:",O),i([])}},[s,t]),x=b.useCallback(async E=>{l(E),S(!1),E?(localStorage.setItem("voting_system_user",JSON.stringify(E)),await _(E)):(localStorage.removeItem("voting_system_user"),i([]),r(null))},[_]),k=b.useCallback(E=>{r(E),S(!1),E?localStorage.setItem("voting_system_current_session",E.id):localStorage.removeItem("voting_system_current_session")},[]);b.useEffect(()=>{(async()=>{if(!s||n.length===0)return;const C=localStorage.getItem("voting_system_current_session");if(C){const O=n.find(I=>I.id===C);O&&r(O)}})()},[s,n]);const N={currentSession:t,sessions:n,currentUser:s,isAdmin:u,isStakeholder:m,setCurrentSession:k,refreshSessions:_,setCurrentUser:x};return p?c.jsx("div",{className:"min-h-screen w-full bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2d4660] mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):c.jsx(Yk.Provider,{value:N,children:e})}function Ai(){const e=b.useContext(Yk);if(e===void 0)throw new Error("useSession must be used within a SessionProvider");return e}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zD=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),r1=e=>{const t=zD(e);return t.charAt(0).toUpperCase()+t.slice(1)},Gk=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),BD=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:l,...u},f)=>b.createElement("svg",{ref:f,...VD,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Gk("lucide",i),...!s&&!BD(u)&&{"aria-hidden":"true"},...u},[...l.map(([m,h])=>b.createElement(m,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=(e,t)=>{const r=b.forwardRef(({className:n,...i},s)=>b.createElement(qD,{ref:s,iconNode:t,className:Gk(`lucide-${UD(r1(e))}`,`lucide-${e}`,n),...i}));return r.displayName=r1(e),r};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],n1=et("arrow-left",WD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ii=et("calendar",KD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],Jk=et("chart-no-axes-column",HD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Gl=et("chevron-down",YD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Mo=et("chevron-left",GD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],XD=et("chevron-up",JD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],qt=et("circle-alert",QD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Rn=et("circle-check-big",ZD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_f=et("clock",eR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],Zg=et("cloud",tR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],sn=et("crown",rR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],iR=et("database",nR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],i1=et("ellipsis-vertical",sR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],oR=et("funnel",aR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ep=et("info",lR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],wi=et("list",cR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],dR=et("lock",uR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],hR=et("log-in",fR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],xr=et("log-out",mR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],yc=et("mail",pR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Jl=et("plus",gR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],jf=et("refresh-cw",vR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],xR=et("search",yR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ar=et("settings",wR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Wr=et("shield",bR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],jR=et("shuffle",_R);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],kR=et("square-pen",SR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],ER=et("tag",NR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Is=et("trash-2",AR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Xk=et("triangle-alert",CR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],ha=et("user-plus",PR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Ol=et("user-x",OR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],kr=et("user",TR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ln=et("users",IR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=[["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}],["path",{d:"M5 7c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v12H5V7Z",key:"1ezoue"}],["path",{d:"M22 19H2",key:"nuriw5"}]],Kr=et("vote",DR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Si=et("x",RR);function MR(){const[e,t]=b.useState(""),[r,n]=b.useState(""),[i,s]=b.useState(!1),[l,u]=b.useState(""),{setCurrentUser:f,setCurrentSession:m}=Ai(),h=pn(),[p]=_k(),v=async w=>{w.preventDefault(),u(""),s(!0);try{const S=await ry(e.trim().toLowerCase(),r.trim());f(S);const _=p.get("session");if(_){const x=await CD(_);if(x){m(x);const[k,N,E]=await Promise.all([Ro(S.id),nc(x.id,S.id),iy(x.id,S.email)]);if(k||N)h("/admin");else if(E)h("/vote");else{u("You are not authorized to access this voting session."),s(!1);return}}else{u("Invalid session code."),s(!1);return}}else h("/sessions")}catch(S){console.error("Login error:",S),u("Failed to log in. Please try again."),s(!1)}};return c.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[c.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"mx-auto h-24 w-auto"}),c.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-[#2d4660]",children:"Feature Voting System"}),c.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to access your voting sessions"})]}),c.jsx("div",{className:"relative z-10 mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:c.jsxs("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10",children:[c.jsxs("form",{onSubmit:v,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),c.jsx("div",{className:"mt-1",children:c.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,value:r,onChange:w=>n(w.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#2d4660] focus:border-[#2d4660]",placeholder:"John Doe"})})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),c.jsx("div",{className:"mt-1",children:c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:w=>t(w.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#2d4660] focus:border-[#2d4660]",placeholder:"your.email@company.com"})})]}),l&&c.jsx("div",{className:"rounded-md bg-red-50 p-4",children:c.jsx("div",{className:"flex",children:c.jsx("div",{className:"ml-3",children:c.jsx("h3",{className:"text-sm font-medium text-red-800",children:l})})})}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:i,className:"w-full flex justify-center items-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-[#2d4660] hover:bg-[#1d3a53] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#2d4660] disabled:opacity-50 disabled:cursor-not-allowed",children:i?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing in..."]}):c.jsxs(c.Fragment,{children:[c.jsx(hR,{className:"h-4 w-4 mr-2"}),"Sign In"]})})})]}),c.jsxs("div",{className:"mt-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-gray-300"})}),c.jsx("div",{className:"relative flex justify-center text-sm",children:c.jsx("span",{className:"px-2 bg-white text-gray-500",children:"No registration required"})})]}),c.jsxs("div",{className:"mt-6 text-center text-xs text-gray-500",children:[c.jsx("p",{children:"Simply enter your name and email to access"}),c.jsx("p",{children:"voting sessions you've been invited to"})]})]})]})})]})}var xc=e=>e.type==="checkbox",ca=e=>e instanceof Date,Tr=e=>e==null;const Qk=e=>typeof e=="object";var Ut=e=>!Tr(e)&&!Array.isArray(e)&&Qk(e)&&!ca(e),Zk=e=>Ut(e)&&e.target?xc(e.target)?e.target.checked:e.target.value:e,$R=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,eN=(e,t)=>e.has($R(t)),LR=e=>{const t=e.constructor&&e.constructor.prototype;return Ut(t)&&t.hasOwnProperty("isPrototypeOf")},sy=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function pr(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(sy&&(e instanceof Blob||n))&&(r||Ut(e)))if(t=r?[]:{},!r&&!LR(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=pr(e[i]));else return e;return t}var Sf=e=>Array.isArray(e)?e.filter(Boolean):[],Ft=e=>e===void 0,be=(e,t,r)=>{if(!t||!Ut(e))return r;const n=Sf(t.split(/[,[\].]+?/)).reduce((i,s)=>Tr(i)?i:i[s],e);return Ft(n)||n===e?Ft(e[t])?r:e[t]:n},an=e=>typeof e=="boolean",ay=e=>/^\w*$/.test(e),tN=e=>Sf(e.replace(/["|']|\]/g,"").split(/\.|\[/)),pt=(e,t,r)=>{let n=-1;const i=ay(t)?[t]:tN(t),s=i.length,l=s-1;for(;++n<s;){const u=i[n];let f=r;if(n!==l){const m=e[u];f=Ut(m)||Array.isArray(m)?m:isNaN(+i[n+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;e[u]=f,e=e[u]}};const Ad={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ei={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},$i={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},FR=Qe.createContext(null),oy=()=>Qe.useContext(FR);var rN=(e,t,r,n=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const l=s;return t._proxyFormState[l]!==ei.all&&(t._proxyFormState[l]=!n||ei.all),r&&(r[l]=!0),e[l]}});return i};function UR(e){const t=oy(),{control:r=t.control,disabled:n,name:i,exact:s}=e||{},[l,u]=Qe.useState(r._formState),f=Qe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),m=Qe.useRef(i);return m.current=i,Qe.useEffect(()=>r._subscribe({name:m.current,formState:f.current,exact:s,callback:h=>{!n&&u({...r._formState,...h})}}),[r,n,s]),Qe.useEffect(()=>{f.current.isValid&&r._setValid(!0)},[r]),Qe.useMemo(()=>rN(l,r,f.current,!1),[l,r])}var bi=e=>typeof e=="string",nN=(e,t,r,n,i)=>bi(e)?(n&&t.watch.add(e),be(r,e,i)):Array.isArray(e)?e.map(s=>(n&&t.watch.add(s),be(r,s))):(n&&(t.watchAll=!0),r);function zR(e){const t=oy(),{control:r=t.control,name:n,defaultValue:i,disabled:s,exact:l}=e||{},u=Qe.useRef(n),f=Qe.useRef(i);u.current=n,Qe.useEffect(()=>r._subscribe({name:u.current,formState:{values:!0},exact:l,callback:p=>!s&&h(nN(u.current,r._names,p.values||r._formValues,!1,f.current))}),[r,s,l]);const[m,h]=Qe.useState(r._getWatch(n,i));return Qe.useEffect(()=>r._removeUnmounted()),m}function BR(e){const t=oy(),{name:r,disabled:n,control:i=t.control,shouldUnregister:s}=e,l=eN(i._names.array,r),u=zR({control:i,name:r,defaultValue:be(i._formValues,r,be(i._defaultValues,r,e.defaultValue)),exact:!0}),f=UR({control:i,name:r,exact:!0}),m=Qe.useRef(e),h=Qe.useRef(i.register(r,{...e.rules,value:u,...an(e.disabled)?{disabled:e.disabled}:{}})),p=Qe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!be(f.errors,r)},isDirty:{enumerable:!0,get:()=>!!be(f.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!be(f.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!be(f.validatingFields,r)},error:{enumerable:!0,get:()=>be(f.errors,r)}}),[f,r]),v=Qe.useCallback(x=>h.current.onChange({target:{value:Zk(x),name:r},type:Ad.CHANGE}),[r]),w=Qe.useCallback(()=>h.current.onBlur({target:{value:be(i._formValues,r),name:r},type:Ad.BLUR}),[r,i._formValues]),S=Qe.useCallback(x=>{const k=be(i._fields,r);k&&x&&(k._f.ref={focus:()=>x.focus(),select:()=>x.select(),setCustomValidity:N=>x.setCustomValidity(N),reportValidity:()=>x.reportValidity()})},[i._fields,r]),_=Qe.useMemo(()=>({name:r,value:u,...an(n)||f.disabled?{disabled:f.disabled||n}:{},onChange:v,onBlur:w,ref:S}),[r,n,f.disabled,v,w,S,u]);return Qe.useEffect(()=>{const x=i._options.shouldUnregister||s;i.register(r,{...m.current.rules,...an(m.current.disabled)?{disabled:m.current.disabled}:{}});const k=(N,E)=>{const C=be(i._fields,N);C&&C._f&&(C._f.mount=E)};if(k(r,!0),x){const N=pr(be(i._options.defaultValues,r));pt(i._defaultValues,r,N),Ft(be(i._formValues,r))&&pt(i._formValues,r,N)}return!l&&i.register(r),()=>{(l?x&&!i._state.action:x)?i.unregister(r):k(r,!1)}},[r,i,l,s]),Qe.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),Qe.useMemo(()=>({field:_,formState:f,fieldState:p}),[_,f,p])}const Gu=e=>e.render(BR(e));var VR=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},Xl=e=>Array.isArray(e)?e:[e],s1=()=>{let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}},ev=e=>Tr(e)||!Qk(e);function Ps(e,t){if(ev(e)||ev(t))return e===t;if(ca(e)&&ca(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const i of r){const s=e[i];if(!n.includes(i))return!1;if(i!=="ref"){const l=t[i];if(ca(s)&&ca(l)||Ut(s)&&Ut(l)||Array.isArray(s)&&Array.isArray(l)?!Ps(s,l):s!==l)return!1}}return!0}var Or=e=>Ut(e)&&!Object.keys(e).length,ly=e=>e.type==="file",ti=e=>typeof e=="function",Cd=e=>{if(!sy)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},iN=e=>e.type==="select-multiple",cy=e=>e.type==="radio",qR=e=>cy(e)||xc(e),tp=e=>Cd(e)&&e.isConnected;function WR(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Ft(e)?n++:e[t[n++]];return e}function KR(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ft(e[t]))return!1;return!0}function Xt(e,t){const r=Array.isArray(t)?t:ay(t)?[t]:tN(t),n=r.length===1?e:WR(e,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(Ut(n)&&Or(n)||Array.isArray(n)&&KR(n))&&Xt(e,r.slice(0,-1)),e}var sN=e=>{for(const t in e)if(ti(e[t]))return!0;return!1};function Pd(e,t={}){const r=Array.isArray(e);if(Ut(e)||r)for(const n in e)Array.isArray(e[n])||Ut(e[n])&&!sN(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Pd(e[n],t[n])):Tr(e[n])||(t[n]=!0);return t}function aN(e,t,r){const n=Array.isArray(e);if(Ut(e)||n)for(const i in e)Array.isArray(e[i])||Ut(e[i])&&!sN(e[i])?Ft(t)||ev(r[i])?r[i]=Array.isArray(e[i])?Pd(e[i],[]):{...Pd(e[i])}:aN(e[i],Tr(t)?{}:t[i],r[i]):r[i]=!Ps(e[i],t[i]);return r}var Tl=(e,t)=>aN(e,t,Pd(t));const a1={value:!1,isValid:!1},o1={value:!0,isValid:!0};var oN=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ft(e[0].attributes.value)?Ft(e[0].value)||e[0].value===""?o1:{value:e[0].value,isValid:!0}:o1:a1}return a1},lN=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Ft(e)?e:t?e===""?NaN:e&&+e:r&&bi(e)?new Date(e):n?n(e):e;const l1={isValid:!1,value:null};var cN=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,l1):l1;function c1(e){const t=e.ref;return ly(t)?t.files:cy(t)?cN(e.refs).value:iN(t)?[...t.selectedOptions].map(({value:r})=>r):xc(t)?oN(e.refs).value:lN(Ft(t.value)?e.ref.value:t.value,e)}var HR=(e,t,r,n)=>{const i={};for(const s of e){const l=be(t,s);l&&pt(i,s,l._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}},Od=e=>e instanceof RegExp,Il=e=>Ft(e)?e:Od(e)?e.source:Ut(e)?Od(e.value)?e.value.source:e.value:e,u1=e=>({isOnSubmit:!e||e===ei.onSubmit,isOnBlur:e===ei.onBlur,isOnChange:e===ei.onChange,isOnAll:e===ei.all,isOnTouch:e===ei.onTouched});const d1="AsyncFunction";var YR=e=>!!e&&!!e.validate&&!!(ti(e.validate)&&e.validate.constructor.name===d1||Ut(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===d1)),GR=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),f1=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Ql=(e,t,r,n)=>{for(const i of r||Object.keys(e)){const s=be(e,i);if(s){const{_f:l,...u}=s;if(l){if(l.refs&&l.refs[0]&&t(l.refs[0],i)&&!n)return!0;if(l.ref&&t(l.ref,l.name)&&!n)return!0;if(Ql(u,t))break}else if(Ut(u)&&Ql(u,t))break}}};function h1(e,t,r){const n=be(e,r);if(n||ay(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),l=be(t,s),u=be(e,s);if(l&&!Array.isArray(l)&&r!==s)return{name:r};if(u&&u.type)return{name:s,error:u};i.pop()}return{name:r}}var JR=(e,t,r,n)=>{r(e);const{name:i,...s}=e;return Or(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(l=>t[l]===(!n||ei.all))},XR=(e,t,r)=>!e||!t||e===t||Xl(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),QR=(e,t,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:(r?n.isOnChange:i.isOnChange)?e:!0,ZR=(e,t)=>!Sf(be(e,t)).length&&Xt(e,t),eM=(e,t,r)=>{const n=Xl(be(e,r));return pt(n,"root",t[r]),pt(e,r,n),e},vd=e=>bi(e);function m1(e,t,r="validate"){if(vd(e)||Array.isArray(e)&&e.every(vd)||an(e)&&!e)return{type:r,message:vd(e)?e:"",ref:t}}var co=e=>Ut(e)&&!Od(e)?e:{value:e,message:""},p1=async(e,t,r,n,i,s)=>{const{ref:l,refs:u,required:f,maxLength:m,minLength:h,min:p,max:v,pattern:w,validate:S,name:_,valueAsNumber:x,mount:k}=e._f,N=be(r,_);if(!k||t.has(_))return{};const E=u?u[0]:l,C=V=>{i&&E.reportValidity&&(E.setCustomValidity(an(V)?"":V||""),E.reportValidity())},O={},I=cy(l),L=xc(l),Y=I||L,q=(x||ly(l))&&Ft(l.value)&&Ft(N)||Cd(l)&&l.value===""||N===""||Array.isArray(N)&&!N.length,U=VR.bind(null,_,n,O),z=(V,ee,Q,ae=$i.maxLength,xe=$i.minLength)=>{const ye=V?ee:Q;O[_]={type:V?ae:xe,message:ye,ref:l,...U(V?ae:xe,ye)}};if(s?!Array.isArray(N)||!N.length:f&&(!Y&&(q||Tr(N))||an(N)&&!N||L&&!oN(u).isValid||I&&!cN(u).isValid)){const{value:V,message:ee}=vd(f)?{value:!!f,message:f}:co(f);if(V&&(O[_]={type:$i.required,message:ee,ref:E,...U($i.required,ee)},!n))return C(ee),O}if(!q&&(!Tr(p)||!Tr(v))){let V,ee;const Q=co(v),ae=co(p);if(!Tr(N)&&!isNaN(N)){const xe=l.valueAsNumber||N&&+N;Tr(Q.value)||(V=xe>Q.value),Tr(ae.value)||(ee=xe<ae.value)}else{const xe=l.valueAsDate||new Date(N),ye=ce=>new Date(new Date().toDateString()+" "+ce),re=l.type=="time",le=l.type=="week";bi(Q.value)&&N&&(V=re?ye(N)>ye(Q.value):le?N>Q.value:xe>new Date(Q.value)),bi(ae.value)&&N&&(ee=re?ye(N)<ye(ae.value):le?N<ae.value:xe<new Date(ae.value))}if((V||ee)&&(z(!!V,Q.message,ae.message,$i.max,$i.min),!n))return C(O[_].message),O}if((m||h)&&!q&&(bi(N)||s&&Array.isArray(N))){const V=co(m),ee=co(h),Q=!Tr(V.value)&&N.length>+V.value,ae=!Tr(ee.value)&&N.length<+ee.value;if((Q||ae)&&(z(Q,V.message,ee.message),!n))return C(O[_].message),O}if(w&&!q&&bi(N)){const{value:V,message:ee}=co(w);if(Od(V)&&!N.match(V)&&(O[_]={type:$i.pattern,message:ee,ref:l,...U($i.pattern,ee)},!n))return C(ee),O}if(S){if(ti(S)){const V=await S(N,r),ee=m1(V,E);if(ee&&(O[_]={...ee,...U($i.validate,ee.message)},!n))return C(ee.message),O}else if(Ut(S)){let V={};for(const ee in S){if(!Or(V)&&!n)break;const Q=m1(await S[ee](N,r),E,ee);Q&&(V={...Q,...U(ee,Q.message)},C(Q.message),n&&(O[_]=V))}if(!Or(V)&&(O[_]={ref:E,...V},!n))return O}}return C(!0),O};const tM={mode:ei.onSubmit,reValidateMode:ei.onChange,shouldFocusError:!0};function rM(e={}){let t={...tM,...e},r={submitCount:0,isDirty:!1,isLoading:ti(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let i=Ut(t.defaultValues)||Ut(t.values)?pr(t.values||t.defaultValues)||{}:{},s=t.shouldUnregister?{}:pr(i),l={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,m=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...h};const v={array:s1(),state:s1()},w=u1(t.mode),S=u1(t.reValidateMode),_=t.criteriaMode===ei.all,x=R=>K=>{clearTimeout(m),m=setTimeout(R,K)},k=async R=>{if(!t.disabled&&(h.isValid||p.isValid||R)){const K=t.resolver?Or((await q()).errors):await z(n,!0);K!==r.isValid&&v.state.next({isValid:K})}},N=(R,K)=>{!t.disabled&&(h.isValidating||h.validatingFields||p.isValidating||p.validatingFields)&&((R||Array.from(u.mount)).forEach(X=>{X&&(K?pt(r.validatingFields,X,K):Xt(r.validatingFields,X))}),v.state.next({validatingFields:r.validatingFields,isValidating:!Or(r.validatingFields)}))},E=(R,K=[],X,ge,pe=!0,G=!0)=>{if(ge&&X&&!t.disabled){if(l.action=!0,G&&Array.isArray(be(n,R))){const ve=X(be(n,R),ge.argA,ge.argB);pe&&pt(n,R,ve)}if(G&&Array.isArray(be(r.errors,R))){const ve=X(be(r.errors,R),ge.argA,ge.argB);pe&&pt(r.errors,R,ve),ZR(r.errors,R)}if((h.touchedFields||p.touchedFields)&&G&&Array.isArray(be(r.touchedFields,R))){const ve=X(be(r.touchedFields,R),ge.argA,ge.argB);pe&&pt(r.touchedFields,R,ve)}(h.dirtyFields||p.dirtyFields)&&(r.dirtyFields=Tl(i,s)),v.state.next({name:R,isDirty:ee(R,K),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else pt(s,R,K)},C=(R,K)=>{pt(r.errors,R,K),v.state.next({errors:r.errors})},O=R=>{r.errors=R,v.state.next({errors:r.errors,isValid:!1})},I=(R,K,X,ge)=>{const pe=be(n,R);if(pe){const G=be(s,R,Ft(X)?be(i,R):X);Ft(G)||ge&&ge.defaultChecked||K?pt(s,R,K?G:c1(pe._f)):xe(R,G),l.mount&&k()}},L=(R,K,X,ge,pe)=>{let G=!1,ve=!1;const Fe={name:R};if(!t.disabled){if(!X||ge){(h.isDirty||p.isDirty)&&(ve=r.isDirty,r.isDirty=Fe.isDirty=ee(),G=ve!==Fe.isDirty);const rt=Ps(be(i,R),K);ve=!!be(r.dirtyFields,R),rt?Xt(r.dirtyFields,R):pt(r.dirtyFields,R,!0),Fe.dirtyFields=r.dirtyFields,G=G||(h.dirtyFields||p.dirtyFields)&&ve!==!rt}if(X){const rt=be(r.touchedFields,R);rt||(pt(r.touchedFields,R,X),Fe.touchedFields=r.touchedFields,G=G||(h.touchedFields||p.touchedFields)&&rt!==X)}G&&pe&&v.state.next(Fe)}return G?Fe:{}},Y=(R,K,X,ge)=>{const pe=be(r.errors,R),G=(h.isValid||p.isValid)&&an(K)&&r.isValid!==K;if(t.delayError&&X?(f=x(()=>C(R,X)),f(t.delayError)):(clearTimeout(m),f=null,X?pt(r.errors,R,X):Xt(r.errors,R)),(X?!Ps(pe,X):pe)||!Or(ge)||G){const ve={...ge,...G&&an(K)?{isValid:K}:{},errors:r.errors,name:R};r={...r,...ve},v.state.next(ve)}},q=async R=>{N(R,!0);const K=await t.resolver(s,t.context,HR(R||u.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return N(R),K},U=async R=>{const{errors:K}=await q(R);if(R)for(const X of R){const ge=be(K,X);ge?pt(r.errors,X,ge):Xt(r.errors,X)}else r.errors=K;return K},z=async(R,K,X={valid:!0})=>{for(const ge in R){const pe=R[ge];if(pe){const{_f:G,...ve}=pe;if(G){const Fe=u.array.has(G.name),rt=pe._f&&YR(pe._f);rt&&h.validatingFields&&N([ge],!0);const ft=await p1(pe,u.disabled,s,_,t.shouldUseNativeValidation&&!K,Fe);if(rt&&h.validatingFields&&N([ge]),ft[G.name]&&(X.valid=!1,K))break;!K&&(be(ft,G.name)?Fe?eM(r.errors,ft,G.name):pt(r.errors,G.name,ft[G.name]):Xt(r.errors,G.name))}!Or(ve)&&await z(ve,K,X)}}return X.valid},V=()=>{for(const R of u.unMount){const K=be(n,R);K&&(K._f.refs?K._f.refs.every(X=>!tp(X)):!tp(K._f.ref))&&ue(R)}u.unMount=new Set},ee=(R,K)=>!t.disabled&&(R&&K&&pt(s,R,K),!Ps(D(),i)),Q=(R,K,X)=>nN(R,u,{...l.mount?s:Ft(K)?i:bi(R)?{[R]:K}:K},X,K),ae=R=>Sf(be(l.mount?s:i,R,t.shouldUnregister?be(i,R,[]):[])),xe=(R,K,X={})=>{const ge=be(n,R);let pe=K;if(ge){const G=ge._f;G&&(!G.disabled&&pt(s,R,lN(K,G)),pe=Cd(G.ref)&&Tr(K)?"":K,iN(G.ref)?[...G.ref.options].forEach(ve=>ve.selected=pe.includes(ve.value)):G.refs?xc(G.ref)?G.refs.length>1?G.refs.forEach(ve=>(!ve.defaultChecked||!ve.disabled)&&(ve.checked=Array.isArray(pe)?!!pe.find(Fe=>Fe===ve.value):pe===ve.value)):G.refs[0]&&(G.refs[0].checked=!!pe):G.refs.forEach(ve=>ve.checked=ve.value===pe):ly(G.ref)?G.ref.value="":(G.ref.value=pe,G.ref.type||v.state.next({name:R,values:pr(s)})))}(X.shouldDirty||X.shouldTouch)&&L(R,pe,X.shouldTouch,X.shouldDirty,!0),X.shouldValidate&&M(R)},ye=(R,K,X)=>{for(const ge in K){const pe=K[ge],G=`${R}.${ge}`,ve=be(n,G);(u.array.has(R)||Ut(pe)||ve&&!ve._f)&&!ca(pe)?ye(G,pe,X):xe(G,pe,X)}},re=(R,K,X={})=>{const ge=be(n,R),pe=u.array.has(R),G=pr(K);pt(s,R,G),pe?(v.array.next({name:R,values:pr(s)}),(h.isDirty||h.dirtyFields||p.isDirty||p.dirtyFields)&&X.shouldDirty&&v.state.next({name:R,dirtyFields:Tl(i,s),isDirty:ee(R,G)})):ge&&!ge._f&&!Tr(G)?ye(R,G,X):xe(R,G,X),f1(R,u)&&v.state.next({...r}),v.state.next({name:l.mount?R:void 0,values:pr(s)})},le=async R=>{l.mount=!0;const K=R.target;let X=K.name,ge=!0;const pe=be(n,X),G=ve=>{ge=Number.isNaN(ve)||ca(ve)&&isNaN(ve.getTime())||Ps(ve,be(s,X,ve))};if(pe){let ve,Fe;const rt=K.type?c1(pe._f):Zk(R),ft=R.type===Ad.BLUR||R.type===Ad.FOCUS_OUT,Er=!GR(pe._f)&&!t.resolver&&!be(r.errors,X)&&!pe._f.deps||QR(ft,be(r.touchedFields,X),r.isSubmitted,S,w),zn=f1(X,u,ft);pt(s,X,rt),ft?(pe._f.onBlur&&pe._f.onBlur(R),f&&f(0)):pe._f.onChange&&pe._f.onChange(R);const Bn=L(X,rt,ft),Ar=!Or(Bn)||zn;if(!ft&&v.state.next({name:X,type:R.type,values:pr(s)}),Er)return(h.isValid||p.isValid)&&(t.mode==="onBlur"?ft&&k():ft||k()),Ar&&v.state.next({name:X,...zn?{}:Bn});if(!ft&&zn&&v.state.next({...r}),t.resolver){const{errors:xn}=await q([X]);if(G(rt),ge){const di=h1(r.errors,n,X),Vn=h1(xn,n,di.name||X);ve=Vn.error,X=Vn.name,Fe=Or(xn)}}else N([X],!0),ve=(await p1(pe,u.disabled,s,_,t.shouldUseNativeValidation))[X],N([X]),G(rt),ge&&(ve?Fe=!1:(h.isValid||p.isValid)&&(Fe=await z(n,!0)));ge&&(pe._f.deps&&M(pe._f.deps),Y(X,Fe,ve,Bn))}},ce=(R,K)=>{if(be(r.errors,K)&&R.focus)return R.focus(),1},M=async(R,K={})=>{let X,ge;const pe=Xl(R);if(t.resolver){const G=await U(Ft(R)?R:pe);X=Or(G),ge=R?!pe.some(ve=>be(G,ve)):X}else R?(ge=(await Promise.all(pe.map(async G=>{const ve=be(n,G);return await z(ve&&ve._f?{[G]:ve}:ve)}))).every(Boolean),!(!ge&&!r.isValid)&&k()):ge=X=await z(n);return v.state.next({...!bi(R)||(h.isValid||p.isValid)&&X!==r.isValid?{}:{name:R},...t.resolver||!R?{isValid:X}:{},errors:r.errors}),K.shouldFocus&&!ge&&Ql(n,ce,R?pe:u.mount),ge},D=R=>{const K={...l.mount?s:i};return Ft(R)?K:bi(R)?be(K,R):R.map(X=>be(K,X))},te=(R,K)=>({invalid:!!be((K||r).errors,R),isDirty:!!be((K||r).dirtyFields,R),error:be((K||r).errors,R),isValidating:!!be(r.validatingFields,R),isTouched:!!be((K||r).touchedFields,R)}),_e=R=>{R&&Xl(R).forEach(K=>Xt(r.errors,K)),v.state.next({errors:R?r.errors:{}})},ne=(R,K,X)=>{const ge=(be(n,R,{_f:{}})._f||{}).ref,pe=be(r.errors,R)||{},{ref:G,message:ve,type:Fe,...rt}=pe;pt(r.errors,R,{...rt,...K,ref:ge}),v.state.next({name:R,errors:r.errors,isValid:!1}),X&&X.shouldFocus&&ge&&ge.focus&&ge.focus()},ke=(R,K)=>ti(R)?v.state.subscribe({next:X=>R(Q(void 0,K),X)}):Q(R,K,!0),Me=R=>v.state.subscribe({next:K=>{XR(R.name,K.name,R.exact)&&JR(K,R.formState||h,Rt,R.reRenderRoot)&&R.callback({values:{...s},...r,...K})}}).unsubscribe,Je=R=>(l.mount=!0,p={...p,...R.formState},Me({...R,formState:p})),ue=(R,K={})=>{for(const X of R?Xl(R):u.mount)u.mount.delete(X),u.array.delete(X),K.keepValue||(Xt(n,X),Xt(s,X)),!K.keepError&&Xt(r.errors,X),!K.keepDirty&&Xt(r.dirtyFields,X),!K.keepTouched&&Xt(r.touchedFields,X),!K.keepIsValidating&&Xt(r.validatingFields,X),!t.shouldUnregister&&!K.keepDefaultValue&&Xt(i,X);v.state.next({values:pr(s)}),v.state.next({...r,...K.keepDirty?{isDirty:ee()}:{}}),!K.keepIsValid&&k()},Oe=({disabled:R,name:K})=>{(an(R)&&l.mount||R||u.disabled.has(K))&&(R?u.disabled.add(K):u.disabled.delete(K))},oe=(R,K={})=>{let X=be(n,R);const ge=an(K.disabled)||an(t.disabled);return pt(n,R,{...X||{},_f:{...X&&X._f?X._f:{ref:{name:R}},name:R,mount:!0,...K}}),u.mount.add(R),X?Oe({disabled:an(K.disabled)?K.disabled:t.disabled,name:R}):I(R,!0,K.value),{...ge?{disabled:K.disabled||t.disabled}:{},...t.progressive?{required:!!K.required,min:Il(K.min),max:Il(K.max),minLength:Il(K.minLength),maxLength:Il(K.maxLength),pattern:Il(K.pattern)}:{},name:R,onChange:le,onBlur:le,ref:pe=>{if(pe){oe(R,K),X=be(n,R);const G=Ft(pe.value)&&pe.querySelectorAll&&pe.querySelectorAll("input,select,textarea")[0]||pe,ve=qR(G),Fe=X._f.refs||[];if(ve?Fe.find(rt=>rt===G):G===X._f.ref)return;pt(n,R,{_f:{...X._f,...ve?{refs:[...Fe.filter(tp),G,...Array.isArray(be(i,R))?[{}]:[]],ref:{type:G.type,name:R}}:{ref:G}}}),I(R,!1,void 0,G)}else X=be(n,R,{}),X._f&&(X._f.mount=!1),(t.shouldUnregister||K.shouldUnregister)&&!(eN(u.array,R)&&l.action)&&u.unMount.add(R)}}},Z=()=>t.shouldFocusError&&Ql(n,ce,u.mount),Ee=R=>{an(R)&&(v.state.next({disabled:R}),Ql(n,(K,X)=>{const ge=be(n,X);ge&&(K.disabled=ge._f.disabled||R,Array.isArray(ge._f.refs)&&ge._f.refs.forEach(pe=>{pe.disabled=ge._f.disabled||R}))},0,!1))},Ye=(R,K)=>async X=>{let ge;X&&(X.preventDefault&&X.preventDefault(),X.persist&&X.persist());let pe=pr(s);if(v.state.next({isSubmitting:!0}),t.resolver){const{errors:G,values:ve}=await q();r.errors=G,pe=ve}else await z(n);if(u.disabled.size)for(const G of u.disabled)pt(pe,G,void 0);if(Xt(r.errors,"root"),Or(r.errors)){v.state.next({errors:{}});try{await R(pe,X)}catch(G){ge=G}}else K&&await K({...r.errors},X),Z(),setTimeout(Z);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Or(r.errors)&&!ge,submitCount:r.submitCount+1,errors:r.errors}),ge)throw ge},Nt=(R,K={})=>{be(n,R)&&(Ft(K.defaultValue)?re(R,pr(be(i,R))):(re(R,K.defaultValue),pt(i,R,pr(K.defaultValue))),K.keepTouched||Xt(r.touchedFields,R),K.keepDirty||(Xt(r.dirtyFields,R),r.isDirty=K.defaultValue?ee(R,pr(be(i,R))):ee()),K.keepError||(Xt(r.errors,R),h.isValid&&k()),v.state.next({...r}))},mt=(R,K={})=>{const X=R?pr(R):i,ge=pr(X),pe=Or(R),G=pe?i:ge;if(K.keepDefaultValues||(i=X),!K.keepValues){if(K.keepDirtyValues){const ve=new Set([...u.mount,...Object.keys(Tl(i,s))]);for(const Fe of Array.from(ve))be(r.dirtyFields,Fe)?pt(G,Fe,be(s,Fe)):re(Fe,be(G,Fe))}else{if(sy&&Ft(R))for(const ve of u.mount){const Fe=be(n,ve);if(Fe&&Fe._f){const rt=Array.isArray(Fe._f.refs)?Fe._f.refs[0]:Fe._f.ref;if(Cd(rt)){const ft=rt.closest("form");if(ft){ft.reset();break}}}}for(const ve of u.mount)re(ve,be(G,ve))}s=pr(G),v.array.next({values:{...G}}),v.state.next({values:{...G}})}u={mount:K.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!h.isValid||!!K.keepIsValid||!!K.keepDirtyValues,l.watch=!!t.shouldUnregister,v.state.next({submitCount:K.keepSubmitCount?r.submitCount:0,isDirty:pe?!1:K.keepDirty?r.isDirty:!!(K.keepDefaultValues&&!Ps(R,i)),isSubmitted:K.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:pe?{}:K.keepDirtyValues?K.keepDefaultValues&&s?Tl(i,s):r.dirtyFields:K.keepDefaultValues&&R?Tl(i,R):K.keepDirty?r.dirtyFields:{},touchedFields:K.keepTouched?r.touchedFields:{},errors:K.keepErrors?r.errors:{},isSubmitSuccessful:K.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Dt=(R,K)=>mt(ti(R)?R(s):R,K),vn=(R,K={})=>{const X=be(n,R),ge=X&&X._f;if(ge){const pe=ge.refs?ge.refs[0]:ge.ref;pe.focus&&(pe.focus(),K.shouldSelect&&ti(pe.select)&&pe.select())}},Rt=R=>{r={...r,...R}},Ht={control:{register:oe,unregister:ue,getFieldState:te,handleSubmit:Ye,setError:ne,_subscribe:Me,_runSchema:q,_getWatch:Q,_getDirty:ee,_setValid:k,_setFieldArray:E,_setDisabledField:Oe,_setErrors:O,_getFieldArray:ae,_reset:mt,_resetDefaultValues:()=>ti(t.defaultValues)&&t.defaultValues().then(R=>{Dt(R,t.resetOptions),v.state.next({isLoading:!1})}),_removeUnmounted:V,_disableForm:Ee,_subjects:v,_proxyFormState:h,get _fields(){return n},get _formValues(){return s},get _state(){return l},set _state(R){l=R},get _defaultValues(){return i},get _names(){return u},set _names(R){u=R},get _formState(){return r},get _options(){return t},set _options(R){t={...t,...R}}},subscribe:Je,trigger:M,register:oe,handleSubmit:Ye,watch:ke,setValue:re,getValues:D,reset:Dt,resetField:Nt,clearErrors:_e,unregister:ue,setError:ne,setFocus:vn,getFieldState:te};return{...Ht,formControl:Ht}}function wc(e={}){const t=Qe.useRef(void 0),r=Qe.useRef(void 0),[n,i]=Qe.useState({isDirty:!1,isValidating:!1,isLoading:ti(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:ti(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:rM(e),formState:n},e.formControl&&e.defaultValues&&!ti(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const s=t.current.control;return s._options=e,Qe.useLayoutEffect(()=>s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0}),[s]),Qe.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),Qe.useEffect(()=>{if(s._proxyFormState.isDirty){const l=s._getDirty();l!==n.isDirty&&s._subjects.state.next({isDirty:l})}},[s,n.isDirty]),Qe.useEffect(()=>{e.values&&!Ps(e.values,r.current)?(s._reset(e.values,s._options.resetOptions),r.current=e.values,i(l=>({...l}))):s._resetDefaultValues()},[e.values,s]),Qe.useEffect(()=>{e.errors&&!Or(e.errors)&&s._setErrors(e.errors)},[e.errors,s]),Qe.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),Qe.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[e.shouldUnregister,s]),t.current.formState=rN(n,s),t.current}function uN(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=uN(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function kt(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=uN(e))&&(n&&(n+=" "),n+=t);return n}var rp={},np={},g1;function nM(){return g1||(g1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(np)),np}var ip={},v1;function dN(){return v1||(v1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(ip)),ip}var sp={},y1;function fN(){return y1||(y1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(sp)),sp}var ap={},x1;function uy(){return x1||(x1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],i=r.length;if(i===0)return n;let s=0,l="",u="",f=!1;for(r.charCodeAt(0)===46&&(n.push(""),s++);s<i;){const m=r[s];u?m==="\\"&&s+1<i?(s++,l+=r[s]):m===u?u="":l+=m:f?m==='"'||m==="'"?u=m:m==="]"?(f=!1,n.push(l),l=""):l+=m:m==="["?(f=!0,l&&(n.push(l),l="")):m==="."?l&&(n.push(l),l=""):l+=m,s++}return l&&n.push(l),n}e.toPath=t})(ap)),ap}var w1;function dy(){return w1||(w1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nM(),r=dN(),n=fN(),i=uy();function s(u,f,m){if(u==null)return m;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return m;const h=u[f];return h===void 0?r.isDeepKey(f)?s(u,i.toPath(f),m):m:h}case"number":case"symbol":{typeof f=="number"&&(f=n.toKey(f));const h=u[f];return h===void 0?m:h}default:{if(Array.isArray(f))return l(u,f,m);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return m;const h=u[f];return h===void 0?m:h}}}function l(u,f,m){if(f.length===0)return m;let h=u;for(let p=0;p<f.length;p++){if(h==null||t.isUnsafeProperty(f[p]))return m;h=h[f[p]]}return h===void 0?m:h}e.get=s})(rp)),rp}var op,b1;function iM(){return b1||(b1=1,op=dy().get),op}var sM=iM();const xo=ai(sM);var lp={exports:{}},ht={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _1;function aM(){if(_1)return ht;_1=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),w=Symbol.for("react.client.reference");function S(_){if(typeof _=="object"&&_!==null){var x=_.$$typeof;switch(x){case e:switch(_=_.type,_){case r:case i:case n:case f:case m:case v:return _;default:switch(_=_&&_.$$typeof,_){case l:case u:case p:case h:return _;case s:return _;default:return x}}case t:return x}}}return ht.ContextConsumer=s,ht.ContextProvider=l,ht.Element=e,ht.ForwardRef=u,ht.Fragment=r,ht.Lazy=p,ht.Memo=h,ht.Portal=t,ht.Profiler=i,ht.StrictMode=n,ht.Suspense=f,ht.SuspenseList=m,ht.isContextConsumer=function(_){return S(_)===s},ht.isContextProvider=function(_){return S(_)===l},ht.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===e},ht.isForwardRef=function(_){return S(_)===u},ht.isFragment=function(_){return S(_)===r},ht.isLazy=function(_){return S(_)===p},ht.isMemo=function(_){return S(_)===h},ht.isPortal=function(_){return S(_)===t},ht.isProfiler=function(_){return S(_)===i},ht.isStrictMode=function(_){return S(_)===n},ht.isSuspense=function(_){return S(_)===f},ht.isSuspenseList=function(_){return S(_)===m},ht.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===r||_===i||_===n||_===f||_===m||typeof _=="object"&&_!==null&&(_.$$typeof===p||_.$$typeof===h||_.$$typeof===l||_.$$typeof===s||_.$$typeof===u||_.$$typeof===w||_.getModuleId!==void 0)},ht.typeOf=S,ht}var j1;function oM(){return j1||(j1=1,lp.exports=aM()),lp.exports}var lM=oM(),un=e=>e===0?0:e>0?1:-1,$n=e=>typeof e=="number"&&e!=+e,ua=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ge=e=>(typeof e=="number"||e instanceof Number)&&!$n(e),ki=e=>Ge(e)||typeof e=="string",cM=0,ic=e=>{var t=++cM;return"".concat(e||"").concat(t)},si=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ge(t)&&typeof t!="string")return n;var s;if(ua(t)){if(r==null)return n;var l=t.indexOf("%");s=r*parseFloat(t.slice(0,l))/100}else s=+t;return $n(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},hN=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function Ir(e,t,r){return Ge(e)&&Ge(t)?e+r*(t-e):t}function uM(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):xo(n,t))===r)}var or=e=>e===null||typeof e>"u",bc=e=>or(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),dM=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function fy(e){if(typeof e!="string")return!1;var t=dM;return t.includes(e)}var fM=["viewBox","children"],S1=["points","pathLength"],cp={svg:fM,polygon:S1,polyline:S1},hM=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(b.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{fy(i)&&(n[i]=(s=>r[i](r,s)))}),n},mM=(e,t,r)=>n=>(e(t,r,n),null),hy=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var s=e[i];fy(i)&&typeof s=="function"&&(n||(n={}),n[i]=mM(s,t,r))}),n},pM=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function mN(e){if(typeof e!="string")return!1;var t=pM;return t.includes(e)}function _c(e){var t=Object.entries(e).filter(r=>{var[n]=r;return mN(n)});return Object.fromEntries(t)}var k1=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",N1=null,up=null,pN=e=>{if(e===N1&&Array.isArray(up))return up;var t=[];return b.Children.forEach(e,r=>{or(r)||(lM.isFragment(r)?t=t.concat(pN(r.props.children)):t.push(r))}),up=t,N1=e,t};function gM(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>k1(i)):n=[k1(t)],pN(e).forEach(i=>{var s=xo(i,"type.displayName")||xo(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}var vM=(e,t,r,n)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var s=(i=n&&(cp==null?void 0:cp[n]))!==null&&i!==void 0?i:[],l=t.startsWith("data-"),u=typeof e!="function"&&(!!n&&s.includes(t)||mN(t)),f=!!r&&fy(t);return l||u||f},wr=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(b.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(s=>{var l;vM((l=n)===null||l===void 0?void 0:l[s],s,t,r)&&(i[s]=n[s])}),i},yM=["children","width","height","viewBox","className","style","title","desc"];function tv(){return tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tv.apply(null,arguments)}function xM(e,t){if(e==null)return{};var r,n,i=wM(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function wM(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gN=b.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:s,className:l,style:u,title:f,desc:m}=e,h=xM(e,yM),p=s||{width:n,height:i,x:0,y:0},v=kt("recharts-surface",l);return b.createElement("svg",tv({},wr(h,!0,"svg"),{className:v,width:n,height:i,style:u,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),b.createElement("title",null,f),b.createElement("desc",null,m),r)}),bM=["children","className"];function rv(){return rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rv.apply(null,arguments)}function _M(e,t){if(e==null)return{};var r,n,i=jM(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function jM(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ds=b.forwardRef((e,t)=>{var{children:r,className:n}=e,i=_M(e,bM),s=kt("recharts-layer",n);return b.createElement("g",rv({className:s},wr(i,!0),{ref:t}),r)}),SM=b.createContext(null);function wt(e){return function(){return e}}const vN=Math.cos,Td=Math.sin,li=Math.sqrt,Id=Math.PI,kf=2*Id,nv=Math.PI,iv=2*nv,ra=1e-6,kM=iv-ra;function yN(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function NM(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return yN;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class EM{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?yN:NM(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,l){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,u=this._y1,f=n-t,m=i-r,h=l-t,p=u-r,v=h*h+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>ra)if(!(Math.abs(p*f-m*h)>ra)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let w=n-l,S=i-u,_=f*f+m*m,x=w*w+S*S,k=Math.sqrt(_),N=Math.sqrt(v),E=s*Math.tan((nv-Math.acos((_+v-x)/(2*k*N)))/2),C=E/N,O=E/k;Math.abs(C-1)>ra&&this._append`L${t+C*h},${r+C*p}`,this._append`A${s},${s},0,0,${+(p*w>h*S)},${this._x1=t+O*f},${this._y1=r+O*m}`}}arc(t,r,n,i,s,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),f=n*Math.sin(i),m=t+u,h=r+f,p=1^l,v=l?i-s:s-i;this._x1===null?this._append`M${m},${h}`:(Math.abs(this._x1-m)>ra||Math.abs(this._y1-h)>ra)&&this._append`L${m},${h}`,n&&(v<0&&(v=v%iv+iv),v>kM?this._append`A${n},${n},0,1,${p},${t-u},${r-f}A${n},${n},0,1,${p},${this._x1=m},${this._y1=h}`:v>ra&&this._append`A${n},${n},0,${+(v>=nv)},${p},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function my(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new EM(t)}function py(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function xN(e){this._context=e}xN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Nf(e){return new xN(e)}function wN(e){return e[0]}function bN(e){return e[1]}function _N(e,t){var r=wt(!0),n=null,i=Nf,s=null,l=my(u);e=typeof e=="function"?e:e===void 0?wN:wt(e),t=typeof t=="function"?t:t===void 0?bN:wt(t);function u(f){var m,h=(f=py(f)).length,p,v=!1,w;for(n==null&&(s=i(w=l())),m=0;m<=h;++m)!(m<h&&r(p=f[m],m,f))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+e(p,m,f),+t(p,m,f));if(w)return s=null,w+""||null}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:wt(+f),u):e},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:wt(+f),u):t},u.defined=function(f){return arguments.length?(r=typeof f=="function"?f:wt(!!f),u):r},u.curve=function(f){return arguments.length?(i=f,n!=null&&(s=i(n)),u):i},u.context=function(f){return arguments.length?(f==null?n=s=null:s=i(n=f),u):n},u}function Ju(e,t,r){var n=null,i=wt(!0),s=null,l=Nf,u=null,f=my(m);e=typeof e=="function"?e:e===void 0?wN:wt(+e),t=typeof t=="function"?t:wt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?bN:wt(+r);function m(p){var v,w,S,_=(p=py(p)).length,x,k=!1,N,E=new Array(_),C=new Array(_);for(s==null&&(u=l(N=f())),v=0;v<=_;++v){if(!(v<_&&i(x=p[v],v,p))===k)if(k=!k)w=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=v-1;S>=w;--S)u.point(E[S],C[S]);u.lineEnd(),u.areaEnd()}k&&(E[v]=+e(x,v,p),C[v]=+t(x,v,p),u.point(n?+n(x,v,p):E[v],r?+r(x,v,p):C[v]))}if(N)return u=null,N+""||null}function h(){return _N().defined(i).curve(l).context(s)}return m.x=function(p){return arguments.length?(e=typeof p=="function"?p:wt(+p),n=null,m):e},m.x0=function(p){return arguments.length?(e=typeof p=="function"?p:wt(+p),m):e},m.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:wt(+p),m):n},m.y=function(p){return arguments.length?(t=typeof p=="function"?p:wt(+p),r=null,m):t},m.y0=function(p){return arguments.length?(t=typeof p=="function"?p:wt(+p),m):t},m.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:wt(+p),m):r},m.lineX0=m.lineY0=function(){return h().x(e).y(t)},m.lineY1=function(){return h().x(e).y(r)},m.lineX1=function(){return h().x(n).y(t)},m.defined=function(p){return arguments.length?(i=typeof p=="function"?p:wt(!!p),m):i},m.curve=function(p){return arguments.length?(l=p,s!=null&&(u=l(s)),m):l},m.context=function(p){return arguments.length?(p==null?s=u=null:u=l(s=p),m):s},m}class jN{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function AM(e){return new jN(e,!0)}function CM(e){return new jN(e,!1)}const gy={draw(e,t){const r=li(t/Id);e.moveTo(r,0),e.arc(0,0,r,0,kf)}},PM={draw(e,t){const r=li(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},SN=li(1/3),OM=SN*2,TM={draw(e,t){const r=li(t/OM),n=r*SN;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},IM={draw(e,t){const r=li(t),n=-r/2;e.rect(n,n,r,r)}},DM=.8908130915292852,kN=Td(Id/10)/Td(7*Id/10),RM=Td(kf/10)*kN,MM=-vN(kf/10)*kN,$M={draw(e,t){const r=li(t*DM),n=RM*r,i=MM*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const l=kf*s/5,u=vN(l),f=Td(l);e.lineTo(f*r,-u*r),e.lineTo(u*n-f*i,f*n+u*i)}e.closePath()}},dp=li(3),LM={draw(e,t){const r=-li(t/(dp*3));e.moveTo(0,r*2),e.lineTo(-dp*r,-r),e.lineTo(dp*r,-r),e.closePath()}},Pn=-.5,On=li(3)/2,sv=1/li(12),FM=(sv/2+1)*3,UM={draw(e,t){const r=li(t/FM),n=r/2,i=r*sv,s=n,l=r*sv+r,u=-s,f=l;e.moveTo(n,i),e.lineTo(s,l),e.lineTo(u,f),e.lineTo(Pn*n-On*i,On*n+Pn*i),e.lineTo(Pn*s-On*l,On*s+Pn*l),e.lineTo(Pn*u-On*f,On*u+Pn*f),e.lineTo(Pn*n+On*i,Pn*i-On*n),e.lineTo(Pn*s+On*l,Pn*l-On*s),e.lineTo(Pn*u+On*f,Pn*f-On*u),e.closePath()}};function zM(e,t){let r=null,n=my(i);e=typeof e=="function"?e:wt(e||gy),t=typeof t=="function"?t:wt(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:wt(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:wt(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function Dd(){}function Rd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function NN(e){this._context=e}NN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Rd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Rd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function BM(e){return new NN(e)}function EN(e){this._context=e}EN.prototype={areaStart:Dd,areaEnd:Dd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Rd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function VM(e){return new EN(e)}function AN(e){this._context=e}AN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Rd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function qM(e){return new AN(e)}function CN(e){this._context=e}CN.prototype={areaStart:Dd,areaEnd:Dd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function WM(e){return new CN(e)}function E1(e){return e<0?-1:1}function A1(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),l=(r-e._y1)/(i||n<0&&-0),u=(s*i+l*n)/(n+i);return(E1(s)+E1(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(u))||0}function C1(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function fp(e,t,r){var n=e._x0,i=e._y0,s=e._x1,l=e._y1,u=(s-n)/3;e._context.bezierCurveTo(n+u,i+u*t,s-u,l-u*r,s,l)}function Md(e){this._context=e}Md.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:fp(this,this._t0,C1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,fp(this,C1(this,r=A1(this,e,t)),r);break;default:fp(this,this._t0,r=A1(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function PN(e){this._context=new ON(e)}(PN.prototype=Object.create(Md.prototype)).point=function(e,t){Md.prototype.point.call(this,t,e)};function ON(e){this._context=e}ON.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function KM(e){return new Md(e)}function HM(e){return new PN(e)}function TN(e){this._context=e}TN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=P1(e),i=P1(t),s=0,l=1;l<r;++s,++l)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function P1(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),l=new Array(r);for(i[0]=0,s[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,l[t]-=n*l[t-1];for(i[r-1]=l[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(l[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function YM(e){return new TN(e)}function Ef(e,t){this._context=e,this._t=t}Ef.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function GM(e){return new Ef(e,.5)}function JM(e){return new Ef(e,0)}function XM(e){return new Ef(e,1)}function wo(e,t){if((l=e.length)>1)for(var r=1,n,i,s=e[t[0]],l,u=s.length;r<l;++r)for(i=s,s=e[t[r]],n=0;n<u;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function av(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function QM(e,t){return e[t]}function ZM(e){const t=[];return t.key=e,t}function e$(){var e=wt([]),t=av,r=wo,n=QM;function i(s){var l=Array.from(e.apply(this,arguments),ZM),u,f=l.length,m=-1,h;for(const p of s)for(u=0,++m;u<f;++u)(l[u][m]=[0,+n(p,l[u].key,m,s)]).data=p;for(u=0,h=py(t(l));u<f;++u)l[h[u]].index=u;return r(l,h),l}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:wt(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:wt(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?av:typeof s=="function"?s:wt(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??wo,i):r},i}function t$(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,l;i<s;++i){for(l=r=0;r<n;++r)l+=e[r][i][1]||0;if(l)for(r=0;r<n;++r)e[r][i][1]/=l}wo(e,t)}}function r$(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var l=0,u=0;l<i;++l)u+=e[l][r][1]||0;n[r][1]+=n[r][0]=-u/2}wo(e,t)}}function n$(e,t){if(!(!((l=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,l;n<s;++n){for(var u=0,f=0,m=0;u<l;++u){for(var h=e[t[u]],p=h[n][1]||0,v=h[n-1][1]||0,w=(p-v)/2,S=0;S<u;++S){var _=e[t[S]],x=_[n][1]||0,k=_[n-1][1]||0;w+=x-k}f+=p,m+=w*p}i[n-1][1]+=i[n-1][0]=r,f&&(r-=m/f)}i[n-1][1]+=i[n-1][0]=r,wo(e,t)}}var i$=["type","size","sizeType"];function ov(){return ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ov.apply(null,arguments)}function O1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function T1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O1(Object(r),!0).forEach(function(n){s$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function s$(e,t,r){return(t=a$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a$(e){var t=o$(e,"string");return typeof t=="symbol"?t:t+""}function o$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l$(e,t){if(e==null)return{};var r,n,i=c$(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function c$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var IN={symbolCircle:gy,symbolCross:PM,symbolDiamond:TM,symbolSquare:IM,symbolStar:$M,symbolTriangle:LM,symbolWye:UM},u$=Math.PI/180,d$=e=>{var t="symbol".concat(bc(e));return IN[t]||gy},f$=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*u$;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},h$=(e,t)=>{IN["symbol".concat(bc(e))]=t},DN=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=l$(e,i$),s=T1(T1({},i),{},{type:t,size:r,sizeType:n}),l="circle";typeof t=="string"&&(l=t);var u=()=>{var v=d$(l),w=zM().type(v).size(f$(r,n,l));return w()},{className:f,cx:m,cy:h}=s,p=wr(s,!0);return m===+m&&h===+h&&r===+r?b.createElement("path",ov({},p,{className:kt("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(h,")"),d:u()})):null};DN.registerSymbol=h$;var hp={},mp={},I1;function m$(){return I1||(I1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let s=0;s<r.length;s++){const l=r[s],u=n(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}e.uniqBy=t})(mp)),mp}var pp={},D1;function RN(){return D1||(D1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(pp)),pp}var gp={},vp={},yp={},R1;function p$(){return R1||(R1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(yp)),yp}var M1;function vy(){return M1||(M1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p$();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(vp)),vp}var xp={},$1;function g$(){return $1||($1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(xp)),xp}var L1;function v$(){return L1||(L1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vy(),r=g$();function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(gp)),gp}var wp={},bp={},F1;function y$(){return F1||(F1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dy();function r(n){return function(i){return t.get(i,n)}}e.property=r})(bp)),bp}var _p={},jp={},Sp={},kp={},U1;function MN(){return U1||(U1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(kp)),kp}var Np={},z1;function $N(){return z1||(z1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Np)),Np}var Ep={},B1;function LN(){return B1||(B1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Ep)),Ep}var V1;function x$(){return V1||(V1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yy(),r=MN(),n=$N(),i=LN();function s(p,v,w){return typeof w!="function"?t.isMatch(p,v):l(p,v,function S(_,x,k,N,E,C){const O=w(_,x,k,N,E,C);return O!==void 0?!!O:l(_,x,S,C)},new Map)}function l(p,v,w,S){if(v===p)return!0;switch(typeof v){case"object":return u(p,v,w,S);case"function":return Object.keys(v).length>0?l(p,{...v},w,S):i.eq(p,v);default:return r.isObject(p)?typeof v=="string"?v==="":!0:i.eq(p,v)}}function u(p,v,w,S){if(v==null)return!0;if(Array.isArray(v))return m(p,v,w,S);if(v instanceof Map)return f(p,v,w,S);if(v instanceof Set)return h(p,v,w,S);const _=Object.keys(v);if(p==null)return _.length===0;if(_.length===0)return!0;if(S&&S.has(v))return S.get(v)===p;S&&S.set(v,p);try{for(let x=0;x<_.length;x++){const k=_[x];if(!n.isPrimitive(p)&&!(k in p)||v[k]===void 0&&p[k]!==void 0||v[k]===null&&p[k]!==null||!w(p[k],v[k],k,p,v,S))return!1}return!0}finally{S&&S.delete(v)}}function f(p,v,w,S){if(v.size===0)return!0;if(!(p instanceof Map))return!1;for(const[_,x]of v.entries()){const k=p.get(_);if(w(k,x,_,p,v,S)===!1)return!1}return!0}function m(p,v,w,S){if(v.length===0)return!0;if(!Array.isArray(p))return!1;const _=new Set;for(let x=0;x<v.length;x++){const k=v[x];let N=!1;for(let E=0;E<p.length;E++){if(_.has(E))continue;const C=p[E];let O=!1;if(w(C,k,x,p,v,S)&&(O=!0),O){_.add(E),N=!0;break}}if(!N)return!1}return!0}function h(p,v,w,S){return v.size===0?!0:p instanceof Set?m([...p],[...v],w,S):!1}e.isMatchWith=s,e.isSetMatch=h})(Sp)),Sp}var q1;function yy(){return q1||(q1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x$();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(jp)),jp}var Ap={},Cp={},Pp={},W1;function w$(){return W1||(W1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Pp)),Pp}var Op={},K1;function FN(){return K1||(K1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Op)),Op}var Tp={},H1;function UN(){return H1||(H1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",l="[object Symbol]",u="[object Date]",f="[object Map]",m="[object Set]",h="[object Array]",p="[object Function]",v="[object ArrayBuffer]",w="[object Object]",S="[object Error]",_="[object DataView]",x="[object Uint8Array]",k="[object Uint8ClampedArray]",N="[object Uint16Array]",E="[object Uint32Array]",C="[object BigUint64Array]",O="[object Int8Array]",I="[object Int16Array]",L="[object Int32Array]",Y="[object BigInt64Array]",q="[object Float32Array]",U="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=v,e.arrayTag=h,e.bigInt64ArrayTag=Y,e.bigUint64ArrayTag=C,e.booleanTag=i,e.dataViewTag=_,e.dateTag=u,e.errorTag=S,e.float32ArrayTag=q,e.float64ArrayTag=U,e.functionTag=p,e.int16ArrayTag=I,e.int32ArrayTag=L,e.int8ArrayTag=O,e.mapTag=f,e.numberTag=n,e.objectTag=w,e.regexpTag=t,e.setTag=m,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=N,e.uint32ArrayTag=E,e.uint8ArrayTag=x,e.uint8ClampedArrayTag=k})(Tp)),Tp}var Ip={},Y1;function b$(){return Y1||(Y1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Ip)),Ip}var G1;function zN(){return G1||(G1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w$(),r=FN(),n=UN(),i=$N(),s=b$();function l(h,p){return u(h,void 0,h,new Map,p)}function u(h,p,v,w=new Map,S=void 0){const _=S==null?void 0:S(h,p,v,w);if(_!==void 0)return _;if(i.isPrimitive(h))return h;if(w.has(h))return w.get(h);if(Array.isArray(h)){const x=new Array(h.length);w.set(h,x);for(let k=0;k<h.length;k++)x[k]=u(h[k],k,v,w,S);return Object.hasOwn(h,"index")&&(x.index=h.index),Object.hasOwn(h,"input")&&(x.input=h.input),x}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const x=new RegExp(h.source,h.flags);return x.lastIndex=h.lastIndex,x}if(h instanceof Map){const x=new Map;w.set(h,x);for(const[k,N]of h)x.set(k,u(N,k,v,w,S));return x}if(h instanceof Set){const x=new Set;w.set(h,x);for(const k of h)x.add(u(k,void 0,v,w,S));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(s.isTypedArray(h)){const x=new(Object.getPrototypeOf(h)).constructor(h.length);w.set(h,x);for(let k=0;k<h.length;k++)x[k]=u(h[k],k,v,w,S);return x}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const x=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return w.set(h,x),f(x,h,v,w,S),x}if(typeof File<"u"&&h instanceof File){const x=new File([h],h.name,{type:h.type});return w.set(h,x),f(x,h,v,w,S),x}if(h instanceof Blob){const x=new Blob([h],{type:h.type});return w.set(h,x),f(x,h,v,w,S),x}if(h instanceof Error){const x=new h.constructor;return w.set(h,x),x.message=h.message,x.name=h.name,x.stack=h.stack,x.cause=h.cause,f(x,h,v,w,S),x}if(typeof h=="object"&&m(h)){const x=Object.create(Object.getPrototypeOf(h));return w.set(h,x),f(x,h,v,w,S),x}return h}function f(h,p,v=h,w,S){const _=[...Object.keys(p),...t.getSymbols(p)];for(let x=0;x<_.length;x++){const k=_[x],N=Object.getOwnPropertyDescriptor(h,k);(N==null||N.writable)&&(h[k]=u(p[k],k,v,w,S))}}function m(h){switch(r.getTag(h)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=u,e.copyProperties=f})(Cp)),Cp}var J1;function _$(){return J1||(J1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zN();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(Ap)),Ap}var X1;function j$(){return X1||(X1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yy(),r=_$();function n(i){return i=r.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=n})(_p)),_p}var Dp={},Rp={},Mp={},Q1;function S$(){return Q1||(Q1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zN(),r=UN();function n(i,s){return t.cloneDeepWith(i,(l,u,f,m)=>{const h=s==null?void 0:s(l,u,f,m);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(p,i),p}case r.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}e.cloneDeepWith=n})(Mp)),Mp}var Z1;function k$(){return Z1||(Z1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S$();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Rp)),Rp}var $p={},Lp={},e_;function BN(){return e_||(e_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Lp)),Lp}var Fp={},t_;function N$(){return t_||(t_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FN();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Fp)),Fp}var r_;function E$(){return r_||(r_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dN(),r=BN(),n=N$(),i=uy();function s(l,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&t.isDeepKey(u)&&(l==null?void 0:l[u])==null?f=i.toPath(u):f=[u],f.length===0)return!1;let m=l;for(let h=0;h<f.length;h++){const p=f[h];if((m==null||!Object.hasOwn(m,p))&&!((Array.isArray(m)||n.isArguments(m))&&r.isIndex(p)&&p<m.length))return!1;m=m[p]}return!0}e.has=s})($p)),$p}var n_;function A$(){return n_||(n_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yy(),r=fN(),n=k$(),i=dy(),s=E$();function l(u,f){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=r.toKey(u);break}}return f=n.cloneDeep(f),function(m){const h=i.get(m,u);return h===void 0?s.has(m,u):f===void 0?h===void 0:t.isMatch(h,f)}}e.matchesProperty=l})(Dp)),Dp}var i_;function C$(){return i_||(i_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RN(),r=y$(),n=j$(),i=A$();function s(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=s})(wp)),wp}var s_;function P$(){return s_||(s_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m$(),r=RN(),n=v$(),i=C$();function s(l,u=r.identity){return n.isArrayLikeObject(l)?t.uniqBy(Array.from(l),i.iteratee(u)):[]}e.uniqBy=s})(hp)),hp}var Up,a_;function O$(){return a_||(a_=1,Up=P$().uniqBy),Up}var T$=O$();const o_=ai(T$);function I$(e,t,r){return t===!0?o_(e,r):typeof t=="function"?o_(e,t):e}var zp={exports:{}},Bp={},Vp={exports:{}},qp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function D$(){if(l_)return qp;l_=1;var e=Po();function t(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,s=e.useLayoutEffect,l=e.useDebugValue;function u(p,v){var w=v(),S=n({inst:{value:w,getSnapshot:v}}),_=S[0].inst,x=S[1];return s(function(){_.value=w,_.getSnapshot=v,f(_)&&x({inst:_})},[p,w,v]),i(function(){return f(_)&&x({inst:_}),p(function(){f(_)&&x({inst:_})})},[p]),l(w),w}function f(p){var v=p.getSnapshot;p=p.value;try{var w=v();return!r(p,w)}catch{return!0}}function m(p,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:u;return qp.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,qp}var c_;function R$(){return c_||(c_=1,Vp.exports=D$()),Vp.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_;function M$(){if(u_)return Bp;u_=1;var e=Po(),t=R$();function r(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,s=e.useRef,l=e.useEffect,u=e.useMemo,f=e.useDebugValue;return Bp.useSyncExternalStoreWithSelector=function(m,h,p,v,w){var S=s(null);if(S.current===null){var _={hasValue:!1,value:null};S.current=_}else _=S.current;S=u(function(){function k(I){if(!N){if(N=!0,E=I,I=v(I),w!==void 0&&_.hasValue){var L=_.value;if(w(L,I))return C=L}return C=I}if(L=C,n(E,I))return L;var Y=v(I);return w!==void 0&&w(L,Y)?(E=I,L):(E=I,C=Y)}var N=!1,E,C,O=p===void 0?null:p;return[function(){return k(h())},O===null?void 0:function(){return k(O())}]},[h,p,v,w]);var x=i(m,S[0],S[1]);return l(function(){_.hasValue=!0,_.value=x},[x]),f(x),x},Bp}var d_;function $$(){return d_||(d_=1,zp.exports=M$()),zp.exports}var L$=$$(),xy=b.createContext(null),F$=e=>e,lr=()=>{var e=b.useContext(xy);return e?e.store.dispatch:F$},yd=()=>{},U$=()=>yd,z$=(e,t)=>e===t;function Ve(e){var t=b.useContext(xy);return L$.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:U$,t?t.store.getState:yd,t?t.store.getState:yd,t?e:yd,z$)}function B$(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function V$(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function q$(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var f_=e=>Array.isArray(e)?e:[e];function W$(e){const t=Array.isArray(e[0])?e[0]:e;return q$(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function K$(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var H$=class{constructor(e){this.value=e}deref(){return this.value}},Y$=typeof WeakRef<"u"?WeakRef:H$,G$=0,h_=1;function Xu(){return{s:G$,v:void 0,o:null,p:null}}function VN(e,t={}){let r=Xu();const{resultEqualityCheck:n}=t;let i,s=0;function l(){var p;let u=r;const{length:f}=arguments;for(let v=0,w=f;v<w;v++){const S=arguments[v];if(typeof S=="function"||typeof S=="object"&&S!==null){let _=u.o;_===null&&(u.o=_=new WeakMap);const x=_.get(S);x===void 0?(u=Xu(),_.set(S,u)):u=x}else{let _=u.p;_===null&&(u.p=_=new Map);const x=_.get(S);x===void 0?(u=Xu(),_.set(S,u)):u=x}}const m=u;let h;if(u.s===h_)h=u.v;else if(h=e.apply(null,arguments),s++,n){const v=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;v!=null&&n(v,h)&&(h=v,s!==0&&s--),i=typeof h=="object"&&h!==null||typeof h=="function"?new Y$(h):h}return m.s=h_,m.v=h,h}return l.clearCache=()=>{r=Xu(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function J$(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let s=0,l=0,u,f={},m=i.pop();typeof m=="object"&&(f=m,m=i.pop()),B$(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const h={...r,...f},{memoize:p,memoizeOptions:v=[],argsMemoize:w=VN,argsMemoizeOptions:S=[]}=h,_=f_(v),x=f_(S),k=W$(i),N=p(function(){return s++,m.apply(null,arguments)},..._),E=w(function(){l++;const O=K$(k,arguments);return u=N.apply(null,O),u},...x);return Object.assign(E,{resultFunc:m,memoizedResultFunc:N,dependencies:k,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:p,argsMemoize:w})};return Object.assign(n,{withTypes:()=>n}),n}var J=J$(VN),X$=Object.assign((e,t=J)=>{V$(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((l,u,f)=>(l[r[f]]=u,l),{}))},{withTypes:()=>X$}),Wp={},Kp={},Hp={},m_;function Q$(){return m_||(m_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const l=t(n),u=t(i);if(l===u&&l===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?u-l:l-u}return 0};e.compareValues=r})(Hp)),Hp}var Yp={},Gp={},p_;function qN(){return p_||(p_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Gp)),Gp}var g_;function Z$(){return g_||(g_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qN(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||l!=null&&Object.hasOwn(l,s)}e.isKey=i})(Yp)),Yp}var v_;function e3(){return v_||(v_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q$(),r=Z$(),n=uy();function i(s,l,u,f){if(s==null)return[];u=f?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(w=>String(w));const m=(w,S)=>{let _=w;for(let x=0;x<S.length&&_!=null;++x)_=_[S[x]];return _},h=(w,S)=>S==null||w==null?S:typeof w=="object"&&"key"in w?Object.hasOwn(S,w.key)?S[w.key]:m(S,w.path):typeof w=="function"?w(S):Array.isArray(w)?m(S,w):typeof S=="object"?S[w]:S,p=l.map(w=>(Array.isArray(w)&&w.length===1&&(w=w[0]),w==null||typeof w=="function"||Array.isArray(w)||r.isKey(w)?w:{key:w,path:n.toPath(w)}));return s.map(w=>({original:w,criteria:p.map(S=>h(S,w))})).slice().sort((w,S)=>{for(let _=0;_<p.length;_++){const x=t.compareValues(w.criteria[_],S.criteria[_],u[_]);if(x!==0)return x}return 0}).map(w=>w.original)}e.orderBy=i})(Kp)),Kp}var Jp={},y_;function t3(){return y_||(y_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],s=Math.floor(n),l=(u,f)=>{for(let m=0;m<u.length;m++){const h=u[m];Array.isArray(h)&&f<s?l(h,f+1):i.push(h)}};return l(r,0),i}e.flatten=t})(Jp)),Jp}var Xp={},x_;function WN(){return x_||(x_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BN(),r=vy(),n=MN(),i=LN();function s(l,u,f){return n.isObject(f)&&(typeof u=="number"&&r.isArrayLike(f)&&t.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?i.eq(f[u],l):!1}e.isIterateeCall=s})(Xp)),Xp}var w_;function r3(){return w_||(w_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=e3(),r=t3(),n=WN();function i(s,...l){const u=l.length;return u>1&&n.isIterateeCall(s,l[0],l[1])?l=[]:u>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(s,r.flatten(l),["asc"])}e.sortBy=i})(Wp)),Wp}var Qp,b_;function n3(){return b_||(b_=1,Qp=r3().sortBy),Qp}var i3=n3();const Af=ai(i3);var KN=e=>e.legend.settings,s3=e=>e.legend.size,a3=e=>e.legend.payload;J([a3,KN],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Af(n,r):n});var Qu=1;function o3(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=b.useState({height:0,left:0,top:0,width:0}),n=b.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-t.height)>Qu||Math.abs(l.left-t.left)>Qu||Math.abs(l.top-t.top)>Qu||Math.abs(l.width-t.width)>Qu)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function gr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var l3=typeof Symbol=="function"&&Symbol.observable||"@@observable",__=l3,Zp=()=>Math.random().toString(36).substring(7).split("").join("."),c3={INIT:`@@redux/INIT${Zp()}`,REPLACE:`@@redux/REPLACE${Zp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Zp()}`},$d=c3;function wy(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function HN(e,t,r){if(typeof e!="function")throw new Error(gr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(gr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(gr(1));return r(HN)(e,t)}let n=e,i=t,s=new Map,l=s,u=0,f=!1;function m(){l===s&&(l=new Map,s.forEach((x,k)=>{l.set(k,x)}))}function h(){if(f)throw new Error(gr(3));return i}function p(x){if(typeof x!="function")throw new Error(gr(4));if(f)throw new Error(gr(5));let k=!0;m();const N=u++;return l.set(N,x),function(){if(k){if(f)throw new Error(gr(6));k=!1,m(),l.delete(N),s=null}}}function v(x){if(!wy(x))throw new Error(gr(7));if(typeof x.type>"u")throw new Error(gr(8));if(typeof x.type!="string")throw new Error(gr(17));if(f)throw new Error(gr(9));try{f=!0,i=n(i,x)}finally{f=!1}return(s=l).forEach(N=>{N()}),x}function w(x){if(typeof x!="function")throw new Error(gr(10));n=x,v({type:$d.REPLACE})}function S(){const x=p;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(gr(11));function N(){const C=k;C.next&&C.next(h())}return N(),{unsubscribe:x(N)}},[__](){return this}}}return v({type:$d.INIT}),{dispatch:v,subscribe:p,getState:h,replaceReducer:w,[__]:S}}function u3(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:$d.INIT})>"u")throw new Error(gr(12));if(typeof r(void 0,{type:$d.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(gr(13))})}function YN(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const l=t[s];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let i;try{u3(r)}catch(s){i=s}return function(l={},u){if(i)throw i;let f=!1;const m={};for(let h=0;h<n.length;h++){const p=n[h],v=r[p],w=l[p],S=v(w,u);if(typeof S>"u")throw u&&u.type,new Error(gr(14));m[p]=S,f=f||S!==w}return f=f||n.length!==Object.keys(l).length,f?m:l}}function Ld(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function d3(...e){return t=>(r,n)=>{const i=t(r,n);let s=()=>{throw new Error(gr(15))};const l={getState:i.getState,dispatch:(f,...m)=>s(f,...m)},u=e.map(f=>f(l));return s=Ld(...u)(i.dispatch),{...i,dispatch:s}}}function GN(e){return wy(e)&&"type"in e&&typeof e.type=="string"}var JN=Symbol.for("immer-nothing"),j_=Symbol.for("immer-draftable"),hn=Symbol.for("immer-state");function ri(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var bo=Object.getPrototypeOf;function wa(e){return!!e&&!!e[hn]}function Yi(e){var t;return e?XN(e)||Array.isArray(e)||!!e[j_]||!!((t=e.constructor)!=null&&t[j_])||jc(e)||Pf(e):!1}var f3=Object.prototype.constructor.toString();function XN(e){if(!e||typeof e!="object")return!1;const t=bo(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===f3}function Fd(e,t){Cf(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Cf(e){const t=e[hn];return t?t.type_:Array.isArray(e)?1:jc(e)?2:Pf(e)?3:0}function lv(e,t){return Cf(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function QN(e,t,r){const n=Cf(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function h3(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function jc(e){return e instanceof Map}function Pf(e){return e instanceof Set}function na(e){return e.copy_||e.base_}function cv(e,t){if(jc(e))return new Map(e);if(Pf(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=XN(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[hn];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const l=i[s],u=n[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(bo(e),n)}else{const n=bo(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function by(e,t=!1){return Of(e)||wa(e)||!Yi(e)||(Cf(e)>1&&Object.defineProperties(e,{set:{value:Zu},add:{value:Zu},clear:{value:Zu},delete:{value:Zu}}),Object.freeze(e),t&&Object.values(e).forEach(r=>by(r,!0))),e}function Zu(){ri(2)}function Of(e){return Object.isFrozen(e)}var m3={};function ba(e){const t=m3[e];return t||ri(0,e),t}var sc;function ZN(){return sc}function p3(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function S_(e,t){t&&(ba("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function uv(e){dv(e),e.drafts_.forEach(g3),e.drafts_=null}function dv(e){e===sc&&(sc=e.parent_)}function k_(e){return sc=p3(sc,e)}function g3(e){const t=e[hn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function N_(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[hn].modified_&&(uv(t),ri(4)),Yi(e)&&(e=Ud(t,e),t.parent_||zd(t,e)),t.patches_&&ba("Patches").generateReplacementPatches_(r[hn].base_,e,t.patches_,t.inversePatches_)):e=Ud(t,r,[]),uv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==JN?e:void 0}function Ud(e,t,r){if(Of(t))return t;const n=t[hn];if(!n)return Fd(t,(i,s)=>E_(e,n,t,i,s,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return zd(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,l=!1;n.type_===3&&(s=new Set(i),i.clear(),l=!0),Fd(s,(u,f)=>E_(e,n,i,u,f,r,l)),zd(e,i,!1),r&&e.patches_&&ba("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function E_(e,t,r,n,i,s,l){if(wa(i)){const u=s&&t&&t.type_!==3&&!lv(t.assigned_,n)?s.concat(n):void 0,f=Ud(e,i,u);if(QN(r,n,f),wa(f))e.canAutoFreeze_=!1;else return}else l&&r.add(i);if(Yi(i)&&!Of(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Ud(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(jc(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&zd(e,i)}}function zd(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&by(t,r)}function v3(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:ZN(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=_y;r&&(i=[n],s=ac);const{revoke:l,proxy:u}=Proxy.revocable(i,s);return n.draft_=u,n.revoke_=l,u}var _y={get(e,t){if(t===hn)return e;const r=na(e);if(!lv(r,t))return y3(e,r,t);const n=r[t];return e.finalized_||!Yi(n)?n:n===eg(e.base_,t)?(tg(e),e.copy_[t]=hv(n,e)):n},has(e,t){return t in na(e)},ownKeys(e){return Reflect.ownKeys(na(e))},set(e,t,r){const n=eE(na(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=eg(na(e),t),s=i==null?void 0:i[hn];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(h3(r,i)&&(r!==void 0||lv(e.base_,t)))return!0;tg(e),fv(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return eg(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,tg(e),fv(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=na(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){ri(11)},getPrototypeOf(e){return bo(e.base_)},setPrototypeOf(){ri(12)}},ac={};Fd(_y,(e,t)=>{ac[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ac.deleteProperty=function(e,t){return ac.set.call(this,e,t,void 0)};ac.set=function(e,t,r){return _y.set.call(this,e[0],t,r,e[0])};function eg(e,t){const r=e[hn];return(r?na(r):e)[t]}function y3(e,t,r){var i;const n=eE(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function eE(e,t){if(!(t in e))return;let r=bo(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=bo(r)}}function fv(e){e.modified_||(e.modified_=!0,e.parent_&&fv(e.parent_))}function tg(e){e.copy_||(e.copy_=cv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var x3=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const l=this;return function(f=s,...m){return l.produce(f,h=>r.call(this,h,...m))}}typeof r!="function"&&ri(6),n!==void 0&&typeof n!="function"&&ri(7);let i;if(Yi(t)){const s=k_(this),l=hv(t,void 0);let u=!0;try{i=r(l),u=!1}finally{u?uv(s):dv(s)}return S_(s,n),N_(i,s)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===JN&&(i=void 0),this.autoFreeze_&&by(i,!0),n){const s=[],l=[];ba("Patches").generateReplacementPatches_(t,i,s,l),n(s,l)}return i}else ri(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,f=>t(f,...u));let n,i;return[this.produce(t,r,(l,u)=>{n=l,i=u}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Yi(e)||ri(8),wa(e)&&(e=Wi(e));const t=k_(this),r=hv(e,void 0);return r[hn].isManual_=!0,dv(t),r}finishDraft(e,t){const r=e&&e[hn];(!r||!r.isManual_)&&ri(9);const{scope_:n}=r;return S_(n,t),N_(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=ba("Patches").applyPatches_;return wa(e)?n(e,t):this.produce(e,i=>n(i,t))}};function hv(e,t){const r=jc(e)?ba("MapSet").proxyMap_(e,t):Pf(e)?ba("MapSet").proxySet_(e,t):v3(e,t);return(t?t.scope_:ZN()).drafts_.push(r),r}function Wi(e){return wa(e)||ri(10,e),tE(e)}function tE(e){if(!Yi(e)||Of(e))return e;const t=e[hn];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=cv(e,t.scope_.immer_.useStrictShallowCopy_)}else r=cv(e,!0);return Fd(r,(n,i)=>{QN(r,n,tE(i))}),t&&(t.finalized_=!1),r}var w3=new x3,rE=w3.produce;function nE(e){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,e):i(s)}var b3=nE(),_3=nE,j3=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ld:Ld.apply(null,arguments)};function Ln(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(fn(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>GN(n)&&n.type===e,r}var iE=class ql extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ql.prototype)}static get[Symbol.species](){return ql}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ql(...t[0].concat(this)):new ql(...t.concat(this))}};function A_(e){return Yi(e)?rE(e,()=>{}):e}function ed(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function S3(e){return typeof e=="boolean"}var k3=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let l=new iE;return r&&(S3(r)?l.push(b3):l.push(_3(r.extraArgument))),l},N3="RTK_autoBatch",C_=e=>t=>{setTimeout(t,e)},E3=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,s=!1,l=!1;const u=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:C_(10):e.type==="callback"?e.queueNotification:C_(e.timeout),m=()=>{l=!1,s&&(s=!1,u.forEach(h=>h()))};return Object.assign({},n,{subscribe(h){const p=()=>i&&h(),v=n.subscribe(p);return u.add(h),()=>{v(),u.delete(h)}},dispatch(h){var p;try{return i=!((p=h==null?void 0:h.meta)!=null&&p[N3]),s=!i,s&&(l||(l=!0,f(m))),n.dispatch(h)}finally{i=!0}}})},A3=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new iE(e);return n&&i.push(E3(typeof n=="object"?n:void 0)),i};function C3(e){const t=k3(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:l=void 0}=e||{};let u;if(typeof r=="function")u=r;else if(wy(r))u=YN(r);else throw new Error(fn(1));let f;typeof n=="function"?f=n(t):f=t();let m=Ld;i&&(m=j3({trace:!1,...typeof i=="object"&&i}));const h=d3(...f),p=A3(h);let v=typeof l=="function"?l(p):p();const w=m(...v);return HN(u,s,w)}function sE(e){const t={},r=[];let n;const i={addCase(s,l){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(fn(28));if(u in t)throw new Error(fn(29));return t[u]=l,i},addAsyncThunk(s,l){return l.pending&&(t[s.pending.type]=l.pending),l.rejected&&(t[s.rejected.type]=l.rejected),l.fulfilled&&(t[s.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:s.settled,reducer:l.settled}),i},addMatcher(s,l){return r.push({matcher:s,reducer:l}),i},addDefaultCase(s){return n=s,i}};return e(i),[t,r,n]}function P3(e){return typeof e=="function"}function O3(e,t){let[r,n,i]=sE(t),s;if(P3(e))s=()=>A_(e());else{const u=A_(e);s=()=>u}function l(u=s(),f){let m=[r[f.type],...n.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return m.filter(h=>!!h).length===0&&(m=[i]),m.reduce((h,p)=>{if(p)if(wa(h)){const w=p(h,f);return w===void 0?h:w}else{if(Yi(h))return rE(h,v=>p(v,f));{const v=p(h,f);if(v===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return h},u)}return l.getInitialState=s,l}var T3="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",I3=(e=21)=>{let t="",r=e;for(;r--;)t+=T3[Math.random()*64|0];return t},D3=Symbol.for("rtk-slice-createasyncthunk");function R3(e,t){return`${e}/${t}`}function M3({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[D3];return function(i){const{name:s,reducerPath:l=s}=i;if(!s)throw new Error(fn(11));const u=(typeof i.reducers=="function"?i.reducers(L3()):i.reducers)||{},f=Object.keys(u),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(C,O){const I=typeof C=="string"?C:C.type;if(!I)throw new Error(fn(12));if(I in m.sliceCaseReducersByType)throw new Error(fn(13));return m.sliceCaseReducersByType[I]=O,h},addMatcher(C,O){return m.sliceMatchers.push({matcher:C,reducer:O}),h},exposeAction(C,O){return m.actionCreators[C]=O,h},exposeCaseReducer(C,O){return m.sliceCaseReducersByName[C]=O,h}};f.forEach(C=>{const O=u[C],I={reducerName:C,type:R3(s,C),createNotation:typeof i.reducers=="function"};U3(O)?B3(I,O,h,t):F3(I,O,h)});function p(){const[C={},O=[],I=void 0]=typeof i.extraReducers=="function"?sE(i.extraReducers):[i.extraReducers],L={...C,...m.sliceCaseReducersByType};return O3(i.initialState,Y=>{for(let q in L)Y.addCase(q,L[q]);for(let q of m.sliceMatchers)Y.addMatcher(q.matcher,q.reducer);for(let q of O)Y.addMatcher(q.matcher,q.reducer);I&&Y.addDefaultCase(I)})}const v=C=>C,w=new Map,S=new WeakMap;let _;function x(C,O){return _||(_=p()),_(C,O)}function k(){return _||(_=p()),_.getInitialState()}function N(C,O=!1){function I(Y){let q=Y[C];return typeof q>"u"&&O&&(q=ed(S,I,k)),q}function L(Y=v){const q=ed(w,O,()=>new WeakMap);return ed(q,Y,()=>{const U={};for(const[z,V]of Object.entries(i.selectors??{}))U[z]=$3(V,Y,()=>ed(S,Y,k),O);return U})}return{reducerPath:C,getSelectors:L,get selectors(){return L(I)},selectSlice:I}}const E={name:s,reducer:x,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:k,...N(l),injectInto(C,{reducerPath:O,...I}={}){const L=O??l;return C.inject({reducerPath:L,reducer:x},I),{...E,...N(L,!0)}}};return E}}function $3(e,t,r,n){function i(s,...l){let u=t(s);return typeof u>"u"&&n&&(u=r()),e(u,...l)}return i.unwrapped=e,i}var gn=M3();function L3(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function F3({type:e,reducerName:t,createNotation:r},n,i){let s,l;if("reducer"in n){if(r&&!z3(n))throw new Error(fn(17));s=n.reducer,l=n.prepare}else s=n;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,l?Ln(e,l):Ln(e))}function U3(e){return e._reducerDefinitionType==="asyncThunk"}function z3(e){return e._reducerDefinitionType==="reducerWithPrepare"}function B3({type:e,reducerName:t},r,n,i){if(!i)throw new Error(fn(18));const{payloadCreator:s,fulfilled:l,pending:u,rejected:f,settled:m,options:h}=r,p=i(e,s,h);n.exposeAction(t,p),l&&n.addCase(p.fulfilled,l),u&&n.addCase(p.pending,u),f&&n.addCase(p.rejected,f),m&&n.addMatcher(p.settled,m),n.exposeCaseReducer(t,{fulfilled:l||td,pending:u||td,rejected:f||td,settled:m||td})}function td(){}var V3="task",aE="listener",oE="completed",jy="cancelled",q3=`task-${jy}`,W3=`task-${oE}`,mv=`${aE}-${jy}`,K3=`${aE}-${oE}`,Tf=class{constructor(e){Mm(this,"name","TaskAbortError");Mm(this,"message");this.code=e,this.message=`${V3} ${jy} (reason: ${e})`}},Sy=(e,t)=>{if(typeof e!="function")throw new TypeError(fn(32))},Bd=()=>{},lE=(e,t=Bd)=>(e.catch(t),e),cE=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ma=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},pa=e=>{if(e.aborted){const{reason:t}=e;throw new Tf(t)}};function uE(e,t){let r=Bd;return new Promise((n,i)=>{const s=()=>i(new Tf(e.reason));if(e.aborted){s();return}r=cE(e,s),t.finally(()=>r()).then(n,i)}).finally(()=>{r=Bd})}var H3=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Tf?"cancelled":"rejected",error:r}}finally{t==null||t()}},Vd=e=>t=>lE(uE(e,t).then(r=>(pa(e),r))),dE=e=>{const t=Vd(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:go}=Object,P_={},If="listenerMiddleware",Y3=(e,t)=>{const r=n=>cE(e,()=>ma(n,e.reason));return(n,i)=>{Sy(n);const s=new AbortController;r(s);const l=H3(async()=>{pa(e),pa(s.signal);const u=await n({pause:Vd(s.signal),delay:dE(s.signal),signal:s.signal});return pa(s.signal),u},()=>ma(s,W3));return i!=null&&i.autoJoin&&t.push(l.catch(Bd)),{result:Vd(e)(l),cancel(){ma(s,q3)}}}},G3=(e,t)=>{const r=async(n,i)=>{pa(t);let s=()=>{};const u=[new Promise((f,m)=>{let h=e({predicate:n,effect:(p,v)=>{v.unsubscribe(),f([p,v.getState(),v.getOriginalState()])}});s=()=>{h(),m()}})];i!=null&&u.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await uE(t,Promise.race(u));return pa(t),f}finally{s()}};return(n,i)=>lE(r(n,i))},fE=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:s}=e;if(t)i=Ln(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(fn(21));return Sy(s),{predicate:i,type:t,effect:s}},hE=go(e=>{const{type:t,predicate:r,effect:n}=fE(e);return{id:I3(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(fn(22))}}},{withTypes:()=>hE}),O_=(e,t)=>{const{type:r,effect:n,predicate:i}=fE(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},pv=e=>{e.pending.forEach(t=>{ma(t,mv)})},J3=e=>()=>{e.forEach(pv),e.clear()},T_=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},mE=go(Ln(`${If}/add`),{withTypes:()=>mE}),X3=Ln(`${If}/removeAll`),pE=go(Ln(`${If}/remove`),{withTypes:()=>pE}),Q3=(...e)=>{console.error(`${If}/error`,...e)},Sc=(e={})=>{const t=new Map,{extra:r,onError:n=Q3}=e;Sy(n);const i=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),p=>{h.unsubscribe(),p!=null&&p.cancelActive&&pv(h)}),s=h=>{const p=O_(t,h)??hE(h);return i(p)};go(s,{withTypes:()=>s});const l=h=>{const p=O_(t,h);return p&&(p.unsubscribe(),h.cancelActive&&pv(p)),!!p};go(l,{withTypes:()=>l});const u=async(h,p,v,w)=>{const S=new AbortController,_=G3(s,S.signal),x=[];try{h.pending.add(S),await Promise.resolve(h.effect(p,go({},v,{getOriginalState:w,condition:(k,N)=>_(k,N).then(Boolean),take:_,delay:dE(S.signal),pause:Vd(S.signal),extra:r,signal:S.signal,fork:Y3(S.signal,x),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((k,N,E)=>{k!==S&&(ma(k,mv),E.delete(k))})},cancel:()=>{ma(S,mv),h.pending.delete(S)},throwIfCancelled:()=>{pa(S.signal)}})))}catch(k){k instanceof Tf||T_(n,k,{raisedBy:"effect"})}finally{await Promise.all(x),ma(S,K3),h.pending.delete(S)}},f=J3(t);return{middleware:h=>p=>v=>{if(!GN(v))return p(v);if(mE.match(v))return s(v.payload);if(X3.match(v)){f();return}if(pE.match(v))return l(v.payload);let w=h.getState();const S=()=>{if(w===P_)throw new Error(fn(23));return w};let _;try{if(_=p(v),t.size>0){const x=h.getState(),k=Array.from(t.values());for(const N of k){let E=!1;try{E=N.predicate(v,x,w)}catch(C){E=!1,T_(n,C,{raisedBy:"predicate"})}E&&u(N,v,h,S)}}}finally{w=P_}return _},startListening:s,stopListening:l,clearListeners:f}};function fn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Z3={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},gE=gn({name:"chartLayout",initialState:Z3,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:e6,setLayout:t6,setChartSize:r6,setScale:n6}=gE.actions,i6=gE.reducer;function I_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function D_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I_(Object(r),!0).forEach(function(n){s6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function s6(e,t,r){return(t=a6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a6(e){var t=o6(e,"string");return typeof t=="symbol"?t:t+""}function o6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qd=Math.PI/180,l6=e=>e*180/Math.PI,yr=(e,t,r,n)=>({x:e+Math.cos(-qd*n)*r,y:t+Math.sin(-qd*n)*r}),c6=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},u6=(e,t)=>{var{x:r,y:n}=e,{x:i,y:s}=t;return Math.sqrt((r-i)**2+(n-s)**2)},d6=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:s}=t,l=u6({x:r,y:n},{x:i,y:s});if(l<=0)return{radius:l,angle:0};var u=(r-i)/l,f=Math.acos(u);return n>s&&(f=2*Math.PI-f),{radius:l,angle:l6(f),angleInRadian:f}},f6=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:t-s*360,endAngle:r-s*360}},h6=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),s=Math.floor(n/360),l=Math.min(i,s);return e+l*360},m6=(e,t)=>{var{x:r,y:n}=e,{radius:i,angle:s}=d6({x:r,y:n},t),{innerRadius:l,outerRadius:u}=t;if(i<l||i>u||i===0)return null;var{startAngle:f,endAngle:m}=f6(t),h=s,p;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;p=h>=m&&h<=f}return p?D_(D_({},t),{},{radius:i,angle:h6(h,t)}):null};function vE(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function R_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function In(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R_(Object(r),!0).forEach(function(n){p6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p6(e,t,r){return(t=g6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g6(e){var t=v6(e,"string");return typeof t=="symbol"?t:t+""}function v6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mr(e,t,r){return or(e)||or(t)?r:ki(t)?xo(e,t,r):typeof t=="function"?t(e):r}var y6=(e,t,r,n,i)=>{var s,l=-1,u=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(u<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<u;f++){var m=f>0?r[f-1].coordinate:r[u-1].coordinate,h=r[f].coordinate,p=f>=u-1?r[0].coordinate:r[f+1].coordinate,v=void 0;if(un(h-m)!==un(p-h)){var w=[];if(un(p-h)===un(i[1]-i[0])){v=p;var S=h+i[1]-i[0];w[0]=Math.min(S,(S+m)/2),w[1]=Math.max(S,(S+m)/2)}else{v=m;var _=p+i[1]-i[0];w[0]=Math.min(h,(_+h)/2),w[1]=Math.max(h,(_+h)/2)}var x=[Math.min(h,(v+h)/2),Math.max(h,(v+h)/2)];if(e>x[0]&&e<=x[1]||e>=w[0]&&e<=w[1]){({index:l}=r[f]);break}}else{var k=Math.min(m,p),N=Math.max(m,p);if(e>(k+h)/2&&e<=(N+h)/2){({index:l}=r[f]);break}}}else if(t){for(var E=0;E<u;E++)if(E===0&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E>0&&E<u-1&&e>(t[E].coordinate+t[E-1].coordinate)/2&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E===u-1&&e>(t[E].coordinate+t[E-1].coordinate)/2){({index:l}=t[E]);break}}return l},x6=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:s,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&s!=="center"&&Ge(e[s]))return In(In({},e),{},{[s]:e[s]+(n||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&l!=="middle"&&Ge(e[l]))return In(In({},e),{},{[l]:e[l]+(i||0)})}return e},ka=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",M_=1e-4,w6=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-M_,s=Math.max(n[0],n[1])+M_,l=e(t[0]),u=e(t[r-1]);(l<i||l>s||u<i||u>s)&&e.domain([t[0],t[r-1]])}},b6=(e,t)=>{if(!t||t.length!==2||!Ge(t[0])||!Ge(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Ge(e[0])||e[0]<r)&&(i[0]=r),(!Ge(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},_6=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,s=0,l=0;l<t;++l){var u=$n(e[l][r][1])?e[l][r][0]:e[l][r][1];u>=0?(e[l][r][0]=i,e[l][r][1]=i+u,i=e[l][r][1]):(e[l][r][0]=s,e[l][r][1]=s+u,s=e[l][r][1])}},j6=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,s=0;s<t;++s){var l=$n(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=i,e[s][r][1]=i+l,i=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},S6={sign:_6,expand:t$,none:wo,silhouette:r$,wiggle:n$,positive:j6},k6=(e,t,r)=>{var n=S6[r],i=e$().keys(t).value((s,l)=>+Mr(s,l,0)).order(av).offset(n);return i(e)};function N6(e){return e==null?void 0:String(e)}var $_=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:s,index:l}=e;if(t.type==="category")return r[l]?r[l].coordinate+n:null;var u=Mr(s,t.dataKey,t.scale.domain()[l]);return or(u)?null:t.scale(u)-i/2+n},E6=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},A6=e=>{var t=e.flat(2).filter(Ge);return[Math.min(...t),Math.max(...t)]},C6=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],P6=(e,t,r)=>{if(e!=null)return C6(Object.keys(e).reduce((n,i)=>{var s=e[i],{stackedData:l}=s,u=l.reduce((f,m)=>{var h=vE(m,t,r),p=A6(h);return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(u[0],n[0]),Math.max(u[1],n[1])]},[1/0,-1/0]))},L_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,F_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ky=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=Af(t,h=>h.coordinate),s=1/0,l=1,u=i.length;l<u;l++){var f=i[l],m=i[l-1];s=Math.min((f.coordinate||0)-(m.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function U_(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:s}=e;return In(In({},t),{},{dataKey:r,payload:n,value:i,name:s})}function yE(e,t){if(e)return String(e);if(typeof t=="string")return t}function O6(e,t,r,n,i){if(r==="horizontal"||r==="vertical"){var s=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return s?{x:e,y:t}:null}return n?m6({x:e,y:t},n):null}var T6=(e,t,r,n)=>{var i=t.find(m=>m&&m.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,{radius:l}=n;return In(In(In({},n),yr(n.cx,n.cy,l,s)),{},{angle:s,radius:l})}var u=i.coordinate,{angle:f}=n;return In(In(In({},n),yr(n.cx,n.cy,u,f)),{},{angle:f,radius:u})}return{x:0,y:0}},I6=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Zi=e=>e.layout.width,es=e=>e.layout.height,D6=e=>e.layout.scale,xE=e=>e.layout.margin,Df=J(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Rf=J(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),R6="data-recharts-item-index",M6="data-recharts-item-data-key",kc=60;function z_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z_(Object(r),!0).forEach(function(n){$6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $6(e,t,r){return(t=L6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L6(e){var t=F6(e,"string");return typeof t=="symbol"?t:t+""}function F6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var U6=e=>e.brush.height;function z6(e){var t=Rf(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:kc;return r+i}return r},0)}function B6(e){var t=Rf(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:kc;return r+i}return r},0)}function V6(e){var t=Df(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function q6(e){var t=Df(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var cr=J([Zi,es,xE,U6,z6,B6,V6,q6,KN,s3],(e,t,r,n,i,s,l,u,f,m)=>{var h={left:(r.left||0)+i,right:(r.right||0)+s},p={top:(r.top||0)+l,bottom:(r.bottom||0)+u},v=rd(rd({},p),h),w=v.bottom;v.bottom+=n,v=x6(v,f,m);var S=e-v.left-v.right,_=t-v.top-v.bottom;return rd(rd({brushBottom:w},v),{},{width:Math.max(S,0),height:Math.max(_,0)})}),W6=J(cr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Ny=J(Zi,es,(e,t)=>({x:0,y:0,width:e,height:t})),K6=b.createContext(null),ci=()=>b.useContext(K6)!=null,Mf=e=>e.brush,$f=J([Mf,cr,xE],(e,t,r)=>({height:e.height,x:Ge(e.x)?e.x:t.left,y:Ge(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Ge(e.width)?e.width:t.width})),Ey=()=>{var e,t=ci(),r=Ve(W6),n=Ve($f),i=(e=Ve(Mf))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},H6={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Y6=()=>{var e;return(e=Ve(cr))!==null&&e!==void 0?e:H6},G6=()=>Ve(Zi),J6=()=>Ve(es),dt=e=>e.layout.layoutType,Ay=()=>Ve(dt),X6={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},wE=gn({name:"legend",initialState:X6,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=Wi(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:YK,setLegendSettings:GK,addLegendPayload:Q6,removeLegendPayload:Z6}=wE.actions,eL=wE.reducer;function gv(){return gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gv.apply(null,arguments)}function B_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B_(Object(r),!0).forEach(function(n){tL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tL(e,t,r){return(t=rL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rL(e){var t=nL(e,"string");return typeof t=="symbol"?t:t+""}function nL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iL(e){return Array.isArray(e)&&ki(e[0])&&ki(e[1])?e.join(" ~ "):e}var sL=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:s,formatter:l,itemSorter:u,wrapperClassName:f,labelClassName:m,label:h,labelFormatter:p,accessibilityLayer:v=!1}=e,w=()=>{if(s&&s.length){var O={padding:0,margin:0},I=(u?Af(s,u):s).map((L,Y)=>{if(L.type==="none")return null;var q=L.formatter||l||iL,{value:U,name:z}=L,V=U,ee=z;if(q){var Q=q(U,z,L,Y,s);if(Array.isArray(Q))[V,ee]=Q;else if(Q!=null)V=Q;else return null}var ae=rg({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},n);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Y),style:ae},ki(ee)?b.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,ki(ee)?b.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,b.createElement("span",{className:"recharts-tooltip-item-value"},V),b.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:O},I)}return null},S=rg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),_=rg({margin:0},i),x=!or(h),k=x?h:"",N=kt("recharts-default-tooltip",f),E=kt("recharts-tooltip-label",m);x&&p&&s!==void 0&&s!==null&&(k=p(h,s));var C=v?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",gv({className:N,style:S},C),b.createElement("p",{className:E,style:_},b.isValidElement(k)?k:"".concat(k)),w())},Dl="recharts-tooltip-wrapper",aL={visibility:"hidden"};function oL(e){var{coordinate:t,translateX:r,translateY:n}=e;return kt(Dl,{["".concat(Dl,"-right")]:Ge(r)&&t&&Ge(t.x)&&r>=t.x,["".concat(Dl,"-left")]:Ge(r)&&t&&Ge(t.x)&&r<t.x,["".concat(Dl,"-bottom")]:Ge(n)&&t&&Ge(t.y)&&n>=t.y,["".concat(Dl,"-top")]:Ge(n)&&t&&Ge(t.y)&&n<t.y})}function V_(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:s,reverseDirection:l,tooltipDimension:u,viewBox:f,viewBoxDimension:m}=e;if(s&&Ge(s[n]))return s[n];var h=r[n]-u-(i>0?i:0),p=r[n]+i;if(t[n])return l[n]?h:p;var v=f[n];if(v==null)return 0;if(l[n]){var w=h,S=v;return w<S?Math.max(p,v):Math.max(h,v)}if(m==null)return 0;var _=p+u,x=v+m;return _>x?Math.max(h,v):Math.max(p,v)}function lL(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function cL(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:s,tooltipBox:l,useTranslate3d:u,viewBox:f}=e,m,h,p;return l.height>0&&l.width>0&&r?(h=V_({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),p=V_({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),m=lL({translateX:h,translateY:p,useTranslate3d:u})):m=aL,{cssProperties:m,cssClasses:oL({translateX:h,translateY:p,coordinate:r})}}function q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q_(Object(r),!0).forEach(function(n){vv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vv(e,t,r){return(t=uL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uL(e){var t=dL(e,"string");return typeof t=="symbol"?t:t+""}function dL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class fL extends b.PureComponent{constructor(){super(...arguments),vv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),vv(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:l,hasPayload:u,isAnimationActive:f,offset:m,position:h,reverseDirection:p,useTranslate3d:v,viewBox:w,wrapperStyle:S,lastBoundingBox:_,innerRef:x,hasPortalFromProps:k}=this.props,{cssClasses:N,cssProperties:E}=cL({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:m,position:h,reverseDirection:p,tooltipBox:{height:_.height,width:_.width},useTranslate3d:v,viewBox:w}),C=k?{}:nd(nd({transition:f&&t?"transform ".concat(n,"ms ").concat(i):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),O=nd(nd({},C),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},S);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:O,ref:x},s)}}var hL=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),$o={devToolsEnabled:!1,isSsr:hL()},bE=()=>Ve(e=>e.rootProps.accessibilityLayer);function mn(e){return Number.isFinite(e)}function Wd(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function yv(){return yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yv.apply(null,arguments)}function W_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function K_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W_(Object(r),!0).forEach(function(n){mL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mL(e,t,r){return(t=pL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pL(e){var t=gL(e,"string");return typeof t=="symbol"?t:t+""}function gL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var H_={curveBasisClosed:VM,curveBasisOpen:qM,curveBasis:BM,curveBumpX:AM,curveBumpY:CM,curveLinearClosed:WM,curveLinear:Nf,curveMonotoneX:KM,curveMonotoneY:HM,curveNatural:YM,curveStep:GM,curveStepAfter:XM,curveStepBefore:JM},id=e=>mn(e.x)&&mn(e.y),Rl=e=>e.x,Ml=e=>e.y,vL=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(bc(e));return(r==="curveMonotone"||r==="curveBump")&&t?H_["".concat(r).concat(t==="vertical"?"Y":"X")]:H_[r]||Nf},yL=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:s=!1}=e,l=vL(t,i),u=s?r.filter(id):r,f;if(Array.isArray(n)){var m=s?n.filter(p=>id(p)):n,h=u.map((p,v)=>K_(K_({},p),{},{base:m[v]}));return i==="vertical"?f=Ju().y(Ml).x1(Rl).x0(p=>p.base.x):f=Ju().x(Rl).y1(Ml).y0(p=>p.base.y),f.defined(id).curve(l),f(h)}return i==="vertical"&&Ge(n)?f=Ju().y(Ml).x1(Rl).x0(n):Ge(n)?f=Ju().x(Rl).y1(Ml).y0(n):f=_N().x(Rl).y(Ml),f.defined(id).curve(l),f(u)},xL=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?yL(e):n;return b.createElement("path",yv({},_c(e),hM(e),{className:kt("recharts-curve",t),d:s===null?void 0:s,ref:i}))},wL=["x","y","top","left","width","height","className"];function xv(){return xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xv.apply(null,arguments)}function Y_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y_(Object(r),!0).forEach(function(n){_L(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _L(e,t,r){return(t=jL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jL(e){var t=SL(e,"string");return typeof t=="symbol"?t:t+""}function SL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kL(e,t){if(e==null)return{};var r,n,i=NL(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function NL(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var EL=(e,t,r,n,i,s)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),AL=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:s=0,height:l=0,className:u}=e,f=kL(e,wL),m=bL({x:t,y:r,top:n,left:i,width:s,height:l},f);return!Ge(t)||!Ge(r)||!Ge(s)||!Ge(l)||!Ge(n)||!Ge(i)?null:b.createElement("path",xv({},wr(m,!0),{className:kt("recharts-cross",u),d:EL(t,r,s,l,n,i)}))};function CL(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function G_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function PL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G_(Object(r),!0).forEach(function(n){OL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OL(e,t,r){return(t=TL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TL(e){var t=IL(e,"string");return typeof t=="symbol"?t:t+""}function IL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ui(e,t){var r=PL({},e),n=t,i=Object.keys(t),s=i.reduce((l,u)=>(l[u]===void 0&&n[u]!==void 0&&(l[u]=n[u]),l),r);return s}function DL(){}function J_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function X_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J_(Object(r),!0).forEach(function(n){RL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RL(e,t,r){return(t=ML(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ML(e){var t=$L(e,"string");return typeof t=="symbol"?t:t+""}function $L(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LL=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),_E=(e,t,r)=>e.map(n=>"".concat(LL(n)," ").concat(t,"ms ").concat(r)).join(","),FL=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),oc=(e,t)=>Object.keys(t).reduce((r,n)=>X_(X_({},r),{},{[n]:e(n,t[n])}),{});function Q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q_(Object(r),!0).forEach(function(n){UL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UL(e,t,r){return(t=zL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zL(e){var t=BL(e,"string");return typeof t=="symbol"?t:t+""}function BL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kd=(e,t,r)=>e+(t-e)*r,wv=e=>{var{from:t,to:r}=e;return t!==r},jE=(e,t,r)=>{var n=oc((i,s)=>{if(wv(s)){var[l,u]=e(s.from,s.to,s.velocity);return vr(vr({},s),{},{from:l,velocity:u})}return s},t);return r<1?oc((i,s)=>wv(s)?vr(vr({},s),{},{velocity:Kd(s.velocity,n[i].velocity,r),from:Kd(s.from,n[i].from,r)}):s,t):jE(e,n,r-1)};function VL(e,t,r,n,i,s){var l,u=n.reduce((v,w)=>vr(vr({},v),{},{[w]:{from:e[w],velocity:0,to:t[w]}}),{}),f=()=>oc((v,w)=>w.from,u),m=()=>!Object.values(u).filter(wv).length,h=null,p=v=>{l||(l=v);var w=v-l,S=w/r.dt;u=jE(r,u,S),i(vr(vr(vr({},e),t),f())),l=v,m()||(h=s.setTimeout(p))};return()=>(h=s.setTimeout(p),()=>{h()})}function qL(e,t,r,n,i,s,l){var u=null,f=i.reduce((p,v)=>vr(vr({},p),{},{[v]:[e[v],t[v]]}),{}),m,h=p=>{m||(m=p);var v=(p-m)/n,w=oc((_,x)=>Kd(...x,r(v)),f);if(s(vr(vr(vr({},e),t),w)),v<1)u=l.setTimeout(h);else{var S=oc((_,x)=>Kd(...x,r(1)),f);s(vr(vr(vr({},e),t),S))}};return()=>(u=l.setTimeout(h),()=>{u()})}const WL=(e,t,r,n,i,s)=>{var l=FL(e,t);return r.isStepper===!0?VL(e,t,r,l,i,s):qL(e,t,r,n,l,i,s)};var Hd=1e-4,SE=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],kE=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Z_=(e,t)=>r=>{var n=SE(e,t);return kE(n,r)},KL=(e,t)=>r=>{var n=SE(e,t),i=[...n.map((s,l)=>s*l).slice(1),0];return kE(i,r)},ej=function(){for(var t,r,n,i,s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];if(l.length===1)switch(l[0]){case"linear":[t,n,r,i]=[0,0,1,1];break;case"ease":[t,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,i]=[.42,0,1,1];break;case"ease-out":[t,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,i]=[0,0,.58,1];break;default:{var f=l[0].split("(");f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4&&([t,n,r,i]=f[1].split(")")[0].split(",").map(S=>parseFloat(S)))}}else l.length===4&&([t,n,r,i]=l);var m=Z_(t,r),h=Z_(n,i),p=KL(t,r),v=S=>S>1?1:S<0?0:S,w=S=>{for(var _=S>1?1:S,x=_,k=0;k<8;++k){var N=m(x)-_,E=p(x);if(Math.abs(N-_)<Hd||E<Hd)return h(x);x=v(x-N/E)}return h(x)};return w.isStepper=!1,w},HL=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,s=(l,u,f)=>{var m=-(l-u)*r,h=f*n,p=f+(m-h)*i/1e3,v=f*i/1e3+l;return Math.abs(v-u)<Hd&&Math.abs(p)<Hd?[u,0]:[v,p]};return s.isStepper=!0,s.dt=i,s},YL=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ej(e);case"spring":return HL();default:if(e.split("(")[0]==="cubic-bezier")return ej(e)}return typeof e=="function"?e:null};function GL(e){var t,r=()=>null,n=!1,i=null,s=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var u=l,[f,...m]=u;if(typeof f=="number"){i=e.setTimeout(s.bind(null,m),f);return}s(f),i=e.setTimeout(s.bind(null,m));return}typeof l=="string"&&(t=l,r(t)),typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,i&&(i(),i=null),s(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}class JL{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}function XL(){return GL(new JL)}var QL=b.createContext(XL);function ZL(e,t){var r=b.useContext(QL);return b.useMemo(()=>t??r(e),[e,t,r])}var e5={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},tj={t:0},ng={t:1};function Cy(e){var t=ui(e,e5),{isActive:r,canBegin:n,duration:i,easing:s,begin:l,onAnimationEnd:u,onAnimationStart:f,children:m}=t,h=ZL(t.animationId,t.animationManager),[p,v]=b.useState(r?tj:ng),w=b.useRef(null);return b.useEffect(()=>{r||v(ng)},[r]),b.useEffect(()=>{if(!r||!n)return DL;var S=WL(tj,ng,YL(s),i,v,h.getTimeoutController()),_=()=>{w.current=S()};return h.start([f,l,_,i,u]),()=>{h.stop(),w.current&&w.current(),u()}},[r,n,i,s,l,f,u,h]),m(p.t)}function Py(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=b.useRef(ic(t)),n=b.useRef(e);return n.current!==e&&(r.current=ic(t),n.current=e),r.current}function rj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rj(Object(r),!0).forEach(function(n){t5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t5(e,t,r){return(t=r5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r5(e){var t=n5(e,"string");return typeof t=="symbol"?t:t+""}function n5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yd(){return Yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yd.apply(null,arguments)}var ij=(e,t,r,n,i)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),l=n>=0?1:-1,u=r>=0?1:-1,f=n>=0&&r>=0||n<0&&r<0?1:0,m;if(s>0&&i instanceof Array){for(var h=[0,0,0,0],p=0,v=4;p<v;p++)h[p]=i[p]>s?s:i[p];m="M".concat(e,",").concat(t+l*h[0]),h[0]>0&&(m+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(f,",").concat(e+u*h[0],",").concat(t)),m+="L ".concat(e+r-u*h[1],",").concat(t),h[1]>0&&(m+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(f,`,
        `).concat(e+r,",").concat(t+l*h[1])),m+="L ".concat(e+r,",").concat(t+n-l*h[2]),h[2]>0&&(m+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(f,`,
        `).concat(e+r-u*h[2],",").concat(t+n)),m+="L ".concat(e+u*h[3],",").concat(t+n),h[3]>0&&(m+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(t+n-l*h[3])),m+="Z"}else if(s>0&&i===+i&&i>0){var w=Math.min(s,i);m="M ".concat(e,",").concat(t+l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+u*w,",").concat(t,`
            L `).concat(e+r-u*w,",").concat(t,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+r,",").concat(t+l*w,`
            L `).concat(e+r,",").concat(t+n-l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+r-u*w,",").concat(t+n,`
            L `).concat(e+u*w,",").concat(t+n,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e,",").concat(t+n-l*w," Z")}else m="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return m},i5={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},NE=e=>{var t=ui(e,i5),r=b.useRef(null),[n,i]=b.useState(-1);b.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var Q=r.current.getTotalLength();Q&&i(Q)}catch{}},[]);var{x:s,y:l,width:u,height:f,radius:m,className:h}=t,{animationEasing:p,animationDuration:v,animationBegin:w,isAnimationActive:S,isUpdateAnimationActive:_}=t,x=b.useRef(u),k=b.useRef(f),N=b.useRef(s),E=b.useRef(l),C=b.useMemo(()=>({x:s,y:l,width:u,height:f,radius:m}),[s,l,u,f,m]),O=Py(C,"rectangle-");if(s!==+s||l!==+l||u!==+u||f!==+f||u===0||f===0)return null;var I=kt("recharts-rectangle",h);if(!_)return b.createElement("path",Yd({},wr(t,!0),{className:I,d:ij(s,l,u,f,m)}));var L=x.current,Y=k.current,q=N.current,U=E.current,z="0px ".concat(n===-1?1:n,"px"),V="".concat(n,"px 0px"),ee=_E(["strokeDasharray"],v,typeof p=="string"?p:void 0);return b.createElement(Cy,{animationId:O,key:O,canBegin:n>0,duration:v,easing:p,isActive:_,begin:w},Q=>{var ae=Ir(L,u,Q),xe=Ir(Y,f,Q),ye=Ir(q,s,Q),re=Ir(U,l,Q);r.current&&(x.current=ae,k.current=xe,N.current=ye,E.current=re);var le;return S?Q>0?le={transition:ee,strokeDasharray:V}:le={strokeDasharray:z}:le={strokeDasharray:V},b.createElement("path",Yd({},wr(t,!0),{className:I,d:ij(ye,re,ae,xe,m),ref:r,style:nj(nj({},le),t.style)}))})};function EE(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:s}=e,l=yr(t,r,n,i),u=yr(t,r,n,s);return{points:[l,u],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}function bv(){return bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bv.apply(null,arguments)}var s5=(e,t)=>{var r=un(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},sd=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:s,isExternal:l,cornerRadius:u,cornerIsExternal:f}=e,m=u*(l?1:-1)+n,h=Math.asin(u/m)/qd,p=f?i:i+s*h,v=yr(t,r,m,p),w=yr(t,r,n,p),S=f?i-s*h:i,_=yr(t,r,m*Math.cos(h*qd),S);return{center:v,circleTangency:w,lineTangency:_,theta:h}},AE=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:l}=e,u=s5(s,l),f=s+u,m=yr(t,r,i,s),h=yr(t,r,i,f),p="M ".concat(m.x,",").concat(m.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(s>f),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(n>0){var v=yr(t,r,n,s),w=yr(t,r,n,f);p+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(s<=f),`,
            `).concat(v.x,",").concat(v.y," Z")}else p+="L ".concat(t,",").concat(r," Z");return p},a5=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:m}=e,h=un(m-f),{circleTangency:p,lineTangency:v,theta:w}=sd({cx:t,cy:r,radius:i,angle:f,sign:h,cornerRadius:s,cornerIsExternal:u}),{circleTangency:S,lineTangency:_,theta:x}=sd({cx:t,cy:r,radius:i,angle:m,sign:-h,cornerRadius:s,cornerIsExternal:u}),k=u?Math.abs(f-m):Math.abs(f-m)-w-x;if(k<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):AE({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:f,endAngle:m});var N="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(k>180),",").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(_.x,",").concat(_.y,`
  `);if(n>0){var{circleTangency:E,lineTangency:C,theta:O}=sd({cx:t,cy:r,radius:n,angle:f,sign:h,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:I,lineTangency:L,theta:Y}=sd({cx:t,cy:r,radius:n,angle:m,sign:-h,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),q=u?Math.abs(f-m):Math.abs(f-m)-O-Y;if(q<0&&s===0)return"".concat(N,"L").concat(t,",").concat(r,"Z");N+="L".concat(L.x,",").concat(L.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(q>180),",").concat(+(h>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(C.x,",").concat(C.y,"Z")}else N+="L".concat(t,",").concat(r,"Z");return N},o5={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},CE=e=>{var t=ui(e,o5),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:f,startAngle:m,endAngle:h,className:p}=t;if(s<i||m===h)return null;var v=kt("recharts-sector",p),w=s-i,S=si(l,w,0,!0),_;return S>0&&Math.abs(m-h)<360?_=a5({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(S,w/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:m,endAngle:h}):_=AE({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:m,endAngle:h}),b.createElement("path",bv({},wr(t,!0),{className:v,d:_}))};function l5(e,t,r){var n,i,s,l;if(e==="horizontal")n=t.x,s=n,i=r.top,l=r.top+r.height;else if(e==="vertical")i=t.y,l=i,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:u,cy:f,innerRadius:m,outerRadius:h,angle:p}=t,v=yr(u,f,m,p),w=yr(u,f,h,p);n=v.x,i=v.y,s=w.x,l=w.y}else return EE(t);return[{x:n,y:i},{x:s,y:l}]}var ig={},sg={},ag={},sj;function c5(){return sj||(sj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qN();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(ag)),ag}var aj;function u5(){return aj||(aj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c5();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(sg)),sg}var oj;function d5(){return oj||(oj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WN(),r=u5();function n(i,s,l){l&&typeof l!="number"&&t.isIterateeCall(i,s,l)&&(s=l=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),l=l===void 0?i<s?1:-1:r.toFinite(l);const u=Math.max(Math.ceil((s-i)/(l||1)),0),f=new Array(u);for(let m=0;m<u;m++)f[m]=i,i+=l;return f}e.range=n})(ig)),ig}var og,lj;function f5(){return lj||(lj=1,og=d5().range),og}var h5=f5();const PE=ai(h5);function Ts(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function m5(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Oy(e){let t,r,n;e.length!==2?(t=Ts,r=(u,f)=>Ts(e(u),f),n=(u,f)=>e(u)-f):(t=e===Ts||e===m5?e:p5,r=e,n=e);function i(u,f,m=0,h=u.length){if(m<h){if(t(f,f)!==0)return h;do{const p=m+h>>>1;r(u[p],f)<0?m=p+1:h=p}while(m<h)}return m}function s(u,f,m=0,h=u.length){if(m<h){if(t(f,f)!==0)return h;do{const p=m+h>>>1;r(u[p],f)<=0?m=p+1:h=p}while(m<h)}return m}function l(u,f,m=0,h=u.length){const p=i(u,f,m,h-1);return p>m&&n(u[p-1],f)>-n(u[p],f)?p-1:p}return{left:i,center:l,right:s}}function p5(){return 0}function OE(e){return e===null?NaN:+e}function*g5(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const v5=Oy(Ts),Nc=v5.right;Oy(OE).center;class cj extends Map{constructor(t,r=w5){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(uj(this,t))}has(t){return super.has(uj(this,t))}set(t,r){return super.set(y5(this,t),r)}delete(t){return super.delete(x5(this,t))}}function uj({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function y5({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function x5({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function w5(e){return e!==null&&typeof e=="object"?e.valueOf():e}function b5(e=Ts){if(e===Ts)return TE;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function TE(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const _5=Math.sqrt(50),j5=Math.sqrt(10),S5=Math.sqrt(2);function Gd(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),l=s>=_5?10:s>=j5?5:s>=S5?2:1;let u,f,m;return i<0?(m=Math.pow(10,-i)/l,u=Math.round(e*m),f=Math.round(t*m),u/m<e&&++u,f/m>t&&--f,m=-m):(m=Math.pow(10,i)*l,u=Math.round(e/m),f=Math.round(t/m),u*m<e&&++u,f*m>t&&--f),f<u&&.5<=r&&r<2?Gd(e,t,r*2):[u,f,m]}function _v(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,l]=n?Gd(t,e,r):Gd(e,t,r);if(!(s>=i))return[];const u=s-i+1,f=new Array(u);if(n)if(l<0)for(let m=0;m<u;++m)f[m]=(s-m)/-l;else for(let m=0;m<u;++m)f[m]=(s-m)*l;else if(l<0)for(let m=0;m<u;++m)f[m]=(i+m)/-l;else for(let m=0;m<u;++m)f[m]=(i+m)*l;return f}function jv(e,t,r){return t=+t,e=+e,r=+r,Gd(e,t,r)[2]}function Sv(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?jv(t,e,r):jv(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function dj(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function fj(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function IE(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?TE:b5(i);n>r;){if(n-r>600){const f=n-r+1,m=t-r+1,h=Math.log(f),p=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*p*(f-p)/f)*(m-f/2<0?-1:1),w=Math.max(r,Math.floor(t-m*p/f+v)),S=Math.min(n,Math.floor(t+(f-m)*p/f+v));IE(e,t,w,S,i)}const s=e[t];let l=r,u=n;for($l(e,r,t),i(e[n],s)>0&&$l(e,r,n);l<u;){for($l(e,l,u),++l,--u;i(e[l],s)<0;)++l;for(;i(e[u],s)>0;)--u}i(e[r],s)===0?$l(e,r,u):(++u,$l(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function $l(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function k5(e,t,r){if(e=Float64Array.from(g5(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return fj(e);if(t>=1)return dj(e);var n,i=(n-1)*t,s=Math.floor(i),l=dj(IE(e,s).subarray(0,s+1)),u=fj(e.subarray(s+1));return l+(u-l)*(i-s)}}function N5(e,t,r=OE){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),l=+r(e[s],s,e),u=+r(e[s+1],s+1,e);return l+(u-l)*(i-s)}}function E5(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function Un(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ts(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const kv=Symbol("implicit");function Ty(){var e=new cj,t=[],r=[],n=kv;function i(s){let l=e.get(s);if(l===void 0){if(n!==kv)return n;e.set(s,l=t.push(s)-1)}return r[l%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new cj;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Ty(t,r).unknown(n)},Un.apply(i,arguments),i}function Iy(){var e=Ty().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,l,u=!1,f=0,m=0,h=.5;delete e.unknown;function p(){var v=t().length,w=i<n,S=w?i:n,_=w?n:i;s=(_-S)/Math.max(1,v-f+m*2),u&&(s=Math.floor(s)),S+=(_-S-s*(v-f))*h,l=s*(1-f),u&&(S=Math.round(S),l=Math.round(l));var x=E5(v).map(function(k){return S+s*k});return r(w?x.reverse():x)}return e.domain=function(v){return arguments.length?(t(v),p()):t()},e.range=function(v){return arguments.length?([n,i]=v,n=+n,i=+i,p()):[n,i]},e.rangeRound=function(v){return[n,i]=v,n=+n,i=+i,u=!0,p()},e.bandwidth=function(){return l},e.step=function(){return s},e.round=function(v){return arguments.length?(u=!!v,p()):u},e.padding=function(v){return arguments.length?(f=Math.min(1,m=+v),p()):f},e.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),p()):f},e.paddingOuter=function(v){return arguments.length?(m=+v,p()):m},e.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),p()):h},e.copy=function(){return Iy(t(),[n,i]).round(u).paddingInner(f).paddingOuter(m).align(h)},Un.apply(p(),arguments)}function DE(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return DE(t())},e}function A5(){return DE(Iy.apply(null,arguments).paddingInner(1))}function Dy(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function RE(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ec(){}var lc=.7,Jd=1/lc,vo="\\s*([+-]?\\d+)\\s*",cc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ji="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",C5=/^#([0-9a-f]{3,8})$/,P5=new RegExp(`^rgb\\(${vo},${vo},${vo}\\)$`),O5=new RegExp(`^rgb\\(${ji},${ji},${ji}\\)$`),T5=new RegExp(`^rgba\\(${vo},${vo},${vo},${cc}\\)$`),I5=new RegExp(`^rgba\\(${ji},${ji},${ji},${cc}\\)$`),D5=new RegExp(`^hsl\\(${cc},${ji},${ji}\\)$`),R5=new RegExp(`^hsla\\(${cc},${ji},${ji},${cc}\\)$`),hj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Dy(Ec,uc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:mj,formatHex:mj,formatHex8:M5,formatHsl:$5,formatRgb:pj,toString:pj});function mj(){return this.rgb().formatHex()}function M5(){return this.rgb().formatHex8()}function $5(){return ME(this).formatHsl()}function pj(){return this.rgb().formatRgb()}function uc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=C5.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?gj(t):r===3?new Yr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ad(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ad(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=P5.exec(e))?new Yr(t[1],t[2],t[3],1):(t=O5.exec(e))?new Yr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=T5.exec(e))?ad(t[1],t[2],t[3],t[4]):(t=I5.exec(e))?ad(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=D5.exec(e))?xj(t[1],t[2]/100,t[3]/100,1):(t=R5.exec(e))?xj(t[1],t[2]/100,t[3]/100,t[4]):hj.hasOwnProperty(e)?gj(hj[e]):e==="transparent"?new Yr(NaN,NaN,NaN,0):null}function gj(e){return new Yr(e>>16&255,e>>8&255,e&255,1)}function ad(e,t,r,n){return n<=0&&(e=t=r=NaN),new Yr(e,t,r,n)}function L5(e){return e instanceof Ec||(e=uc(e)),e?(e=e.rgb(),new Yr(e.r,e.g,e.b,e.opacity)):new Yr}function Nv(e,t,r,n){return arguments.length===1?L5(e):new Yr(e,t,r,n??1)}function Yr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Dy(Yr,Nv,RE(Ec,{brighter(e){return e=e==null?Jd:Math.pow(Jd,e),new Yr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?lc:Math.pow(lc,e),new Yr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Yr(ga(this.r),ga(this.g),ga(this.b),Xd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vj,formatHex:vj,formatHex8:F5,formatRgb:yj,toString:yj}));function vj(){return`#${da(this.r)}${da(this.g)}${da(this.b)}`}function F5(){return`#${da(this.r)}${da(this.g)}${da(this.b)}${da((isNaN(this.opacity)?1:this.opacity)*255)}`}function yj(){const e=Xd(this.opacity);return`${e===1?"rgb(":"rgba("}${ga(this.r)}, ${ga(this.g)}, ${ga(this.b)}${e===1?")":`, ${e})`}`}function Xd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ga(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function da(e){return e=ga(e),(e<16?"0":"")+e.toString(16)}function xj(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ni(e,t,r,n)}function ME(e){if(e instanceof ni)return new ni(e.h,e.s,e.l,e.opacity);if(e instanceof Ec||(e=uc(e)),!e)return new ni;if(e instanceof ni)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),l=NaN,u=s-i,f=(s+i)/2;return u?(t===s?l=(r-n)/u+(r<n)*6:r===s?l=(n-t)/u+2:l=(t-r)/u+4,u/=f<.5?s+i:2-s-i,l*=60):u=f>0&&f<1?0:l,new ni(l,u,f,e.opacity)}function U5(e,t,r,n){return arguments.length===1?ME(e):new ni(e,t,r,n??1)}function ni(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Dy(ni,U5,RE(Ec,{brighter(e){return e=e==null?Jd:Math.pow(Jd,e),new ni(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?lc:Math.pow(lc,e),new ni(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Yr(lg(e>=240?e-240:e+120,i,n),lg(e,i,n),lg(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new ni(wj(this.h),od(this.s),od(this.l),Xd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Xd(this.opacity);return`${e===1?"hsl(":"hsla("}${wj(this.h)}, ${od(this.s)*100}%, ${od(this.l)*100}%${e===1?")":`, ${e})`}`}}));function wj(e){return e=(e||0)%360,e<0?e+360:e}function od(e){return Math.max(0,Math.min(1,e||0))}function lg(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Ry=e=>()=>e;function z5(e,t){return function(r){return e+r*t}}function B5(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function V5(e){return(e=+e)==1?$E:function(t,r){return r-t?B5(t,r,e):Ry(isNaN(t)?r:t)}}function $E(e,t){var r=t-e;return r?z5(e,r):Ry(isNaN(e)?t:e)}const bj=(function e(t){var r=V5(t);function n(i,s){var l=r((i=Nv(i)).r,(s=Nv(s)).r),u=r(i.g,s.g),f=r(i.b,s.b),m=$E(i.opacity,s.opacity);return function(h){return i.r=l(h),i.g=u(h),i.b=f(h),i.opacity=m(h),i+""}}return n.gamma=e,n})(1);function q5(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function W5(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function K5(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),l;for(l=0;l<n;++l)i[l]=Lo(e[l],t[l]);for(;l<r;++l)s[l]=t[l];return function(u){for(l=0;l<n;++l)s[l]=i[l](u);return s}}function H5(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Qd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Y5(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Lo(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var Ev=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cg=new RegExp(Ev.source,"g");function G5(e){return function(){return e}}function J5(e){return function(t){return e(t)+""}}function X5(e,t){var r=Ev.lastIndex=cg.lastIndex=0,n,i,s,l=-1,u=[],f=[];for(e=e+"",t=t+"";(n=Ev.exec(e))&&(i=cg.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),u[l]?u[l]+=s:u[++l]=s),(n=n[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,f.push({i:l,x:Qd(n,i)})),r=cg.lastIndex;return r<t.length&&(s=t.slice(r),u[l]?u[l]+=s:u[++l]=s),u.length<2?f[0]?J5(f[0].x):G5(t):(t=f.length,function(m){for(var h=0,p;h<t;++h)u[(p=f[h]).i]=p.x(m);return u.join("")})}function Lo(e,t){var r=typeof t,n;return t==null||r==="boolean"?Ry(t):(r==="number"?Qd:r==="string"?(n=uc(t))?(t=n,bj):X5:t instanceof uc?bj:t instanceof Date?H5:W5(t)?q5:Array.isArray(t)?K5:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Y5:Qd)(e,t)}function My(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Q5(e,t){t===void 0&&(t=e,e=Lo);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(l){var u=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return s[u](l-u)}}function Z5(e){return function(){return e}}function Zd(e){return+e}var _j=[0,1];function Rr(e){return e}function Av(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Z5(isNaN(t)?NaN:.5)}function eF(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function tF(e,t,r){var n=e[0],i=e[1],s=t[0],l=t[1];return i<n?(n=Av(i,n),s=r(l,s)):(n=Av(n,i),s=r(s,l)),function(u){return s(n(u))}}function rF(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)i[l]=Av(e[l],e[l+1]),s[l]=r(t[l],t[l+1]);return function(u){var f=Nc(e,u,1,n)-1;return s[f](i[f](u))}}function Ac(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Lf(){var e=_j,t=_j,r=Lo,n,i,s,l=Rr,u,f,m;function h(){var v=Math.min(e.length,t.length);return l!==Rr&&(l=eF(e[0],e[v-1])),u=v>2?rF:tF,f=m=null,p}function p(v){return v==null||isNaN(v=+v)?s:(f||(f=u(e.map(n),t,r)))(n(l(v)))}return p.invert=function(v){return l(i((m||(m=u(t,e.map(n),Qd)))(v)))},p.domain=function(v){return arguments.length?(e=Array.from(v,Zd),h()):e.slice()},p.range=function(v){return arguments.length?(t=Array.from(v),h()):t.slice()},p.rangeRound=function(v){return t=Array.from(v),r=My,h()},p.clamp=function(v){return arguments.length?(l=v?!0:Rr,h()):l!==Rr},p.interpolate=function(v){return arguments.length?(r=v,h()):r},p.unknown=function(v){return arguments.length?(s=v,p):s},function(v,w){return n=v,i=w,h()}}function $y(){return Lf()(Rr,Rr)}function nF(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ef(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function _o(e){return e=ef(Math.abs(e)),e?e[1]:NaN}function iF(e,t){return function(r,n){for(var i=r.length,s=[],l=0,u=e[0],f=0;i>0&&u>0&&(f+u+1>n&&(u=Math.max(1,n-f)),s.push(r.substring(i-=u,i+u)),!((f+=u+1)>n));)u=e[l=(l+1)%e.length];return s.reverse().join(t)}}function sF(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var aF=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function dc(e){if(!(t=aF.exec(e)))throw new Error("invalid format: "+e);var t;return new Ly({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}dc.prototype=Ly.prototype;function Ly(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Ly.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function oF(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var LE;function lF(e,t){var r=ef(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(LE=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=n.length;return s===l?n:s>l?n+new Array(s-l+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+ef(e,Math.max(0,t+s-1))[0]}function jj(e,t){var r=ef(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const Sj={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:nF,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>jj(e*100,t),r:jj,s:lF,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function kj(e){return e}var Nj=Array.prototype.map,Ej=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function cF(e){var t=e.grouping===void 0||e.thousands===void 0?kj:iF(Nj.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?kj:sF(Nj.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function m(p){p=dc(p);var v=p.fill,w=p.align,S=p.sign,_=p.symbol,x=p.zero,k=p.width,N=p.comma,E=p.precision,C=p.trim,O=p.type;O==="n"?(N=!0,O="g"):Sj[O]||(E===void 0&&(E=12),C=!0,O="g"),(x||v==="0"&&w==="=")&&(x=!0,v="0",w="=");var I=_==="$"?r:_==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",L=_==="$"?n:/[%p]/.test(O)?l:"",Y=Sj[O],q=/[defgprs%]/.test(O);E=E===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function U(z){var V=I,ee=L,Q,ae,xe;if(O==="c")ee=Y(z)+ee,z="";else{z=+z;var ye=z<0||1/z<0;if(z=isNaN(z)?f:Y(Math.abs(z),E),C&&(z=oF(z)),ye&&+z==0&&S!=="+"&&(ye=!1),V=(ye?S==="("?S:u:S==="-"||S==="("?"":S)+V,ee=(O==="s"?Ej[8+LE/3]:"")+ee+(ye&&S==="("?")":""),q){for(Q=-1,ae=z.length;++Q<ae;)if(xe=z.charCodeAt(Q),48>xe||xe>57){ee=(xe===46?i+z.slice(Q+1):z.slice(Q))+ee,z=z.slice(0,Q);break}}}N&&!x&&(z=t(z,1/0));var re=V.length+z.length+ee.length,le=re<k?new Array(k-re+1).join(v):"";switch(N&&x&&(z=t(le+z,le.length?k-ee.length:1/0),le=""),w){case"<":z=V+z+ee+le;break;case"=":z=V+le+z+ee;break;case"^":z=le.slice(0,re=le.length>>1)+V+z+ee+le.slice(re);break;default:z=le+V+z+ee;break}return s(z)}return U.toString=function(){return p+""},U}function h(p,v){var w=m((p=dc(p),p.type="f",p)),S=Math.max(-8,Math.min(8,Math.floor(_o(v)/3)))*3,_=Math.pow(10,-S),x=Ej[8+S/3];return function(k){return w(_*k)+x}}return{format:m,formatPrefix:h}}var ld,Fy,FE;uF({thousands:",",grouping:[3],currency:["$",""]});function uF(e){return ld=cF(e),Fy=ld.format,FE=ld.formatPrefix,ld}function dF(e){return Math.max(0,-_o(Math.abs(e)))}function fF(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_o(t)/3)))*3-_o(Math.abs(e)))}function hF(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,_o(t)-_o(e))+1}function UE(e,t,r,n){var i=Sv(e,t,r),s;switch(n=dc(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=fF(i,l))&&(n.precision=s),FE(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=hF(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=dF(i))&&(n.precision=s-(n.type==="%")*2);break}}return Fy(n)}function $s(e){var t=e.domain;return e.ticks=function(r){var n=t();return _v(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return UE(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,l=n[i],u=n[s],f,m,h=10;for(u<l&&(m=l,l=u,u=m,m=i,i=s,s=m);h-- >0;){if(m=jv(l,u,r),m===f)return n[i]=l,n[s]=u,t(n);if(m>0)l=Math.floor(l/m)*m,u=Math.ceil(u/m)*m;else if(m<0)l=Math.ceil(l*m)/m,u=Math.floor(u*m)/m;else break;f=m}return e},e}function zE(){var e=$y();return e.copy=function(){return Ac(e,zE())},Un.apply(e,arguments),$s(e)}function BE(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Zd),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return BE(e).unknown(t)},e=arguments.length?Array.from(e,Zd):[0,1],$s(r)}function VE(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],l;return s<i&&(l=r,r=n,n=l,l=i,i=s,s=l),e[r]=t.floor(i),e[n]=t.ceil(s),e}function Aj(e){return Math.log(e)}function Cj(e){return Math.exp(e)}function mF(e){return-Math.log(-e)}function pF(e){return-Math.exp(-e)}function gF(e){return isFinite(e)?+("1e"+e):e<0?0:e}function vF(e){return e===10?gF:e===Math.E?Math.exp:t=>Math.pow(e,t)}function yF(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Pj(e){return(t,r)=>-e(-t,r)}function Uy(e){const t=e(Aj,Cj),r=t.domain;let n=10,i,s;function l(){return i=yF(n),s=vF(n),r()[0]<0?(i=Pj(i),s=Pj(s),e(mF,pF)):e(Aj,Cj),t}return t.base=function(u){return arguments.length?(n=+u,l()):n},t.domain=function(u){return arguments.length?(r(u),l()):r()},t.ticks=u=>{const f=r();let m=f[0],h=f[f.length-1];const p=h<m;p&&([m,h]=[h,m]);let v=i(m),w=i(h),S,_;const x=u==null?10:+u;let k=[];if(!(n%1)&&w-v<x){if(v=Math.floor(v),w=Math.ceil(w),m>0){for(;v<=w;++v)for(S=1;S<n;++S)if(_=v<0?S/s(-v):S*s(v),!(_<m)){if(_>h)break;k.push(_)}}else for(;v<=w;++v)for(S=n-1;S>=1;--S)if(_=v>0?S/s(-v):S*s(v),!(_<m)){if(_>h)break;k.push(_)}k.length*2<x&&(k=_v(m,h,x))}else k=_v(v,w,Math.min(w-v,x)).map(s);return p?k.reverse():k},t.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=n===10?"s":","),typeof f!="function"&&(!(n%1)&&(f=dc(f)).precision==null&&(f.trim=!0),f=Fy(f)),u===1/0)return f;const m=Math.max(1,n*u/t.ticks().length);return h=>{let p=h/s(Math.round(i(h)));return p*n<n-.5&&(p*=n),p<=m?f(h):""}},t.nice=()=>r(VE(r(),{floor:u=>s(Math.floor(i(u))),ceil:u=>s(Math.ceil(i(u)))})),t}function qE(){const e=Uy(Lf()).domain([1,10]);return e.copy=()=>Ac(e,qE()).base(e.base()),Un.apply(e,arguments),e}function Oj(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Tj(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function zy(e){var t=1,r=e(Oj(t),Tj(t));return r.constant=function(n){return arguments.length?e(Oj(t=+n),Tj(t)):t},$s(r)}function WE(){var e=zy(Lf());return e.copy=function(){return Ac(e,WE()).constant(e.constant())},Un.apply(e,arguments)}function Ij(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function xF(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function wF(e){return e<0?-e*e:e*e}function By(e){var t=e(Rr,Rr),r=1;function n(){return r===1?e(Rr,Rr):r===.5?e(xF,wF):e(Ij(r),Ij(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},$s(t)}function Vy(){var e=By(Lf());return e.copy=function(){return Ac(e,Vy()).exponent(e.exponent())},Un.apply(e,arguments),e}function bF(){return Vy.apply(null,arguments).exponent(.5)}function Dj(e){return Math.sign(e)*e*e}function _F(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function KE(){var e=$y(),t=[0,1],r=!1,n;function i(s){var l=_F(e(s));return isNaN(l)?n:r?Math.round(l):l}return i.invert=function(s){return e.invert(Dj(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,Zd)).map(Dj)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return KE(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Un.apply(i,arguments),$s(i)}function HE(){var e=[],t=[],r=[],n;function i(){var l=0,u=Math.max(1,t.length);for(r=new Array(u-1);++l<u;)r[l-1]=N5(e,l/u);return s}function s(l){return l==null||isNaN(l=+l)?n:t[Nc(r,l)]}return s.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},s.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Ts),i()},s.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},s.unknown=function(l){return arguments.length?(n=l,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return HE().domain(e).range(t).unknown(n)},Un.apply(s,arguments)}function YE(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function l(f){return f!=null&&f<=f?i[Nc(n,f,0,r)]:s}function u(){var f=-1;for(n=new Array(r);++f<r;)n[f]=((f+1)*t-(f-r)*e)/(r+1);return l}return l.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,u()):[e,t]},l.range=function(f){return arguments.length?(r=(i=Array.from(f)).length-1,u()):i.slice()},l.invertExtent=function(f){var m=i.indexOf(f);return m<0?[NaN,NaN]:m<1?[e,n[0]]:m>=r?[n[r-1],t]:[n[m-1],n[m]]},l.unknown=function(f){return arguments.length&&(s=f),l},l.thresholds=function(){return n.slice()},l.copy=function(){return YE().domain([e,t]).range(i).unknown(s)},Un.apply($s(l),arguments)}function GE(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[Nc(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var l=t.indexOf(s);return[e[l-1],e[l]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return GE().domain(e).range(t).unknown(r)},Un.apply(i,arguments)}const ug=new Date,dg=new Date;function Zt(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const l=i(s),u=i.ceil(s);return s-l<u-s?l:u},i.offset=(s,l)=>(t(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,u)=>{const f=[];if(s=i.ceil(s),u=u==null?1:Math.floor(u),!(s<l)||!(u>0))return f;let m;do f.push(m=new Date(+s)),t(s,u),e(s);while(m<s&&s<l);return f},i.filter=s=>Zt(l=>{if(l>=l)for(;e(l),!s(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!s(l););else for(;--u>=0;)for(;t(l,1),!s(l););}),r&&(i.count=(s,l)=>(ug.setTime(+s),dg.setTime(+l),e(ug),e(dg),Math.floor(r(ug,dg))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?l=>n(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const tf=Zt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);tf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Zt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):tf);tf.range;const Bi=1e3,Dn=Bi*60,Vi=Dn*60,Gi=Vi*24,qy=Gi*7,Rj=Gi*30,fg=Gi*365,fa=Zt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Bi)},(e,t)=>(t-e)/Bi,e=>e.getUTCSeconds());fa.range;const Wy=Zt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Bi)},(e,t)=>{e.setTime(+e+t*Dn)},(e,t)=>(t-e)/Dn,e=>e.getMinutes());Wy.range;const Ky=Zt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Dn)},(e,t)=>(t-e)/Dn,e=>e.getUTCMinutes());Ky.range;const Hy=Zt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Bi-e.getMinutes()*Dn)},(e,t)=>{e.setTime(+e+t*Vi)},(e,t)=>(t-e)/Vi,e=>e.getHours());Hy.range;const Yy=Zt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Vi)},(e,t)=>(t-e)/Vi,e=>e.getUTCHours());Yy.range;const Cc=Zt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Dn)/Gi,e=>e.getDate()-1);Cc.range;const Ff=Zt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gi,e=>e.getUTCDate()-1);Ff.range;const JE=Zt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gi,e=>Math.floor(e/Gi));JE.range;function Na(e){return Zt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Dn)/qy)}const Uf=Na(0),rf=Na(1),jF=Na(2),SF=Na(3),jo=Na(4),kF=Na(5),NF=Na(6);Uf.range;rf.range;jF.range;SF.range;jo.range;kF.range;NF.range;function Ea(e){return Zt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/qy)}const zf=Ea(0),nf=Ea(1),EF=Ea(2),AF=Ea(3),So=Ea(4),CF=Ea(5),PF=Ea(6);zf.range;nf.range;EF.range;AF.range;So.range;CF.range;PF.range;const Gy=Zt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Gy.range;const Jy=Zt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Jy.range;const Ji=Zt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ji.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Zt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ji.range;const Xi=Zt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Xi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Zt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Xi.range;function XE(e,t,r,n,i,s){const l=[[fa,1,Bi],[fa,5,5*Bi],[fa,15,15*Bi],[fa,30,30*Bi],[s,1,Dn],[s,5,5*Dn],[s,15,15*Dn],[s,30,30*Dn],[i,1,Vi],[i,3,3*Vi],[i,6,6*Vi],[i,12,12*Vi],[n,1,Gi],[n,2,2*Gi],[r,1,qy],[t,1,Rj],[t,3,3*Rj],[e,1,fg]];function u(m,h,p){const v=h<m;v&&([m,h]=[h,m]);const w=p&&typeof p.range=="function"?p:f(m,h,p),S=w?w.range(m,+h+1):[];return v?S.reverse():S}function f(m,h,p){const v=Math.abs(h-m)/p,w=Oy(([,,x])=>x).right(l,v);if(w===l.length)return e.every(Sv(m/fg,h/fg,p));if(w===0)return tf.every(Math.max(Sv(m,h,p),1));const[S,_]=l[v/l[w-1][2]<l[w][2]/v?w-1:w];return S.every(_)}return[u,f]}const[OF,TF]=XE(Xi,Jy,zf,JE,Yy,Ky),[IF,DF]=XE(Ji,Gy,Uf,Cc,Hy,Wy);function hg(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function mg(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ll(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function RF(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,l=e.shortDays,u=e.months,f=e.shortMonths,m=Fl(i),h=Ul(i),p=Fl(s),v=Ul(s),w=Fl(l),S=Ul(l),_=Fl(u),x=Ul(u),k=Fl(f),N=Ul(f),E={a:ye,A:re,b:le,B:ce,c:null,d:zj,e:zj,f:iU,g:mU,G:gU,H:tU,I:rU,j:nU,L:QE,m:sU,M:aU,p:M,q:D,Q:qj,s:Wj,S:oU,u:lU,U:cU,V:uU,w:dU,W:fU,x:null,X:null,y:hU,Y:pU,Z:vU,"%":Vj},C={a:te,A:_e,b:ne,B:ke,c:null,d:Bj,e:Bj,f:bU,g:OU,G:IU,H:yU,I:xU,j:wU,L:eA,m:_U,M:jU,p:Me,q:Je,Q:qj,s:Wj,S:SU,u:kU,U:NU,V:EU,w:AU,W:CU,x:null,X:null,y:PU,Y:TU,Z:DU,"%":Vj},O={a:U,A:z,b:V,B:ee,c:Q,d:Fj,e:Fj,f:XF,g:Lj,G:$j,H:Uj,I:Uj,j:HF,L:JF,m:KF,M:YF,p:q,q:WF,Q:ZF,s:eU,S:GF,u:UF,U:zF,V:BF,w:FF,W:VF,x:ae,X:xe,y:Lj,Y:$j,Z:qF,"%":QF};E.x=I(r,E),E.X=I(n,E),E.c=I(t,E),C.x=I(r,C),C.X=I(n,C),C.c=I(t,C);function I(ue,Oe){return function(oe){var Z=[],Ee=-1,Ye=0,Nt=ue.length,mt,Dt,vn;for(oe instanceof Date||(oe=new Date(+oe));++Ee<Nt;)ue.charCodeAt(Ee)===37&&(Z.push(ue.slice(Ye,Ee)),(Dt=Mj[mt=ue.charAt(++Ee)])!=null?mt=ue.charAt(++Ee):Dt=mt==="e"?" ":"0",(vn=Oe[mt])&&(mt=vn(oe,Dt)),Z.push(mt),Ye=Ee+1);return Z.push(ue.slice(Ye,Ee)),Z.join("")}}function L(ue,Oe){return function(oe){var Z=Ll(1900,void 0,1),Ee=Y(Z,ue,oe+="",0),Ye,Nt;if(Ee!=oe.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(Oe&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(Ye=mg(Ll(Z.y,0,1)),Nt=Ye.getUTCDay(),Ye=Nt>4||Nt===0?nf.ceil(Ye):nf(Ye),Ye=Ff.offset(Ye,(Z.V-1)*7),Z.y=Ye.getUTCFullYear(),Z.m=Ye.getUTCMonth(),Z.d=Ye.getUTCDate()+(Z.w+6)%7):(Ye=hg(Ll(Z.y,0,1)),Nt=Ye.getDay(),Ye=Nt>4||Nt===0?rf.ceil(Ye):rf(Ye),Ye=Cc.offset(Ye,(Z.V-1)*7),Z.y=Ye.getFullYear(),Z.m=Ye.getMonth(),Z.d=Ye.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),Nt="Z"in Z?mg(Ll(Z.y,0,1)).getUTCDay():hg(Ll(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(Nt+5)%7:Z.w+Z.U*7-(Nt+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,mg(Z)):hg(Z)}}function Y(ue,Oe,oe,Z){for(var Ee=0,Ye=Oe.length,Nt=oe.length,mt,Dt;Ee<Ye;){if(Z>=Nt)return-1;if(mt=Oe.charCodeAt(Ee++),mt===37){if(mt=Oe.charAt(Ee++),Dt=O[mt in Mj?Oe.charAt(Ee++):mt],!Dt||(Z=Dt(ue,oe,Z))<0)return-1}else if(mt!=oe.charCodeAt(Z++))return-1}return Z}function q(ue,Oe,oe){var Z=m.exec(Oe.slice(oe));return Z?(ue.p=h.get(Z[0].toLowerCase()),oe+Z[0].length):-1}function U(ue,Oe,oe){var Z=w.exec(Oe.slice(oe));return Z?(ue.w=S.get(Z[0].toLowerCase()),oe+Z[0].length):-1}function z(ue,Oe,oe){var Z=p.exec(Oe.slice(oe));return Z?(ue.w=v.get(Z[0].toLowerCase()),oe+Z[0].length):-1}function V(ue,Oe,oe){var Z=k.exec(Oe.slice(oe));return Z?(ue.m=N.get(Z[0].toLowerCase()),oe+Z[0].length):-1}function ee(ue,Oe,oe){var Z=_.exec(Oe.slice(oe));return Z?(ue.m=x.get(Z[0].toLowerCase()),oe+Z[0].length):-1}function Q(ue,Oe,oe){return Y(ue,t,Oe,oe)}function ae(ue,Oe,oe){return Y(ue,r,Oe,oe)}function xe(ue,Oe,oe){return Y(ue,n,Oe,oe)}function ye(ue){return l[ue.getDay()]}function re(ue){return s[ue.getDay()]}function le(ue){return f[ue.getMonth()]}function ce(ue){return u[ue.getMonth()]}function M(ue){return i[+(ue.getHours()>=12)]}function D(ue){return 1+~~(ue.getMonth()/3)}function te(ue){return l[ue.getUTCDay()]}function _e(ue){return s[ue.getUTCDay()]}function ne(ue){return f[ue.getUTCMonth()]}function ke(ue){return u[ue.getUTCMonth()]}function Me(ue){return i[+(ue.getUTCHours()>=12)]}function Je(ue){return 1+~~(ue.getUTCMonth()/3)}return{format:function(ue){var Oe=I(ue+="",E);return Oe.toString=function(){return ue},Oe},parse:function(ue){var Oe=L(ue+="",!1);return Oe.toString=function(){return ue},Oe},utcFormat:function(ue){var Oe=I(ue+="",C);return Oe.toString=function(){return ue},Oe},utcParse:function(ue){var Oe=L(ue+="",!0);return Oe.toString=function(){return ue},Oe}}}var Mj={"-":"",_:" ",0:"0"},ur=/^\s*\d+/,MF=/^%/,$F=/[\\^$*+?|[\]().{}]/g;function at(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function LF(e){return e.replace($F,"\\$&")}function Fl(e){return new RegExp("^(?:"+e.map(LF).join("|")+")","i")}function Ul(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function FF(e,t,r){var n=ur.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function UF(e,t,r){var n=ur.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function zF(e,t,r){var n=ur.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function BF(e,t,r){var n=ur.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function VF(e,t,r){var n=ur.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function $j(e,t,r){var n=ur.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Lj(e,t,r){var n=ur.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function qF(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function WF(e,t,r){var n=ur.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function KF(e,t,r){var n=ur.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Fj(e,t,r){var n=ur.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function HF(e,t,r){var n=ur.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Uj(e,t,r){var n=ur.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function YF(e,t,r){var n=ur.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function GF(e,t,r){var n=ur.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function JF(e,t,r){var n=ur.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function XF(e,t,r){var n=ur.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function QF(e,t,r){var n=MF.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function ZF(e,t,r){var n=ur.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function eU(e,t,r){var n=ur.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function zj(e,t){return at(e.getDate(),t,2)}function tU(e,t){return at(e.getHours(),t,2)}function rU(e,t){return at(e.getHours()%12||12,t,2)}function nU(e,t){return at(1+Cc.count(Ji(e),e),t,3)}function QE(e,t){return at(e.getMilliseconds(),t,3)}function iU(e,t){return QE(e,t)+"000"}function sU(e,t){return at(e.getMonth()+1,t,2)}function aU(e,t){return at(e.getMinutes(),t,2)}function oU(e,t){return at(e.getSeconds(),t,2)}function lU(e){var t=e.getDay();return t===0?7:t}function cU(e,t){return at(Uf.count(Ji(e)-1,e),t,2)}function ZE(e){var t=e.getDay();return t>=4||t===0?jo(e):jo.ceil(e)}function uU(e,t){return e=ZE(e),at(jo.count(Ji(e),e)+(Ji(e).getDay()===4),t,2)}function dU(e){return e.getDay()}function fU(e,t){return at(rf.count(Ji(e)-1,e),t,2)}function hU(e,t){return at(e.getFullYear()%100,t,2)}function mU(e,t){return e=ZE(e),at(e.getFullYear()%100,t,2)}function pU(e,t){return at(e.getFullYear()%1e4,t,4)}function gU(e,t){var r=e.getDay();return e=r>=4||r===0?jo(e):jo.ceil(e),at(e.getFullYear()%1e4,t,4)}function vU(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+at(t/60|0,"0",2)+at(t%60,"0",2)}function Bj(e,t){return at(e.getUTCDate(),t,2)}function yU(e,t){return at(e.getUTCHours(),t,2)}function xU(e,t){return at(e.getUTCHours()%12||12,t,2)}function wU(e,t){return at(1+Ff.count(Xi(e),e),t,3)}function eA(e,t){return at(e.getUTCMilliseconds(),t,3)}function bU(e,t){return eA(e,t)+"000"}function _U(e,t){return at(e.getUTCMonth()+1,t,2)}function jU(e,t){return at(e.getUTCMinutes(),t,2)}function SU(e,t){return at(e.getUTCSeconds(),t,2)}function kU(e){var t=e.getUTCDay();return t===0?7:t}function NU(e,t){return at(zf.count(Xi(e)-1,e),t,2)}function tA(e){var t=e.getUTCDay();return t>=4||t===0?So(e):So.ceil(e)}function EU(e,t){return e=tA(e),at(So.count(Xi(e),e)+(Xi(e).getUTCDay()===4),t,2)}function AU(e){return e.getUTCDay()}function CU(e,t){return at(nf.count(Xi(e)-1,e),t,2)}function PU(e,t){return at(e.getUTCFullYear()%100,t,2)}function OU(e,t){return e=tA(e),at(e.getUTCFullYear()%100,t,2)}function TU(e,t){return at(e.getUTCFullYear()%1e4,t,4)}function IU(e,t){var r=e.getUTCDay();return e=r>=4||r===0?So(e):So.ceil(e),at(e.getUTCFullYear()%1e4,t,4)}function DU(){return"+0000"}function Vj(){return"%"}function qj(e){return+e}function Wj(e){return Math.floor(+e/1e3)}var uo,rA,nA;RU({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function RU(e){return uo=RF(e),rA=uo.format,uo.parse,nA=uo.utcFormat,uo.utcParse,uo}function MU(e){return new Date(e)}function $U(e){return e instanceof Date?+e:+new Date(+e)}function Xy(e,t,r,n,i,s,l,u,f,m){var h=$y(),p=h.invert,v=h.domain,w=m(".%L"),S=m(":%S"),_=m("%I:%M"),x=m("%I %p"),k=m("%a %d"),N=m("%b %d"),E=m("%B"),C=m("%Y");function O(I){return(f(I)<I?w:u(I)<I?S:l(I)<I?_:s(I)<I?x:n(I)<I?i(I)<I?k:N:r(I)<I?E:C)(I)}return h.invert=function(I){return new Date(p(I))},h.domain=function(I){return arguments.length?v(Array.from(I,$U)):v().map(MU)},h.ticks=function(I){var L=v();return e(L[0],L[L.length-1],I??10)},h.tickFormat=function(I,L){return L==null?O:m(L)},h.nice=function(I){var L=v();return(!I||typeof I.range!="function")&&(I=t(L[0],L[L.length-1],I??10)),I?v(VE(L,I)):h},h.copy=function(){return Ac(h,Xy(e,t,r,n,i,s,l,u,f,m))},h}function LU(){return Un.apply(Xy(IF,DF,Ji,Gy,Uf,Cc,Hy,Wy,fa,rA).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function FU(){return Un.apply(Xy(OF,TF,Xi,Jy,zf,Ff,Yy,Ky,fa,nA).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Bf(){var e=0,t=1,r,n,i,s,l=Rr,u=!1,f;function m(p){return p==null||isNaN(p=+p)?f:l(i===0?.5:(p=(s(p)-r)*i,u?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t]=p,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),m):[e,t]},m.clamp=function(p){return arguments.length?(u=!!p,m):u},m.interpolator=function(p){return arguments.length?(l=p,m):l};function h(p){return function(v){var w,S;return arguments.length?([w,S]=v,l=p(w,S),m):[l(0),l(1)]}}return m.range=h(Lo),m.rangeRound=h(My),m.unknown=function(p){return arguments.length?(f=p,m):f},function(p){return s=p,r=p(e),n=p(t),i=r===n?0:1/(n-r),m}}function Ls(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function iA(){var e=$s(Bf()(Rr));return e.copy=function(){return Ls(e,iA())},ts.apply(e,arguments)}function sA(){var e=Uy(Bf()).domain([1,10]);return e.copy=function(){return Ls(e,sA()).base(e.base())},ts.apply(e,arguments)}function aA(){var e=zy(Bf());return e.copy=function(){return Ls(e,aA()).constant(e.constant())},ts.apply(e,arguments)}function Qy(){var e=By(Bf());return e.copy=function(){return Ls(e,Qy()).exponent(e.exponent())},ts.apply(e,arguments)}function UU(){return Qy.apply(null,arguments).exponent(.5)}function oA(){var e=[],t=Rr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Nc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ts),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>k5(e,s/n))},r.copy=function(){return oA(t).domain(e)},ts.apply(r,arguments)}function Vf(){var e=0,t=.5,r=1,n=1,i,s,l,u,f,m=Rr,h,p=!1,v;function w(_){return isNaN(_=+_)?v:(_=.5+((_=+h(_))-s)*(n*_<n*s?u:f),m(p?Math.max(0,Math.min(1,_)):_))}w.domain=function(_){return arguments.length?([e,t,r]=_,i=h(e=+e),s=h(t=+t),l=h(r=+r),u=i===s?0:.5/(s-i),f=s===l?0:.5/(l-s),n=s<i?-1:1,w):[e,t,r]},w.clamp=function(_){return arguments.length?(p=!!_,w):p},w.interpolator=function(_){return arguments.length?(m=_,w):m};function S(_){return function(x){var k,N,E;return arguments.length?([k,N,E]=x,m=Q5(_,[k,N,E]),w):[m(0),m(.5),m(1)]}}return w.range=S(Lo),w.rangeRound=S(My),w.unknown=function(_){return arguments.length?(v=_,w):v},function(_){return h=_,i=_(e),s=_(t),l=_(r),u=i===s?0:.5/(s-i),f=s===l?0:.5/(l-s),n=s<i?-1:1,w}}function lA(){var e=$s(Vf()(Rr));return e.copy=function(){return Ls(e,lA())},ts.apply(e,arguments)}function cA(){var e=Uy(Vf()).domain([.1,1,10]);return e.copy=function(){return Ls(e,cA()).base(e.base())},ts.apply(e,arguments)}function uA(){var e=zy(Vf());return e.copy=function(){return Ls(e,uA()).constant(e.constant())},ts.apply(e,arguments)}function Zy(){var e=By(Vf());return e.copy=function(){return Ls(e,Zy()).exponent(e.exponent())},ts.apply(e,arguments)}function zU(){return Zy.apply(null,arguments).exponent(.5)}const Wl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Iy,scaleDiverging:lA,scaleDivergingLog:cA,scaleDivergingPow:Zy,scaleDivergingSqrt:zU,scaleDivergingSymlog:uA,scaleIdentity:BE,scaleImplicit:kv,scaleLinear:zE,scaleLog:qE,scaleOrdinal:Ty,scalePoint:A5,scalePow:Vy,scaleQuantile:HE,scaleQuantize:YE,scaleRadial:KE,scaleSequential:iA,scaleSequentialLog:sA,scaleSequentialPow:Qy,scaleSequentialQuantile:oA,scaleSequentialSqrt:UU,scaleSequentialSymlog:aA,scaleSqrt:bF,scaleSymlog:WE,scaleThreshold:GE,scaleTime:LU,scaleUtc:FU,tickFormat:UE},Symbol.toStringTag,{value:"Module"}));var Fs=e=>e.chartData,BU=J([Fs],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),e0=(e,t,r,n)=>n?BU(e):Fs(e);function ko(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(mn(t)&&mn(r))return!0}return!1}function Kj(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function VU(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,s;if(mn(r))i=r;else if(typeof r=="function")return;if(mn(n))s=n;else if(typeof n=="function")return;var l=[i,s];if(ko(l))return l}}function qU(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(ko(n))return Kj(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,l,u;if(i==="auto")t!=null&&(l=Math.min(...t));else if(Ge(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&L_.test(i)){var f=L_.exec(i);if(f==null||t==null)l=void 0;else{var m=+f[1];l=t[0]-m}}else l=t==null?void 0:t[0];if(s==="auto")t!=null&&(u=Math.max(...t));else if(Ge(s))u=s;else if(typeof s=="function")try{t!=null&&(u=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&F_.test(s)){var h=F_.exec(s);if(h==null||t==null)u=void 0;else{var p=+h[1];u=t[1]+p}}else u=t==null?void 0:t[1];var v=[l,u];if(ko(v))return t==null?v:Kj(v,t,r)}}}var Fo=1e9,WU={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},r0,At=!0,Fn="[DecimalError] ",va=Fn+"Invalid argument: ",t0=Fn+"Exponent out of range: ",Uo=Math.floor,ia=Math.pow,KU=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,cn,sr=1e7,St=7,dA=9007199254740991,sf=Uo(dA/St),Ce={};Ce.absoluteValue=Ce.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ce.comparedTo=Ce.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};Ce.decimalPlaces=Ce.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*St;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ce.dividedBy=Ce.div=function(e){return Ki(this,new this.constructor(e))};Ce.dividedToIntegerBy=Ce.idiv=function(e){var t=this,r=t.constructor;return vt(Ki(t,new r(e),0,1),r.precision)};Ce.equals=Ce.eq=function(e){return!this.cmp(e)};Ce.exponent=function(){return Wt(this)};Ce.greaterThan=Ce.gt=function(e){return this.cmp(e)>0};Ce.greaterThanOrEqualTo=Ce.gte=function(e){return this.cmp(e)>=0};Ce.isInteger=Ce.isint=function(){return this.e>this.d.length-2};Ce.isNegative=Ce.isneg=function(){return this.s<0};Ce.isPositive=Ce.ispos=function(){return this.s>0};Ce.isZero=function(){return this.s===0};Ce.lessThan=Ce.lt=function(e){return this.cmp(e)<0};Ce.lessThanOrEqualTo=Ce.lte=function(e){return this.cmp(e)<1};Ce.logarithm=Ce.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(cn))throw Error(Fn+"NaN");if(r.s<1)throw Error(Fn+(r.s?"NaN":"-Infinity"));return r.eq(cn)?new n(0):(At=!1,t=Ki(fc(r,s),fc(e,s),s),At=!0,vt(t,i))};Ce.minus=Ce.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?mA(t,e):fA(t,(e.s=-e.s,e))};Ce.modulo=Ce.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Fn+"NaN");return r.s?(At=!1,t=Ki(r,e,0,1).times(e),At=!0,r.minus(t)):vt(new n(r),i)};Ce.naturalExponential=Ce.exp=function(){return hA(this)};Ce.naturalLogarithm=Ce.ln=function(){return fc(this)};Ce.negated=Ce.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ce.plus=Ce.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?fA(t,e):mA(t,(e.s=-e.s,e))};Ce.precision=Ce.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(va+e);if(t=Wt(i)+1,n=i.d.length-1,r=n*St+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ce.squareRoot=Ce.sqrt=function(){var e,t,r,n,i,s,l,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(Fn+"NaN")}for(e=Wt(u),At=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=_i(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Uo((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new f(t)):n=new f(i.toString()),r=f.precision,i=l=r+3;;)if(s=n,n=s.plus(Ki(u,s,l+2)).times(.5),_i(s.d).slice(0,l)===(t=_i(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(vt(s,r+1,0),s.times(s).eq(u)){n=s;break}}else if(t!="9999")break;l+=4}return At=!0,vt(n,r)};Ce.times=Ce.mul=function(e){var t,r,n,i,s,l,u,f,m,h=this,p=h.constructor,v=h.d,w=(e=new p(e)).d;if(!h.s||!e.s)return new p(0);for(e.s*=h.s,r=h.e+e.e,f=v.length,m=w.length,f<m&&(s=v,v=w,w=s,l=f,f=m,m=l),s=[],l=f+m,n=l;n--;)s.push(0);for(n=m;--n>=0;){for(t=0,i=f+n;i>n;)u=s[i]+w[n]*v[i-n-1]+t,s[i--]=u%sr|0,t=u/sr|0;s[i]=(s[i]+t)%sr|0}for(;!s[--l];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,At?vt(e,p.precision):e};Ce.toDecimalPlaces=Ce.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ni(e,0,Fo),t===void 0?t=n.rounding:Ni(t,0,8),vt(r,e+Wt(r)+1,t))};Ce.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=_a(n,!0):(Ni(e,0,Fo),t===void 0?t=i.rounding:Ni(t,0,8),n=vt(new i(n),e+1,t),r=_a(n,!0,e+1)),r};Ce.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?_a(i):(Ni(e,0,Fo),t===void 0?t=s.rounding:Ni(t,0,8),n=vt(new s(i),e+Wt(i)+1,t),r=_a(n.abs(),!1,e+Wt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ce.toInteger=Ce.toint=function(){var e=this,t=e.constructor;return vt(new t(e),Wt(e)+1,t.rounding)};Ce.toNumber=function(){return+this};Ce.toPower=Ce.pow=function(e){var t,r,n,i,s,l,u=this,f=u.constructor,m=12,h=+(e=new f(e));if(!e.s)return new f(cn);if(u=new f(u),!u.s){if(e.s<1)throw Error(Fn+"Infinity");return u}if(u.eq(cn))return u;if(n=f.precision,e.eq(cn))return vt(u,n);if(t=e.e,r=e.d.length-1,l=t>=r,s=u.s,l){if((r=h<0?-h:h)<=dA){for(i=new f(cn),t=Math.ceil(n/St+4),At=!1;r%2&&(i=i.times(u),Yj(i.d,t)),r=Uo(r/2),r!==0;)u=u.times(u),Yj(u.d,t);return At=!0,e.s<0?new f(cn).div(i):vt(i,n)}}else if(s<0)throw Error(Fn+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,At=!1,i=e.times(fc(u,n+m)),At=!0,i=hA(i),i.s=s,i};Ce.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=Wt(i),n=_a(i,r<=s.toExpNeg||r>=s.toExpPos)):(Ni(e,1,Fo),t===void 0?t=s.rounding:Ni(t,0,8),i=vt(new s(i),e,t),r=Wt(i),n=_a(i,e<=r||r<=s.toExpNeg,e)),n};Ce.toSignificantDigits=Ce.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ni(e,1,Fo),t===void 0?t=n.rounding:Ni(t,0,8)),vt(new n(r),e,t)};Ce.toString=Ce.valueOf=Ce.val=Ce.toJSON=Ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Wt(e),r=e.constructor;return _a(e,t<=r.toExpNeg||t>=r.toExpPos)};function fA(e,t){var r,n,i,s,l,u,f,m,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),At?vt(t,p):t;if(f=e.d,m=t.d,l=e.e,i=t.e,f=f.slice(),s=l-i,s){for(s<0?(n=f,s=-s,u=m.length):(n=m,i=l,u=f.length),l=Math.ceil(p/St),u=l>u?l+1:u+1,s>u&&(s=u,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(u=f.length,s=m.length,u-s<0&&(s=u,n=m,m=f,f=n),r=0;s;)r=(f[--s]=f[s]+m[s]+r)/sr|0,f[s]%=sr;for(r&&(f.unshift(r),++i),u=f.length;f[--u]==0;)f.pop();return t.d=f,t.e=i,At?vt(t,p):t}function Ni(e,t,r){if(e!==~~e||e<t||e>r)throw Error(va+e)}function _i(e){var t,r,n,i=e.length-1,s="",l=e[0];if(i>0){for(s+=l,t=1;t<i;t++)n=e[t]+"",r=St-n.length,r&&(s+=Es(r)),s+=n;l=e[t],n=l+"",r=St-n.length,r&&(s+=Es(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Ki=(function(){function e(n,i){var s,l=0,u=n.length;for(n=n.slice();u--;)s=n[u]*i+l,n[u]=s%sr|0,l=s/sr|0;return l&&n.unshift(l),n}function t(n,i,s,l){var u,f;if(s!=l)f=s>l?1:-1;else for(u=f=0;u<s;u++)if(n[u]!=i[u]){f=n[u]>i[u]?1:-1;break}return f}function r(n,i,s){for(var l=0;s--;)n[s]-=l,l=n[s]<i[s]?1:0,n[s]=l*sr+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,l){var u,f,m,h,p,v,w,S,_,x,k,N,E,C,O,I,L,Y,q=n.constructor,U=n.s==i.s?1:-1,z=n.d,V=i.d;if(!n.s)return new q(n);if(!i.s)throw Error(Fn+"Division by zero");for(f=n.e-i.e,L=V.length,O=z.length,w=new q(U),S=w.d=[],m=0;V[m]==(z[m]||0);)++m;if(V[m]>(z[m]||0)&&--f,s==null?N=s=q.precision:l?N=s+(Wt(n)-Wt(i))+1:N=s,N<0)return new q(0);if(N=N/St+2|0,m=0,L==1)for(h=0,V=V[0],N++;(m<O||h)&&N--;m++)E=h*sr+(z[m]||0),S[m]=E/V|0,h=E%V|0;else{for(h=sr/(V[0]+1)|0,h>1&&(V=e(V,h),z=e(z,h),L=V.length,O=z.length),C=L,_=z.slice(0,L),x=_.length;x<L;)_[x++]=0;Y=V.slice(),Y.unshift(0),I=V[0],V[1]>=sr/2&&++I;do h=0,u=t(V,_,L,x),u<0?(k=_[0],L!=x&&(k=k*sr+(_[1]||0)),h=k/I|0,h>1?(h>=sr&&(h=sr-1),p=e(V,h),v=p.length,x=_.length,u=t(p,_,v,x),u==1&&(h--,r(p,L<v?Y:V,v))):(h==0&&(u=h=1),p=V.slice()),v=p.length,v<x&&p.unshift(0),r(_,p,x),u==-1&&(x=_.length,u=t(V,_,L,x),u<1&&(h++,r(_,L<x?Y:V,x))),x=_.length):u===0&&(h++,_=[0]),S[m++]=h,u&&_[0]?_[x++]=z[C]||0:(_=[z[C]],x=1);while((C++<O||_[0]!==void 0)&&N--)}return S[0]||S.shift(),w.e=f,vt(w,l?s+Wt(w)+1:s)}})();function hA(e,t){var r,n,i,s,l,u,f=0,m=0,h=e.constructor,p=h.precision;if(Wt(e)>16)throw Error(t0+Wt(e));if(!e.s)return new h(cn);for(At=!1,u=p,l=new h(.03125);e.abs().gte(.1);)e=e.times(l),m+=5;for(n=Math.log(ia(2,m))/Math.LN10*2+5|0,u+=n,r=i=s=new h(cn),h.precision=u;;){if(i=vt(i.times(e),u),r=r.times(++f),l=s.plus(Ki(i,r,u)),_i(l.d).slice(0,u)===_i(s.d).slice(0,u)){for(;m--;)s=vt(s.times(s),u);return h.precision=p,t==null?(At=!0,vt(s,p)):s}s=l}}function Wt(e){for(var t=e.e*St,r=e.d[0];r>=10;r/=10)t++;return t}function pg(e,t,r){if(t>e.LN10.sd())throw At=!0,r&&(e.precision=r),Error(Fn+"LN10 precision limit exceeded");return vt(new e(e.LN10),t)}function Es(e){for(var t="";e--;)t+="0";return t}function fc(e,t){var r,n,i,s,l,u,f,m,h,p=1,v=10,w=e,S=w.d,_=w.constructor,x=_.precision;if(w.s<1)throw Error(Fn+(w.s?"NaN":"-Infinity"));if(w.eq(cn))return new _(0);if(t==null?(At=!1,m=x):m=t,w.eq(10))return t==null&&(At=!0),pg(_,m);if(m+=v,_.precision=m,r=_i(S),n=r.charAt(0),s=Wt(w),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)w=w.times(e),r=_i(w.d),n=r.charAt(0),p++;s=Wt(w),n>1?(w=new _("0."+r),s++):w=new _(n+"."+r.slice(1))}else return f=pg(_,m+2,x).times(s+""),w=fc(new _(n+"."+r.slice(1)),m-v).plus(f),_.precision=x,t==null?(At=!0,vt(w,x)):w;for(u=l=w=Ki(w.minus(cn),w.plus(cn),m),h=vt(w.times(w),m),i=3;;){if(l=vt(l.times(h),m),f=u.plus(Ki(l,new _(i),m)),_i(f.d).slice(0,m)===_i(u.d).slice(0,m))return u=u.times(2),s!==0&&(u=u.plus(pg(_,m+2,x).times(s+""))),u=Ki(u,new _(p),m),_.precision=x,t==null?(At=!0,vt(u,x)):u;u=f,i+=2}}function Hj(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Uo(r/St),e.d=[],n=(r+1)%St,r<0&&(n+=St),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=St;n<i;)e.d.push(+t.slice(n,n+=St));t=t.slice(n),n=St-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),At&&(e.e>sf||e.e<-sf))throw Error(t0+r)}else e.s=0,e.e=0,e.d=[0];return e}function vt(e,t,r){var n,i,s,l,u,f,m,h,p=e.d;for(l=1,s=p[0];s>=10;s/=10)l++;if(n=t-l,n<0)n+=St,i=t,m=p[h=0];else{if(h=Math.ceil((n+1)/St),s=p.length,h>=s)return e;for(m=s=p[h],l=1;s>=10;s/=10)l++;n%=St,i=n-St+l}if(r!==void 0&&(s=ia(10,l-i-1),u=m/s%10|0,f=t<0||p[h+1]!==void 0||m%s,f=r<4?(u||f)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||f||r==6&&(n>0?i>0?m/ia(10,l-i):0:p[h-1])%10&1||r==(e.s<0?8:7))),t<1||!p[0])return f?(s=Wt(e),p.length=1,t=t-s-1,p[0]=ia(10,(St-t%St)%St),e.e=Uo(-t/St)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(n==0?(p.length=h,s=1,h--):(p.length=h+1,s=ia(10,St-n),p[h]=i>0?(m/ia(10,l-i)%ia(10,i)|0)*s:0),f)for(;;)if(h==0){(p[0]+=s)==sr&&(p[0]=1,++e.e);break}else{if(p[h]+=s,p[h]!=sr)break;p[h--]=0,s=1}for(n=p.length;p[--n]===0;)p.pop();if(At&&(e.e>sf||e.e<-sf))throw Error(t0+Wt(e));return e}function mA(e,t){var r,n,i,s,l,u,f,m,h,p,v=e.constructor,w=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),At?vt(t,w):t;if(f=e.d,p=t.d,n=t.e,m=e.e,f=f.slice(),l=m-n,l){for(h=l<0,h?(r=f,l=-l,u=p.length):(r=p,n=m,u=f.length),i=Math.max(Math.ceil(w/St),u)+2,l>i&&(l=i,r.length=1),r.reverse(),i=l;i--;)r.push(0);r.reverse()}else{for(i=f.length,u=p.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(f[i]!=p[i]){h=f[i]<p[i];break}l=0}for(h&&(r=f,f=p,p=r,t.s=-t.s),u=f.length,i=p.length-u;i>0;--i)f[u++]=0;for(i=p.length;i>l;){if(f[--i]<p[i]){for(s=i;s&&f[--s]===0;)f[s]=sr-1;--f[s],f[i]+=sr}f[i]-=p[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--n;return f[0]?(t.d=f,t.e=n,At?vt(t,w):t):new v(0)}function _a(e,t,r){var n,i=Wt(e),s=_i(e.d),l=s.length;return t?(r&&(n=r-l)>0?s=s.charAt(0)+"."+s.slice(1)+Es(n):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Es(-i-1)+s,r&&(n=r-l)>0&&(s+=Es(n))):i>=l?(s+=Es(i+1-l),r&&(n=r-i-1)>0&&(s=s+"."+Es(n))):((n=i+1)<l&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-l)>0&&(i+1===l&&(s+="."),s+=Es(n))),e.s<0?"-"+s:s}function Yj(e,t){if(e.length>t)return e.length=t,!0}function pA(e){var t,r,n;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(va+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return Hj(l,s.toString())}else if(typeof s!="string")throw Error(va+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,KU.test(s))Hj(l,s);else throw Error(va+s)}if(i.prototype=Ce,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=pA,i.config=i.set=HU,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function HU(e){if(!e||typeof e!="object")throw Error(Fn+"Object expected");var t,r,n,i=["precision",1,Fo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Uo(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(va+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(va+r+": "+n);return this}var r0=pA(WU);cn=new r0(1);const ut=r0;var YU=e=>e,gA={},vA=e=>e===gA,Gj=e=>function t(){return arguments.length===0||arguments.length===1&&vA(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},yA=(e,t)=>e===1?t:Gj(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=n.filter(l=>l!==gA).length;return s>=e?t(...n):yA(e-s,Gj(function(){for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];var m=n.map(h=>vA(h)?u.shift():h);return t(...m,...u)}))}),qf=e=>yA(e.length,e),Cv=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},GU=qf((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),JU=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return YU;var i=r.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce((u,f)=>f(u),s(...arguments))}},Pv=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),xA=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t&&i.every((l,u)=>{var f;return l===((f=t)===null||f===void 0?void 0:f[u])})||(t=i,r=e(...i)),r}};function wA(e){var t;return e===0?t=1:t=Math.floor(new ut(e).abs().log(10).toNumber())+1,t}function bA(e,t,r){for(var n=new ut(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}qf((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});qf((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});qf((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var _A=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},jA=(e,t,r)=>{if(e.lte(0))return new ut(0);var n=wA(e.toNumber()),i=new ut(10).pow(n),s=e.div(i),l=n!==1?.05:.1,u=new ut(Math.ceil(s.div(l).toNumber())).add(r).mul(l),f=u.mul(i);return t?new ut(f.toNumber()):new ut(Math.ceil(f.toNumber()))},XU=(e,t,r)=>{var n=new ut(1),i=new ut(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new ut(10).pow(wA(e)-1),i=new ut(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new ut(Math.floor(e)))}else e===0?i=new ut(Math.floor((t-1)/2)):r||(i=new ut(Math.floor(e)));var l=Math.floor((t-1)/2),u=JU(GU(f=>i.add(new ut(f-l).mul(n)).toNumber()),Cv);return u(0,t)},SA=function(t,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new ut(0),tickMin:new ut(0),tickMax:new ut(0)};var l=jA(new ut(r).sub(t).div(n-1),i,s),u;t<=0&&r>=0?u=new ut(0):(u=new ut(t).add(r).div(2),u=u.sub(new ut(u).mod(l)));var f=Math.ceil(u.sub(t).div(l).toNumber()),m=Math.ceil(new ut(r).sub(u).div(l).toNumber()),h=f+m+1;return h>n?SA(t,r,n,i,s+1):(h<n&&(m=r>0?m+(n-h):m,f=r>0?f:f+(n-h)),{step:l,tickMin:u.sub(new ut(f).mul(l)),tickMax:u.add(new ut(m).mul(l))})};function QU(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(n,2),[l,u]=_A([t,r]);if(l===-1/0||u===1/0){var f=u===1/0?[l,...Cv(0,n-1).map(()=>1/0)]:[...Cv(0,n-1).map(()=>-1/0),u];return t>r?Pv(f):f}if(l===u)return XU(l,n,i);var{step:m,tickMin:h,tickMax:p}=SA(l,u,s,i,0),v=bA(h,p.add(new ut(.1).mul(m)),m);return t>r?Pv(v):v}function ZU(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,l]=_A([r,n]);if(s===-1/0||l===1/0)return[r,n];if(s===l)return[s];var u=Math.max(t,2),f=jA(new ut(l).sub(s).div(u-1),i,0),m=[...bA(new ut(s),new ut(l),f),l];return i===!1&&(m=m.map(h=>Math.round(h))),r>n?Pv(m):m}var ez=xA(QU),tz=xA(ZU),kA=e=>e.rootProps.maxBarSize,rz=e=>e.rootProps.barGap,NA=e=>e.rootProps.barCategoryGap,nz=e=>e.rootProps.barSize,Wf=e=>e.rootProps.stackOffset,n0=e=>e.options.chartName,i0=e=>e.rootProps.syncId,EA=e=>e.rootProps.syncMethod,s0=e=>e.options.eventEmitter,Ui={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},on={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Kf=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},iz={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ui.angleAxisId,includeHidden:!1,name:void 0,reversed:Ui.reversed,scale:Ui.scale,tick:Ui.tick,tickCount:void 0,ticks:void 0,type:Ui.type,unit:void 0},sz={allowDataOverflow:on.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:on.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:on.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:on.scale,tick:on.tick,tickCount:on.tickCount,ticks:void 0,type:on.type,unit:void 0},az={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ui.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ui.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ui.scale,tick:Ui.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},oz={allowDataOverflow:on.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:on.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:on.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:on.scale,tick:on.tick,tickCount:on.tickCount,ticks:void 0,type:"category",unit:void 0},a0=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?az:iz,o0=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?oz:sz,Hf=e=>e.polarOptions,l0=J([Zi,es,cr],c6),AA=J([Hf,l0],(e,t)=>{if(e!=null)return si(e.innerRadius,t,0)}),CA=J([Hf,l0],(e,t)=>{if(e!=null)return si(e.outerRadius,t,t*.8)}),lz=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},PA=J([Hf],lz);J([a0,PA],Kf);var OA=J([l0,AA,CA],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});J([o0,OA],Kf);var TA=J([dt,Hf,AA,CA,Zi,es],(e,t,r,n,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:u,startAngle:f,endAngle:m}=t;return{cx:si(l,i,i/2),cy:si(u,s,s/2),innerRadius:r,outerRadius:n,startAngle:f,endAngle:m,clockWise:!1}}}),Kt=(e,t)=>t,Yf=(e,t,r)=>r;function c0(e){return e==null?void 0:e.id}var er=e=>{var t=dt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},zo=e=>e.tooltip.settings.axisId,dr=e=>{var t=er(e),r=zo(e);return Pc(e,t,r)},IA=J([dr],e=>e==null?void 0:e.dataKey);function DA(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:s}=r,l=new Map;return e.forEach(u=>{var f,m=(f=u.data)!==null&&f!==void 0?f:n;if(!(m==null||m.length===0)){var h=c0(u);m.forEach((p,v)=>{var w=s==null||i?v:String(Mr(p,s,null)),S=Mr(p,u.dataKey,0),_;l.has(w)?_=l.get(w):_={},Object.assign(_,{[h]:S}),l.set(w,_)})}}),Array.from(l.values())}function Gf(e){return e.stackId!=null&&e.dataKey!=null}function Jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function af(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jj(Object(r),!0).forEach(function(n){cz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cz(e,t,r){return(t=uz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uz(e){var t=dz(e,"string");return typeof t=="symbol"?t:t+""}function dz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ov=[0,"auto"],rn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},RA=(e,t)=>e.cartesianAxis.xAxis[t],rs=(e,t)=>{var r=RA(e,t);return r??rn},nn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Ov,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:kc},MA=(e,t)=>e.cartesianAxis.yAxis[t],ns=(e,t)=>{var r=MA(e,t);return r??nn},fz={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},u0=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??fz},Gr=(e,t,r)=>{switch(t){case"xAxis":return rs(e,r);case"yAxis":return ns(e,r);case"zAxis":return u0(e,r);case"angleAxis":return a0(e,r);case"radiusAxis":return o0(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},hz=(e,t,r)=>{switch(t){case"xAxis":return rs(e,r);case"yAxis":return ns(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Pc=(e,t,r)=>{switch(t){case"xAxis":return rs(e,r);case"yAxis":return ns(e,r);case"angleAxis":return a0(e,r);case"radiusAxis":return o0(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},$A=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function LA(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var d0=e=>e.graphicalItems.cartesianItems,mz=J([Kt,Yf],LA),FA=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Oc=J([d0,Gr,mz],FA),UA=J([Oc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Gf)),zA=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),BA=J([Oc],zA),VA=e=>e.map(t=>t.data).filter(Boolean).flat(1),pz=J([Oc],VA),qA=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},f0=J([pz,e0],qA),WA=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Mr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Mr(i,n)}))):e.map(n=>({value:n})),Jf=J([f0,Gr,Oc],WA);function KA(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Aa(e){return e.filter(t=>ki(t)||t instanceof Date).map(Number).filter(t=>$n(t)===!1)}function gz(e,t,r){return!r||typeof t!="number"||$n(t)?[]:r.length?Aa(r.flatMap(n=>{var i=Mr(e,n.dataKey),s,l;if(Array.isArray(i)?[s,l]=i:s=l=i,!(!mn(s)||!mn(l)))return[t-s,t+l]})):[]}var vz=J([UA,e0,dr],DA),HA=(e,t,r)=>{var n={},i=t.reduce((s,l)=>(l.stackId==null||(s[l.stackId]==null&&(s[l.stackId]=[]),s[l.stackId].push(l)),s),n);return Object.fromEntries(Object.entries(i).map(s=>{var[l,u]=s,f=u.map(c0);return[l,{stackedData:k6(e,f,r),graphicalItems:u}]}))},Tv=J([vz,UA,Wf],HA),YA=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(r!=="zAxis"){var s=P6(e,n,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},yz=J([Tv,Fs,Kt],YA),GA=(e,t,r,n,i)=>r.length>0?e.flatMap(s=>r.flatMap(l=>{var u,f,m=(u=n[l.id])===null||u===void 0?void 0:u.filter(p=>KA(i,p)),h=Mr(s,(f=t.dataKey)!==null&&f!==void 0?f:l.dataKey);return{value:h,errorDomain:gz(s,h,m)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(s=>({value:Mr(s,t.dataKey),errorDomain:[]})):e.map(s=>({value:s,errorDomain:[]})),Xf=e=>e.errorBars,JA=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>KA(r,n));J([BA,Xf,Kt],JA);var xz=J([f0,Gr,BA,Xf,Kt],GA);function wz(e){var{value:t}=e;if(ki(t)||t instanceof Date)return t}var Xj=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=Aa(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},bz=(e,t,r)=>{var n=e.map(wz).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&hN(n))?PE(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},h0=e=>{var t;if(e==null||!("domain"in e))return Ov;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Aa(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Ov},of=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),l=Math.min(...s),u=Math.max(...s);return[l,u]}},XA=e=>e.referenceElements.dots,Bo=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),_z=J([XA,Kt,Yf],Bo),QA=e=>e.referenceElements.areas,jz=J([QA,Kt,Yf],Bo),ZA=e=>e.referenceElements.lines,Sz=J([ZA,Kt,Yf],Bo),e2=(e,t)=>{var r=Aa(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},kz=J(_z,Kt,e2),t2=(e,t)=>{var r=Aa(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Nz=J([jz,Kt],t2),r2=(e,t)=>{var r=Aa(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Ez=J(Sz,Kt,r2),Az=J(kz,Ez,Nz,(e,t,r)=>of(e,r,t)),Cz=J([Gr],h0),n2=(e,t,r,n,i,s,l)=>{var u=VU(t,e.allowDataOverflow);if(u!=null)return u;var f=s==="vertical"&&l==="xAxis"||s==="horizontal"&&l==="yAxis",m=f?of(r,i,Xj(n)):of(i,Xj(n));return qU(t,m,e.allowDataOverflow)},Pz=J([Gr,Cz,yz,xz,Az,dt,Kt],n2),Oz=[0,1],i2=(e,t,r,n,i,s,l)=>{if(!((e==null||r==null||r.length===0)&&l===void 0)){var{dataKey:u,type:f}=e,m=ka(t,s);return m&&u==null?PE(0,r.length):f==="category"?bz(n,e,m):i==="expand"?Oz:l}},m0=J([Gr,dt,f0,Jf,Wf,Kt,Pz],i2),s2=(e,t,r,n,i)=>{if(e!=null){var{scale:s,type:l}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":l==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var u="scale".concat(bc(s));return u in Wl?u:"point"}}},Tc=J([Gr,dt,$A,n0,Kt],s2);function Tz(e){if(e!=null){if(e in Wl)return Wl[e]();var t="scale".concat(bc(e));if(t in Wl)return Wl[t]()}}function p0(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=Tz(t);if(i!=null){var s=i.domain(r).range(n);return w6(s),s}}}var a2=(e,t,r)=>{var n=h0(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&ko(e))return ez(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ko(e))return tz(e,t.tickCount,t.allowDecimals)}},g0=J([m0,Pc,Tc],a2),o2=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ko(t)&&Array.isArray(r)&&r.length>0){var i=t[0],s=r[0],l=t[1],u=r[r.length-1];return[Math.min(i,s),Math.max(l,u)]}return t},Iz=J([Gr,m0,g0,Kt],o2),Dz=J(Jf,Gr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Aa(e.map(u=>u.value))).sort((u,f)=>u-f);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var s=0;s<n.length-1;s++){var l=n[s+1]-n[s];r=Math.min(r,l)}return r/i}}),l2=J(Dz,dt,NA,cr,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!mn(e))return 0;var s=t==="vertical"?n.height:n.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var l=si(r,e*s),u=e*s/2;return u-l-(u-l)/s*l}return 0}),Rz=(e,t)=>{var r=rs(e,t);return r==null||typeof r.padding!="string"?0:l2(e,"xAxis",t,r.padding)},Mz=(e,t)=>{var r=ns(e,t);return r==null||typeof r.padding!="string"?0:l2(e,"yAxis",t,r.padding)},$z=J(rs,Rz,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),Lz=J(ns,Mz,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),Fz=J([cr,$z,$f,Mf,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),Uz=J([cr,dt,Lz,$f,Mf,(e,t,r)=>r],(e,t,r,n,i,s)=>{var{padding:l}=i;return s?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Ic=(e,t,r,n)=>{var i;switch(t){case"xAxis":return Fz(e,r,n);case"yAxis":return Uz(e,r,n);case"zAxis":return(i=u0(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return PA(e);case"radiusAxis":return OA(e,r);default:return}},c2=J([Gr,Ic],Kf),Vo=J([Gr,Tc,Iz,c2],p0);J([Oc,Xf,Kt],JA);function u2(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Qf=(e,t)=>t,Zf=(e,t,r)=>r,zz=J(Df,Qf,Zf,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(u2)),Bz=J(Rf,Qf,Zf,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(u2)),d2=(e,t)=>({width:e.width,height:t.height}),Vz=(e,t)=>{var r=typeof t.width=="number"?t.width:kc;return{width:r,height:e.height}},f2=J(cr,rs,d2),qz=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Wz=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Kz=J(es,cr,zz,Qf,Zf,(e,t,r,n,i)=>{var s={},l;return r.forEach(u=>{var f=d2(t,u);l==null&&(l=qz(t,n,e));var m=n==="top"&&!i||n==="bottom"&&i;s[u.id]=l-Number(m)*f.height,l+=(m?-1:1)*f.height}),s}),Hz=J(Zi,cr,Bz,Qf,Zf,(e,t,r,n,i)=>{var s={},l;return r.forEach(u=>{var f=Vz(t,u);l==null&&(l=Wz(t,n,e));var m=n==="left"&&!i||n==="right"&&i;s[u.id]=l-Number(m)*f.width,l+=(m?-1:1)*f.width}),s}),Yz=(e,t)=>{var r=rs(e,t);if(r!=null)return Kz(e,r.orientation,r.mirror)},Gz=J([cr,rs,Yz,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),Jz=(e,t)=>{var r=ns(e,t);if(r!=null)return Hz(e,r.orientation,r.mirror)},Xz=J([cr,ns,Jz,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),h2=J(cr,ns,(e,t)=>{var r=typeof t.width=="number"?t.width:kc;return{width:r,height:e.height}}),Qj=(e,t,r)=>{switch(t){case"xAxis":return f2(e,r).width;case"yAxis":return h2(e,r).height;default:return}},m2=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:l}=r,u=ka(e,n),f=t.map(m=>m.value);if(l&&u&&s==="category"&&i&&hN(f))return f}},v0=J([dt,Jf,Gr,Kt],m2),p2=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,l=ka(e,n);if(l&&(i==="number"||s!=="auto"))return t.map(u=>u.value)}},y0=J([dt,Jf,Pc,Kt],p2);J([dt,hz,Tc,Vo,v0,y0,Ic,g0,Kt],(e,t,r,n,i,s,l,u,f)=>{if(t==null)return null;var m=ka(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:s,duplicateDomain:i,isCategorical:m,niceTicks:u,range:l,realScaleType:r,scale:n}});var Qz=(e,t,r,n,i,s,l,u,f)=>{if(!(t==null||n==null)){var m=ka(e,f),{type:h,ticks:p,tickCount:v}=t,w=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,S=h==="category"&&n.bandwidth?n.bandwidth()/w:0;S=f==="angleAxis"&&s!=null&&s.length>=2?un(s[0]-s[1])*2*S:S;var _=p||i;if(_){var x=_.map((k,N)=>{var E=l?l.indexOf(k):k;return{index:N,coordinate:n(E)+S,value:k,offset:S}});return x.filter(k=>!$n(k.coordinate))}return m&&u?u.map((k,N)=>({coordinate:n(k)+S,value:k,index:N,offset:S})):n.ticks?n.ticks(v).map(k=>({coordinate:n(k)+S,value:k,offset:S})):n.domain().map((k,N)=>({coordinate:n(k)+S,value:l?l[k]:k,index:N,offset:S}))}},g2=J([dt,Pc,Tc,Vo,g0,Ic,v0,y0,Kt],Qz),Zz=(e,t,r,n,i,s,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var u=ka(e,l),{tickCount:f}=t,m=0;return m=l==="angleAxis"&&(n==null?void 0:n.length)>=2?un(n[0]-n[1])*2*m:m,u&&s?s.map((h,p)=>({coordinate:r(h)+m,value:h,index:p,offset:m})):r.ticks?r.ticks(f).map(h=>({coordinate:r(h)+m,value:h,offset:m})):r.domain().map((h,p)=>({coordinate:r(h)+m,value:i?i[h]:h,index:p,offset:m}))}},No=J([dt,Pc,Vo,Ic,v0,y0,Kt],Zz),Eo=J(Gr,Vo,(e,t)=>{if(!(e==null||t==null))return af(af({},e),{},{scale:t})}),eB=J([Gr,Tc,m0,c2],p0);J((e,t,r)=>u0(e,r),eB,(e,t)=>{if(!(e==null||t==null))return af(af({},e),{},{scale:t})});var tB=J([dt,Df,Rf],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),v2=e=>e.options.defaultTooltipEventType,y2=e=>e.options.validateTooltipEventTypes;function x2(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function x0(e,t){var r=v2(e),n=y2(e);return x2(t,r,n)}function rB(e){return Ve(t=>x0(t,e))}var w2=(e,t)=>{var r,n=Number(t);if(!($n(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},nB=e=>e.tooltip.settings,Os={active:!1,index:null,dataKey:void 0,coordinate:void 0},iB={itemInteraction:{click:Os,hover:Os},axisInteraction:{click:Os,hover:Os},keyboardInteraction:Os,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},b2=gn({name:"tooltip",initialState:iB,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=Wi(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:sB,removeTooltipEntrySettings:aB,setTooltipSettingsState:oB,setActiveMouseOverItemIndex:_2,mouseLeaveItem:lB,mouseLeaveChart:j2,setActiveClickItemIndex:cB,setMouseOverAxisIndex:S2,setMouseClickAxisIndex:uB,setSyncInteraction:Iv,setKeyboardInteraction:Dv}=b2.actions,dB=b2.reducer;function Zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zj(Object(r),!0).forEach(function(n){fB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fB(e,t,r){return(t=hB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hB(e){var t=mB(e,"string");return typeof t=="symbol"?t:t+""}function mB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pB(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function gB(e){return e.index!=null}var k2=(e,t,r,n)=>{if(t==null)return Os;var i=pB(e,t,r);if(i==null)return Os;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(gB(i)){if(s)return cd(cd({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return cd(cd({},Os),{},{coordinate:i.coordinate})},w0=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!mn(n))return r;var i=0,s=1/0;return t.length>0&&(s=t.length-1),String(Math.max(i,Math.min(n,s)))},N2=(e,t,r,n,i,s,l,u)=>{if(!(s==null||u==null)){var f=l[0],m=f==null?void 0:u(f.positions,s);if(m!=null)return m;var h=i==null?void 0:i[Number(s)];if(h)switch(r){case"horizontal":return{x:h.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:h.coordinate}}}},E2=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.dataKey)===i})},Dc=e=>e.options.tooltipPayloadSearcher,qo=e=>e.tooltip;function eS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eS(Object(r),!0).forEach(function(n){vB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vB(e,t,r){return(t=yB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yB(e){var t=xB(e,"string");return typeof t=="symbol"?t:t+""}function xB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wB(e,t){return e??t}var A2=(e,t,r,n,i,s,l)=>{if(!(t==null||s==null)){var{chartData:u,computedData:f,dataStartIndex:m,dataEndIndex:h}=r,p=[];return e.reduce((v,w)=>{var S,{dataDefinedOnItem:_,settings:x}=w,k=wB(_,u),N=Array.isArray(k)?vE(k,m,h):k,E=(S=x==null?void 0:x.dataKey)!==null&&S!==void 0?S:n,C=x==null?void 0:x.nameKey,O;if(n&&Array.isArray(N)&&!Array.isArray(N[0])&&l==="axis"?O=uM(N,n,i):O=s(N,t,f,C),Array.isArray(O))O.forEach(L=>{var Y=tS(tS({},x),{},{name:L.name,unit:L.unit,color:void 0,fill:void 0});v.push(U_({tooltipEntrySettings:Y,dataKey:L.dataKey,payload:L.payload,value:Mr(L.payload,L.dataKey),name:L.name}))});else{var I;v.push(U_({tooltipEntrySettings:x,dataKey:E,payload:O,value:Mr(O,E),name:(I=Mr(O,C))!==null&&I!==void 0?I:x==null?void 0:x.name}))}return v},p)}},b0=J([dr,dt,$A,n0,er],s2),bB=J([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),_B=J([er,zo],LA),Rc=J([bB,dr,_B],FA),jB=J([Rc],e=>e.filter(Gf)),SB=J([Rc],VA),Wo=J([SB,Fs],qA),kB=J([jB,Fs,dr],DA),_0=J([Wo,dr,Rc],WA),NB=J([dr],h0),EB=J([Rc],e=>e.filter(Gf)),AB=J([kB,EB,Wf],HA),CB=J([AB,Fs,er],YA),PB=J([Rc],zA),OB=J([Wo,dr,PB,Xf,er],GA),TB=J([XA,er,zo],Bo),IB=J([TB,er],e2),DB=J([QA,er,zo],Bo),RB=J([DB,er],t2),MB=J([ZA,er,zo],Bo),$B=J([MB,er],r2),LB=J([IB,$B,RB],of),FB=J([dr,NB,CB,OB,LB,dt,er],n2),C2=J([dr,dt,Wo,_0,Wf,er,FB],i2),UB=J([C2,dr,b0],a2),zB=J([dr,C2,UB,er],o2),P2=e=>{var t=er(e),r=zo(e),n=!1;return Ic(e,t,r,n)},O2=J([dr,P2],Kf),T2=J([dr,b0,zB,O2],p0),BB=J([dt,_0,dr,er],m2),VB=J([dt,_0,dr,er],p2),qB=(e,t,r,n,i,s,l,u)=>{if(t){var{type:f}=t,m=ka(e,u);if(n){var h=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,p=f==="category"&&n.bandwidth?n.bandwidth()/h:0;return p=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?un(i[0]-i[1])*2*p:p,m&&l?l.map((v,w)=>({coordinate:n(v)+p,value:v,index:w,offset:p})):n.domain().map((v,w)=>({coordinate:n(v)+p,value:s?s[v]:v,index:w,offset:p}))}}},is=J([dt,dr,b0,T2,P2,BB,VB,er],qB),j0=J([v2,y2,nB],(e,t,r)=>x2(r.shared,e,t)),I2=e=>e.tooltip.settings.trigger,S0=e=>e.tooltip.settings.defaultIndex,eh=J([qo,j0,I2,S0],k2),Ao=J([eh,Wo],w0),D2=J([is,Ao],w2),R2=J([eh],e=>{if(e)return e.dataKey}),M2=J([qo,j0,I2,S0],E2),WB=J([Zi,es,dt,cr,is,S0,M2,Dc],N2),KB=J([eh,WB],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),HB=J([eh],e=>e.active),YB=J([M2,Ao,Fs,IA,D2,Dc,j0],A2);J([YB],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function rS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rS(Object(r),!0).forEach(function(n){GB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GB(e,t,r){return(t=JB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JB(e){var t=XB(e,"string");return typeof t=="symbol"?t:t+""}function XB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QB=()=>Ve(dr),ZB=()=>{var e=QB(),t=Ve(is),r=Ve(T2);return ky(nS(nS({},e),{},{scale:r}),t)},e8=()=>Ve(n0),k0=(e,t)=>t,$2=(e,t,r)=>r,N0=(e,t,r,n)=>n,t8=J(is,e=>Af(e,t=>t.coordinate)),E0=J([qo,k0,$2,N0],k2),L2=J([E0,Wo],w0),r8=(e,t,r)=>{if(t!=null){var n=qo(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},F2=J([qo,k0,$2,N0],E2),lf=J([Zi,es,dt,cr,is,N0,F2,Dc],N2),n8=J([E0,lf],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),U2=J(is,L2,w2),i8=J([F2,L2,Fs,IA,U2,Dc,k0],A2),s8=J([E0],e=>({isActive:e.active,activeIndex:e.index})),a8=(e,t,r,n,i,s,l,u)=>{if(!(!e||!t||!n||!i||!s)){var f=O6(e.chartX,e.chartY,t,r,u);if(f){var m=I6(f,t),h=y6(m,l,s,n,i),p=T6(t,s,h,f);return{activeIndex:String(h),activeCoordinate:p}}}};function Rv(){return Rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rv.apply(null,arguments)}function iS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ud(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iS(Object(r),!0).forEach(function(n){o8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o8(e,t,r){return(t=l8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l8(e){var t=c8(e,"string");return typeof t=="symbol"?t:t+""}function c8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u8(e){var{coordinate:t,payload:r,index:n,offset:i,tooltipAxisBandSize:s,layout:l,cursor:u,tooltipEventType:f,chartName:m}=e,h=t,p=r,v=n;if(!u||!h||m!=="ScatterChart"&&f!=="axis")return null;var w,S;if(m==="ScatterChart")w=h,S=AL;else if(m==="BarChart")w=CL(l,h,i,s),S=NE;else if(l==="radial"){var{cx:_,cy:x,radius:k,startAngle:N,endAngle:E}=EE(h);w={cx:_,cy:x,startAngle:N,endAngle:E,innerRadius:k,outerRadius:k},S=CE}else w={points:l5(l,h,i)},S=xL;var C=typeof u=="object"&&"className"in u?u.className:void 0,O=ud(ud(ud(ud({stroke:"#ccc",pointerEvents:"none"},i),w),wr(u,!1)),{},{payload:p,payloadIndex:v,className:kt("recharts-tooltip-cursor",C)});return b.isValidElement(u)?b.cloneElement(u,O):b.createElement(S,O)}function d8(e){var t=ZB(),r=Y6(),n=Ay(),i=e8();return b.createElement(u8,Rv({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var z2=b.createContext(null),f8=()=>b.useContext(z2),gg={exports:{}},sS;function h8(){return sS||(sS=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(f,m,h){this.fn=f,this.context=m,this.once=h||!1}function s(f,m,h,p,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var w=new i(h,p||f,v),S=r?r+m:m;return f._events[S]?f._events[S].fn?f._events[S]=[f._events[S],w]:f._events[S].push(w):(f._events[S]=w,f._eventsCount++),f}function l(f,m){--f._eventsCount===0?f._events=new n:delete f._events[m]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var m=[],h,p;if(this._eventsCount===0)return m;for(p in h=this._events)t.call(h,p)&&m.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(h)):m},u.prototype.listeners=function(m){var h=r?r+m:m,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,w=p.length,S=new Array(w);v<w;v++)S[v]=p[v].fn;return S},u.prototype.listenerCount=function(m){var h=r?r+m:m,p=this._events[h];return p?p.fn?1:p.length:0},u.prototype.emit=function(m,h,p,v,w,S){var _=r?r+m:m;if(!this._events[_])return!1;var x=this._events[_],k=arguments.length,N,E;if(x.fn){switch(x.once&&this.removeListener(m,x.fn,void 0,!0),k){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,h),!0;case 3:return x.fn.call(x.context,h,p),!0;case 4:return x.fn.call(x.context,h,p,v),!0;case 5:return x.fn.call(x.context,h,p,v,w),!0;case 6:return x.fn.call(x.context,h,p,v,w,S),!0}for(E=1,N=new Array(k-1);E<k;E++)N[E-1]=arguments[E];x.fn.apply(x.context,N)}else{var C=x.length,O;for(E=0;E<C;E++)switch(x[E].once&&this.removeListener(m,x[E].fn,void 0,!0),k){case 1:x[E].fn.call(x[E].context);break;case 2:x[E].fn.call(x[E].context,h);break;case 3:x[E].fn.call(x[E].context,h,p);break;case 4:x[E].fn.call(x[E].context,h,p,v);break;default:if(!N)for(O=1,N=new Array(k-1);O<k;O++)N[O-1]=arguments[O];x[E].fn.apply(x[E].context,N)}}return!0},u.prototype.on=function(m,h,p){return s(this,m,h,p,!1)},u.prototype.once=function(m,h,p){return s(this,m,h,p,!0)},u.prototype.removeListener=function(m,h,p,v){var w=r?r+m:m;if(!this._events[w])return this;if(!h)return l(this,w),this;var S=this._events[w];if(S.fn)S.fn===h&&(!v||S.once)&&(!p||S.context===p)&&l(this,w);else{for(var _=0,x=[],k=S.length;_<k;_++)(S[_].fn!==h||v&&!S[_].once||p&&S[_].context!==p)&&x.push(S[_]);x.length?this._events[w]=x.length===1?x[0]:x:l(this,w)}return this},u.prototype.removeAllListeners=function(m){var h;return m?(h=r?r+m:m,this._events[h]&&l(this,h)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(gg)),gg.exports}var m8=h8();const p8=ai(m8);var hc=new p8,Mv="recharts.syncEvent.tooltip",aS="recharts.syncEvent.brush";function g8(e,t){if(t){var r=Number.parseInt(t,10);if(!$n(r))return e==null?void 0:e[r]}}var v8={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},B2=gn({name:"options",initialState:v8,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),y8=B2.reducer,{createEventEmitter:x8}=B2.actions;function w8(e){return e.tooltip.syncInteraction}var b8={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},V2=gn({name:"chartData",initialState:b8,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:oS,setDataStartEndIndexes:_8,setComputedData:JK}=V2.actions,j8=V2.reducer,S8=["x","y"];function lS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ea(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lS(Object(r),!0).forEach(function(n){k8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k8(e,t,r){return(t=N8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N8(e){var t=E8(e,"string");return typeof t=="symbol"?t:t+""}function E8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A8(e,t){if(e==null)return{};var r,n,i=C8(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function C8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var q2=()=>{};function P8(){var e=Ve(i0),t=Ve(s0),r=lr(),n=Ve(EA),i=Ve(is),s=Ay(),l=Ey(),u=Ve(f=>f.rootProps.className);b.useEffect(()=>{if(e==null)return q2;var f=(m,h,p)=>{if(t!==p&&e===m){if(n==="index"){var v;if(l&&h!==null&&h!==void 0&&(v=h.payload)!==null&&v!==void 0&&v.coordinate){var w=h.payload.coordinate,{x:S,y:_}=w,x=A8(w,S8),k=ea(ea(ea({},x),typeof S=="number"&&{x:Math.max(l.x,Math.min(S,l.x+l.width))}),typeof _=="number"&&{y:Math.max(l.y,Math.min(_,l.y+l.height))}),N=ea(ea({},h),{},{payload:ea(ea({},h.payload),{},{coordinate:k})});r(N)}else r(h);return}if(i!=null){var E;if(typeof n=="function"){var C={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},O=n(i,C);E=i[O]}else n==="value"&&(E=i.find(ee=>String(ee.value)===h.payload.label));var{coordinate:I}=h.payload;if(E==null||h.payload.active===!1||I==null||l==null){r(Iv({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:L,y:Y}=I,q=Math.min(L,l.x+l.width),U=Math.min(Y,l.y+l.height),z={x:s==="horizontal"?E.coordinate:q,y:s==="horizontal"?U:E.coordinate},V=Iv({active:h.payload.active,coordinate:z,dataKey:h.payload.dataKey,index:String(E.index),label:h.payload.label});r(V)}}};return hc.on(Mv,f),()=>{hc.off(Mv,f)}},[u,r,t,e,n,i,s,l])}function O8(){var e=Ve(i0),t=Ve(s0),r=lr();b.useEffect(()=>{if(e==null)return q2;var n=(i,s,l)=>{t!==l&&e===i&&r(_8(s))};return hc.on(aS,n),()=>{hc.off(aS,n)}},[r,t,e])}function T8(){var e=lr();b.useEffect(()=>{e(x8())},[e]),P8(),O8()}function I8(e,t,r,n,i,s){var l=Ve(v=>r8(v,e,t)),u=Ve(s0),f=Ve(i0),m=Ve(EA),h=Ve(w8),p=h==null?void 0:h.active;b.useEffect(()=>{if(!p&&f!=null&&u!=null){var v=Iv({active:s,coordinate:r,dataKey:l,index:i,label:typeof n=="number"?String(n):n});hc.emit(Mv,f,v,u)}},[p,r,l,i,n,u,f,m,s])}function cS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cS(Object(r),!0).forEach(function(n){D8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D8(e,t,r){return(t=R8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R8(e){var t=M8(e,"string");return typeof t=="symbol"?t:t+""}function M8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $8(e){return e.dataKey}function L8(e,t){return b.isValidElement(e)?b.cloneElement(e,t):typeof e=="function"?b.createElement(e,t):b.createElement(sL,t)}var dS=[],F8={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!$o.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function U8(e){var t=ui(e,F8),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:s,content:l,filterNull:u,isAnimationActive:f,offset:m,payloadUniqBy:h,position:p,reverseDirection:v,useTranslate3d:w,wrapperStyle:S,cursor:_,shared:x,trigger:k,defaultIndex:N,portal:E,axisId:C}=t,O=lr(),I=typeof N=="number"?String(N):N;b.useEffect(()=>{O(oB({shared:x,trigger:k,axisId:C,active:r,defaultIndex:I}))},[O,x,k,C,r,I]);var L=Ey(),Y=bE(),q=rB(x),{activeIndex:U,isActive:z}=Ve(ne=>s8(ne,q,k,I)),V=Ve(ne=>i8(ne,q,k,I)),ee=Ve(ne=>U2(ne,q,k,I)),Q=Ve(ne=>n8(ne,q,k,I)),ae=V,xe=f8(),ye=r??z,[re,le]=o3([ae,ye]),ce=q==="axis"?ee:void 0;I8(q,k,Q,ce,U,ye);var M=E??xe;if(M==null)return null;var D=ae??dS;ye||(D=dS),u&&D.length&&(D=I$(ae.filter(ne=>ne.value!=null&&(ne.hide!==!0||t.includeHidden)),h,$8));var te=D.length>0,_e=b.createElement(fL,{allowEscapeViewBox:n,animationDuration:i,animationEasing:s,isAnimationActive:f,active:ye,coordinate:Q,hasPayload:te,offset:m,position:p,reverseDirection:v,useTranslate3d:w,viewBox:L,wrapperStyle:S,lastBoundingBox:re,innerRef:le,hasPortalFromProps:!!E},L8(l,uS(uS({},t),{},{payload:D,label:ce,active:ye,coordinate:Q,accessibilityLayer:Y})));return b.createElement(b.Fragment,null,r4.createPortal(_e,M),ye&&b.createElement(d8,{cursor:_,tooltipEventType:q,coordinate:Q,payload:ae,index:U}))}var vg={},yg={},xg={},fS;function z8(){return fS||(fS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:s}={}){let l,u=null;const f=s!=null&&s.includes("leading"),m=s==null||s.includes("trailing"),h=()=>{u!==null&&(r.apply(l,u),l=void 0,u=null)},p=()=>{m&&h(),_()};let v=null;const w=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,p()},n)},S=()=>{v!==null&&(clearTimeout(v),v=null)},_=()=>{S(),l=void 0,u=null},x=()=>{h()},k=function(...N){if(i!=null&&i.aborted)return;l=this,u=N;const E=v==null;w(),f&&E&&h()};return k.schedule=w,k.cancel=_,k.flush=x,i==null||i.addEventListener("abort",_,{once:!0}),k}e.debounce=t})(xg)),xg}var hS;function B8(){return hS||(hS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z8();function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:u=!0,maxWait:f}=s,m=Array(2);l&&(m[0]="leading"),u&&(m[1]="trailing");let h,p=null;const v=t.debounce(function(..._){h=n.apply(this,_),p=null},i,{edges:m}),w=function(..._){return f!=null&&(p===null&&(p=Date.now()),Date.now()-p>=f)?(h=n.apply(this,_),p=Date.now(),v.cancel(),v.schedule(),h):(v.apply(this,_),h)},S=()=>(v.flush(),h);return w.cancel=v.cancel,w.flush=S,w}e.debounce=r})(yg)),yg}var mS;function V8(){return mS||(mS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B8();function r(n,i=0,s={}){const{leading:l=!0,trailing:u=!0}=s;return t.debounce(n,i,{leading:l,maxWait:i,trailing:u})}e.throttle=r})(vg)),vg}var wg,pS;function q8(){return pS||(pS=1,wg=V8().throttle),wg}var W8=q8();const K8=ai(W8);var bg=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function gS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _g(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gS(Object(r),!0).forEach(function(n){H8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H8(e,t,r){return(t=Y8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y8(e){var t=G8(e,"string");return typeof t=="symbol"?t:t+""}function G8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var J8=b.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:l=0,minHeight:u,maxHeight:f,children:m,debounce:h=0,id:p,className:v,onResize:w,style:S={}}=e,_=b.useRef(null),x=b.useRef();x.current=w,b.useImperativeHandle(t,()=>_.current);var[k,N]=b.useState({containerWidth:n.width,containerHeight:n.height}),E=b.useCallback((O,I)=>{N(L=>{var Y=Math.round(O),q=Math.round(I);return L.containerWidth===Y&&L.containerHeight===q?L:{containerWidth:Y,containerHeight:q}})},[]);b.useEffect(()=>{var O=q=>{var U,{width:z,height:V}=q[0].contentRect;E(z,V),(U=x.current)===null||U===void 0||U.call(x,z,V)};h>0&&(O=K8(O,h,{trailing:!0,leading:!1}));var I=new ResizeObserver(O),{width:L,height:Y}=_.current.getBoundingClientRect();return E(L,Y),I.observe(_.current),()=>{I.disconnect()}},[E,h]);var C=b.useMemo(()=>{var{containerWidth:O,containerHeight:I}=k;if(O<0||I<0)return null;bg(ua(i)||ua(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,s),bg(!r||r>0,"The aspect(%s) must be greater than zero.",r);var L=ua(i)?O:i,Y=ua(s)?I:s;return r&&r>0&&(L?Y=L/r:Y&&(L=Y*r),f&&Y>f&&(Y=f)),bg(L>0||Y>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,Y,i,s,l,u,r),b.Children.map(m,q=>b.cloneElement(q,{width:L,height:Y,style:_g({width:L,height:Y},q.props.style)}))},[r,m,s,f,u,l,k,i]);return b.createElement("div",{id:p?"".concat(p):void 0,className:kt("recharts-responsive-container",v),style:_g(_g({},S),{},{width:i,height:s,minWidth:l,minHeight:u,maxHeight:f}),ref:_},b.createElement("div",{style:{width:0,height:0,overflow:"visible"}},C))}),A0=e=>null;A0.displayName="Cell";function X8(e,t,r){return(t=Q8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q8(e){var t=Z8(e,"string");return typeof t=="symbol"?t:t+""}function Z8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class eV{constructor(t){X8(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function vS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vS(Object(r),!0).forEach(function(n){rV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rV(e,t,r){return(t=nV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nV(e){var t=iV(e,"string");return typeof t=="symbol"?t:t+""}function iV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sV={cacheSize:2e3,enableCache:!0},W2=tV({},sV),yS=new eV(W2.cacheSize),aV={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},xS="recharts_measurement_span";function oV(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(l,"|").concat(u)}var wS=(e,t)=>{try{var r=document.getElementById(xS);r||(r=document.createElement("span"),r.setAttribute("id",xS),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,aV,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Zl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||$o.isSsr)return{width:0,height:0};if(!W2.enableCache)return wS(t,r);var n=oV(t,r),i=yS.get(n);if(i)return i;var s=wS(t,r);return yS.set(n,s),s},bS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_S=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lV=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,cV=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,K2={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},uV=Object.keys(K2),mo="NaN";function dV(e,t){return e*K2[t]}class Hr{static parse(t){var r,[,n,i]=(r=cV.exec(t))!==null&&r!==void 0?r:[];return new Hr(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,$n(t)&&(this.unit=""),r!==""&&!lV.test(r)&&(this.num=NaN,this.unit=""),uV.includes(r)&&(this.num=dV(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Hr(NaN,""):new Hr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Hr(NaN,""):new Hr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Hr(NaN,""):new Hr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Hr(NaN,""):new Hr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return $n(this.num)}}function H2(e){if(e.includes(mo))return mo;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,s]=(r=bS.exec(t))!==null&&r!==void 0?r:[],l=Hr.parse(n??""),u=Hr.parse(s??""),f=i==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return mo;t=t.replace(bS,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,h,p,v]=(m=_S.exec(t))!==null&&m!==void 0?m:[],w=Hr.parse(h??""),S=Hr.parse(v??""),_=p==="+"?w.add(S):w.subtract(S);if(_.isNaN())return mo;t=t.replace(_S,_.toString())}return t}var jS=/\(([^()]*)\)/;function fV(e){for(var t=e,r;(r=jS.exec(t))!=null;){var[,n]=r;t=t.replace(jS,H2(n))}return t}function hV(e){var t=e.replace(/\s+/g,"");return t=fV(t),t=H2(t),t}function mV(e){try{return hV(e)}catch{return mo}}function jg(e){var t=mV(e.slice(5,-1));return t===mo?"":t}var pV=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],gV=["dx","dy","angle","className","breakAll"];function $v(){return $v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$v.apply(null,arguments)}function SS(e,t){if(e==null)return{};var r,n,i=vV(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function vV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Y2=/[ \f\n\r\t\v\u2028\u2029]+/,G2=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];or(t)||(r?i=t.toString().split(""):i=t.toString().split(Y2));var s=i.map(u=>({word:u,width:Zl(u,n).width})),l=r?0:Zl("",n).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},yV=(e,t,r,n,i)=>{var{maxLines:s,children:l,style:u,breakAll:f}=e,m=Ge(s),h=l,p=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce((V,ee)=>{var{word:Q,width:ae}=ee,xe=V[V.length-1];if(xe&&(n==null||i||xe.width+ae+r<Number(n)))xe.words.push(Q),xe.width+=ae+r;else{var ye={words:[Q],width:ae};V.push(ye)}return V},[])},v=p(t),w=U=>U.reduce((z,V)=>z.width>V.width?z:V);if(!m||i)return v;var S=v.length>s||w(v).width>Number(n);if(!S)return v;for(var _="",x=U=>{var z=h.slice(0,U),V=G2({breakAll:f,style:u,children:z+_}).wordsWithComputedWidth,ee=p(V),Q=ee.length>s||w(ee).width>Number(n);return[Q,ee]},k=0,N=h.length-1,E=0,C;k<=N&&E<=h.length-1;){var O=Math.floor((k+N)/2),I=O-1,[L,Y]=x(I),[q]=x(O);if(!L&&!q&&(k=O+1),L&&q&&(N=O-1),!L&&q){C=Y;break}E++}return C||v},kS=e=>{var t=or(e)?[]:e.toString().split(Y2);return[{words:t}]},xV=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:l}=e;if((t||r)&&!$o.isSsr){var u,f,m=G2({breakAll:s,children:n,style:i});if(m){var{wordsWithComputedWidth:h,spaceWidth:p}=m;u=h,f=p}else return kS(n);return yV({breakAll:s,children:n,maxLines:l,style:i},u,f,t,r)}return kS(n)},NS="#808080",C0=b.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:l=!1,textAnchor:u="start",verticalAnchor:f="end",fill:m=NS}=e,h=SS(e,pV),p=b.useMemo(()=>xV({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:l,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,l,h.style,h.width]),{dx:v,dy:w,angle:S,className:_,breakAll:x}=h,k=SS(h,gV);if(!ki(r)||!ki(n)||p.length===0)return null;var N=r+(Ge(v)?v:0),E=n+(Ge(w)?w:0),C;switch(f){case"start":C=jg("calc(".concat(s,")"));break;case"middle":C=jg("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:C=jg("calc(".concat(p.length-1," * -").concat(i,")"));break}var O=[];if(l){var I=p[0].width,{width:L}=h;O.push("scale(".concat(Ge(L)?L/I:1,")"))}return S&&O.push("rotate(".concat(S,", ").concat(N,", ").concat(E,")")),O.length&&(k.transform=O.join(" ")),b.createElement("text",$v({},wr(k,!0),{ref:t,x:N,y:E,className:kt("recharts-text",_),textAnchor:u,fill:m.includes("url")?NS:m}),p.map((Y,q)=>{var U=Y.words.join(x?"":" ");return b.createElement("tspan",{x:N,dy:q===0?C:i,key:"".concat(U,"-").concat(q)},U)}))});C0.displayName="Text";var wV=["labelRef"];function bV(e,t){if(e==null)return{};var r,n,i=_V(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _V(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ES(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ES(Object(r),!0).forEach(function(n){jV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ES(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jV(e,t,r){return(t=SV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SV(e){var t=kV(e,"string");return typeof t=="symbol"?t:t+""}function kV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zi(){return zi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zi.apply(null,arguments)}var J2=b.createContext(null),NV=e=>{var{x:t,y:r,width:n,height:i,children:s}=e,l=b.useMemo(()=>({x:t,y:r,width:n,height:i}),[t,r,n,i]);return b.createElement(J2.Provider,{value:l},s)},X2=()=>{var e=b.useContext(J2),t=Ey();return e||t},EV=b.createContext(null),AV=()=>{var e=b.useContext(EV),t=Ve(TA);return e||t},CV=e=>{var{value:t,formatter:r}=e,n=or(e.children)?t:e.children;return typeof r=="function"?r(n):n},P0=e=>e!=null&&typeof e=="function",PV=(e,t)=>{var r=un(t-e),n=Math.min(Math.abs(t-e),360);return r*n},OV=(e,t,r,n,i)=>{var{offset:s,className:l}=e,{cx:u,cy:f,innerRadius:m,outerRadius:h,startAngle:p,endAngle:v,clockWise:w}=i,S=(m+h)/2,_=PV(p,v),x=_>=0?1:-1,k,N;switch(t){case"insideStart":k=p+x*s,N=w;break;case"insideEnd":k=v-x*s,N=!w;break;case"end":k=v+x*s,N=w;break;default:throw new Error("Unsupported position ".concat(t))}N=_<=0?N:!N;var E=yr(u,f,S,k),C=yr(u,f,S,k+(N?1:-1)*359),O="M".concat(E.x,",").concat(E.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(N?0:1,`,
    `).concat(C.x,",").concat(C.y),I=or(e.id)?ic("recharts-radial-line-"):e.id;return b.createElement("text",zi({},n,{dominantBaseline:"central",className:kt("recharts-radial-bar-label",l)}),b.createElement("defs",null,b.createElement("path",{id:I,d:O})),b.createElement("textPath",{xlinkHref:"#".concat(I)},r))},TV=(e,t,r)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:l,startAngle:u,endAngle:f}=e,m=(u+f)/2;if(r==="outside"){var{x:h,y:p}=yr(n,i,l+t,m);return{x:h,y:p,textAnchor:h>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(s+l)/2,{x:w,y:S}=yr(n,i,v,m);return{x:w,y:S,textAnchor:"middle",verticalAnchor:"middle"}},Q2=e=>"cx"in e&&Ge(e.cx),IV=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,s;r!=null&&!Q2(r)&&(s=r);var{x:l,y:u,width:f,height:m}=t,h=m>=0?1:-1,p=h*n,v=h>0?"end":"start",w=h>0?"start":"end",S=f>=0?1:-1,_=S*n,x=S>0?"end":"start",k=S>0?"start":"end";if(i==="top"){var N={x:l+f/2,y:u-h*n,textAnchor:"middle",verticalAnchor:v};return Lt(Lt({},N),s?{height:Math.max(u-s.y,0),width:f}:{})}if(i==="bottom"){var E={x:l+f/2,y:u+m+p,textAnchor:"middle",verticalAnchor:w};return Lt(Lt({},E),s?{height:Math.max(s.y+s.height-(u+m),0),width:f}:{})}if(i==="left"){var C={x:l-_,y:u+m/2,textAnchor:x,verticalAnchor:"middle"};return Lt(Lt({},C),s?{width:Math.max(C.x-s.x,0),height:m}:{})}if(i==="right"){var O={x:l+f+_,y:u+m/2,textAnchor:k,verticalAnchor:"middle"};return Lt(Lt({},O),s?{width:Math.max(s.x+s.width-O.x,0),height:m}:{})}var I=s?{width:f,height:m}:{};return i==="insideLeft"?Lt({x:l+_,y:u+m/2,textAnchor:k,verticalAnchor:"middle"},I):i==="insideRight"?Lt({x:l+f-_,y:u+m/2,textAnchor:x,verticalAnchor:"middle"},I):i==="insideTop"?Lt({x:l+f/2,y:u+p,textAnchor:"middle",verticalAnchor:w},I):i==="insideBottom"?Lt({x:l+f/2,y:u+m-p,textAnchor:"middle",verticalAnchor:v},I):i==="insideTopLeft"?Lt({x:l+_,y:u+p,textAnchor:k,verticalAnchor:w},I):i==="insideTopRight"?Lt({x:l+f-_,y:u+p,textAnchor:x,verticalAnchor:w},I):i==="insideBottomLeft"?Lt({x:l+_,y:u+m-p,textAnchor:k,verticalAnchor:v},I):i==="insideBottomRight"?Lt({x:l+f-_,y:u+m-p,textAnchor:x,verticalAnchor:v},I):i&&typeof i=="object"&&(Ge(i.x)||ua(i.x))&&(Ge(i.y)||ua(i.y))?Lt({x:l+si(i.x,f),y:u+si(i.y,m),textAnchor:"end",verticalAnchor:"end"},I):Lt({x:l+f/2,y:u+m/2,textAnchor:"middle",verticalAnchor:"middle"},I)},DV={offset:5};function As(e){var t=ui(e,DV),{viewBox:r,position:n,value:i,children:s,content:l,className:u="",textBreakAll:f,labelRef:m}=t,h=AV(),p=X2(),v=n==="center"?p:h??p,w=r||v;if(!w||or(i)&&or(s)&&!b.isValidElement(l)&&typeof l!="function")return null;var S=Lt(Lt({},t),{},{viewBox:w});if(b.isValidElement(l)){var{labelRef:_}=S,x=bV(S,wV);return b.cloneElement(l,x)}var k;if(typeof l=="function"){if(k=b.createElement(l,S),b.isValidElement(k))return k}else k=CV(t);var N=Q2(w),E=wr(t,!0);if(N&&(n==="insideStart"||n==="insideEnd"||n==="end"))return OV(t,n,k,E,w);var C=N?TV(w,t.offset,t.position):IV(t,w);return b.createElement(C0,zi({ref:m,className:kt("recharts-label",u)},E,C,{breakAll:f}),k)}As.displayName="Label";var RV=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?b.createElement(As,zi({key:"label-implicit"},n)):ki(e)?b.createElement(As,zi({key:"label-implicit",value:e},n)):b.isValidElement(e)?e.type===As?b.cloneElement(e,Lt({key:"label-implicit"},n)):b.createElement(As,zi({key:"label-implicit",content:e},n)):P0(e)?b.createElement(As,zi({key:"label-implicit",content:e},n)):e&&typeof e=="object"?b.createElement(As,zi({},e,{key:"label-implicit"},n)):null};function MV(e){var{label:t}=e,r=X2();return RV(t,r)||null}var Sg={},kg={},AS;function $V(){return AS||(AS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(kg)),kg}var Ng={},CS;function LV(){return CS||(CS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Ng)),Ng}var PS;function FV(){return PS||(PS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$V(),r=LV(),n=vy();function i(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=i})(Sg)),Sg}var Eg,OS;function UV(){return OS||(OS=1,Eg=FV().last),Eg}var zV=UV();const BV=ai(zV);var VV=["valueAccessor"],qV=["dataKey","clockWise","id","textBreakAll"];function cf(){return cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cf.apply(null,arguments)}function TS(e,t){if(e==null)return{};var r,n,i=WV(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function WV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var KV=e=>Array.isArray(e.value)?BV(e.value):e.value,Z2=b.createContext(void 0),HV=Z2.Provider,eC=b.createContext(void 0);eC.Provider;function YV(){return b.useContext(Z2)}function GV(){return b.useContext(eC)}function xd(e){var{valueAccessor:t=KV}=e,r=TS(e,VV),{dataKey:n,clockWise:i,id:s,textBreakAll:l}=r,u=TS(r,qV),f=YV(),m=GV(),h=f||m;return!h||!h.length?null:b.createElement(Ds,{className:"recharts-label-list"},h.map((p,v)=>{var w,S=or(n)?t(p,v):Mr(p&&p.payload,n),_=or(s)?{}:{id:"".concat(s,"-").concat(v)};return b.createElement(As,cf({},wr(p,!0),u,_,{fill:(w=r.fill)!==null&&w!==void 0?w:p.fill,parentViewBox:p.parentViewBox,value:S,textBreakAll:l,viewBox:p.viewBox,key:"label-".concat(v),index:v}))}))}xd.displayName="LabelList";function JV(e){var{label:t}=e;return t?t===!0?b.createElement(xd,{key:"labelList-implicit"}):b.isValidElement(t)||P0(t)?b.createElement(xd,{key:"labelList-implicit",content:t}):typeof t=="object"?b.createElement(xd,cf({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var XV={radiusAxis:{},angleAxis:{}},tC=gn({name:"polarAxis",initialState:XV,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:XK,removeRadiusAxis:QK,addAngleAxis:ZK,removeAngleAxis:eH}=tC.actions,QV=tC.reducer,Ag={},IS;function ZV(){return IS||(IS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(Ag)),Ag}var Cg,DS;function eq(){return DS||(DS=1,Cg=ZV().isPlainObject),Cg}var tq=eq();const rq=ai(tq);function RS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function MS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RS(Object(r),!0).forEach(function(n){nq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nq(e,t,r){return(t=iq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iq(e){var t=sq(e,"string");return typeof t=="symbol"?t:t+""}function sq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uf(){return uf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uf.apply(null,arguments)}var $S=(e,t,r,n,i)=>{var s=r-n,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+r,",").concat(t),l+="L ".concat(e+r-s/2,",").concat(t+i),l+="L ".concat(e+r-s/2-n,",").concat(t+i),l+="L ".concat(e,",").concat(t," Z"),l},aq={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oq=e=>{var t=ui(e,aq),{x:r,y:n,upperWidth:i,lowerWidth:s,height:l,className:u}=t,{animationEasing:f,animationDuration:m,animationBegin:h,isUpdateAnimationActive:p}=t,v=b.useRef(),[w,S]=b.useState(-1),_=b.useRef(i),x=b.useRef(s),k=b.useRef(l),N=b.useRef(r),E=b.useRef(n),C=Py(e,"trapezoid-");if(b.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var Q=v.current.getTotalLength();Q&&S(Q)}catch{}},[]),r!==+r||n!==+n||i!==+i||s!==+s||l!==+l||i===0&&s===0||l===0)return null;var O=kt("recharts-trapezoid",u);if(!p)return b.createElement("g",null,b.createElement("path",uf({},wr(t,!0),{className:O,d:$S(r,n,i,s,l)})));var I=_.current,L=x.current,Y=k.current,q=N.current,U=E.current,z="0px ".concat(w===-1?1:w,"px"),V="".concat(w,"px 0px"),ee=_E(["strokeDasharray"],m,f);return b.createElement(Cy,{animationId:C,key:C,canBegin:w>0,duration:m,easing:f,isActive:p,begin:h},Q=>{var ae=Ir(I,i,Q),xe=Ir(L,s,Q),ye=Ir(Y,l,Q),re=Ir(q,r,Q),le=Ir(U,n,Q);v.current&&(_.current=ae,x.current=xe,k.current=ye,N.current=re,E.current=le);var ce=Q>0?{transition:ee,strokeDasharray:V}:{strokeDasharray:z};return b.createElement("path",uf({},wr(t,!0),{className:O,d:$S(re,le,ae,xe,ye),ref:v,style:MS(MS({},ce),t.style)}))})},lq=["option","shapeType","propTransformer","activeClassName","isActive"];function cq(e,t){if(e==null)return{};var r,n,i=uq(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function uq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function LS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function df(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LS(Object(r),!0).forEach(function(n){dq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dq(e,t,r){return(t=fq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fq(e){var t=hq(e,"string");return typeof t=="symbol"?t:t+""}function hq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mq(e,t){return df(df({},t),e)}function pq(e,t){return e==="symbols"}function FS(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return b.createElement(NE,r);case"trapezoid":return b.createElement(oq,r);case"sector":return b.createElement(CE,r);case"symbols":if(pq(t))return b.createElement(DN,r);break;default:return null}}function gq(e){return b.isValidElement(e)?e.props:e}function vq(e){var{option:t,shapeType:r,propTransformer:n=mq,activeClassName:i="recharts-active-shape",isActive:s}=e,l=cq(e,lq),u;if(b.isValidElement(t))u=b.cloneElement(t,df(df({},l),gq(t)));else if(typeof t=="function")u=t(l);else if(rq(t)&&typeof t!="boolean"){var f=n(t,l);u=b.createElement(FS,{shapeType:r,elementProps:f})}else{var m=l;u=b.createElement(FS,{shapeType:r,elementProps:m})}return s?b.createElement(Ds,{className:i},u):u}var rC=(e,t)=>{var r=lr();return(n,i)=>s=>{e==null||e(n,i,s),r(_2({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},nC=e=>{var t=lr();return(r,n)=>i=>{e==null||e(r,n,i),t(lB())}},iC=(e,t)=>{var r=lr();return(n,i)=>s=>{e==null||e(n,i,s),r(cB({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function yq(e){var{fn:t,args:r}=e,n=lr(),i=ci();return b.useEffect(()=>{if(!i){var s=t(r);return n(sB(s)),()=>{n(aB(s))}}},[t,r,n,i]),null}var xq=()=>{};function wq(e){var{legendPayload:t}=e,r=lr(),n=ci();return b.useEffect(()=>n?xq:(r(Q6(t)),()=>{r(Z6(t))}),[r,n,t]),null}var Pg,bq=()=>{var[e]=b.useState(()=>ic("uid-"));return e},_q=(Pg=kO.useId)!==null&&Pg!==void 0?Pg:bq;function jq(e,t){var r=_q();return t||(e?"".concat(e,"-").concat(r):r)}var Sq=b.createContext(void 0),kq=e=>{var{id:t,type:r,children:n}=e,i=jq("recharts-".concat(r),t);return b.createElement(Sq.Provider,{value:i},n(i))},Nq={cartesianItems:[],polarItems:[]},sC=gn({name:"graphicalItems",initialState:Nq,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,i=Wi(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},removeCartesianGraphicalItem(e,t){var r=Wi(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=Wi(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:Eq,replaceCartesianGraphicalItem:Aq,removeCartesianGraphicalItem:Cq,addPolarGraphicalItem:tH,removePolarGraphicalItem:rH}=sC.actions,Pq=sC.reducer;function Oq(e){var t=lr(),r=b.useRef(null);return b.useEffect(()=>{r.current===null?t(Eq(e)):r.current!==e&&t(Aq({prev:r.current,next:e})),r.current=e},[t,e]),b.useEffect(()=>()=>{r.current&&(t(Cq(r.current)),r.current=null)},[t]),null}function US(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?US(Object(r),!0).forEach(function(n){Tq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):US(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tq(e,t,r){return(t=Iq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iq(e){var t=Dq(e,"string");return typeof t=="symbol"?t:t+""}function Dq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rq={xAxis:{},yAxis:{},zAxis:{}},aC=gn({name:"cartesianAxis",initialState:Rq,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=zS(zS({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:Mq,removeXAxis:$q,addYAxis:Lq,removeYAxis:Fq,addZAxis:nH,removeZAxis:iH,updateYAxisWidth:Uq}=aC.actions,zq=aC.reducer,Bq=J([cr],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),Vq=J([Bq,Zi,es],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),oC=()=>Ve(Vq),qq="Invariant failed";function Wq(e,t){throw new Error(qq)}var Kq=["x","y"];function Lv(){return Lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lv.apply(null,arguments)}function BS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BS(Object(r),!0).forEach(function(n){Hq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hq(e,t,r){return(t=Yq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yq(e){var t=Gq(e,"string");return typeof t=="symbol"?t:t+""}function Gq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jq(e,t){if(e==null)return{};var r,n,i=Xq(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Xq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Qq(e,t){var{x:r,y:n}=e,i=Jq(e,Kq),s="".concat(r),l=parseInt(s,10),u="".concat(n),f=parseInt(u,10),m="".concat(t.height||i.height),h=parseInt(m,10),p="".concat(t.width||i.width),v=parseInt(p,10);return zl(zl(zl(zl(zl({},t),i),l?{x:l}:{}),f?{y:f}:{}),{},{height:h,width:v,name:t.name,radius:t.radius})}function O0(e){return b.createElement(vq,Lv({shapeType:"rectangle",propTransformer:Qq,activeClassName:"recharts-active-bar"},e))}var Zq=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(Ge(t))return t;var s=Ge(n)||or(n);return s?t(n,i):(s||Wq(),r)}},e7={},lC=gn({name:"errorBars",initialState:e7,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?i:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:sH,replaceErrorBar:aH,removeErrorBar:oH}=lC.actions,t7=lC.reducer,r7=["children"];function n7(e,t){if(e==null)return{};var r,n,i=i7(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function i7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var s7={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},a7=b.createContext(s7);function o7(e){var{children:t}=e,r=n7(e,r7);return b.createElement(a7.Provider,{value:r},t)}function cC(e,t){var r,n,i=Ve(m=>rs(m,e)),s=Ve(m=>ns(m,t)),l=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:rn.allowDataOverflow,u=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:nn.allowDataOverflow,f=l||u;return{needClip:f,needClipX:l,needClipY:u}}function l7(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=oC(),{needClipX:s,needClipY:l,needClip:u}=cC(t,r);if(!u)return null;var{x:f,y:m,width:h,height:p}=i;return b.createElement("clipPath",{id:"clipPath-".concat(n)},b.createElement("rect",{x:s?f:f-h/2,y:l?m:m-p/2,width:s?h:h*2,height:l?p:p*2}))}var c7=["onMouseEnter","onMouseLeave","onClick"],u7=["value","background","tooltipPosition"],d7=["id"],f7=["onMouseEnter","onClick","onMouseLeave"];function Rs(){return Rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rs.apply(null,arguments)}function VS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VS(Object(r),!0).forEach(function(n){h7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h7(e,t,r){return(t=m7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m7(e){var t=p7(e,"string");return typeof t=="symbol"?t:t+""}function p7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ff(e,t){if(e==null)return{};var r,n,i=g7(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function g7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var v7=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:n,value:yE(r,t),payload:e}]};function y7(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:s,hide:l,unit:u}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:yE(s,t),hide:l,type:e.tooltipType,color:e.fill,unit:u}}}function x7(e){var t=Ve(Ao),{data:r,dataKey:n,background:i,allOtherBarProps:s}=e,{onMouseEnter:l,onMouseLeave:u,onClick:f}=s,m=ff(s,c7),h=rC(l,n),p=nC(u),v=iC(f,n);if(!i||r==null)return null;var w=wr(i,!1);return b.createElement(b.Fragment,null,r.map((S,_)=>{var{value:x,background:k,tooltipPosition:N}=S,E=ff(S,u7);if(!k)return null;var C=h(S,_),O=p(S,_),I=v(S,_),L=Dr(Dr(Dr(Dr(Dr({option:i,isActive:String(_)===t},E),{},{fill:"#eee"},k),w),hy(m,S,_)),{},{onMouseEnter:C,onMouseLeave:O,onClick:I,dataKey:n,index:_,className:"recharts-bar-background-rectangle"});return b.createElement(O0,Rs({key:"background-bar-".concat(L.index)},L))}))}function w7(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(s=>{var l={x:s.x,y:s.y,width:s.width,height:s.height};return Dr(Dr({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return b.createElement(HV,{value:t?i:void 0},r)}function b7(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:s,dataKey:l}=e,u=Ve(Ao),f=Ve(R2),m=r&&String(s)===u&&(f==null||l===f),h=m?r:t;return b.createElement(O0,Rs({},n,i,{isActive:m,option:h,index:s,dataKey:l}))}function _7(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:s}=e;return b.createElement(O0,Rs({},r,n,{isActive:!1,option:t,index:i,dataKey:s}))}function j7(e){var{data:t,props:r}=e,n=_c(r),{id:i}=n,s=ff(n,d7),{shape:l,dataKey:u,activeBar:f}=r,{onMouseEnter:m,onClick:h,onMouseLeave:p}=r,v=ff(r,f7),w=rC(m,u),S=nC(p),_=iC(h,u);return t?b.createElement(b.Fragment,null,t.map((x,k)=>b.createElement(Ds,Rs({className:"recharts-bar-rectangle"},hy(v,x,k),{onMouseEnter:w(x,k),onMouseLeave:S(x,k),onClick:_(x,k),key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(k)}),f?b.createElement(b7,{shape:l,activeBar:f,baseProps:s,entry:x,index:k,dataKey:u}):b.createElement(_7,{shape:l,baseProps:s,entry:x,index:k,dataKey:u})))):null}function S7(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:s,animationBegin:l,animationDuration:u,animationEasing:f,onAnimationEnd:m,onAnimationStart:h}=t,p=r.current,v=Py(t,"recharts-bar-"),[w,S]=b.useState(!1),_=!w,x=b.useCallback(()=>{typeof m=="function"&&m(),S(!1)},[m]),k=b.useCallback(()=>{typeof h=="function"&&h(),S(!0)},[h]);return b.createElement(w7,{showLabels:_,rects:n},b.createElement(Cy,{animationId:v,begin:l,duration:u,isActive:s,easing:f,onAnimationEnd:x,onAnimationStart:k,key:v},N=>{var E=N===1?n:n==null?void 0:n.map((C,O)=>{var I=p&&p[O];if(I)return Dr(Dr({},C),{},{x:Ir(I.x,C.x,N),y:Ir(I.y,C.y,N),width:Ir(I.width,C.width,N),height:Ir(I.height,C.height,N)});if(i==="horizontal"){var L=Ir(0,C.height,N);return Dr(Dr({},C),{},{y:C.y+C.height-L,height:L})}var Y=Ir(0,C.width,N);return Dr(Dr({},C),{},{width:Y})});return N>0&&(r.current=E??null),E==null?null:b.createElement(Ds,null,b.createElement(j7,{props:t,data:E}))}),b.createElement(JV,{label:t.label}),t.children)}function k7(e){var t=b.useRef(null);return b.createElement(S7,{previousRectanglesRef:t,props:e})}var uC=0,N7=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Mr(e,t)}};class E7 extends b.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:s,yAxisId:l,needClip:u,background:f,id:m}=this.props;if(t||r==null)return null;var h=kt("recharts-bar",i),p=m;return b.createElement(Ds,{className:h,id:m},u&&b.createElement("defs",null,b.createElement(l7,{clipPathId:p,xAxisId:s,yAxisId:l})),b.createElement(Ds,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(p,")"):void 0},b.createElement(x7,{data:r,dataKey:n,background:f,allOtherBarProps:this.props}),b.createElement(k7,this.props)))}}var A7={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!$o.isSsr,legendType:"rect",minPointSize:uC,xAxisId:0,yAxisId:0};function C7(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:l,animationBegin:u,animationDuration:f,animationEasing:m,isAnimationActive:h}=e,{needClip:p}=cC(t,r),v=Ay(),w=ci(),S=gM(e.children,A0),_=Ve(N=>nW(N,t,r,w,e.id,S));if(v!=="vertical"&&v!=="horizontal")return null;var x,k=_==null?void 0:_[0];return k==null||k.height==null||k.width==null?x=0:x=v==="vertical"?k.height/2:k.width/2,b.createElement(o7,{xAxisId:t,yAxisId:r,data:_,dataPointFormatter:N7,errorBarOffset:x},b.createElement(E7,Rs({},e,{layout:v,needClip:p,data:_,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:l,animationBegin:u,animationDuration:f,animationEasing:m,isAnimationActive:h})))}function P7(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:s,xAxis:l,yAxis:u,xAxisTicks:f,yAxisTicks:m,stackedData:h,displayedData:p,offset:v,cells:w,parentViewBox:S}=e,_=t==="horizontal"?u:l,x=h?_.scale.domain():null,k=E6({numericAxis:_});return p.map((N,E)=>{var C,O,I,L,Y,q;h?C=b6(h[E],x):(C=Mr(N,r),Array.isArray(C)||(C=[k,C]));var U=Zq(n,uC)(C[1],E);if(t==="horizontal"){var z,[V,ee]=[u.scale(C[0]),u.scale(C[1])];O=$_({axis:l,ticks:f,bandSize:s,offset:i.offset,entry:N,index:E}),I=(z=ee??V)!==null&&z!==void 0?z:void 0,L=i.size;var Q=V-ee;if(Y=$n(Q)?0:Q,q={x:O,y:v.top,width:L,height:v.height},Math.abs(U)>0&&Math.abs(Y)<Math.abs(U)){var ae=un(Y||U)*(Math.abs(U)-Math.abs(Y));I-=ae,Y+=ae}}else{var[xe,ye]=[l.scale(C[0]),l.scale(C[1])];if(O=xe,I=$_({axis:u,ticks:m,bandSize:s,offset:i.offset,entry:N,index:E}),L=ye-xe,Y=i.size,q={x:v.left,y:I,width:v.width,height:Y},Math.abs(U)>0&&Math.abs(L)<Math.abs(U)){var re=un(L||U)*(Math.abs(U)-Math.abs(L));L+=re}}if(O==null||I==null||L==null||Y==null)return null;var le=Dr(Dr({},N),{},{x:O,y:I,width:L,height:Y,value:h?C:C[1],payload:N,background:q,tooltipPosition:{x:O+L/2,y:I+Y/2},parentViewBox:S},w&&w[E]&&w[E].props);return le}).filter(Boolean)}function O7(e){var t=ui(e,A7),r=ci();return b.createElement(kq,{id:t.id,type:"bar"},n=>b.createElement(b.Fragment,null,b.createElement(wq,{legendPayload:v7(t)}),b.createElement(yq,{fn:y7,args:t}),b.createElement(Oq,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:N6(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),b.createElement(C7,Rs({},t,{id:n}))))}var dC=b.memo(O7);dC.displayName="Bar";function qS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qS(Object(r),!0).forEach(function(n){T7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T7(e,t,r){return(t=I7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I7(e){var t=D7(e,"string");return typeof t=="symbol"?t:t+""}function D7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var R7=(e,t)=>t,M7=(e,t,r)=>r,$7=(e,t,r,n)=>n,L7=(e,t,r,n,i)=>i,Mc=J([d0,L7],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),F7=J([Mc],e=>e==null?void 0:e.maxBarSize),U7=(e,t,r,n,i,s)=>s,WS=(e,t,r)=>{var n=r??e;if(!or(n))return si(n,t,0)},z7=J([dt,d0,R7,M7,$7],(e,t,r,n,i)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),B7=(e,t,r,n)=>{var i=dt(e);return i==="horizontal"?Tv(e,"yAxis",r,n):Tv(e,"xAxis",t,n)},V7=(e,t,r)=>{var n=dt(e);return n==="horizontal"?Qj(e,"xAxis",t):Qj(e,"yAxis",r)},q7=(e,t,r)=>{var n={},i=e.filter(Gf),s=e.filter(m=>m.stackId==null),l=i.reduce((m,h)=>(m[h.stackId]||(m[h.stackId]=[]),m[h.stackId].push(h),m),n),u=Object.entries(l).map(m=>{var[h,p]=m,v=p.map(S=>S.dataKey),w=WS(t,r,p[0].barSize);return{stackId:h,dataKeys:v,barSize:w}}),f=s.map(m=>{var h=[m.dataKey].filter(v=>v!=null),p=WS(t,r,m.barSize);return{stackId:void 0,dataKeys:h,barSize:p}});return[...u,...f]},W7=J([z7,nz,V7],q7),K7=(e,t,r,n,i)=>{var s,l,u=Mc(e,t,r,n,i);if(u!=null){var f=dt(e),m=kA(e),{maxBarSize:h}=u,p=or(h)?m:h,v,w;return f==="horizontal"?(v=Eo(e,"xAxis",t,n),w=No(e,"xAxis",t,n)):(v=Eo(e,"yAxis",r,n),w=No(e,"yAxis",r,n)),(s=(l=ky(v,w,!0))!==null&&l!==void 0?l:p)!==null&&s!==void 0?s:0}},fC=(e,t,r,n)=>{var i=dt(e),s,l;return i==="horizontal"?(s=Eo(e,"xAxis",t,n),l=No(e,"xAxis",t,n)):(s=Eo(e,"yAxis",r,n),l=No(e,"yAxis",r,n)),ky(s,l)};function H7(e,t,r,n,i){var s=n.length;if(!(s<1)){var l=si(e,r,0,!0),u,f=[];if(mn(n[0].barSize)){var m=!1,h=r/s,p=n.reduce((k,N)=>k+(N.barSize||0),0);p+=(s-1)*l,p>=r&&(p-=(s-1)*l,l=0),p>=r&&h>0&&(m=!0,h*=.9,p=s*h);var v=(r-p)/2>>0,w={offset:v-l,size:0};u=n.reduce((k,N)=>{var E,C={stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:w.offset+w.size+l,size:m?h:(E=N.barSize)!==null&&E!==void 0?E:0}},O=[...k,C];return w=O[O.length-1].position,O},f)}else{var S=si(t,r,0,!0);r-2*S-(s-1)*l<=0&&(l=0);var _=(r-2*S-(s-1)*l)/s;_>1&&(_>>=0);var x=mn(i)?Math.min(_,i):_;u=n.reduce((k,N,E)=>[...k,{stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:S+(_+l)*E+(_-x)/2,size:x}}],f)}return u}}var Y7=(e,t,r,n,i,s,l)=>{var u=or(l)?t:l,f=H7(r,n,i!==s?i:s,e,u);return i!==s&&f!=null&&(f=f.map(m=>dd(dd({},m),{},{position:dd(dd({},m.position),{},{offset:m.position.offset-i/2})}))),f},G7=J([W7,kA,rz,NA,K7,fC,F7],Y7),J7=(e,t,r,n)=>Eo(e,"xAxis",t,n),X7=(e,t,r,n)=>Eo(e,"yAxis",r,n),Q7=(e,t,r,n)=>No(e,"xAxis",t,n),Z7=(e,t,r,n)=>No(e,"yAxis",r,n),eW=J([G7,Mc],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),tW=(e,t)=>{var r=c0(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:s}=i;if(s)return s.find(l=>l.key===r)}}}},rW=J([B7,Mc],tW),nW=J([cr,Ny,J7,X7,Q7,Z7,eW,dt,e0,fC,rW,Mc,U7],(e,t,r,n,i,s,l,u,f,m,h,p,v)=>{var{chartData:w,dataStartIndex:S,dataEndIndex:_}=f;if(!(p==null||l==null||t==null||u!=="horizontal"&&u!=="vertical"||r==null||n==null||i==null||s==null||m==null)){var{data:x}=p,k;if(x!=null&&x.length>0?k=x:k=w==null?void 0:w.slice(S,_+1),k!=null)return P7({layout:u,barSettings:p,pos:l,parentViewBox:t,bandSize:m,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:s,stackedData:h,displayedData:k,offset:e,cells:v})}}),iW=e=>{var{chartData:t}=e,r=lr(),n=ci();return b.useEffect(()=>n?()=>{}:(r(oS(t)),()=>{r(oS(void 0))}),[t,r,n]),null},KS={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},hC=gn({name:"brush",initialState:KS,reducers:{setBrushSettings(e,t){return t.payload==null?KS:t.payload}}}),{setBrushSettings:lH}=hC.actions,sW=hC.reducer;function aW(e,t,r){return(t=oW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oW(e){var t=lW(e,"string");return typeof t=="symbol"?t:t+""}function lW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class T0{static create(t){return new T0(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}aW(T0,"EPS",1e-4);function cW(e){return(e%180+180)%180}var uW=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=cW(i),l=s*Math.PI/180,u=Math.atan(n/r),f=l>u&&l<Math.PI-u?n/Math.sin(l):r/Math.cos(l);return Math.abs(f)},dW={dots:[],areas:[],lines:[]},mC=gn({name:"referenceElements",initialState:dW,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Wi(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Wi(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Wi(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:cH,removeDot:uH,addArea:dH,removeArea:fH,addLine:hH,removeLine:mH}=mC.actions,fW=mC.reducer,hW=b.createContext(void 0),mW=e=>{var{children:t}=e,[r]=b.useState("".concat(ic("recharts"),"-clip")),n=oC();if(n==null)return null;var{x:i,y:s,width:l,height:u}=n;return b.createElement(hW.Provider,{value:r},b.createElement("defs",null,b.createElement("clipPath",{id:r},b.createElement("rect",{x:i,y:s,height:u,width:l}))),t)};function Co(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function pC(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function pW(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return uW(n,r)}function gW(e,t,r){var n=r==="width",{x:i,y:s,width:l,height:u}=e;return t===1?{start:n?i:s,end:n?i+l:s+u}:{start:n?i+l:s+u,end:n?i:s}}function hf(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function vW(e,t){return pC(e,t+1)}function yW(e,t,r,n,i){for(var s=(n||[]).slice(),{start:l,end:u}=t,f=0,m=1,h=l,p=function(){var S=n==null?void 0:n[f];if(S===void 0)return{v:pC(n,m)};var _=f,x,k=()=>(x===void 0&&(x=r(S,_)),x),N=S.coordinate,E=f===0||hf(e,N,k,h,u);E||(f=0,h=l,m+=1),E&&(h=N+e*(k()/2+i),f+=m)},v;m<=s.length;)if(v=p(),v)return v.v;return[]}function HS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HS(Object(r),!0).forEach(function(n){xW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xW(e,t,r){return(t=wW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wW(e){var t=bW(e,"string");return typeof t=="symbol"?t:t+""}function bW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _W(e,t,r,n,i){for(var s=(n||[]).slice(),l=s.length,{start:u}=t,{end:f}=t,m=function(v){var w=s[v],S,_=()=>(S===void 0&&(S=r(w,v)),S);if(v===l-1){var x=e*(w.coordinate+e*_()/2-f);s[v]=w=Nr(Nr({},w),{},{tickCoord:x>0?w.coordinate-x*e:w.coordinate})}else s[v]=w=Nr(Nr({},w),{},{tickCoord:w.coordinate});var k=hf(e,w.tickCoord,_,u,f);k&&(f=w.tickCoord-e*(_()/2+i),s[v]=Nr(Nr({},w),{},{isShow:!0}))},h=l-1;h>=0;h--)m(h);return s}function jW(e,t,r,n,i,s){var l=(n||[]).slice(),u=l.length,{start:f,end:m}=t;if(s){var h=n[u-1],p=r(h,u-1),v=e*(h.coordinate+e*p/2-m);l[u-1]=h=Nr(Nr({},h),{},{tickCoord:v>0?h.coordinate-v*e:h.coordinate});var w=hf(e,h.tickCoord,()=>p,f,m);w&&(m=h.tickCoord-e*(p/2+i),l[u-1]=Nr(Nr({},h),{},{isShow:!0}))}for(var S=s?u-1:u,_=function(N){var E=l[N],C,O=()=>(C===void 0&&(C=r(E,N)),C);if(N===0){var I=e*(E.coordinate-e*O()/2-f);l[N]=E=Nr(Nr({},E),{},{tickCoord:I<0?E.coordinate-I*e:E.coordinate})}else l[N]=E=Nr(Nr({},E),{},{tickCoord:E.coordinate});var L=hf(e,E.tickCoord,O,f,m);L&&(f=E.tickCoord+e*(O()/2+i),l[N]=Nr(Nr({},E),{},{isShow:!0}))},x=0;x<S;x++)_(x);return l}function SW(e,t,r){var{tick:n,ticks:i,viewBox:s,minTickGap:l,orientation:u,interval:f,tickFormatter:m,unit:h,angle:p}=e;if(!i||!i.length||!n)return[];if(Ge(f)||$o.isSsr){var v;return(v=vW(i,Ge(f)?f:0))!==null&&v!==void 0?v:[]}var w=[],S=u==="top"||u==="bottom"?"width":"height",_=h&&S==="width"?Zl(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=(E,C)=>{var O=typeof m=="function"?m(E.value,C):E.value;return S==="width"?pW(Zl(O,{fontSize:t,letterSpacing:r}),_,p):Zl(O,{fontSize:t,letterSpacing:r})[S]},k=i.length>=2?un(i[1].coordinate-i[0].coordinate):1,N=gW(s,k,S);return f==="equidistantPreserveStart"?yW(k,N,x,i,l):(f==="preserveStart"||f==="preserveStartEnd"?w=jW(k,N,x,i,l,f==="preserveStartEnd"):w=_W(k,N,x,i,l),w.filter(E=>E.isShow))}var kW=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=e,l=0;if(t){t.forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>l&&(l=p.width)}});var u=r?r.getBoundingClientRect().width:0,f=i+s,m=l+f+u+(r?n:0);return Math.round(m)}return 0},NW=["axisLine","width","height","className","hide","ticks"],EW=["viewBox"],AW=["viewBox"];function Fv(e,t){if(e==null)return{};var r,n,i=CW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function CW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ja(){return ja=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ja.apply(null,arguments)}function YS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YS(Object(r),!0).forEach(function(n){PW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PW(e,t,r){return(t=OW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OW(e){var t=TW(e,"string");return typeof t=="symbol"?t:t+""}function TW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IW={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function DW(e){var{x:t,y:r,width:n,height:i,orientation:s,mirror:l,axisLine:u,otherSvgProps:f}=e;if(!u)return null;var m=Qt(Qt(Qt({},f),wr(u,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var h=+(s==="top"&&!l||s==="bottom"&&l);m=Qt(Qt({},m),{},{x1:t,y1:r+h*i,x2:t+n,y2:r+h*i})}else{var p=+(s==="left"&&!l||s==="right"&&l);m=Qt(Qt({},m),{},{x1:t+p*n,y1:r,x2:t+p*n,y2:r+i})}return b.createElement("line",ja({},m,{className:kt("recharts-cartesian-axis-line",xo(u,"className"))}))}function RW(e,t,r,n,i,s,l,u,f){var m,h,p,v,w,S,_=u?-1:1,x=e.tickSize||l,k=Ge(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":m=h=e.coordinate,v=r+ +!u*i,p=v-_*x,S=p-_*f,w=k;break;case"left":p=v=e.coordinate,h=t+ +!u*n,m=h-_*x,w=m-_*f,S=k;break;case"right":p=v=e.coordinate,h=t+ +u*n,m=h+_*x,w=m+_*f,S=k;break;default:m=h=e.coordinate,v=r+ +u*i,p=v+_*x,S=p+_*f,w=k;break}return{line:{x1:m,y1:p,x2:h,y2:v},tick:{x:w,y:S}}}function MW(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function $W(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function LW(e){var{option:t,tickProps:r,value:n}=e,i,s=kt(r.className,"recharts-cartesian-axis-tick-value");if(b.isValidElement(t))i=b.cloneElement(t,Qt(Qt({},r),{},{className:s}));else if(typeof t=="function")i=t(Qt(Qt({},r),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=kt(l,t==null?void 0:t.className)),i=b.createElement(C0,ja({},r,{className:l}),n)}return i}function FW(e){var{ticks:t=[],tick:r,tickLine:n,stroke:i,tickFormatter:s,unit:l,padding:u,tickTextProps:f,orientation:m,mirror:h,x:p,y:v,width:w,height:S,tickSize:_,tickMargin:x,fontSize:k,letterSpacing:N,getTicksConfig:E,events:C}=e,O=SW(Qt(Qt({},E),{},{ticks:t}),k,N),I=MW(m,h),L=$W(m,h),Y=_c(E),q=wr(r,!1),U=Qt(Qt({},Y),{},{fill:"none"},wr(n,!1)),z=O.map((V,ee)=>{var{line:Q,tick:ae}=RW(V,p,v,w,S,m,_,h,x),xe=Qt(Qt(Qt(Qt({textAnchor:I,verticalAnchor:L},Y),{},{stroke:"none",fill:i},q),ae),{},{index:ee,payload:V,visibleTicksCount:O.length,tickFormatter:s,padding:u},f);return b.createElement(Ds,ja({className:"recharts-cartesian-axis-tick",key:"tick-".concat(V.value,"-").concat(V.coordinate,"-").concat(V.tickCoord)},hy(C,V,ee)),n&&b.createElement("line",ja({},U,Q,{className:kt("recharts-cartesian-axis-tick-line",xo(n,"className"))})),r&&b.createElement(LW,{option:r,tickProps:xe,value:"".concat(typeof s=="function"?s(V.value,ee):V.value).concat(l||"")}))});return z.length>0?b.createElement("g",{className:"recharts-cartesian-axis-ticks"},z):null}var UW=b.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:s,hide:l,ticks:u}=e,f=Fv(e,NW),[m,h]=b.useState(""),[p,v]=b.useState(""),w=b.useRef([]);b.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var _;return kW({ticks:w.current,label:(_=e.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var S=b.useCallback(_=>{if(_){var x=_.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=Array.from(x);var k=x[0];if(k){var N=window.getComputedStyle(k),E=N.fontSize,C=N.letterSpacing;(E!==m||C!==p)&&(h(E),v(C))}}},[m,p]);return l||n!=null&&n<=0||i!=null&&i<=0?null:b.createElement(Ds,{className:kt("recharts-cartesian-axis",s),ref:S},b.createElement(DW,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:_c(e)}),b.createElement(FW,{ticks:u,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:m,letterSpacing:p,getTicksConfig:e,events:f}),b.createElement(NV,{x:e.x,y:e.y,width:e.width,height:e.height},b.createElement(MV,{label:e.label}),e.children))}),zW=b.memo(UW,(e,t)=>{var{viewBox:r}=e,n=Fv(e,EW),{viewBox:i}=t,s=Fv(t,AW);return Co(r,i)&&Co(n,s)}),I0=b.forwardRef((e,t)=>{var r=ui(e,IW);return b.createElement(zW,ja({},r,{ref:t}))});I0.displayName="CartesianAxis";var BW=["dangerouslySetInnerHTML","ticks"],VW=["id"],qW=["domain"],WW=["domain"];function Uv(){return Uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uv.apply(null,arguments)}function mf(e,t){if(e==null)return{};var r,n,i=KW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function KW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function HW(e){var t=lr();return b.useEffect(()=>(t(Mq(e)),()=>{t($q(e))}),[e,t]),null}var YW=e=>{var{xAxisId:t,className:r}=e,n=Ve(Ny),i=ci(),s="xAxis",l=Ve(x=>Vo(x,s,t,i)),u=Ve(x=>g2(x,s,t,i)),f=Ve(x=>f2(x,t)),m=Ve(x=>Gz(x,t)),h=Ve(x=>RA(x,t));if(f==null||m==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:v}=e,w=mf(e,BW),{id:S}=h,_=mf(h,VW);return b.createElement(I0,Uv({},w,_,{scale:l,x:m.x,y:m.y,width:f.width,height:f.height,className:kt("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:u}))},GW={allowDataOverflow:rn.allowDataOverflow,allowDecimals:rn.allowDecimals,allowDuplicatedCategory:rn.allowDuplicatedCategory,height:rn.height,hide:!1,mirror:rn.mirror,orientation:rn.orientation,padding:rn.padding,reversed:rn.reversed,scale:rn.scale,tickCount:rn.tickCount,type:rn.type,xAxisId:0},JW=e=>{var t,r,n,i,s,l=ui(e,GW);return b.createElement(b.Fragment,null,b.createElement(HW,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(r=l.includeHidden)!==null&&r!==void 0?r:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(n=l.angle)!==null&&n!==void 0?n:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(s=l.tick)!==null&&s!==void 0?s:!0,tickFormatter:l.tickFormatter}),b.createElement(YW,l))},XW=(e,t)=>{var{domain:r}=e,n=mf(e,qW),{domain:i}=t,s=mf(t,WW);return Co(n,s)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:Co({domain:r},{domain:i}):!1},gC=b.memo(JW,XW);gC.displayName="XAxis";var QW=["dangerouslySetInnerHTML","ticks"],ZW=["id"],e9=["domain"],t9=["domain"];function zv(){return zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zv.apply(null,arguments)}function pf(e,t){if(e==null)return{};var r,n,i=r9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function r9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function n9(e){var t=lr();return b.useEffect(()=>(t(Lq(e)),()=>{t(Fq(e))}),[e,t]),null}var i9=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,s=b.useRef(null),l=b.useRef(null),u=Ve(Ny),f=ci(),m=lr(),h="yAxis",p=Ve(O=>Vo(O,h,t,f)),v=Ve(O=>h2(O,t)),w=Ve(O=>Xz(O,t)),S=Ve(O=>g2(O,h,t,f)),_=Ve(O=>MA(O,t));if(b.useLayoutEffect(()=>{if(!(n!=="auto"||!v||P0(i)||b.isValidElement(i)||_==null)){var O=s.current;if(O){var I=O.getCalculatedWidth();Math.round(v.width)!==Math.round(I)&&m(Uq({id:t,width:I}))}}},[S,v,m,i,t,n,_]),v==null||w==null||_==null)return null;var{dangerouslySetInnerHTML:x,ticks:k}=e,N=pf(e,QW),{id:E}=_,C=pf(_,ZW);return b.createElement(I0,zv({},N,C,{ref:s,labelRef:l,scale:p,x:w.x,y:w.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:v.width,height:v.height,className:kt("recharts-".concat(h," ").concat(h),r),viewBox:u,ticks:S}))},s9={allowDataOverflow:nn.allowDataOverflow,allowDecimals:nn.allowDecimals,allowDuplicatedCategory:nn.allowDuplicatedCategory,hide:!1,mirror:nn.mirror,orientation:nn.orientation,padding:nn.padding,reversed:nn.reversed,scale:nn.scale,tickCount:nn.tickCount,type:nn.type,width:nn.width,yAxisId:0},a9=e=>{var t,r,n,i,s,l=ui(e,s9);return b.createElement(b.Fragment,null,b.createElement(n9,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(r=l.includeHidden)!==null&&r!==void 0?r:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(n=l.angle)!==null&&n!==void 0?n:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(s=l.tick)!==null&&s!==void 0?s:!0,tickFormatter:l.tickFormatter}),b.createElement(i9,l))},o9=(e,t)=>{var{domain:r}=e,n=pf(e,e9),{domain:i}=t,s=pf(t,t9);return Co(n,s)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:Co({domain:r},{domain:i}):!1},vC=b.memo(a9,o9);vC.displayName="YAxis";var Og={exports:{}},Tg={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GS;function l9(){if(GS)return Tg;GS=1;var e=Po();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,l=e.useMemo,u=e.useDebugValue;return Tg.useSyncExternalStoreWithSelector=function(f,m,h,p,v){var w=i(null);if(w.current===null){var S={hasValue:!1,value:null};w.current=S}else S=w.current;w=l(function(){function x(O){if(!k){if(k=!0,N=O,O=p(O),v!==void 0&&S.hasValue){var I=S.value;if(v(I,O))return E=I}return E=O}if(I=E,r(N,O))return I;var L=p(O);return v!==void 0&&v(I,L)?(N=O,I):(N=O,E=L)}var k=!1,N,E,C=h===void 0?null:h;return[function(){return x(m())},C===null?void 0:function(){return x(C())}]},[m,h,p,v]);var _=n(f,w[0],w[1]);return s(function(){S.hasValue=!0,S.value=_},[_]),u(_),_},Tg}var JS;function c9(){return JS||(JS=1,Og.exports=l9()),Og.exports}c9();function u9(e){e()}function d9(){let e=null,t=null;return{clear(){e=null,t=null},notify(){u9(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var XS={notify(){},get:()=>[]};function f9(e,t){let r,n=XS,i=0,s=!1;function l(_){h();const x=n.subscribe(_);let k=!1;return()=>{k||(k=!0,x(),p())}}function u(){n.notify()}function f(){S.onStateChange&&S.onStateChange()}function m(){return s}function h(){i++,r||(r=e.subscribe(f),n=d9())}function p(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=XS)}function v(){s||(s=!0,h())}function w(){s&&(s=!1,p())}const S={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:m,trySubscribe:v,tryUnsubscribe:w,getListeners:()=>n};return S}var h9=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",m9=h9(),p9=()=>typeof navigator<"u"&&navigator.product==="ReactNative",g9=p9(),v9=()=>m9||g9?b.useLayoutEffect:b.useEffect,y9=v9(),Ig=Symbol.for("react-redux-context"),Dg=typeof globalThis<"u"?globalThis:{};function x9(){if(!b.createContext)return{};const e=Dg[Ig]??(Dg[Ig]=new Map);let t=e.get(b.createContext);return t||(t=b.createContext(null),e.set(b.createContext,t)),t}var w9=x9();function b9(e){const{children:t,context:r,serverState:n,store:i}=e,s=b.useMemo(()=>{const f=f9(i);return{store:i,subscription:f,getServerState:n?()=>n:void 0}},[i,n]),l=b.useMemo(()=>i.getState(),[i]);y9(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,l]);const u=r||w9;return b.createElement(u.Provider,{value:s},t)}var _9=b9,j9=(e,t)=>t,D0=J([j9,dt,TA,er,O2,is,t8,cr],a8),R0=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},yC=Ln("mouseClick"),xC=Sc();xC.startListening({actionCreator:yC,effect:(e,t)=>{var r=e.payload,n=D0(t.getState(),R0(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(uB({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Bv=Ln("mouseMove"),wC=Sc();wC.startListening({actionCreator:Bv,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=x0(n,n.tooltip.settings.shared),s=D0(n,R0(r));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?t.dispatch(S2({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(j2()))}});var QS={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},bC=gn({name:"rootProps",initialState:QS,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:QS.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),S9=bC.reducer,{updateOptions:k9}=bC.actions,_C=gn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:pH}=_C.actions,N9=_C.reducer,jC=Ln("keyDown"),SC=Ln("focus"),M0=Sc();M0.startListening({actionCreator:jC,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=Number(w0(i,Wo(r))),u=is(r);if(s==="Enter"){var f=lf(r,"axis","hover",String(i.index));t.dispatch(Dv({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var m=tB(r),h=m==="left-to-right"?1:-1,p=s==="ArrowRight"?1:-1,v=l+p*h;if(!(u==null||v>=u.length||v<0)){var w=lf(r,"axis","hover",String(v));t.dispatch(Dv({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:w}))}}}}});M0.startListening({actionCreator:SC,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",l=lf(r,"axis","hover",String(s));t.dispatch(Dv({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:l}))}}}});var Tn=Ln("externalEvent"),kC=Sc();kC.startListening({actionCreator:Tn,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:KB(r),activeDataKey:R2(r),activeIndex:Ao(r),activeLabel:D2(r),activeTooltipIndex:Ao(r),isTooltipActive:HB(r)};e.payload.handler(n,e.payload.reactEvent)}}});var E9=J([qo],e=>e.tooltipItemPayloads),A9=J([E9,Dc,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(u=>u.settings.dataKey===n);if(i!=null){var{positions:s}=i;if(s!=null){var l=t(s,r);return l}}}),NC=Ln("touchMove"),EC=Sc();EC.startListening({actionCreator:NC,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=x0(n,n.tooltip.settings.shared);if(i==="axis"){var s=D0(n,R0({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(S2({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var l,u=r.touches[0],f=document.elementFromPoint(u.clientX,u.clientY);if(!f||!f.getAttribute)return;var m=f.getAttribute(R6),h=(l=f.getAttribute(M6))!==null&&l!==void 0?l:void 0,p=A9(t.getState(),m,h);t.dispatch(_2({activeDataKey:h,activeIndex:m,activeCoordinate:p}))}}});var C9=YN({brush:sW,cartesianAxis:zq,chartData:j8,errorBars:t7,graphicalItems:Pq,layout:i6,legend:eL,options:y8,polarAxis:QV,polarOptions:N9,referenceElements:fW,rootProps:S9,tooltip:dB}),P9=function(t){return C3({reducer:C9,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([xC.middleware,wC.middleware,M0.middleware,kC.middleware,EC.middleware]),devTools:$o.devToolsEnabled})};function O9(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=ci(),s=b.useRef(null);if(i)return r;s.current==null&&(s.current=P9(t));var l=xy;return b.createElement(_9,{context:l,store:s.current},r)}function T9(e){var{layout:t,width:r,height:n,margin:i}=e,s=lr(),l=ci();return b.useEffect(()=>{l||(s(t6(t)),s(r6({width:r,height:n})),s(e6(i)))},[s,l,t,r,n,i]),null}function I9(e){var t=lr();return b.useEffect(()=>{t(k9(e))},[t,e]),null}var D9=["children"];function R9(e,t){if(e==null)return{};var r,n,i=M9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function M9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gf(){return gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gf.apply(null,arguments)}var $9={width:"100%",height:"100%"},L9=b.forwardRef((e,t)=>{var r=G6(),n=J6(),i=bE();if(!Wd(r)||!Wd(n))return null;var{children:s,otherAttributes:l,title:u,desc:f}=e,m,h;return typeof l.tabIndex=="number"?m=l.tabIndex:m=i?0:void 0,typeof l.role=="string"?h=l.role:h=i?"application":void 0,b.createElement(gN,gf({},l,{title:u,desc:f,role:h,tabIndex:m,width:r,height:n,style:$9,ref:t}),s)}),F9=e=>{var{children:t}=e,r=Ve($f);if(!r)return null;var{width:n,height:i,y:s,x:l}=r;return b.createElement(gN,{width:n,height:i,x:l,y:s},t)},ZS=b.forwardRef((e,t)=>{var{children:r}=e,n=R9(e,D9),i=ci();return i?b.createElement(F9,null,r):b.createElement(L9,gf({ref:t},n),r)});function U9(){var e=lr(),[t,r]=b.useState(null),n=Ve(D6);return b.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;mn(s)&&s!==n&&e(n6(s))}},[t,e,n]),r}function ek(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function z9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ek(Object(r),!0).forEach(function(n){B9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ek(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function B9(e,t,r){return(t=V9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V9(e){var t=q9(e,"string");return typeof t=="symbol"?t:t+""}function q9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W9=b.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:l,onDoubleClick:u,onMouseDown:f,onMouseEnter:m,onMouseLeave:h,onMouseMove:p,onMouseUp:v,onTouchEnd:w,onTouchMove:S,onTouchStart:_,style:x,width:k}=e,N=lr(),[E,C]=b.useState(null),[O,I]=b.useState(null);T8();var L=U9(),Y=b.useCallback(D=>{L(D),typeof t=="function"&&t(D),C(D),I(D)},[L,t,C,I]),q=b.useCallback(D=>{N(yC(D)),N(Tn({handler:s,reactEvent:D}))},[N,s]),U=b.useCallback(D=>{N(Bv(D)),N(Tn({handler:m,reactEvent:D}))},[N,m]),z=b.useCallback(D=>{N(j2()),N(Tn({handler:h,reactEvent:D}))},[N,h]),V=b.useCallback(D=>{N(Bv(D)),N(Tn({handler:p,reactEvent:D}))},[N,p]),ee=b.useCallback(()=>{N(SC())},[N]),Q=b.useCallback(D=>{N(jC(D.key))},[N]),ae=b.useCallback(D=>{N(Tn({handler:l,reactEvent:D}))},[N,l]),xe=b.useCallback(D=>{N(Tn({handler:u,reactEvent:D}))},[N,u]),ye=b.useCallback(D=>{N(Tn({handler:f,reactEvent:D}))},[N,f]),re=b.useCallback(D=>{N(Tn({handler:v,reactEvent:D}))},[N,v]),le=b.useCallback(D=>{N(Tn({handler:_,reactEvent:D}))},[N,_]),ce=b.useCallback(D=>{N(NC(D)),N(Tn({handler:S,reactEvent:D}))},[N,S]),M=b.useCallback(D=>{N(Tn({handler:w,reactEvent:D}))},[N,w]);return b.createElement(z2.Provider,{value:E},b.createElement(SM.Provider,{value:O},b.createElement("div",{className:kt("recharts-wrapper",n),style:z9({position:"relative",cursor:"default",width:k,height:i},x),onClick:q,onContextMenu:ae,onDoubleClick:xe,onFocus:ee,onKeyDown:Q,onMouseDown:ye,onMouseEnter:U,onMouseLeave:z,onMouseMove:V,onMouseUp:re,onTouchEnd:M,onTouchMove:ce,onTouchStart:le,ref:Y},r)))}),K9=["children","className","width","height","style","compact","title","desc"];function H9(e,t){if(e==null)return{};var r,n,i=Y9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Y9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var G9=b.forwardRef((e,t)=>{var{children:r,className:n,width:i,height:s,style:l,compact:u,title:f,desc:m}=e,h=H9(e,K9),p=_c(h);return u?b.createElement(ZS,{otherAttributes:p,title:f,desc:m},r):b.createElement(W9,{className:n,style:l,width:i,height:s,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},b.createElement(ZS,{otherAttributes:p,title:f,desc:m,ref:t},b.createElement(mW,null,r)))}),J9=["width","height"];function Vv(){return Vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vv.apply(null,arguments)}function X9(e,t){if(e==null)return{};var r,n,i=Q9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Q9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Z9={top:5,right:5,bottom:5,left:5},eK={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Z9,reverseStackOrder:!1,syncMethod:"index"},tK=b.forwardRef(function(t,r){var n,i=ui(t.categoricalChartProps,eK),{width:s,height:l}=i,u=X9(i,J9);if(!Wd(s)||!Wd(l))return null;var{chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,categoricalChartProps:v}=t,w={chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return b.createElement(O9,{preloadedState:{options:w},reduxStoreName:(n=v.id)!==null&&n!==void 0?n:f},b.createElement(iW,{chartData:v.data}),b.createElement(T9,{width:s,height:l,layout:i.layout,margin:i.margin}),b.createElement(I9,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),b.createElement(G9,Vv({},u,{width:s,height:l,ref:r})))}),rK=["axis","item"],nK=b.forwardRef((e,t)=>b.createElement(tK,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:rK,tooltipPayloadSearcher:g8,categoricalChartProps:e,ref:t}));const dn={clientId:"a6283b6c-2210-4d6c-bade-651acfdb6703",tenantId:"3bb4e039-9a0f-4671-9733-a9ae03d39395",redirectUri:"http://localhost:5173/feature-voting-app/admin",scopes:["https://app.vssps.visualstudio.com/user_impersonation","offline_access"]};function iK(){const e=new Uint8Array(32);return crypto.getRandomValues(e),AC(e)}async function sK(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r);return AC(new Uint8Array(n))}function AC(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}async function aK(e){const t=iK(),r=await sK(t);sessionStorage.setItem("pkce_verifier",t);const n=new URLSearchParams({client_id:dn.clientId,response_type:"code",redirect_uri:dn.redirectUri,response_mode:"query",scope:dn.scopes.join(" "),state:e,code_challenge:r,code_challenge_method:"S256"});return`https://login.microsoftonline.com/${dn.tenantId}/oauth2/v2.0/authorize?${n}`}async function oK(e){const t=`https://login.microsoftonline.com/${dn.tenantId}/oauth2/v2.0/token`,r=sessionStorage.getItem("pkce_verifier");if(!r)throw new Error("Code verifier not found - PKCE flow incomplete");const n=new URLSearchParams({client_id:dn.clientId,scope:dn.scopes.join(" "),code:e,redirect_uri:dn.redirectUri,grant_type:"authorization_code",code_verifier:r}),i=await fetch(t,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n.toString()});if(!i.ok){const l=await i.json();throw console.error("Token exchange error:",l),new Error(`Failed to exchange code for tokens: ${l.error_description||l.error}`)}const s=await i.json();return sessionStorage.removeItem("pkce_verifier"),{accessToken:s.access_token,refreshToken:s.refresh_token,expiresIn:s.expires_in}}async function lK(e){const t=`https://login.microsoftonline.com/${dn.tenantId}/oauth2/v2.0/token`,r=new URLSearchParams({client_id:dn.clientId,scope:dn.scopes.join(" "),refresh_token:e,grant_type:"refresh_token"}),n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:r.toString()});if(!n.ok){const s=await n.json();throw console.error("Token refresh error:",s),new Error(`Failed to refresh access token: ${s.error_description||s.error}`)}const i=await n.json();return{accessToken:i.access_token,expiresIn:i.expires_in}}async function tk(e){if(!e.accessToken||!e.organization||!e.project)throw new Error("Missing required configuration");const t=`https://dev.azure.com/${e.organization}/${e.project}/_apis/wit/workitemtypes/${e.workItemType}?api-version=7.1`,r=await fetch(t,{headers:{Authorization:`Bearer ${e.accessToken}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error(`Failed to fetch states: ${r.statusText}`);const n=await r.json();return n.states&&Array.isArray(n.states)?n.states.map(i=>i.name):["New","Active","Resolved","Closed","Removed"]}async function cK(e){if(!e.accessToken||!e.organization||!e.project)throw new Error("Missing required configuration");const t=`https://dev.azure.com/${e.organization}/${e.project}/_apis/wit/classificationnodes/areas?$depth=10&api-version=7.1`,r=await fetch(t,{headers:{Authorization:`Bearer ${e.accessToken}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error(`Failed to fetch area paths: ${r.statusText}`);const n=await r.json(),i=(s,l="")=>{const u=l?`${l}\\${s.name}`:s.name;let f=[u];return s.children&&s.children.length>0&&s.children.forEach(m=>{f=f.concat(i(m,u))}),f};return i(n)}async function uK(e){if(!e.accessToken||!e.organization||!e.project)throw new Error("Missing required configuration");try{const t={query:"SELECT [System.Id] FROM WorkItems WHERE [System.TeamProject] = @project ORDER BY [System.ChangedDate] DESC"},r=`https://dev.azure.com/${e.organization}/${e.project}/_apis/wit/wiql?api-version=7.1`,n=await fetch(r,{method:"POST",headers:{Authorization:`Bearer ${e.accessToken}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)return console.warn("Failed to fetch tags, returning empty array"),[];const i=await n.json();if(!i.workItems||i.workItems.length===0)return[];const s=i.workItems.map(h=>h.id).slice(0,200),l=`https://dev.azure.com/${e.organization}/${e.project}/_apis/wit/workitems?ids=${s.join(",")}&fields=System.Tags&api-version=7.1`,u=await fetch(l,{headers:{Authorization:`Bearer ${e.accessToken}`,"Content-Type":"application/json"}});if(!u.ok)return console.warn("Failed to fetch work item details for tags"),[];const f=await u.json(),m=new Set;return f.value&&Array.isArray(f.value)&&f.value.forEach(h=>{h.fields&&h.fields["System.Tags"]&&h.fields["System.Tags"].split(";").map(v=>v.trim()).forEach(v=>{v&&m.add(v)})}),Array.from(m).sort()}catch(t){return console.warn("Error fetching tags, returning empty array:",t),[]}}function dK(e){const t=new Date(e).getTime(),r=Date.now(),n=300*1e3;return t-r<n}async function fK(){const e=new URLSearchParams(window.location.search),t=e.get("code"),r=e.get("state");if(!t)return null;const n=sessionStorage.getItem("oauth_state");if(r!==n)throw new Error("State mismatch - possible CSRF attack");const i=await oK(t);return sessionStorage.removeItem("oauth_state"),i}async function hK(){const e=Math.random().toString(36).substring(7);sessionStorage.setItem("oauth_state",e);const t=sessionStorage.getItem("currentSession");t&&sessionStorage.setItem("oauth_session_backup",t);const r=await aK(e);window.location.href=r}async function rk(e){const{organization:t,project:r,workItemType:n,query:i,accessToken:s}=e;if(!s)throw new Error("Not authenticated with Azure DevOps");try{const l=i?`SELECT [System.Id] FROM WorkItems WHERE [System.WorkItemType] = '${n}' AND ${i}`:`SELECT [System.Id] FROM WorkItems WHERE [System.WorkItemType] = '${n}' AND [System.State] = 'Active'`,u=`https://dev.azure.com/${t}/${r}/_apis/wit/wiql?api-version=7.0`,f=await fetch(u,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({query:l})});if(!f.ok)throw new Error(`Azure DevOps query failed: ${f.status} ${f.statusText}`);const h=(await f.json()).workItems.map(x=>x.id);if(h.length===0)return[];const p=h.slice(0,200).join(","),v=["System.Id","System.Title","System.Description","System.Tags","System.WorkItemType","System.State","Microsoft.VSTS.Common.Priority","System.AreaPath","System.IterationPath"].join(","),w=`https://dev.azure.com/${t}/${r}/_apis/wit/workitems?ids=${p}&fields=${v}&api-version=7.0`,S=await fetch(w,{headers:{Authorization:`Bearer ${s}`}});if(!S.ok)throw new Error(`Failed to fetch work items: ${S.status} ${S.statusText}`);return(await S.json()).value.map(x=>({id:x.id,fields:{"System.Title":x.fields["System.Title"],"System.Description":x.fields["System.Description"],"System.Tags":x.fields["System.Tags"],"System.WorkItemType":x.fields["System.WorkItemType"],"System.State":x.fields["System.State"],"Microsoft.VSTS.Common.Priority":x.fields["Microsoft.VSTS.Common.Priority"],"System.AreaPath":x.fields["System.AreaPath"],"System.IterationPath":x.fields["System.IterationPath"]},url:`https://dev.azure.com/${t}/${r}/_workitems/edit/${x.id}`}))}catch(l){throw console.error("Error fetching from Azure DevOps:",l),l}}function nk(e){return e.map(t=>{if(t.fields["System.Tags"]){const r=t.fields["System.Tags"].split(";").map(n=>n.trim());r.length>0&&r[0]}else if(t.fields["System.AreaPath"]){const n=t.fields["System.AreaPath"].split("\\");n.length>1&&n[n.length-1]}return{id:`ado-${t.id}`,title:t.fields["System.Title"]||"Untitled",description:t.fields["System.Description"]||"",epic:t.fields["System.AreaPath"]||null,state:t.fields["System.State"]||null,areaPath:t.fields["System.AreaPath"]||null,tags:t.fields["System.Tags"]?t.fields["System.Tags"].split(";").map(r=>r.trim()).filter(r=>r):[],azureDevOpsId:t.id.toString(),azureDevOpsUrl:t.url}})}function mK({config:e,onConnect:t,onCancel:r,isFetching:n,error:i}){const{register:s,handleSubmit:l,formState:{errors:u}}=wc({defaultValues:{organization:e.organization||"newmill",project:e.project||"Product"}}),f=m=>{t(m.organization,m.project)};return c.jsxs("form",{onSubmit:l(f),className:"bg-blue-50 p-4 rounded-lg",children:[c.jsxs("h3",{className:"text-lg font-medium mb-4 text-[#2d4660] flex items-center",children:[c.jsx(Zg,{className:"h-5 w-5 mr-2"}),"Connect to Azure DevOps"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization Name *"}),c.jsx("input",{...s("organization",{required:"Organization name is required"}),placeholder:"your-organization",className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),u.organization&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.organization.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Name *"}),c.jsx("input",{...s("project",{required:"Project name is required"}),placeholder:"your-project",className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),u.project&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.project.message})]})]}),i&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-md",children:c.jsxs("p",{className:"flex items-center",children:[c.jsx(qt,{className:"h-4 w-4 mr-2"}),i]})}),c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsx(gt,{variant:"secondary",onClick:r,disabled:n,children:"Cancel"}),c.jsxs(gt,{variant:"primary",type:"submit",disabled:n,className:"flex items-center",children:[n&&c.jsx(jf,{className:"animate-spin h-4 w-4 mr-2"}),n?"Connecting...":"Connect with Azure DevOps"]})]})]})}function fd({options:e,value:t,onChange:r,placeholder:n="Select...",label:i,searchable:s=!1}){const[l,u]=b.useState(!1),[f,m]=b.useState(""),h=b.useRef(null),p=b.useRef(null);b.useEffect(()=>{function x(k){h.current&&!h.current.contains(k.target)&&(u(!1),m(""))}return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]),b.useEffect(()=>{l&&s&&p.current&&p.current.focus()},[l,s]);const v=x=>{t.includes(x)?r(t.filter(k=>k!==x)):r([...t,x])},w=(x,k)=>{k.stopPropagation(),r(t.filter(N=>N!==x))},S=x=>{x.stopPropagation(),r([])},_=s&&f?e.filter(x=>x.toLowerCase().includes(f.toLowerCase())):e;return c.jsxs("div",{ref:h,className:"relative",children:[i&&c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i}),c.jsxs("div",{onClick:()=>u(!l),className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-white cursor-pointer min-h-[38px] flex items-center justify-between",children:[c.jsx("div",{className:"flex-1 flex flex-wrap gap-1",children:t.length===0?c.jsx("span",{className:"text-gray-400 text-sm",children:n}):t.map(x=>c.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:[x,c.jsx("button",{type:"button",onClick:k=>w(x,k),className:"ml-1 hover:text-blue-900",children:c.jsx(Si,{className:"h-3 w-3"})})]},x))}),c.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[t.length>0&&c.jsx("button",{type:"button",onClick:S,className:"text-gray-400 hover:text-gray-600",children:c.jsx(Si,{className:"h-4 w-4"})}),c.jsx(Gl,{className:`h-4 w-4 text-gray-400 transition-transform ${l?"transform rotate-180":""}`})]})]}),l&&c.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-hidden flex flex-col",children:[s&&c.jsx("div",{className:"p-2 border-b border-gray-200",children:c.jsx("input",{ref:p,type:"text",value:f,onChange:x=>m(x.target.value),onClick:x=>x.stopPropagation(),placeholder:"Type to search...",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),c.jsx("div",{className:"overflow-y-auto",children:_.length>0?_.map(x=>c.jsxs("div",{onClick:()=>v(x),className:`px-3 py-2 cursor-pointer hover:bg-gray-50 flex items-center justify-between ${t.includes(x)?"bg-blue-50":""}`,children:[c.jsx("span",{className:"text-sm",children:x}),t.includes(x)&&c.jsx(Rn,{className:"h-4 w-4 text-blue-600"})]},x)):c.jsx("div",{className:"px-3 py-2 text-sm text-gray-500 text-center",children:"No matches found"})})]})]})}function pK({config:e,onUpdateConfig:t,onPreview:r,isFetching:n,availableStates:i,availableAreaPaths:s,availableTags:l,onFetchStatesForType:u}){const[f,m]=b.useState(!1),{register:h,handleSubmit:p,watch:v,control:w}=wc({defaultValues:{workItemTypes:e.workItemType?[e.workItemType]:["Feature"],states:e.states||[],areaPaths:e.areaPath?[e.areaPath]:[],tags:e.tags||[],query:e.query||""}}),S=v("workItemTypes");b.useEffect(()=>{u&&S&&S.length>0&&u(S[0])},[S,u]);const _=async x=>{const k=[];if(x.workItemTypes&&x.workItemTypes.length>0)if(x.workItemTypes.length===1)k.push(`[System.WorkItemType] = '${x.workItemTypes[0]}'`);else{const C=x.workItemTypes.map(O=>`'${O}'`).join(", ");k.push(`[System.WorkItemType] IN (${C})`)}if(x.states&&x.states.length>0)if(x.states.length===1)k.push(`[System.State] = '${x.states[0]}'`);else{const C=x.states.map(O=>`'${O}'`).join(", ");k.push(`[System.State] IN (${C})`)}if(x.areaPaths&&x.areaPaths.length>0)if(x.areaPaths.length===1)k.push(`[System.AreaPath] UNDER '${x.areaPaths[0]}'`);else{const C=x.areaPaths.map(O=>`[System.AreaPath] UNDER '${O}'`);k.push(`(${C.join(" OR ")})`)}if(x.tags&&x.tags.length>0){const C=x.tags.map(O=>`[System.Tags] CONTAINS '${O}'`);k.push(`(${C.join(" OR ")})`)}f&&x.query&&k.push(`(${x.query})`);const N=k.length>0?k.join(" AND "):void 0,E={...e,workItemType:x.workItemTypes&&x.workItemTypes.length>0?x.workItemTypes[0]:"Feature",query:N,states:x.states&&x.states.length>0?x.states:void 0,areaPath:x.areaPaths&&x.areaPaths.length>0?x.areaPaths[0]:void 0,tags:x.tags&&x.tags.length>0?x.tags:void 0};t(E),await r()};return c.jsxs("form",{onSubmit:p(_),className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-medium text-[#2d4660] flex items-center",children:[c.jsx(oR,{className:"h-5 w-5 mr-2"}),"Filter Work Items"]}),c.jsx("button",{type:"button",onClick:()=>m(!f),className:"text-xs text-blue-600 hover:text-blue-800 font-medium",children:f?" Hide Advanced WIQL":"Show Advanced WIQL "})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx(Gu,{name:"workItemTypes",control:w,render:({field:x})=>c.jsx(fd,{label:"Work Item Type",options:["Feature","User Story","Product Backlog Item","Epic","Issue"],value:x.value,onChange:x.onChange,placeholder:"Select types..."})}),c.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Click to select multiple types"})]}),i.length>0&&c.jsxs("div",{children:[c.jsx(Gu,{name:"states",control:w,render:({field:x})=>c.jsx(fd,{label:"State (Optional)",options:i,value:x.value,onChange:x.onChange,placeholder:"Select states..."})}),c.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Click to select multiple states"})]}),s.length>0&&c.jsxs("div",{children:[c.jsx(Gu,{name:"areaPaths",control:w,render:({field:x})=>c.jsx(fd,{label:"Area Path (Optional)",options:s,value:x.value,onChange:x.onChange,placeholder:"Select area paths...",searchable:!0})}),c.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Type to search and select paths"})]}),l.length>0&&c.jsxs("div",{children:[c.jsx(Gu,{name:"tags",control:w,render:({field:x})=>c.jsx(fd,{label:"Tags (Optional)",options:l,value:x.value,onChange:x.onChange,placeholder:"Select tags...",searchable:!0})}),c.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Type to search and select tags"})]})]}),f&&c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Advanced WIQL Query (Optional)"}),c.jsx("input",{...h("query"),placeholder:"e.g., [System.Priority] = 1",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"}),c.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Will be combined with above filters using AND."," ",c.jsx("a",{href:"https://learn.microsoft.com/en-us/azure/devops/boards/queries/wiql-syntax",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:"WIQL syntax reference "})]})]}),c.jsx("div",{className:"flex justify-end",children:c.jsxs(gt,{variant:"gold",type:"submit",disabled:n,className:"flex items-center",children:[n&&c.jsx(jf,{className:"animate-spin h-4 w-4 mr-2"}),n?"Loading...":"Preview Features"]})})]})}function gK({session:e,featureCount:t,onSubmit:r,onCancel:n}){const{register:i,handleSubmit:s,watch:l,formState:{errors:u}}=wc({defaultValues:{title:e.title,goal:e.goal,startDate:e.startDate.split("T")[0],endDate:e.endDate.split("T")[0],useAutoVotes:e.useAutoVotes||!1,votesPerUser:e.votesPerUser}}),f=l("useAutoVotes"),m=f?Math.max(1,Math.floor(t/2)):l("votesPerUser");return c.jsxs("form",{onSubmit:s(r),children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Session Title"}),c.jsx("input",{...i("title",{required:"Title is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),u.title&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.title.message})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Goal"}),c.jsx("textarea",{...i("goal",{required:"Goal is required"}),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),u.goal&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.goal.message})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),c.jsx("input",{type:"date",...i("startDate",{required:"Start date is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),u.startDate&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.startDate.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),c.jsx("input",{type:"date",...i("endDate",{required:"End date is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),u.endDate&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.endDate.message})]})]}),c.jsxs("div",{className:"mb-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-start",children:[c.jsx("input",{type:"checkbox",...i("useAutoVotes"),className:"mt-1 h-4 w-4 text-blue-600 border-gray-300 rounded"}),c.jsxs("div",{className:"ml-3",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Automatically calculate votes per user"}),c.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Each user gets half the number of features (minimum 1 vote). Currently: ",m," votes"]})]})]}),!f&&c.jsxs("div",{className:"mt-3",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Votes Per User"}),c.jsx("input",{type:"number",min:"1",...i("votesPerUser",{required:f?!1:"Votes per user is required",min:{value:1,message:"Must be at least 1"}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),u.votesPerUser&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.votesPerUser.message})]})]}),c.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[c.jsx(gt,{variant:"secondary",type:"button",onClick:n,children:"Cancel"}),c.jsx(gt,{variant:"primary",type:"submit",children:"Save Changes"})]})]})}function vK({features:e,onAddFeature:t,onUpdateFeature:r,onDeleteFeature:n,onShowResults:i,showAddForm:s,setShowAddForm:l,editingFeature:u,setEditingFeature:f,onLogout:m,votingSession:h,azureDevOpsConfig:p,onUpdateAzureDevOpsConfig:v,showAzureDevOpsForm:w,setShowAzureDevOpsForm:S,onFetchAzureDevOpsFeatures:_,onPreviewAzureDevOpsFeatures:x,onDisconnectAzureDevOps:k,isFetchingAzureDevOps:N,azureFetchError:E,onInitiateOAuth:C,availableStates:O,availableAreaPaths:I,availableTags:L,previewFeatures:Y,showPreviewModal:q,setShowPreviewModal:U,onConfirmSync:z,hasImportedFeatures:V,setHasImportedFeatures:ee,onShowVoterView:Q,onUpdateVotingSession:ae,onFetchStatesForType:xe}){const ye=pn(),{currentUser:re}=Ai(),[le,ce]=b.useState(!1),[M,D]=b.useState(!1),{register:te,handleSubmit:_e,reset:ne}=wc({defaultValues:{reason:"",details:""}});$0(h.endDate);const ke=h.isActive?c.jsx("span",{className:"text-[#1E5461] font-medium",children:"Active"}):xa(h.endDate)?c.jsx("span",{className:"text-[#591D0F] font-medium",children:"Closed"}):c.jsx("span",{className:"text-[#C89212] font-medium",children:"Upcoming"}),Me=oe=>{const Z={title:oe.title,goal:oe.goal,votesPerUser:oe.useAutoVotes?Math.max(1,Math.floor(e.length/2)):Number(oe.votesPerUser),useAutoVotes:oe.useAutoVotes,startDate:new Date(oe.startDate).toISOString(),endDate:new Date(oe.endDate+"T23:59:59").toISOString(),isActive:h.isActive};ae(Z),ce(!1)},Je=oe=>{const Z=new Date().toISOString(),Ee={...h,originalEndDate:h.endDate,endDate:Z,isActive:!1,endedEarlyBy:(re==null?void 0:re.name)||"Admin",endedEarlyReason:oe.reason,endedEarlyDetails:oe.details||void 0};ae(Ee),D(!1),ne()},ue=()=>{const oe=new Date;oe.setDate(oe.getDate()+7);const Z={...h,endDate:oe.toISOString(),isActive:!0,originalEndDate:void 0,endedEarlyBy:void 0,endedEarlyReason:void 0,endedEarlyDetails:void 0};ae(Z)},Oe=(oe,Z)=>{const Ee={...p,organization:oe,project:Z};v(Ee),C()};return c.jsxs("div",{className:"container mx-auto p-4 max-w-6xl min-h-screen pb-8",children:[c.jsx("div",{className:"hidden md:flex md:justify-center mb-2 cursor-pointer",onClick:()=>ye("/sessions"),children:c.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"-mt-4",style:{height:"96px",width:"auto"}})}),c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(th,{src:"https://media.licdn.com/dms/image/C4D0BAQEC3OhRqehrKg/company-logo_200_200/0/1630518354793/new_millennium_building_systems_logo?e=2147483647&v=beta&t=LM3sJTmQZet5NshZ-RNHXW1MMG9xSi1asp-VUeSA9NA",alt:"New Millennium Building Systems Logo",className:"mr-4 md:hidden",style:{width:"40px",height:"40px"}}),c.jsx("h1",{className:"text-2xl font-bold text-[#2d4660] md:text-3xl",children:"Admin Dashboard"})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs("button",{onClick:Q,className:"flex items-center px-4 py-2 bg-[#5A7C8C] text-white rounded-lg hover:bg-[#4A6C7C] transition-colors",children:[c.jsx(Kr,{className:"mr-2 h-4 w-4"}),c.jsx("span",{className:"hidden md:inline",children:"Voter View"})]}),c.jsxs("button",{onClick:()=>ye("/users?filter=stakeholder"),className:"flex items-center px-4 py-2 bg-[#2d4660] text-white rounded-lg hover:bg-[#173B65] transition-colors",children:[c.jsx(ln,{className:"mr-2 h-4 w-4"}),c.jsx("span",{className:"hidden md:inline",children:"Stakeholders"})]}),c.jsxs("button",{onClick:()=>ye("/users?filter=session-admin"),className:"flex items-center px-4 py-2 bg-[#2d4660] text-white rounded-lg hover:bg-[#173B65] transition-colors",children:[c.jsx(Wr,{className:"mr-2 h-4 w-4"}),c.jsx("span",{className:"hidden md:inline",children:"Session Admins"})]}),c.jsxs("button",{onClick:m,className:"flex items-center px-4 py-2 bg-[#576C71] text-white rounded-lg hover:bg-[#1E5461] transition-colors",children:[c.jsx(xr,{className:"mr-2 h-4 w-4"}),c.jsx("span",{className:"hidden md:inline",children:"Logout"})]})]})]}),c.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-md p-4 mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-[#2d4660]",children:"Current Session"}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs(gt,{variant:"gold",onClick:i,className:"flex items-center",children:[c.jsx(Jk,{className:"h-4 w-4 mr-2"}),xa(h.endDate)?"Final Results":"Current Results"]}),c.jsxs(gt,{variant:"primary",onClick:()=>ce(!0),className:"flex items-center",children:[c.jsx(ar,{className:"h-4 w-4 mr-2"}),"Edit Session"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Session Title"}),c.jsx("p",{className:"text-[#2d4660] font-medium",children:h.title})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Voting Period"}),c.jsxs("p",{className:`text-[#2d4660] font-medium ${h.originalEndDate?"line-through text-gray-400":""}`,children:[ya(h.startDate)," - ",ya(h.originalEndDate||h.endDate)]}),h.originalEndDate&&h.endedEarlyBy&&c.jsxs("div",{className:"flex items-center mt-1 text-xs text-red-600",children:[c.jsxs("span",{children:["Ended Early by ",h.endedEarlyBy]}),h.endedEarlyReason&&c.jsxs("div",{className:"group relative ml-1",children:[c.jsx(qt,{className:"h-3 w-3 cursor-help"}),c.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 whitespace-nowrap z-10 pointer-events-none max-w-xs",children:[c.jsxs("div",{className:"font-semibold mb-1",children:["Reason: ",h.endedEarlyReason]}),h.endedEarlyDetails&&c.jsx("div",{className:"whitespace-normal",children:h.endedEarlyDetails}),c.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-1 border-4 border-transparent border-t-gray-900"})]})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Votes Per User"}),c.jsx("p",{className:"text-[#2d4660] font-medium",children:h.useAutoVotes?`${Math.max(1,Math.floor(e.length/2))} (Auto: ${e.length} features  2)`:h.votesPerUser})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Status"}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(_f,{className:"h-4 w-4 mr-1 text-gray-600"}),ke]}),(h.isActive||xa(h.endDate))&&c.jsx(gt,{variant:h.isActive?"danger":"primary",onClick:()=>{h.isActive?D(!0):ue()},className:"text-xs px-2 py-1 ml-2",children:h.isActive?"End Early":"Reopen"})]})]})]}),c.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[c.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Goal"}),c.jsx("p",{className:"text-[#2d4660]",children:h.goal})]})]}),c.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-md p-4 mb-6",children:[c.jsx("div",{className:"flex items-center justify-between mb-4",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Zg,{className:"h-5 w-5 text-[#2d4660] mr-2"}),c.jsx("h2",{className:"text-xl font-semibold text-[#2d4660]",children:"Azure DevOps Integration"})]})}),p.enabled?c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Rn,{className:"h-5 w-5 text-green-600 mr-2"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-green-900",children:"Connected to Azure DevOps"}),c.jsxs("p",{className:"text-sm text-green-700 mt-1",children:[c.jsx("span",{className:"font-medium",children:"Organization:"})," ",p.organization,c.jsx("span",{className:"mx-2",children:""}),c.jsx("span",{className:"font-medium",children:"Project:"})," ",p.project,p.lastSyncTime&&c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"mx-2",children:""}),c.jsx("span",{className:"font-medium",children:"Last Sync:"})," ",ya(p.lastSyncTime)]})]})]})]}),c.jsxs("button",{onClick:k,className:"text-sm text-red-600 hover:text-red-800 font-medium flex items-center",children:[c.jsx(Si,{className:"h-4 w-4 mr-1"}),"Disconnect"]})]})}),c.jsx(pK,{config:p,onUpdateConfig:v,onPreview:x,isFetching:N,availableStates:O,availableAreaPaths:I,availableTags:L,onFetchStatesForType:xe})]}):w?c.jsx(mK,{config:p,onConnect:Oe,onCancel:()=>S(!1),isFetching:N,error:E}):c.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 text-center border border-dashed border-gray-300",children:[c.jsx(Zg,{className:"h-10 w-10 text-gray-400 mx-auto mb-3"}),c.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"Not Connected"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Connect to Azure DevOps to import work items as features for voting."}),c.jsxs(gt,{variant:"primary",onClick:()=>S(!0),className:"inline-flex items-center",children:[c.jsx(ar,{className:"h-4 w-4 mr-2"}),"Connect to Azure DevOps"]})]})]}),c.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-md p-4 mb-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-[#2d4660]",children:"Feature Management"}),c.jsxs(gt,{variant:"gold",onClick:()=>l(!0),className:"flex items-center w-44",children:[c.jsx(Jl,{className:"mr-2 h-4 w-4"}),"Add Feature"]})]}),c.jsx("div",{className:"w-full overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 table-fixed",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"w-[20%] px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),c.jsx("th",{scope:"col",className:"hidden lg:table-cell w-[25%] px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),c.jsx("th",{scope:"col",className:"hidden md:table-cell w-[10%] px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Epic"}),c.jsx("th",{scope:"col",className:"hidden md:table-cell w-[8%] px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"State"}),c.jsx("th",{scope:"col",className:"hidden lg:table-cell w-[12%] px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Area Path"}),c.jsx("th",{scope:"col",className:"hidden xl:table-cell w-[10%] px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tags"}),c.jsx("th",{scope:"col",className:"w-[8%] px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Votes"}),c.jsx("th",{scope:"col",className:"w-[7%] px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(oe=>c.jsxs("tr",{className:"align-top group",children:[c.jsx("td",{className:"px-4 py-4 whitespace-normal break-words text-sm font-medium text-left",children:c.jsxs("div",{className:"max-w-xs overflow-hidden text-left",children:[oe.title,oe.azureDevOpsId&&c.jsx("div",{className:"mt-1",children:c.jsx(yf,{id:oe.azureDevOpsId,url:oe.azureDevOpsUrl||""})})]})}),c.jsx("td",{className:"hidden lg:table-cell px-4 py-4 text-sm text-gray-500 text-left",children:c.jsx("div",{className:"max-w-md overflow-hidden break-words text-left",children:oe.description||c.jsx("span",{className:"italic text-gray-400",children:"No description provided"})})}),c.jsx("td",{className:"hidden md:table-cell px-4 py-4 whitespace-nowrap text-sm",children:oe.epic&&c.jsx(vf,{name:oe.epic})}),c.jsx("td",{className:"hidden md:table-cell px-4 py-4 whitespace-nowrap text-sm",children:oe.state&&c.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:oe.state})}),c.jsx("td",{className:"hidden lg:table-cell px-4 py-4 text-sm text-gray-600",children:c.jsx("div",{className:"max-w-xs truncate",children:oe.areaPath||"-"})}),c.jsx("td",{className:"hidden xl:table-cell px-4 py-4 text-sm",children:oe.tags&&oe.tags.length>0?c.jsxs("div",{className:"flex flex-wrap gap-1",children:[oe.tags.slice(0,3).map((Z,Ee)=>c.jsx("span",{className:"px-2 py-0.5 text-xs bg-gray-100 text-gray-700 rounded",children:Z},Ee)),oe.tags.length>3&&c.jsxs("span",{className:"px-2 py-0.5 text-xs text-gray-500",children:["+",oe.tags.length-3]})]}):c.jsx("span",{className:"text-gray-400",children:"-"})}),c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:oe.votes}),c.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500 space-x-3 md:opacity-0 md:group-hover:opacity-100 transition-opacity",children:[c.jsx("button",{onClick:()=>f(oe),className:"text-[#2d4660] hover:text-[#C89212] inline-block cursor-pointer",title:"Edit Feature",children:c.jsx(kR,{className:"h-5 w-5"})}),c.jsx("button",{onClick:()=>n(oe.id),className:"text-[#2d4660] hover:text-[#591D0F] inline-block cursor-pointer",title:"Delete Feature",children:c.jsx(Is,{className:"h-5 w-5"})})]})]},oe.id))})]})})]}),c.jsx(Bl,{isOpen:s,onClose:()=>l(!1),title:"Add New Feature",children:c.jsx(sk,{onSubmit:oe=>{t(oe),l(!1)},onCancel:()=>l(!1)})}),c.jsx(Bl,{isOpen:u!==null,onClose:()=>f(null),title:"Edit Feature",children:u&&c.jsx(sk,{feature:u,onSubmit:oe=>{r({...u,...oe}),f(null)},onCancel:()=>f(null)})}),c.jsx(Bl,{isOpen:le,onClose:()=>ce(!1),title:"Edit Session Settings",children:c.jsx(gK,{session:h,featureCount:e.length,onSubmit:Me,onCancel:()=>ce(!1)})}),c.jsx(Bl,{isOpen:q,onClose:()=>U(!1),title:"Preview Azure DevOps Features",maxWidth:"max-w-4xl",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx("p",{className:"text-gray-600",children:"Review the features that will be synced from Azure DevOps. Choose an action:"}),c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm",children:[c.jsxs("p",{className:"text-blue-800",children:[c.jsx("strong",{children:"Add Features:"})," Merge with existing features (updates matching Azure DevOps IDs)"]}),c.jsxs("p",{className:"text-blue-800 mt-1",children:[c.jsx("strong",{children:"Replace All:"})," Delete all existing features and add only these Azure DevOps features"]})]}),Y&&Y.length>0?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:c.jsxs("p",{className:"text-blue-800 font-medium",children:["Found ",Y.length," work item",Y.length!==1?"s":""," to sync"]})}),c.jsx("div",{className:"max-h-96 overflow-y-auto border border-gray-200 rounded-lg",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50 sticky top-0",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"ID"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Title"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Epic"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"State"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Area Path"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tags"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Y.map(oe=>c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-3 text-sm",children:oe.azureDevOpsId&&c.jsx(yf,{id:oe.azureDevOpsId,url:oe.azureDevOpsUrl||""})}),c.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:oe.title}),c.jsx("td",{className:"px-4 py-3 text-sm",children:oe.epic&&c.jsx(vf,{name:oe.epic})}),c.jsx("td",{className:"px-4 py-3 text-sm",children:oe.state&&c.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:oe.state})}),c.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:c.jsx("div",{className:"max-w-xs truncate",children:oe.areaPath||"-"})}),c.jsx("td",{className:"px-4 py-3 text-sm",children:oe.tags&&oe.tags.length>0?c.jsxs("div",{className:"flex flex-wrap gap-1",children:[oe.tags.slice(0,2).map((Z,Ee)=>c.jsx("span",{className:"px-2 py-0.5 text-xs bg-gray-100 text-gray-700 rounded",children:Z},Ee)),oe.tags.length>2&&c.jsxs("span",{className:"px-2 py-0.5 text-xs text-gray-500",children:["+",oe.tags.length-2]})]}):c.jsx("span",{className:"text-gray-400",children:"-"})})]},oe.id))})]})}),c.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:[c.jsx(gt,{variant:"secondary",onClick:()=>U(!1),children:"Cancel"}),c.jsxs(gt,{variant:"primary",onClick:async()=>{await z(!1),U(!1)},className:"flex items-center",children:[c.jsx(Jl,{className:"h-4 w-4 mr-2"}),"Add ",Y.length," Feature",Y.length!==1?"s":""]}),c.jsxs(gt,{variant:"danger",onClick:async()=>{await z(!0),U(!1)},className:"flex items-center",children:[c.jsx(jf,{className:"h-4 w-4 mr-2"}),"Replace All Features"]})]})]}):c.jsxs("div",{className:"text-center py-8",children:[c.jsx(qt,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),c.jsx("p",{className:"text-gray-600",children:"No features found to sync"})]})]})}),c.jsx(Bl,{isOpen:M,onClose:()=>{D(!1),ne()},title:"End Session Early",children:c.jsxs("form",{onSubmit:_e(Je),className:"space-y-4",children:[c.jsx("p",{className:"text-gray-600",children:"You are about to end this voting session early. Please select a reason:"}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason *"}),c.jsxs("select",{...te("reason",{required:"Please select a reason"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent",children:[c.jsx("option",{value:"",children:"Select a reason..."}),c.jsx("option",{value:"Sufficient Responses",children:"Sufficient responses received"}),c.jsx("option",{value:"Project Cancelled",children:"Project or initiative cancelled"}),c.jsx("option",{value:"Timeline Changed",children:"Timeline or priorities changed"}),c.jsx("option",{value:"Technical Issues",children:"Technical issues or data concerns"}),c.jsx("option",{value:"Stakeholder Request",children:"Stakeholder request"}),c.jsx("option",{value:"Low Participation",children:"Low participation rate"}),c.jsx("option",{value:"Other",children:"Other"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Details (Optional)"}),c.jsx("textarea",{...te("details"),rows:3,placeholder:"Add any additional context or notes...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent"})]}),c.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 text-sm text-yellow-800",children:[c.jsx("p",{className:"font-medium mb-1",children:"Note:"}),c.jsx("p",{children:"Ending the session will close voting immediately. This action will be logged and visible to all admins."})]}),c.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[c.jsx(gt,{variant:"secondary",type:"button",onClick:()=>{D(!1),ne()},children:"Cancel"}),c.jsx(gt,{variant:"danger",type:"submit",children:"End Session Now"})]})]})})]})}const ik=["User Experience","Vendor Management","Analytics & Reporting","Operational Efficiency","Compliance & Risk","Mobile Access","Integration","Sustainability","Budget Management"],yK={title:"Q2 Product Roadmap",goal:"Prioritize features for the Purchasing Dashboard redesign",votesPerUser:10,useAutoVotes:!0,startDate:new Date().toISOString(),endDate:new Date(Date.now()+10080*60*1e3).toISOString(),isActive:!0},xK={organization:"newmill",project:"Product",enabled:!1,workItemType:"Feature"},wK=[{id:"u1",name:"John Doe",email:"john@example.com",totalVotes:10,usedVotes:0,votesPerFeature:{}},{id:"u2",name:"Jane Smith",email:"jane@example.com",totalVotes:10,usedVotes:0,votesPerFeature:{}},{id:"u3",name:"Robert Johnson",email:"robert@example.com",totalVotes:10,usedVotes:0,votesPerFeature:{}}],ya=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),$0=e=>{const t=new Date(e),r=new Date;t.setHours(0,0,0,0),r.setHours(0,0,0,0);const n=t.getTime()-r.getTime();return Math.ceil(n/(1e3*60*60*24))},CC=e=>e<=0?"text-[#591D0F]":e<=2?"text-[#6A4234]":e<=4?"text-[#C89212]":"text-[#1E5461]",PC=e=>e<=0?"bg-[#591D0F]/10":e<=2?"bg-[#6A4234]/10":e<=4?"bg-[#C89212]/10":"bg-[#1E5461]/10",xa=e=>new Date(e)<new Date,bK=(e,t)=>{const r=new Date(e),n=new Date(t),i=new Date;return r<=i&&i<=n},_K=e=>{const t=[...e];for(let r=t.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1));[t[r],t[n]]=[t[n],t[r]]}return t},wd=(e,t)=>e?e.length>t?`${e.substring(0,t-3)}...`:e:"",Rg=e=>{if(!e)return"";const t=document.createElement("div");t.innerHTML=e;let r=t.textContent||t.innerText||"";return r=r.replace(/\s+/g," ").trim(),r},jK=e=>{const t=e.split("");for(let r=0;r<3;r++){const n=Math.floor(Math.random()*t.length),i=Math.floor(Math.random()*t.length);n!==i&&([t[n],t[i]]=[t[i],t[n]])}return t.join("")};function th({src:e,alt:t,style:r,className:n,...i}){const[s,l]=b.useState(!1);return s?c.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${n??""}`,style:r,children:c.jsx("div",{className:"flex items-center justify-center w-full h-full",children:c.jsx("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==",alt:"Error loading image",...i,"data-original-url":e})})}):c.jsx("img",{src:e,alt:t,className:n,style:r,...i,onError:()=>l(!0)})}const gt=Qe.memo(function({children:t,onClick:r,variant:n="primary",disabled:i=!1,className:s="",...l}){const u="py-2 px-4 rounded-lg flex items-center transition-colors cursor-pointer",f={primary:"bg-[#2d4660] text-white hover:bg-[#173B65]",secondary:"border border-gray-300 text-gray-700 hover:bg-gray-50",danger:"bg-[#591D0F] text-white hover:bg-[#492434]",gold:"bg-[#C89212] text-white hover:bg-[#A67810]",blue:"bg-[#173B65] text-white hover:bg-[#1D2C49]",gray:"bg-[#576C71] text-white hover:bg-[#1E5461]"};return c.jsx("button",{onClick:r,disabled:i,className:`${u} ${f[n]} ${i?"opacity-60 cursor-not-allowed":""} ${s}`,...l,children:t})});class Bl extends b.Component{render(){const{isOpen:t,onClose:r,title:n,children:i,maxWidth:s="max-w-2xl"}=this.props;return t?c.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:c.jsxs("div",{className:"flex items-center justify-center min-h-screen p-4 text-center",children:[c.jsx("div",{className:"fixed inset-0 transition-opacity bg-black/50",onClick:r,"aria-hidden":"true"}),c.jsxs("div",{className:`inline-block w-full ${s} p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg`,children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-medium text-[#2d4660]",children:n}),c.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:c.jsx(Si,{className:"h-5 w-5"})})]}),c.jsx("div",{className:"mt-2",children:i})]})]})}):null}}const vf=Qe.memo(function({name:t}){return t?c.jsxs("div",{className:"flex items-center text-xs text-[#2d4660]",children:[c.jsx(ER,{className:"h-3 w-3 mr-1 text-[#2d4660]"}),c.jsx("span",{className:"font-medium",children:wd(t,30)})]}):null}),yf=Qe.memo(function({id:t,url:r}){return t?c.jsxs("a",{href:r,target:"_blank",rel:"noreferrer",className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 hover:bg-blue-200 cursor-pointer",title:"View in Azure DevOps",children:[c.jsx(iR,{className:"h-3 w-3 mr-1"}),"#",t]}):null}),SK=Qe.memo(function({endDate:t}){const r=$0(t),n=CC(r),i=PC(r);return c.jsx("div",{className:`${i} rounded-md p-3 border ${r<=2?"border-[#6A4234]/20":r<=4?"border-[#C89212]/20":"border-[#1E5461]/20"}`,children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(ii,{className:`h-5 w-5 mr-2 ${n}`}),c.jsxs("div",{children:[c.jsxs("span",{className:`font-medium ${n}`,children:["Voting ends: ",ya(t)]}),c.jsx("div",{className:"text-sm mt-1",children:r<=0?c.jsx("span",{className:"text-red-600 font-medium",children:"Voting ends today!"}):c.jsxs("span",{className:`${n}`,children:[r," ",r===1?"day":"days"," remaining"]})})]})]})})});function kK({isShuffling:e,onShuffle:t}){const[r,n]=b.useState("Shuffle Features"),i=b.useRef(null);return b.useEffect(()=>(e?i.current=window.setInterval(()=>{n(jK("Shuffle Features"))},100):i.current!==null&&(window.clearInterval(i.current),n("Shuffle Features")),()=>{i.current!==null&&window.clearInterval(i.current)}),[e]),c.jsxs("button",{onClick:t,className:`py-2 px-4 rounded-lg flex items-center transition-all duration-300 ${e?"bg-[#C89212] text-white scale-95":"bg-[#C89212] hover:bg-[#A67810] text-white hover:scale-105"}`,disabled:e,children:[c.jsx("span",{className:`transition-transform duration-500 ${e?"mr-2 animate-spin":"mr-2"}`,children:c.jsx(jR,{className:"h-4 w-4"})}),c.jsx("span",{className:"font-medium tracking-wide whitespace-nowrap",children:r})]})}const qv=Qe.memo(function({show:t,title:r,message:n,onConfirm:i,onCancel:s,confirmText:l="Confirm",cancelText:u="Cancel",type:f="delete"}){if(!t)return null;const m=f==="delete"?"bg-[#591D0F]/10":"bg-[#C89212]/10",h=f==="delete"?"text-[#591D0F]":"text-[#C89212]",p=f==="delete"?"bg-[#591D0F] hover:bg-[#492434]":"bg-[#C89212] hover:bg-[#A67810]";return c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-xl max-w-md w-full mx-auto overflow-hidden",children:[c.jsxs("div",{className:`${m} p-4 flex items-start space-x-4`,children:[c.jsx("div",{className:h,children:f==="delete"?c.jsx(Is,{className:"h-5 w-5"}):c.jsx(qt,{className:"h-5 w-5"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:r}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:n})]})]}),c.jsx("div",{className:"p-4 bg-white space-y-4",children:c.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[c.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 cursor-pointer",children:u}),c.jsx("button",{type:"button",onClick:()=>{i(),s()},className:`px-4 py-2 rounded-md text-sm font-medium text-white ${p} cursor-pointer`,children:l})]})})]})})}),NK=Qe.memo(function({feature:t,userVoteCount:r=0,remainingVotes:n=0,votingIsActive:i=!1,onVote:s,isShuffling:l=!1,shuffleStage:u="idle",currentUser:f,onRequestInfo:m}){const[h,p]=b.useState(!1),[v,w]=b.useState(!1),S=async()=>{if(!(!m||v)){w(!0);try{await m(t.id),p(!0)}catch(x){console.error("Error requesting info:",x)}finally{w(!1)}}},_=()=>{switch(u){case"fadeOut":return"opacity-0 scale-95 blur-sm";case"rearranging":return"opacity-0 scale-90";case"fadeIn":return"opacity-100 scale-100 blur-0";default:return"opacity-100 scale-100 blur-0"}};return c.jsx("div",{className:`relative z-10 bg-white rounded-lg shadow-md overflow-hidden transition-all duration-400 ease-in-out ${r>0?"border-2 border-[#1E5461]":""} ${_()}`,children:c.jsxs("div",{className:"p-6 flex flex-col h-full",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2 text-[#2d4660]",children:t.title}),t.description?c.jsx("p",{className:"text-gray-600 mb-4 flex-grow",children:t.description}):c.jsxs("div",{className:"mb-4 flex-grow",children:[c.jsx("p",{className:"text-gray-400 italic mb-3",children:"No description provided"}),f&&m&&c.jsx("div",{className:"transition-all duration-300",children:h?c.jsxs("div",{className:"text-sm px-3 py-2 bg-green-50 text-green-700 rounded-md font-medium flex items-center animate-fadeIn",children:[c.jsx(Rn,{className:"h-4 w-4 mr-2 flex-shrink-0"}),c.jsx("span",{children:"Thank you! Your request has been sent."})]}):c.jsxs("button",{onClick:S,disabled:v,className:"text-sm px-3 py-2 bg-blue-50 hover:bg-blue-100 text-[#2d4660] rounded-md font-medium flex items-center transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(qt,{className:"h-4 w-4 mr-2 flex-shrink-0"}),c.jsx("span",{children:v?"Sending...":"Ask Product Owner for more info"})]})})]}),c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.epic&&c.jsx(vf,{name:t.epic}),t.azureDevOpsId&&c.jsx("div",{className:"flex items-center text-xs",children:c.jsx(yf,{id:t.azureDevOpsId,url:t.azureDevOpsUrl||""})})]}),s&&c.jsx("div",{className:"flex justify-end items-center",children:c.jsx("div",{className:"flex items-center space-x-2",children:r===0?c.jsx("button",{onClick:()=>s(t.id,!0),className:`px-6 py-2.5 rounded-lg text-base font-semibold cursor-pointer transition-colors ${i&&n>0?"bg-[#2d4660] text-white hover:bg-[#C89212]":"bg-gray-300 text-gray-600 cursor-not-allowed"}`,disabled:!i||n<=0,children:"Vote"}):c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>s(t.id,!1),className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-700 cursor-pointer transition-colors","aria-label":"Remove vote",disabled:!i,children:c.jsx(Gl,{className:"h-6 w-6"})}),c.jsx("span",{className:"px-4 py-2 bg-[#1E5461]/10 text-[#1E5461] rounded-full font-semibold text-base min-w-[3rem] text-center",children:r}),c.jsx("button",{onClick:()=>s(t.id,!0),className:`p-2 rounded-full cursor-pointer transition-colors ${i&&n>0?"bg-[#2d4660]/10 hover:bg-[#C89212]/30 text-[#2d4660]":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,disabled:!i||n<=0,"aria-label":"Add vote",children:c.jsx(XD,{className:"h-6 w-6"})})]})})})]})})});function EK({feature:e,onClose:t}){return c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"relative z-10 bg-white rounded-lg p-6 max-w-md w-full max-h-[80vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("h3",{className:"text-lg font-medium text-[#2d4660]",children:['Voters for "',e.title,'"']}),c.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 cursor-pointer",children:c.jsx(Si,{className:"h-5 w-5"})})]}),e.voters.length===0?c.jsx("p",{className:"text-gray-500",children:"No votes yet"}):c.jsx("ul",{className:"divide-y divide-gray-200",children:e.voters.map(r=>c.jsxs("li",{className:"py-3 flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:r.name}),c.jsx("p",{className:"text-sm text-gray-500",children:r.email})]}),c.jsxs("div",{className:"bg-[#2d4660]/10 text-[#2d4660] rounded-full px-3 py-1",children:[r.voteCount," ",r.voteCount===1?"vote":"votes"]})]},r.userId))})]})})}function AK({features:e,onResetVotes:t,onResetAllVotes:r,onBack:n,showVotersList:i,setShowVotersList:s,votingSession:l,effectiveVotesPerUser:u,onLogout:f}){const[m,h]=b.useState(!1),p=b.useRef(null);b.useEffect(()=>{if(!m)return;const x=k=>{p.current&&!p.current.contains(k.target)&&h(!1)};return document.addEventListener("mousedown",x),document.addEventListener("touchstart",x,{passive:!0}),()=>{document.removeEventListener("mousedown",x),document.removeEventListener("touchstart",x)}},[m]);const v=b.useMemo(()=>[...e].sort((x,k)=>k.votes-x.votes),[e]),w=b.useMemo(()=>v.slice(0,10).map(x=>({name:x.title,votes:x.votes,id:x.id})),[v]),S=$0(l.endDate),_=CC(S);return c.jsxs("div",{className:"container mx-auto p-4 max-w-6xl pb-8",children:[c.jsx("div",{className:"hidden md:flex md:justify-center mb-2",children:c.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"-mt-4",style:{height:"96px",width:"auto"}})}),c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(th,{src:"https://media.licdn.com/dms/image/C4D0BAQEC3OhRqehrKg/company-logo_200_200/0/1630518354793/new_millennium_building_systems_logo?e=2147483647&v=beta&t=LM3sJTmQZet5NshZ-RNHXW1MMG9xSi1asp-VUeSA9NA",alt:"New Millennium Building Systems Logo",className:"mr-4 md:hidden",style:{width:"40px",height:"40px"}}),c.jsx("button",{onClick:n,className:"mr-2 p-1 rounded-full hover:bg-gray-200 cursor-pointer",children:c.jsx(Mo,{className:"h-6 w-6"})}),c.jsx("h1",{className:"text-2xl font-bold text-[#2d4660] md:text-3xl",children:xa(l.endDate)?"Final Voting Results":"Current Voting Results"})]}),c.jsxs("div",{ref:p,className:"relative z-40",children:[c.jsxs("div",{className:"hidden md:flex space-x-2",children:[c.jsxs(gt,{variant:"primary",onClick:n,className:"flex items-center",children:[c.jsx(ar,{className:"mr-2 h-4 w-4"}),"Admin Dashboard"]}),c.jsx(gt,{variant:"danger",onClick:r,children:"Reset All Votes"}),c.jsxs(gt,{variant:"gray",onClick:f,className:"flex items-center",children:[c.jsx(xr,{className:"mr-2 h-4 w-4"}),"Logout"]})]}),c.jsx("div",{className:"flex md:hidden",children:c.jsx("button",{onClick:()=>h(!m),className:"p-2 rounded-md border border-gray-200 bg-white shadow-sm","aria-label":"Open menu",children:c.jsx(wi,{className:"h-5 w-5 text-gray-700"})})}),m&&c.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-lg md:hidden z-50",children:c.jsxs("div",{className:"py-1",children:[c.jsxs("button",{onClick:()=>{h(!1),n()},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(ar,{className:"h-4 w-4 mr-2 text-gray-700"}),"Admin Dashboard"]}),c.jsxs("button",{onClick:()=>{h(!1),r()},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50 text-red-600",children:[c.jsx(Is,{className:"h-4 w-4 mr-2"}),"Reset All Votes"]}),c.jsxs("button",{onClick:()=>{h(!1),f()},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(xr,{className:"h-4 w-4 mr-2 text-gray-700"}),"Logout"]})]})})]})]}),c.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-md p-4 mb-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-[#2d4660]",children:l.title}),c.jsxs("div",{className:"text-sm text-gray-600",children:[c.jsxs("span",{className:"mr-2",children:["Votes per user: ",u]}),l.isActive?c.jsx("span",{className:"text-[#1E5461] font-medium",children:"Voting Active"}):xa(l.endDate)?c.jsx("span",{className:"text-[#591D0F] font-medium",children:"Voting Closed"}):c.jsx("span",{className:"text-[#C89212] font-medium",children:"Voting Upcoming"})]})]}),c.jsx("p",{className:"text-gray-600 mb-4",children:l.goal}),l.isActive&&c.jsx("div",{className:`${PC(S)} relative z-10 rounded-md p-3 mb-4 inline-block border ${S<=2?"border-[#6A4234]/20":S<=4?"border-[#C89212]/20":"border-[#1E5461]/20"}`,children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(ii,{className:`h-4 w-4 mr-2 ${_}`}),c.jsx("span",{className:`${_} font-medium`,children:S<=0?"Voting ends today!":`${S} ${S===1?"day":"days"} remaining until ${ya(l.endDate)}`})]})}),c.jsx("div",{className:"h-72",children:c.jsx(J8,{width:"100%",height:"100%",children:c.jsxs(nK,{data:w,margin:{top:20,right:30,left:20,bottom:60},children:[c.jsx(gC,{dataKey:"name",angle:-45,textAnchor:"end",height:80,tick:{fontSize:12}}),c.jsx(vC,{}),c.jsx(U8,{}),c.jsx(dC,{dataKey:"votes",fill:"#3B82F6",children:w.map((x,k)=>c.jsx(A0,{fill:k%2===0?"#2d4660":"#4f6d8e"},`cell-${k}`))})]})})})]}),c.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-md p-4",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4 text-[#2d4660]",children:"Feature Details"}),c.jsx("div",{className:"w-full overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 table-fixed",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"w-12 px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rank"}),c.jsx("th",{scope:"col",className:"w-1/2 px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),c.jsx("th",{scope:"col",className:"hidden sm:table-cell w-1/4 px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Epic"}),c.jsx("th",{scope:"col",className:"w-14 px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Votes"}),c.jsx("th",{scope:"col",className:"hidden md:table-cell w-20 px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Voters"}),c.jsx("th",{scope:"col",className:"w-20 px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map((x,k)=>c.jsxs("tr",{className:"align-top group",children:[c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:k+1}),c.jsxs("td",{className:"px-4 py-4 whitespace-normal break-words text-sm font-medium",children:[x.title,x.azureDevOpsId&&c.jsx("div",{className:"mt-1",children:c.jsx(yf,{id:x.azureDevOpsId,url:x.azureDevOpsUrl||""})})]}),c.jsx("td",{className:"hidden sm:table-cell px-4 py-4 whitespace-nowrap text-sm",children:x.epic&&c.jsx(vf,{name:x.epic})}),c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:x.votes}),c.jsx("td",{className:"hidden md:table-cell px-4 py-4 whitespace-nowrap text-sm",children:c.jsxs("button",{onClick:()=>s(x.id),className:"text-[#2d4660] hover:text-[#C89212] flex items-center cursor-pointer",disabled:x.voters.length===0,children:[c.jsx(ln,{className:"h-4 w-4 mr-1"}),x.voters.length," ",x.voters.length===1?"user":"users"]})}),c.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm md:opacity-0 md:group-hover:opacity-100 transition-opacity",children:c.jsx("button",{onClick:()=>t(x.id),className:"text-[#591D0F] hover:text-[#492434] cursor-pointer",disabled:x.votes===0,children:"Reset Votes"})})]},x.id))})]})})]}),i&&c.jsx(EK,{feature:e.find(x=>x.id===i),onClose:()=>s(null)})]})}function CK({navigate:e,votingSession:t}){return c.jsx("div",{className:"relative z-10 flex flex-col items-center justify-center min-h-[80vh] p-6",children:c.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white rounded-lg shadow-lg p-8 text-center",children:[c.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"mx-auto mb-6",style:{maxWidth:"200px",height:"auto"}}),c.jsx("div",{className:"w-20 h-20 bg-[#1E5461]/10 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx(Rn,{className:"h-12 w-12 text-[#1E5461]"})}),c.jsx("h1",{className:"text-3xl font-bold text-[#1E5461] mb-4",children:"Thank You!"}),c.jsxs("p",{className:"text-gray-700 text-lg mb-6",children:["Your votes for ",c.jsx("span",{className:"font-semibold",children:t.title})," have been submitted successfully."]}),c.jsx("p",{className:"text-gray-600 mb-8",children:"We appreciate your input in helping prioritize features for our product roadmap."}),c.jsx(gt,{variant:"primary",onClick:()=>e("/sessions"),className:"mx-auto",children:"View All Voting Sessions"})]})})}function OC({isAdmin:e,viewMode:t="voting",onToggleView:r}){const n=new Date().getFullYear();return c.jsx("footer",{className:"mt-auto bg-gray-50 border-t border-gray-200",children:c.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-6xl",children:[e&&r&&c.jsx("div",{className:"flex justify-center mb-6",children:c.jsxs("div",{className:"inline-flex items-center bg-gray-100 rounded-lg p-1",children:[c.jsxs("button",{onClick:()=>t!=="voting"&&r(),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${t==="voting"?"bg-white text-[#2d4660] shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[c.jsx(Kr,{className:"h-4 w-4 inline mr-2"}),"Voter View"]}),c.jsxs("button",{onClick:()=>t!=="admin"&&r(),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${t==="admin"?"bg-white text-[#2d4660] shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[c.jsx(ar,{className:"h-4 w-4 inline mr-2"}),"Admin View"]})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-sm text-gray-600",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"New Millennium Building Systems"}),c.jsxs("p",{className:"text-xs leading-relaxed",children:["A Steel Dynamics Company",c.jsx("br",{}),"Innovation in structural steel manufacturing"]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Quick Links"}),c.jsxs("ul",{className:"space-y-1 text-xs",children:[c.jsx("li",{children:c.jsx("a",{href:"https://www.steeldynamics.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[#2d4660] transition-colors",children:"Steel Dynamics Inc."})}),c.jsx("li",{children:c.jsx("a",{href:"https://www.newmill.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[#2d4660] transition-colors",children:"New Millennium"})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Need Help?"}),c.jsx("p",{className:"text-xs",children:"Contact your Product Owner or session administrator for assistance with voting."})]})]}),c.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 text-center text-xs text-gray-500",children:c.jsxs("p",{children:[" ",n," New Millennium Building Systems, LLC. All rights reserved."]})})]})})}function sk({feature:e,onSubmit:t,onCancel:r}){const{register:n,handleSubmit:i,formState:{errors:s}}=wc({defaultValues:e?{title:e.title,description:e.description,epic:e.epic}:{epic:ik[0]}});return c.jsxs("form",{onSubmit:i(t),children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),c.jsx("input",{...n("title",{required:"Title is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),s.title&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.title.message})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),c.jsx("textarea",{...n("description",{required:"Description is required"}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),s.description&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.description.message})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Epic"}),c.jsx("select",{...n("epic",{required:"Epic is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-white",children:ik.map(l=>c.jsx("option",{value:l,children:l},l))}),s.epic&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.epic.message})]}),c.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[c.jsx(gt,{variant:"secondary",type:"button",onClick:r,children:"Cancel"}),c.jsxs(gt,{variant:"primary",type:"submit",children:[e?"Update":"Add"," Feature"]})]})]})}function PK({currentUser:e,votingSession:t,onChangeVotes:r,onToggleAdmin:n,isAdmin:i,navigate:s,userVotes:l,features:u}){const[f,m]=b.useState(!1),h=Object.values(l).reduce((v,w)=>v+w,0),p=u.filter(v=>l[v.id]>0);return c.jsxs("div",{className:"container mx-auto p-4 max-w-6xl min-h-screen pb-8",children:[c.jsx("div",{className:"hidden md:flex md:justify-center mb-2",children:c.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"-mt-4",style:{height:"96px",width:"auto"}})}),c.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-6",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(th,{src:"https://media.licdn.com/dms/image/C4D0BAQEC3OhRqehrKg/company-logo_200_200/0/1630518354793/new_millennium_building_systems_logo?e=2147483647&v=beta&t=LM3sJTmQZet5NshZ-RNHXW1MMG9xSi1asp-VUeSA9NA",alt:"New Millennium Building Systems Logo",className:"mr-4 md:hidden",style:{width:"40px",height:"40px"}}),c.jsx("h1",{className:"text-2xl font-bold text-[#2d4660] md:text-3xl",children:"Feature Voting"})]}),c.jsxs("div",{className:"relative z-10 flex items-center space-x-2 mt-3 md:mt-0 md:justify-end",children:[i&&c.jsxs(gt,{variant:"primary",onClick:n,className:"flex items-center",children:[c.jsx(ar,{className:"mr-2 h-4 w-4"}),c.jsx("span",{className:"hidden md:inline",children:"Admin Dashboard"}),c.jsx("span",{className:"md:hidden",children:"Admin"})]}),c.jsxs(gt,{variant:"gray",onClick:()=>s("/sessions"),className:"flex items-center",children:[c.jsx(xr,{className:"mr-2 h-4 w-4"}),c.jsx("span",{className:"hidden md:inline",children:"All Sessions"}),c.jsx("span",{className:"md:hidden",children:"Sessions"})]})]})]}),c.jsx("div",{className:"max-w-3xl mx-auto",children:c.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-lg p-8 text-center",children:[c.jsx("div",{className:"w-20 h-20 bg-[#1E5461]/10 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx(Rn,{className:"h-12 w-12 text-[#1E5461]"})}),c.jsx("h2",{className:"text-3xl font-bold text-[#1E5461] mb-4",children:"Votes Already Submitted"}),c.jsxs("p",{className:"text-gray-700 text-lg mb-2",children:["Welcome back, ",c.jsx("span",{className:"font-semibold",children:e.name}),"!"]}),c.jsxs("p",{className:"text-gray-600 mb-6",children:["You have already submitted your votes for ",c.jsx("span",{className:"font-semibold",children:t.title}),"."]}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-[#2d4660] mb-4",children:"Your Current Votes"}),c.jsxs("div",{className:"space-y-3",children:[p.map(v=>c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-gray-700",children:v.title}),c.jsxs("span",{className:"bg-[#1E5461]/10 text-[#1E5461] rounded-full px-3 py-1 font-medium",children:[l[v.id]," ",l[v.id]===1?"vote":"votes"]})]},v.id)),c.jsx("div",{className:"border-t border-gray-200 pt-3 mt-3",children:c.jsxs("div",{className:"flex justify-between items-center font-semibold",children:[c.jsx("span",{className:"text-[#2d4660]",children:"Total Votes"}),c.jsx("span",{className:"text-[#2d4660]",children:h})]})})]})]}),c.jsx("div",{className:"bg-[#C89212]/10 border border-[#C89212]/20 rounded-lg p-4 mb-6",children:c.jsxs("div",{className:"flex items-start text-left",children:[c.jsx(Xk,{className:"h-5 w-5 text-[#C89212] mr-3 mt-0.5 flex-shrink-0"}),c.jsx("div",{children:c.jsxs("p",{className:"text-sm text-gray-700",children:["If you'd like to change your votes, you can do so below. However, please note that this will",c.jsx("span",{className:"font-semibold",children:" permanently remove your previous votes"})," and allow you to vote again. This action cannot be undone."]})})]})}),c.jsxs(gt,{variant:"gold",onClick:()=>m(!0),className:"mx-auto text-lg py-3 px-8",children:[c.jsx(jf,{className:"mr-2 h-5 w-5"}),"Change My Votes"]})]})}),c.jsx(qv,{show:f,title:"Change Your Votes?",message:"This will permanently remove all your previous votes for this session and allow you to vote again. This action cannot be undone. Are you sure you want to continue?",onConfirm:r,onCancel:()=>m(!1),confirmText:"Yes, Change My Votes",cancelText:"Cancel",type:"reset"})]})}const OK=Qe.memo(function({features:t,currentUser:r,pendingVotes:n,pendingUsedVotes:i,onVote:s,onSubmitVotes:l,onToggleAdmin:u,isAdmin:f,votingSession:m,navigate:h,effectiveVotesPerUser:p,sessionId:v,onLogout:w}){const[S,_]=b.useState([...t]),[x,k]=b.useState(!1),[N,E]=b.useState("idle"),[C,O]=b.useState(!1),[I,L]=b.useState({}),[Y,q]=b.useState(!0),[U,z]=b.useState(!1),V=b.useRef(null);b.useEffect(()=>{if(!U)return;const le=ce=>{V.current&&!V.current.contains(ce.target)&&z(!1)};return document.addEventListener("mousedown",le),document.addEventListener("touchstart",le,{passive:!0}),()=>{document.removeEventListener("mousedown",le),document.removeEventListener("touchstart",le)}},[U]),b.useEffect(()=>{_([...t])},[t]),b.useEffect(()=>{async function le(){if(!r||!v){q(!1);return}try{const M=(await oa(v)).filter(D=>D.user_id===r.id);if(M.length>0){const D={};M.forEach(te=>{D[te.feature_id]=te.vote_count}),L(D),O(!0)}else O(!1),L({})}catch(ce){console.error("Error checking existing votes:",ce),O(!1)}finally{q(!1)}}le()},[r,v]);const ee=b.useCallback(async()=>{if(!(!r||!v))try{await DD(v,r.id),O(!1),L({})}catch(le){console.error("Error changing votes:",le),alert("Failed to reset votes. Please try again.")}},[r,v]),Q=b.useCallback(()=>{x||(k(!0),E("fadeOut"),setTimeout(()=>{E("rearranging"),setTimeout(()=>{_(_K(t)),E("fadeIn"),setTimeout(()=>{E("idle"),k(!1)},400)},200)},400))},[t,x]),ae=b.useCallback(async le=>{const ce=t.find(M=>M.id===le);if(!(!ce||!r))try{await LD({session_id:v,feature_id:le,feature_title:ce.title,requester_id:r.id,requester_name:r.name,requester_email:r.email,created_at:new Date().toISOString()})}catch(M){throw console.error("Error submitting info request:",M),alert("Failed to submit request. Please try again."),M}},[t,r,v]);if(!r)return null;if(Y)return c.jsx("div",{className:"container mx-auto p-4 max-w-6xl min-h-screen flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2d4660] mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading your voting status..."})]})});if(C)return c.jsx(PK,{currentUser:r,votingSession:m,onChangeVotes:ee,onToggleAdmin:u,isAdmin:f,navigate:h,userVotes:I,features:t});const xe=p-i,ye=xe===0,re=m.isActive;return c.jsxs("div",{className:"container mx-auto p-4 max-w-6xl pb-8",children:[c.jsx("div",{className:"hidden md:flex md:justify-center mb-2",children:c.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"-mt-4",style:{height:"96px",width:"auto"}})}),c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(th,{src:"https://media.licdn.com/dms/image/C4D0BAQEC3OhRqehrKg/company-logo_200_200/0/1630518354793/new_millennium_building_systems_logo?e=2147483647&v=beta&t=LM3sJTmQZet5NshZ-RNHXW1MMG9xSi1asp-VUeSA9NA",alt:"New Millennium Building Systems Logo",className:"mr-4 md:hidden",style:{width:"40px",height:"40px"}}),c.jsx("h1",{className:"text-2xl font-bold text-[#2d4660] md:text-3xl",children:"Feature Voting"})]}),c.jsxs("div",{ref:V,className:"relative z-40",children:[c.jsxs("div",{className:"hidden md:flex items-center space-x-2",children:[f&&c.jsxs(gt,{variant:"primary",onClick:u,className:"flex items-center",children:[c.jsx(ar,{className:"mr-2 h-4 w-4"}),"Admin Dashboard"]}),c.jsx(gt,{variant:"gray",onClick:()=>h("/sessions"),className:"flex items-center",children:"All Sessions"}),c.jsxs(gt,{variant:"gray",onClick:w,className:"flex items-center",children:[c.jsx(xr,{className:"mr-2 h-4 w-4"}),"Logout"]})]}),c.jsx("div",{className:"flex md:hidden",children:c.jsx("button",{onClick:()=>z(!U),className:"p-2 rounded-md border border-gray-200 bg-white shadow-sm","aria-label":"Open menu",children:c.jsx(wi,{className:"h-5 w-5 text-gray-700"})})}),U&&c.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-lg md:hidden z-50",children:c.jsxs("div",{className:"py-1",children:[f&&c.jsxs("button",{onClick:()=>{z(!1),u()},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(ar,{className:"h-4 w-4 mr-2 text-gray-700"}),"Admin Dashboard"]}),c.jsx("button",{onClick:()=>{z(!1),h("/sessions")},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:"All Sessions"}),c.jsxs("button",{onClick:()=>{z(!1),w()},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(xr,{className:"h-4 w-4 mr-2 text-gray-700"}),"Logout"]})]})})]})]}),c.jsx("div",{className:"relative z-10 mb-6 bg-white rounded-lg shadow-md p-4",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("h2",{className:"text-xl font-semibold text-[#2d4660] mb-2",children:m.title}),c.jsx("p",{className:"text-gray-600",children:m.goal})]}),c.jsxs("div",{className:"flex flex-col justify-center",children:[c.jsx(SK,{endDate:m.endDate}),c.jsxs("div",{className:"flex items-center mt-3",children:[c.jsx(Kr,{className:"h-4 w-4 mr-2 text-[#2d4660]"}),c.jsxs("p",{className:"text-gray-700",children:["You have ",c.jsxs("span",{className:"font-bold text-[#2d4660]",children:[xe," / ",p]})," votes remaining"]})]})]})]})}),!re&&c.jsx("div",{className:"mb-6 bg-[#C89212]/10 p-4 rounded-lg border border-[#C89212]/20",children:c.jsxs("div",{className:"flex items-center text-[#6A4234]",children:[c.jsx(_f,{className:"h-5 w-5 mr-2"}),c.jsxs("span",{className:"font-medium",children:["Voting is currently ",xa(m.endDate)?"closed":"not yet open",".",xa(m.endDate)?` Voting ended on ${ya(m.endDate)}.`:` Voting will open on ${ya(m.startDate)}.`]})]})}),c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-[#2d4660]",children:"Available Features"}),t.length>6&&c.jsx(kK,{isShuffling:x,onShuffle:Q})]}),c.jsx("div",{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 ${i>0?"mb-32":""}`,children:S.map(le=>{const ce=n[le.id]||0;return c.jsx(NK,{feature:le,userVoteCount:ce,remainingVotes:xe,votingIsActive:re,onVote:s,isShuffling:x,shuffleStage:N,currentUser:r,onRequestInfo:ae},le.id)})}),i>0&&c.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white shadow-lg border-t border-gray-200 p-4",children:c.jsxs("div",{className:"container mx-auto max-w-6xl flex items-center justify-between",children:[c.jsxs("div",{children:[!ye&&c.jsxs("div",{className:"flex items-center",children:[c.jsx(Xk,{className:"h-5 w-5 text-[#C89212] mr-2"}),c.jsxs("span",{className:"text-gray-700",children:["You still have ",c.jsx("span",{className:"font-semibold text-[#C89212]",children:xe})," votes remaining."]})]}),ye&&c.jsxs("div",{className:"flex items-center",children:[c.jsx(Rn,{className:"h-5 w-5 text-[#1E5461] mr-2"}),c.jsx("span",{className:"text-gray-700",children:"All votes allocated! You can now submit your votes."})]})]}),c.jsx("button",{onClick:l,className:`py-3 px-6 rounded-lg font-medium cursor-pointer ${ye?"bg-[#1E5461] hover:bg-[#173B65] text-white":"bg-gray-300 text-gray-600 cursor-not-allowed"}`,disabled:!ye,children:"Submit Votes"})]})})]})});function Mg({defaultVotesPerUser:e=10,adminMode:t=!1,resultsMode:r=!1}){const{currentSession:n,currentUser:i,setCurrentUser:s,setCurrentSession:l}=Ai(),u=pn(),f=async()=>{try{await Le.auth.signOut()}catch{}try{l(null)}catch{}s(null);try{localStorage.removeItem("voting_system_current_session"),localStorage.removeItem("azureDevOpsAuthInProgress"),sessionStorage.removeItem("oauth_return_path"),sessionStorage.removeItem("oauth_action")}catch{}u("/login",{replace:!0})};b.useEffect(()=>{const ie=new URLSearchParams(window.location.search),we=ie.has("code")||ie.has("error"),Ke=localStorage.getItem("voting_system_current_session");!n&&!we&&!Ke&&u("/sessions")},[n,u]);const m=b.useMemo(()=>{const ie=new URLSearchParams(window.location.search);return ie.has("code")||ie.has("error")},[]),[h,p]=b.useState([]),[v,w]=b.useState(!0),[S,_]=b.useState(wK),[x,k]=b.useState(r?"results":t||m?"admin":"voting"),[N,E]=b.useState(t||m||r),[C,O]=b.useState(null),[I,L]=b.useState(!1),[Y,q]=b.useState(null),[U,z]=b.useState(!1),[V,ee]=b.useState({...yK,votesPerUser:e}),[Q,ae]=b.useState(xK),[xe,ye]=b.useState([]),[re,le]=b.useState([]),[ce,M]=b.useState([]),[D,te]=b.useState(!1),[_e,ne]=b.useState(null),[ke,Me]=b.useState(null),[Je,ue]=b.useState(!1),[Oe,oe]=b.useState(!1),[Z,Ee]=b.useState({}),[Ye,Nt]=b.useState(0),[mt,Dt]=b.useState({showReset:!1,showResetAll:!1,targetId:null}),vn=b.useRef(!1),Rt=b.useMemo(()=>V.useAutoVotes?Math.max(1,Math.floor(h.length/2)):V.votesPerUser,[V.useAutoVotes,V.votesPerUser,h.length]),yn=b.useRef(!1);b.useEffect(()=>{if(yn.current){console.log("OAuth processing already in progress, skipping...");return}(async()=>{const we=new URLSearchParams(window.location.search),Ke=we.has("code")||we.has("error");if(Ke&&!n){console.log("OAuth callback detected, waiting for session to load..."),localStorage.getItem("voting_system_current_session")&&console.log("Found stored session ID, waiting for SessionContext to restore it...");return}if(localStorage.getItem("azureDevOpsAuthInProgress")&&localStorage.removeItem("azureDevOpsAuthInProgress"),!(!Ke||vn.current)){if(!n){console.log("No session available yet, waiting...");return}yn.current=!0,vn.current=!0,console.log("Processing OAuth callback with session:",n.id);try{const $e=await fK();if($e){const Ne=new Date(Date.now()+$e.expiresIn*1e3).toISOString(),Tt={...Q,accessToken:$e.accessToken,refreshToken:$e.refreshToken,tokenExpiresAt:Ne,enabled:!0,clientId:dn.clientId,tenantId:dn.tenantId};await lo(n.id,Tt),ae(Tt);const nt=sessionStorage.getItem("oauth_return_path")||"/admin";sessionStorage.removeItem("oauth_return_path"),console.log("OAuth successful, navigating to:",nt),u(nt,{replace:!0})}}catch($e){console.error("OAuth callback error:",$e),ne("Failed to authenticate with Azure DevOps");const Ne="/admin";sessionStorage.removeItem("oauth_return_path"),u(Ne,{replace:!0})}finally{yn.current=!1}}})()},[n,u,Q]);const Ht=b.useCallback(ie=>{localStorage.setItem("azureDevOpsAuthInProgress","true"),ie&&sessionStorage.setItem("oauth_action",ie),sessionStorage.getItem("oauth_return_path")||sessionStorage.setItem("oauth_return_path","/admin"),hK()},[]),R=b.useCallback(async ie=>{if(!ie.accessToken||!ie.refreshToken||!ie.tokenExpiresAt)throw new Error("Not authenticated");if(dK(ie.tokenExpiresAt)){const we=await lK(ie.refreshToken),Ke=new Date(Date.now()+we.expiresIn*1e3).toISOString(),qe={...ie,accessToken:we.accessToken,tokenExpiresAt:Ke};return n&&(await lo(n.id,qe),ae(qe)),we.accessToken}return ie.accessToken},[n]);b.useEffect(()=>{async function ie(){if(n)try{console.log("Loading data from Supabase for session:",n.id),w(!0);const we=await Li(n.id);console.log(`Loaded ${we.length} features from database`);const Ke=await oa(n.id),qe=we.map(Ne=>{const nt=Ke.filter(Re=>Re.feature_id===Ne.id).map(Re=>({userId:Re.user_id,name:Re.user_name,email:Re.user_email,voteCount:Re.vote_count})),bt=nt.reduce((Re,_n)=>Re+_n.voteCount,0);return{id:Ne.id,title:Ne.title,description:Ne.description,epic:Ne.epic,state:Ne.state,areaPath:Ne.area_path,tags:Ne.tags||[],azureDevOpsId:Ne.azure_devops_id,azureDevOpsUrl:Ne.azure_devops_url,votes:bt,voters:nt}});p(qe),console.log("Features with votes loaded:",qe.map(Ne=>Ne.title)),ee({title:n.title,goal:n.goal,votesPerUser:n.votes_per_user,useAutoVotes:n.use_auto_votes||!1,startDate:n.start_date,endDate:n.end_date,isActive:n.is_active});const $e=await MD(n.id);ae($e?{organization:$e.organization||"newmill",project:$e.project||"Product",accessToken:$e.access_token,refreshToken:$e.refresh_token,tokenExpiresAt:$e.token_expires_at,tenantId:$e.tenant_id,clientId:$e.client_id,enabled:$e.enabled,workItemType:$e.work_item_type||"Feature",query:$e.query,lastSyncTime:$e.last_sync_time}:{organization:"newmill",project:"Product",enabled:!1,workItemType:"Feature"})}catch(we){console.error("Error loading data:",we),p([])}finally{w(!1)}}ie()},[n==null?void 0:n.id]),b.useEffect(()=>{async function ie(){if(Q.enabled&&Q.accessToken)try{const we=await R(Q),Ke={...Q,accessToken:we},[qe,$e,Ne]=await Promise.all([tk(Ke),cK(Ke),uK(Ke)]);ye(qe),le($e),M(Ne)}catch(we){console.error("Error loading filter options:",we)}else ye([]),le([]),M([])}ie()},[Q.enabled,Q.accessToken,Q.workItemType,R]);const K=b.useCallback(async ie=>{if(!(!Q.enabled||!Q.accessToken))try{const we=await R(Q),Ke={...Q,accessToken:we,workItemType:ie},qe=await tk(Ke);ye(qe)}catch(we){console.error("Error loading states for work item type:",we)}},[Q,R]);b.useEffect(()=>{const ie=async()=>{const Ke=bK(V.startDate,V.endDate);if(V.isActive!==Ke){const qe={...V,isActive:Ke};ee(qe);try{await t1({title:qe.title,goal:qe.goal,votes_per_user:qe.votesPerUser,start_date:qe.startDate,end_date:qe.endDate,is_active:qe.isActive})}catch($e){console.error("Error updating voting session status:",$e)}}};ie();const we=setInterval(ie,6e5);return()=>clearInterval(we)},[V]),b.useEffect(()=>{document.body.style.overflow="",document.body.style.position="",document.body.style.width=""},[x]),b.useEffect(()=>(document.body.style.overflow="",()=>{document.body.style.overflow=""}),[]);const X=b.useCallback(async(ie=Q)=>{if(!ie.organization||!ie.project||!n){ne("Organization and project name are required");return}try{te(!0),ne(null);const we=await R(ie),Ke={...ie,accessToken:we},qe=await rk(Ke),$e=nk(qe);for(const Re of $e){const $r=(await Li(n.id)).find(jn=>jn.azure_devops_id===Re.azureDevOpsId),qn=Rg(Re.description),Mt=wd(qn,300);$r?await Zm($r.id,{title:Re.title,description:Mt,epic:Re.epic,state:Re.state,area_path:Re.areaPath,tags:Re.tags,azure_devops_id:Re.azureDevOpsId,azure_devops_url:Re.azureDevOpsUrl}):await Qm({session_id:n.id,title:Re.title,description:Mt,epic:Re.epic,state:Re.state,area_path:Re.areaPath,tags:Re.tags,azure_devops_id:Re.azureDevOpsId,azure_devops_url:Re.azureDevOpsUrl})}const Ne=await Li(n.id),Tt=await oa(n.id),nt=Ne.map(Re=>{const $r=Tt.filter(Mt=>Mt.feature_id===Re.id).map(Mt=>({userId:Mt.user_id,name:Mt.user_name,email:Mt.user_email,voteCount:Mt.vote_count})),qn=$r.reduce((Mt,jn)=>Mt+jn.voteCount,0);return{id:Re.id,title:Re.title,description:Re.description,epic:Re.epic,state:Re.state,areaPath:Re.area_path,tags:Re.tags||[],azureDevOpsId:Re.azure_devops_id,azureDevOpsUrl:Re.azure_devops_url,votes:qn,voters:$r}});p(nt);const bt={...Ke,lastSyncTime:new Date().toISOString()};await lo(n.id,bt),ae(bt),z(!1)}catch(we){console.error("Azure DevOps sync error:",we),we instanceof Error&&we.message==="Not authenticated"?(ne("Please authenticate with Azure DevOps"),Ht()):ne("Failed to fetch features from Azure DevOps. Please try reconnecting.")}finally{te(!1)}},[Q,n,R,Ht]),ge=b.useCallback(async()=>{if(!Q.organization||!Q.project){ne("Organization and project name are required");return}try{te(!0),ne(null);const ie=await R(Q),we={...Q,accessToken:ie},Ke=await rk(we),$e=nk(Ke).map(Ne=>({...Ne,description:wd(Rg(Ne.description),300)}));Me($e),ue(!0)}catch(ie){console.error("Azure DevOps preview error:",ie),ie instanceof Error&&ie.message==="Not authenticated"?(ne("Please authenticate with Azure DevOps"),Ht()):ne("Failed to fetch features from Azure DevOps. Please try reconnecting.")}finally{te(!1)}},[Q,R,Ht]),pe=b.useCallback(async(ie=!1)=>{if(!(!ke||!n))try{if(te(!0),ie){const Ne=await Li(n.id);for(const Tt of Ne)await e1(Tt.id)}for(const Ne of ke){const nt=(await Li(n.id)).find(_n=>_n.azure_devops_id===Ne.azureDevOpsId),bt=Rg(Ne.description),Re=wd(bt,300);nt?await Zm(nt.id,{title:Ne.title,description:Re,epic:Ne.epic,state:Ne.state,area_path:Ne.areaPath,tags:Ne.tags,azure_devops_id:Ne.azureDevOpsId,azure_devops_url:Ne.azureDevOpsUrl}):await Qm({session_id:n.id,title:Ne.title,description:Re,epic:Ne.epic,state:Ne.state,area_path:Ne.areaPath,tags:Ne.tags,azure_devops_id:Ne.azureDevOpsId,azure_devops_url:Ne.azureDevOpsUrl})}const we=await Li(n.id),Ke=await oa(n.id),qe=we.map(Ne=>{const nt=Ke.filter(Re=>Re.feature_id===Ne.id).map(Re=>({userId:Re.user_id,name:Re.user_name,email:Re.user_email,voteCount:Re.vote_count})),bt=nt.reduce((Re,_n)=>Re+_n.voteCount,0);return{id:Ne.id,title:Ne.title,description:Ne.description,epic:Ne.epic,state:Ne.state,areaPath:Ne.area_path,tags:Ne.tags||[],azureDevOpsId:Ne.azure_devops_id,azureDevOpsUrl:Ne.azure_devops_url,votes:bt,voters:nt}});p(qe);const $e={...Q,lastSyncTime:new Date().toISOString()};await lo(n.id,$e),ae($e),oe(!0)}catch(we){console.error("Azure DevOps sync error:",we),ne("Failed to sync features from Azure DevOps.")}finally{te(!1),Me(null)}},[ke,n,Q]),G=b.useCallback(async()=>{if(n)try{const ie={organization:Q.organization||"newmill",project:Q.project||"Product",workItemType:Q.workItemType||"Feature",query:Q.query,accessToken:void 0,refreshToken:void 0,tokenExpiresAt:void 0,enabled:!1};await lo(n.id,ie),ae(ie),ne(null),oe(!1)}catch(ie){console.error("Error disconnecting Azure DevOps:",ie),ne("Failed to disconnect from Azure DevOps")}},[Q,n]);b.useEffect(()=>{(async()=>{const we=sessionStorage.getItem("oauth_action");if(we&&!(!Q.enabled||!Q.accessToken))try{we==="preview"?await ge():we==="sync"&&await X()}finally{sessionStorage.removeItem("oauth_action")}})()},[Q.enabled,Q.accessToken,ge,X]);const ve=b.useCallback(()=>{E(!0),k("admin")},[]),Fe=b.useCallback(()=>{E(!1),k("voting")},[]),rt=b.useCallback(()=>{x==="voting"?(E(!0),k("admin")):x==="admin"&&(E(!1),k("voting"))},[x]),ft=b.useCallback(async ie=>{if(n)try{const we=await Qm({session_id:n.id,title:ie.title,description:ie.description,epic:ie.epic});p(Ke=>[...Ke,{id:we.id,title:we.title,description:we.description,epic:we.epic,votes:0,voters:[]}]),L(!1)}catch(we){console.error("Error adding feature:",we),alert("Failed to add feature")}},[n]),Er=b.useCallback(async ie=>{try{await Zm(ie.id,{title:ie.title,description:ie.description,epic:ie.epic}),p(we=>we.map(Ke=>Ke.id===ie.id?ie:Ke)),O(null)}catch(we){console.error("Error updating feature:",we),alert("Failed to update feature")}},[]),zn=b.useCallback(async ie=>{try{await e1(ie),p(we=>we.filter(Ke=>Ke.id!==ie))}catch(we){console.error("Error deleting feature:",we),alert("Failed to delete feature")}},[]),Bn=b.useCallback(ie=>{Dt({showReset:!0,showResetAll:!1,targetId:ie})},[]),Ar=b.useCallback(async()=>{const ie=mt.targetId;if(!(!ie||!n))try{await(void 0)(ie);const we=await Li(n.id),Ke=await oa(n.id),qe=we.map($e=>{const Tt=Ke.filter(bt=>bt.feature_id===$e.id).map(bt=>({userId:bt.user_id,name:bt.user_name,email:bt.user_email,voteCount:bt.vote_count})),nt=Tt.reduce((bt,Re)=>bt+Re.voteCount,0);return{id:$e.id,title:$e.title,description:$e.description,epic:$e.epic,state:$e.state,areaPath:$e.area_path,tags:$e.tags||[],azureDevOpsId:$e.azure_devops_id,azureDevOpsUrl:$e.azure_devops_url,votes:nt,voters:Tt}});p(qe)}catch(we){console.error("Error resetting votes:",we),alert("Failed to reset votes")}},[mt.targetId,n]),xn=b.useCallback(()=>{Dt({showReset:!1,showResetAll:!0,targetId:null})},[]),di=b.useCallback(async()=>{if(n)try{await RD(n.id),p(ie=>ie.map(we=>({...we,votes:0,voters:[]})))}catch(ie){console.error("Error resetting all votes:",ie),alert("Failed to reset all votes")}},[n]),Vn=b.useCallback((ie,we)=>{if(!i||!V.isActive)return;const Ke=Z[ie]||0;let qe=Ke;if(we)if(Ye<Rt)qe=Ke+1;else return;else if(Ke>0)qe=Ke-1;else return;Ee($e=>{const Ne={...$e};return qe===0?delete Ne[ie]:Ne[ie]=qe,Ne}),Nt($e=>we?$e+1:$e-1)},[i,Z,Ye,V.isActive,Rt]),ss=b.useCallback(async()=>{if(!(!i||!V.isActive||!n)&&!(Ye<Rt))try{for(const[qe,$e]of Object.entries(Z))$e>0&&await ID({session_id:n.id,feature_id:qe,user_id:i.id,user_name:i.name,user_email:i.email,vote_count:$e});const ie=await Li(n.id),we=await oa(n.id),Ke=ie.map(qe=>{const Ne=we.filter(nt=>nt.feature_id===qe.id).map(nt=>({userId:nt.user_id,name:nt.user_name,email:nt.user_email,voteCount:nt.vote_count})),Tt=Ne.reduce((nt,bt)=>nt+bt.voteCount,0);return{id:qe.id,title:qe.title,description:qe.description,epic:qe.epic,state:qe.state,areaPath:qe.area_path,tags:qe.tags||[],azureDevOpsId:qe.azure_devops_id,azureDevOpsUrl:qe.azure_devops_url,votes:Tt,voters:Ne}});p(Ke),k("thankyou")}catch(ie){console.error("Error submitting votes:",ie),alert("Failed to submit votes. Please try again.")}},[i,n,Ye,Z,V.isActive,Rt]),wn=b.useCallback(async ie=>{try{await t1({title:ie.title,goal:ie.goal,votes_per_user:ie.votesPerUser,start_date:ie.startDate,end_date:ie.endDate,is_active:ie.isActive}),ee(ie)}catch(we){console.error("Error updating voting session:",we),alert("Failed to update voting session settings")}},[]),bn=b.useCallback(async ie=>{if(n){ae(ie);try{await lo(n.id,{organization:ie.organization,project:ie.project,accessToken:ie.accessToken,refreshToken:ie.refreshToken,tokenExpiresAt:ie.tokenExpiresAt,tenantId:ie.tenantId,clientId:ie.clientId,enabled:ie.enabled,workItemType:ie.workItemType,query:ie.query,lastSyncTime:ie.lastSyncTime})}catch(we){console.error("Error saving config:",we)}}},[n]),fi=b.useMemo(()=>{switch(x){case"voting":return c.jsx(OK,{features:h,currentUser:i,pendingVotes:Z,pendingUsedVotes:Ye,onVote:Vn,onSubmitVotes:ss,onToggleAdmin:ve,isAdmin:N,votingSession:V,navigate:u,effectiveVotesPerUser:Rt,sessionId:(n==null?void 0:n.id)||"",onLogout:f});case"results":return c.jsx(AK,{features:h,onResetVotes:Bn,onResetAllVotes:xn,onBack:()=>k("admin"),showVotersList:Y,setShowVotersList:q,votingSession:V,effectiveVotesPerUser:Rt,onLogout:f});case"thankyou":return c.jsx(CK,{navigate:u,votingSession:V});case"admin":default:return c.jsx(vK,{features:h,onAddFeature:ft,onUpdateFeature:Er,onDeleteFeature:zn,onShowResults:()=>k("results"),showAddForm:I,setShowAddForm:L,editingFeature:C,setEditingFeature:O,onLogout:Fe,votingSession:V,azureDevOpsConfig:Q,onUpdateAzureDevOpsConfig:bn,showAzureDevOpsForm:U,setShowAzureDevOpsForm:z,onFetchAzureDevOpsFeatures:X,onPreviewAzureDevOpsFeatures:ge,onDisconnectAzureDevOps:G,isFetchingAzureDevOps:D,azureFetchError:_e,onInitiateOAuth:Ht,availableStates:xe,availableAreaPaths:re,availableTags:ce,previewFeatures:ke,showPreviewModal:Je,setShowPreviewModal:ue,onConfirmSync:pe,hasImportedFeatures:Oe,setHasImportedFeatures:oe,onShowVoterView:Fe,onUpdateVotingSession:wn,onFetchStatesForType:K})}},[x,h,i,Z,Ye,Vn,ss,ve,Fe,N,V,Bn,xn,Y,q,ft,Er,zn,I,L,C,O,Q,bn,U,z,X,ge,G,D,_e,Ht,ke,Je,ue,pe,Oe,oe,u,Rt,xe,re,ce,K,n,rt]);return n?v?c.jsx("div",{className:"min-h-screen w-full bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2d4660] mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):c.jsxs("div",{className:"w-full bg-gray-50 text-gray-900 font-sans min-h-screen flex flex-col",children:[c.jsx("div",{className:"flex-grow",children:fi}),c.jsx(OC,{isAdmin:N,viewMode:x==="admin"?"admin":"voting",onToggleView:rt}),c.jsx(qv,{show:mt.showReset,title:"Reset Votes",message:"Are you sure you want to reset all votes for this feature? This will remove all voting data for this feature.",onConfirm:Ar,onCancel:()=>Dt(ie=>({...ie,showReset:!1})),confirmText:"Reset",type:"reset"}),c.jsx(qv,{show:mt.showResetAll,title:"Reset All Votes",message:"Are you sure you want to reset all votes for all features? This will remove all voting data and cannot be undone.",onConfirm:di,onCancel:()=>Dt(ie=>({...ie,showResetAll:!1})),confirmText:"Reset All",type:"reset"})]}):c.jsx("div",{className:"min-h-screen w-full bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2d4660] mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading session..."})]})})}function TK(){const{currentUser:e,setCurrentSession:t,refreshSessions:r,setCurrentUser:n}=Ai(),i=pn(),[s,l]=b.useState(!0),[u,f]=b.useState([]),[m,h]=b.useState({}),[p,v]=b.useState({}),[w,S]=b.useState({}),[_,x]=b.useState(!1),[k,N]=b.useState("admin"),[E,C]=b.useState(!1),O=b.useRef(null);b.useEffect(()=>{if(!E)return;const D=te=>{O.current&&!O.current.contains(te.target)&&C(!1)};return document.addEventListener("mousedown",D),document.addEventListener("touchstart",D,{passive:!0}),()=>{document.removeEventListener("mousedown",D),document.removeEventListener("touchstart",D)}},[E]),b.useEffect(()=>{if(!e){i("/login");return}I()},[e]);const I=async()=>{if(e){l(!0);try{const D=await Ro(e.id);x(D);const te=await Vk(e.id),_e={},ne={},ke={};for(const Me of te){const[Je,ue,Oe,oe]=await Promise.all([D?Promise.resolve(!0):nc(Me.id,e.id),iy(Me.id,e.email),Li(Me.id),oa(Me.id)]);_e[Me.id]={isAdmin:Je,isStakeholder:ue},ne[Me.id]=Oe.length;const Z=oe.some(Ee=>Ee.user_id===e.id);ke[Me.id]=Z}await r(),f(te),h(_e),v(ne),S(ke)}catch(D){console.error("Error loading sessions:",D)}finally{l(!1)}}},L=D=>{const te=p[D.id]||0;if(D.use_auto_votes){const _e=Math.max(1,Math.floor(te/2));return{votes:_e,displayText:`${_e} votes per user`,isAuto:!0,formula:`Auto: ${te} ${te===1?"feature":"features"}  2 = ${_e}`}}else return{votes:D.votes_per_user,displayText:`${D.votes_per_user} votes per user`,isAuto:!1,formula:""}},Y=D=>{t(D);const te=m[D.id];k==="stakeholder"?i("/vote"):te!=null&&te.isAdmin?i("/admin"):i("/vote")},q=async()=>{try{await Le.auth.signOut()}catch{}try{t(null)}catch{}n(null);try{localStorage.removeItem("voting_system_current_session"),localStorage.removeItem("azureDevOpsAuthInProgress"),sessionStorage.removeItem("oauth_return_path"),sessionStorage.removeItem("oauth_action")}catch{}C(!1),i("/login",{replace:!0})},U=D=>new Date(D).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),z=D=>{const te=new Date,_e=new Date(D.start_date),ne=new Date(D.end_date);return te<_e?{text:"Upcoming",color:"text-yellow-600 bg-yellow-50",icon:_f}:te>ne?{text:"Closed",color:"text-gray-600 bg-gray-100",icon:qt}:{text:"Active",color:"text-[#1E6154] bg-[#1E6154]/10",icon:Rn}},V=(D,te)=>{D.stopPropagation();const _e=`${window.location.origin}/login?session=${te.session_code}`,ne=encodeURIComponent(`You're invited to vote: ${te.title}`),ke=encodeURIComponent(`Hi,

You've been invited to participate in a feature voting session.

Session: ${te.title}
Goal: ${te.goal}

To get started, copy and paste this link into your browser:

${_e}

Voting Period: ${U(te.start_date)} - ${U(te.end_date)}

Best regards,
${e==null?void 0:e.name}`);window.location.href=`mailto:?subject=${ne}&body=${ke}`},ee=(D,te)=>{D.stopPropagation(),t(te),i("/results")},Q=(D,te)=>{D.stopPropagation(),t(te),i("/manage-admins")},ae=(D,te)=>{D.stopPropagation(),t(te),i("/manage-stakeholders")};if(s)return c.jsx("div",{className:"min-h-screen w-full bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2D4660] mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading sessions..."})]})});const xe=_?u:u.filter(D=>{var te;return(te=m[D.id])==null?void 0:te.isAdmin}),ye=_?[]:u.filter(D=>{var te,_e;return((te=m[D.id])==null?void 0:te.isStakeholder)&&!((_e=m[D.id])!=null&&_e.isAdmin)}),re=_||xe.length>0,le=k==="stakeholder"?u:[],ce=k==="admin"?xe:[],M=k==="admin"?ye:[];return c.jsxs("div",{className:"container mx-auto p-4 max-w-6xl min-h-screen pb-8",children:[c.jsx("div",{className:"hidden md:flex md:justify-center mb-2",children:c.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"-mt-4",style:{height:"96px",width:"auto"}})}),c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("img",{src:"https://media.licdn.com/dms/image/C4D0BAQEC3OhRqehrKg/company-logo_200_200/0/1630518354793/new_millennium_building_systems_logo?e=2147483647&v=beta&t=LM3sJTmQZet5NshZ-RNHXW1MMG9xSi1asp-VUeSA9NA",alt:"New Millennium Building Systems Logo",className:"mr-4 md:hidden",style:{width:"40px",height:"40px"}}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-[#2D4660] md:text-3xl",children:"My Voting Sessions"}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Welcome, ",e==null?void 0:e.name,_&&c.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"System Admin"}),!_&&xe.length>0&&c.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Session Admin"}),!_&&xe.length===0&&ye.length>0&&c.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Stakeholder"})]})]})]}),c.jsxs("div",{ref:O,className:"relative z-40 md:justify-end",children:[c.jsxs("div",{className:"hidden md:flex space-x-2",children:[_&&k==="admin"&&c.jsx(c.Fragment,{children:c.jsxs("button",{onClick:()=>i("/users"),className:"flex items-center px-4 py-2 bg-[#2D4660] text-white rounded-lg hover:bg-[#173B65] transition-colors",children:[c.jsx(ln,{className:"h-4 w-4 mr-2"}),"User Management"]})}),(_||xe.length>0)&&k==="admin"&&c.jsxs("button",{onClick:()=>i("/create-session"),className:"flex items-center px-4 py-2 bg-[#C89212] text-white rounded-lg hover:bg-[#6A4234] transition-colors",children:[c.jsx(Jl,{className:"h-4 w-4 mr-2"}),c.jsx("span",{className:"hidden sm:inline",children:"Create Session"}),c.jsx("span",{className:"sm:hidden",children:"Create"})]}),c.jsxs("button",{onClick:q,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[c.jsx(xr,{className:"h-4 w-4 mr-2"}),c.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]}),c.jsx("div",{className:"flex md:hidden justify-end",children:c.jsx("button",{onClick:()=>C(!E),className:"p-2 rounded-md border border-gray-200 bg-white shadow-sm","aria-label":"Open menu",children:c.jsx(wi,{className:"h-5 w-5 text-gray-700"})})}),E&&c.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-lg md:hidden z-50",children:c.jsxs("div",{className:"py-1",children:[_&&k==="admin"&&c.jsx(c.Fragment,{children:c.jsxs("button",{onClick:()=>{C(!1),i("/users")},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(ln,{className:"h-4 w-4 mr-2 text-gray-700"}),"User Management"]})}),(_||xe.length>0)&&k==="admin"&&c.jsxs("button",{onClick:()=>{C(!1),i("/create-session")},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(Jl,{className:"h-4 w-4 mr-2 text-gray-700"}),"Create Session"]}),c.jsxs("button",{onClick:()=>{C(!1),q()},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(xr,{className:"h-4 w-4 mr-2 text-gray-700"}),"Logout"]})]})})]})]}),u.length===0?c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-12 text-center",children:[c.jsx(Kr,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No voting sessions"}),c.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"You are not part of any voting sessions yet."}),_&&c.jsxs("button",{onClick:()=>i("/create-session"),className:"inline-flex items-center px-4 py-2 bg-[#2D4660] text-white rounded-lg hover:bg-[#173B65] transition-colors",children:[c.jsx(Jl,{className:"h-5 w-5 mr-2"}),"Create Your First Session"]})]}):c.jsxs("div",{className:"space-y-8",children:[k==="stakeholder"&&c.jsxs("div",{children:[c.jsxs("h2",{className:"text-xl font-semibold text-[#2D4660] mb-4 flex items-center",children:[c.jsx(Kr,{className:"h-5 w-5 mr-2"}),"All Your Voting Sessions"]}),c.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:le.map(D=>{const te=z(D),_e=te.icon,ne=L(D),ke=w[D.id];return c.jsx("div",{className:"relative z-10 bg-white overflow-hidden shadow-md rounded-lg hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>Y(D),children:c.jsxs("div",{className:"p-6",children:[c.jsx("div",{className:"flex justify-end items-start mb-4",children:ke?c.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[c.jsx(Rn,{className:"h-3 w-3 mr-1"}),"Voted"]}):te.text==="Active"?c.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[c.jsx(qt,{className:"h-3 w-3 mr-1"}),"Needs Your Vote"]}):null}),c.jsx("h3",{className:"text-lg font-semibold text-[#2D4660] mb-2",children:D.title}),c.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:D.goal}),c.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(ii,{className:"h-4 w-4 mr-2"}),c.jsxs("span",{children:[U(D.start_date)," - ",U(D.end_date)]})]}),c.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${te.color}`,children:[c.jsx(_e,{className:"h-3 w-3 mr-1"}),te.text]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(wi,{className:"h-4 w-4 mr-2"}),c.jsxs("span",{children:[p[D.id]||0," ",p[D.id]===1?"feature":"features"," to vote on"]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Kr,{className:"h-4 w-4 mr-2"}),c.jsx("span",{children:ne.displayText}),ne.isAuto&&c.jsxs("div",{className:"group relative ml-1",children:[c.jsx(ep,{className:"h-4 w-4 text-blue-500 cursor-help"}),c.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 whitespace-nowrap z-10 pointer-events-none",children:[ne.formula,c.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-1 border-4 border-transparent border-t-gray-900"})]})]})]})]}),c.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:c.jsxs("button",{onClick:Me=>{Me.stopPropagation(),Y(D)},className:`w-full flex items-center justify-center px-4 py-2 rounded-lg transition-colors font-medium ${ke?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-[#2D4660] text-white hover:bg-[#173B65]"}`,children:[c.jsx(Kr,{className:"h-4 w-4 mr-2"}),ke?"View or Change Votes":"Cast Your Votes"]})})]})},D.id)})})]}),k==="admin"&&c.jsxs(c.Fragment,{children:[M.length>0&&c.jsxs("div",{children:[c.jsxs("h2",{className:"text-xl font-semibold text-[#2D4660] mb-4 flex items-center",children:[c.jsx(Kr,{className:"h-5 w-5 mr-2"}),"Your Voting Sessions"]}),c.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:M.map(D=>{const te=z(D),_e=te.icon,ne=L(D),ke=w[D.id];return c.jsx("div",{className:"relative z-10 bg-white overflow-hidden shadow-md rounded-lg hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>Y(D),children:c.jsxs("div",{className:"p-6",children:[c.jsx("div",{className:"flex justify-end items-start mb-4",children:ke?c.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[c.jsx(Rn,{className:"h-3 w-3 mr-1"}),"Voted"]}):te.text==="Active"?c.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[c.jsx(qt,{className:"h-3 w-3 mr-1"}),"Needs Your Vote"]}):null}),c.jsx("h3",{className:"text-lg font-semibold text-[#2D4660] mb-2",children:D.title}),c.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:D.goal}),c.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(ii,{className:"h-4 w-4 mr-2"}),c.jsxs("span",{children:[U(D.start_date)," - ",U(D.end_date)]})]}),c.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${te.color}`,children:[c.jsx(_e,{className:"h-3 w-3 mr-1"}),te.text]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(wi,{className:"h-4 w-4 mr-2"}),c.jsxs("span",{children:[p[D.id]||0," ",p[D.id]===1?"feature":"features"," to vote on"]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Kr,{className:"h-4 w-4 mr-2"}),c.jsx("span",{children:ne.displayText}),ne.isAuto&&c.jsxs("div",{className:"group relative ml-1",children:[c.jsx(ep,{className:"h-4 w-4 text-blue-500 cursor-help"}),c.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 whitespace-nowrap z-10 pointer-events-none",children:[ne.formula,c.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-1 border-4 border-transparent border-t-gray-900"})]})]})]})]}),c.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:c.jsxs("button",{onClick:Me=>{Me.stopPropagation(),Y(D)},className:`w-full flex items-center justify-center px-4 py-2 rounded-lg transition-colors font-medium ${ke?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-[#2D4660] text-white hover:bg-[#173B65]"}`,children:[c.jsx(Kr,{className:"h-4 w-4 mr-2"}),ke?"View or Change Votes":"Cast Your Votes"]})})]})},D.id)})})]}),ce.length>0&&c.jsxs("div",{children:[c.jsxs("h2",{className:"text-xl font-semibold text-[#2D4660] mb-4 flex items-center",children:[c.jsx(ar,{className:"h-5 w-5 mr-2"}),"Sessions You Manage"]}),c.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:ce.map(D=>{const te=z(D),_e=te.icon,ne=L(D);return c.jsx("div",{className:"relative z-10 bg-white overflow-hidden shadow-md rounded-lg hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>Y(D),children:c.jsxs("div",{className:"p-6",children:[c.jsx("div",{className:"flex justify-end items-start mb-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{onClick:ke=>Q(ke,D),className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-[#173B65] hover:bg-gray-200 transition-colors cursor-pointer",children:[c.jsx(ar,{className:"h-3 w-3 mr-1"}),"Admins"]}),c.jsxs("button",{onClick:ke=>ae(ke,D),className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-[#1E5461] text-white hover:bg-[#576C71] transition-colors cursor-pointer",children:[c.jsx(ln,{className:"h-3 w-3 mr-1"}),"Stakeholders"]})]})}),c.jsx("h3",{className:"text-lg font-semibold text-[#2D4660] mb-2",children:D.title}),c.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:D.goal}),c.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(ii,{className:"h-4 w-4 mr-2"}),c.jsxs("span",{children:[U(D.start_date)," - ",U(D.end_date)]})]}),c.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${te.color}`,children:[c.jsx(_e,{className:"h-3 w-3 mr-1"}),te.text]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(wi,{className:"h-4 w-4 mr-2"}),c.jsxs("span",{children:[p[D.id]||0," ",p[D.id]===1?"feature":"features"]})]}),c.jsxs("div",{className:"flex items-start",children:[c.jsx(Kr,{className:"h-4 w-4 mr-2 mt-0.5 flex-shrink-0"}),c.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"break-words",children:ne.displayText}),ne.isAuto&&c.jsxs("div",{className:"group relative ml-1 mt-0.5",children:[c.jsx(ep,{className:"h-4 w-4 text-blue-500 cursor-help"}),c.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 whitespace-nowrap z-10 pointer-events-none",children:[ne.formula,c.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-1 border-4 border-transparent border-t-gray-900"})]})]})]}),c.jsxs("button",{onClick:ke=>ee(ke,D),className:"ml-4 inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-[#C89212] text-white hover:bg-[#6A4234] transition-colors cursor-pointer flex-shrink-0",children:[c.jsx(Jk,{className:"h-3 w-3 mr-1"}),te.text==="Closed"?"Final Results":"Current Results"]})]})]})]}),c.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:c.jsxs("button",{onClick:ke=>V(ke,D),className:"w-full flex items-center justify-center px-3 py-2 bg-blue-50 hover:bg-blue-100 rounded-md transition-colors",children:[c.jsx(yc,{className:"h-4 w-4 text-blue-600 mr-2"}),c.jsx("span",{className:"text-sm font-medium text-blue-600",children:"Email Invite to Stakeholders"})]})})]})},D.id)})})]})]})]}),k==="stakeholder"&&u.length>0&&c.jsx("div",{className:"relative z-10 mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(Kr,{className:"h-5 w-5 text-blue-600 mr-3 mt-0.5"}),c.jsxs("div",{className:"text-sm text-blue-800",children:[c.jsx("p",{className:"font-medium mb-1",children:"About Voting Sessions:"}),c.jsx("p",{children:"Click on any session card to cast your votes. You can change your votes at any time before the voting period ends."})]})]})}),k==="admin"&&M.length>0&&ce.length===0&&c.jsx("div",{className:"relative z-10 mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(Kr,{className:"h-5 w-5 text-blue-600 mr-3 mt-0.5"}),c.jsxs("div",{className:"text-sm text-blue-800",children:[c.jsx("p",{className:"font-medium mb-1",children:"About Voting Sessions:"}),c.jsx("p",{children:"Click on any session card to cast your votes. You can change your votes at any time before the voting period ends."})]})]})}),k==="admin"&&ce.length>0&&c.jsx("div",{className:"relative z-10 mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(ln,{className:"h-5 w-5 text-blue-600 mr-3 mt-0.5"}),c.jsxs("div",{className:"text-sm text-blue-800",children:[c.jsx("p",{className:"font-medium mb-1",children:"Managing Sessions:"}),c.jsx("p",{children:'Click "Email Invite to Stakeholders" on any session card to send invitation links. Use the Admins and Stakeholders buttons to manage access.'})]})]})}),c.jsx(OC,{isAdmin:re,viewMode:k==="admin"?"admin":"voting",onToggleView:()=>N(k==="admin"?"stakeholder":"admin")})]})}function IK(){const{currentUser:e,setCurrentSession:t,refreshSessions:r,setCurrentUser:n}=Ai(),i=pn(),s=async()=>{try{await Le.auth.signOut()}catch{}try{t(null)}catch{}n(null);try{localStorage.removeItem("voting_system_current_session"),localStorage.removeItem("azureDevOpsAuthInProgress"),sessionStorage.removeItem("oauth_return_path"),sessionStorage.removeItem("oauth_action")}catch{}i("/login",{replace:!0})},[l,u]=b.useState({title:"",goal:"",votesPerUser:10,useAutoVotes:!0,startDate:new Date().toISOString().split("T")[0],endDate:new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0]}),[f,m]=b.useState({}),[h,p]=b.useState(!1),[v,w]=b.useState(!1),S=()=>{const N="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let E="";for(let C=0;C<8;C++)E+=N.charAt(Math.floor(Math.random()*N.length));return E},_=()=>{const N={};l.title.trim()||(N.title="Session title is required"),l.goal.trim()||(N.goal="Session goal is required"),l.useAutoVotes||(l.votesPerUser<1&&(N.votesPerUser="Votes per user must be at least 1"),l.votesPerUser>100&&(N.votesPerUser="Votes per user cannot exceed 100"));const E=new Date(l.startDate);return new Date(l.endDate)<=E&&(N.endDate="End date must be after start date"),m(N),Object.keys(N).length===0},x=async N=>{if(N.preventDefault(),!(!_()||!e)){p(!0);try{const E=S(),C=await PD({title:l.title,goal:l.goal,votes_per_user:l.votesPerUser,use_auto_votes:l.useAutoVotes,start_date:l.startDate,end_date:l.endDate,is_active:!0,session_code:E});await Nd(C.id,e.id),await r(),w(!0),setTimeout(()=>{t(C),i("/admin")},3e3)}catch(E){console.error("Error creating session:",E),m({submit:"Failed to create session. Please try again."})}finally{p(!1)}}},k=N=>{const{name:E,value:C}=N.target;u(O=>({...O,[E]:E==="votesPerUser"?parseInt(C)||0:C})),f[E]&&m(O=>{const I={...O};return delete I[E],I})};return v?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Rn,{className:"h-10 w-10 text-green-600"})}),c.jsx("h2",{className:"text-2xl font-bold text-[#2d4660] mb-2",children:"Session Created!"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Your voting session has been created successfully."}),c.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-4 mb-6",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Success!"}),c.jsx("p",{className:"text-base text-[#2d4660] font-medium",children:"Your session has been created."}),c.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"You can now invite stakeholders from your session dashboard."})]}),c.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting to admin dashboard..."})]})}):c.jsxs("div",{className:"container mx-auto p-4 max-w-6xl min-h-screen pb-8",children:[c.jsx("div",{className:"hidden md:flex md:justify-center mb-2",children:c.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"-mt-4",style:{height:"96px",width:"auto"}})}),c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("img",{src:"https://media.licdn.com/dms/image/C4D0BAQEC3OhRqehrKg/company-logo_200_200/0/1630518354793/new_millennium_building_systems_logo?e=2147483647&v=beta&t=LM3sJTmQZet5NshZ-RNHXW1MMG9xSi1asp-VUeSA9NA",alt:"New Millennium Building Systems Logo",className:"mr-4 md:hidden",style:{width:"40px",height:"40px"}}),c.jsx("button",{onClick:()=>i("/sessions"),className:"mr-2 p-1 rounded-full hover:bg-gray-200 cursor-pointer",children:c.jsx(Mo,{className:"h-6 w-6"})}),c.jsx("h1",{className:"text-2xl font-bold text-[#2d4660] md:text-3xl",children:"Create Voting Session"})]}),c.jsxs("button",{onClick:s,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[c.jsx(xr,{className:"h-4 w-4 mr-2"}),c.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]}),c.jsx("div",{className:"relative z-10 bg-white rounded-lg shadow-md p-6",children:c.jsxs("form",{onSubmit:x,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Title *"}),c.jsx("input",{type:"text",name:"title",value:l.title,onChange:k,placeholder:"e.g., Q2 2025 Product Roadmap",className:`w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent ${f.title?"border-red-500":"border-gray-300"}`}),f.title&&c.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[c.jsx(qt,{className:"h-4 w-4 mr-1"}),f.title]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Goal *"}),c.jsx("textarea",{name:"goal",value:l.goal,onChange:k,rows:3,placeholder:"Describe the purpose of this voting session...",className:`w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent ${f.goal?"border-red-500":"border-gray-300"}`}),f.goal&&c.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[c.jsx(qt,{className:"h-4 w-4 mr-1"}),f.goal]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[c.jsx(Kr,{className:"h-4 w-4 inline mr-1"}),"Votes Per User *"]}),c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsx("input",{type:"checkbox",id:"useAutoVotes",checked:l.useAutoVotes,onChange:N=>u(E=>({...E,useAutoVotes:N.target.checked})),className:"h-4 w-4 text-[#2d4660] focus:ring-[#2d4660] border-gray-300 rounded cursor-pointer"}),c.jsx("label",{htmlFor:"useAutoVotes",className:"ml-2 text-sm text-gray-700 cursor-pointer",children:"Auto-calculate votes (half of feature count, minimum 1)"})]}),!l.useAutoVotes&&c.jsxs(c.Fragment,{children:[c.jsx("input",{type:"number",name:"votesPerUser",value:l.votesPerUser,onChange:k,min:"1",max:"100",className:`w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent ${f.votesPerUser?"border-red-500":"border-gray-300"}`}),f.votesPerUser&&c.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[c.jsx(qt,{className:"h-4 w-4 mr-1"}),f.votesPerUser]})]}),c.jsx("p",{className:"mt-2 text-sm text-gray-500",children:l.useAutoVotes?"Votes will automatically be set to half the number of features (1 feature = 1 vote, 2 features = 1 vote, 4 features = 2 votes, etc.)":"Each stakeholder will have this many votes to distribute across features"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[c.jsx(ii,{className:"h-4 w-4 inline mr-1"}),"Start Date *"]}),c.jsx("input",{type:"date",name:"startDate",value:l.startDate,onChange:k,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[c.jsx(ii,{className:"h-4 w-4 inline mr-1"}),"End Date *"]}),c.jsx("input",{type:"date",name:"endDate",value:l.endDate,onChange:k,className:`w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent ${f.endDate?"border-red-500":"border-gray-300"}`}),f.endDate&&c.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[c.jsx(qt,{className:"h-4 w-4 mr-1"}),f.endDate]})]})]}),c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(ln,{className:"h-5 w-5 text-blue-600 mr-3 mt-0.5"}),c.jsxs("div",{className:"text-sm text-blue-800",children:[c.jsx("p",{className:"font-medium mb-1",children:"Next Steps:"}),c.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[c.jsx("li",{children:"After creating the session, you'll be assigned as the admin"}),c.jsx("li",{children:"You can add stakeholders and other admins from the admin dashboard"}),c.jsx("li",{children:'Use the "Email Invite" button to send stakeholders a link to join'})]})]})]})}),f.submit&&c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:c.jsxs("p",{className:"text-sm text-red-800 flex items-center",children:[c.jsx(qt,{className:"h-4 w-4 mr-2"}),f.submit]})}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[c.jsx("button",{type:"button",onClick:()=>i("/sessions"),className:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",disabled:h,children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-6 py-2 bg-[#2d4660] text-white rounded-md hover:bg-[#1d3a53] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:h,children:h?"Creating...":"Create Session"})]})]})})]})}async function L0(e){const{error:t}=await Le.functions.invoke("send-invitation-email",{body:e});if(t)throw t}function DK(){const{currentSession:e,currentUser:t,setCurrentUser:r,setCurrentSession:n}=Ai(),i=pn(),s=async()=>{try{await Le.auth.signOut()}catch{}try{n(null)}catch{}r(null);try{localStorage.removeItem("voting_system_current_session"),localStorage.removeItem("azureDevOpsAuthInProgress"),sessionStorage.removeItem("oauth_return_path"),sessionStorage.removeItem("oauth_action")}catch{}E(!1),i("/login",{replace:!0})},[l,u]=b.useState([]),[f,m]=b.useState(!0),[h,p]=b.useState(!1),[v,w]=b.useState({name:"",email:""}),[S,_]=b.useState({}),[x,k]=b.useState(!1),[N,E]=b.useState(!1),C=b.useRef(null);b.useEffect(()=>{if(!N)return;const U=z=>{C.current&&!C.current.contains(z.target)&&E(!1)};return document.addEventListener("mousedown",U),document.addEventListener("touchstart",U,{passive:!0}),()=>{document.removeEventListener("mousedown",U),document.removeEventListener("touchstart",U)}},[N]),b.useEffect(()=>{if(!e){i("/sessions");return}O()},[e,i]);const O=async()=>{if(e){m(!0);try{const U=await Wk(e.id);u(U)}catch(U){console.error("Error loading stakeholders:",U)}finally{m(!1)}}},I=U=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(U),L=async U=>{U.preventDefault();const z={};if(v.name.trim()||(z.name="Name is required"),v.email.trim()?I(v.email)||(z.email="Invalid email address"):z.email="Email is required",l.some(V=>V.user_email.toLowerCase()===v.email.toLowerCase())&&(z.email="This stakeholder is already added"),_(z),!(Object.keys(z).length>0)&&e){k(!0);try{await Kk({session_id:e.id,user_name:v.name,user_email:v.email,has_voted:!1});try{const V=`${window.location.origin}/login?session=${e.session_code}`;await L0({to:v.email,subject:`You're invited to vote: ${e.title}`,text:`Hi,

You've been invited to vote in "${e.title}".

Open: ${V}

Best regards,
${(t==null?void 0:t.name)||""}`,html:`<p>Hi,</p><p>You've been invited to vote in <strong>${e.title}</strong>.</p><p><a href="${V}">Open the Feature Voting System</a></p><p>Best regards,<br/>${(t==null?void 0:t.name)||""}</p>`})}catch{try{const V=Hk(e,v.email,(t==null?void 0:t.name)||"");window.location.href=V}catch{}}await O(),w({name:"",email:""}),p(!1)}catch(V){console.error("Error adding stakeholder:",V),_({submit:"Failed to add stakeholder. Please try again."})}finally{k(!1)}}},Y=async U=>{if(e&&confirm("Are you sure you want to remove this stakeholder?"))try{await Xg(e.id,U),await O()}catch(z){console.error("Error removing stakeholder:",z),alert("Failed to remove stakeholder")}},q=U=>new Date(U).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return e?f?c.jsx("div",{className:"min-h-screen w-full bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2d4660] mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading stakeholders..."})]})}):c.jsxs("div",{className:"container mx-auto p-4 max-w-6xl min-h-screen pb-8",children:[c.jsx("div",{className:"hidden md:flex md:justify-center mb-2",children:c.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"-mt-4",style:{height:"96px",width:"auto"}})}),c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("img",{src:"https://media.licdn.com/dms/image/C4D0BAQEC3OhRqehrKg/company-logo_200_200/0/1630518354793/new_millennium_building_systems_logo?e=2147483647&v=beta&t=LM3sJTmQZet5NshZ-RNHXW1MMG9xSi1asp-VUeSA9NA",alt:"New Millennium Building Systems Logo",className:"mr-4 md:hidden",style:{width:"40px",height:"40px"}}),c.jsx("button",{onClick:()=>i("/admin"),className:"mr-2 p-1 rounded-full hover:bg-gray-200 cursor-pointer",children:c.jsx(Mo,{className:"h-6 w-6"})}),c.jsx("h1",{className:"text-2xl font-bold text-[#2d4660] md:text-3xl",children:"Manage Stakeholders"})]}),c.jsxs("div",{ref:C,className:"relative z-40",children:[c.jsxs("div",{className:"hidden md:flex space-x-2",children:[c.jsxs("button",{onClick:()=>i("/admin"),className:"flex items-center px-4 py-2 bg-[#4f6d8e] text-white rounded-lg hover:bg-[#3d5670] transition-colors",children:[c.jsx(ar,{className:"h-4 w-4 mr-2"}),"Admin Dashboard"]}),c.jsxs("button",{onClick:()=>p(!0),className:"flex items-center px-4 py-2 bg-[#c59f2d] text-white rounded-lg hover:bg-[#a88a26] transition-colors",children:[c.jsx(ha,{className:"h-4 w-4 mr-2"}),"Add Stakeholder"]}),c.jsxs("button",{onClick:s,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[c.jsx(xr,{className:"h-4 w-4 mr-2"}),"Logout"]})]}),c.jsx("div",{className:"flex md:hidden",children:c.jsx("button",{onClick:()=>E(!N),className:"p-2 rounded-md border border-gray-200 bg-white shadow-sm","aria-label":"Open menu",children:c.jsx(wi,{className:"h-5 w-5 text-gray-700"})})}),N&&c.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-lg md:hidden z-50",children:c.jsxs("div",{className:"py-1",children:[c.jsxs("button",{onClick:()=>{E(!1),i("/admin")},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(ar,{className:"h-4 w-4 mr-2 text-gray-700"}),"Admin Dashboard"]}),c.jsxs("button",{onClick:()=>{E(!1),p(!0)},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(ha,{className:"h-4 w-4 mr-2 text-gray-700"}),"Add Stakeholder"]}),c.jsxs("button",{onClick:()=>{E(!1),s()},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(xr,{className:"h-4 w-4 mr-2 text-gray-700"}),"Logout"]})]})})]})]}),c.jsx("div",{className:"relative z-10 bg-white rounded-lg shadow-md p-4 mb-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold text-[#2d4660]",children:"Current Session"}),c.jsx("p",{className:"text-gray-600 mt-1",children:e.title})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total Stakeholders"}),c.jsx("p",{className:"text-2xl font-bold text-[#2d4660]",children:l.length})]})]})}),c.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-md overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b border-gray-200",children:[c.jsxs("h2",{className:"text-lg font-semibold text-[#2d4660]",children:["Stakeholders (",l.length,")"]}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage who can vote in this session"})]}),l.length===0?c.jsxs("div",{className:"p-12 text-center",children:[c.jsx(kr,{className:"mx-auto h-12 w-12 text-gray-400"}),c.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No stakeholders"}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by adding stakeholders to this voting session."}),c.jsx("div",{className:"mt-6",children:c.jsxs("button",{onClick:()=>p(!0),className:"inline-flex items-center px-4 py-2 bg-[#2d4660] text-white rounded-md hover:bg-[#1d3a53] transition-colors",children:[c.jsx(ha,{className:"h-5 w-5 mr-2"}),"Add First Stakeholder"]})})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Voting Status"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Added"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(U=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(kr,{className:"h-5 w-5 text-gray-400 mr-2"}),c.jsx("span",{className:"text-sm font-medium text-gray-900",children:U.user_name})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[c.jsx(yc,{className:"h-4 w-4 mr-2"}),U.user_email]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:U.has_voted?c.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[c.jsx(Rn,{className:"h-3 w-3 mr-1"}),"Voted"]}):c.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[c.jsx(_f,{className:"h-3 w-3 mr-1"}),"Pending"]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:q(U.created_at)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:c.jsx("button",{onClick:()=>Y(U.user_email),className:"text-red-600 hover:text-red-900",children:c.jsx(Is,{className:"h-5 w-5"})})})]},U.id))})]})})]}),h&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-medium text-[#2d4660]",children:"Add Stakeholder"}),c.jsx("button",{onClick:()=>{p(!1),w({name:"",email:""}),_({})},className:"text-gray-400 hover:text-gray-500",children:c.jsx(Si,{className:"h-5 w-5"})})]}),c.jsxs("form",{onSubmit:L,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),c.jsx("input",{type:"text",value:v.name,onChange:U=>w(z=>({...z,name:U.target.value})),className:`w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent ${S.name?"border-red-500":"border-gray-300"}`,placeholder:"John Doe"}),S.name&&c.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[c.jsx(qt,{className:"h-4 w-4 mr-1"}),S.name]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),c.jsx("input",{type:"email",value:v.email,onChange:U=>w(z=>({...z,email:U.target.value})),className:`w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent ${S.email?"border-red-500":"border-gray-300"}`,placeholder:"john@example.com"}),S.email&&c.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[c.jsx(qt,{className:"h-4 w-4 mr-1"}),S.email]})]}),S.submit&&c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:c.jsxs("p",{className:"text-sm text-red-800 flex items-center",children:[c.jsx(qt,{className:"h-4 w-4 mr-2"}),S.submit]})}),c.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>{p(!1),w({name:"",email:""}),_({})},className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:x,children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-[#2d4660] text-white rounded-md hover:bg-[#1d3a53] disabled:opacity-50",disabled:x,children:x?"Adding...":"Add Stakeholder"})]})]})]})})]}):null}function RK(){const{currentSession:e,currentUser:t,setCurrentUser:r,setCurrentSession:n}=Ai(),i=pn(),s=async()=>{try{await Le.auth.signOut()}catch{}try{n(null)}catch{}r(null);try{localStorage.removeItem("voting_system_current_session"),localStorage.removeItem("azureDevOpsAuthInProgress"),sessionStorage.removeItem("oauth_return_path"),sessionStorage.removeItem("oauth_action")}catch{}E(!1),i("/login",{replace:!0})},[l,u]=b.useState([]),[f,m]=b.useState(!0),[h,p]=b.useState(!1),[v,w]=b.useState({email:""}),[S,_]=b.useState({}),[x,k]=b.useState(!1),[N,E]=b.useState(!1),C=b.useRef(null);b.useEffect(()=>{if(!N)return;const U=z=>{C.current&&!C.current.contains(z.target)&&E(!1)};return document.addEventListener("mousedown",U),document.addEventListener("touchstart",U,{passive:!0}),()=>{document.removeEventListener("mousedown",U),document.removeEventListener("touchstart",U)}},[N]),b.useEffect(()=>{if(!e){i("/sessions");return}O()},[e,i]);const O=async()=>{if(e){m(!0);try{const U=await qk(e.id);u(U)}catch(U){console.error("Error loading admins:",U)}finally{m(!1)}}},I=U=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(U),L=async U=>{U.preventDefault();const z={};if(v.email.trim()?I(v.email)||(z.email="Invalid email address"):z.email="Email is required",l.some(V=>V.user.email.toLowerCase()===v.email.toLowerCase())&&(z.email="This user is already an admin"),_(z),!(Object.keys(z).length>0)&&e){k(!0);try{const V=v.email.split("@")[0].replace(/\./g," ");await TD(e.id,v.email,V);try{const ee=`${window.location.origin}/login?session=${e.session_code}`;await L0({to:v.email,subject:`You're invited to administer: ${e.title}`,text:`Hi,

You've been added as an admin for "${e.title}".

Open: ${ee}

Best regards,
${(t==null?void 0:t.name)||""}`,html:`<p>Hi,</p><p>You've been added as an admin for <strong>${e.title}</strong>.</p><p><a href="${ee}">Open the Feature Voting System</a></p><p>Best regards,<br/>${(t==null?void 0:t.name)||""}</p>`})}catch{try{const ee=Hk(e,v.email,(t==null?void 0:t.name)||"");window.location.href=ee}catch{}}await O(),w({email:""}),p(!1)}catch(V){console.error("Error adding admin:",V),_({submit:"Failed to add admin. Please try again."})}finally{k(!1)}}},Y=async U=>{if(e){if(l.length===1){alert("Cannot remove the last admin. Sessions must have at least one admin.");return}if(U===(t==null?void 0:t.id)){alert("You cannot remove yourself as an admin.");return}if(confirm("Are you sure you want to remove this admin?"))try{await pd(e.id,U),await O()}catch(z){console.error("Error removing admin:",z),alert("Failed to remove admin")}}},q=U=>new Date(U).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return e?f?c.jsx("div",{className:"min-h-screen w-full bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2d4660] mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading admins..."})]})}):c.jsxs("div",{className:"container mx-auto p-4 max-w-6xl min-h-screen pb-8",children:[c.jsx("div",{className:"hidden md:flex md:justify-center mb-2",children:c.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"-mt-4",style:{height:"96px",width:"auto"}})}),c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("img",{src:"https://media.licdn.com/dms/image/C4D0BAQEC3OhRqehrKg/company-logo_200_200/0/1630518354793/new_millennium_building_systems_logo?e=2147483647&v=beta&t=LM3sJTmQZet5NshZ-RNHXW1MMG9xSi1asp-VUeSA9NA",alt:"New Millennium Building Systems Logo",className:"mr-4 md:hidden",style:{width:"40px",height:"40px"}}),c.jsx("button",{onClick:()=>i("/admin"),className:"mr-2 p-1 rounded-full hover:bg-gray-200 cursor-pointer",children:c.jsx(Mo,{className:"h-6 w-6"})}),c.jsx("h1",{className:"text-2xl font-bold text-[#2d4660] md:text-3xl",children:"Session Admins"})]}),c.jsxs("div",{ref:C,className:"relative z-40",children:[c.jsxs("div",{className:"hidden md:flex space-x-2",children:[c.jsxs("button",{onClick:()=>i("/admin"),className:"flex items-center px-4 py-2 bg-[#4f6d8e] text-white rounded-lg hover:bg-[#3d5670] transition-colors",children:[c.jsx(ar,{className:"h-4 w-4 mr-2"}),"Admin Dashboard"]}),c.jsxs("button",{onClick:()=>p(!0),className:"flex items-center px-4 py-2 bg-[#c59f2d] text-white rounded-lg hover:bg-[#a88a26] transition-colors",children:[c.jsx(ha,{className:"h-4 w-4 mr-2"}),"Add Admin"]}),c.jsxs("button",{onClick:s,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[c.jsx(xr,{className:"h-4 w-4 mr-2"}),"Logout"]})]}),c.jsx("div",{className:"flex md:hidden",children:c.jsx("button",{onClick:()=>E(!N),className:"p-2 rounded-md border border-gray-200 bg-white shadow-sm","aria-label":"Open menu",children:c.jsx(wi,{className:"h-5 w-5 text-gray-700"})})}),N&&c.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-lg md:hidden z-50",children:c.jsxs("div",{className:"py-1",children:[c.jsxs("button",{onClick:()=>{E(!1),i("/admin")},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(ar,{className:"h-4 w-4 mr-2 text-gray-700"}),"Admin Dashboard"]}),c.jsxs("button",{onClick:()=>{E(!1),p(!0)},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(ha,{className:"h-4 w-4 mr-2 text-gray-700"}),"Add Admin"]}),c.jsxs("button",{onClick:()=>{E(!1),s()},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(xr,{className:"h-4 w-4 mr-2 text-gray-700"}),"Logout"]})]})})]})]}),c.jsx("div",{className:"relative z-10 bg-white rounded-lg shadow-md p-4 mb-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold text-[#2d4660]",children:"Current Session"}),c.jsx("p",{className:"text-gray-600 mt-1",children:e.title})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total Admins"}),c.jsx("p",{className:"text-2xl font-bold text-[#2d4660]",children:l.length})]})]})}),c.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-md overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b border-gray-200",children:[c.jsxs("h2",{className:"text-lg font-semibold text-[#2d4660]",children:["Session Admins (",l.length,")"]}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage who can administer this voting session"})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Added"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"relative z-10 bg-white divide-y divide-gray-200",children:l.map(U=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Wr,{className:"h-5 w-5 text-blue-500 mr-2"}),c.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[U.user.name,U.user.id===(t==null?void 0:t.id)&&c.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(You)"})]})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[c.jsx(yc,{className:"h-4 w-4 mr-2"}),U.user.email]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:q(U.created_at)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:c.jsx("button",{onClick:()=>Y(U.user_id),className:`text-red-600 hover:text-red-900 ${U.user.id===(t==null?void 0:t.id)||l.length===1?"opacity-50 cursor-not-allowed":""}`,disabled:U.user.id===(t==null?void 0:t.id)||l.length===1,title:U.user.id===(t==null?void 0:t.id)?"You cannot remove yourself":l.length===1?"Cannot remove the last admin":"Remove admin",children:c.jsx(Is,{className:"h-5 w-5"})})})]},U.id))})]})})]}),c.jsx("div",{className:"relative z-10 mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(Wr,{className:"h-5 w-5 text-blue-600 mr-3 mt-0.5"}),c.jsxs("div",{className:"text-sm text-blue-800",children:[c.jsx("p",{className:"font-medium mb-1",children:"Session Admin Permissions:"}),c.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[c.jsx("li",{children:"Manage features and voting settings for this session"}),c.jsx("li",{children:"Add and remove stakeholders for this session"}),c.jsx("li",{children:"View voting results and analytics for this session"}),c.jsx("li",{children:"Add and remove other session admins"})]}),c.jsx("p",{className:"mt-2 text-xs italic",children:"Note: System Admins have full admin access to all sessions in the system."})]})]})}),h&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-medium text-[#2d4660]",children:"Add Session Admin"}),c.jsx("button",{onClick:()=>{p(!1),w({email:""}),_({})},className:"text-gray-400 hover:text-gray-500",children:c.jsx(Si,{className:"h-5 w-5"})})]}),c.jsxs("form",{onSubmit:L,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),c.jsx("input",{type:"email",value:v.email,onChange:U=>w(z=>({...z,email:U.target.value})),className:`w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent ${S.email?"border-red-500":"border-gray-300"}`,placeholder:"admin@example.com"}),S.email&&c.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[c.jsx(qt,{className:"h-4 w-4 mr-1"}),S.email]})]}),S.submit&&c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:c.jsxs("p",{className:"text-sm text-red-800 flex items-center",children:[c.jsx(qt,{className:"h-4 w-4 mr-2"}),S.submit]})}),c.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>{p(!1),w({email:""}),_({})},className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:x,children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-[#2d4660] text-white rounded-md hover:bg-[#1d3a53] disabled:opacity-50",disabled:x,children:x?"Adding...":"Add Admin"})]})]})]})})]}):null}function MK(){const{currentUser:e,sessions:t}=Ai(),r=pn(),[n,i]=b.useState([]),[s,l]=b.useState(!0),[u,f]=b.useState(!1);b.useEffect(()=>{m()},[t]);const m=async()=>{l(!0);try{const v=new Set;for(const w of t)(await qk(w.id)).forEach(_=>{_.user&&_.user.email&&v.add(_.user.email)});i(Array.from(v))}catch(v){console.error("Error loading admin emails:",v)}finally{l(!1)}},h=()=>{const v=encodeURIComponent(" Request: Add me to Feature Voting System"),w=encodeURIComponent(`Hi Team,

I tried to access the Feature Voting System but don't have admin permissions yet.

Could you please add me to the system so I can participate in voting?

My details:
Name: ${(e==null?void 0:e.name)||"Unknown"}
Email: ${(e==null?void 0:e.email)||"Unknown"}

Thanks!
${(e==null?void 0:e.name)||"A hopeful voter"} `),S=n.length>0?`mailto:${n.join(",")}?subject=${v}&body=${w}`:`mailto:?subject=${v}&body=${w}`;window.location.href=S,f(!0)},p=()=>{r("/login")};return s?c.jsx("div",{className:"min-h-screen w-full bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2d4660] mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-4",children:c.jsxs("div",{className:"max-w-md w-full",children:[c.jsx("div",{className:"text-center mb-8",children:c.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"mx-auto",style:{height:"80px",width:"auto"}})}),c.jsxs("div",{className:"relative z-10 bg-white rounded-xl shadow-lg overflow-hidden",children:[c.jsxs("div",{className:"bg-gradient-to-r from-[#2d4660] to-[#1d3a53] p-6 text-center",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-white/10 rounded-full mb-4",children:c.jsx(dR,{className:"h-8 w-8 text-white"})}),c.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Whoa There, Speedracer! "}),c.jsx("p",{className:"text-blue-100 text-sm",children:"You need access to the Feature Voting System"})]}),c.jsx("div",{className:"p-6",children:u?c.jsx(c.Fragment,{children:c.jsxs("div",{className:"text-center py-4",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:c.jsx(Rn,{className:"h-8 w-8 text-green-600"})}),c.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Email Sent! "}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Your access request has been sent to the admin team. They'll get you set up soon!"}),c.jsxs("button",{onClick:p,className:"inline-flex items-center px-4 py-2 bg-[#2d4660] text-white rounded-lg hover:bg-[#1d3a53] transition-colors",children:[c.jsx(n1,{className:"h-4 w-4 mr-2"}),"Back to Login"]})]})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("p",{className:"text-gray-600 mb-4",children:"Looks like you're trying to access the Feature Voting System, but you haven't been added yet."}),c.jsx("p",{className:"text-gray-600 mb-4",children:"No worries! Click the button below to send a quick message to the admins asking to be added."}),c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(ln,{className:"h-5 w-5 text-blue-600 mr-2 mt-0.5 flex-shrink-0"}),c.jsx("div",{className:"text-sm text-blue-800",children:n.length>0?c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"font-medium mb-1",children:"Your message will be sent to:"}),c.jsx("p",{className:"text-xs",children:n.join(", ")})]}):c.jsx("p",{children:"Your message will help the admin team get you set up!"})})]})})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("button",{onClick:h,className:"w-full flex items-center justify-center px-4 py-3 bg-[#c59f2d] text-white rounded-lg hover:bg-[#a88a26] transition-colors font-medium",children:[c.jsx(yc,{className:"h-5 w-5 mr-2"}),"Request Access from Admins"]}),c.jsxs("button",{onClick:p,className:"w-full flex items-center justify-center px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[c.jsx(n1,{className:"h-4 w-4 mr-2"}),"Back to Login"]})]})]})})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsx("p",{className:"text-sm text-gray-500",children:"Once you're added to the system, you'll be able to participate in voting sessions."})})]})})}function $K(){const{currentUser:e,setCurrentUser:t,setCurrentSession:r}=Ai(),n=pn(),i=async()=>{try{await Le.auth.signOut()}catch{}try{r(null)}catch{}t(null);try{localStorage.removeItem("voting_system_current_session"),localStorage.removeItem("azureDevOpsAuthInProgress"),sessionStorage.removeItem("oauth_return_path"),sessionStorage.removeItem("oauth_action")}catch{}N(!1),n("/login",{replace:!0})},[s,l]=b.useState([]),[u,f]=b.useState(!0),[m,h]=b.useState(!1),[p,v]=b.useState({email:""}),[w,S]=b.useState({}),[_,x]=b.useState(!1),[k,N]=b.useState(!1),E=b.useRef(null);b.useEffect(()=>{if(!k)return;const q=U=>{E.current&&!E.current.contains(U.target)&&N(!1)};return document.addEventListener("mousedown",q),document.addEventListener("touchstart",q,{passive:!0}),()=>{document.removeEventListener("mousedown",q),document.removeEventListener("touchstart",q)}},[k]),b.useEffect(()=>{C()},[]);const C=async()=>{f(!0);try{let q=await Qg();q.length===0&&e&&(console.log("No system admins found. Adding current user as first system admin..."),await Ed(e.id),q=await Qg()),l(q)}catch(q){console.error("Error loading system admins:",q)}finally{f(!1)}},O=q=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(q),I=async q=>{q.preventDefault();const U={};if(p.email.trim()?O(p.email)||(U.email="Invalid email address"):U.email="Email is required",s.some(z=>z.user.email.toLowerCase()===p.email.toLowerCase())&&(U.email="This user is already a system admin"),S(U),!(Object.keys(U).length>0)){x(!0);try{const z=p.email.split("@")[0].replace(/\./g," "),V=await ry(p.email,z);await Ed(V.id);try{const ee=`${window.location.origin}/login`;await L0({to:p.email,subject:"You're a System Admin: Feature Voting System",text:`Hi,

You've been granted System Admin access to the Feature Voting System.

Login: ${ee}

Best regards,
System`,html:`<p>Hi,</p><p>You've been granted <strong>System Admin</strong> access to the Feature Voting System.</p><p><a href="${ee}">Login</a></p><p>Best regards,<br/>System</p>`})}catch{try{const ee=`${window.location.origin}/login`,Q=encodeURIComponent("You're a System Admin: Feature Voting System"),ae=encodeURIComponent(`Hi,

You've been granted System Admin access to the Feature Voting System.

To sign in, use this link:

${ee}

Best regards,
System`);window.location.href=`mailto:${encodeURIComponent(p.email)}?subject=${Q}&body=${ae}`}catch{}}await C(),v({email:""}),h(!1)}catch(z){console.error("Error adding system admin:",z),S({submit:"Failed to add system admin. Please try again."})}finally{x(!1)}}},L=async q=>{const U=s.reduce((z,V)=>new Date(V.created_at)<new Date(z.created_at)?V:z);if(q===U.user_id){alert("Cannot remove the original system admin. This protects against accidentally locking everyone out of the system.");return}if(s.length===1){alert("Cannot remove the last system admin. The system must have at least one admin.");return}if(q===(e==null?void 0:e.id)){alert("You cannot remove yourself as a system admin.");return}if(confirm("Are you sure you want to remove this system admin?"))try{await gd(q),await C()}catch(z){console.error("Error removing system admin:",z),alert("Failed to remove system admin")}},Y=q=>new Date(q).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return u?c.jsx("div",{className:"min-h-screen w-full bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2d4660] mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading system admins..."})]})}):c.jsxs("div",{className:"container mx-auto p-4 max-w-6xl min-h-screen pb-8",children:[c.jsx("div",{className:"hidden md:flex md:justify-center mb-2",children:c.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"-mt-4",style:{height:"96px",width:"auto"}})}),c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("img",{src:"https://media.licdn.com/dms/image/C4D0BAQEC3OhRqehrKg/company-logo_200_200/0/1630518354793/new_millennium_building_systems_logo?e=2147483647&v=beta&t=LM3sJTmQZet5NshZ-RNHXW1MMG9xSi1asp-VUeSA9NA",alt:"New Millennium Building Systems Logo",className:"mr-4 md:hidden",style:{width:"40px",height:"40px"}}),c.jsx("button",{onClick:()=>n("/sessions"),className:"mr-2 p-1 rounded-full hover:bg-gray-200 cursor-pointer",children:c.jsx(Mo,{className:"h-6 w-6"})}),c.jsx("h1",{className:"text-2xl font-bold text-[#2d4660] md:text-3xl",children:"System Admins"})]}),c.jsxs("div",{ref:E,className:"relative z-40",children:[c.jsxs("div",{className:"hidden md:flex space-x-2",children:[c.jsxs("button",{onClick:()=>n("/sessions"),className:"flex items-center px-4 py-2 bg-[#4f6d8e] text-white rounded-lg hover:bg-[#3d5670] transition-colors",children:[c.jsx(ar,{className:"h-4 w-4 mr-2"}),"My Sessions"]}),c.jsxs("button",{onClick:()=>h(!0),className:"flex items-center px-4 py-2 bg-[#c59f2d] text-white rounded-lg hover:bg-[#a88a26] transition-colors",children:[c.jsx(ha,{className:"h-4 w-4 mr-2"}),"Add System Admin"]}),c.jsxs("button",{onClick:i,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[c.jsx(xr,{className:"h-4 w-4 mr-2"}),"Logout"]})]}),c.jsx("div",{className:"flex md:hidden",children:c.jsx("button",{onClick:()=>N(!k),className:"p-2 rounded-md border border-gray-200 bg-white shadow-sm","aria-label":"Open menu",children:c.jsx(wi,{className:"h-5 w-5 text-gray-700"})})}),k&&c.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-lg md:hidden z-50",children:c.jsxs("div",{className:"py-1",children:[c.jsxs("button",{onClick:()=>{N(!1),n("/sessions")},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(ar,{className:"h-4 w-4 mr-2 text-gray-700"}),"My Sessions"]}),c.jsxs("button",{onClick:()=>{N(!1),h(!0)},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(ha,{className:"h-4 w-4 mr-2 text-gray-700"}),"Add System Admin"]}),c.jsxs("button",{onClick:()=>{N(!1),i()},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[c.jsx(xr,{className:"h-4 w-4 mr-2 text-gray-700"}),"Logout"]})]})})]})]}),c.jsx("div",{className:"relative z-10 bg-gradient-to-r from-[#2d4660] to-[#1d3a53] rounded-lg shadow-md p-6 mb-6 text-white",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(sn,{className:"h-8 w-8 mr-3"}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold",children:"Feature Voting System"}),c.jsx("p",{className:"text-blue-100 mt-1",children:"Global administrator management"})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-sm text-blue-100",children:"Total System Admins"}),c.jsx("p",{className:"text-3xl font-bold",children:s.length})]})]})}),c.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-md overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b border-gray-200",children:[c.jsxs("h2",{className:"text-lg font-semibold text-[#2d4660]",children:["System Administrators (",s.length,")"]}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage who has full access to the Feature Voting System"})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Added"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(()=>{const q=s.reduce((U,z)=>new Date(z.created_at)<new Date(U.created_at)?z:U);return s.map(U=>{const z=U.user_id===q.user_id;return c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(sn,{className:"h-5 w-5 text-[#c59f2d] mr-2"}),c.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[U.user.name,U.user.id===(e==null?void 0:e.id)&&c.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(You)"}),z&&c.jsx("span",{className:"ml-2 text-xs text-[#c59f2d] font-semibold",children:"(Original Admin)"})]})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[c.jsx(yc,{className:"h-4 w-4 mr-2"}),U.user.email]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Y(U.created_at)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:c.jsx("button",{onClick:()=>L(U.user_id),className:`text-red-600 hover:text-red-900 ${U.user.id===(e==null?void 0:e.id)||s.length===1||z?"opacity-50 cursor-not-allowed":""}`,disabled:U.user.id===(e==null?void 0:e.id)||s.length===1||z,title:z?"Cannot remove the original system admin":U.user.id===(e==null?void 0:e.id)?"You cannot remove yourself":s.length===1?"Cannot remove the last system admin":"Remove system admin",children:c.jsx(Is,{className:"h-5 w-5"})})})]},U.id)})})()})]})})]}),c.jsx("div",{className:"relative z-10 mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(sn,{className:"h-5 w-5 text-yellow-600 mr-3 mt-0.5"}),c.jsxs("div",{className:"text-sm text-yellow-800",children:[c.jsx("p",{className:"font-medium mb-1",children:"System Admin Permissions:"}),c.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[c.jsx("li",{children:"Full access to all voting sessions across the system"}),c.jsx("li",{children:"Create and manage any voting session"}),c.jsx("li",{children:"Add and remove other system administrators"}),c.jsx("li",{children:"Manage session admins and stakeholders for any session"}),c.jsx("li",{children:"View all results and analytics system-wide"})]}),c.jsx("p",{className:"mt-3 text-xs font-medium",children:"Note: The original system admin (first person to access this page) cannot be removed to prevent system lockout."})]})]})}),m&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-medium text-[#2d4660]",children:"Add System Admin"}),c.jsx("button",{onClick:()=>{h(!1),v({email:""}),S({})},className:"text-gray-400 hover:text-gray-500",children:c.jsx(Si,{className:"h-5 w-5"})})]}),c.jsxs("form",{onSubmit:I,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),c.jsx("input",{type:"email",value:p.email,onChange:q=>v(U=>({...U,email:q.target.value})),className:`w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent ${w.email?"border-red-500":"border-gray-300"}`,placeholder:"admin@example.com"}),w.email&&c.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[c.jsx(qt,{className:"h-4 w-4 mr-1"}),w.email]})]}),w.submit&&c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:c.jsxs("p",{className:"text-sm text-red-800 flex items-center",children:[c.jsx(qt,{className:"h-4 w-4 mr-2"}),w.submit]})}),c.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>{h(!1),v({email:""}),S({})},className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:_,children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-[#2d4660] text-white rounded-md hover:bg-[#1d3a53] disabled:opacity-50",disabled:_,children:_?"Adding...":"Add System Admin"})]})]})]})})]})}function LK(){const{currentUser:e,setCurrentUser:t,setCurrentSession:r,currentSession:n}=Ai(),i=pn(),[s]=_k(),[l,u]=b.useState([]),[f,m]=b.useState([]),[h,p]=b.useState(!0),[v,w]=b.useState(""),[S,_]=b.useState("all"),[x,k]=b.useState(!1),[N,E]=b.useState(null),[C,O]=b.useState(null),I=b.useRef(null),L=b.useRef({}),Y=b.useRef(!1),[q,U]=b.useState(!1),[z,V]=b.useState(!1),[ee,Q]=b.useState([]),[ae,xe]=b.useState("system-admin"),[ye,re]=b.useState(!0),[le,ce]=b.useState(!1),[M,D]=b.useState(null),[te,_e]=b.useState(null),[ne,ke]=b.useState([]),[Me,Je]=b.useState(""),[ue,Oe]=b.useState({adminSessions:[],stakeholderSessions:[]}),[oe,Z]=b.useState(!1),[Ee,Ye]=b.useState(null),[Nt,mt]=b.useState(!1),[Dt,vn]=b.useState(null),[Rt,yn]=b.useState(new Set),[Ht,R]=b.useState(new Map),[K,X]=b.useState(!1),[ge,pe]=b.useState(!1),[G,ve]=b.useState({name:"",email:"",password:"",isSystemAdmin:!1,sessionAdminIds:[],stakeholderSessionIds:[]}),[Fe,rt]=b.useState({systemAdmin:!1,sessionAdmin:!1,stakeholder:!1}),ft=async()=>{try{await Le.auth.signOut()}catch{}try{r(null)}catch{}t(null);try{localStorage.removeItem("voting_system_current_session"),localStorage.removeItem("azureDevOpsAuthInProgress"),sessionStorage.removeItem("oauth_return_path"),sessionStorage.removeItem("oauth_action")}catch{}k(!1),i("/login",{replace:!0})};b.useEffect(()=>{if(!x)return;const P=se=>{I.current&&!I.current.contains(se.target)&&k(!1)};return document.addEventListener("mousedown",P),document.addEventListener("touchstart",P,{passive:!0}),()=>{document.removeEventListener("mousedown",P),document.removeEventListener("touchstart",P)}},[x]),b.useEffect(()=>{if(!N)return;const P=se=>{const Se=L.current[N];Se&&!Se.contains(se.target)&&E(null)};return document.addEventListener("mousedown",P),document.addEventListener("touchstart",P,{passive:!0}),()=>{document.removeEventListener("mousedown",P),document.removeEventListener("touchstart",P)}},[N]);const Er=async P=>{p(!0),console.log("=== CHECKING USERS TABLE SCHEMA ===");try{const{data:se,error:Se}=await Le.from("users").select("*").limit(1).single();se?(console.log(" Sample user record:",se),console.log(" Available fields:",Object.keys(se)),console.log(" Has created_by?","created_by"in se),console.log(" Has created_by_name?","created_by_name"in se),console.log(" Has created_by_user_id?","created_by_user_id"in se)):console.log(" No users found or error:",Se)}catch(se){console.log(" Error checking schema:",se)}console.log(`=== END SCHEMA CHECK ===
`);try{const se=await Xb(),Se=new Map;await Promise.all(P.map(async tt=>{try{const fr=await Wk(tt.id);Se.set(tt.id,fr)}catch(fr){console.error(`Error loading stakeholders for session ${tt.id}:`,fr),Se.set(tt.id,[])}}));const He=await Promise.all(se.map(async tt=>{const fr=await AD(tt.id),Ko=[],Ho=[];if(fr.sessionAdminCount>0)try{const{data:hi,error:Yo}=await Le.from("session_admins").select("session_id").eq("user_id",tt.id);if(Yo)console.error("Error fetching admin sessions:",Yo);else if(hi){const $c=hi.map(lt=>lt.session_id);Ko.push(...P.filter(lt=>$c.includes(lt.id)))}}catch(hi){console.error("Error querying session_admins:",hi)}for(const hi of P)(Se.get(hi.id)||[]).some(lt=>{const rh=lt.user_email&&tt.email&&lt.user_email.toLowerCase()===tt.email.toLowerCase(),Go=lt.user_id===tt.id||lt.id===tt.id;return rh||Go})&&Ho.push(hi);return{...tt,roles:fr,adminInSessions:Ko,stakeholderInSessions:Ho}}));u(He);const De=new Map;He.forEach(tt=>{const fr=tt.email.toLowerCase().trim();De.has(fr)||De.set(fr,[]),De.get(fr).push(tt.id)});const ot=new Map;De.forEach((tt,fr)=>{tt.length>1&&ot.set(fr,tt)}),R(ot)}catch(se){console.error("Error loading users:",se)}finally{p(!1)}},zn=async()=>{if(e){re(!0);try{const P=await Ro(e.id);U(P);const se=await ny();let Se=[];if(P)ke(se),await Bn(),await Er(se);else{const He=await Promise.all(se.map(tt=>nc(tt.id,e.id)));se.forEach((tt,fr)=>{He[fr]&&Se.push(tt.id)});const De=Se.length>0;if(V(De),Q(Se),!De){i("/sessions");return}const ot=se.filter(tt=>Se.includes(tt.id));ke(ot),xe("session-admin"),await Er(ot)}}catch(P){console.error("Error checking access:",P),i("/sessions")}finally{re(!1)}}},Bn=async()=>{try{const P=["chris.rodes@newmill.com","spencer.faull@newmill.com"],se=new Set,Se=await Qg();if(Se.length>0){const De=Se.reduce((ot,tt)=>new Date(tt.created_at)<new Date(ot.created_at)?tt:ot);vn(De.user_id),se.add(De.user_id)}(await Xb()).forEach(De=>{P.includes(De.email.toLowerCase())&&se.add(De.id)}),yn(se)}catch(P){console.error("Error loading protected accounts:",P)}},Ar=P=>{if(P.id===Dt)return"Original Admin";const se=P.email.toLowerCase();return se==="chris.rodes@newmill.com"?"Manager":se==="spencer.faull@newmill.com"?"Portfolio Owner":null},xn=P=>{const se=P.email.toLowerCase().trim(),Se=Ht.get(se);return Se?Se.length>1:!1},di=P=>{const se=P.email.toLowerCase().trim(),Se=Ht.get(se);return Se?Se.length:1},Vn=()=>{let P=[...l];if(v.trim()){const se=v.toLowerCase();P=P.filter(Se=>Se.name.toLowerCase().includes(se)||Se.email.toLowerCase().includes(se))}S!=="all"&&(P=P.filter(se=>{switch(S){case"system-admin":return se.roles.isSystemAdmin;case"session-admin":return se.roles.sessionAdminCount>0&&!se.roles.isSystemAdmin;case"stakeholder":return se.roles.stakeholderSessionCount>0&&se.roles.sessionAdminCount===0&&!se.roles.isSystemAdmin;case"none":return!se.roles.isSystemAdmin&&se.roles.sessionAdminCount===0&&se.roles.stakeholderSessionCount===0;default:return!0}})),m(P)};b.useEffect(()=>{if(!e){i("/login");return}if(!Y.current)return Y.current=!0,zn(),()=>{}},[e]),b.useEffect(()=>{const P=s.get("filter");P&&["system-admin","session-admin","stakeholder","none"].includes(P)&&_(P)},[s]),b.useEffect(()=>{Vn()},[l,v,S]);const ss=async P=>{try{const se=[],Se=[];for(const He of ne)await nc(P,He.id)&&se.push(He.id),await(void 0)(P,He.id)&&Se.push(He.id);Oe({adminSessions:se,stakeholderSessions:Se})}catch(se){console.error("Error loading user session memberships:",se)}},wn=async(P,se)=>{_e(P),D(se),Je(""),ce(!0),E(null),await ss(P.id)},bn=()=>{ce(!1),D(null),_e(null),Je(""),Oe({adminSessions:[],stakeholderSessions:[]})},fi=async()=>{if(!(!te||!Me||!M))try{M==="session-admin"?await Nd(Me,te.id):M==="stakeholder"?await Qb(Me,te.email,te.name):M==="remove-stakeholder"&&await Xg(Me,te.email),bn(),await Er(ne)}catch(P){console.error("Error modifying user session role:",P);const se=(P==null?void 0:P.message)||(P==null?void 0:P.toString())||"Unknown error";console.error("Full error details:",P),alert(`Failed to ${M==="remove-stakeholder"?"remove stakeholder from":"add user to"} session.

Error: ${se}

Please check the console for more details.`)}},ie=async(P,se)=>{if(E(null),!!confirm(`Are you sure you want to ${se?"remove":"grant"} system admin access for this user?`))try{se?await gd(P):await Ed(P),await Er(ne)}catch(Se){console.error("Error toggling system admin:",Se),alert("Failed to update system admin status. Please try again.")}},we=async(P,se)=>{E(null);const Se=ae==="session-admin"?`Are you sure you want to remove ${se} from all sessions you manage? This will remove them as a stakeholder or session admin from your sessions only.`:`Are you sure you want to remove all roles from ${se}? This will remove them from all sessions and revoke system admin access.`;if(confirm(Se))try{if(ae==="system-admin"&&await gd(P),ae==="session-admin"){for(const He of ee)try{await pd(He,P)}catch(De){console.error(`Error removing session admin from ${He}:`,De)}for(const He of ee)try{await(void 0)(He,P)}catch(De){console.error(`Error removing stakeholder from ${He}:`,De)}}else for(const He of ne)try{await pd(He.id,P),await(void 0)(He.id,P)}catch{}await Er(ne)}catch(He){console.error("Error removing roles:",He),alert("Failed to remove roles. Please try again.")}},Ke=async(P,se)=>{const Se=l.find(He=>He.id===P);if(Se){if(ae==="session-admin"){if(Se.roles.stakeholderSessionCount===0){alert("This user is not a stakeholder in any sessions.");return}const He=`Are you sure you want to remove ${se} as a stakeholder from all sessions you manage?`;if(!confirm(He))return;try{let De=0;for(const ot of ne)try{await Xg(ot.id,Se.email),De++}catch(tt){console.error(`Error removing stakeholder from session ${ot.id}:`,tt)}await Er(ne),De>0?alert(`${se} has been removed as a stakeholder from ${De} session(s) you manage.`):alert(`${se} was not a stakeholder in any of the sessions you manage.`)}catch(De){console.error("Error removing stakeholder:",De),alert("Failed to remove stakeholder. Please try again.")}return}Ye(Se),Z(!0)}},qe=async()=>{if(Ee){if(Rt.has(Ee.id)){const P=Ar(Ee);alert(`Cannot delete this protected account${P?` (${P})`:""}. This protects against accidentally locking important users out of the system.`),Z(!1),Ye(null);return}mt(!0);try{for(const se of ne)try{await pd(se.id,Ee.id),await(void 0)(se.id,Ee.id)}catch{}if(Ee.roles.isSystemAdmin)try{await gd(Ee.id)}catch(se){console.error("Error removing system admin role:",se)}const{error:P}=await Le.from("users").delete().eq("id",Ee.id);if(P)throw P;await Er(ne),Z(!1),Ye(null)}catch(P){console.error("Error deleting user:",P),alert("Failed to delete user. Please try again.")}finally{mt(!1)}}},$e=()=>{Z(!1),Ye(null)},Ne=()=>{ve({name:"",email:"",password:nt(),isSystemAdmin:!1,sessionAdminIds:[],stakeholderSessionIds:[]}),X(!0)},Tt=()=>{X(!1),ve({name:"",email:"",password:"",isSystemAdmin:!1,sessionAdminIds:[],stakeholderSessionIds:[]}),rt({systemAdmin:!1,sessionAdmin:!1,stakeholder:!1})},nt=()=>{const se="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";let Se="";for(let He=0;He<12;He++)Se+=se.charAt(Math.floor(Math.random()*se.length));return Se},bt=async()=>{if(!G.name.trim()||!G.email.trim()||!G.password.trim()){alert("Please fill in all required fields (Name, Email, Password)");return}pe(!0);try{const{data:P,error:se}=await Le.auth.signUp({email:G.email,password:G.password,options:{data:{name:G.name}}});if(se)throw se;if(!P.user)throw new Error("User creation failed");const Se=P.user.id,{error:He}=await Le.from("users").insert({id:Se,name:G.name,email:G.email,created_by:e==null?void 0:e.id,created_by_name:e==null?void 0:e.name});if(He)throw He;if(ae==="system-admin"&&G.isSystemAdmin&&await Ed(Se),ae==="system-admin")for(const De of G.sessionAdminIds)try{await Nd(De,Se)}catch(ot){console.error("Error adding session admin role:",ot)}if(console.log("Adding stakeholder to sessions:",G.stakeholderSessionIds),console.log("View mode:",ae),console.log("User admin sessions:",ee),console.log("All sessions:",ne.map(De=>({id:De.id,title:De.title}))),G.stakeholderSessionIds.length===0)console.log("No stakeholder sessions selected");else{for(const De of G.stakeholderSessionIds){if(ae==="session-admin"&&!ne.some(tt=>tt.id===De)){console.warn(`Skipping session ${De} - not in managed sessions`);continue}try{console.log(`Adding ${G.email} as stakeholder to session ${De}`);const ot=await Qb(De,G.email,G.name);console.log(`Successfully added stakeholder to session ${De}:`,ot)}catch(ot){console.error(`Error adding stakeholder role to session ${De}:`,ot);const tt=(ot==null?void 0:ot.message)||(ot==null?void 0:ot.toString())||"Unknown error";alert(`Warning: Failed to add ${G.email} to session ${De}.

Error: ${tt}`)}}console.log("Finished adding stakeholder roles")}Tt(),await Er(ne),alert(`User created successfully!

Email: ${G.email}
Temporary Password: ${G.password}

Please save this password and share it with the user securely.`)}catch(P){console.error("Error creating user:",P),alert(`Failed to create user: ${P.message||"Unknown error"}`)}finally{pe(!1)}},Re=P=>{ve(se=>({...se,sessionAdminIds:se.sessionAdminIds.includes(P)?se.sessionAdminIds.filter(Se=>Se!==P):[...se.sessionAdminIds,P]}))},_n=P=>{ve(se=>({...se,stakeholderSessionIds:se.stakeholderSessionIds.includes(P)?se.stakeholderSessionIds.filter(Se=>Se!==P):[...se.stakeholderSessionIds,P]}))},$r=P=>new Date(P).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),qn=P=>P.roles.isSystemAdmin?c.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[c.jsx(sn,{className:"h-3 w-3 mr-1"}),"System Admin"]}):P.roles.sessionAdminCount>0?c.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-[#173B65] text-white",children:[c.jsx(Wr,{className:"h-3 w-3 mr-1"}),"Session Admin (",P.roles.sessionAdminCount,")"]}):P.roles.stakeholderSessionCount>0?c.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[c.jsx(kr,{className:"h-3 w-3 mr-1"}),"Stakeholder (",P.roles.stakeholderSessionCount,")"]}):c.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600",children:"No Role"}),Mt=P=>P?P==="session-admin"?ne.filter(se=>!ue.adminSessions.includes(se.id)):P==="remove-stakeholder"?ne.filter(se=>ue.stakeholderSessions.includes(se.id)&&(ae==="system-admin"||ee.includes(se.id))):ne.filter(se=>!ue.stakeholderSessions.includes(se.id)):[],jn=(P,se)=>se?se==="session-admin"?P.roles.sessionAdminCount<ne.length:P.roles.stakeholderSessionCount<ne.length:!1;return ye||h?c.jsx("div",{className:"min-h-screen w-full bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2d4660] mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:ye?"Checking access...":"Loading users..."})]})}):q?c.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[c.jsxs("div",{className:"container mx-auto p-4 max-w-6xl",children:[c.jsx("div",{className:"hidden md:flex md:justify-center mb-2",children:c.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"-mt-4",style:{height:"96px",width:"auto"}})}),c.jsxs("div",{className:"flex justify-between items-center mb-4 md:mb-6",children:[c.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[c.jsx("img",{src:"https://media.licdn.com/dms/image/C4D0BAQEC3OhRqehrKg/company-logo_200_200/0/1630518354793/new_millennium_building_systems_logo?e=2147483647&v=beta&t=LM3sJTmQZet5NshZ-RNHXW1MMG9xSi1asp-VUeSA9NA",alt:"New Millennium Building Systems Logo",className:"mr-3 md:hidden flex-shrink-0",style:{width:"36px",height:"36px"}}),c.jsx("button",{onClick:()=>{n!=null&&n.id?i("/admin"):i("/sessions")},className:"mr-2 p-1 rounded-full hover:bg-gray-200 cursor-pointer flex-shrink-0",children:c.jsx(Mo,{className:"h-6 w-6"})}),c.jsx("h1",{className:"text-xl md:text-3xl font-bold text-[#2d4660] truncate",children:"User Management"})]}),c.jsxs("div",{ref:I,className:"relative z-40 flex-shrink-0 ml-2",children:[c.jsxs("div",{className:"hidden md:flex space-x-2",children:[(q||z)&&c.jsxs("button",{onClick:Ne,className:"flex items-center px-4 py-2 bg-[#2D4660] text-white rounded-lg hover:bg-[#173B65] transition-colors",children:[c.jsx(ln,{className:"h-4 w-4 mr-2"}),"Add User"]}),c.jsxs("button",{onClick:()=>i("/sessions"),className:"flex items-center px-4 py-2 bg-[#4f6d8e] text-white rounded-lg hover:bg-[#3d5670] transition-colors",children:[c.jsx(ar,{className:"h-4 w-4 mr-2"}),"My Sessions"]}),c.jsxs("button",{onClick:ft,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[c.jsx(xr,{className:"h-4 w-4 mr-2"}),"Logout"]})]}),c.jsx("div",{className:"flex md:hidden",children:c.jsx("button",{onClick:()=>k(!x),className:"p-2 rounded-md border border-gray-200 bg-white shadow-sm","aria-label":"Open menu",children:c.jsx(wi,{className:"h-5 w-5 text-gray-700"})})}),x&&c.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-lg md:hidden z-50",children:c.jsxs("div",{className:"py-1",children:[(q||z)&&c.jsxs("button",{onClick:()=>{k(!1),Ne()},className:"w-full px-4 py-3 flex items-center text-left hover:bg-gray-50",children:[c.jsx(ln,{className:"h-5 w-5 mr-3 text-green-600"}),c.jsx("span",{className:"text-base",children:"Add User"})]}),c.jsxs("button",{onClick:()=>{k(!1),i("/sessions")},className:"w-full px-4 py-3 flex items-center text-left hover:bg-gray-50",children:[c.jsx(ar,{className:"h-5 w-5 mr-3 text-gray-700"}),c.jsx("span",{className:"text-base",children:"My Sessions"})]}),c.jsxs("button",{onClick:()=>{k(!1),ft()},className:"w-full px-4 py-3 flex items-center text-left hover:bg-gray-50",children:[c.jsx(xr,{className:"h-5 w-5 mr-3 text-gray-700"}),c.jsx("span",{className:"text-base",children:"Logout"})]})]})})]})]}),c.jsx("div",{className:"relative z-10 bg-white rounded-lg shadow-md p-3 md:p-4 mb-4 md:mb-6",children:c.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:gap-4",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(xR,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search by name or email...",value:v,onChange:P=>w(P.target.value),className:"w-full pl-10 pr-10 py-2.5 md:py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#2d4660] focus:border-transparent text-base"}),v&&c.jsx("button",{onClick:()=>w(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c.jsx(Si,{className:"h-5 w-5"})})]}),c.jsxs("select",{value:S,onChange:P=>_(P.target.value),className:"px-4 py-2.5 md:py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#2d4660] focus:border-transparent text-base",children:[c.jsx("option",{value:"all",children:"All Roles"}),c.jsx("option",{value:"system-admin",children:"System Admin"}),c.jsx("option",{value:"session-admin",children:"Session Admin"}),c.jsx("option",{value:"stakeholder",children:"Stakeholder"}),c.jsx("option",{value:"none",children:"No Role"})]})]})}),c.jsx("div",{className:"md:hidden space-y-3 relative z-10",children:f.length===0?c.jsx("div",{className:"bg-white rounded-lg shadow-md p-8 text-center text-gray-500",children:v||S!=="all"?"No users found matching your filters.":"No users found."}):f.map(P=>{var se;return c.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[c.jsxs("div",{className:"p-4 border-b border-gray-100",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[c.jsxs("h3",{className:"text-base font-semibold text-gray-900 truncate",children:[P.name,P.id===(e==null?void 0:e.id)&&c.jsx("span",{className:"ml-2 text-xs text-[#c59f2d] font-semibold",children:"(You)"}),Ar(P)&&c.jsxs("span",{className:"ml-2 text-xs text-[#c59f2d] font-semibold",children:["(",Ar(P),")"]}),xn(P)&&c.jsxs("span",{className:"ml-2 px-2 py-0.5 bg-red-100 text-red-700 text-xs font-medium rounded",children:["Duplicate (",di(P),")"]})]}),c.jsx("p",{className:"text-sm text-gray-500 truncate",children:P.email})]}),c.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(ae==="system-admin"||ae==="session-admin"&&P.roles.stakeholderSessionCount>0&&((se=P.stakeholderInSessions)==null?void 0:se.some(Se=>ne.some(He=>He.id===Se.id))))&&c.jsx("button",{onClick:()=>Ke(P.id,P.name),className:`p-2 rounded-md hover:bg-red-50 transition-colors ${P.id===(e==null?void 0:e.id)||ae==="system-admin"&&Rt.has(P.id)?"opacity-50 cursor-not-allowed":""}`,disabled:P.id===(e==null?void 0:e.id)||ae==="system-admin"&&Rt.has(P.id),title:ae==="session-admin"?"Remove stakeholder from all your sessions":Rt.has(P.id)?`Cannot delete protected account${Ar(P)?` (${Ar(P)})`:""}`:P.id===(e==null?void 0:e.id)?"Cannot delete your own account":"Delete user",children:c.jsx(Is,{className:"h-5 w-5 text-red-600"})}),c.jsxs("div",{className:"relative",ref:Se=>{L.current[P.id]=Se},children:[c.jsx("button",{onClick:()=>E(N===P.id?null:P.id),className:`p-2 rounded-md hover:bg-gray-100 transition-colors ${P.id===(e==null?void 0:e.id)?"opacity-50 cursor-not-allowed":""}`,disabled:P.id===(e==null?void 0:e.id),title:P.id===(e==null?void 0:e.id)?"Cannot modify your own permissions":"Change user role",children:c.jsx(i1,{className:"h-5 w-5 text-gray-600"})}),N===P.id&&P.id!==(e==null?void 0:e.id)&&c.jsx("div",{className:"absolute right-0 mt-1 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:c.jsxs("div",{className:"py-1",children:[c.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase border-b border-gray-200",children:"Change User Role"}),ae==="system-admin"&&c.jsxs(c.Fragment,{children:[P.roles.isSystemAdmin?c.jsxs("button",{onClick:()=>ie(P.id,!0),className:"w-full px-4 py-3 text-left flex items-center hover:bg-red-50 text-red-700",children:[c.jsx(sn,{className:"h-5 w-5 mr-3 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-base",children:"Remove System Admin"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Revoke global admin access"})]})]}):c.jsxs("button",{onClick:()=>ie(P.id,!1),className:"w-full px-4 py-3 text-left flex items-center hover:bg-purple-50 text-purple-700",children:[c.jsx(sn,{className:"h-5 w-5 mr-3 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-base",children:"Make System Admin"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Grant global admin access"})]})]}),jn(P,"session-admin")&&c.jsxs("button",{onClick:()=>wn(P,"session-admin"),className:"w-full px-4 py-3 text-left flex items-center hover:bg-[#E8EDF2] text-[#2D4660] border-t border-gray-200",children:[c.jsx(Wr,{className:"h-5 w-5 mr-3 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-base",children:"Make Session Admin"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Add to a session as admin"})]})]})]}),jn(P,"stakeholder")&&c.jsxs("button",{onClick:()=>wn(P,"stakeholder"),className:"w-full px-4 py-3 text-left flex items-center hover:bg-green-50 text-green-700 border-t border-gray-200",children:[c.jsx(kr,{className:"h-5 w-5 mr-3 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-base",children:"Make Stakeholder"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Add to a session as stakeholder"})]})]}),ae==="session-admin"&&P.stakeholderInSessions&&P.stakeholderInSessions.length>0&&P.stakeholderInSessions.some(Se=>ee.includes(Se.id))&&c.jsxs("button",{onClick:()=>wn(P,"remove-stakeholder"),className:"w-full px-4 py-3 text-left flex items-center hover:bg-red-50 text-red-700 border-t border-gray-200",children:[c.jsx(Ol,{className:"h-5 w-5 mr-3 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-base",children:"Remove Stakeholder"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Remove from a session you manage"})]})]}),(P.roles.isSystemAdmin||P.roles.sessionAdminCount>0||P.roles.stakeholderSessionCount>0)&&c.jsxs("button",{onClick:()=>we(P.id,P.name),className:"w-full px-4 py-3 text-left flex items-center hover:bg-gray-50 text-gray-700 border-t border-gray-200",children:[c.jsx(Ol,{className:"h-5 w-5 mr-3 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-base",children:"Remove All Roles"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Remove from all sessions"})]})]})]})})]})]})]}),c.jsx("div",{className:"mt-2",children:qn(P)})]}),c.jsxs("div",{className:"p-4 space-y-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase mb-1",children:"Sessions"}),c.jsxs("div",{className:"space-y-1",children:[P.roles.sessionAdminCount>0&&c.jsxs("div",{className:"flex items-center text-sm cursor-help",title:P.adminInSessions&&P.adminInSessions.length>0?`Admin in: ${P.adminInSessions.map(Se=>Se.title||Se.name||"Unnamed Session").join(", ")}`:"Loading session details...",children:[c.jsx(Wr,{className:"h-4 w-4 mr-2 text-[#2D4660] flex-shrink-0"}),c.jsxs("span",{className:"text-gray-700",children:[P.roles.sessionAdminCount," as Admin"]})]}),P.roles.stakeholderSessionCount>0&&c.jsxs("div",{className:"flex items-center text-sm cursor-help",title:P.stakeholderInSessions&&P.stakeholderInSessions.length>0?`Stakeholder in: ${P.stakeholderInSessions.map(Se=>Se.title||Se.name||"Unnamed Session").join(", ")}`:"Loading session details...",children:[c.jsx(kr,{className:"h-4 w-4 mr-2 text-green-500 flex-shrink-0"}),c.jsxs("span",{className:"text-gray-700",children:[P.roles.stakeholderSessionCount," as Stakeholder"]})]}),P.roles.sessionAdminCount===0&&P.roles.stakeholderSessionCount===0&&c.jsx("span",{className:"text-sm text-gray-400",children:"No session roles"})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase mb-1",children:"Created"}),c.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[c.jsx(ii,{className:"h-4 w-4 mr-2 text-gray-400 flex-shrink-0"}),P.created_at?$r(P.created_at):"N/A"]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase mb-1",children:"Created By"}),c.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[c.jsx(kr,{className:"h-4 w-4 mr-2 text-gray-400 flex-shrink-0"}),P.created_by_name||"System"]})]})]})]},P.id)})}),c.jsxs("div",{className:"hidden md:block relative z-10 bg-white rounded-lg shadow-md overflow-visible",children:[c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 rounded-t-lg",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sessions"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:v||S!=="all"?"No users found matching your filters.":"No users found."})}):f.map(P=>{var se,Se,He;return c.jsxs("tr",{className:"hover:bg-gray-50",onMouseEnter:()=>O(P.id),onMouseLeave:()=>O(null),children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{children:[c.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[P.name,P.id===(e==null?void 0:e.id)&&c.jsx("span",{className:"ml-2 text-xs text-[#c59f2d] font-semibold",children:"(You)"}),Ar(P)&&c.jsxs("span",{className:"ml-2 text-xs text-[#c59f2d] font-semibold",children:["(",Ar(P),")"]}),xn(P)&&c.jsxs("span",{className:"ml-2 px-2 py-0.5 bg-red-100 text-red-700 text-xs font-medium rounded",children:["Duplicate (",di(P),")"]})]}),c.jsx("div",{className:"text-sm text-gray-500",children:P.email})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:qn(P)}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:c.jsxs("div",{className:"space-y-2",children:[P.roles.sessionAdminCount===0&&P.roles.stakeholderSessionCount===0&&c.jsx("span",{className:"text-gray-400",children:"None"}),P.adminInSessions&&P.adminInSessions.length>0&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center text-sm font-medium text-gray-700 mb-1.5",children:[c.jsx(Wr,{className:"h-4 w-4 mr-1.5 text-[#173B65]"}),"Admin in ",P.adminInSessions.length," session",P.adminInSessions.length!==1?"s":"",":"]}),c.jsx("div",{className:"space-y-1.5 ml-5",children:P.adminInSessions.map(De=>c.jsx("div",{className:"flex items-start",children:c.jsxs("div",{className:"text-xs text-gray-600",children:[c.jsx("div",{className:"font-medium text-gray-900",children:De.title||De.name||"Unnamed Session"}),De.created_at&&c.jsxs("div",{className:"flex items-center text-gray-500 mt-0.5",children:[c.jsx(ii,{className:"h-3 w-3 mr-1"}),new Date(De.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]})},De.id))})]}),P.stakeholderInSessions&&P.stakeholderInSessions.length>0&&c.jsxs("div",{className:P.adminInSessions&&P.adminInSessions.length>0?"pt-2 border-t border-gray-100":"",children:[c.jsxs("div",{className:"flex items-center text-sm font-medium text-gray-700 mb-1.5",children:[c.jsx(kr,{className:"h-4 w-4 mr-1.5 text-green-600"}),"Stakeholder in ",P.stakeholderInSessions.length," session",P.stakeholderInSessions.length!==1?"s":"",":"]}),c.jsx("div",{className:"space-y-1.5 ml-5",children:P.stakeholderInSessions.map(De=>c.jsx("div",{className:"flex items-start",children:c.jsxs("div",{className:"text-xs text-gray-600",children:[c.jsx("div",{className:"font-medium text-gray-900",children:De.title||De.name||"Unnamed Session"}),De.created_at&&c.jsxs("div",{className:"flex items-center text-gray-500 mt-0.5",children:[c.jsx(ii,{className:"h-3 w-3 mr-1"}),new Date(De.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]})},De.id))})]})]})}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center text-gray-700",children:[c.jsx(ii,{className:"h-4 w-4 mr-1.5 text-gray-400"}),P.created_at?$r(P.created_at):"N/A"]}),c.jsxs("div",{className:"flex items-center text-gray-500 text-xs mt-1",children:[c.jsx(kr,{className:"h-3.5 w-3.5 mr-1.5 text-gray-400"}),P.created_by_name||"System"]})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:c.jsxs("div",{className:"flex items-center justify-end gap-2",children:[(ae==="system-admin"||ae==="session-admin"&&P.roles.stakeholderSessionCount>0&&((se=P.stakeholderInSessions)==null?void 0:se.some(De=>ne.some(ot=>ot.id===De.id))))&&c.jsx("button",{onClick:()=>Ke(P.id,P.name),className:`p-2 rounded-md hover:bg-red-50 transition-all md:transition-opacity ${P.id===(e==null?void 0:e.id)||ae==="system-admin"&&Rt.has(P.id)?"opacity-50 cursor-not-allowed":C===P.id?"opacity-100 visible":"md:opacity-0 md:invisible opacity-100 visible"}`,disabled:P.id===(e==null?void 0:e.id)||ae==="system-admin"&&Rt.has(P.id),title:ae==="session-admin"?"Remove stakeholder from all your sessions":Rt.has(P.id)?`Cannot delete protected account${Ar(P)?` (${Ar(P)})`:""}`:P.id===(e==null?void 0:e.id)?"Cannot delete your own account":"Delete user",children:c.jsx(Is,{className:"h-5 w-5 text-red-600"})}),c.jsxs("div",{className:`relative inline-block transition-all md:transition-opacity ${P.id===(e==null?void 0:e.id)?"opacity-50":C===P.id?"opacity-100 visible":"md:opacity-0 md:invisible opacity-100 visible"}`,ref:De=>{L.current[P.id]=De},children:[c.jsx("button",{onClick:()=>E(N===P.id?null:P.id),className:"p-2 rounded-md hover:bg-gray-100 transition-colors",disabled:P.id===(e==null?void 0:e.id),title:P.id===(e==null?void 0:e.id)?"Cannot modify your own permissions":"Change user role",children:c.jsx(i1,{className:"h-5 w-5 text-gray-600"})}),N===P.id&&P.id!==(e==null?void 0:e.id)&&c.jsx("div",{className:"fixed mt-1 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-[100]",style:{top:((Se=L.current[P.id])==null?void 0:Se.getBoundingClientRect().bottom)??0,right:window.innerWidth-(((He=L.current[P.id])==null?void 0:He.getBoundingClientRect().right)??0)},children:c.jsxs("div",{className:"py-1",children:[c.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase border-b border-gray-200",children:"Change User Role"}),ae==="system-admin"&&c.jsxs(c.Fragment,{children:[P.roles.isSystemAdmin?c.jsxs("button",{onClick:()=>ie(P.id,!0),className:"w-full px-4 py-2 text-left flex items-center hover:bg-red-50 text-red-700",children:[c.jsx(sn,{className:"h-4 w-4 mr-3"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:"Remove System Admin"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Revoke global admin access"})]})]}):c.jsxs("button",{onClick:()=>ie(P.id,!1),className:"w-full px-4 py-2 text-left flex items-center hover:bg-purple-50 text-purple-700",children:[c.jsx(sn,{className:"h-4 w-4 mr-3"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:"Make System Admin"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Grant global admin access"})]})]}),jn(P,"session-admin")&&c.jsxs("button",{onClick:()=>wn(P,"session-admin"),className:"w-full px-4 py-2 text-left flex items-center hover:bg-[#E8EDF2] text-[#2D4660] border-t border-gray-200",children:[c.jsx(Wr,{className:"h-4 w-4 mr-3"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:"Make Session Admin"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Add to a session as admin"})]})]})]}),jn(P,"stakeholder")&&c.jsxs("button",{onClick:()=>wn(P,"stakeholder"),className:"w-full px-4 py-2 text-left flex items-center hover:bg-green-50 text-green-700 border-t border-gray-200",children:[c.jsx(kr,{className:"h-4 w-4 mr-3"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:"Make Stakeholder"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Add to a session as stakeholder"})]})]}),ae==="session-admin"&&P.stakeholderInSessions&&P.stakeholderInSessions.length>0&&P.stakeholderInSessions.some(De=>ee.includes(De.id))&&c.jsxs("button",{onClick:()=>wn(P,"remove-stakeholder"),className:"w-full px-4 py-2 text-left flex items-center hover:bg-red-50 text-red-700 border-t border-gray-200",children:[c.jsx(Ol,{className:"h-4 w-4 mr-3"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:"Remove Stakeholder"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Remove from a session you manage"})]})]}),(P.roles.isSystemAdmin||P.roles.sessionAdminCount>0||P.roles.stakeholderSessionCount>0)&&c.jsxs("button",{onClick:()=>we(P.id,P.name),className:"w-full px-4 py-2 text-left flex items-center hover:bg-gray-50 text-gray-700 border-t border-gray-200",children:[c.jsx(Ol,{className:"h-4 w-4 mr-3"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:"Remove All Roles"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Remove from all sessions"})]})]})]})})]})]})})]},P.id)})})]}),c.jsx("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200",children:c.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(ln,{className:"h-4 w-4 mr-2 text-gray-500"}),c.jsxs("span",{className:"text-gray-600",children:["Total Users: ",c.jsx("strong",{children:l.length})]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(sn,{className:"h-4 w-4 mr-2 text-purple-500"}),c.jsxs("span",{className:"text-gray-600",children:["System Admins: ",c.jsx("strong",{children:l.filter(P=>P.roles.isSystemAdmin).length})]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Wr,{className:"h-4 w-4 mr-2 text-[#2D4660]"}),c.jsxs("span",{className:"text-gray-600",children:["Session Admins: ",c.jsx("strong",{children:l.filter(P=>P.roles.sessionAdminCount>0).length})]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(kr,{className:"h-4 w-4 mr-2 text-green-500"}),c.jsxs("span",{className:"text-gray-600",children:["Stakeholders: ",c.jsx("strong",{children:l.filter(P=>P.roles.stakeholderSessionCount>0).length})]})]})]})})]}),c.jsx("div",{className:"md:hidden mt-4 bg-white rounded-lg shadow-md p-4",children:c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(ln,{className:"h-5 w-5 mr-2 text-gray-500 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-gray-500",children:"Total"}),c.jsx("div",{className:"text-lg font-bold text-gray-900",children:l.length})]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(sn,{className:"h-5 w-5 mr-2 text-purple-500 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-gray-500",children:"Sys Admins"}),c.jsx("div",{className:"text-lg font-bold text-gray-900",children:l.filter(P=>P.roles.isSystemAdmin).length})]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Wr,{className:"h-5 w-5 mr-2 text-[#2D4660] flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-gray-500",children:"Session Admins"}),c.jsx("div",{className:"text-lg font-bold text-gray-900",children:l.filter(P=>P.roles.sessionAdminCount>0).length})]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(kr,{className:"h-5 w-5 mr-2 text-green-500 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-gray-500",children:"Stakeholders"}),c.jsx("div",{className:"text-lg font-bold text-gray-900",children:l.filter(P=>P.roles.stakeholderSessionCount>0).length})]})]})]})}),(q||z)&&c.jsx("div",{className:"mt-8 flex justify-center",children:c.jsxs("div",{className:"inline-flex items-center bg-gray-100 rounded-lg p-1",children:[c.jsxs("button",{onClick:()=>{q&&xe("system-admin")},className:`px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center ${ae==="system-admin"?"bg-white text-[#2d4660] shadow-sm":"text-gray-600 hover:text-gray-900"}`,disabled:!q,title:q?"System Admin View":"Only available for System Admins",children:[c.jsx(sn,{className:"h-4 w-4 inline mr-2"}),"System Admin"]}),c.jsxs("button",{onClick:()=>{(z||q)&&xe("session-admin")},className:`px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center ${ae==="session-admin"?"bg-white text-[#2d4660] shadow-sm":"text-gray-600 hover:text-gray-900"}`,title:"Session Admin View",children:[c.jsx(Wr,{className:"h-4 w-4 inline mr-2"}),"Session Admin"]})]})})]}),c.jsx("footer",{className:"mt-12 bg-gray-50 border-t border-gray-200",children:c.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-6xl",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-sm text-gray-600",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"New Millennium Building Systems"}),c.jsxs("p",{className:"text-xs leading-relaxed",children:["A Steel Dynamics Company",c.jsx("br",{}),"Innovation in structural steel manufacturing"]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Quick Links"}),c.jsxs("ul",{className:"space-y-1 text-xs",children:[c.jsx("li",{children:c.jsx("a",{href:"https://www.steeldynamics.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[#2d4660] transition-colors",children:"Steel Dynamics Inc."})}),c.jsx("li",{children:c.jsx("a",{href:"https://www.newmill.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[#2d4660] transition-colors",children:"New Millennium"})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Need Help?"}),c.jsx("p",{className:"text-xs",children:"Contact your Product Owner or IT administrator for assistance with user management."})]})]}),c.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 text-center text-xs text-gray-500",children:c.jsx("p",{children:" 2025 New Millennium Building Systems, LLC. All rights reserved."})})]})}),le&&te&&M&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:c.jsxs("div",{className:"p-6",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:M==="session-admin"?"Add Session Admin":M==="remove-stakeholder"?"Remove Stakeholder":"Add Stakeholder"}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:M==="remove-stakeholder"?c.jsxs(c.Fragment,{children:["Select a session to remove ",c.jsx("strong",{children:te.name})," as a stakeholder."]}):c.jsxs(c.Fragment,{children:["Select a session to add ",c.jsx("strong",{children:te.name})," as ",M==="session-admin"?"an admin":"a stakeholder","."]})}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Choose Session"}),c.jsxs("select",{value:Me,onChange:P=>Je(P.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#2d4660] focus:border-transparent",children:[c.jsx("option",{value:"",children:"-- Select a session --"}),Mt(M).map(P=>{const se=P.title||P.name||P.session_name||"Unnamed Session",Se=P.created_at?new Date(P.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"",He=Se?`${se} (${Se})`:se;return c.jsx("option",{value:P.id,children:He},P.id)})]}),ne.length===0&&c.jsx("p",{className:"mt-2 text-sm text-red-500",children:"No sessions found in the system. Create a session first."}),ne.length>0&&Mt(M).length===0&&c.jsx("p",{className:"mt-2 text-sm text-gray-500",children:M==="remove-stakeholder"?"This user is not a stakeholder in any sessions you manage.":`This user is already ${M==="session-admin"?"an admin":"a stakeholder"} in all ${ne.length} session(s).`}),ne.length>0&&Mt(M).length>0&&c.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:[Mt(M).length," session(s) available"]})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:bn,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),c.jsx("button",{onClick:fi,disabled:!Me,className:`flex-1 px-4 py-2.5 rounded-lg transition-colors ${Me?M==="remove-stakeholder"?"bg-red-600 text-white hover:bg-red-700":"bg-[#4f6d8e] text-white hover:bg-[#3d5670]":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:M==="remove-stakeholder"?"Remove from Session":"Add to Session"})]})]})})}),oe&&Ee&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-start mb-4",children:[c.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-red-100 flex items-center justify-center",children:c.jsx(Ol,{className:"h-6 w-6 text-red-600"})}),c.jsxs("div",{className:"ml-4 flex-1",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:"Delete User Account"}),c.jsx("p",{className:"text-sm text-gray-600",children:"This action cannot be undone. Please review the details below."})]})]}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsx(kr,{className:"h-5 w-5 text-gray-400 mr-2"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:Ee.name}),c.jsx("div",{className:"text-sm text-gray-500",children:Ee.email})]})]}),c.jsxs("div",{className:"space-y-2 border-t border-gray-200 pt-3",children:[c.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Current Roles"}),Ee.roles.isSystemAdmin&&c.jsxs("div",{className:"flex items-center text-sm",children:[c.jsx(sn,{className:"h-4 w-4 mr-2 text-purple-500"}),c.jsx("span",{className:"text-gray-700",children:"System Admin"})]}),Ee.roles.sessionAdminCount>0&&c.jsxs("div",{className:"flex items-center text-sm",children:[c.jsx(Wr,{className:"h-4 w-4 mr-2 text-[#2D4660]"}),c.jsxs("span",{className:"text-gray-700",children:["Session Admin in ",Ee.roles.sessionAdminCount," session",Ee.roles.sessionAdminCount!==1?"s":""]})]}),Ee.roles.stakeholderSessionCount>0&&c.jsxs("div",{className:"flex items-center text-sm",children:[c.jsx(kr,{className:"h-4 w-4 mr-2 text-green-500"}),c.jsxs("span",{className:"text-gray-700",children:["Stakeholder in ",Ee.roles.stakeholderSessionCount," session",Ee.roles.stakeholderSessionCount!==1?"s":""]})]}),!Ee.roles.isSystemAdmin&&Ee.roles.sessionAdminCount===0&&Ee.roles.stakeholderSessionCount===0&&c.jsx("div",{className:"text-sm text-gray-500",children:"No roles assigned"})]})]}),Ee.adminInSessions&&Ee.adminInSessions.length>0||Ee.stakeholderInSessions&&Ee.stakeholderInSessions.length>0?c.jsxs("div",{className:"mb-4",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-2",children:"User will be removed from these sessions:"}),c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 max-h-48 overflow-y-auto",children:[Ee.adminInSessions&&Ee.adminInSessions.length>0&&c.jsxs("div",{className:"mb-3",children:[c.jsxs("div",{className:"text-xs font-semibold text-gray-600 mb-1.5 flex items-center",children:[c.jsx(Wr,{className:"h-3.5 w-3.5 mr-1.5 text-[#173B65]"}),"Admin Sessions (",Ee.adminInSessions.length,")"]}),c.jsx("div",{className:"space-y-1 ml-5",children:Ee.adminInSessions.map(P=>c.jsxs("div",{className:"text-sm text-gray-700",children:[" ",P.title||P.name||"Unnamed Session"]},P.id))})]}),Ee.stakeholderInSessions&&Ee.stakeholderInSessions.length>0&&c.jsxs("div",{children:[c.jsxs("div",{className:"text-xs font-semibold text-gray-600 mb-1.5 flex items-center",children:[c.jsx(kr,{className:"h-3.5 w-3.5 mr-1.5 text-green-600"}),"Stakeholder Sessions (",Ee.stakeholderInSessions.length,")"]}),c.jsx("div",{className:"space-y-1 ml-5",children:Ee.stakeholderInSessions.map(P=>c.jsxs("div",{className:"text-sm text-gray-700",children:[" ",P.title||P.name||"Unnamed Session"]},P.id))})]})]})]}):null,c.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("svg",{className:"h-5 w-5 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Warning: This action is permanent"}),c.jsx("div",{className:"mt-1 text-sm text-yellow-700",children:c.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[c.jsx("li",{children:"User account will be permanently deleted"}),c.jsx("li",{children:"All authentication access will be revoked"}),c.jsx("li",{children:"User will be removed from all sessions"}),c.jsx("li",{children:"This action cannot be undone"})]})})]})]})}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:$e,disabled:Nt,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),c.jsx("button",{onClick:qe,disabled:Nt,className:"flex-1 px-4 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:Nt?c.jsxs(c.Fragment,{children:[c.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Deleting..."]}):"Delete User Permanently"})]})]})})}),K&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",onClick:Tt,children:c.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full my-8",onClick:P=>P.stopPropagation(),children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-start mb-6",children:[c.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-green-100 flex items-center justify-center",children:c.jsx(ln,{className:"h-6 w-6 text-green-600"})}),c.jsxs("div",{className:"ml-4 flex-1",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:"Add New User"}),c.jsx("p",{className:"text-sm text-gray-600",children:ae==="session-admin"?"Create a new user account and add as stakeholder to your sessions":"Create a new user account and assign roles"})]}),c.jsx("button",{onClick:Tt,disabled:ge,className:"flex-shrink-0 ml-4 p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Close modal",children:c.jsx(Si,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Full Name ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",value:G.name,onChange:P=>ve({...G,name:P.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#2D4660] focus:border-transparent",placeholder:"John Doe"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email Address ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"email",value:G.email,onChange:P=>ve({...G,email:P.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#2D4660] focus:border-transparent",placeholder:"john.doe@newmill.com"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Temporary Password ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:G.password,onChange:P=>ve({...G,password:P.target.value}),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#2D4660] focus:border-transparent font-mono text-sm",placeholder:"Auto-generated password"}),c.jsx("button",{onClick:()=>ve({...G,password:nt()}),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors whitespace-nowrap",children:"Regenerate"})]}),c.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Save this password to share with the user securely"})]}),ae==="system-admin"&&c.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[c.jsxs("button",{type:"button",onClick:()=>rt({...Fe,systemAdmin:!Fe.systemAdmin}),className:"w-full flex items-center justify-between py-2 hover:bg-gray-50 rounded-lg px-2 -ml-2 transition-colors",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(sn,{className:"h-4 w-4 mr-2 text-purple-500"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"System Administrator"})]}),c.jsx(Gl,{className:`h-4 w-4 text-gray-500 transition-transform ${Fe.systemAdmin?"rotate-180":""}`})]}),Fe.systemAdmin&&c.jsxs("div",{className:"mt-3 ml-6 space-y-3",children:[c.jsxs("label",{className:"flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:G.isSystemAdmin,onChange:P=>ve({...G,isSystemAdmin:P.target.checked}),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),c.jsx("span",{className:"ml-3 text-sm text-gray-700",children:"Grant system administrator privileges"})]}),c.jsx("p",{className:"text-xs text-gray-500",children:"Full access to all sessions and user management"})]})]}),ae==="system-admin"&&c.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[c.jsxs("button",{type:"button",onClick:()=>rt({...Fe,sessionAdmin:!Fe.sessionAdmin}),className:"w-full flex items-center justify-between py-2 hover:bg-gray-50 rounded-lg px-2 -ml-2 transition-colors",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Wr,{className:"h-4 w-4 mr-2 text-[#2D4660]"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Session Admin"}),G.sessionAdminIds.length>0&&c.jsx("span",{className:"ml-2 px-2 py-0.5 bg-[#E8EDF2] text-[#173B65] text-xs rounded-full",children:G.sessionAdminIds.length})]}),c.jsx(Gl,{className:`h-4 w-4 text-gray-500 transition-transform ${Fe.sessionAdmin?"rotate-180":""}`})]}),Fe.sessionAdmin&&c.jsxs("div",{className:"mt-3 ml-6 space-y-3",children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Select sessions where this user will be an admin"}),ne.length===0?c.jsx("p",{className:"text-sm text-gray-400",children:"No sessions available"}):c.jsx("div",{className:"max-h-40 overflow-y-auto border border-gray-200 rounded-lg",children:ne.map(P=>c.jsxs("label",{className:"flex items-center px-3 py-2 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",children:[c.jsx("input",{type:"checkbox",checked:G.sessionAdminIds.includes(P.id),onChange:()=>Re(P.id),className:"w-4 h-4 text-[#173B65] border-gray-300 rounded focus:ring-[#2D4660]"}),c.jsx("span",{className:"ml-3 text-sm text-gray-700",children:P.title||P.name||"Unnamed Session"})]},P.id))})]})]}),ae==="session-admin"?c.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsx(kr,{className:"h-4 w-4 mr-2 text-green-500"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add as Stakeholder"}),G.stakeholderSessionIds.length>0&&c.jsx("span",{className:"ml-2 px-2 py-0.5 bg-green-100 text-green-700 text-xs rounded-full",children:G.stakeholderSessionIds.length})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Select sessions where this user will be a stakeholder (voting access)"}),ne.length===0?c.jsx("p",{className:"text-sm text-gray-400",children:"No sessions available"}):c.jsx("div",{className:"max-h-40 overflow-y-auto border border-gray-200 rounded-lg",children:ne.map(P=>c.jsxs("label",{className:"flex items-center px-3 py-2 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",children:[c.jsx("input",{type:"checkbox",checked:G.stakeholderSessionIds.includes(P.id),onChange:()=>_n(P.id),className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-[#2D4660]"}),c.jsx("span",{className:"ml-3 text-sm text-gray-700",children:P.title||P.name||"Unnamed Session"})]},P.id))})]})]}):c.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[c.jsxs("button",{type:"button",onClick:()=>rt({...Fe,stakeholder:!Fe.stakeholder}),className:"w-full flex items-center justify-between py-2 hover:bg-gray-50 rounded-lg px-2 -ml-2 transition-colors",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(kr,{className:"h-4 w-4 mr-2 text-green-500"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Stakeholder"}),G.stakeholderSessionIds.length>0&&c.jsx("span",{className:"ml-2 px-2 py-0.5 bg-green-100 text-green-700 text-xs rounded-full",children:G.stakeholderSessionIds.length})]}),c.jsx(Gl,{className:`h-4 w-4 text-gray-500 transition-transform ${Fe.stakeholder?"rotate-180":""}`})]}),Fe.stakeholder&&c.jsxs("div",{className:"mt-3 ml-6 space-y-3",children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Select sessions where this user will be a stakeholder (voting access)"}),ne.length===0?c.jsx("p",{className:"text-sm text-gray-400",children:"No sessions available"}):c.jsx("div",{className:"max-h-40 overflow-y-auto border border-gray-200 rounded-lg",children:ne.map(P=>c.jsxs("label",{className:"flex items-center px-3 py-2 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",children:[c.jsx("input",{type:"checkbox",checked:G.stakeholderSessionIds.includes(P.id),onChange:()=>_n(P.id),className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-[#2D4660]"}),c.jsx("span",{className:"ml-3 text-sm text-gray-700",children:P.title||P.name||"Unnamed Session"})]},P.id))})]})]})]}),c.jsxs("div",{className:"flex gap-3 mt-6 pt-6 border-t border-gray-200",children:[c.jsx("button",{onClick:Tt,disabled:ge,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),c.jsx("button",{onClick:bt,disabled:ge||!G.name.trim()||!G.email.trim()||!G.password.trim(),className:"flex-1 px-4 py-2.5 bg-[#2D4660] text-white rounded-lg hover:bg-[#173B65] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:ge?c.jsxs(c.Fragment,{children:[c.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating User..."]}):"Create User"})]})]})})})]}):null}const FK=""+new URL("bottom-left-curve-T4fflHT3.png",import.meta.url).href,UK=()=>c.jsx("div",{className:"fixed bottom-0 left-0 pointer-events-none z-0",children:c.jsx("img",{src:FK,alt:"",style:{maxWidth:"600px",height:"auto",opacity:.2}})});function zK(){return c.jsxs(FD,{children:[c.jsx(UK,{}),c.jsx(KT,{basename:"/feature-voting-app",children:c.jsxs(_T,{children:[c.jsx(en,{path:"/",element:c.jsx(wT,{to:"/login",replace:!0})}),c.jsx(en,{path:"/login",element:c.jsx(MR,{})}),c.jsx(en,{path:"/sessions",element:c.jsx(TK,{})}),c.jsx(en,{path:"/create-session",element:c.jsx(IK,{})}),c.jsx(en,{path:"/manage-stakeholders",element:c.jsx(DK,{})}),c.jsx(en,{path:"/manage-admins",element:c.jsx(RK,{})}),c.jsx(en,{path:"/vote",element:c.jsx(Mg,{adminMode:!1})}),c.jsx(en,{path:"/admin",element:c.jsx(Mg,{adminMode:!0})}),c.jsx(en,{path:"/results",element:c.jsx(Mg,{resultsMode:!0})}),c.jsx(en,{path:"/unauthorized",element:c.jsx(MK,{})}),c.jsx(en,{path:"/system-admins",element:c.jsx($K,{})}),c.jsx(en,{path:"/users",element:c.jsx(LK,{})})]})})]})}OO.createRoot(document.getElementById("root")).render(c.jsx(Qe.StrictMode,{children:c.jsx(zK,{})}));
