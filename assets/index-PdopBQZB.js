var l2=Object.defineProperty;var u2=(e,t,r)=>t in e?l2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var hm=(e,t,r)=>u2(e,typeof t!="symbol"?t+"":t,r);function c2(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function Dn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function d2(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var mm={exports:{}},fl={},pm={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hw;function f2(){if(Hw)return He;Hw=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function g(M){return M===null||typeof M!="object"?null:(M=p&&M[p]||M["@@iterator"],typeof M=="function"?M:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,b={};function x(M,I,ee){this.props=M,this.context=I,this.refs=b,this.updater=ee||w}x.prototype.isReactComponent={},x.prototype.setState=function(M,I){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,I,"setState")},x.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function k(){}k.prototype=x.prototype;function E(M,I,ee){this.props=M,this.context=I,this.refs=b,this.updater=ee||w}var N=E.prototype=new k;N.constructor=E,S(N,x.prototype),N.isPureReactComponent=!0;var P=Array.isArray,O=Object.prototype.hasOwnProperty,T={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function H(M,I,ee){var be,de={},je=null,Me=null;if(I!=null)for(be in I.ref!==void 0&&(Me=I.ref),I.key!==void 0&&(je=""+I.key),I)O.call(I,be)&&!L.hasOwnProperty(be)&&(de[be]=I[be]);var qe=arguments.length-2;if(qe===1)de.children=ee;else if(1<qe){for(var oe=Array(qe),Ae=0;Ae<qe;Ae++)oe[Ae]=arguments[Ae+2];de.children=oe}if(M&&M.defaultProps)for(be in qe=M.defaultProps,qe)de[be]===void 0&&(de[be]=qe[be]);return{$$typeof:e,type:M,key:je,ref:Me,props:de,_owner:T.current}}function V(M,I){return{$$typeof:e,type:M.type,key:I,ref:M.ref,props:M.props,_owner:M._owner}}function F(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function B(M){var I={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ee){return I[ee]})}var U=/\/+/g;function Q(M,I){return typeof M=="object"&&M!==null&&M.key!=null?B(""+M.key):I.toString(36)}function G(M,I,ee,be,de){var je=typeof M;(je==="undefined"||je==="boolean")&&(M=null);var Me=!1;if(M===null)Me=!0;else switch(je){case"string":case"number":Me=!0;break;case"object":switch(M.$$typeof){case e:case t:Me=!0}}if(Me)return Me=M,de=de(Me),M=be===""?"."+Q(Me,0):be,P(de)?(ee="",M!=null&&(ee=M.replace(U,"$&/")+"/"),G(de,I,ee,"",function(Ae){return Ae})):de!=null&&(F(de)&&(de=V(de,ee+(!de.key||Me&&Me.key===de.key?"":(""+de.key).replace(U,"$&/")+"/")+M)),I.push(de)),1;if(Me=0,be=be===""?".":be+":",P(M))for(var qe=0;qe<M.length;qe++){je=M[qe];var oe=be+Q(je,qe);Me+=G(je,I,ee,oe,de)}else if(oe=g(M),typeof oe=="function")for(M=oe.call(M),qe=0;!(je=M.next()).done;)je=je.value,oe=be+Q(je,qe++),Me+=G(je,I,ee,oe,de);else if(je==="object")throw I=String(M),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.");return Me}function he(M,I,ee){if(M==null)return M;var be=[],de=0;return G(M,be,"","",function(je){return I.call(ee,je,de++)}),be}function we(M){if(M._status===-1){var I=M._result;I=I(),I.then(function(ee){(M._status===0||M._status===-1)&&(M._status=1,M._result=ee)},function(ee){(M._status===0||M._status===-1)&&(M._status=2,M._result=ee)}),M._status===-1&&(M._status=0,M._result=I)}if(M._status===1)return M._result.default;throw M._result}var pe={current:null},Z={transition:null},re={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:Z,ReactCurrentOwner:T};function se(){throw Error("act(...) is not supported in production builds of React.")}return He.Children={map:he,forEach:function(M,I,ee){he(M,function(){I.apply(this,arguments)},ee)},count:function(M){var I=0;return he(M,function(){I++}),I},toArray:function(M){return he(M,function(I){return I})||[]},only:function(M){if(!F(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},He.Component=x,He.Fragment=r,He.Profiler=i,He.PureComponent=E,He.StrictMode=n,He.Suspense=d,He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,He.act=se,He.cloneElement=function(M,I,ee){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var be=S({},M.props),de=M.key,je=M.ref,Me=M._owner;if(I!=null){if(I.ref!==void 0&&(je=I.ref,Me=T.current),I.key!==void 0&&(de=""+I.key),M.type&&M.type.defaultProps)var qe=M.type.defaultProps;for(oe in I)O.call(I,oe)&&!L.hasOwnProperty(oe)&&(be[oe]=I[oe]===void 0&&qe!==void 0?qe[oe]:I[oe])}var oe=arguments.length-2;if(oe===1)be.children=ee;else if(1<oe){qe=Array(oe);for(var Ae=0;Ae<oe;Ae++)qe[Ae]=arguments[Ae+2];be.children=qe}return{$$typeof:e,type:M.type,key:de,ref:je,props:be,_owner:Me}},He.createContext=function(M){return M={$$typeof:l,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:a,_context:M},M.Consumer=M},He.createElement=H,He.createFactory=function(M){var I=H.bind(null,M);return I.type=M,I},He.createRef=function(){return{current:null}},He.forwardRef=function(M){return{$$typeof:u,render:M}},He.isValidElement=F,He.lazy=function(M){return{$$typeof:h,_payload:{_status:-1,_result:M},_init:we}},He.memo=function(M,I){return{$$typeof:m,type:M,compare:I===void 0?null:I}},He.startTransition=function(M){var I=Z.transition;Z.transition={};try{M()}finally{Z.transition=I}},He.unstable_act=se,He.useCallback=function(M,I){return pe.current.useCallback(M,I)},He.useContext=function(M){return pe.current.useContext(M)},He.useDebugValue=function(){},He.useDeferredValue=function(M){return pe.current.useDeferredValue(M)},He.useEffect=function(M,I){return pe.current.useEffect(M,I)},He.useId=function(){return pe.current.useId()},He.useImperativeHandle=function(M,I,ee){return pe.current.useImperativeHandle(M,I,ee)},He.useInsertionEffect=function(M,I){return pe.current.useInsertionEffect(M,I)},He.useLayoutEffect=function(M,I){return pe.current.useLayoutEffect(M,I)},He.useMemo=function(M,I){return pe.current.useMemo(M,I)},He.useReducer=function(M,I,ee){return pe.current.useReducer(M,I,ee)},He.useRef=function(M){return pe.current.useRef(M)},He.useState=function(M){return pe.current.useState(M)},He.useSyncExternalStore=function(M,I,ee){return pe.current.useSyncExternalStore(M,I,ee)},He.useTransition=function(){return pe.current.useTransition()},He.version="18.3.1",He}var Yw;function vo(){return Yw||(Yw=1,pm.exports=f2()),pm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gw;function h2(){if(Gw)return fl;Gw=1;var e=vo(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,m){var h,p={},g=null,w=null;m!==void 0&&(g=""+m),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(w=d.ref);for(h in d)n.call(d,h)&&!a.hasOwnProperty(h)&&(p[h]=d[h]);if(u&&u.defaultProps)for(h in d=u.defaultProps,d)p[h]===void 0&&(p[h]=d[h]);return{$$typeof:t,type:u,key:g,ref:w,props:p,_owner:i.current}}return fl.Fragment=r,fl.jsx=l,fl.jsxs=l,fl}var Jw;function m2(){return Jw||(Jw=1,mm.exports=h2()),mm.exports}var f=m2(),j=vo();const Ve=Dn(j),p2=c2({__proto__:null,default:Ve},[j]);var Sc={},vm={exports:{}},Or={},gm={exports:{}},ym={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xw;function v2(){return Xw||(Xw=1,(function(e){function t(Z,re){var se=Z.length;Z.push(re);e:for(;0<se;){var M=se-1>>>1,I=Z[M];if(0<i(I,re))Z[M]=re,Z[se]=I,se=M;else break e}}function r(Z){return Z.length===0?null:Z[0]}function n(Z){if(Z.length===0)return null;var re=Z[0],se=Z.pop();if(se!==re){Z[0]=se;e:for(var M=0,I=Z.length,ee=I>>>1;M<ee;){var be=2*(M+1)-1,de=Z[be],je=be+1,Me=Z[je];if(0>i(de,se))je<I&&0>i(Me,de)?(Z[M]=Me,Z[je]=se,M=je):(Z[M]=de,Z[be]=se,M=be);else if(je<I&&0>i(Me,se))Z[M]=Me,Z[je]=se,M=je;else break e}}return re}function i(Z,re){var se=Z.sortIndex-re.sortIndex;return se!==0?se:Z.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],m=[],h=1,p=null,g=3,w=!1,S=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(Z){for(var re=r(m);re!==null;){if(re.callback===null)n(m);else if(re.startTime<=Z)n(m),re.sortIndex=re.expirationTime,t(d,re);else break;re=r(m)}}function P(Z){if(b=!1,N(Z),!S)if(r(d)!==null)S=!0,we(O);else{var re=r(m);re!==null&&pe(P,re.startTime-Z)}}function O(Z,re){S=!1,b&&(b=!1,k(H),H=-1),w=!0;var se=g;try{for(N(re),p=r(d);p!==null&&(!(p.expirationTime>re)||Z&&!B());){var M=p.callback;if(typeof M=="function"){p.callback=null,g=p.priorityLevel;var I=M(p.expirationTime<=re);re=e.unstable_now(),typeof I=="function"?p.callback=I:p===r(d)&&n(d),N(re)}else n(d);p=r(d)}if(p!==null)var ee=!0;else{var be=r(m);be!==null&&pe(P,be.startTime-re),ee=!1}return ee}finally{p=null,g=se,w=!1}}var T=!1,L=null,H=-1,V=5,F=-1;function B(){return!(e.unstable_now()-F<V)}function U(){if(L!==null){var Z=e.unstable_now();F=Z;var re=!0;try{re=L(!0,Z)}finally{re?Q():(T=!1,L=null)}}else T=!1}var Q;if(typeof E=="function")Q=function(){E(U)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,he=G.port2;G.port1.onmessage=U,Q=function(){he.postMessage(null)}}else Q=function(){x(U,0)};function we(Z){L=Z,T||(T=!0,Q())}function pe(Z,re){H=x(function(){Z(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_continueExecution=function(){S||w||(S=!0,we(O))},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(Z){switch(g){case 1:case 2:case 3:var re=3;break;default:re=g}var se=g;g=re;try{return Z()}finally{g=se}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Z,re){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var se=g;g=Z;try{return re()}finally{g=se}},e.unstable_scheduleCallback=function(Z,re,se){var M=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?M+se:M):se=M,Z){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=se+I,Z={id:h++,callback:re,priorityLevel:Z,startTime:se,expirationTime:I,sortIndex:-1},se>M?(Z.sortIndex=se,t(m,Z),r(d)===null&&Z===r(m)&&(b?(k(H),H=-1):b=!0,pe(P,se-M))):(Z.sortIndex=I,t(d,Z),S||w||(S=!0,we(O))),Z},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(Z){var re=g;return function(){var se=g;g=re;try{return Z.apply(this,arguments)}finally{g=se}}}})(ym)),ym}var Qw;function g2(){return Qw||(Qw=1,gm.exports=v2()),gm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zw;function y2(){if(Zw)return Or;Zw=1;var e=vo(),t=g2();function r(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)n.add(o[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function g(s){return d.call(p,s)?!0:d.call(h,s)?!1:m.test(s)?p[s]=!0:(h[s]=!0,!1)}function w(s,o,c,v){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return v?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,o,c,v){if(o===null||typeof o>"u"||w(s,o,c,v))return!0;if(v)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function b(s,o,c,v,y,_,A){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=v,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=s,this.type=o,this.sanitizeURL=_,this.removeEmptyString=A}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){x[s]=new b(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];x[o]=new b(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){x[s]=new b(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){x[s]=new b(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){x[s]=new b(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){x[s]=new b(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){x[s]=new b(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){x[s]=new b(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){x[s]=new b(s,5,!1,s.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function E(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(k,E);x[o]=new b(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(k,E);x[o]=new b(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(k,E);x[o]=new b(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){x[s]=new b(s,1,!1,s.toLowerCase(),null,!1,!1)}),x.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){x[s]=new b(s,1,!1,s.toLowerCase(),null,!0,!0)});function N(s,o,c,v){var y=x.hasOwnProperty(o)?x[o]:null;(y!==null?y.type!==0:v||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(S(o,c,y,v)&&(c=null),v||y===null?g(o)&&(c===null?s.removeAttribute(o):s.setAttribute(o,""+c)):y.mustUseProperty?s[y.propertyName]=c===null?y.type===3?!1:"":c:(o=y.attributeName,v=y.attributeNamespace,c===null?s.removeAttribute(o):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,v?s.setAttributeNS(v,o,c):s.setAttribute(o,c))))}var P=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),T=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),B=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),pe=Symbol.for("react.offscreen"),Z=Symbol.iterator;function re(s){return s===null||typeof s!="object"?null:(s=Z&&s[Z]||s["@@iterator"],typeof s=="function"?s:null)}var se=Object.assign,M;function I(s){if(M===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);M=o&&o[1]||""}return`
`+M+s}var ee=!1;function be(s,o){if(!s||ee)return"";ee=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(K){var v=K}Reflect.construct(s,[],o)}else{try{o.call()}catch(K){v=K}s.call(o.prototype)}else{try{throw Error()}catch(K){v=K}s()}}catch(K){if(K&&v&&typeof K.stack=="string"){for(var y=K.stack.split(`
`),_=v.stack.split(`
`),A=y.length-1,C=_.length-1;1<=A&&0<=C&&y[A]!==_[C];)C--;for(;1<=A&&0<=C;A--,C--)if(y[A]!==_[C]){if(A!==1||C!==1)do if(A--,C--,0>C||y[A]!==_[C]){var R=`
`+y[A].replace(" at new "," at ");return s.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",s.displayName)),R}while(1<=A&&0<=C);break}}}finally{ee=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?I(s):""}function de(s){switch(s.tag){case 5:return I(s.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return s=be(s.type,!1),s;case 11:return s=be(s.type.render,!1),s;case 1:return s=be(s.type,!0),s;default:return""}}function je(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case L:return"Fragment";case T:return"Portal";case V:return"Profiler";case H:return"StrictMode";case Q:return"Suspense";case G:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case B:return(s.displayName||"Context")+".Consumer";case F:return(s._context.displayName||"Context")+".Provider";case U:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case he:return o=s.displayName||null,o!==null?o:je(s.type)||"Memo";case we:o=s._payload,s=s._init;try{return je(s(o))}catch{}}return null}function Me(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(o);case 8:return o===H?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function qe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function oe(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ae(s){var o=oe(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),v=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,_=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return y.call(this)},set:function(A){v=""+A,_.call(this,A)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return v},setValue:function(A){v=""+A},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function te(s){s._valueTracker||(s._valueTracker=Ae(s))}function X(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),v="";return s&&(v=oe(s)?s.checked?"true":"false":s.value),s=v,s!==c?(o.setValue(s),!0):!1}function Ye(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function We(s,o){var c=o.checked;return se({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function Pt(s,o){var c=o.defaultValue==null?"":o.defaultValue,v=o.checked!=null?o.checked:o.defaultChecked;c=qe(o.value!=null?o.value:c),s._wrapperState={initialChecked:v,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function vt(s,o){o=o.checked,o!=null&&N(s,"checked",o,!1)}function Mt(s,o){vt(s,o);var c=qe(o.value),v=o.type;if(c!=null)v==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(v==="submit"||v==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?Mr(s,o.type,c):o.hasOwnProperty("defaultValue")&&Mr(s,o.type,qe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Fn(s,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var v=o.type;if(!(v!=="submit"&&v!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,c||o===s.value||(s.value=o),s.defaultValue=o}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function Mr(s,o,c){(o!=="number"||Ye(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var zn=Array.isArray;function ur(s,o,c,v){if(s=s.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<s.length;c++)y=o.hasOwnProperty("$"+s[c].value),s[c].selected!==y&&(s[c].selected=y),y&&v&&(s[c].defaultSelected=!0)}else{for(c=""+qe(c),o=null,y=0;y<s.length;y++){if(s[y].value===c){s[y].selected=!0,v&&(s[y].defaultSelected=!0);return}o!==null||s[y].disabled||(o=s[y])}o!==null&&(o.selected=!0)}}function D(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(r(91));return se({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function W(s,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(r(92));if(zn(c)){if(1<c.length)throw Error(r(93));c=c[0]}o=c}o==null&&(o=""),c=o}s._wrapperState={initialValue:qe(c)}}function J(s,o){var c=qe(o.value),v=qe(o.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),o.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),v!=null&&(s.defaultValue=""+v)}function me(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function fe(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?fe(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ye,Ke=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,v,y){MSApp.execUnsafeLocalFunction(function(){return s(o,c,v,y)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(ye=ye||document.createElement("div"),ye.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ye.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function et(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var dt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fa=["Webkit","ms","Moz","O"];Object.keys(dt).forEach(function(s){fa.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),dt[o]=dt[s]})});function Zn(s,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||dt.hasOwnProperty(s)&&dt[s]?(""+o).trim():o+"px"}function ei(s,o){s=s.style;for(var c in o)if(o.hasOwnProperty(c)){var v=c.indexOf("--")===0,y=Zn(c,o[c],v);c==="float"&&(c="cssFloat"),v?s.setProperty(c,y):s[c]=y}}var Co=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ti(s,o){if(o){if(Co[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(r(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(r(61))}if(o.style!=null&&typeof o.style!="object")throw Error(r(62))}}function xs(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ri=null;function ha(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var To=null,ni=null,$i=null;function ne(s){if(s=Xo(s)){if(typeof To!="function")throw Error(r(280));var o=s.stateNode;o&&(o=Lu(o),To(s.stateNode,s.type,o))}}function ge(s){ni?$i?$i.push(s):$i=[s]:ni=s}function Be(){if(ni){var s=ni,o=$i;if($i=ni=null,ne(s),o)for(s=0;s<o.length;s++)ne(o[s])}}function Le(s,o){return s(o)}function Ce(){}var ke=!1;function tr(s,o,c){if(ke)return s(o,c);ke=!0;try{return Le(s,o,c)}finally{ke=!1,(ni!==null||$i!==null)&&(Ce(),Be())}}function Ze(s,o){var c=s.stateNode;if(c===null)return null;var v=Lu(c);if(v===null)return null;c=v[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(s=s.type,v=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!v;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var wt=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){wt=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch{wt=!1}function ii(s,o,c,v,y,_,A,C,R){var K=Array.prototype.slice.call(arguments,3);try{o.apply(c,K)}catch(ae){this.onError(ae)}}var xn=!1,Li=null,cr=!1,ws=null,pO={onError:function(s){xn=!0,Li=s}};function vO(s,o,c,v,y,_,A,C,R){xn=!1,Li=null,ii.apply(pO,arguments)}function gO(s,o,c,v,y,_,A,C,R){if(vO.apply(this,arguments),xn){if(xn){var K=Li;xn=!1,Li=null}else throw Error(r(198));cr||(cr=!0,ws=K)}}function bs(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function v0(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function g0(s){if(bs(s)!==s)throw Error(r(188))}function yO(s){var o=s.alternate;if(!o){if(o=bs(s),o===null)throw Error(r(188));return o!==s?null:s}for(var c=s,v=o;;){var y=c.return;if(y===null)break;var _=y.alternate;if(_===null){if(v=y.return,v!==null){c=v;continue}break}if(y.child===_.child){for(_=y.child;_;){if(_===c)return g0(y),s;if(_===v)return g0(y),o;_=_.sibling}throw Error(r(188))}if(c.return!==v.return)c=y,v=_;else{for(var A=!1,C=y.child;C;){if(C===c){A=!0,c=y,v=_;break}if(C===v){A=!0,v=y,c=_;break}C=C.sibling}if(!A){for(C=_.child;C;){if(C===c){A=!0,c=_,v=y;break}if(C===v){A=!0,v=_,c=y;break}C=C.sibling}if(!A)throw Error(r(189))}}if(c.alternate!==v)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?s:o}function y0(s){return s=yO(s),s!==null?x0(s):null}function x0(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=x0(s);if(o!==null)return o;s=s.sibling}return null}var w0=t.unstable_scheduleCallback,b0=t.unstable_cancelCallback,xO=t.unstable_shouldYield,wO=t.unstable_requestPaint,jt=t.unstable_now,bO=t.unstable_getCurrentPriorityLevel,If=t.unstable_ImmediatePriority,_0=t.unstable_UserBlockingPriority,yu=t.unstable_NormalPriority,_O=t.unstable_LowPriority,S0=t.unstable_IdlePriority,xu=null,Un=null;function SO(s){if(Un&&typeof Un.onCommitFiberRoot=="function")try{Un.onCommitFiberRoot(xu,s,void 0,(s.current.flags&128)===128)}catch{}}var wn=Math.clz32?Math.clz32:EO,jO=Math.log,kO=Math.LN2;function EO(s){return s>>>=0,s===0?32:31-(jO(s)/kO|0)|0}var wu=64,bu=4194304;function Io(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function _u(s,o){var c=s.pendingLanes;if(c===0)return 0;var v=0,y=s.suspendedLanes,_=s.pingedLanes,A=c&268435455;if(A!==0){var C=A&~y;C!==0?v=Io(C):(_&=A,_!==0&&(v=Io(_)))}else A=c&~y,A!==0?v=Io(A):_!==0&&(v=Io(_));if(v===0)return 0;if(o!==0&&o!==v&&(o&y)===0&&(y=v&-v,_=o&-o,y>=_||y===16&&(_&4194240)!==0))return o;if((v&4)!==0&&(v|=c&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=v;0<o;)c=31-wn(o),y=1<<c,v|=s[c],o&=~y;return v}function NO(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AO(s,o){for(var c=s.suspendedLanes,v=s.pingedLanes,y=s.expirationTimes,_=s.pendingLanes;0<_;){var A=31-wn(_),C=1<<A,R=y[A];R===-1?((C&c)===0||(C&v)!==0)&&(y[A]=NO(C,o)):R<=o&&(s.expiredLanes|=C),_&=~C}}function Df(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function j0(){var s=wu;return wu<<=1,(wu&4194240)===0&&(wu=64),s}function Rf(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function Do(s,o,c){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-wn(o),s[o]=c}function PO(s,o){var c=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var v=s.eventTimes;for(s=s.expirationTimes;0<c;){var y=31-wn(c),_=1<<y;o[y]=0,v[y]=-1,s[y]=-1,c&=~_}}function Mf(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var v=31-wn(c),y=1<<v;y&o|s[v]&o&&(s[v]|=o),c&=~y}}var tt=0;function k0(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var E0,$f,N0,A0,P0,Lf=!1,Su=[],Fi=null,zi=null,Ui=null,Ro=new Map,Mo=new Map,Bi=[],OO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function O0(s,o){switch(s){case"focusin":case"focusout":Fi=null;break;case"dragenter":case"dragleave":zi=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":Ro.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mo.delete(o.pointerId)}}function $o(s,o,c,v,y,_){return s===null||s.nativeEvent!==_?(s={blockedOn:o,domEventName:c,eventSystemFlags:v,nativeEvent:_,targetContainers:[y]},o!==null&&(o=Xo(o),o!==null&&$f(o)),s):(s.eventSystemFlags|=v,o=s.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),s)}function CO(s,o,c,v,y){switch(o){case"focusin":return Fi=$o(Fi,s,o,c,v,y),!0;case"dragenter":return zi=$o(zi,s,o,c,v,y),!0;case"mouseover":return Ui=$o(Ui,s,o,c,v,y),!0;case"pointerover":var _=y.pointerId;return Ro.set(_,$o(Ro.get(_)||null,s,o,c,v,y)),!0;case"gotpointercapture":return _=y.pointerId,Mo.set(_,$o(Mo.get(_)||null,s,o,c,v,y)),!0}return!1}function C0(s){var o=_s(s.target);if(o!==null){var c=bs(o);if(c!==null){if(o=c.tag,o===13){if(o=v0(c),o!==null){s.blockedOn=o,P0(s.priority,function(){N0(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ju(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=zf(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var v=new c.constructor(c.type,c);ri=v,c.target.dispatchEvent(v),ri=null}else return o=Xo(c),o!==null&&$f(o),s.blockedOn=c,!1;o.shift()}return!0}function T0(s,o,c){ju(s)&&c.delete(o)}function TO(){Lf=!1,Fi!==null&&ju(Fi)&&(Fi=null),zi!==null&&ju(zi)&&(zi=null),Ui!==null&&ju(Ui)&&(Ui=null),Ro.forEach(T0),Mo.forEach(T0)}function Lo(s,o){s.blockedOn===o&&(s.blockedOn=null,Lf||(Lf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,TO)))}function Fo(s){function o(y){return Lo(y,s)}if(0<Su.length){Lo(Su[0],s);for(var c=1;c<Su.length;c++){var v=Su[c];v.blockedOn===s&&(v.blockedOn=null)}}for(Fi!==null&&Lo(Fi,s),zi!==null&&Lo(zi,s),Ui!==null&&Lo(Ui,s),Ro.forEach(o),Mo.forEach(o),c=0;c<Bi.length;c++)v=Bi[c],v.blockedOn===s&&(v.blockedOn=null);for(;0<Bi.length&&(c=Bi[0],c.blockedOn===null);)C0(c),c.blockedOn===null&&Bi.shift()}var ma=P.ReactCurrentBatchConfig,ku=!0;function IO(s,o,c,v){var y=tt,_=ma.transition;ma.transition=null;try{tt=1,Ff(s,o,c,v)}finally{tt=y,ma.transition=_}}function DO(s,o,c,v){var y=tt,_=ma.transition;ma.transition=null;try{tt=4,Ff(s,o,c,v)}finally{tt=y,ma.transition=_}}function Ff(s,o,c,v){if(ku){var y=zf(s,o,c,v);if(y===null)nh(s,o,v,Eu,c),O0(s,v);else if(CO(y,s,o,c,v))v.stopPropagation();else if(O0(s,v),o&4&&-1<OO.indexOf(s)){for(;y!==null;){var _=Xo(y);if(_!==null&&E0(_),_=zf(s,o,c,v),_===null&&nh(s,o,v,Eu,c),_===y)break;y=_}y!==null&&v.stopPropagation()}else nh(s,o,v,null,c)}}var Eu=null;function zf(s,o,c,v){if(Eu=null,s=ha(v),s=_s(s),s!==null)if(o=bs(s),o===null)s=null;else if(c=o.tag,c===13){if(s=v0(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Eu=s,null}function I0(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bO()){case If:return 1;case _0:return 4;case yu:case _O:return 16;case S0:return 536870912;default:return 16}default:return 16}}var Vi=null,Uf=null,Nu=null;function D0(){if(Nu)return Nu;var s,o=Uf,c=o.length,v,y="value"in Vi?Vi.value:Vi.textContent,_=y.length;for(s=0;s<c&&o[s]===y[s];s++);var A=c-s;for(v=1;v<=A&&o[c-v]===y[_-v];v++);return Nu=y.slice(s,1<v?1-v:void 0)}function Au(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Pu(){return!0}function R0(){return!1}function $r(s){function o(c,v,y,_,A){this._reactName=c,this._targetInst=y,this.type=v,this.nativeEvent=_,this.target=A,this.currentTarget=null;for(var C in s)s.hasOwnProperty(C)&&(c=s[C],this[C]=c?c(_):_[C]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Pu:R0,this.isPropagationStopped=R0,this}return se(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Pu)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Pu)},persist:function(){},isPersistent:Pu}),o}var pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bf=$r(pa),zo=se({},pa,{view:0,detail:0}),RO=$r(zo),Vf,qf,Uo,Ou=se({},zo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kf,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Uo&&(Uo&&s.type==="mousemove"?(Vf=s.screenX-Uo.screenX,qf=s.screenY-Uo.screenY):qf=Vf=0,Uo=s),Vf)},movementY:function(s){return"movementY"in s?s.movementY:qf}}),M0=$r(Ou),MO=se({},Ou,{dataTransfer:0}),$O=$r(MO),LO=se({},zo,{relatedTarget:0}),Wf=$r(LO),FO=se({},pa,{animationName:0,elapsedTime:0,pseudoElement:0}),zO=$r(FO),UO=se({},pa,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),BO=$r(UO),VO=se({},pa,{data:0}),$0=$r(VO),qO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HO(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=KO[s])?!!o[s]:!1}function Kf(){return HO}var YO=se({},zo,{key:function(s){if(s.key){var o=qO[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Au(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?WO[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kf,charCode:function(s){return s.type==="keypress"?Au(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Au(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),GO=$r(YO),JO=se({},Ou,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),L0=$r(JO),XO=se({},zo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kf}),QO=$r(XO),ZO=se({},pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),eC=$r(ZO),tC=se({},Ou,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),rC=$r(tC),nC=[9,13,27,32],Hf=u&&"CompositionEvent"in window,Bo=null;u&&"documentMode"in document&&(Bo=document.documentMode);var iC=u&&"TextEvent"in window&&!Bo,F0=u&&(!Hf||Bo&&8<Bo&&11>=Bo),z0=" ",U0=!1;function B0(s,o){switch(s){case"keyup":return nC.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function V0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var va=!1;function sC(s,o){switch(s){case"compositionend":return V0(o);case"keypress":return o.which!==32?null:(U0=!0,z0);case"textInput":return s=o.data,s===z0&&U0?null:s;default:return null}}function aC(s,o){if(va)return s==="compositionend"||!Hf&&B0(s,o)?(s=D0(),Nu=Uf=Vi=null,va=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return F0&&o.locale!=="ko"?null:o.data;default:return null}}var oC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function q0(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!oC[s.type]:o==="textarea"}function W0(s,o,c,v){ge(v),o=Ru(o,"onChange"),0<o.length&&(c=new Bf("onChange","change",null,c,v),s.push({event:c,listeners:o}))}var Vo=null,qo=null;function lC(s){ux(s,0)}function Cu(s){var o=ba(s);if(X(o))return s}function uC(s,o){if(s==="change")return o}var K0=!1;if(u){var Yf;if(u){var Gf="oninput"in document;if(!Gf){var H0=document.createElement("div");H0.setAttribute("oninput","return;"),Gf=typeof H0.oninput=="function"}Yf=Gf}else Yf=!1;K0=Yf&&(!document.documentMode||9<document.documentMode)}function Y0(){Vo&&(Vo.detachEvent("onpropertychange",G0),qo=Vo=null)}function G0(s){if(s.propertyName==="value"&&Cu(qo)){var o=[];W0(o,qo,s,ha(s)),tr(lC,o)}}function cC(s,o,c){s==="focusin"?(Y0(),Vo=o,qo=c,Vo.attachEvent("onpropertychange",G0)):s==="focusout"&&Y0()}function dC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Cu(qo)}function fC(s,o){if(s==="click")return Cu(o)}function hC(s,o){if(s==="input"||s==="change")return Cu(o)}function mC(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var bn=typeof Object.is=="function"?Object.is:mC;function Wo(s,o){if(bn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),v=Object.keys(o);if(c.length!==v.length)return!1;for(v=0;v<c.length;v++){var y=c[v];if(!d.call(o,y)||!bn(s[y],o[y]))return!1}return!0}function J0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function X0(s,o){var c=J0(s);s=0;for(var v;c;){if(c.nodeType===3){if(v=s+c.textContent.length,s<=o&&v>=o)return{node:c,offset:o-s};s=v}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=J0(c)}}function Q0(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Q0(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Z0(){for(var s=window,o=Ye();o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=Ye(s.document)}return o}function Jf(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function pC(s){var o=Z0(),c=s.focusedElem,v=s.selectionRange;if(o!==c&&c&&c.ownerDocument&&Q0(c.ownerDocument.documentElement,c)){if(v!==null&&Jf(c)){if(o=v.start,s=v.end,s===void 0&&(s=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(s,c.value.length);else if(s=(o=c.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var y=c.textContent.length,_=Math.min(v.start,y);v=v.end===void 0?_:Math.min(v.end,y),!s.extend&&_>v&&(y=v,v=_,_=y),y=X0(c,_);var A=X0(c,v);y&&A&&(s.rangeCount!==1||s.anchorNode!==y.node||s.anchorOffset!==y.offset||s.focusNode!==A.node||s.focusOffset!==A.offset)&&(o=o.createRange(),o.setStart(y.node,y.offset),s.removeAllRanges(),_>v?(s.addRange(o),s.extend(A.node,A.offset)):(o.setEnd(A.node,A.offset),s.addRange(o)))}}for(o=[],s=c;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)s=o[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var vC=u&&"documentMode"in document&&11>=document.documentMode,ga=null,Xf=null,Ko=null,Qf=!1;function ex(s,o,c){var v=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Qf||ga==null||ga!==Ye(v)||(v=ga,"selectionStart"in v&&Jf(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Ko&&Wo(Ko,v)||(Ko=v,v=Ru(Xf,"onSelect"),0<v.length&&(o=new Bf("onSelect","select",null,o,c),s.push({event:o,listeners:v}),o.target=ga)))}function Tu(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var ya={animationend:Tu("Animation","AnimationEnd"),animationiteration:Tu("Animation","AnimationIteration"),animationstart:Tu("Animation","AnimationStart"),transitionend:Tu("Transition","TransitionEnd")},Zf={},tx={};u&&(tx=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function Iu(s){if(Zf[s])return Zf[s];if(!ya[s])return s;var o=ya[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in tx)return Zf[s]=o[c];return s}var rx=Iu("animationend"),nx=Iu("animationiteration"),ix=Iu("animationstart"),sx=Iu("transitionend"),ax=new Map,ox="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qi(s,o){ax.set(s,o),a(o,[s])}for(var eh=0;eh<ox.length;eh++){var th=ox[eh],gC=th.toLowerCase(),yC=th[0].toUpperCase()+th.slice(1);qi(gC,"on"+yC)}qi(rx,"onAnimationEnd"),qi(nx,"onAnimationIteration"),qi(ix,"onAnimationStart"),qi("dblclick","onDoubleClick"),qi("focusin","onFocus"),qi("focusout","onBlur"),qi(sx,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ho));function lx(s,o,c){var v=s.type||"unknown-event";s.currentTarget=c,gO(v,o,void 0,s),s.currentTarget=null}function ux(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var v=s[c],y=v.event;v=v.listeners;e:{var _=void 0;if(o)for(var A=v.length-1;0<=A;A--){var C=v[A],R=C.instance,K=C.currentTarget;if(C=C.listener,R!==_&&y.isPropagationStopped())break e;lx(y,C,K),_=R}else for(A=0;A<v.length;A++){if(C=v[A],R=C.instance,K=C.currentTarget,C=C.listener,R!==_&&y.isPropagationStopped())break e;lx(y,C,K),_=R}}}if(cr)throw s=ws,cr=!1,ws=null,s}function ft(s,o){var c=o[uh];c===void 0&&(c=o[uh]=new Set);var v=s+"__bubble";c.has(v)||(cx(o,s,2,!1),c.add(v))}function rh(s,o,c){var v=0;o&&(v|=4),cx(c,s,v,o)}var Du="_reactListening"+Math.random().toString(36).slice(2);function Yo(s){if(!s[Du]){s[Du]=!0,n.forEach(function(c){c!=="selectionchange"&&(xC.has(c)||rh(c,!1,s),rh(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Du]||(o[Du]=!0,rh("selectionchange",!1,o))}}function cx(s,o,c,v){switch(I0(o)){case 1:var y=IO;break;case 4:y=DO;break;default:y=Ff}c=y.bind(null,o,c,s),y=void 0,!wt||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),v?y!==void 0?s.addEventListener(o,c,{capture:!0,passive:y}):s.addEventListener(o,c,!0):y!==void 0?s.addEventListener(o,c,{passive:y}):s.addEventListener(o,c,!1)}function nh(s,o,c,v,y){var _=v;if((o&1)===0&&(o&2)===0&&v!==null)e:for(;;){if(v===null)return;var A=v.tag;if(A===3||A===4){var C=v.stateNode.containerInfo;if(C===y||C.nodeType===8&&C.parentNode===y)break;if(A===4)for(A=v.return;A!==null;){var R=A.tag;if((R===3||R===4)&&(R=A.stateNode.containerInfo,R===y||R.nodeType===8&&R.parentNode===y))return;A=A.return}for(;C!==null;){if(A=_s(C),A===null)return;if(R=A.tag,R===5||R===6){v=_=A;continue e}C=C.parentNode}}v=v.return}tr(function(){var K=_,ae=ha(c),le=[];e:{var ie=ax.get(s);if(ie!==void 0){var xe=Bf,Ee=s;switch(s){case"keypress":if(Au(c)===0)break e;case"keydown":case"keyup":xe=GO;break;case"focusin":Ee="focus",xe=Wf;break;case"focusout":Ee="blur",xe=Wf;break;case"beforeblur":case"afterblur":xe=Wf;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=M0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=$O;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=QO;break;case rx:case nx:case ix:xe=zO;break;case sx:xe=eC;break;case"scroll":xe=RO;break;case"wheel":xe=rC;break;case"copy":case"cut":case"paste":xe=BO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=L0}var Ne=(o&4)!==0,kt=!Ne&&s==="scroll",z=Ne?ie!==null?ie+"Capture":null:ie;Ne=[];for(var $=K,q;$!==null;){q=$;var ce=q.stateNode;if(q.tag===5&&ce!==null&&(q=ce,z!==null&&(ce=Ze($,z),ce!=null&&Ne.push(Go($,ce,q)))),kt)break;$=$.return}0<Ne.length&&(ie=new xe(ie,Ee,null,c,ae),le.push({event:ie,listeners:Ne}))}}if((o&7)===0){e:{if(ie=s==="mouseover"||s==="pointerover",xe=s==="mouseout"||s==="pointerout",ie&&c!==ri&&(Ee=c.relatedTarget||c.fromElement)&&(_s(Ee)||Ee[si]))break e;if((xe||ie)&&(ie=ae.window===ae?ae:(ie=ae.ownerDocument)?ie.defaultView||ie.parentWindow:window,xe?(Ee=c.relatedTarget||c.toElement,xe=K,Ee=Ee?_s(Ee):null,Ee!==null&&(kt=bs(Ee),Ee!==kt||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(xe=null,Ee=K),xe!==Ee)){if(Ne=M0,ce="onMouseLeave",z="onMouseEnter",$="mouse",(s==="pointerout"||s==="pointerover")&&(Ne=L0,ce="onPointerLeave",z="onPointerEnter",$="pointer"),kt=xe==null?ie:ba(xe),q=Ee==null?ie:ba(Ee),ie=new Ne(ce,$+"leave",xe,c,ae),ie.target=kt,ie.relatedTarget=q,ce=null,_s(ae)===K&&(Ne=new Ne(z,$+"enter",Ee,c,ae),Ne.target=q,Ne.relatedTarget=kt,ce=Ne),kt=ce,xe&&Ee)t:{for(Ne=xe,z=Ee,$=0,q=Ne;q;q=xa(q))$++;for(q=0,ce=z;ce;ce=xa(ce))q++;for(;0<$-q;)Ne=xa(Ne),$--;for(;0<q-$;)z=xa(z),q--;for(;$--;){if(Ne===z||z!==null&&Ne===z.alternate)break t;Ne=xa(Ne),z=xa(z)}Ne=null}else Ne=null;xe!==null&&dx(le,ie,xe,Ne,!1),Ee!==null&&kt!==null&&dx(le,kt,Ee,Ne,!0)}}e:{if(ie=K?ba(K):window,xe=ie.nodeName&&ie.nodeName.toLowerCase(),xe==="select"||xe==="input"&&ie.type==="file")var Pe=uC;else if(q0(ie))if(K0)Pe=hC;else{Pe=dC;var Te=cC}else(xe=ie.nodeName)&&xe.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(Pe=fC);if(Pe&&(Pe=Pe(s,K))){W0(le,Pe,c,ae);break e}Te&&Te(s,ie,K),s==="focusout"&&(Te=ie._wrapperState)&&Te.controlled&&ie.type==="number"&&Mr(ie,"number",ie.value)}switch(Te=K?ba(K):window,s){case"focusin":(q0(Te)||Te.contentEditable==="true")&&(ga=Te,Xf=K,Ko=null);break;case"focusout":Ko=Xf=ga=null;break;case"mousedown":Qf=!0;break;case"contextmenu":case"mouseup":case"dragend":Qf=!1,ex(le,c,ae);break;case"selectionchange":if(vC)break;case"keydown":case"keyup":ex(le,c,ae)}var Ie;if(Hf)e:{switch(s){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else va?B0(s,c)&&($e="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&($e="onCompositionStart");$e&&(F0&&c.locale!=="ko"&&(va||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&va&&(Ie=D0()):(Vi=ae,Uf="value"in Vi?Vi.value:Vi.textContent,va=!0)),Te=Ru(K,$e),0<Te.length&&($e=new $0($e,s,null,c,ae),le.push({event:$e,listeners:Te}),Ie?$e.data=Ie:(Ie=V0(c),Ie!==null&&($e.data=Ie)))),(Ie=iC?sC(s,c):aC(s,c))&&(K=Ru(K,"onBeforeInput"),0<K.length&&(ae=new $0("onBeforeInput","beforeinput",null,c,ae),le.push({event:ae,listeners:K}),ae.data=Ie))}ux(le,o)})}function Go(s,o,c){return{instance:s,listener:o,currentTarget:c}}function Ru(s,o){for(var c=o+"Capture",v=[];s!==null;){var y=s,_=y.stateNode;y.tag===5&&_!==null&&(y=_,_=Ze(s,c),_!=null&&v.unshift(Go(s,_,y)),_=Ze(s,o),_!=null&&v.push(Go(s,_,y))),s=s.return}return v}function xa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function dx(s,o,c,v,y){for(var _=o._reactName,A=[];c!==null&&c!==v;){var C=c,R=C.alternate,K=C.stateNode;if(R!==null&&R===v)break;C.tag===5&&K!==null&&(C=K,y?(R=Ze(c,_),R!=null&&A.unshift(Go(c,R,C))):y||(R=Ze(c,_),R!=null&&A.push(Go(c,R,C)))),c=c.return}A.length!==0&&s.push({event:o,listeners:A})}var wC=/\r\n?/g,bC=/\u0000|\uFFFD/g;function fx(s){return(typeof s=="string"?s:""+s).replace(wC,`
`).replace(bC,"")}function Mu(s,o,c){if(o=fx(o),fx(s)!==o&&c)throw Error(r(425))}function $u(){}var ih=null,sh=null;function ah(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var oh=typeof setTimeout=="function"?setTimeout:void 0,_C=typeof clearTimeout=="function"?clearTimeout:void 0,hx=typeof Promise=="function"?Promise:void 0,SC=typeof queueMicrotask=="function"?queueMicrotask:typeof hx<"u"?function(s){return hx.resolve(null).then(s).catch(jC)}:oh;function jC(s){setTimeout(function(){throw s})}function lh(s,o){var c=o,v=0;do{var y=c.nextSibling;if(s.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(v===0){s.removeChild(y),Fo(o);return}v--}else c!=="$"&&c!=="$?"&&c!=="$!"||v++;c=y}while(c);Fo(o)}function Wi(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function mx(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}var wa=Math.random().toString(36).slice(2),Bn="__reactFiber$"+wa,Jo="__reactProps$"+wa,si="__reactContainer$"+wa,uh="__reactEvents$"+wa,kC="__reactListeners$"+wa,EC="__reactHandles$"+wa;function _s(s){var o=s[Bn];if(o)return o;for(var c=s.parentNode;c;){if(o=c[si]||c[Bn]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=mx(s);s!==null;){if(c=s[Bn])return c;s=mx(s)}return o}s=c,c=s.parentNode}return null}function Xo(s){return s=s[Bn]||s[si],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ba(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function Lu(s){return s[Jo]||null}var ch=[],_a=-1;function Ki(s){return{current:s}}function ht(s){0>_a||(s.current=ch[_a],ch[_a]=null,_a--)}function lt(s,o){_a++,ch[_a]=s.current,s.current=o}var Hi={},dr=Ki(Hi),kr=Ki(!1),Ss=Hi;function Sa(s,o){var c=s.type.contextTypes;if(!c)return Hi;var v=s.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===o)return v.__reactInternalMemoizedMaskedChildContext;var y={},_;for(_ in c)y[_]=o[_];return v&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=y),y}function Er(s){return s=s.childContextTypes,s!=null}function Fu(){ht(kr),ht(dr)}function px(s,o,c){if(dr.current!==Hi)throw Error(r(168));lt(dr,o),lt(kr,c)}function vx(s,o,c){var v=s.stateNode;if(o=o.childContextTypes,typeof v.getChildContext!="function")return c;v=v.getChildContext();for(var y in v)if(!(y in o))throw Error(r(108,Me(s)||"Unknown",y));return se({},c,v)}function zu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Hi,Ss=dr.current,lt(dr,s),lt(kr,kr.current),!0}function gx(s,o,c){var v=s.stateNode;if(!v)throw Error(r(169));c?(s=vx(s,o,Ss),v.__reactInternalMemoizedMergedChildContext=s,ht(kr),ht(dr),lt(dr,s)):ht(kr),lt(kr,c)}var ai=null,Uu=!1,dh=!1;function yx(s){ai===null?ai=[s]:ai.push(s)}function NC(s){Uu=!0,yx(s)}function Yi(){if(!dh&&ai!==null){dh=!0;var s=0,o=tt;try{var c=ai;for(tt=1;s<c.length;s++){var v=c[s];do v=v(!0);while(v!==null)}ai=null,Uu=!1}catch(y){throw ai!==null&&(ai=ai.slice(s+1)),w0(If,Yi),y}finally{tt=o,dh=!1}}return null}var ja=[],ka=0,Bu=null,Vu=0,Zr=[],en=0,js=null,oi=1,li="";function ks(s,o){ja[ka++]=Vu,ja[ka++]=Bu,Bu=s,Vu=o}function xx(s,o,c){Zr[en++]=oi,Zr[en++]=li,Zr[en++]=js,js=s;var v=oi;s=li;var y=32-wn(v)-1;v&=~(1<<y),c+=1;var _=32-wn(o)+y;if(30<_){var A=y-y%5;_=(v&(1<<A)-1).toString(32),v>>=A,y-=A,oi=1<<32-wn(o)+y|c<<y|v,li=_+s}else oi=1<<_|c<<y|v,li=s}function fh(s){s.return!==null&&(ks(s,1),xx(s,1,0))}function hh(s){for(;s===Bu;)Bu=ja[--ka],ja[ka]=null,Vu=ja[--ka],ja[ka]=null;for(;s===js;)js=Zr[--en],Zr[en]=null,li=Zr[--en],Zr[en]=null,oi=Zr[--en],Zr[en]=null}var Lr=null,Fr=null,gt=!1,_n=null;function wx(s,o){var c=sn(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=s,o=s.deletions,o===null?(s.deletions=[c],s.flags|=16):o.push(c)}function bx(s,o){switch(s.tag){case 5:var c=s.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Lr=s,Fr=Wi(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Lr=s,Fr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=js!==null?{id:oi,overflow:li}:null,s.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=sn(18,null,null,0),c.stateNode=o,c.return=s,s.child=c,Lr=s,Fr=null,!0):!1;default:return!1}}function mh(s){return(s.mode&1)!==0&&(s.flags&128)===0}function ph(s){if(gt){var o=Fr;if(o){var c=o;if(!bx(s,o)){if(mh(s))throw Error(r(418));o=Wi(c.nextSibling);var v=Lr;o&&bx(s,o)?wx(v,c):(s.flags=s.flags&-4097|2,gt=!1,Lr=s)}}else{if(mh(s))throw Error(r(418));s.flags=s.flags&-4097|2,gt=!1,Lr=s}}}function _x(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Lr=s}function qu(s){if(s!==Lr)return!1;if(!gt)return _x(s),gt=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!ah(s.type,s.memoizedProps)),o&&(o=Fr)){if(mh(s))throw Sx(),Error(r(418));for(;o;)wx(s,o),o=Wi(o.nextSibling)}if(_x(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(o===0){Fr=Wi(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}s=s.nextSibling}Fr=null}}else Fr=Lr?Wi(s.stateNode.nextSibling):null;return!0}function Sx(){for(var s=Fr;s;)s=Wi(s.nextSibling)}function Ea(){Fr=Lr=null,gt=!1}function vh(s){_n===null?_n=[s]:_n.push(s)}var AC=P.ReactCurrentBatchConfig;function Qo(s,o,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(r(309));var v=c.stateNode}if(!v)throw Error(r(147,s));var y=v,_=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===_?o.ref:(o=function(A){var C=y.refs;A===null?delete C[_]:C[_]=A},o._stringRef=_,o)}if(typeof s!="string")throw Error(r(284));if(!c._owner)throw Error(r(290,s))}return s}function Wu(s,o){throw s=Object.prototype.toString.call(o),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function jx(s){var o=s._init;return o(s._payload)}function kx(s){function o(z,$){if(s){var q=z.deletions;q===null?(z.deletions=[$],z.flags|=16):q.push($)}}function c(z,$){if(!s)return null;for(;$!==null;)o(z,$),$=$.sibling;return null}function v(z,$){for(z=new Map;$!==null;)$.key!==null?z.set($.key,$):z.set($.index,$),$=$.sibling;return z}function y(z,$){return z=rs(z,$),z.index=0,z.sibling=null,z}function _(z,$,q){return z.index=q,s?(q=z.alternate,q!==null?(q=q.index,q<$?(z.flags|=2,$):q):(z.flags|=2,$)):(z.flags|=1048576,$)}function A(z){return s&&z.alternate===null&&(z.flags|=2),z}function C(z,$,q,ce){return $===null||$.tag!==6?($=om(q,z.mode,ce),$.return=z,$):($=y($,q),$.return=z,$)}function R(z,$,q,ce){var Pe=q.type;return Pe===L?ae(z,$,q.props.children,ce,q.key):$!==null&&($.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===we&&jx(Pe)===$.type)?(ce=y($,q.props),ce.ref=Qo(z,$,q),ce.return=z,ce):(ce=pc(q.type,q.key,q.props,null,z.mode,ce),ce.ref=Qo(z,$,q),ce.return=z,ce)}function K(z,$,q,ce){return $===null||$.tag!==4||$.stateNode.containerInfo!==q.containerInfo||$.stateNode.implementation!==q.implementation?($=lm(q,z.mode,ce),$.return=z,$):($=y($,q.children||[]),$.return=z,$)}function ae(z,$,q,ce,Pe){return $===null||$.tag!==7?($=Is(q,z.mode,ce,Pe),$.return=z,$):($=y($,q),$.return=z,$)}function le(z,$,q){if(typeof $=="string"&&$!==""||typeof $=="number")return $=om(""+$,z.mode,q),$.return=z,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case O:return q=pc($.type,$.key,$.props,null,z.mode,q),q.ref=Qo(z,null,$),q.return=z,q;case T:return $=lm($,z.mode,q),$.return=z,$;case we:var ce=$._init;return le(z,ce($._payload),q)}if(zn($)||re($))return $=Is($,z.mode,q,null),$.return=z,$;Wu(z,$)}return null}function ie(z,$,q,ce){var Pe=$!==null?$.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return Pe!==null?null:C(z,$,""+q,ce);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case O:return q.key===Pe?R(z,$,q,ce):null;case T:return q.key===Pe?K(z,$,q,ce):null;case we:return Pe=q._init,ie(z,$,Pe(q._payload),ce)}if(zn(q)||re(q))return Pe!==null?null:ae(z,$,q,ce,null);Wu(z,q)}return null}function xe(z,$,q,ce,Pe){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return z=z.get(q)||null,C($,z,""+ce,Pe);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case O:return z=z.get(ce.key===null?q:ce.key)||null,R($,z,ce,Pe);case T:return z=z.get(ce.key===null?q:ce.key)||null,K($,z,ce,Pe);case we:var Te=ce._init;return xe(z,$,q,Te(ce._payload),Pe)}if(zn(ce)||re(ce))return z=z.get(q)||null,ae($,z,ce,Pe,null);Wu($,ce)}return null}function Ee(z,$,q,ce){for(var Pe=null,Te=null,Ie=$,$e=$=0,Kt=null;Ie!==null&&$e<q.length;$e++){Ie.index>$e?(Kt=Ie,Ie=null):Kt=Ie.sibling;var Xe=ie(z,Ie,q[$e],ce);if(Xe===null){Ie===null&&(Ie=Kt);break}s&&Ie&&Xe.alternate===null&&o(z,Ie),$=_(Xe,$,$e),Te===null?Pe=Xe:Te.sibling=Xe,Te=Xe,Ie=Kt}if($e===q.length)return c(z,Ie),gt&&ks(z,$e),Pe;if(Ie===null){for(;$e<q.length;$e++)Ie=le(z,q[$e],ce),Ie!==null&&($=_(Ie,$,$e),Te===null?Pe=Ie:Te.sibling=Ie,Te=Ie);return gt&&ks(z,$e),Pe}for(Ie=v(z,Ie);$e<q.length;$e++)Kt=xe(Ie,z,$e,q[$e],ce),Kt!==null&&(s&&Kt.alternate!==null&&Ie.delete(Kt.key===null?$e:Kt.key),$=_(Kt,$,$e),Te===null?Pe=Kt:Te.sibling=Kt,Te=Kt);return s&&Ie.forEach(function(ns){return o(z,ns)}),gt&&ks(z,$e),Pe}function Ne(z,$,q,ce){var Pe=re(q);if(typeof Pe!="function")throw Error(r(150));if(q=Pe.call(q),q==null)throw Error(r(151));for(var Te=Pe=null,Ie=$,$e=$=0,Kt=null,Xe=q.next();Ie!==null&&!Xe.done;$e++,Xe=q.next()){Ie.index>$e?(Kt=Ie,Ie=null):Kt=Ie.sibling;var ns=ie(z,Ie,Xe.value,ce);if(ns===null){Ie===null&&(Ie=Kt);break}s&&Ie&&ns.alternate===null&&o(z,Ie),$=_(ns,$,$e),Te===null?Pe=ns:Te.sibling=ns,Te=ns,Ie=Kt}if(Xe.done)return c(z,Ie),gt&&ks(z,$e),Pe;if(Ie===null){for(;!Xe.done;$e++,Xe=q.next())Xe=le(z,Xe.value,ce),Xe!==null&&($=_(Xe,$,$e),Te===null?Pe=Xe:Te.sibling=Xe,Te=Xe);return gt&&ks(z,$e),Pe}for(Ie=v(z,Ie);!Xe.done;$e++,Xe=q.next())Xe=xe(Ie,z,$e,Xe.value,ce),Xe!==null&&(s&&Xe.alternate!==null&&Ie.delete(Xe.key===null?$e:Xe.key),$=_(Xe,$,$e),Te===null?Pe=Xe:Te.sibling=Xe,Te=Xe);return s&&Ie.forEach(function(o2){return o(z,o2)}),gt&&ks(z,$e),Pe}function kt(z,$,q,ce){if(typeof q=="object"&&q!==null&&q.type===L&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case O:e:{for(var Pe=q.key,Te=$;Te!==null;){if(Te.key===Pe){if(Pe=q.type,Pe===L){if(Te.tag===7){c(z,Te.sibling),$=y(Te,q.props.children),$.return=z,z=$;break e}}else if(Te.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===we&&jx(Pe)===Te.type){c(z,Te.sibling),$=y(Te,q.props),$.ref=Qo(z,Te,q),$.return=z,z=$;break e}c(z,Te);break}else o(z,Te);Te=Te.sibling}q.type===L?($=Is(q.props.children,z.mode,ce,q.key),$.return=z,z=$):(ce=pc(q.type,q.key,q.props,null,z.mode,ce),ce.ref=Qo(z,$,q),ce.return=z,z=ce)}return A(z);case T:e:{for(Te=q.key;$!==null;){if($.key===Te)if($.tag===4&&$.stateNode.containerInfo===q.containerInfo&&$.stateNode.implementation===q.implementation){c(z,$.sibling),$=y($,q.children||[]),$.return=z,z=$;break e}else{c(z,$);break}else o(z,$);$=$.sibling}$=lm(q,z.mode,ce),$.return=z,z=$}return A(z);case we:return Te=q._init,kt(z,$,Te(q._payload),ce)}if(zn(q))return Ee(z,$,q,ce);if(re(q))return Ne(z,$,q,ce);Wu(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,$!==null&&$.tag===6?(c(z,$.sibling),$=y($,q),$.return=z,z=$):(c(z,$),$=om(q,z.mode,ce),$.return=z,z=$),A(z)):c(z,$)}return kt}var Na=kx(!0),Ex=kx(!1),Ku=Ki(null),Hu=null,Aa=null,gh=null;function yh(){gh=Aa=Hu=null}function xh(s){var o=Ku.current;ht(Ku),s._currentValue=o}function wh(s,o,c){for(;s!==null;){var v=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,v!==null&&(v.childLanes|=o)):v!==null&&(v.childLanes&o)!==o&&(v.childLanes|=o),s===c)break;s=s.return}}function Pa(s,o){Hu=s,gh=Aa=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(Nr=!0),s.firstContext=null)}function tn(s){var o=s._currentValue;if(gh!==s)if(s={context:s,memoizedValue:o,next:null},Aa===null){if(Hu===null)throw Error(r(308));Aa=s,Hu.dependencies={lanes:0,firstContext:s}}else Aa=Aa.next=s;return o}var Es=null;function bh(s){Es===null?Es=[s]:Es.push(s)}function Nx(s,o,c,v){var y=o.interleaved;return y===null?(c.next=c,bh(o)):(c.next=y.next,y.next=c),o.interleaved=c,ui(s,v)}function ui(s,o){s.lanes|=o;var c=s.alternate;for(c!==null&&(c.lanes|=o),c=s,s=s.return;s!==null;)s.childLanes|=o,c=s.alternate,c!==null&&(c.childLanes|=o),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Gi=!1;function _h(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ax(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ci(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Ji(s,o,c){var v=s.updateQueue;if(v===null)return null;if(v=v.shared,(Ge&2)!==0){var y=v.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),v.pending=o,ui(s,c)}return y=v.interleaved,y===null?(o.next=o,bh(v)):(o.next=y.next,y.next=o),v.interleaved=o,ui(s,c)}function Yu(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var v=o.lanes;v&=s.pendingLanes,c|=v,o.lanes=c,Mf(s,c)}}function Px(s,o){var c=s.updateQueue,v=s.alternate;if(v!==null&&(v=v.updateQueue,c===v)){var y=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var A={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};_===null?y=_=A:_=_.next=A,c=c.next}while(c!==null);_===null?y=_=o:_=_.next=o}else y=_=o;c={baseState:v.baseState,firstBaseUpdate:y,lastBaseUpdate:_,shared:v.shared,effects:v.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}function Gu(s,o,c,v){var y=s.updateQueue;Gi=!1;var _=y.firstBaseUpdate,A=y.lastBaseUpdate,C=y.shared.pending;if(C!==null){y.shared.pending=null;var R=C,K=R.next;R.next=null,A===null?_=K:A.next=K,A=R;var ae=s.alternate;ae!==null&&(ae=ae.updateQueue,C=ae.lastBaseUpdate,C!==A&&(C===null?ae.firstBaseUpdate=K:C.next=K,ae.lastBaseUpdate=R))}if(_!==null){var le=y.baseState;A=0,ae=K=R=null,C=_;do{var ie=C.lane,xe=C.eventTime;if((v&ie)===ie){ae!==null&&(ae=ae.next={eventTime:xe,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var Ee=s,Ne=C;switch(ie=o,xe=c,Ne.tag){case 1:if(Ee=Ne.payload,typeof Ee=="function"){le=Ee.call(xe,le,ie);break e}le=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Ne.payload,ie=typeof Ee=="function"?Ee.call(xe,le,ie):Ee,ie==null)break e;le=se({},le,ie);break e;case 2:Gi=!0}}C.callback!==null&&C.lane!==0&&(s.flags|=64,ie=y.effects,ie===null?y.effects=[C]:ie.push(C))}else xe={eventTime:xe,lane:ie,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ae===null?(K=ae=xe,R=le):ae=ae.next=xe,A|=ie;if(C=C.next,C===null){if(C=y.shared.pending,C===null)break;ie=C,C=ie.next,ie.next=null,y.lastBaseUpdate=ie,y.shared.pending=null}}while(!0);if(ae===null&&(R=le),y.baseState=R,y.firstBaseUpdate=K,y.lastBaseUpdate=ae,o=y.shared.interleaved,o!==null){y=o;do A|=y.lane,y=y.next;while(y!==o)}else _===null&&(y.shared.lanes=0);Ps|=A,s.lanes=A,s.memoizedState=le}}function Ox(s,o,c){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var v=s[o],y=v.callback;if(y!==null){if(v.callback=null,v=c,typeof y!="function")throw Error(r(191,y));y.call(v)}}}var Zo={},Vn=Ki(Zo),el=Ki(Zo),tl=Ki(Zo);function Ns(s){if(s===Zo)throw Error(r(174));return s}function Sh(s,o){switch(lt(tl,o),lt(el,s),lt(Vn,Zo),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:ue(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=ue(o,s)}ht(Vn),lt(Vn,o)}function Oa(){ht(Vn),ht(el),ht(tl)}function Cx(s){Ns(tl.current);var o=Ns(Vn.current),c=ue(o,s.type);o!==c&&(lt(el,s),lt(Vn,c))}function jh(s){el.current===s&&(ht(Vn),ht(el))}var bt=Ki(0);function Ju(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var kh=[];function Eh(){for(var s=0;s<kh.length;s++)kh[s]._workInProgressVersionPrimary=null;kh.length=0}var Xu=P.ReactCurrentDispatcher,Nh=P.ReactCurrentBatchConfig,As=0,_t=null,$t=null,qt=null,Qu=!1,rl=!1,nl=0,PC=0;function fr(){throw Error(r(321))}function Ah(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!bn(s[c],o[c]))return!1;return!0}function Ph(s,o,c,v,y,_){if(As=_,_t=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Xu.current=s===null||s.memoizedState===null?IC:DC,s=c(v,y),rl){_=0;do{if(rl=!1,nl=0,25<=_)throw Error(r(301));_+=1,qt=$t=null,o.updateQueue=null,Xu.current=RC,s=c(v,y)}while(rl)}if(Xu.current=tc,o=$t!==null&&$t.next!==null,As=0,qt=$t=_t=null,Qu=!1,o)throw Error(r(300));return s}function Oh(){var s=nl!==0;return nl=0,s}function qn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?_t.memoizedState=qt=s:qt=qt.next=s,qt}function rn(){if($t===null){var s=_t.alternate;s=s!==null?s.memoizedState:null}else s=$t.next;var o=qt===null?_t.memoizedState:qt.next;if(o!==null)qt=o,$t=s;else{if(s===null)throw Error(r(310));$t=s,s={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},qt===null?_t.memoizedState=qt=s:qt=qt.next=s}return qt}function il(s,o){return typeof o=="function"?o(s):o}function Ch(s){var o=rn(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var v=$t,y=v.baseQueue,_=c.pending;if(_!==null){if(y!==null){var A=y.next;y.next=_.next,_.next=A}v.baseQueue=y=_,c.pending=null}if(y!==null){_=y.next,v=v.baseState;var C=A=null,R=null,K=_;do{var ae=K.lane;if((As&ae)===ae)R!==null&&(R=R.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),v=K.hasEagerState?K.eagerState:s(v,K.action);else{var le={lane:ae,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};R===null?(C=R=le,A=v):R=R.next=le,_t.lanes|=ae,Ps|=ae}K=K.next}while(K!==null&&K!==_);R===null?A=v:R.next=C,bn(v,o.memoizedState)||(Nr=!0),o.memoizedState=v,o.baseState=A,o.baseQueue=R,c.lastRenderedState=v}if(s=c.interleaved,s!==null){y=s;do _=y.lane,_t.lanes|=_,Ps|=_,y=y.next;while(y!==s)}else y===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function Th(s){var o=rn(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var v=c.dispatch,y=c.pending,_=o.memoizedState;if(y!==null){c.pending=null;var A=y=y.next;do _=s(_,A.action),A=A.next;while(A!==y);bn(_,o.memoizedState)||(Nr=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),c.lastRenderedState=_}return[_,v]}function Tx(){}function Ix(s,o){var c=_t,v=rn(),y=o(),_=!bn(v.memoizedState,y);if(_&&(v.memoizedState=y,Nr=!0),v=v.queue,Ih(Mx.bind(null,c,v,s),[s]),v.getSnapshot!==o||_||qt!==null&&qt.memoizedState.tag&1){if(c.flags|=2048,sl(9,Rx.bind(null,c,v,y,o),void 0,null),Wt===null)throw Error(r(349));(As&30)!==0||Dx(c,o,y)}return y}function Dx(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=_t.updateQueue,o===null?(o={lastEffect:null,stores:null},_t.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function Rx(s,o,c,v){o.value=c,o.getSnapshot=v,$x(o)&&Lx(s)}function Mx(s,o,c){return c(function(){$x(o)&&Lx(s)})}function $x(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!bn(s,c)}catch{return!0}}function Lx(s){var o=ui(s,1);o!==null&&En(o,s,1,-1)}function Fx(s){var o=qn();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:il,lastRenderedState:s},o.queue=s,s=s.dispatch=TC.bind(null,_t,s),[o.memoizedState,s]}function sl(s,o,c,v){return s={tag:s,create:o,destroy:c,deps:v,next:null},o=_t.updateQueue,o===null?(o={lastEffect:null,stores:null},_t.updateQueue=o,o.lastEffect=s.next=s):(c=o.lastEffect,c===null?o.lastEffect=s.next=s:(v=c.next,c.next=s,s.next=v,o.lastEffect=s)),s}function zx(){return rn().memoizedState}function Zu(s,o,c,v){var y=qn();_t.flags|=s,y.memoizedState=sl(1|o,c,void 0,v===void 0?null:v)}function ec(s,o,c,v){var y=rn();v=v===void 0?null:v;var _=void 0;if($t!==null){var A=$t.memoizedState;if(_=A.destroy,v!==null&&Ah(v,A.deps)){y.memoizedState=sl(o,c,_,v);return}}_t.flags|=s,y.memoizedState=sl(1|o,c,_,v)}function Ux(s,o){return Zu(8390656,8,s,o)}function Ih(s,o){return ec(2048,8,s,o)}function Bx(s,o){return ec(4,2,s,o)}function Vx(s,o){return ec(4,4,s,o)}function qx(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Wx(s,o,c){return c=c!=null?c.concat([s]):null,ec(4,4,qx.bind(null,o,s),c)}function Dh(){}function Kx(s,o){var c=rn();o=o===void 0?null:o;var v=c.memoizedState;return v!==null&&o!==null&&Ah(o,v[1])?v[0]:(c.memoizedState=[s,o],s)}function Hx(s,o){var c=rn();o=o===void 0?null:o;var v=c.memoizedState;return v!==null&&o!==null&&Ah(o,v[1])?v[0]:(s=s(),c.memoizedState=[s,o],s)}function Yx(s,o,c){return(As&21)===0?(s.baseState&&(s.baseState=!1,Nr=!0),s.memoizedState=c):(bn(c,o)||(c=j0(),_t.lanes|=c,Ps|=c,s.baseState=!0),o)}function OC(s,o){var c=tt;tt=c!==0&&4>c?c:4,s(!0);var v=Nh.transition;Nh.transition={};try{s(!1),o()}finally{tt=c,Nh.transition=v}}function Gx(){return rn().memoizedState}function CC(s,o,c){var v=es(s);if(c={lane:v,action:c,hasEagerState:!1,eagerState:null,next:null},Jx(s))Xx(o,c);else if(c=Nx(s,o,c,v),c!==null){var y=gr();En(c,s,v,y),Qx(c,o,v)}}function TC(s,o,c){var v=es(s),y={lane:v,action:c,hasEagerState:!1,eagerState:null,next:null};if(Jx(s))Xx(o,y);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var A=o.lastRenderedState,C=_(A,c);if(y.hasEagerState=!0,y.eagerState=C,bn(C,A)){var R=o.interleaved;R===null?(y.next=y,bh(o)):(y.next=R.next,R.next=y),o.interleaved=y;return}}catch{}finally{}c=Nx(s,o,y,v),c!==null&&(y=gr(),En(c,s,v,y),Qx(c,o,v))}}function Jx(s){var o=s.alternate;return s===_t||o!==null&&o===_t}function Xx(s,o){rl=Qu=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function Qx(s,o,c){if((c&4194240)!==0){var v=o.lanes;v&=s.pendingLanes,c|=v,o.lanes=c,Mf(s,c)}}var tc={readContext:tn,useCallback:fr,useContext:fr,useEffect:fr,useImperativeHandle:fr,useInsertionEffect:fr,useLayoutEffect:fr,useMemo:fr,useReducer:fr,useRef:fr,useState:fr,useDebugValue:fr,useDeferredValue:fr,useTransition:fr,useMutableSource:fr,useSyncExternalStore:fr,useId:fr,unstable_isNewReconciler:!1},IC={readContext:tn,useCallback:function(s,o){return qn().memoizedState=[s,o===void 0?null:o],s},useContext:tn,useEffect:Ux,useImperativeHandle:function(s,o,c){return c=c!=null?c.concat([s]):null,Zu(4194308,4,qx.bind(null,o,s),c)},useLayoutEffect:function(s,o){return Zu(4194308,4,s,o)},useInsertionEffect:function(s,o){return Zu(4,2,s,o)},useMemo:function(s,o){var c=qn();return o=o===void 0?null:o,s=s(),c.memoizedState=[s,o],s},useReducer:function(s,o,c){var v=qn();return o=c!==void 0?c(o):o,v.memoizedState=v.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},v.queue=s,s=s.dispatch=CC.bind(null,_t,s),[v.memoizedState,s]},useRef:function(s){var o=qn();return s={current:s},o.memoizedState=s},useState:Fx,useDebugValue:Dh,useDeferredValue:function(s){return qn().memoizedState=s},useTransition:function(){var s=Fx(!1),o=s[0];return s=OC.bind(null,s[1]),qn().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,c){var v=_t,y=qn();if(gt){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),Wt===null)throw Error(r(349));(As&30)!==0||Dx(v,o,c)}y.memoizedState=c;var _={value:c,getSnapshot:o};return y.queue=_,Ux(Mx.bind(null,v,_,s),[s]),v.flags|=2048,sl(9,Rx.bind(null,v,_,c,o),void 0,null),c},useId:function(){var s=qn(),o=Wt.identifierPrefix;if(gt){var c=li,v=oi;c=(v&~(1<<32-wn(v)-1)).toString(32)+c,o=":"+o+"R"+c,c=nl++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=PC++,o=":"+o+"r"+c.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},DC={readContext:tn,useCallback:Kx,useContext:tn,useEffect:Ih,useImperativeHandle:Wx,useInsertionEffect:Bx,useLayoutEffect:Vx,useMemo:Hx,useReducer:Ch,useRef:zx,useState:function(){return Ch(il)},useDebugValue:Dh,useDeferredValue:function(s){var o=rn();return Yx(o,$t.memoizedState,s)},useTransition:function(){var s=Ch(il)[0],o=rn().memoizedState;return[s,o]},useMutableSource:Tx,useSyncExternalStore:Ix,useId:Gx,unstable_isNewReconciler:!1},RC={readContext:tn,useCallback:Kx,useContext:tn,useEffect:Ih,useImperativeHandle:Wx,useInsertionEffect:Bx,useLayoutEffect:Vx,useMemo:Hx,useReducer:Th,useRef:zx,useState:function(){return Th(il)},useDebugValue:Dh,useDeferredValue:function(s){var o=rn();return $t===null?o.memoizedState=s:Yx(o,$t.memoizedState,s)},useTransition:function(){var s=Th(il)[0],o=rn().memoizedState;return[s,o]},useMutableSource:Tx,useSyncExternalStore:Ix,useId:Gx,unstable_isNewReconciler:!1};function Sn(s,o){if(s&&s.defaultProps){o=se({},o),s=s.defaultProps;for(var c in s)o[c]===void 0&&(o[c]=s[c]);return o}return o}function Rh(s,o,c,v){o=s.memoizedState,c=c(v,o),c=c==null?o:se({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var rc={isMounted:function(s){return(s=s._reactInternals)?bs(s)===s:!1},enqueueSetState:function(s,o,c){s=s._reactInternals;var v=gr(),y=es(s),_=ci(v,y);_.payload=o,c!=null&&(_.callback=c),o=Ji(s,_,y),o!==null&&(En(o,s,y,v),Yu(o,s,y))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var v=gr(),y=es(s),_=ci(v,y);_.tag=1,_.payload=o,c!=null&&(_.callback=c),o=Ji(s,_,y),o!==null&&(En(o,s,y,v),Yu(o,s,y))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=gr(),v=es(s),y=ci(c,v);y.tag=2,o!=null&&(y.callback=o),o=Ji(s,y,v),o!==null&&(En(o,s,v,c),Yu(o,s,v))}};function Zx(s,o,c,v,y,_,A){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(v,_,A):o.prototype&&o.prototype.isPureReactComponent?!Wo(c,v)||!Wo(y,_):!0}function ew(s,o,c){var v=!1,y=Hi,_=o.contextType;return typeof _=="object"&&_!==null?_=tn(_):(y=Er(o)?Ss:dr.current,v=o.contextTypes,_=(v=v!=null)?Sa(s,y):Hi),o=new o(c,_),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=rc,s.stateNode=o,o._reactInternals=s,v&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=y,s.__reactInternalMemoizedMaskedChildContext=_),o}function tw(s,o,c,v){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,v),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,v),o.state!==s&&rc.enqueueReplaceState(o,o.state,null)}function Mh(s,o,c,v){var y=s.stateNode;y.props=c,y.state=s.memoizedState,y.refs={},_h(s);var _=o.contextType;typeof _=="object"&&_!==null?y.context=tn(_):(_=Er(o)?Ss:dr.current,y.context=Sa(s,_)),y.state=s.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(Rh(s,o,_,c),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(o=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),o!==y.state&&rc.enqueueReplaceState(y,y.state,null),Gu(s,c,y,v),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308)}function Ca(s,o){try{var c="",v=o;do c+=de(v),v=v.return;while(v);var y=c}catch(_){y=`
Error generating stack: `+_.message+`
`+_.stack}return{value:s,source:o,stack:y,digest:null}}function $h(s,o,c){return{value:s,source:null,stack:c??null,digest:o??null}}function Lh(s,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var MC=typeof WeakMap=="function"?WeakMap:Map;function rw(s,o,c){c=ci(-1,c),c.tag=3,c.payload={element:null};var v=o.value;return c.callback=function(){uc||(uc=!0,Zh=v),Lh(s,o)},c}function nw(s,o,c){c=ci(-1,c),c.tag=3;var v=s.type.getDerivedStateFromError;if(typeof v=="function"){var y=o.value;c.payload=function(){return v(y)},c.callback=function(){Lh(s,o)}}var _=s.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(c.callback=function(){Lh(s,o),typeof v!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var A=o.stack;this.componentDidCatch(o.value,{componentStack:A!==null?A:""})}),c}function iw(s,o,c){var v=s.pingCache;if(v===null){v=s.pingCache=new MC;var y=new Set;v.set(o,y)}else y=v.get(o),y===void 0&&(y=new Set,v.set(o,y));y.has(c)||(y.add(c),s=JC.bind(null,s,o,c),o.then(s,s))}function sw(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function aw(s,o,c,v,y){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=ci(-1,1),o.tag=2,Ji(c,o,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=y,s)}var $C=P.ReactCurrentOwner,Nr=!1;function vr(s,o,c,v){o.child=s===null?Ex(o,null,c,v):Na(o,s.child,c,v)}function ow(s,o,c,v,y){c=c.render;var _=o.ref;return Pa(o,y),v=Ph(s,o,c,v,_,y),c=Oh(),s!==null&&!Nr?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~y,di(s,o,y)):(gt&&c&&fh(o),o.flags|=1,vr(s,o,v,y),o.child)}function lw(s,o,c,v,y){if(s===null){var _=c.type;return typeof _=="function"&&!am(_)&&_.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=_,uw(s,o,_,v,y)):(s=pc(c.type,null,v,o,o.mode,y),s.ref=o.ref,s.return=o,o.child=s)}if(_=s.child,(s.lanes&y)===0){var A=_.memoizedProps;if(c=c.compare,c=c!==null?c:Wo,c(A,v)&&s.ref===o.ref)return di(s,o,y)}return o.flags|=1,s=rs(_,v),s.ref=o.ref,s.return=o,o.child=s}function uw(s,o,c,v,y){if(s!==null){var _=s.memoizedProps;if(Wo(_,v)&&s.ref===o.ref)if(Nr=!1,o.pendingProps=v=_,(s.lanes&y)!==0)(s.flags&131072)!==0&&(Nr=!0);else return o.lanes=s.lanes,di(s,o,y)}return Fh(s,o,c,v,y)}function cw(s,o,c){var v=o.pendingProps,y=v.children,_=s!==null?s.memoizedState:null;if(v.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(Ia,zr),zr|=c;else{if((c&1073741824)===0)return s=_!==null?_.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,lt(Ia,zr),zr|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=_!==null?_.baseLanes:c,lt(Ia,zr),zr|=v}else _!==null?(v=_.baseLanes|c,o.memoizedState=null):v=c,lt(Ia,zr),zr|=v;return vr(s,o,y,c),o.child}function dw(s,o){var c=o.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function Fh(s,o,c,v,y){var _=Er(c)?Ss:dr.current;return _=Sa(o,_),Pa(o,y),c=Ph(s,o,c,v,_,y),v=Oh(),s!==null&&!Nr?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~y,di(s,o,y)):(gt&&v&&fh(o),o.flags|=1,vr(s,o,c,y),o.child)}function fw(s,o,c,v,y){if(Er(c)){var _=!0;zu(o)}else _=!1;if(Pa(o,y),o.stateNode===null)ic(s,o),ew(o,c,v),Mh(o,c,v,y),v=!0;else if(s===null){var A=o.stateNode,C=o.memoizedProps;A.props=C;var R=A.context,K=c.contextType;typeof K=="object"&&K!==null?K=tn(K):(K=Er(c)?Ss:dr.current,K=Sa(o,K));var ae=c.getDerivedStateFromProps,le=typeof ae=="function"||typeof A.getSnapshotBeforeUpdate=="function";le||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(C!==v||R!==K)&&tw(o,A,v,K),Gi=!1;var ie=o.memoizedState;A.state=ie,Gu(o,v,A,y),R=o.memoizedState,C!==v||ie!==R||kr.current||Gi?(typeof ae=="function"&&(Rh(o,c,ae,v),R=o.memoizedState),(C=Gi||Zx(o,c,C,v,ie,R,K))?(le||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(o.flags|=4194308)):(typeof A.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=v,o.memoizedState=R),A.props=v,A.state=R,A.context=K,v=C):(typeof A.componentDidMount=="function"&&(o.flags|=4194308),v=!1)}else{A=o.stateNode,Ax(s,o),C=o.memoizedProps,K=o.type===o.elementType?C:Sn(o.type,C),A.props=K,le=o.pendingProps,ie=A.context,R=c.contextType,typeof R=="object"&&R!==null?R=tn(R):(R=Er(c)?Ss:dr.current,R=Sa(o,R));var xe=c.getDerivedStateFromProps;(ae=typeof xe=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(C!==le||ie!==R)&&tw(o,A,v,R),Gi=!1,ie=o.memoizedState,A.state=ie,Gu(o,v,A,y);var Ee=o.memoizedState;C!==le||ie!==Ee||kr.current||Gi?(typeof xe=="function"&&(Rh(o,c,xe,v),Ee=o.memoizedState),(K=Gi||Zx(o,c,K,v,ie,Ee,R)||!1)?(ae||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(v,Ee,R),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(v,Ee,R)),typeof A.componentDidUpdate=="function"&&(o.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof A.componentDidUpdate!="function"||C===s.memoizedProps&&ie===s.memoizedState||(o.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&ie===s.memoizedState||(o.flags|=1024),o.memoizedProps=v,o.memoizedState=Ee),A.props=v,A.state=Ee,A.context=R,v=K):(typeof A.componentDidUpdate!="function"||C===s.memoizedProps&&ie===s.memoizedState||(o.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&ie===s.memoizedState||(o.flags|=1024),v=!1)}return zh(s,o,c,v,_,y)}function zh(s,o,c,v,y,_){dw(s,o);var A=(o.flags&128)!==0;if(!v&&!A)return y&&gx(o,c,!1),di(s,o,_);v=o.stateNode,$C.current=o;var C=A&&typeof c.getDerivedStateFromError!="function"?null:v.render();return o.flags|=1,s!==null&&A?(o.child=Na(o,s.child,null,_),o.child=Na(o,null,C,_)):vr(s,o,C,_),o.memoizedState=v.state,y&&gx(o,c,!0),o.child}function hw(s){var o=s.stateNode;o.pendingContext?px(s,o.pendingContext,o.pendingContext!==o.context):o.context&&px(s,o.context,!1),Sh(s,o.containerInfo)}function mw(s,o,c,v,y){return Ea(),vh(y),o.flags|=256,vr(s,o,c,v),o.child}var Uh={dehydrated:null,treeContext:null,retryLane:0};function Bh(s){return{baseLanes:s,cachePool:null,transitions:null}}function pw(s,o,c){var v=o.pendingProps,y=bt.current,_=!1,A=(o.flags&128)!==0,C;if((C=A)||(C=s!==null&&s.memoizedState===null?!1:(y&2)!==0),C?(_=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(y|=1),lt(bt,y&1),s===null)return ph(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(A=v.children,s=v.fallback,_?(v=o.mode,_=o.child,A={mode:"hidden",children:A},(v&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=A):_=vc(A,v,0,null),s=Is(s,v,c,null),_.return=o,s.return=o,_.sibling=s,o.child=_,o.child.memoizedState=Bh(c),o.memoizedState=Uh,s):Vh(o,A));if(y=s.memoizedState,y!==null&&(C=y.dehydrated,C!==null))return LC(s,o,A,v,C,y,c);if(_){_=v.fallback,A=o.mode,y=s.child,C=y.sibling;var R={mode:"hidden",children:v.children};return(A&1)===0&&o.child!==y?(v=o.child,v.childLanes=0,v.pendingProps=R,o.deletions=null):(v=rs(y,R),v.subtreeFlags=y.subtreeFlags&14680064),C!==null?_=rs(C,_):(_=Is(_,A,c,null),_.flags|=2),_.return=o,v.return=o,v.sibling=_,o.child=v,v=_,_=o.child,A=s.child.memoizedState,A=A===null?Bh(c):{baseLanes:A.baseLanes|c,cachePool:null,transitions:A.transitions},_.memoizedState=A,_.childLanes=s.childLanes&~c,o.memoizedState=Uh,v}return _=s.child,s=_.sibling,v=rs(_,{mode:"visible",children:v.children}),(o.mode&1)===0&&(v.lanes=c),v.return=o,v.sibling=null,s!==null&&(c=o.deletions,c===null?(o.deletions=[s],o.flags|=16):c.push(s)),o.child=v,o.memoizedState=null,v}function Vh(s,o){return o=vc({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function nc(s,o,c,v){return v!==null&&vh(v),Na(o,s.child,null,c),s=Vh(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function LC(s,o,c,v,y,_,A){if(c)return o.flags&256?(o.flags&=-257,v=$h(Error(r(422))),nc(s,o,A,v)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(_=v.fallback,y=o.mode,v=vc({mode:"visible",children:v.children},y,0,null),_=Is(_,y,A,null),_.flags|=2,v.return=o,_.return=o,v.sibling=_,o.child=v,(o.mode&1)!==0&&Na(o,s.child,null,A),o.child.memoizedState=Bh(A),o.memoizedState=Uh,_);if((o.mode&1)===0)return nc(s,o,A,null);if(y.data==="$!"){if(v=y.nextSibling&&y.nextSibling.dataset,v)var C=v.dgst;return v=C,_=Error(r(419)),v=$h(_,v,void 0),nc(s,o,A,v)}if(C=(A&s.childLanes)!==0,Nr||C){if(v=Wt,v!==null){switch(A&-A){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(v.suspendedLanes|A))!==0?0:y,y!==0&&y!==_.retryLane&&(_.retryLane=y,ui(s,y),En(v,s,y,-1))}return sm(),v=$h(Error(r(421))),nc(s,o,A,v)}return y.data==="$?"?(o.flags|=128,o.child=s.child,o=XC.bind(null,s),y._reactRetry=o,null):(s=_.treeContext,Fr=Wi(y.nextSibling),Lr=o,gt=!0,_n=null,s!==null&&(Zr[en++]=oi,Zr[en++]=li,Zr[en++]=js,oi=s.id,li=s.overflow,js=o),o=Vh(o,v.children),o.flags|=4096,o)}function vw(s,o,c){s.lanes|=o;var v=s.alternate;v!==null&&(v.lanes|=o),wh(s.return,o,c)}function qh(s,o,c,v,y){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:v,tail:c,tailMode:y}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=v,_.tail=c,_.tailMode=y)}function gw(s,o,c){var v=o.pendingProps,y=v.revealOrder,_=v.tail;if(vr(s,o,v.children,c),v=bt.current,(v&2)!==0)v=v&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&vw(s,c,o);else if(s.tag===19)vw(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}v&=1}if(lt(bt,v),(o.mode&1)===0)o.memoizedState=null;else switch(y){case"forwards":for(c=o.child,y=null;c!==null;)s=c.alternate,s!==null&&Ju(s)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),qh(o,!1,y,c,_);break;case"backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(s=y.alternate,s!==null&&Ju(s)===null){o.child=y;break}s=y.sibling,y.sibling=c,c=y,y=s}qh(o,!0,c,null,_);break;case"together":qh(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ic(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function di(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),Ps|=o.lanes,(c&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(r(153));if(o.child!==null){for(s=o.child,c=rs(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=rs(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function FC(s,o,c){switch(o.tag){case 3:hw(o),Ea();break;case 5:Cx(o);break;case 1:Er(o.type)&&zu(o);break;case 4:Sh(o,o.stateNode.containerInfo);break;case 10:var v=o.type._context,y=o.memoizedProps.value;lt(Ku,v._currentValue),v._currentValue=y;break;case 13:if(v=o.memoizedState,v!==null)return v.dehydrated!==null?(lt(bt,bt.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?pw(s,o,c):(lt(bt,bt.current&1),s=di(s,o,c),s!==null?s.sibling:null);lt(bt,bt.current&1);break;case 19:if(v=(c&o.childLanes)!==0,(s.flags&128)!==0){if(v)return gw(s,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),lt(bt,bt.current),v)break;return null;case 22:case 23:return o.lanes=0,cw(s,o,c)}return di(s,o,c)}var yw,Wh,xw,ww;yw=function(s,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Wh=function(){},xw=function(s,o,c,v){var y=s.memoizedProps;if(y!==v){s=o.stateNode,Ns(Vn.current);var _=null;switch(c){case"input":y=We(s,y),v=We(s,v),_=[];break;case"select":y=se({},y,{value:void 0}),v=se({},v,{value:void 0}),_=[];break;case"textarea":y=D(s,y),v=D(s,v),_=[];break;default:typeof y.onClick!="function"&&typeof v.onClick=="function"&&(s.onclick=$u)}ti(c,v);var A;c=null;for(K in y)if(!v.hasOwnProperty(K)&&y.hasOwnProperty(K)&&y[K]!=null)if(K==="style"){var C=y[K];for(A in C)C.hasOwnProperty(A)&&(c||(c={}),c[A]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(i.hasOwnProperty(K)?_||(_=[]):(_=_||[]).push(K,null));for(K in v){var R=v[K];if(C=y!=null?y[K]:void 0,v.hasOwnProperty(K)&&R!==C&&(R!=null||C!=null))if(K==="style")if(C){for(A in C)!C.hasOwnProperty(A)||R&&R.hasOwnProperty(A)||(c||(c={}),c[A]="");for(A in R)R.hasOwnProperty(A)&&C[A]!==R[A]&&(c||(c={}),c[A]=R[A])}else c||(_||(_=[]),_.push(K,c)),c=R;else K==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,C=C?C.__html:void 0,R!=null&&C!==R&&(_=_||[]).push(K,R)):K==="children"?typeof R!="string"&&typeof R!="number"||(_=_||[]).push(K,""+R):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(i.hasOwnProperty(K)?(R!=null&&K==="onScroll"&&ft("scroll",s),_||C===R||(_=[])):(_=_||[]).push(K,R))}c&&(_=_||[]).push("style",c);var K=_;(o.updateQueue=K)&&(o.flags|=4)}},ww=function(s,o,c,v){c!==v&&(o.flags|=4)};function al(s,o){if(!gt)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var v=null;c!==null;)c.alternate!==null&&(v=c),c=c.sibling;v===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:v.sibling=null}}function hr(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,v=0;if(o)for(var y=s.child;y!==null;)c|=y.lanes|y.childLanes,v|=y.subtreeFlags&14680064,v|=y.flags&14680064,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)c|=y.lanes|y.childLanes,v|=y.subtreeFlags,v|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=v,s.childLanes=c,o}function zC(s,o,c){var v=o.pendingProps;switch(hh(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hr(o),null;case 1:return Er(o.type)&&Fu(),hr(o),null;case 3:return v=o.stateNode,Oa(),ht(kr),ht(dr),Eh(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(s===null||s.child===null)&&(qu(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,_n!==null&&(rm(_n),_n=null))),Wh(s,o),hr(o),null;case 5:jh(o);var y=Ns(tl.current);if(c=o.type,s!==null&&o.stateNode!=null)xw(s,o,c,v,y),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!v){if(o.stateNode===null)throw Error(r(166));return hr(o),null}if(s=Ns(Vn.current),qu(o)){v=o.stateNode,c=o.type;var _=o.memoizedProps;switch(v[Bn]=o,v[Jo]=_,s=(o.mode&1)!==0,c){case"dialog":ft("cancel",v),ft("close",v);break;case"iframe":case"object":case"embed":ft("load",v);break;case"video":case"audio":for(y=0;y<Ho.length;y++)ft(Ho[y],v);break;case"source":ft("error",v);break;case"img":case"image":case"link":ft("error",v),ft("load",v);break;case"details":ft("toggle",v);break;case"input":Pt(v,_),ft("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!_.multiple},ft("invalid",v);break;case"textarea":W(v,_),ft("invalid",v)}ti(c,_),y=null;for(var A in _)if(_.hasOwnProperty(A)){var C=_[A];A==="children"?typeof C=="string"?v.textContent!==C&&(_.suppressHydrationWarning!==!0&&Mu(v.textContent,C,s),y=["children",C]):typeof C=="number"&&v.textContent!==""+C&&(_.suppressHydrationWarning!==!0&&Mu(v.textContent,C,s),y=["children",""+C]):i.hasOwnProperty(A)&&C!=null&&A==="onScroll"&&ft("scroll",v)}switch(c){case"input":te(v),Fn(v,_,!0);break;case"textarea":te(v),me(v);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(v.onclick=$u)}v=y,o.updateQueue=v,v!==null&&(o.flags|=4)}else{A=y.nodeType===9?y:y.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=fe(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=A.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof v.is=="string"?s=A.createElement(c,{is:v.is}):(s=A.createElement(c),c==="select"&&(A=s,v.multiple?A.multiple=!0:v.size&&(A.size=v.size))):s=A.createElementNS(s,c),s[Bn]=o,s[Jo]=v,yw(s,o,!1,!1),o.stateNode=s;e:{switch(A=xs(c,v),c){case"dialog":ft("cancel",s),ft("close",s),y=v;break;case"iframe":case"object":case"embed":ft("load",s),y=v;break;case"video":case"audio":for(y=0;y<Ho.length;y++)ft(Ho[y],s);y=v;break;case"source":ft("error",s),y=v;break;case"img":case"image":case"link":ft("error",s),ft("load",s),y=v;break;case"details":ft("toggle",s),y=v;break;case"input":Pt(s,v),y=We(s,v),ft("invalid",s);break;case"option":y=v;break;case"select":s._wrapperState={wasMultiple:!!v.multiple},y=se({},v,{value:void 0}),ft("invalid",s);break;case"textarea":W(s,v),y=D(s,v),ft("invalid",s);break;default:y=v}ti(c,y),C=y;for(_ in C)if(C.hasOwnProperty(_)){var R=C[_];_==="style"?ei(s,R):_==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&Ke(s,R)):_==="children"?typeof R=="string"?(c!=="textarea"||R!=="")&&et(s,R):typeof R=="number"&&et(s,""+R):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(i.hasOwnProperty(_)?R!=null&&_==="onScroll"&&ft("scroll",s):R!=null&&N(s,_,R,A))}switch(c){case"input":te(s),Fn(s,v,!1);break;case"textarea":te(s),me(s);break;case"option":v.value!=null&&s.setAttribute("value",""+qe(v.value));break;case"select":s.multiple=!!v.multiple,_=v.value,_!=null?ur(s,!!v.multiple,_,!1):v.defaultValue!=null&&ur(s,!!v.multiple,v.defaultValue,!0);break;default:typeof y.onClick=="function"&&(s.onclick=$u)}switch(c){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return hr(o),null;case 6:if(s&&o.stateNode!=null)ww(s,o,s.memoizedProps,v);else{if(typeof v!="string"&&o.stateNode===null)throw Error(r(166));if(c=Ns(tl.current),Ns(Vn.current),qu(o)){if(v=o.stateNode,c=o.memoizedProps,v[Bn]=o,(_=v.nodeValue!==c)&&(s=Lr,s!==null))switch(s.tag){case 3:Mu(v.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Mu(v.nodeValue,c,(s.mode&1)!==0)}_&&(o.flags|=4)}else v=(c.nodeType===9?c:c.ownerDocument).createTextNode(v),v[Bn]=o,o.stateNode=v}return hr(o),null;case 13:if(ht(bt),v=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(gt&&Fr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Sx(),Ea(),o.flags|=98560,_=!1;else if(_=qu(o),v!==null&&v.dehydrated!==null){if(s===null){if(!_)throw Error(r(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[Bn]=o}else Ea(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;hr(o),_=!1}else _n!==null&&(rm(_n),_n=null),_=!0;if(!_)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(v=v!==null,v!==(s!==null&&s.memoizedState!==null)&&v&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(bt.current&1)!==0?Lt===0&&(Lt=3):sm())),o.updateQueue!==null&&(o.flags|=4),hr(o),null);case 4:return Oa(),Wh(s,o),s===null&&Yo(o.stateNode.containerInfo),hr(o),null;case 10:return xh(o.type._context),hr(o),null;case 17:return Er(o.type)&&Fu(),hr(o),null;case 19:if(ht(bt),_=o.memoizedState,_===null)return hr(o),null;if(v=(o.flags&128)!==0,A=_.rendering,A===null)if(v)al(_,!1);else{if(Lt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(A=Ju(s),A!==null){for(o.flags|=128,al(_,!1),v=A.updateQueue,v!==null&&(o.updateQueue=v,o.flags|=4),o.subtreeFlags=0,v=c,c=o.child;c!==null;)_=c,s=v,_.flags&=14680066,A=_.alternate,A===null?(_.childLanes=0,_.lanes=s,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=A.childLanes,_.lanes=A.lanes,_.child=A.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=A.memoizedProps,_.memoizedState=A.memoizedState,_.updateQueue=A.updateQueue,_.type=A.type,s=A.dependencies,_.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return lt(bt,bt.current&1|2),o.child}s=s.sibling}_.tail!==null&&jt()>Da&&(o.flags|=128,v=!0,al(_,!1),o.lanes=4194304)}else{if(!v)if(s=Ju(A),s!==null){if(o.flags|=128,v=!0,c=s.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),al(_,!0),_.tail===null&&_.tailMode==="hidden"&&!A.alternate&&!gt)return hr(o),null}else 2*jt()-_.renderingStartTime>Da&&c!==1073741824&&(o.flags|=128,v=!0,al(_,!1),o.lanes=4194304);_.isBackwards?(A.sibling=o.child,o.child=A):(c=_.last,c!==null?c.sibling=A:o.child=A,_.last=A)}return _.tail!==null?(o=_.tail,_.rendering=o,_.tail=o.sibling,_.renderingStartTime=jt(),o.sibling=null,c=bt.current,lt(bt,v?c&1|2:c&1),o):(hr(o),null);case 22:case 23:return im(),v=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==v&&(o.flags|=8192),v&&(o.mode&1)!==0?(zr&1073741824)!==0&&(hr(o),o.subtreeFlags&6&&(o.flags|=8192)):hr(o),null;case 24:return null;case 25:return null}throw Error(r(156,o.tag))}function UC(s,o){switch(hh(o),o.tag){case 1:return Er(o.type)&&Fu(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Oa(),ht(kr),ht(dr),Eh(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return jh(o),null;case 13:if(ht(bt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Ea()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return ht(bt),null;case 4:return Oa(),null;case 10:return xh(o.type._context),null;case 22:case 23:return im(),null;case 24:return null;default:return null}}var sc=!1,mr=!1,BC=typeof WeakSet=="function"?WeakSet:Set,_e=null;function Ta(s,o){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(v){St(s,o,v)}else c.current=null}function Kh(s,o,c){try{c()}catch(v){St(s,o,v)}}var bw=!1;function VC(s,o){if(ih=ku,s=Z0(),Jf(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var v=c.getSelection&&c.getSelection();if(v&&v.rangeCount!==0){c=v.anchorNode;var y=v.anchorOffset,_=v.focusNode;v=v.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var A=0,C=-1,R=-1,K=0,ae=0,le=s,ie=null;t:for(;;){for(var xe;le!==c||y!==0&&le.nodeType!==3||(C=A+y),le!==_||v!==0&&le.nodeType!==3||(R=A+v),le.nodeType===3&&(A+=le.nodeValue.length),(xe=le.firstChild)!==null;)ie=le,le=xe;for(;;){if(le===s)break t;if(ie===c&&++K===y&&(C=A),ie===_&&++ae===v&&(R=A),(xe=le.nextSibling)!==null)break;le=ie,ie=le.parentNode}le=xe}c=C===-1||R===-1?null:{start:C,end:R}}else c=null}c=c||{start:0,end:0}}else c=null;for(sh={focusedElem:s,selectionRange:c},ku=!1,_e=o;_e!==null;)if(o=_e,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,_e=s;else for(;_e!==null;){o=_e;try{var Ee=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var Ne=Ee.memoizedProps,kt=Ee.memoizedState,z=o.stateNode,$=z.getSnapshotBeforeUpdate(o.elementType===o.type?Ne:Sn(o.type,Ne),kt);z.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var q=o.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ce){St(o,o.return,ce)}if(s=o.sibling,s!==null){s.return=o.return,_e=s;break}_e=o.return}return Ee=bw,bw=!1,Ee}function ol(s,o,c){var v=o.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var y=v=v.next;do{if((y.tag&s)===s){var _=y.destroy;y.destroy=void 0,_!==void 0&&Kh(o,c,_)}y=y.next}while(y!==v)}}function ac(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&s)===s){var v=c.create;c.destroy=v()}c=c.next}while(c!==o)}}function Hh(s){var o=s.ref;if(o!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof o=="function"?o(s):o.current=s}}function _w(s){var o=s.alternate;o!==null&&(s.alternate=null,_w(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Bn],delete o[Jo],delete o[uh],delete o[kC],delete o[EC])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Sw(s){return s.tag===5||s.tag===3||s.tag===4}function jw(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Sw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Yh(s,o,c){var v=s.tag;if(v===5||v===6)s=s.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(s,o):c.insertBefore(s,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(s,c)):(o=c,o.appendChild(s)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=$u));else if(v!==4&&(s=s.child,s!==null))for(Yh(s,o,c),s=s.sibling;s!==null;)Yh(s,o,c),s=s.sibling}function Gh(s,o,c){var v=s.tag;if(v===5||v===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(v!==4&&(s=s.child,s!==null))for(Gh(s,o,c),s=s.sibling;s!==null;)Gh(s,o,c),s=s.sibling}var rr=null,jn=!1;function Xi(s,o,c){for(c=c.child;c!==null;)kw(s,o,c),c=c.sibling}function kw(s,o,c){if(Un&&typeof Un.onCommitFiberUnmount=="function")try{Un.onCommitFiberUnmount(xu,c)}catch{}switch(c.tag){case 5:mr||Ta(c,o);case 6:var v=rr,y=jn;rr=null,Xi(s,o,c),rr=v,jn=y,rr!==null&&(jn?(s=rr,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):rr.removeChild(c.stateNode));break;case 18:rr!==null&&(jn?(s=rr,c=c.stateNode,s.nodeType===8?lh(s.parentNode,c):s.nodeType===1&&lh(s,c),Fo(s)):lh(rr,c.stateNode));break;case 4:v=rr,y=jn,rr=c.stateNode.containerInfo,jn=!0,Xi(s,o,c),rr=v,jn=y;break;case 0:case 11:case 14:case 15:if(!mr&&(v=c.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){y=v=v.next;do{var _=y,A=_.destroy;_=_.tag,A!==void 0&&((_&2)!==0||(_&4)!==0)&&Kh(c,o,A),y=y.next}while(y!==v)}Xi(s,o,c);break;case 1:if(!mr&&(Ta(c,o),v=c.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=c.memoizedProps,v.state=c.memoizedState,v.componentWillUnmount()}catch(C){St(c,o,C)}Xi(s,o,c);break;case 21:Xi(s,o,c);break;case 22:c.mode&1?(mr=(v=mr)||c.memoizedState!==null,Xi(s,o,c),mr=v):Xi(s,o,c);break;default:Xi(s,o,c)}}function Ew(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new BC),o.forEach(function(v){var y=QC.bind(null,s,v);c.has(v)||(c.add(v),v.then(y,y))})}}function kn(s,o){var c=o.deletions;if(c!==null)for(var v=0;v<c.length;v++){var y=c[v];try{var _=s,A=o,C=A;e:for(;C!==null;){switch(C.tag){case 5:rr=C.stateNode,jn=!1;break e;case 3:rr=C.stateNode.containerInfo,jn=!0;break e;case 4:rr=C.stateNode.containerInfo,jn=!0;break e}C=C.return}if(rr===null)throw Error(r(160));kw(_,A,y),rr=null,jn=!1;var R=y.alternate;R!==null&&(R.return=null),y.return=null}catch(K){St(y,o,K)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Nw(o,s),o=o.sibling}function Nw(s,o){var c=s.alternate,v=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(kn(o,s),Wn(s),v&4){try{ol(3,s,s.return),ac(3,s)}catch(Ne){St(s,s.return,Ne)}try{ol(5,s,s.return)}catch(Ne){St(s,s.return,Ne)}}break;case 1:kn(o,s),Wn(s),v&512&&c!==null&&Ta(c,c.return);break;case 5:if(kn(o,s),Wn(s),v&512&&c!==null&&Ta(c,c.return),s.flags&32){var y=s.stateNode;try{et(y,"")}catch(Ne){St(s,s.return,Ne)}}if(v&4&&(y=s.stateNode,y!=null)){var _=s.memoizedProps,A=c!==null?c.memoizedProps:_,C=s.type,R=s.updateQueue;if(s.updateQueue=null,R!==null)try{C==="input"&&_.type==="radio"&&_.name!=null&&vt(y,_),xs(C,A);var K=xs(C,_);for(A=0;A<R.length;A+=2){var ae=R[A],le=R[A+1];ae==="style"?ei(y,le):ae==="dangerouslySetInnerHTML"?Ke(y,le):ae==="children"?et(y,le):N(y,ae,le,K)}switch(C){case"input":Mt(y,_);break;case"textarea":J(y,_);break;case"select":var ie=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!_.multiple;var xe=_.value;xe!=null?ur(y,!!_.multiple,xe,!1):ie!==!!_.multiple&&(_.defaultValue!=null?ur(y,!!_.multiple,_.defaultValue,!0):ur(y,!!_.multiple,_.multiple?[]:"",!1))}y[Jo]=_}catch(Ne){St(s,s.return,Ne)}}break;case 6:if(kn(o,s),Wn(s),v&4){if(s.stateNode===null)throw Error(r(162));y=s.stateNode,_=s.memoizedProps;try{y.nodeValue=_}catch(Ne){St(s,s.return,Ne)}}break;case 3:if(kn(o,s),Wn(s),v&4&&c!==null&&c.memoizedState.isDehydrated)try{Fo(o.containerInfo)}catch(Ne){St(s,s.return,Ne)}break;case 4:kn(o,s),Wn(s);break;case 13:kn(o,s),Wn(s),y=s.child,y.flags&8192&&(_=y.memoizedState!==null,y.stateNode.isHidden=_,!_||y.alternate!==null&&y.alternate.memoizedState!==null||(Qh=jt())),v&4&&Ew(s);break;case 22:if(ae=c!==null&&c.memoizedState!==null,s.mode&1?(mr=(K=mr)||ae,kn(o,s),mr=K):kn(o,s),Wn(s),v&8192){if(K=s.memoizedState!==null,(s.stateNode.isHidden=K)&&!ae&&(s.mode&1)!==0)for(_e=s,ae=s.child;ae!==null;){for(le=_e=ae;_e!==null;){switch(ie=_e,xe=ie.child,ie.tag){case 0:case 11:case 14:case 15:ol(4,ie,ie.return);break;case 1:Ta(ie,ie.return);var Ee=ie.stateNode;if(typeof Ee.componentWillUnmount=="function"){v=ie,c=ie.return;try{o=v,Ee.props=o.memoizedProps,Ee.state=o.memoizedState,Ee.componentWillUnmount()}catch(Ne){St(v,c,Ne)}}break;case 5:Ta(ie,ie.return);break;case 22:if(ie.memoizedState!==null){Ow(le);continue}}xe!==null?(xe.return=ie,_e=xe):Ow(le)}ae=ae.sibling}e:for(ae=null,le=s;;){if(le.tag===5){if(ae===null){ae=le;try{y=le.stateNode,K?(_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(C=le.stateNode,R=le.memoizedProps.style,A=R!=null&&R.hasOwnProperty("display")?R.display:null,C.style.display=Zn("display",A))}catch(Ne){St(s,s.return,Ne)}}}else if(le.tag===6){if(ae===null)try{le.stateNode.nodeValue=K?"":le.memoizedProps}catch(Ne){St(s,s.return,Ne)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===s)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===s)break e;for(;le.sibling===null;){if(le.return===null||le.return===s)break e;ae===le&&(ae=null),le=le.return}ae===le&&(ae=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:kn(o,s),Wn(s),v&4&&Ew(s);break;case 21:break;default:kn(o,s),Wn(s)}}function Wn(s){var o=s.flags;if(o&2){try{e:{for(var c=s.return;c!==null;){if(Sw(c)){var v=c;break e}c=c.return}throw Error(r(160))}switch(v.tag){case 5:var y=v.stateNode;v.flags&32&&(et(y,""),v.flags&=-33);var _=jw(s);Gh(s,_,y);break;case 3:case 4:var A=v.stateNode.containerInfo,C=jw(s);Yh(s,C,A);break;default:throw Error(r(161))}}catch(R){St(s,s.return,R)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function qC(s,o,c){_e=s,Aw(s)}function Aw(s,o,c){for(var v=(s.mode&1)!==0;_e!==null;){var y=_e,_=y.child;if(y.tag===22&&v){var A=y.memoizedState!==null||sc;if(!A){var C=y.alternate,R=C!==null&&C.memoizedState!==null||mr;C=sc;var K=mr;if(sc=A,(mr=R)&&!K)for(_e=y;_e!==null;)A=_e,R=A.child,A.tag===22&&A.memoizedState!==null?Cw(y):R!==null?(R.return=A,_e=R):Cw(y);for(;_!==null;)_e=_,Aw(_),_=_.sibling;_e=y,sc=C,mr=K}Pw(s)}else(y.subtreeFlags&8772)!==0&&_!==null?(_.return=y,_e=_):Pw(s)}}function Pw(s){for(;_e!==null;){var o=_e;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:mr||ac(5,o);break;case 1:var v=o.stateNode;if(o.flags&4&&!mr)if(c===null)v.componentDidMount();else{var y=o.elementType===o.type?c.memoizedProps:Sn(o.type,c.memoizedProps);v.componentDidUpdate(y,c.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var _=o.updateQueue;_!==null&&Ox(o,_,v);break;case 3:var A=o.updateQueue;if(A!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}Ox(o,A,c)}break;case 5:var C=o.stateNode;if(c===null&&o.flags&4){c=C;var R=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&c.focus();break;case"img":R.src&&(c.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var K=o.alternate;if(K!==null){var ae=K.memoizedState;if(ae!==null){var le=ae.dehydrated;le!==null&&Fo(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}mr||o.flags&512&&Hh(o)}catch(ie){St(o,o.return,ie)}}if(o===s){_e=null;break}if(c=o.sibling,c!==null){c.return=o.return,_e=c;break}_e=o.return}}function Ow(s){for(;_e!==null;){var o=_e;if(o===s){_e=null;break}var c=o.sibling;if(c!==null){c.return=o.return,_e=c;break}_e=o.return}}function Cw(s){for(;_e!==null;){var o=_e;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{ac(4,o)}catch(R){St(o,c,R)}break;case 1:var v=o.stateNode;if(typeof v.componentDidMount=="function"){var y=o.return;try{v.componentDidMount()}catch(R){St(o,y,R)}}var _=o.return;try{Hh(o)}catch(R){St(o,_,R)}break;case 5:var A=o.return;try{Hh(o)}catch(R){St(o,A,R)}}}catch(R){St(o,o.return,R)}if(o===s){_e=null;break}var C=o.sibling;if(C!==null){C.return=o.return,_e=C;break}_e=o.return}}var WC=Math.ceil,oc=P.ReactCurrentDispatcher,Jh=P.ReactCurrentOwner,nn=P.ReactCurrentBatchConfig,Ge=0,Wt=null,Ot=null,nr=0,zr=0,Ia=Ki(0),Lt=0,ll=null,Ps=0,lc=0,Xh=0,ul=null,Ar=null,Qh=0,Da=1/0,fi=null,uc=!1,Zh=null,Qi=null,cc=!1,Zi=null,dc=0,cl=0,em=null,fc=-1,hc=0;function gr(){return(Ge&6)!==0?jt():fc!==-1?fc:fc=jt()}function es(s){return(s.mode&1)===0?1:(Ge&2)!==0&&nr!==0?nr&-nr:AC.transition!==null?(hc===0&&(hc=j0()),hc):(s=tt,s!==0||(s=window.event,s=s===void 0?16:I0(s.type)),s)}function En(s,o,c,v){if(50<cl)throw cl=0,em=null,Error(r(185));Do(s,c,v),((Ge&2)===0||s!==Wt)&&(s===Wt&&((Ge&2)===0&&(lc|=c),Lt===4&&ts(s,nr)),Pr(s,v),c===1&&Ge===0&&(o.mode&1)===0&&(Da=jt()+500,Uu&&Yi()))}function Pr(s,o){var c=s.callbackNode;AO(s,o);var v=_u(s,s===Wt?nr:0);if(v===0)c!==null&&b0(c),s.callbackNode=null,s.callbackPriority=0;else if(o=v&-v,s.callbackPriority!==o){if(c!=null&&b0(c),o===1)s.tag===0?NC(Iw.bind(null,s)):yx(Iw.bind(null,s)),SC(function(){(Ge&6)===0&&Yi()}),c=null;else{switch(k0(v)){case 1:c=If;break;case 4:c=_0;break;case 16:c=yu;break;case 536870912:c=S0;break;default:c=yu}c=Uw(c,Tw.bind(null,s))}s.callbackPriority=o,s.callbackNode=c}}function Tw(s,o){if(fc=-1,hc=0,(Ge&6)!==0)throw Error(r(327));var c=s.callbackNode;if(Ra()&&s.callbackNode!==c)return null;var v=_u(s,s===Wt?nr:0);if(v===0)return null;if((v&30)!==0||(v&s.expiredLanes)!==0||o)o=mc(s,v);else{o=v;var y=Ge;Ge|=2;var _=Rw();(Wt!==s||nr!==o)&&(fi=null,Da=jt()+500,Cs(s,o));do try{YC();break}catch(C){Dw(s,C)}while(!0);yh(),oc.current=_,Ge=y,Ot!==null?o=0:(Wt=null,nr=0,o=Lt)}if(o!==0){if(o===2&&(y=Df(s),y!==0&&(v=y,o=tm(s,y))),o===1)throw c=ll,Cs(s,0),ts(s,v),Pr(s,jt()),c;if(o===6)ts(s,v);else{if(y=s.current.alternate,(v&30)===0&&!KC(y)&&(o=mc(s,v),o===2&&(_=Df(s),_!==0&&(v=_,o=tm(s,_))),o===1))throw c=ll,Cs(s,0),ts(s,v),Pr(s,jt()),c;switch(s.finishedWork=y,s.finishedLanes=v,o){case 0:case 1:throw Error(r(345));case 2:Ts(s,Ar,fi);break;case 3:if(ts(s,v),(v&130023424)===v&&(o=Qh+500-jt(),10<o)){if(_u(s,0)!==0)break;if(y=s.suspendedLanes,(y&v)!==v){gr(),s.pingedLanes|=s.suspendedLanes&y;break}s.timeoutHandle=oh(Ts.bind(null,s,Ar,fi),o);break}Ts(s,Ar,fi);break;case 4:if(ts(s,v),(v&4194240)===v)break;for(o=s.eventTimes,y=-1;0<v;){var A=31-wn(v);_=1<<A,A=o[A],A>y&&(y=A),v&=~_}if(v=y,v=jt()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*WC(v/1960))-v,10<v){s.timeoutHandle=oh(Ts.bind(null,s,Ar,fi),v);break}Ts(s,Ar,fi);break;case 5:Ts(s,Ar,fi);break;default:throw Error(r(329))}}}return Pr(s,jt()),s.callbackNode===c?Tw.bind(null,s):null}function tm(s,o){var c=ul;return s.current.memoizedState.isDehydrated&&(Cs(s,o).flags|=256),s=mc(s,o),s!==2&&(o=Ar,Ar=c,o!==null&&rm(o)),s}function rm(s){Ar===null?Ar=s:Ar.push.apply(Ar,s)}function KC(s){for(var o=s;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var v=0;v<c.length;v++){var y=c[v],_=y.getSnapshot;y=y.value;try{if(!bn(_(),y))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ts(s,o){for(o&=~Xh,o&=~lc,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var c=31-wn(o),v=1<<c;s[c]=-1,o&=~v}}function Iw(s){if((Ge&6)!==0)throw Error(r(327));Ra();var o=_u(s,0);if((o&1)===0)return Pr(s,jt()),null;var c=mc(s,o);if(s.tag!==0&&c===2){var v=Df(s);v!==0&&(o=v,c=tm(s,v))}if(c===1)throw c=ll,Cs(s,0),ts(s,o),Pr(s,jt()),c;if(c===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Ts(s,Ar,fi),Pr(s,jt()),null}function nm(s,o){var c=Ge;Ge|=1;try{return s(o)}finally{Ge=c,Ge===0&&(Da=jt()+500,Uu&&Yi())}}function Os(s){Zi!==null&&Zi.tag===0&&(Ge&6)===0&&Ra();var o=Ge;Ge|=1;var c=nn.transition,v=tt;try{if(nn.transition=null,tt=1,s)return s()}finally{tt=v,nn.transition=c,Ge=o,(Ge&6)===0&&Yi()}}function im(){zr=Ia.current,ht(Ia)}function Cs(s,o){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,_C(c)),Ot!==null)for(c=Ot.return;c!==null;){var v=c;switch(hh(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&Fu();break;case 3:Oa(),ht(kr),ht(dr),Eh();break;case 5:jh(v);break;case 4:Oa();break;case 13:ht(bt);break;case 19:ht(bt);break;case 10:xh(v.type._context);break;case 22:case 23:im()}c=c.return}if(Wt=s,Ot=s=rs(s.current,null),nr=zr=o,Lt=0,ll=null,Xh=lc=Ps=0,Ar=ul=null,Es!==null){for(o=0;o<Es.length;o++)if(c=Es[o],v=c.interleaved,v!==null){c.interleaved=null;var y=v.next,_=c.pending;if(_!==null){var A=_.next;_.next=y,v.next=A}c.pending=v}Es=null}return s}function Dw(s,o){do{var c=Ot;try{if(yh(),Xu.current=tc,Qu){for(var v=_t.memoizedState;v!==null;){var y=v.queue;y!==null&&(y.pending=null),v=v.next}Qu=!1}if(As=0,qt=$t=_t=null,rl=!1,nl=0,Jh.current=null,c===null||c.return===null){Lt=1,ll=o,Ot=null;break}e:{var _=s,A=c.return,C=c,R=o;if(o=nr,C.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var K=R,ae=C,le=ae.tag;if((ae.mode&1)===0&&(le===0||le===11||le===15)){var ie=ae.alternate;ie?(ae.updateQueue=ie.updateQueue,ae.memoizedState=ie.memoizedState,ae.lanes=ie.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var xe=sw(A);if(xe!==null){xe.flags&=-257,aw(xe,A,C,_,o),xe.mode&1&&iw(_,K,o),o=xe,R=K;var Ee=o.updateQueue;if(Ee===null){var Ne=new Set;Ne.add(R),o.updateQueue=Ne}else Ee.add(R);break e}else{if((o&1)===0){iw(_,K,o),sm();break e}R=Error(r(426))}}else if(gt&&C.mode&1){var kt=sw(A);if(kt!==null){(kt.flags&65536)===0&&(kt.flags|=256),aw(kt,A,C,_,o),vh(Ca(R,C));break e}}_=R=Ca(R,C),Lt!==4&&(Lt=2),ul===null?ul=[_]:ul.push(_),_=A;do{switch(_.tag){case 3:_.flags|=65536,o&=-o,_.lanes|=o;var z=rw(_,R,o);Px(_,z);break e;case 1:C=R;var $=_.type,q=_.stateNode;if((_.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Qi===null||!Qi.has(q)))){_.flags|=65536,o&=-o,_.lanes|=o;var ce=nw(_,C,o);Px(_,ce);break e}}_=_.return}while(_!==null)}$w(c)}catch(Pe){o=Pe,Ot===c&&c!==null&&(Ot=c=c.return);continue}break}while(!0)}function Rw(){var s=oc.current;return oc.current=tc,s===null?tc:s}function sm(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),Wt===null||(Ps&268435455)===0&&(lc&268435455)===0||ts(Wt,nr)}function mc(s,o){var c=Ge;Ge|=2;var v=Rw();(Wt!==s||nr!==o)&&(fi=null,Cs(s,o));do try{HC();break}catch(y){Dw(s,y)}while(!0);if(yh(),Ge=c,oc.current=v,Ot!==null)throw Error(r(261));return Wt=null,nr=0,Lt}function HC(){for(;Ot!==null;)Mw(Ot)}function YC(){for(;Ot!==null&&!xO();)Mw(Ot)}function Mw(s){var o=zw(s.alternate,s,zr);s.memoizedProps=s.pendingProps,o===null?$w(s):Ot=o,Jh.current=null}function $w(s){var o=s;do{var c=o.alternate;if(s=o.return,(o.flags&32768)===0){if(c=zC(c,o,zr),c!==null){Ot=c;return}}else{if(c=UC(c,o),c!==null){c.flags&=32767,Ot=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Lt=6,Ot=null;return}}if(o=o.sibling,o!==null){Ot=o;return}Ot=o=s}while(o!==null);Lt===0&&(Lt=5)}function Ts(s,o,c){var v=tt,y=nn.transition;try{nn.transition=null,tt=1,GC(s,o,c,v)}finally{nn.transition=y,tt=v}return null}function GC(s,o,c,v){do Ra();while(Zi!==null);if((Ge&6)!==0)throw Error(r(327));c=s.finishedWork;var y=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var _=c.lanes|c.childLanes;if(PO(s,_),s===Wt&&(Ot=Wt=null,nr=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||cc||(cc=!0,Uw(yu,function(){return Ra(),null})),_=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||_){_=nn.transition,nn.transition=null;var A=tt;tt=1;var C=Ge;Ge|=4,Jh.current=null,VC(s,c),Nw(c,s),pC(sh),ku=!!ih,sh=ih=null,s.current=c,qC(c),wO(),Ge=C,tt=A,nn.transition=_}else s.current=c;if(cc&&(cc=!1,Zi=s,dc=y),_=s.pendingLanes,_===0&&(Qi=null),SO(c.stateNode),Pr(s,jt()),o!==null)for(v=s.onRecoverableError,c=0;c<o.length;c++)y=o[c],v(y.value,{componentStack:y.stack,digest:y.digest});if(uc)throw uc=!1,s=Zh,Zh=null,s;return(dc&1)!==0&&s.tag!==0&&Ra(),_=s.pendingLanes,(_&1)!==0?s===em?cl++:(cl=0,em=s):cl=0,Yi(),null}function Ra(){if(Zi!==null){var s=k0(dc),o=nn.transition,c=tt;try{if(nn.transition=null,tt=16>s?16:s,Zi===null)var v=!1;else{if(s=Zi,Zi=null,dc=0,(Ge&6)!==0)throw Error(r(331));var y=Ge;for(Ge|=4,_e=s.current;_e!==null;){var _=_e,A=_.child;if((_e.flags&16)!==0){var C=_.deletions;if(C!==null){for(var R=0;R<C.length;R++){var K=C[R];for(_e=K;_e!==null;){var ae=_e;switch(ae.tag){case 0:case 11:case 15:ol(8,ae,_)}var le=ae.child;if(le!==null)le.return=ae,_e=le;else for(;_e!==null;){ae=_e;var ie=ae.sibling,xe=ae.return;if(_w(ae),ae===K){_e=null;break}if(ie!==null){ie.return=xe,_e=ie;break}_e=xe}}}var Ee=_.alternate;if(Ee!==null){var Ne=Ee.child;if(Ne!==null){Ee.child=null;do{var kt=Ne.sibling;Ne.sibling=null,Ne=kt}while(Ne!==null)}}_e=_}}if((_.subtreeFlags&2064)!==0&&A!==null)A.return=_,_e=A;else e:for(;_e!==null;){if(_=_e,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:ol(9,_,_.return)}var z=_.sibling;if(z!==null){z.return=_.return,_e=z;break e}_e=_.return}}var $=s.current;for(_e=$;_e!==null;){A=_e;var q=A.child;if((A.subtreeFlags&2064)!==0&&q!==null)q.return=A,_e=q;else e:for(A=$;_e!==null;){if(C=_e,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:ac(9,C)}}catch(Pe){St(C,C.return,Pe)}if(C===A){_e=null;break e}var ce=C.sibling;if(ce!==null){ce.return=C.return,_e=ce;break e}_e=C.return}}if(Ge=y,Yi(),Un&&typeof Un.onPostCommitFiberRoot=="function")try{Un.onPostCommitFiberRoot(xu,s)}catch{}v=!0}return v}finally{tt=c,nn.transition=o}}return!1}function Lw(s,o,c){o=Ca(c,o),o=rw(s,o,1),s=Ji(s,o,1),o=gr(),s!==null&&(Do(s,1,o),Pr(s,o))}function St(s,o,c){if(s.tag===3)Lw(s,s,c);else for(;o!==null;){if(o.tag===3){Lw(o,s,c);break}else if(o.tag===1){var v=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Qi===null||!Qi.has(v))){s=Ca(c,s),s=nw(o,s,1),o=Ji(o,s,1),s=gr(),o!==null&&(Do(o,1,s),Pr(o,s));break}}o=o.return}}function JC(s,o,c){var v=s.pingCache;v!==null&&v.delete(o),o=gr(),s.pingedLanes|=s.suspendedLanes&c,Wt===s&&(nr&c)===c&&(Lt===4||Lt===3&&(nr&130023424)===nr&&500>jt()-Qh?Cs(s,0):Xh|=c),Pr(s,o)}function Fw(s,o){o===0&&((s.mode&1)===0?o=1:(o=bu,bu<<=1,(bu&130023424)===0&&(bu=4194304)));var c=gr();s=ui(s,o),s!==null&&(Do(s,o,c),Pr(s,c))}function XC(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),Fw(s,c)}function QC(s,o){var c=0;switch(s.tag){case 13:var v=s.stateNode,y=s.memoizedState;y!==null&&(c=y.retryLane);break;case 19:v=s.stateNode;break;default:throw Error(r(314))}v!==null&&v.delete(o),Fw(s,c)}var zw;zw=function(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps||kr.current)Nr=!0;else{if((s.lanes&c)===0&&(o.flags&128)===0)return Nr=!1,FC(s,o,c);Nr=(s.flags&131072)!==0}else Nr=!1,gt&&(o.flags&1048576)!==0&&xx(o,Vu,o.index);switch(o.lanes=0,o.tag){case 2:var v=o.type;ic(s,o),s=o.pendingProps;var y=Sa(o,dr.current);Pa(o,c),y=Ph(null,o,v,s,y,c);var _=Oh();return o.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Er(v)?(_=!0,zu(o)):_=!1,o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,_h(o),y.updater=rc,o.stateNode=y,y._reactInternals=o,Mh(o,v,s,c),o=zh(null,o,v,!0,_,c)):(o.tag=0,gt&&_&&fh(o),vr(null,o,y,c),o=o.child),o;case 16:v=o.elementType;e:{switch(ic(s,o),s=o.pendingProps,y=v._init,v=y(v._payload),o.type=v,y=o.tag=e2(v),s=Sn(v,s),y){case 0:o=Fh(null,o,v,s,c);break e;case 1:o=fw(null,o,v,s,c);break e;case 11:o=ow(null,o,v,s,c);break e;case 14:o=lw(null,o,v,Sn(v.type,s),c);break e}throw Error(r(306,v,""))}return o;case 0:return v=o.type,y=o.pendingProps,y=o.elementType===v?y:Sn(v,y),Fh(s,o,v,y,c);case 1:return v=o.type,y=o.pendingProps,y=o.elementType===v?y:Sn(v,y),fw(s,o,v,y,c);case 3:e:{if(hw(o),s===null)throw Error(r(387));v=o.pendingProps,_=o.memoizedState,y=_.element,Ax(s,o),Gu(o,v,null,c);var A=o.memoizedState;if(v=A.element,_.isDehydrated)if(_={element:v,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){y=Ca(Error(r(423)),o),o=mw(s,o,v,c,y);break e}else if(v!==y){y=Ca(Error(r(424)),o),o=mw(s,o,v,c,y);break e}else for(Fr=Wi(o.stateNode.containerInfo.firstChild),Lr=o,gt=!0,_n=null,c=Ex(o,null,v,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ea(),v===y){o=di(s,o,c);break e}vr(s,o,v,c)}o=o.child}return o;case 5:return Cx(o),s===null&&ph(o),v=o.type,y=o.pendingProps,_=s!==null?s.memoizedProps:null,A=y.children,ah(v,y)?A=null:_!==null&&ah(v,_)&&(o.flags|=32),dw(s,o),vr(s,o,A,c),o.child;case 6:return s===null&&ph(o),null;case 13:return pw(s,o,c);case 4:return Sh(o,o.stateNode.containerInfo),v=o.pendingProps,s===null?o.child=Na(o,null,v,c):vr(s,o,v,c),o.child;case 11:return v=o.type,y=o.pendingProps,y=o.elementType===v?y:Sn(v,y),ow(s,o,v,y,c);case 7:return vr(s,o,o.pendingProps,c),o.child;case 8:return vr(s,o,o.pendingProps.children,c),o.child;case 12:return vr(s,o,o.pendingProps.children,c),o.child;case 10:e:{if(v=o.type._context,y=o.pendingProps,_=o.memoizedProps,A=y.value,lt(Ku,v._currentValue),v._currentValue=A,_!==null)if(bn(_.value,A)){if(_.children===y.children&&!kr.current){o=di(s,o,c);break e}}else for(_=o.child,_!==null&&(_.return=o);_!==null;){var C=_.dependencies;if(C!==null){A=_.child;for(var R=C.firstContext;R!==null;){if(R.context===v){if(_.tag===1){R=ci(-1,c&-c),R.tag=2;var K=_.updateQueue;if(K!==null){K=K.shared;var ae=K.pending;ae===null?R.next=R:(R.next=ae.next,ae.next=R),K.pending=R}}_.lanes|=c,R=_.alternate,R!==null&&(R.lanes|=c),wh(_.return,c,o),C.lanes|=c;break}R=R.next}}else if(_.tag===10)A=_.type===o.type?null:_.child;else if(_.tag===18){if(A=_.return,A===null)throw Error(r(341));A.lanes|=c,C=A.alternate,C!==null&&(C.lanes|=c),wh(A,c,o),A=_.sibling}else A=_.child;if(A!==null)A.return=_;else for(A=_;A!==null;){if(A===o){A=null;break}if(_=A.sibling,_!==null){_.return=A.return,A=_;break}A=A.return}_=A}vr(s,o,y.children,c),o=o.child}return o;case 9:return y=o.type,v=o.pendingProps.children,Pa(o,c),y=tn(y),v=v(y),o.flags|=1,vr(s,o,v,c),o.child;case 14:return v=o.type,y=Sn(v,o.pendingProps),y=Sn(v.type,y),lw(s,o,v,y,c);case 15:return uw(s,o,o.type,o.pendingProps,c);case 17:return v=o.type,y=o.pendingProps,y=o.elementType===v?y:Sn(v,y),ic(s,o),o.tag=1,Er(v)?(s=!0,zu(o)):s=!1,Pa(o,c),ew(o,v,y),Mh(o,v,y,c),zh(null,o,v,!0,s,c);case 19:return gw(s,o,c);case 22:return cw(s,o,c)}throw Error(r(156,o.tag))};function Uw(s,o){return w0(s,o)}function ZC(s,o,c,v){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(s,o,c,v){return new ZC(s,o,c,v)}function am(s){return s=s.prototype,!(!s||!s.isReactComponent)}function e2(s){if(typeof s=="function")return am(s)?1:0;if(s!=null){if(s=s.$$typeof,s===U)return 11;if(s===he)return 14}return 2}function rs(s,o){var c=s.alternate;return c===null?(c=sn(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function pc(s,o,c,v,y,_){var A=2;if(v=s,typeof s=="function")am(s)&&(A=1);else if(typeof s=="string")A=5;else e:switch(s){case L:return Is(c.children,y,_,o);case H:A=8,y|=8;break;case V:return s=sn(12,c,o,y|2),s.elementType=V,s.lanes=_,s;case Q:return s=sn(13,c,o,y),s.elementType=Q,s.lanes=_,s;case G:return s=sn(19,c,o,y),s.elementType=G,s.lanes=_,s;case pe:return vc(c,y,_,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case F:A=10;break e;case B:A=9;break e;case U:A=11;break e;case he:A=14;break e;case we:A=16,v=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return o=sn(A,c,o,y),o.elementType=s,o.type=v,o.lanes=_,o}function Is(s,o,c,v){return s=sn(7,s,v,o),s.lanes=c,s}function vc(s,o,c,v){return s=sn(22,s,v,o),s.elementType=pe,s.lanes=c,s.stateNode={isHidden:!1},s}function om(s,o,c){return s=sn(6,s,null,o),s.lanes=c,s}function lm(s,o,c){return o=sn(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function t2(s,o,c,v,y){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rf(0),this.expirationTimes=Rf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rf(0),this.identifierPrefix=v,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function um(s,o,c,v,y,_,A,C,R){return s=new t2(s,o,c,C,R),o===1?(o=1,_===!0&&(o|=8)):o=0,_=sn(3,null,null,o),s.current=_,_.stateNode=s,_.memoizedState={element:v,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},_h(_),s}function r2(s,o,c){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T,key:v==null?null:""+v,children:s,containerInfo:o,implementation:c}}function Bw(s){if(!s)return Hi;s=s._reactInternals;e:{if(bs(s)!==s||s.tag!==1)throw Error(r(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Er(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(r(171))}if(s.tag===1){var c=s.type;if(Er(c))return vx(s,c,o)}return o}function Vw(s,o,c,v,y,_,A,C,R){return s=um(c,v,!0,s,y,_,A,C,R),s.context=Bw(null),c=s.current,v=gr(),y=es(c),_=ci(v,y),_.callback=o??null,Ji(c,_,y),s.current.lanes=y,Do(s,y,v),Pr(s,v),s}function gc(s,o,c,v){var y=o.current,_=gr(),A=es(y);return c=Bw(c),o.context===null?o.context=c:o.pendingContext=c,o=ci(_,A),o.payload={element:s},v=v===void 0?null:v,v!==null&&(o.callback=v),s=Ji(y,o,A),s!==null&&(En(s,y,A,_),Yu(s,y,A)),A}function yc(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function qw(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function cm(s,o){qw(s,o),(s=s.alternate)&&qw(s,o)}function n2(){return null}var Ww=typeof reportError=="function"?reportError:function(s){console.error(s)};function dm(s){this._internalRoot=s}xc.prototype.render=dm.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(r(409));gc(s,o,null,null)},xc.prototype.unmount=dm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Os(function(){gc(null,s,null,null)}),o[si]=null}};function xc(s){this._internalRoot=s}xc.prototype.unstable_scheduleHydration=function(s){if(s){var o=A0();s={blockedOn:null,target:s,priority:o};for(var c=0;c<Bi.length&&o!==0&&o<Bi[c].priority;c++);Bi.splice(c,0,s),c===0&&C0(s)}};function fm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function wc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Kw(){}function i2(s,o,c,v,y){if(y){if(typeof v=="function"){var _=v;v=function(){var K=yc(A);_.call(K)}}var A=Vw(o,v,s,0,null,!1,!1,"",Kw);return s._reactRootContainer=A,s[si]=A.current,Yo(s.nodeType===8?s.parentNode:s),Os(),A}for(;y=s.lastChild;)s.removeChild(y);if(typeof v=="function"){var C=v;v=function(){var K=yc(R);C.call(K)}}var R=um(s,0,!1,null,null,!1,!1,"",Kw);return s._reactRootContainer=R,s[si]=R.current,Yo(s.nodeType===8?s.parentNode:s),Os(function(){gc(o,R,c,v)}),R}function bc(s,o,c,v,y){var _=c._reactRootContainer;if(_){var A=_;if(typeof y=="function"){var C=y;y=function(){var R=yc(A);C.call(R)}}gc(o,A,s,y)}else A=i2(c,o,s,y,v);return yc(A)}E0=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var c=Io(o.pendingLanes);c!==0&&(Mf(o,c|1),Pr(o,jt()),(Ge&6)===0&&(Da=jt()+500,Yi()))}break;case 13:Os(function(){var v=ui(s,1);if(v!==null){var y=gr();En(v,s,1,y)}}),cm(s,1)}},$f=function(s){if(s.tag===13){var o=ui(s,134217728);if(o!==null){var c=gr();En(o,s,134217728,c)}cm(s,134217728)}},N0=function(s){if(s.tag===13){var o=es(s),c=ui(s,o);if(c!==null){var v=gr();En(c,s,o,v)}cm(s,o)}},A0=function(){return tt},P0=function(s,o){var c=tt;try{return tt=s,o()}finally{tt=c}},To=function(s,o,c){switch(o){case"input":if(Mt(s,c),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var v=c[o];if(v!==s&&v.form===s.form){var y=Lu(v);if(!y)throw Error(r(90));X(v),Mt(v,y)}}}break;case"textarea":J(s,c);break;case"select":o=c.value,o!=null&&ur(s,!!c.multiple,o,!1)}},Le=nm,Ce=Os;var s2={usingClientEntryPoint:!1,Events:[Xo,ba,Lu,ge,Be,nm]},dl={findFiberByHostInstance:_s,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},a2={bundleType:dl.bundleType,version:dl.version,rendererPackageName:dl.rendererPackageName,rendererConfig:dl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=y0(s),s===null?null:s.stateNode},findFiberByHostInstance:dl.findFiberByHostInstance||n2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_c.isDisabled&&_c.supportsFiber)try{xu=_c.inject(a2),Un=_c}catch{}}return Or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s2,Or.createPortal=function(s,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fm(o))throw Error(r(200));return r2(s,o,null,c)},Or.createRoot=function(s,o){if(!fm(s))throw Error(r(299));var c=!1,v="",y=Ww;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(v=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),o=um(s,1,!1,null,null,c,!1,v,y),s[si]=o.current,Yo(s.nodeType===8?s.parentNode:s),new dm(o)},Or.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=y0(o),s=s===null?null:s.stateNode,s},Or.flushSync=function(s){return Os(s)},Or.hydrate=function(s,o,c){if(!wc(o))throw Error(r(200));return bc(null,s,o,!0,c)},Or.hydrateRoot=function(s,o,c){if(!fm(s))throw Error(r(405));var v=c!=null&&c.hydratedSources||null,y=!1,_="",A=Ww;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(_=c.identifierPrefix),c.onRecoverableError!==void 0&&(A=c.onRecoverableError)),o=Vw(o,null,s,1,c??null,y,!1,_,A),s[si]=o.current,Yo(s),v)for(s=0;s<v.length;s++)c=v[s],y=c._getVersion,y=y(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,y]:o.mutableSourceEagerHydrationData.push(c,y);return new xc(o)},Or.render=function(s,o,c){if(!wc(o))throw Error(r(200));return bc(null,s,o,!1,c)},Or.unmountComponentAtNode=function(s){if(!wc(s))throw Error(r(40));return s._reactRootContainer?(Os(function(){bc(null,null,s,!1,function(){s._reactRootContainer=null,s[si]=null})}),!0):!1},Or.unstable_batchedUpdates=nm,Or.unstable_renderSubtreeIntoContainer=function(s,o,c,v){if(!wc(c))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return bc(s,o,c,!1,v)},Or.version="18.3.1-next-f1338f8080-20240426",Or}var eb;function Vj(){if(eb)return vm.exports;eb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),vm.exports=y2(),vm.exports}var tb;function x2(){if(tb)return Sc;tb=1;var e=Vj();return Sc.createRoot=e.createRoot,Sc.hydrateRoot=e.hydrateRoot,Sc}var w2=x2();const b2=Dn(w2);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var rb="popstate";function _2(e={}){function t(n,i){let{pathname:a,search:l,hash:u}=n.location;return pv("",{pathname:a,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Rl(i)}return j2(t,r,null,e)}function xt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function hn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function S2(){return Math.random().toString(36).substring(2,10)}function nb(e,t){return{usr:e.state,key:e.key,idx:t}}function pv(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?go(t):t,state:r,key:t&&t.key||n||S2()}}function Rl({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function go(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function j2(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,l=i.history,u="POP",d=null,m=h();m==null&&(m=0,l.replaceState({...l.state,idx:m},""));function h(){return(l.state||{idx:null}).idx}function p(){u="POP";let x=h(),k=x==null?null:x-m;m=x,d&&d({action:u,location:b.location,delta:k})}function g(x,k){u="PUSH";let E=pv(b.location,x,k);m=h()+1;let N=nb(E,m),P=b.createHref(E);try{l.pushState(N,"",P)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(P)}a&&d&&d({action:u,location:b.location,delta:1})}function w(x,k){u="REPLACE";let E=pv(b.location,x,k);m=h();let N=nb(E,m),P=b.createHref(E);l.replaceState(N,"",P),a&&d&&d({action:u,location:b.location,delta:0})}function S(x){return k2(x)}let b={get action(){return u},get location(){return e(i,l)},listen(x){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(rb,p),d=x,()=>{i.removeEventListener(rb,p),d=null}},createHref(x){return t(i,x)},createURL:S,encodeLocation(x){let k=S(x);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:g,replace:w,go(x){return l.go(x)}};return b}function k2(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),xt(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Rl(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function qj(e,t,r="/"){return E2(e,t,r,!1)}function E2(e,t,r,n){let i=typeof t=="string"?go(t):t,a=ji(i.pathname||"/",r);if(a==null)return null;let l=Wj(e);N2(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let m=L2(a);u=M2(l[d],m,n)}return u}function Wj(e,t=[],r=[],n="",i=!1){let a=(l,u,d=i,m)=>{let h={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(n)&&d)return;xt(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length)}let p=bi([n,h.relativePath]),g=r.concat(h);l.children&&l.children.length>0&&(xt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Wj(l.children,t,g,p,d)),!(l.path==null&&!l.index)&&t.push({path:p,score:D2(p,l.index),routesMeta:g})};return e.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,u);else for(let m of Kj(l.path))a(l,u,!0,m)}),t}function Kj(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let l=Kj(n.join("/")),u=[];return u.push(...l.map(d=>d===""?a:[a,d].join("/"))),i&&u.push(...l),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function N2(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:R2(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var A2=/^:[\w-]+$/,P2=3,O2=2,C2=1,T2=10,I2=-2,ib=e=>e==="*";function D2(e,t){let r=e.split("/"),n=r.length;return r.some(ib)&&(n+=I2),t&&(n+=O2),r.filter(i=>!ib(i)).reduce((i,a)=>i+(A2.test(a)?P2:a===""?C2:T2),n)}function R2(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function M2(e,t,r=!1){let{routesMeta:n}=e,i={},a="/",l=[];for(let u=0;u<n.length;++u){let d=n[u],m=u===n.length-1,h=a==="/"?t:t.slice(a.length)||"/",p=Zc({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},h),g=d.route;if(!p&&m&&r&&!n[n.length-1].route.index&&(p=Zc({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),l.push({params:i,pathname:bi([a,p.pathname]),pathnameBase:B2(bi([a,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(a=bi([a,p.pathnameBase]))}return l}function Zc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=$2(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((m,{paramName:h,isOptional:p},g)=>{if(h==="*"){let S=u[g]||"";l=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const w=u[g];return p&&!w?m[h]=void 0:m[h]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:l,pattern:e}}function $2(e,t=!1,r=!0){hn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function L2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return hn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ji(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function F2(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?go(e):e;return{pathname:r?r.startsWith("/")?r:z2(r,t):t,search:V2(n),hash:q2(i)}}function z2(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function xm(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function U2(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function _g(e){let t=U2(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Sg(e,t,r,n=!1){let i;typeof e=="string"?i=go(e):(i={...e},xt(!i.pathname||!i.pathname.includes("?"),xm("?","pathname","search",i)),xt(!i.pathname||!i.pathname.includes("#"),xm("#","pathname","hash",i)),xt(!i.search||!i.search.includes("#"),xm("#","search","hash",i)));let a=e===""||i.pathname==="",l=a?"/":i.pathname,u;if(l==null)u=r;else{let p=t.length-1;if(!n&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}u=p>=0?t[p]:"/"}let d=F2(i,u),m=l&&l!=="/"&&l.endsWith("/"),h=(a||l===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(m||h)&&(d.pathname+="/"),d}var bi=e=>e.join("/").replace(/\/\/+/g,"/"),B2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),V2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,q2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function W2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Hj=["POST","PUT","PATCH","DELETE"];new Set(Hj);var K2=["GET",...Hj];new Set(K2);var yo=j.createContext(null);yo.displayName="DataRouter";var Yd=j.createContext(null);Yd.displayName="DataRouterState";j.createContext(!1);var Yj=j.createContext({isTransitioning:!1});Yj.displayName="ViewTransition";var H2=j.createContext(new Map);H2.displayName="Fetchers";var Y2=j.createContext(null);Y2.displayName="Await";var Rn=j.createContext(null);Rn.displayName="Navigation";var Yl=j.createContext(null);Yl.displayName="Location";var Qn=j.createContext({outlet:null,matches:[],isDataRoute:!1});Qn.displayName="Route";var jg=j.createContext(null);jg.displayName="RouteError";function G2(e,{relative:t}={}){xt(xo(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=j.useContext(Rn),{hash:i,pathname:a,search:l}=Gl(e,{relative:t}),u=a;return r!=="/"&&(u=a==="/"?r:bi([r,a])),n.createHref({pathname:u,search:l,hash:i})}function xo(){return j.useContext(Yl)!=null}function Pi(){return xt(xo(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Yl).location}var Gj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Jj(e){j.useContext(Rn).static||j.useLayoutEffect(e)}function gn(){let{isDataRoute:e}=j.useContext(Qn);return e?lT():J2()}function J2(){xt(xo(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(yo),{basename:t,navigator:r}=j.useContext(Rn),{matches:n}=j.useContext(Qn),{pathname:i}=Pi(),a=JSON.stringify(_g(n)),l=j.useRef(!1);return Jj(()=>{l.current=!0}),j.useCallback((d,m={})=>{if(hn(l.current,Gj),!l.current)return;if(typeof d=="number"){r.go(d);return}let h=Sg(d,JSON.parse(a),i,m.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:bi([t,h.pathname])),(m.replace?r.replace:r.push)(h,m.state,m)},[t,r,a,i,e])}j.createContext(null);function Gl(e,{relative:t}={}){let{matches:r}=j.useContext(Qn),{pathname:n}=Pi(),i=JSON.stringify(_g(r));return j.useMemo(()=>Sg(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function X2(e,t){return Xj(e,t)}function Xj(e,t,r,n,i){var E;xt(xo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=j.useContext(Rn),{matches:l}=j.useContext(Qn),u=l[l.length-1],d=u?u.params:{},m=u?u.pathname:"/",h=u?u.pathnameBase:"/",p=u&&u.route;{let N=p&&p.path||"";Qj(m,!p||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let g=Pi(),w;if(t){let N=typeof t=="string"?go(t):t;xt(h==="/"||((E=N.pathname)==null?void 0:E.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${N.pathname}" was given in the \`location\` prop.`),w=N}else w=g;let S=w.pathname||"/",b=S;if(h!=="/"){let N=h.replace(/^\//,"").split("/");b="/"+S.replace(/^\//,"").split("/").slice(N.length).join("/")}let x=qj(e,{pathname:b});hn(p||x!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),hn(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=rT(x&&x.map(N=>Object.assign({},N,{params:Object.assign({},d,N.params),pathname:bi([h,a.encodeLocation?a.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?h:bi([h,a.encodeLocation?a.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),l,r,n,i);return t&&k?j.createElement(Yl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},k):k}function Q2(){let e=oT(),t=W2(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:a},"ErrorBoundary")," or"," ",j.createElement("code",{style:a},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),r?j.createElement("pre",{style:i},r):null,l)}var Z2=j.createElement(Q2,null),eT=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?j.createElement(Qn.Provider,{value:this.props.routeContext},j.createElement(jg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tT({routeContext:e,match:t,children:r}){let n=j.useContext(yo);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(Qn.Provider,{value:e},r)}function rT(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,l=r==null?void 0:r.errors;if(l!=null){let m=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);xt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let u=!1,d=-1;if(r)for(let m=0;m<a.length;m++){let h=a[m];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=m),h.route.id){let{loaderData:p,errors:g}=r,w=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||w){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((m,h,p)=>{let g,w=!1,S=null,b=null;r&&(g=l&&h.route.id?l[h.route.id]:void 0,S=h.route.errorElement||Z2,u&&(d<0&&p===0?(Qj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,b=null):d===p&&(w=!0,b=h.route.hydrateFallbackElement||null)));let x=t.concat(a.slice(0,p+1)),k=()=>{let E;return g?E=S:w?E=b:h.route.Component?E=j.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=m,j.createElement(tT,{match:h,routeContext:{outlet:m,matches:x,isDataRoute:r!=null},children:E})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?j.createElement(eT,{location:r.location,revalidation:r.revalidation,component:S,error:g,children:k(),routeContext:{outlet:null,matches:x,isDataRoute:!0},unstable_onError:n}):k()},null)}function kg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nT(e){let t=j.useContext(yo);return xt(t,kg(e)),t}function iT(e){let t=j.useContext(Yd);return xt(t,kg(e)),t}function sT(e){let t=j.useContext(Qn);return xt(t,kg(e)),t}function Eg(e){let t=sT(e),r=t.matches[t.matches.length-1];return xt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function aT(){return Eg("useRouteId")}function oT(){var n;let e=j.useContext(jg),t=iT("useRouteError"),r=Eg("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function lT(){let{router:e}=nT("useNavigate"),t=Eg("useNavigate"),r=j.useRef(!1);return Jj(()=>{r.current=!0}),j.useCallback(async(i,a={})=>{hn(r.current,Gj),r.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var sb={};function Qj(e,t,r){!t&&!sb[e]&&(sb[e]=!0,hn(!1,r))}j.memo(uT);function uT({routes:e,future:t,state:r,unstable_onError:n}){return Xj(e,void 0,r,n,t)}function cT({to:e,replace:t,state:r,relative:n}){xt(xo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=j.useContext(Rn);hn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=j.useContext(Qn),{pathname:l}=Pi(),u=gn(),d=Sg(e,_g(a),l,n==="path"),m=JSON.stringify(d);return j.useEffect(()=>{u(JSON.parse(m),{replace:t,state:r,relative:n})},[u,m,n,t,r]),null}function ln(e){xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dT({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:a=!1}){xt(!xo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof r=="string"&&(r=go(r));let{pathname:d="/",search:m="",hash:h="",state:p=null,key:g="default"}=r,w=j.useMemo(()=>{let S=ji(d,l);return S==null?null:{location:{pathname:S,search:m,hash:h,state:p,key:g},navigationType:n}},[l,d,m,h,p,g,n]);return hn(w!=null,`<Router basename="${l}"> is not able to match the URL "${d}${m}${h}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:j.createElement(Rn.Provider,{value:u},j.createElement(Yl.Provider,{children:t,value:w}))}function fT({children:e,location:t}){return X2(vv(e),t)}function vv(e,t=[]){let r=[];return j.Children.forEach(e,(n,i)=>{if(!j.isValidElement(n))return;let a=[...t,i];if(n.type===j.Fragment){r.push.apply(r,vv(n.props.children,a));return}xt(n.type===ln,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=vv(n.props.children,a)),r.push(l)}),r}var Hc="get",Yc="application/x-www-form-urlencoded";function Gd(e){return e!=null&&typeof e.tagName=="string"}function hT(e){return Gd(e)&&e.tagName.toLowerCase()==="button"}function mT(e){return Gd(e)&&e.tagName.toLowerCase()==="form"}function pT(e){return Gd(e)&&e.tagName.toLowerCase()==="input"}function vT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function gT(e,t){return e.button===0&&(!t||t==="_self")&&!vT(e)}function gv(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function yT(e,t){let r=gv(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(a=>{r.append(i,a)})}),r}var jc=null;function xT(){if(jc===null)try{new FormData(document.createElement("form"),0),jc=!1}catch{jc=!0}return jc}var wT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wm(e){return e!=null&&!wT.has(e)?(hn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yc}"`),null):e}function bT(e,t){let r,n,i,a,l;if(mT(e)){let u=e.getAttribute("action");n=u?ji(u,t):null,r=e.getAttribute("method")||Hc,i=wm(e.getAttribute("enctype"))||Yc,a=new FormData(e)}else if(hT(e)||pT(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||u.getAttribute("action");if(n=d?ji(d,t):null,r=e.getAttribute("formmethod")||u.getAttribute("method")||Hc,i=wm(e.getAttribute("formenctype"))||wm(u.getAttribute("enctype"))||Yc,a=new FormData(u,e),!xT()){let{name:m,type:h,value:p}=e;if(h==="image"){let g=m?`${m}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else m&&a.append(m,p)}}else{if(Gd(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Hc,n=null,i=Yc,l=e}return a&&i==="text/plain"&&(l=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ng(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _T(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&ji(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function ST(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jT(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function kT(e,t,r){let n=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let l=await ST(a,r);return l.links?l.links():[]}return[]}));return PT(n.flat(1).filter(jT).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function ab(e,t,r,n,i,a){let l=(d,m)=>r[m]?d.route.id!==r[m].route.id:!0,u=(d,m)=>{var h;return r[m].pathname!==d.pathname||((h=r[m].route.path)==null?void 0:h.endsWith("*"))&&r[m].params["*"]!==d.params["*"]};return a==="assets"?t.filter((d,m)=>l(d,m)||u(d,m)):a==="data"?t.filter((d,m)=>{var p;let h=n.routes[d.route.id];if(!h||!h.hasLoader)return!1;if(l(d,m)||u(d,m))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=r[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function ET(e,t,{includeHydrateFallback:r}={}){return NT(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function NT(e){return[...new Set(e)]}function AT(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function PT(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let a=JSON.stringify(AT(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}function Zj(){let e=j.useContext(yo);return Ng(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function OT(){let e=j.useContext(Yd);return Ng(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ag=j.createContext(void 0);Ag.displayName="FrameworkContext";function ek(){let e=j.useContext(Ag);return Ng(e,"You must render this element inside a <HydratedRouter> element"),e}function CT(e,t){let r=j.useContext(Ag),[n,i]=j.useState(!1),[a,l]=j.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:m,onMouseLeave:h,onTouchStart:p}=t,g=j.useRef(null);j.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let b=k=>{k.forEach(E=>{l(E.isIntersecting)})},x=new IntersectionObserver(b,{threshold:.5});return g.current&&x.observe(g.current),()=>{x.disconnect()}}},[e]),j.useEffect(()=>{if(n){let b=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(b)}}},[n]);let w=()=>{i(!0)},S=()=>{i(!1),l(!1)};return r?e!=="intent"?[a,g,{}]:[a,g,{onFocus:hl(u,w),onBlur:hl(d,S),onMouseEnter:hl(m,w),onMouseLeave:hl(h,S),onTouchStart:hl(p,w)}]:[!1,g,{}]}function hl(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function TT({page:e,...t}){let{router:r}=Zj(),n=j.useMemo(()=>qj(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?j.createElement(DT,{page:e,matches:n,...t}):null}function IT(e){let{manifest:t,routeModules:r}=ek(),[n,i]=j.useState([]);return j.useEffect(()=>{let a=!1;return kT(e,t,r).then(l=>{a||i(l)}),()=>{a=!0}},[e,t,r]),n}function DT({page:e,matches:t,...r}){let n=Pi(),{manifest:i,routeModules:a}=ek(),{basename:l}=Zj(),{loaderData:u,matches:d}=OT(),m=j.useMemo(()=>ab(e,t,d,i,n,"data"),[e,t,d,i,n]),h=j.useMemo(()=>ab(e,t,d,i,n,"assets"),[e,t,d,i,n]),p=j.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let S=new Set,b=!1;if(t.forEach(k=>{var N;let E=i.routes[k.route.id];!E||!E.hasLoader||(!m.some(P=>P.route.id===k.route.id)&&k.route.id in u&&((N=a[k.route.id])!=null&&N.shouldRevalidate)||E.hasClientLoader?b=!0:S.add(k.route.id))}),S.size===0)return[];let x=_T(e,l,"data");return b&&S.size>0&&x.searchParams.set("_routes",t.filter(k=>S.has(k.route.id)).map(k=>k.route.id).join(",")),[x.pathname+x.search]},[l,u,n,i,m,t,e,a]),g=j.useMemo(()=>ET(h,i),[h,i]),w=IT(h);return j.createElement(j.Fragment,null,p.map(S=>j.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),g.map(S=>j.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),w.map(({key:S,link:b})=>j.createElement("link",{key:S,nonce:r.nonce,...b})))}function RT(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var tk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tk&&(window.__reactRouterVersion="7.9.4")}catch{}function MT({basename:e,children:t,window:r}){let n=j.useRef();n.current==null&&(n.current=_2({window:r,v5Compat:!0}));let i=n.current,[a,l]=j.useState({action:i.action,location:i.location}),u=j.useCallback(d=>{j.startTransition(()=>l(d))},[l]);return j.useLayoutEffect(()=>i.listen(u),[i,u]),j.createElement(dT,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i})}var rk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nk=j.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:l,state:u,target:d,to:m,preventScrollReset:h,viewTransition:p,...g},w){let{basename:S}=j.useContext(Rn),b=typeof m=="string"&&rk.test(m),x,k=!1;if(typeof m=="string"&&b&&(x=m,tk))try{let V=new URL(window.location.href),F=m.startsWith("//")?new URL(V.protocol+m):new URL(m),B=ji(F.pathname,S);F.origin===V.origin&&B!=null?m=B+F.search+F.hash:k=!0}catch{hn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=G2(m,{relative:i}),[N,P,O]=CT(n,g),T=zT(m,{replace:l,state:u,target:d,preventScrollReset:h,relative:i,viewTransition:p});function L(V){t&&t(V),V.defaultPrevented||T(V)}let H=j.createElement("a",{...g,...O,href:x||E,onClick:k||a?t:L,ref:RT(w,P),target:d,"data-discover":!b&&r==="render"?"true":void 0});return N&&!b?j.createElement(j.Fragment,null,H,j.createElement(TT,{page:E})):H});nk.displayName="Link";var $T=j.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:l,viewTransition:u,children:d,...m},h){let p=Gl(l,{relative:m.relative}),g=Pi(),w=j.useContext(Yd),{navigator:S,basename:b}=j.useContext(Rn),x=w!=null&&KT(p)&&u===!0,k=S.encodeLocation?S.encodeLocation(p).pathname:p.pathname,E=g.pathname,N=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;r||(E=E.toLowerCase(),N=N?N.toLowerCase():null,k=k.toLowerCase()),N&&b&&(N=ji(N,b)||N);const P=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let O=E===k||!i&&E.startsWith(k)&&E.charAt(P)==="/",T=N!=null&&(N===k||!i&&N.startsWith(k)&&N.charAt(k.length)==="/"),L={isActive:O,isPending:T,isTransitioning:x},H=O?t:void 0,V;typeof n=="function"?V=n(L):V=[n,O?"active":null,T?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let F=typeof a=="function"?a(L):a;return j.createElement(nk,{...m,"aria-current":H,className:V,ref:h,style:F,to:l,viewTransition:u},typeof d=="function"?d(L):d)});$T.displayName="NavLink";var LT=j.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:a,method:l=Hc,action:u,onSubmit:d,relative:m,preventScrollReset:h,viewTransition:p,...g},w)=>{let S=qT(),b=WT(u,{relative:m}),x=l.toLowerCase()==="get"?"get":"post",k=typeof u=="string"&&rk.test(u),E=N=>{if(d&&d(N),N.defaultPrevented)return;N.preventDefault();let P=N.nativeEvent.submitter,O=(P==null?void 0:P.getAttribute("formmethod"))||l;S(P||N.currentTarget,{fetcherKey:t,method:O,navigate:r,replace:i,state:a,relative:m,preventScrollReset:h,viewTransition:p})};return j.createElement("form",{ref:w,method:x,action:b,onSubmit:n?d:E,...g,"data-discover":!k&&e==="render"?"true":void 0})});LT.displayName="Form";function FT(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ik(e){let t=j.useContext(yo);return xt(t,FT(e)),t}function zT(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:l}={}){let u=gn(),d=Pi(),m=Gl(e,{relative:a});return j.useCallback(h=>{if(gT(h,t)){h.preventDefault();let p=r!==void 0?r:Rl(d)===Rl(m);u(e,{replace:p,state:n,preventScrollReset:i,relative:a,viewTransition:l})}},[d,u,m,r,n,t,e,i,a,l])}function UT(e){hn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=j.useRef(gv(e)),r=j.useRef(!1),n=Pi(),i=j.useMemo(()=>yT(n.search,r.current?null:t.current),[n.search]),a=gn(),l=j.useCallback((u,d)=>{const m=gv(typeof u=="function"?u(new URLSearchParams(i)):u);r.current=!0,a("?"+m,d)},[a,i]);return[i,l]}var BT=0,VT=()=>`__${String(++BT)}__`;function qT(){let{router:e}=ik("useSubmit"),{basename:t}=j.useContext(Rn),r=aT();return j.useCallback(async(n,i={})=>{let{action:a,method:l,encType:u,formData:d,body:m}=bT(n,t);if(i.navigate===!1){let h=i.fetcherKey||VT();await e.fetch(h,r,i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:m,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:m,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,r])}function WT(e,{relative:t}={}){let{basename:r}=j.useContext(Rn),n=j.useContext(Qn);xt(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...Gl(e||".",{relative:t})},l=Pi();if(e==null){a.search=l.search;let u=new URLSearchParams(a.search),d=u.getAll("index");if(d.some(h=>h==="")){u.delete("index"),d.filter(p=>p).forEach(p=>u.append("index",p));let h=u.toString();a.search=h?`?${h}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:bi([r,a.pathname])),Rl(a)}function KT(e,{relative:t}={}){let r=j.useContext(Yj);xt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=ik("useViewTransitionState"),i=Gl(e,{relative:t});if(!r.isTransitioning)return!1;let a=ji(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=ji(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Zc(i.pathname,l)!=null||Zc(i.pathname,a)!=null}var HT=Vj();const YT="modulepreload",GT=function(e,t){return new URL(e,t).href},ob={},Jl=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let l=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};const u=document.getElementsByTagName("link"),d=document.querySelector("meta[property=csp-nonce]"),m=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));i=l(r.map(h=>{if(h=GT(h,n),h in ob)return;ob[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(!!n)for(let b=u.length-1;b>=0;b--){const x=u[b];if(x.href===h&&(!p||x.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${h}"]${g}`))return;const S=document.createElement("link");if(S.rel=p?"stylesheet":YT,p||(S.as="script"),S.crossOrigin="",S.href=h,m&&S.setAttribute("nonce",m),document.head.appendChild(S),p)return new Promise((b,x)=>{S.addEventListener("load",b),S.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&a(u.reason);return t().catch(a)})},JT=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Jl(async()=>{const{default:n}=await Promise.resolve().then(()=>wo);return{default:n}},[],import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Pg extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class lb extends Pg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ub extends Pg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class cb extends Pg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var yv;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(yv||(yv={}));var XT=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function u(h){try{m(n.next(h))}catch(p){l(p)}}function d(h){try{m(n.throw(h))}catch(p){l(p)}}function m(h){h.done?a(h.value):i(h.value).then(u,d)}m((n=n.apply(e,t||[])).next())})};class QT{constructor(t,{headers:r={},customFetch:n,region:i=yv.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=JT(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return XT(this,arguments,void 0,function*(r,n={}){var i;try{const{headers:a,method:l,body:u,signal:d}=n;let m={},{region:h}=n;h||(h=this.region);const p=new URL(`${this.url}/${r}`);h&&h!=="any"&&(m["x-region"]=h,p.searchParams.set("forceFunctionRegion",h));let g;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(m["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(m["Content-Type"]="application/json",g=JSON.stringify(u)));const w=yield this.fetch(p.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),a),body:g,signal:d}).catch(k=>{throw k.name==="AbortError"?k:new lb(k)}),S=w.headers.get("x-relay-error");if(S&&S==="true")throw new ub(w);if(!w.ok)throw new cb(w);let b=((i=w.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),x;return b==="application/json"?x=yield w.json():b==="application/octet-stream"?x=yield w.blob():b==="text/event-stream"?x=w:b==="multipart/form-data"?x=yield w.formData():x=yield w.text(),{data:x,error:null,response:w}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new lb(a)}:{data:null,error:a,response:a instanceof cb||a instanceof ub?a.context:void 0}}})}}var Ht={},Ma={},$a={},La={},Fa={},za={},ZT=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ro=ZT();const eI=ro.fetch,sk=ro.fetch.bind(ro),ak=ro.Headers,tI=ro.Request,rI=ro.Response,wo=Object.freeze(Object.defineProperty({__proto__:null,Headers:ak,Request:tI,Response:rI,default:sk,fetch:eI},Symbol.toStringTag,{value:"Module"})),nI=d2(wo);var kc={},db;function ok(){if(db)return kc;db=1,Object.defineProperty(kc,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return kc.default=e,kc}var fb;function lk(){if(fb)return za;fb=1;var e=za&&za.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(za,"__esModule",{value:!0});const t=e(nI),r=e(ok());class n{constructor(a){var l,u;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(l=a.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=a.signal,this.isMaybeSingle=(u=a.isMaybeSingle)!==null&&u!==void 0?u:!1,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,l){return this.headers=new Headers(this.headers),this.headers.set(a,l),this}then(a,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var h,p,g,w;let S=null,b=null,x=null,k=m.status,E=m.statusText;if(m.ok){if(this.method!=="HEAD"){const T=await m.text();T===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?b=T:b=JSON.parse(T))}const P=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),O=(g=m.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");P&&O&&O.length>1&&(x=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(S={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,x=null,k=406,E="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const P=await m.text();try{S=JSON.parse(P),Array.isArray(S)&&m.status===404&&(b=[],S=null,k=200,E="OK")}catch{m.status===404&&P===""?(k=204,E="No Content"):S={message:P}}if(S&&this.isMaybeSingle&&(!((w=S==null?void 0:S.details)===null||w===void 0)&&w.includes("0 rows"))&&(S=null,k=200,E="OK"),S&&this.shouldThrowOnError)throw new r.default(S)}return{error:S,data:b,count:x,status:k,statusText:E}});return this.shouldThrowOnError||(d=d.catch(m=>{var h,p,g;return{error:{message:`${(h=m==null?void 0:m.name)!==null&&h!==void 0?h:"FetchError"}: ${m==null?void 0:m.message}`,details:`${(p=m==null?void 0:m.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(g=m==null?void 0:m.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),d.then(a,l)}returns(){return this}overrideTypes(){return this}}return za.default=n,za}var hb;function uk(){if(hb)return Fa;hb=1;var e=Fa&&Fa.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Fa,"__esModule",{value:!0});const t=e(lk());class r extends t.default{select(i){let a=!1;const l=(i??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:l,foreignTable:u,referencedTable:d=u}={}){const m=d?`${d}.order`:"order",h=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${h?`${h},`:""}${i}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:l=a}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this}range(i,a,{foreignTable:l,referencedTable:u=l}={}){const d=typeof u>"u"?"offset":`${u}.offset`,m=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${i}`),this.url.searchParams.set(m,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:l=!1,buffers:u=!1,wal:d=!1,format:m="text"}={}){var h;const p=[i?"analyze":null,a?"verbose":null,l?"settings":null,u?"buffers":null,d?"wal":null].filter(Boolean).join("|"),g=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${g}"; options=${p};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Fa.default=r,Fa}var mb;function Og(){if(mb)return La;mb=1;var e=La&&La.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(La,"__esModule",{value:!0});const t=e(uk());class r extends t.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const l=Array.from(new Set(a)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:l,type:u}={}){let d="";u==="plain"?d="pl":u==="phrase"?d="ph":u==="websearch"&&(d="w");const m=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${d}fts${m}.${a}`),this}match(i){return Object.entries(i).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(i,a,l){return this.url.searchParams.append(i,`not.${a}.${l}`),this}or(i,{foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,a,l){return this.url.searchParams.append(i,`${a}.${l}`),this}}return La.default=r,La}var pb;function ck(){if(pb)return $a;pb=1;var e=$a&&$a.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty($a,"__esModule",{value:!0});const t=e(Og());class r{constructor(i,{headers:a={},schema:l,fetch:u}){this.url=i,this.headers=new Headers(a),this.schema=l,this.fetch=u}select(i,a){const{head:l=!1,count:u}=a??{},d=l?"HEAD":"GET";let m=!1;const h=(i??"*").split("").map(p=>/\s/.test(p)&&!m?"":(p==='"'&&(m=!m),p)).join("");return this.url.searchParams.set("select",h),u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:l=!0}={}){var u;const d="POST";if(a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(m.length>0){const h=[...new Set(m)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:l=!1,count:u,defaultToNull:d=!0}={}){var m;const h="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((g,w)=>g.concat(Object.keys(w)),[]);if(p.length>0){const g=[...new Set(p)].map(w=>`"${w}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(i,{count:a}={}){var l;const u="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var a;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return $a.default=r,$a}var vb;function iI(){if(vb)return Ma;vb=1;var e=Ma&&Ma.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ma,"__esModule",{value:!0});const t=e(ck()),r=e(Og());class n{constructor(a,{headers:l={},schema:u,fetch:d}={}){this.url=a,this.headers=new Headers(l),this.schemaName=u,this.fetch=d}from(a){const l=new URL(`${this.url}/${a}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new n(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,l={},{head:u=!1,get:d=!1,count:m}={}){var h;let p;const g=new URL(`${this.url}/rpc/${a}`);let w;u||d?(p=u?"HEAD":"GET",Object.entries(l).filter(([b,x])=>x!==void 0).map(([b,x])=>[b,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([b,x])=>{g.searchParams.append(b,x)})):(p="POST",w=l);const S=new Headers(this.headers);return m&&S.set("Prefer",`count=${m}`),new r.default({method:p,url:g,headers:S,schema:this.schemaName,body:w,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return Ma.default=n,Ma}var gb;function sI(){if(gb)return Ht;gb=1;var e=Ht&&Ht.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.PostgrestError=Ht.PostgrestBuilder=Ht.PostgrestTransformBuilder=Ht.PostgrestFilterBuilder=Ht.PostgrestQueryBuilder=Ht.PostgrestClient=void 0;const t=e(iI());Ht.PostgrestClient=t.default;const r=e(ck());Ht.PostgrestQueryBuilder=r.default;const n=e(Og());Ht.PostgrestFilterBuilder=n.default;const i=e(uk());Ht.PostgrestTransformBuilder=i.default;const a=e(lk());Ht.PostgrestBuilder=a.default;const l=e(ok());return Ht.PostgrestError=l.default,Ht.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:l.default},Ht}var aI=sI();const oI=Dn(aI),{PostgrestClient:lI,PostgrestQueryBuilder:IK,PostgrestFilterBuilder:DK,PostgrestTransformBuilder:RK,PostgrestBuilder:MK,PostgrestError:$K}=oI;class uI{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const cI="2.74.0",dI=`realtime-js/${cI}`,fI="1.0.0",xv=1e4,hI=1e3,mI=100;var Al;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Al||(Al={}));var Ft;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ft||(Ft={}));var An;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(An||(An={}));var wv;(function(e){e.websocket="websocket"})(wv||(wv={}));var Us;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Us||(Us={}));class pI{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2);let l=this.HEADER_LENGTH+2;const u=n.decode(t.slice(l,l+i));l=l+i;const d=n.decode(t.slice(l,l+a));l=l+a;const m=JSON.parse(n.decode(t.slice(l,t.byteLength)));return{ref:null,topic:u,event:d,payload:m}}}class dk{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ut;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ut||(ut={}));const yb=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,l)=>(a[l]=vI(l,e,t,i),a),{}):{}},vI=(e,t,r,n)=>{const i=t.find(u=>u.name===e),a=i==null?void 0:i.type,l=r[e];return a&&!n.includes(a)?fk(a,l):bv(l)},fk=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return wI(t,r)}switch(e){case ut.bool:return gI(t);case ut.float4:case ut.float8:case ut.int2:case ut.int4:case ut.int8:case ut.numeric:case ut.oid:return yI(t);case ut.json:case ut.jsonb:return xI(t);case ut.timestamp:return bI(t);case ut.abstime:case ut.date:case ut.daterange:case ut.int4range:case ut.int8range:case ut.money:case ut.reltime:case ut.text:case ut.time:case ut.timestamptz:case ut.timetz:case ut.tsrange:case ut.tstzrange:return bv(t);default:return bv(t)}},bv=e=>e,gI=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},yI=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},xI=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},wI=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const l=e.slice(1,r);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(u=>fk(t,u))}return e},bI=e=>typeof e=="string"?e.replace(" ","T"):e,hk=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class bm{constructor(t,r,n={},i=xv){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var xb;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(xb||(xb={}));class Pl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Pl.syncState(this.state,i,a,l),this.pendingDiffs.forEach(d=>{this.state=Pl.syncDiff(this.state,d,a,l)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Pl.syncDiff(this.state,i,a,l),u())}),this.onJoin((i,a,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:l})}),this.onLeave((i,a,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),l=this.transformState(r),u={},d={};return this.map(a,(m,h)=>{l[m]||(d[m]=h)}),this.map(l,(m,h)=>{const p=a[m];if(p){const g=h.map(x=>x.presence_ref),w=p.map(x=>x.presence_ref),S=h.filter(x=>w.indexOf(x.presence_ref)<0),b=p.filter(x=>g.indexOf(x.presence_ref)<0);S.length>0&&(u[m]=S),b.length>0&&(d[m]=b)}else u[m]=h}),this.syncDiff(a,{joins:u,leaves:d},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(u,d)=>{var m;const h=(m=t[u])!==null&&m!==void 0?m:[];if(t[u]=this.cloneDeep(d),h.length>0){const p=t[u].map(w=>w.presence_ref),g=h.filter(w=>p.indexOf(w.presence_ref)<0);t[u].unshift(...g)}n(u,h,d)}),this.map(l,(u,d)=>{let m=t[u];if(!m)return;const h=d.map(p=>p.presence_ref);m=m.filter(p=>h.indexOf(p.presence_ref)<0),t[u]=m,i(u,m,d),m.length===0&&delete t[u]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var wb;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(wb||(wb={}));var Ol;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ol||(Ol={}));var pi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(pi||(pi={}));class Cg{constructor(t,r={config:{}},n){var i,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ft.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new bm(this,An.join,this.params,this.timeout),this.rejoinTimer=new dk(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ft.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ft.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ft.errored,this.rejoinTimer.scheduleTimeout())}),this._on(An.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new Pl(this),this.broadcastEndpointURL=hk(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Ft.closed){const{config:{broadcast:l,presence:u,private:d}}=this.params,m=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(w=>w.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[Ol.PRESENCE]&&this.bindings[Ol.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,p={},g={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:h}),postgres_changes:m,private:d};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(w=>t==null?void 0:t(pi.CHANNEL_ERROR,w)),this._onClose(()=>t==null?void 0:t(pi.CLOSED)),this.updateJoinPayload(Object.assign({config:g},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:w})=>{var S;if(this.socket.setAuth(),w===void 0){t==null||t(pi.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,x=(S=b==null?void 0:b.length)!==null&&S!==void 0?S:0,k=[];for(let E=0;E<x;E++){const N=b[E],{filter:{event:P,schema:O,table:T,filter:L}}=N,H=w&&w[E];if(H&&H.event===P&&H.schema===O&&H.table===T&&H.filter===L)k.push(Object.assign(Object.assign({},N),{id:H.id}));else{this.unsubscribe(),this.state=Ft.errored,t==null||t(pi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,t&&t(pi.SUBSCRIBED);return}}).receive("error",w=>{this.state=Ft.errored,t==null||t(pi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(pi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Ft.joined&&t===Ol.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:l}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=m.body)===null||i===void 0?void 0:i.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,u,d;const m=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),m.receive("ok",()=>a("ok")),m.receive("error",()=>a("error")),m.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ft.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(An.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new bm(this,An.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ft.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new bm(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>mI){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const l=t.toLocaleLowerCase(),{close:u,error:d,leave:m,join:h}=An;if(n&&[u,d,m,h].indexOf(l)>=0&&n!==this._joinRef())return;let g=this._onMessage(l,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(w=>{var S,b,x;return((S=w.filter)===null||S===void 0?void 0:S.event)==="*"||((x=(b=w.filter)===null||b===void 0?void 0:b.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===l}).map(w=>w.callback(g,n)):(a=this.bindings[l])===null||a===void 0||a.filter(w=>{var S,b,x,k,E,N;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in w){const P=w.id,O=(S=w.filter)===null||S===void 0?void 0:S.event;return P&&((b=r.ids)===null||b===void 0?void 0:b.includes(P))&&(O==="*"||(O==null?void 0:O.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const P=(E=(k=w==null?void 0:w.filter)===null||k===void 0?void 0:k.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return P==="*"||P===((N=r==null?void 0:r.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===l}).map(w=>{if(typeof g=="object"&&"ids"in g){const S=g.data,{schema:b,table:x,commit_timestamp:k,type:E,errors:N}=S;g=Object.assign(Object.assign({},{schema:b,table:x,commit_timestamp:k,eventType:E,new:{},old:{},errors:N}),this._getPayloadRecords(S))}w.callback(g,n)})}_isClosed(){return this.state===Ft.closed}_isJoined(){return this.state===Ft.joined}_isJoining(){return this.state===Ft.joining}_isLeaving(){return this.state===Ft.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Cg.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(An.close,{},t)}_onError(t){this._on(An.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ft.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=yb(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=yb(t.columns,t.old_record)),r}}const _m=()=>{},Ec={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},_I=[1e3,2e3,5e3,1e4],SI=1e4,jI=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class kI{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=xv,this.transport=null,this.heartbeatIntervalMs=Ec.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_m,this.ref=0,this.reconnectTimer=null,this.logger=_m,this.conn=null,this.sendBuffer=[],this.serializer=new pI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...l)=>Jl(async()=>{const{default:u}=await Promise.resolve().then(()=>wo);return{default:u}},void 0,import.meta.url).then(({default:u})=>u(...l)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...l)=>a(...l)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${wv.websocket}`,this.httpEndpoint=hk(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=uI.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:fI}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Al.connecting:return Us.Connecting;case Al.open:return Us.Open;case Al.closing:return Us.Closing;default:return Us.Closed}}isConnected(){return this.connectionState()===Us.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new Cg(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,l=()=>{this.encode(t,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(hI,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ec.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:l}=r,u=l?`(${l})`:"",d=a.status||"";this.log("receive",`${d} ${n} ${i} ${u}`.trim(),a),this.channels.filter(m=>m._isMember(n)).forEach(m=>m._trigger(i,a,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(An.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([jI],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:dI};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(An.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new dk(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ec.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,l,u,d,m,h;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:xv,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Ec.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=t==null?void 0:t.heartbeatCallback)!==null&&u!==void 0?u:_m,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:(p=>_I[p-1]||SI),this.encode=(m=t==null?void 0:t.encode)!==null&&m!==void 0?m:((p,g)=>g(JSON.stringify(p))),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Tg extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Tt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class EI extends Tg{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class _v extends Tg{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var NI=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function u(h){try{m(n.next(h))}catch(p){l(p)}}function d(h){try{m(n.throw(h))}catch(p){l(p)}}function m(h){h.done?a(h.value):i(h.value).then(u,d)}m((n=n.apply(e,t||[])).next())})};const mk=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Jl(async()=>{const{default:n}=await Promise.resolve().then(()=>wo);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},AI=()=>NI(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Jl(()=>Promise.resolve().then(()=>wo),void 0,import.meta.url)).Response:Response}),Sv=e=>{if(Array.isArray(e))return e.map(r=>Sv(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Sv(n)}),t},PI=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var oa=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function u(h){try{m(n.next(h))}catch(p){l(p)}}function d(h){try{m(n.throw(h))}catch(p){l(p)}}function m(h){h.done?a(h.value):i(h.value).then(u,d)}m((n=n.apply(e,t||[])).next())})};const Sm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),OI=(e,t,r)=>oa(void 0,void 0,void 0,function*(){const n=yield AI();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const a=e.status||500,l=(i==null?void 0:i.statusCode)||a+"";t(new EI(Sm(i),a,l))}).catch(i=>{t(new _v(Sm(i),i))}):t(new _v(Sm(e),e))}),CI=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(PI(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function Xl(e,t,r,n,i,a){return oa(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(r,CI(t,n,i,a)).then(d=>{if(!d.ok)throw d;return n!=null&&n.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>OI(d,u,n))})})}function ed(e,t,r,n){return oa(this,void 0,void 0,function*(){return Xl(e,"GET",t,r,n)})}function Kn(e,t,r,n,i){return oa(this,void 0,void 0,function*(){return Xl(e,"POST",t,n,i,r)})}function jv(e,t,r,n,i){return oa(this,void 0,void 0,function*(){return Xl(e,"PUT",t,n,i,r)})}function TI(e,t,r,n){return oa(this,void 0,void 0,function*(){return Xl(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function pk(e,t,r,n,i){return oa(this,void 0,void 0,function*(){return Xl(e,"DELETE",t,n,i,r)})}var II=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function u(h){try{m(n.next(h))}catch(p){l(p)}}function d(h){try{m(n.throw(h))}catch(p){l(p)}}function m(h){h.done?a(h.value):i(h.value).then(u,d)}m((n=n.apply(e,t||[])).next())})};class DI{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return II(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Tt(t))return{data:null,error:t};throw t}})}}var RI=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function u(h){try{m(n.next(h))}catch(p){l(p)}}function d(h){try{m(n.throw(h))}catch(p){l(p)}}function m(h){h.done?a(h.value):i(h.value).then(u,d)}m((n=n.apply(e,t||[])).next())})};class MI{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}asStream(){return new DI(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.execute().then(t,r)}execute(){return RI(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Tt(t))return{data:null,error:t};throw t}})}}var Cr=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function u(h){try{m(n.next(h))}catch(p){l(p)}}function d(h){try{m(n.throw(h))}catch(p){l(p)}}function m(h){h.done?a(h.value):i(h.value).then(u,d)}m((n=n.apply(e,t||[])).next())})};const $I={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class LI{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=mk(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return Cr(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},bb),i);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),d&&a.append("metadata",this.encodeMetadata(d)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",l.cacheControl),d&&a.append("metadata",this.encodeMetadata(d))):(a=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),i!=null&&i.headers&&(u=Object.assign(Object.assign({},u),i.headers));const m=this._removeEmptyFolders(r),h=this._getFinalPath(m),p=yield(t=="PUT"?jv:Kn)(this.fetch,`${this.url}/object/${h}`,a,Object.assign({headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:m,id:p.Id,fullPath:p.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Tt(a))return{data:null,error:a};throw a}})}upload(t,r,n){return Cr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Cr(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),l=this._getFinalPath(a),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",r);try{let d;const m=Object.assign({upsert:bb.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",m.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",m.cacheControl)):(d=n,h["cache-control"]=`max-age=${m.cacheControl}`,h["content-type"]=m.contentType);const p=yield jv(this.fetch,u.toString(),d,{headers:h});return{data:{path:a,fullPath:p.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Tt(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,r){return Cr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield Kn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),l=new URL(this.url+a.url),u=l.searchParams.get("token");if(!u)throw new Tg("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:u},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Cr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Cr(this,void 0,void 0,function*(){try{return{data:yield Kn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tt(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Cr(this,void 0,void 0,function*(){try{return{data:{path:(yield Kn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Cr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Kn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Cr(this,void 0,void 0,function*(){try{const i=yield Kn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tt(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=a?`?${a}`:"",u=this._getFinalPath(t),d=()=>ed(this.fetch,`${this.url}/${i}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new MI(d,this.shouldThrowOnError)}info(t){return Cr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ed(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Sv(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tt(n))return{data:null,error:n};throw n}})}exists(t){return Cr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield TI(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tt(n)&&n instanceof _v){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const u=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});d!==""&&i.push(d);let m=i.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${m}`)}}}remove(t){return Cr(this,void 0,void 0,function*(){try{return{data:yield pk(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Cr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},$I),r),{prefix:t||""});return{data:yield Kn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tt(i))return{data:null,error:i};throw i}})}listV2(t,r){return Cr(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Kn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const FI="2.74.0",zI={"X-Client-Info":`storage-js/${FI}`};var Ua=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function u(h){try{m(n.next(h))}catch(p){l(p)}}function d(h){try{m(n.throw(h))}catch(p){l(p)}}function m(h){h.done?a(h.value):i(h.value).then(u,d)}m((n=n.apply(e,t||[])).next())})};class UI{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zI),r),this.fetch=mk(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Ua(this,void 0,void 0,function*(){try{return{data:yield ed(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Tt(t))return{data:null,error:t};throw t}})}getBucket(t){return Ua(this,void 0,void 0,function*(){try{return{data:yield ed(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tt(r))return{data:null,error:r};throw r}})}createBucket(t){return Ua(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Kn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tt(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return Ua(this,void 0,void 0,function*(){try{return{data:yield jv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Ua(this,void 0,void 0,function*(){try{return{data:yield Kn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ua(this,void 0,void 0,function*(){try{return{data:yield pk(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tt(r))return{data:null,error:r};throw r}})}}class BI extends UI{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new LI(this.url,this.headers,t,this.fetch)}}const VI="2.74.0";let kl="";typeof Deno<"u"?kl="deno":typeof document<"u"?kl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?kl="react-native":kl="node";const qI={"X-Client-Info":`supabase-js-${kl}/${VI}`},WI={headers:qI},KI={schema:"public"},HI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},YI={};var GI=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function u(h){try{m(n.next(h))}catch(p){l(p)}}function d(h){try{m(n.throw(h))}catch(p){l(p)}}function m(h){h.done?a(h.value):i(h.value).then(u,d)}m((n=n.apply(e,t||[])).next())})};const JI=e=>{let t;return e?t=e:typeof fetch>"u"?t=sk:t=fetch,(...r)=>t(...r)},XI=()=>typeof Headers>"u"?ak:Headers,QI=(e,t,r)=>{const n=JI(r),i=XI();return(a,l)=>GI(void 0,void 0,void 0,function*(){var u;const d=(u=yield t())!==null&&u!==void 0?u:e;let m=new i(l==null?void 0:l.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${d}`),n(a,Object.assign(Object.assign({},l),{headers:m}))})};var ZI=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function u(h){try{m(n.next(h))}catch(p){l(p)}}function d(h){try{m(n.throw(h))}catch(p){l(p)}}function m(h){h.done?a(h.value):i(h.value).then(u,d)}m((n=n.apply(e,t||[])).next())})};function eD(e){return e.endsWith("/")?e:e+"/"}function tD(e,t){var r,n;const{db:i,auth:a,realtime:l,global:u}=e,{db:d,auth:m,realtime:h,global:p}=t,g={db:Object.assign(Object.assign({},d),i),auth:Object.assign(Object.assign({},m),a),realtime:Object.assign(Object.assign({},h),l),storage:{},global:Object.assign(Object.assign(Object.assign({},p),u),{headers:Object.assign(Object.assign({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(n=u==null?void 0:u.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>ZI(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}function rD(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(eD(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const vk="2.74.0",Ja=30*1e3,kv=3,jm=kv*Ja,nD="http://localhost:9999",iD="supabase.auth.token",sD={"X-Client-Info":`gotrue-js/${vk}`},Ev="X-Supabase-Api-Version",gk={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},aD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,oD=600*1e3;class Ml extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function De(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class lD extends Ml{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function uD(e){return De(e)&&e.name==="AuthApiError"}class Bs extends Ml{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ps extends Ml{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class ss extends ps{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function cD(e){return De(e)&&e.name==="AuthSessionMissingError"}class Ba extends ps{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Nc extends ps{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ac extends ps{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function dD(e){return De(e)&&e.name==="AuthImplicitGrantRedirectError"}class _b extends ps{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Nv extends ps{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function km(e){return De(e)&&e.name==="AuthRetryableFetchError"}class Sb extends ps{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Av extends ps{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const td="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jb=` 	
\r=`.split(""),fD=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<jb.length;t+=1)e[jb[t].charCodeAt(0)]=-2;for(let t=0;t<td.length;t+=1)e[td[t].charCodeAt(0)]=t;return e})();function kb(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(td[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(td[n]),t.queuedBits-=6}}function yk(e,t,r){const n=fD[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Eb(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=l=>{pD(l,n,r)};for(let l=0;l<e.length;l+=1)yk(e.charCodeAt(l),i,a);return t.join("")}function hD(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function mD(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}hD(n,t)}}function pD(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Za(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)yk(e.charCodeAt(i),r,n);return new Uint8Array(t)}function vD(e){const t=[];return mD(e,r=>t.push(r)),new Uint8Array(t)}function qs(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>kb(i,r,n)),kb(null,r,n),t.join("")}function gD(e){return Math.round(Date.now()/1e3)+e}function yD(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ur=()=>typeof window<"u"&&typeof document<"u",Ds={tested:!1,writable:!1},xk=()=>{if(!Ur())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ds.tested)return Ds.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ds.tested=!0,Ds.writable=!0}catch{Ds.tested=!0,Ds.writable=!1}return Ds.writable};function xD(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const wk=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Jl(async()=>{const{default:n}=await Promise.resolve().then(()=>wo);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},wD=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Xa=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Rs=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},is=async(e,t)=>{await e.removeItem(t)};class Jd{constructor(){this.promise=new Jd.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Jd.promiseConstructor=Promise;function Em(e){const t=e.split(".");if(t.length!==3)throw new Av("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!aD.test(t[n]))throw new Av("JWT not in base64url format");return{header:JSON.parse(Eb(t[0])),payload:JSON.parse(Eb(t[1])),signature:Za(t[2]),raw:{header:t[0],payload:t[1]}}}async function bD(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function _D(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await e(a);if(!t(a,null,l)){n(l);return}}catch(l){if(!t(a,l)){i(l);return}}})()})}function SD(e){return("0"+e.toString(16)).substr(-2)}function jD(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,SD).join("")}async function kD(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function ED(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await kD(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Va(e,t,r=!1){const n=jD();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Xa(e,`${t}-code-verifier`,i);const a=await ED(n);return[a,n===a?"plain":"s256"]}const ND=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function AD(e){const t=e.headers.get(Ev);if(!t||!t.match(ND))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function PD(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function OD(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const CD=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function qa(e){if(!CD.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Nm(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Nb(e){return JSON.parse(JSON.stringify(e))}var TD=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const $s=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ID=[502,503,504];async function Ab(e){var t;if(!wD(e))throw new Nv($s(e),0);if(ID.includes(e.status))throw new Nv($s(e),e.status);let r;try{r=await e.json()}catch(a){throw new Bs($s(a),a)}let n;const i=AD(e);if(i&&i.getTime()>=gk["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Sb($s(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ss}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new Sb($s(r),e.status,r.weak_password.reasons);throw new lD($s(r),e.status||500,n)}const DD=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function ze(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[Ev]||(a[Ev]=gk["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const l=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await RD(e,t,r+u,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(d):{data:Object.assign({},d),error:null}}async function RD(e,t,r,n,i,a){const l=DD(t,n,i,a);let u;try{u=await e(r,Object.assign({},l))}catch(d){throw console.error(d),new Nv($s(d),0)}if(u.ok||await Ab(u),n!=null&&n.noResolveJson)return u;try{return await u.json()}catch(d){await Ab(d)}}function Nn(e){var t;let r=null;LD(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=gD(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Pb(e){const t=Nn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ls(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function MD(e){return{data:e,error:null}}function $D(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,l=TD(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},d=Object.assign({},l);return{data:{properties:u,user:d},error:null}}function Ob(e){return e}function LD(e){return e.access_token&&e.refresh_token&&e.expires_in}const Am=["global","local","others"];var FD=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class zD{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=wk(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Am[0]){if(Am.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Am.join(", ")}`);try{return await ze(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ze(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ls})}catch(n){if(De(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=FD(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await ze(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:$D,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(De(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ze(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ls})}catch(r){if(De(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,l,u,d;try{const m={nextPage:null,lastPage:0,total:0},h=await ze(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Ob});if(h.error)throw h.error;const p=await h.json(),g=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,w=(d=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return w.length>0&&(w.forEach(S=>{const b=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(S.split(";")[1].split("=")[1]);m[`${x}Page`]=b}),m.total=parseInt(g)),{data:Object.assign(Object.assign({},p),m),error:null}}catch(m){if(De(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){qa(t);try{return await ze(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ls})}catch(r){if(De(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){qa(t);try{return await ze(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ls})}catch(n){if(De(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){qa(t);try{return await ze(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ls})}catch(n){if(De(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){qa(t.userId);try{const{data:r,error:n}=await ze(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(De(r))return{data:null,error:r};throw r}}async _deleteFactor(t){qa(t.userId),qa(t.id);try{return{data:await ze(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,a,l,u,d;try{const m={nextPage:null,lastPage:0,total:0},h=await ze(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Ob});if(h.error)throw h.error;const p=await h.json(),g=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,w=(d=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return w.length>0&&(w.forEach(S=>{const b=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(S.split(";")[1].split("=")[1]);m[`${x}Page`]=b}),m.total=parseInt(g)),{data:Object.assign(Object.assign({},p),m),error:null}}catch(m){if(De(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(t){try{return await ze(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(De(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ze(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(De(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await ze(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(De(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ze(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(De(r))return{data:null,error:r};throw r}}}function Cb(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Wa={debug:!!(globalThis&&xk()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class bk extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class UD extends bk{}async function BD(e,t,r){Wa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Wa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Wa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Wa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Wa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new UD(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Wa.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function VD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function _k(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function qD(e){return parseInt(e,16)}function WD(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function KD(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:l,notBefore:u,requestId:d,resources:m,scheme:h,uri:p,version:g}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const w=_k(e.address),S=h?`${h}://${n}`:n,b=e.statement?`${e.statement}
`:"",x=`${S} wants you to sign in with your Ethereum account:
${w}

${b}`;let k=`URI: ${p}
Version: ${g}
Chain ID: ${r}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(i&&(k+=`
Expiration Time: ${i.toISOString()}`),u&&(k+=`
Not Before: ${u.toISOString()}`),d&&(k+=`
Request ID: ${d}`),m){let E=`
Resources:`;for(const N of m){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);E+=`
- ${N}`}k+=E}return`${x}
${k}`}class Ct extends Error{constructor({message:t,code:r,cause:n,name:i}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class rd extends Ct{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function HD({error:e,options:t}){var r,n,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ct({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ct({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ct({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ct({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ct({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ct({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Ct({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ct({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(jk(l)){if(a.rp.id!==l)return new Ct({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Ct({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ct({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function YD({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ct({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ct({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(jk(n)){if(r.rpId!==n)return new Ct({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ct({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var Sk=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class GD{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const JD=new GD;function XD(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=Sk(e,["challenge","user","excludeCredentials"]),a=Za(t).buffer,l=Object.assign(Object.assign({},r),{id:Za(r.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:a,user:l});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const m=n[d];u.excludeCredentials[d]=Object.assign(Object.assign({},m),{id:Za(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return u}function QD(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Sk(e,["challenge","allowCredentials"]),i=Za(t).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];a.allowCredentials[l]=Object.assign(Object.assign({},u),{id:Za(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function ZD(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:qs(new Uint8Array(e.response.attestationObject)),clientDataJSON:qs(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function eR(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:qs(new Uint8Array(i.authenticatorData)),clientDataJSON:qs(new Uint8Array(i.clientDataJSON)),signature:qs(new Uint8Array(i.signature)),userHandle:i.userHandle?qs(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function jk(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Tb(){var e,t;return!!(Ur()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function tR(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new rd("Browser returned unexpected credential type",t)}:{data:null,error:new rd("Empty credential response",t)}}catch(t){return{data:null,error:HD({error:t,options:e})}}}async function rR(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new rd("Browser returned unexpected credential type",t)}:{data:null,error:new rd("Empty credential response",t)}}catch(t){return{data:null,error:YD({error:t,options:e})}}}const nR={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},iR={userVerification:"preferred",hints:["security-key"]};function nd(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const a in i){const l=i[a];if(l!==void 0)if(Array.isArray(l))n[a]=l;else if(r(l))n[a]=l;else if(t(l)){const u=n[a];t(u)?n[a]=nd(u,l):n[a]=nd(l)}else n[a]=l}return n}function sR(e,t){return nd(nR,e,t||{})}function aR(e,t){return nd(iR,e,t||{})}class oR{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},a){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:u};const d=i??JD.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:m}=l.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${n}`),m.displayName||(m.displayName=m.name)}switch(l.webauthn.type){case"create":{const m=sR(l.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:h,error:p}=await tR({publicKey:m,signal:d});return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const m=aR(l.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:h,error:p}=await rR(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:m,signal:d}));return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(l){return De(l)?{data:null,error:l}:{data:null,error:new Bs("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}},a){if(!r)return{data:null,error:new Ml("rpId is required for WebAuthn authentication")};try{if(!Tb())return{data:null,error:new Bs("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!l)return{data:null,error:u};const{webauthn:d}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(l){return De(l)?{data:null,error:l}:{data:null,error:new Bs("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i},a){if(!r)return{data:null,error:new Ml("rpId is required for WebAuthn registration")};try{if(!Tb())return{data:null,error:new Bs("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(h=>{var p;return(p=h.data)===null||p===void 0?void 0:p.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===t&&g.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:u};const{data:d,error:m}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:m}}catch(l){return De(l)?{data:null,error:l}:{data:null,error:new Bs("Unexpected error in register",l)}}}}VD();const lR={url:nD,storageKey:iD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ib(e,t,r){return await r()}const Ka={};class $l{get jwks(){var t,r;return(r=(t=Ka[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ka[this.storageKey]=Object.assign(Object.assign({},Ka[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ka[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ka[this.storageKey]=Object.assign(Object.assign({},Ka[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=$l.nextInstanceID,$l.nextInstanceID+=1,this.instanceID>0&&Ur()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},lR),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new zD({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=wk(i.fetch),this.lock=i.lock||Ib,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ur()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=BD:this.lock=Ib,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new oR(this)},this.persistSession?(i.storage?this.storage=i.storage:xk()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Cb(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Cb(this.memoryStorage)),Ur()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${vk}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=xD(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ur()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),dD(a)){const d=(t=a.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return De(r)?{error:r}:{error:new Bs("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Nn}),{data:l,error:u}=a;if(u||!l)return{data:{user:null,session:null},error:u};const d=l.session,m=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:m,session:d},error:null}}catch(a){if(De(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:h,password:p,options:g}=t;let w=null,S=null;this.flowType==="pkce"&&([w,S]=await Va(this.storage,this.storageKey)),a=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:h,password:p,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:w,code_challenge_method:S},xform:Nn})}else if("phone"in t){const{phone:h,password:p,options:g}=t;a=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(i=g==null?void 0:g.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Nn})}else throw new Nc("You must provide either an email or phone number and a password");const{data:l,error:u}=a;if(u||!l)return{data:{user:null,session:null},error:u};const d=l.session,m=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:m,session:d},error:null}}catch(a){if(De(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:l,options:u}=t;r=await ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Pb})}else if("phone"in t){const{phone:a,password:l,options:u}=t;r=await ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Pb})}else throw new Nc("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ba}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(De(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,a,l,u,d,m,h,p,g;let w,S;if("message"in t)w=t.message,S=t.signature;else{const{chain:b,wallet:x,statement:k,options:E}=t;let N;if(Ur())if(typeof x=="object")N=x;else{const V=window;if("ethereum"in V&&typeof V.ethereum=="object"&&"request"in V.ethereum&&typeof V.ethereum.request=="function")N=V.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=x}const P=new URL((r=E==null?void 0:E.url)!==null&&r!==void 0?r:window.location.href),O=await N.request({method:"eth_requestAccounts"}).then(V=>V).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!O||O.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=_k(O[0]);let L=(n=E==null?void 0:E.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!L){const V=await N.request({method:"eth_chainId"});L=qD(V)}const H={domain:P.host,address:T,statement:k,uri:P.href,version:"1",chainId:L,nonce:(i=E==null?void 0:E.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(a=E==null?void 0:E.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=E==null?void 0:E.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=E==null?void 0:E.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(m=E==null?void 0:E.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(h=E==null?void 0:E.signInWithEthereum)===null||h===void 0?void 0:h.resources};w=KD(H),S=await N.request({method:"personal_sign",params:[WD(w),T]})}try{const{data:b,error:x}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:S},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Nn});if(x)throw x;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Ba}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:x})}catch(b){if(De(b))return{data:{user:null,session:null},error:b};throw b}}async signInWithSolana(t){var r,n,i,a,l,u,d,m,h,p,g,w;let S,b;if("message"in t)S=t.message,b=t.signature;else{const{chain:x,wallet:k,statement:E,options:N}=t;let P;if(Ur())if(typeof k=="object")P=k;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))P=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=k}const O=new URL((r=N==null?void 0:N.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in P&&P.signIn){const T=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N==null?void 0:N.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),E?{statement:E}:null));let L;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")L=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)L=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)S=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),b=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${O.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(i=(n=N==null?void 0:N.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=N==null?void 0:N.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((l=N==null?void 0:N.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((u=N==null?void 0:N.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((d=N==null?void 0:N.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((m=N==null?void 0:N.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((p=(h=N==null?void 0:N.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...N.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const T=await P.signMessage(new TextEncoder().encode(S),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=T}}try{const{data:x,error:k}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:qs(b)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Nn});if(k)throw k;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new Ba}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:k})}catch(x){if(De(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const r=await Rs(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:l}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Nn});if(await is(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Ba}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:l})}catch(a){if(De(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:l}=t,u=await ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Nn}),{data:d,error:m}=u;return m?{data:{user:null,session:null},error:m}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Ba}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:m})}catch(r){if(De(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,a,l;try{if("email"in t){const{email:u,options:d}=t;let m=null,h=null;this.flowType==="pkce"&&([m,h]=await Va(this.storage,this.storageKey));const{error:p}=await ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},create_user:(n=d==null?void 0:d.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:m,code_challenge_method:h},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:u,options:d}=t,{data:m,error:h}=await ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=d==null?void 0:d.data)!==null&&i!==void 0?i:{},create_user:(a=d==null?void 0:d.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:h}}throw new Nc("You must provide either an email or phone number.")}catch(u){if(De(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:u}=await ze(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Nn});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,m=l.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:m,session:d},error:null}}catch(i){if(De(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let a=null,l=null;return this.flowType==="pkce"&&([a,l]=await Va(this.storage,this.storageKey)),await ze(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:MD})}catch(a){if(De(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ss;const{error:i}=await ze(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(De(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:l}=await ze(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:l,error:u}=await ze(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new Nc("You must provide either an email or phone number and a type")}catch(r){if(De(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Rs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<jm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const l=await Rs(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=Nm()}if(this.storage.isServer&&t.user){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(d,m,h)=>(!l&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,m,h))})}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ls}):await this._useSession(async r=>{var n,i,a;const{data:l,error:u}=r;if(u)throw u;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ss}:await ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:ls})})}catch(r){if(De(r))return cD(r)&&(await this._removeSession(),await is(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new ss;const l=i.session;let u=null,d=null;this.flowType==="pkce"&&t.email!=null&&([u,d]=await Va(this.storage,this.storageKey));const{data:m,error:h}=await ze(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:d}),jwt:l.access_token,xform:ls});if(h)throw h;return l.user=m.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(De(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ss;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:l}=Em(t.access_token);if(l.exp&&(n=l.exp,i=n<=r),i){const{data:u,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:d}=await this._getUser(t.access_token);if(d)throw d;a={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(De(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:u}=r;if(u)throw u;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ss;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(De(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ur())throw new Ac("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ac(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new _b("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ac("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new _b("No code detected.");const{data:E,error:N}=await this._exchangeCodeForSession(t.code);if(N)throw N;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:l,expires_in:u,expires_at:d,token_type:m}=t;if(!a||!u||!l||!m)throw new Ac("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(u);let g=h+p;d&&(g=parseInt(d));const w=g-h;w*1e3<=Ja&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${p}s`);const S=g-p;h-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,g,h):h-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,g,h);const{data:b,error:x}=await this._getUser(a);if(x)throw x;const k={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:g,refresh_token:l,token_type:m,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:k,redirectType:t.type},error:null}}catch(n){if(De(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Rs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const l=(n=i.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!(uD(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return t!=="others"&&(await this._removeSession(),await is(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=yD(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Va(this.storage,this.storageKey,!0));try{return await ze(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(De(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var l,u,d,m,h;const{data:p,error:g}=a;if(g)throw g;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await ze(this.fetch,"GET",w,{headers:this.headers,jwt:(h=(m=p.session)===null||m===void 0?void 0:m.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return Ur()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(De(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:l,provider:u,token:d,access_token:m,nonce:h}=t,p=await ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:d,access_token:m,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Nn}),{data:g,error:w}=p;return w?{data:{user:null,session:null},error:w}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new Ba}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),{data:g,error:w})}catch(i){if(De(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:l}=r;if(l)throw l;return await ze(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(De(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await _D(async i=>(i>0&&await bD(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await ze(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Nn})),(i,a)=>{const l=200*Math.pow(2,i);return a&&km(a)&&Date.now()+l-n<Ja})}catch(n){if(this._debug(r,"error",n),De(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ur()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Rs(this.storage,this.storageKey);if(i&&this.userStorage){let l=await Rs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await Xa(this.userStorage,this.storageKey+"-user",l)),i.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:Nm()}else if(i&&!i.user&&!i.user){const l=await Rs(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await is(this.storage,this.storageKey+"-user"),await Xa(this.storage,this.storageKey,i)):i.user=Nm()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<jm;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${jm}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),km(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(i.access_token);!u&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ss;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Jd;const{data:a,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!a.session)throw new ss;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={data:a.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(a){if(this._debug(i,"error",a),De(a)){const l={data:null,error:a};return km(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,r)}catch(d){a.push(d)}});if(await Promise.all(l),a.length>0){for(let u=0;u<a.length;u+=1)console.error(a[u]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Xa(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=Nb(i);await Xa(this.storage,this.storageKey,a)}else{const i=Nb(r);await Xa(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await is(this.storage,this.storageKey),await is(this.storage,this.storageKey+"-code-verifier"),await is(this.storage,this.storageKey+"-user"),this.userStorage&&await is(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ur()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ja);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Ja);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ja}ms, refresh threshold is ${kv} ticks`),i<=kv&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof bk)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ur()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,l]=await Va(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(u.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await ze(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(De(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:l}=r;if(l)return{data:null,error:l};const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:m}=await ze(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return m?{data:null,error:m}:(t.factorType==="totp"&&d.type==="totp"&&(!((i=d==null?void 0:d.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(r){if(De(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?ZD(t.webauthn.credential_response):eR(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:d}=await ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:d})})}catch(r){if(De(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const l=await ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:XD(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:QD(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(De(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Em(i.access_token);let u=null;l.aal&&(u=l.aal);let d=u;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const h=l.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(u=>u.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(u=>u.kid===t),n&&this.jwks_cached_at+oD>i)return n;const{data:a,error:l}=await ze(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(u=>u.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:w,error:S}=await this.getSession();if(S||!w.session)return{data:null,error:S};n=w.session.access_token}const{header:i,payload:a,signature:l,raw:{header:u,payload:d}}=Em(n);r!=null&&r.allowExpired||PD(a.exp);const m=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!m){const{error:w}=await this.getUser(n);if(w)throw w;return{data:{claims:a,header:i,signature:l},error:null}}const h=OD(i.alg),p=await crypto.subtle.importKey("jwk",m,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,l,vD(`${u}.${d}`)))throw new Av("Invalid JWT signature");return{data:{claims:a,header:i,signature:l},error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}}}$l.nextInstanceID=0;const uR=$l;class cR extends uR{constructor(t){super(t)}}var dR=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function u(h){try{m(n.next(h))}catch(p){l(p)}}function d(h){try{m(n.throw(h))}catch(p){l(p)}}function m(h){h.done?a(h.value):i(h.value).then(u,d)}m((n=n.apply(e,t||[])).next())})};class fR{constructor(t,r,n){var i,a,l;this.supabaseUrl=t,this.supabaseKey=r;const u=rD(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const d=`sb-${u.hostname.split(".")[0]}-auth-token`,m={db:KI,realtime:YI,auth:Object.assign(Object.assign({},HI),{storageKey:d}),global:WI},h=tD(n??{},m);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=h.global.headers)!==null&&a!==void 0?a:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=h.auth)!==null&&l!==void 0?l:{},this.headers,h.global.fetch),this.fetch=QI(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new lI(new URL("rest/v1",u).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new BI(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new QT(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return dR(this,void 0,void 0,function*(){var t,r;if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:l,flowType:u,lock:d,debug:m},h,p){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new cR({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),h),storageKey:l,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:u,lock:d,debug:m,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new kI(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const hR=(e,t,r)=>new fR(e,t,r);function mR(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}mR()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const pR="https://okdzllfpsvltjqryslnn.supabase.co",vR="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9rZHpsbGZwc3ZsdGpxcnlzbG5uIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3NTcxMTgsImV4cCI6MjA3NTMzMzExOH0.uLhMzo49-OMEp4ghFAFI31IpiDs1tjbyY2jZlk-vgUo",Ue=hR(pR,vR);async function gR(e){const{data:t,error:r}=await Ue.from("users").select("*").eq("email",e).single();if(r){if(r.code==="PGRST116")return null;throw r}return t}async function yR(e){const{data:t,error:r}=await Ue.from("users").insert([e]).select().single();if(r)throw r;return t}async function Ig(e,t){let r=await gR(e);return r||(r=await yR({email:e,name:t})),r}async function kk(){const{data:e,error:t}=await Ue.from("voting_sessions").select("*").order("created_at",{ascending:!1});if(t)throw t;return e||[]}async function xR(e){const{data:t,error:r}=await Ue.from("voting_sessions").select("*").eq("session_code",e).single();if(r){if(r.code==="PGRST116")return null;throw r}return t}async function Ek(e){if(await Xd(e))return kk();const{data:r,error:n}=await Ue.from("session_admins").select("session_id").eq("user_id",e);if(n)throw n;const i=(r==null?void 0:r.map(g=>g.session_id))||[],a=await Ue.from("users").select("email").eq("id",e).single();if(a.error)throw a.error;const{data:l,error:u}=await Ue.from("session_stakeholders").select("session_id").eq("user_email",a.data.email);if(u)throw u;const d=(l==null?void 0:l.map(g=>g.session_id))||[],m=[...new Set([...i,...d])];if(m.length===0)return[];const{data:h,error:p}=await Ue.from("voting_sessions").select("*").in("id",m).order("created_at",{ascending:!1});if(p)throw p;return h||[]}async function wR(e){const{data:t,error:r}=await Ue.from("voting_sessions").insert([e]).select().single();if(r)throw r;return t}async function bR(e,t){const{data:r,error:n}=await Ue.from("voting_sessions").update(t).eq("id",e).select().single();if(n)throw n;return r}async function Nk(e){const{data:t,error:r}=await Ue.from("session_admins").select(`
      *,
      users (*)
    `).eq("session_id",e);if(r)throw r;return(t||[]).map(n=>({id:n.id,session_id:n.session_id,user_id:n.user_id,created_at:n.created_at,user:n.users}))}async function Ak(e,t){const{data:r,error:n}=await Ue.from("session_admins").insert([{session_id:e,user_id:t}]).select().single();if(n)throw n;return r}async function _R(e,t,r){const n=await Ig(t,r);return Ak(e,n.id)}async function SR(e,t){const{error:r}=await Ue.from("session_admins").delete().eq("session_id",e).eq("user_id",t);if(r)throw r}async function Dg(e,t){try{if(await Xd(t))return!0;const{data:n,error:i}=await Ue.from("session_admins").select("id").eq("session_id",e).eq("user_id",t).maybeSingle();return i?(console.error("Error checking admin status:",i),!1):!!n}catch(r){return console.error("Caught exception checking admin:",r),!1}}async function jR(e){const{data:t,error:r}=await Ue.from("session_stakeholders").select("*").eq("session_id",e).order("user_name",{ascending:!0});if(r)throw r;return t||[]}async function kR(e){const{data:t,error:r}=await Ue.from("session_stakeholders").insert([e]).select().single();if(r)throw r;return t}function Pk(e,t,r){const n=`${window.location.origin}/login?session=${e.session_code??""}`,i=encodeURIComponent(`You're invited to vote: ${e.title}`),a=encodeURIComponent(`Hi,

You've been invited to participate in a feature voting session.

Session: ${e.title}
Goal: ${e.goal}

To get started, copy and paste this link into your browser:

${n}

Voting Period: ${e.start_date?Db(e.start_date):""} - ${e.end_date?Db(e.end_date):""}

Best regards,
${r}`);return`mailto:${encodeURIComponent(t)}?subject=${i}&body=${a}`}function Db(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}async function ER(e,t){const{error:r}=await Ue.from("session_stakeholders").delete().eq("session_id",e).eq("user_email",t);if(r)throw r}async function Rg(e,t){try{const{data:r,error:n}=await Ue.from("session_stakeholders").select("id").eq("session_id",e).eq("user_email",t).maybeSingle();return n?(console.error("Error checking stakeholder status:",n),!1):!!r}catch(r){return console.error("Caught exception checking stakeholder:",r),!1}}async function mi(e){const{data:t,error:r}=await Ue.from("features").select("*").eq("session_id",e).order("created_at",{ascending:!1});if(r)throw r;return t||[]}async function Pm(e){const{data:t,error:r}=await Ue.from("features").insert([{session_id:e.session_id,title:e.title,description:e.description,epic:e.epic,state:e.state,area_path:e.areaPath,tags:e.tags,azure_devops_id:e.azure_devops_id,azure_devops_url:e.azure_devops_url}]).select().single();if(r)throw r;return t}async function Om(e,t){const r={};t.title!==void 0&&(r.title=t.title),t.description!==void 0&&(r.description=t.description),t.epic!==void 0&&(r.epic=t.epic),t.state!==void 0&&(r.state=t.state),t.areaPath!==void 0&&(r.area_path=t.areaPath),t.tags!==void 0&&(r.tags=t.tags),t.azure_devops_id!==void 0&&(r.azure_devops_id=t.azure_devops_id),t.azure_devops_url!==void 0&&(r.azure_devops_url=t.azure_devops_url);const{data:n,error:i}=await Ue.from("features").update(r).eq("id",e).select().single();if(i)throw i;return n}async function Rb(e){const{error:t}=await Ue.from("features").delete().eq("id",e);if(t)throw t}async function Vs(e){const{data:t,error:r}=await Ue.from("votes").select("*").eq("session_id",e);if(r)throw r;return t||[]}async function NR(e){const{data:t}=await Ue.from("votes").select("*").eq("session_id",e.session_id).eq("feature_id",e.feature_id).eq("user_id",e.user_id).single();if(t){const{data:r,error:n}=await Ue.from("votes").update({vote_count:e.vote_count}).eq("session_id",e.session_id).eq("feature_id",e.feature_id).eq("user_id",e.user_id).select().single();if(n)throw n;return r}else{const{data:r,error:n}=await Ue.from("votes").insert([e]).select().single();if(n)throw n;return r}}async function AR(e,t){const{error:r}=await Ue.from("votes").delete().eq("session_id",e).eq("user_id",t);if(r)throw console.error("Error deleting user votes:",r),r}async function PR(e){const{error:t}=await Ue.from("votes").delete().eq("session_id",e);if(t)throw t}async function OR(e){try{const{data:t,error:r}=await Ue.from("azure_devops_config").select("*").eq("session_id",e).maybeSingle();if(r){if(r.code==="PGRST116")return null;throw r}return t}catch(t){return console.error("Error getting Azure DevOps config:",t),null}}async function Ha(e,t){try{const r={session_id:e,organization:t.organization,project:t.project,enabled:t.enabled,work_item_type:t.workItemType};t.accessToken!==void 0&&(r.access_token=t.accessToken),t.refreshToken!==void 0&&(r.refresh_token=t.refreshToken),t.tokenExpiresAt!==void 0&&(r.token_expires_at=t.tokenExpiresAt),t.tenantId!==void 0&&(r.tenant_id=t.tenantId),t.clientId!==void 0&&(r.client_id=t.clientId),t.query!==void 0&&(r.query=t.query),t.lastSyncTime!==void 0&&(r.last_sync_time=t.lastSyncTime),t.states!==void 0&&(r.states=t.states),t.areaPath!==void 0&&(r.area_path=t.areaPath),t.tags!==void 0&&(r.tags=t.tags);const{data:n,error:i}=await Ue.from("azure_devops_config").update(r).eq("session_id",e).select();if(!i&&n&&n.length>0)return n[0];const{data:a,error:l}=await Ue.from("azure_devops_config").upsert([r],{onConflict:"session_id"}).select().single();if(!l)return a;if((l==null?void 0:l.code)==="23505"){const{data:u,error:d}=await Ue.from("azure_devops_config").select("*").eq("session_id",e).maybeSingle();if(d)throw d;return u}throw l||i}catch(r){throw console.error("Error saving Azure DevOps config:",r),r}}async function CR(){return(await kk())[0]||null}async function Mb(e){const t=await CR();if(!t)throw new Error("No session found");return bR(t.id,e)}async function TR(e){const{data:t,error:r}=await Ue.from("info_requests").insert([{session_id:e.session_id,feature_id:e.feature_id,feature_title:e.feature_title,requester_id:e.requester_id,requester_name:e.requester_name,requester_email:e.requester_email,created_at:e.created_at}]).select().single();if(r)throw r;return t}async function $b(){const{data:e,error:t}=await Ue.from("system_admins").select(`
      *,
      users (*)
    `).order("created_at",{ascending:!1});if(t)throw t;return(e||[]).map(r=>({id:r.id,user_id:r.user_id,created_at:r.created_at,user:r.users}))}async function Lb(e){const{data:t,error:r}=await Ue.from("system_admins").insert([{user_id:e}]).select().single();if(r)throw r;return t}async function IR(e){const{error:t}=await Ue.from("system_admins").delete().eq("user_id",e);if(t)throw t}async function Xd(e){try{const{data:t,error:r}=await Ue.from("system_admins").select("id").eq("user_id",e).maybeSingle();return r?(console.error("Error checking system admin status:",r),!1):!!t}catch(t){return console.error("Caught exception checking system admin:",t),!1}}const Ok=j.createContext(void 0);function DR({children:e}){const[t,r]=j.useState(null),[n,i]=j.useState([]),[a,l]=j.useState(null),[u,d]=j.useState(!1),[m,h]=j.useState(!1),[p,g]=j.useState(!0),[w,S]=j.useState(!1);j.useEffect(()=>{(async()=>{const P=localStorage.getItem("voting_system_user");if(P)try{const O=JSON.parse(P);l(O),await b(O)}catch(O){console.error("Error loading stored user:",O),localStorage.removeItem("voting_system_user")}g(!1)})()},[]),j.useEffect(()=>{(async()=>{if(!t||!a){d(!1),h(!1),S(!1);return}if(!w)try{const[P,O]=await Promise.all([Dg(t.id,a.id),Rg(t.id,a.email)]);d(P),h(O),S(!1)}catch(P){console.error("Error checking user roles:",P),d(!1),h(!1),S(!0)}})()},[t,a,w]);const b=j.useCallback(async N=>{const P=N||a;if(!P){i([]);return}try{const O=await Ek(P.id);i(O),t&&!O.find(T=>T.id===t.id)&&r(null)}catch(O){console.error("Error loading sessions:",O),i([])}},[a,t]),x=j.useCallback(async N=>{l(N),S(!1),N?(localStorage.setItem("voting_system_user",JSON.stringify(N)),await b(N)):(localStorage.removeItem("voting_system_user"),i([]),r(null))},[b]),k=j.useCallback(N=>{r(N),S(!1),N?localStorage.setItem("voting_system_current_session",N.id):localStorage.removeItem("voting_system_current_session")},[]);j.useEffect(()=>{(async()=>{if(!a||n.length===0)return;const P=localStorage.getItem("voting_system_current_session");if(P){const O=n.find(T=>T.id===P);O&&r(O)}})()},[a,n]);const E={currentSession:t,sessions:n,currentUser:a,isAdmin:u,isStakeholder:m,setCurrentSession:k,refreshSessions:b,setCurrentUser:x};return p?f.jsx("div",{className:"min-h-screen w-full bg-gray-50 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2d4660] mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):f.jsx(Ok.Provider,{value:E,children:e})}function Oi(){const e=j.useContext(Ok);if(e===void 0)throw new Error("useSession must be used within a SessionProvider");return e}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MR=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),Fb=e=>{const t=MR(e);return t.charAt(0).toUpperCase()+t.slice(1)},Ck=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),$R=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var LR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:l,...u},d)=>j.createElement("svg",{ref:d,...LR,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Ck("lucide",i),...!a&&!$R(u)&&{"aria-hidden":"true"},...u},[...l.map(([m,h])=>j.createElement(m,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=(e,t)=>{const r=j.forwardRef(({className:n,...i},a)=>j.createElement(FR,{ref:a,iconNode:t,className:Ck(`lucide-${RR(Fb(e))}`,`lucide-${e}`,n),...i}));return r.displayName=Fb(e),r};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],zb=Je("arrow-left",zR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Gs=Je("calendar",UR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],Tk=Je("chart-no-axes-column",BR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ik=Je("chevron-down",VR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ql=Je("chevron-left",qR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],KR=Je("chevron-up",WR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],It=Je("circle-alert",HR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],fn=Je("circle-check-big",YR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Qd=Je("clock",GR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],Pv=Je("cloud",JR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Cm=Je("crown",XR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],ZR=Je("database",QR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],t4=Je("funnel",e4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Tm=Je("info",r4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],yi=Je("list",n4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],s4=Je("lock",i4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],o4=Je("log-in",a4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],jr=Je("log-out",l4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Zl=Je("mail",u4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Cl=Je("plus",c4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Zd=Je("refresh-cw",d4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Gt=Je("settings",f4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ov=Je("shield",h4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],p4=Je("shuffle",m4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],g4=Je("square-pen",v4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],x4=Je("tag",y4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],bo=Je("trash-2",w4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Dk=Je("triangle-alert",b4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Js=Je("user-plus",_4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ub=Je("user",S4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],no=Je("users",j4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}],["path",{d:"M5 7c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v12H5V7Z",key:"1ezoue"}],["path",{d:"M22 19H2",key:"nuriw5"}]],Tr=Je("vote",k4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fs=Je("x",E4);function N4(){const[e,t]=j.useState(""),[r,n]=j.useState(""),[i,a]=j.useState(!1),[l,u]=j.useState(""),{setCurrentUser:d,setCurrentSession:m}=Oi(),h=gn(),[p]=UT(),g=async w=>{w.preventDefault(),u(""),a(!0);try{const S=await Ig(e.trim().toLowerCase(),r.trim());d(S);const b=p.get("session");if(b){const x=await xR(b);if(x){m(x);const[k,E,N]=await Promise.all([Xd(S.id),Dg(x.id,S.id),Rg(x.id,S.email)]);if(k||E)h("/admin");else if(N)h("/vote");else{u("You are not authorized to access this voting session."),a(!1);return}}else{u("Invalid session code."),a(!1);return}}else h("/sessions")}catch(S){console.error("Login error:",S),u("Failed to log in. Please try again."),a(!1)}};return f.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[f.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"mx-auto h-24 w-auto"}),f.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-[#2d4660]",children:"Feature Voting System"}),f.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to access your voting sessions"})]}),f.jsx("div",{className:"relative z-10 mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:f.jsxs("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10",children:[f.jsxs("form",{onSubmit:g,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),f.jsx("div",{className:"mt-1",children:f.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,value:r,onChange:w=>n(w.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#2d4660] focus:border-[#2d4660]",placeholder:"John Doe"})})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),f.jsx("div",{className:"mt-1",children:f.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:w=>t(w.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#2d4660] focus:border-[#2d4660]",placeholder:"your.email@company.com"})})]}),l&&f.jsx("div",{className:"rounded-md bg-red-50 p-4",children:f.jsx("div",{className:"flex",children:f.jsx("div",{className:"ml-3",children:f.jsx("h3",{className:"text-sm font-medium text-red-800",children:l})})})}),f.jsx("div",{children:f.jsx("button",{type:"submit",disabled:i,className:"w-full flex justify-center items-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-[#2d4660] hover:bg-[#1d3a53] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#2d4660] disabled:opacity-50 disabled:cursor-not-allowed",children:i?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing in..."]}):f.jsxs(f.Fragment,{children:[f.jsx(o4,{className:"h-4 w-4 mr-2"}),"Sign In"]})})})]}),f.jsxs("div",{className:"mt-6",children:[f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-0 flex items-center",children:f.jsx("div",{className:"w-full border-t border-gray-300"})}),f.jsx("div",{className:"relative flex justify-center text-sm",children:f.jsx("span",{className:"px-2 bg-white text-gray-500",children:"No registration required"})})]}),f.jsxs("div",{className:"mt-6 text-center text-xs text-gray-500",children:[f.jsx("p",{children:"Simply enter your name and email to access"}),f.jsx("p",{children:"voting sessions you've been invited to"})]})]})]})})]})}var eu=e=>e.type==="checkbox",Ws=e=>e instanceof Date,xr=e=>e==null;const Rk=e=>typeof e=="object";var At=e=>!xr(e)&&!Array.isArray(e)&&Rk(e)&&!Ws(e),Mk=e=>At(e)&&e.target?eu(e.target)?e.target.checked:e.target.value:e,A4=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,$k=(e,t)=>e.has(A4(t)),P4=e=>{const t=e.constructor&&e.constructor.prototype;return At(t)&&t.hasOwnProperty("isPrototypeOf")},Mg=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ir(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Mg&&(e instanceof Blob||n))&&(r||At(e)))if(t=r?[]:{},!r&&!P4(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=ir(e[i]));else return e;return t}var ef=e=>Array.isArray(e)?e.filter(Boolean):[],Nt=e=>e===void 0,ve=(e,t,r)=>{if(!t||!At(e))return r;const n=ef(t.split(/[,[\].]+?/)).reduce((i,a)=>xr(i)?i:i[a],e);return Nt(n)||n===e?Nt(e[t])?r:e[t]:n},qr=e=>typeof e=="boolean",$g=e=>/^\w*$/.test(e),Lk=e=>ef(e.replace(/["|']|\]/g,"").split(/\.|\[/)),st=(e,t,r)=>{let n=-1;const i=$g(t)?[t]:Lk(t),a=i.length,l=a-1;for(;++n<a;){const u=i[n];let d=r;if(n!==l){const m=e[u];d=At(m)||Array.isArray(m)?m:isNaN(+i[n+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;e[u]=d,e=e[u]}};const id={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Pn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},hi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},O4=Ve.createContext(null),Lg=()=>Ve.useContext(O4);var Fk=(e,t,r,n=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const l=a;return t._proxyFormState[l]!==Pn.all&&(t._proxyFormState[l]=!n||Pn.all),r&&(r[l]=!0),e[l]}});return i};function C4(e){const t=Lg(),{control:r=t.control,disabled:n,name:i,exact:a}=e||{},[l,u]=Ve.useState(r._formState),d=Ve.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),m=Ve.useRef(i);return m.current=i,Ve.useEffect(()=>r._subscribe({name:m.current,formState:d.current,exact:a,callback:h=>{!n&&u({...r._formState,...h})}}),[r,n,a]),Ve.useEffect(()=>{d.current.isValid&&r._setValid(!0)},[r]),Ve.useMemo(()=>Fk(l,r,d.current,!1),[l,r])}var Hn=e=>typeof e=="string",zk=(e,t,r,n,i)=>Hn(e)?(n&&t.watch.add(e),ve(r,e,i)):Array.isArray(e)?e.map(a=>(n&&t.watch.add(a),ve(r,a))):(n&&(t.watchAll=!0),r);function T4(e){const t=Lg(),{control:r=t.control,name:n,defaultValue:i,disabled:a,exact:l}=e||{},u=Ve.useRef(n),d=Ve.useRef(i);u.current=n,Ve.useEffect(()=>r._subscribe({name:u.current,formState:{values:!0},exact:l,callback:p=>!a&&h(zk(u.current,r._names,p.values||r._formValues,!1,d.current))}),[r,a,l]);const[m,h]=Ve.useState(r._getWatch(n,i));return Ve.useEffect(()=>r._removeUnmounted()),m}function I4(e){const t=Lg(),{name:r,disabled:n,control:i=t.control,shouldUnregister:a}=e,l=$k(i._names.array,r),u=T4({control:i,name:r,defaultValue:ve(i._formValues,r,ve(i._defaultValues,r,e.defaultValue)),exact:!0}),d=C4({control:i,name:r,exact:!0}),m=Ve.useRef(e),h=Ve.useRef(i.register(r,{...e.rules,value:u,...qr(e.disabled)?{disabled:e.disabled}:{}})),p=Ve.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ve(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!ve(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!ve(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!ve(d.validatingFields,r)},error:{enumerable:!0,get:()=>ve(d.errors,r)}}),[d,r]),g=Ve.useCallback(x=>h.current.onChange({target:{value:Mk(x),name:r},type:id.CHANGE}),[r]),w=Ve.useCallback(()=>h.current.onBlur({target:{value:ve(i._formValues,r),name:r},type:id.BLUR}),[r,i._formValues]),S=Ve.useCallback(x=>{const k=ve(i._fields,r);k&&x&&(k._f.ref={focus:()=>x.focus(),select:()=>x.select(),setCustomValidity:E=>x.setCustomValidity(E),reportValidity:()=>x.reportValidity()})},[i._fields,r]),b=Ve.useMemo(()=>({name:r,value:u,...qr(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:g,onBlur:w,ref:S}),[r,n,d.disabled,g,w,S,u]);return Ve.useEffect(()=>{const x=i._options.shouldUnregister||a;i.register(r,{...m.current.rules,...qr(m.current.disabled)?{disabled:m.current.disabled}:{}});const k=(E,N)=>{const P=ve(i._fields,E);P&&P._f&&(P._f.mount=N)};if(k(r,!0),x){const E=ir(ve(i._options.defaultValues,r));st(i._defaultValues,r,E),Nt(ve(i._formValues,r))&&st(i._formValues,r,E)}return!l&&i.register(r),()=>{(l?x&&!i._state.action:x)?i.unregister(r):k(r,!1)}},[r,i,l,a]),Ve.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),Ve.useMemo(()=>({field:b,formState:d,fieldState:p}),[b,d,p])}const Pc=e=>e.render(I4(e));var D4=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},Tl=e=>Array.isArray(e)?e:[e],Bb=()=>{let e=[];return{get observers(){return e},next:i=>{for(const a of e)a.next&&a.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(a=>a!==i)}}),unsubscribe:()=>{e=[]}}},Cv=e=>xr(e)||!Rk(e);function us(e,t){if(Cv(e)||Cv(t))return e===t;if(Ws(e)&&Ws(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const i of r){const a=e[i];if(!n.includes(i))return!1;if(i!=="ref"){const l=t[i];if(Ws(a)&&Ws(l)||At(a)&&At(l)||Array.isArray(a)&&Array.isArray(l)?!us(a,l):a!==l)return!1}}return!0}var yr=e=>At(e)&&!Object.keys(e).length,Fg=e=>e.type==="file",On=e=>typeof e=="function",sd=e=>{if(!Mg)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Uk=e=>e.type==="select-multiple",zg=e=>e.type==="radio",R4=e=>zg(e)||eu(e),Im=e=>sd(e)&&e.isConnected;function M4(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Nt(e)?n++:e[t[n++]];return e}function $4(e){for(const t in e)if(e.hasOwnProperty(t)&&!Nt(e[t]))return!1;return!0}function zt(e,t){const r=Array.isArray(t)?t:$g(t)?[t]:Lk(t),n=r.length===1?e:M4(e,r),i=r.length-1,a=r[i];return n&&delete n[a],i!==0&&(At(n)&&yr(n)||Array.isArray(n)&&$4(n))&&zt(e,r.slice(0,-1)),e}var Bk=e=>{for(const t in e)if(On(e[t]))return!0;return!1};function ad(e,t={}){const r=Array.isArray(e);if(At(e)||r)for(const n in e)Array.isArray(e[n])||At(e[n])&&!Bk(e[n])?(t[n]=Array.isArray(e[n])?[]:{},ad(e[n],t[n])):xr(e[n])||(t[n]=!0);return t}function Vk(e,t,r){const n=Array.isArray(e);if(At(e)||n)for(const i in e)Array.isArray(e[i])||At(e[i])&&!Bk(e[i])?Nt(t)||Cv(r[i])?r[i]=Array.isArray(e[i])?ad(e[i],[]):{...ad(e[i])}:Vk(e[i],xr(t)?{}:t[i],r[i]):r[i]=!us(e[i],t[i]);return r}var ml=(e,t)=>Vk(e,t,ad(t));const Vb={value:!1,isValid:!1},qb={value:!0,isValid:!0};var qk=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Nt(e[0].attributes.value)?Nt(e[0].value)||e[0].value===""?qb:{value:e[0].value,isValid:!0}:qb:Vb}return Vb},Wk=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Nt(e)?e:t?e===""?NaN:e&&+e:r&&Hn(e)?new Date(e):n?n(e):e;const Wb={isValid:!1,value:null};var Kk=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Wb):Wb;function Kb(e){const t=e.ref;return Fg(t)?t.files:zg(t)?Kk(e.refs).value:Uk(t)?[...t.selectedOptions].map(({value:r})=>r):eu(t)?qk(e.refs).value:Wk(Nt(t.value)?e.ref.value:t.value,e)}var L4=(e,t,r,n)=>{const i={};for(const a of e){const l=ve(t,a);l&&st(i,a,l._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}},od=e=>e instanceof RegExp,pl=e=>Nt(e)?e:od(e)?e.source:At(e)?od(e.value)?e.value.source:e.value:e,Hb=e=>({isOnSubmit:!e||e===Pn.onSubmit,isOnBlur:e===Pn.onBlur,isOnChange:e===Pn.onChange,isOnAll:e===Pn.all,isOnTouch:e===Pn.onTouched});const Yb="AsyncFunction";var F4=e=>!!e&&!!e.validate&&!!(On(e.validate)&&e.validate.constructor.name===Yb||At(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Yb)),z4=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Gb=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Il=(e,t,r,n)=>{for(const i of r||Object.keys(e)){const a=ve(e,i);if(a){const{_f:l,...u}=a;if(l){if(l.refs&&l.refs[0]&&t(l.refs[0],i)&&!n)return!0;if(l.ref&&t(l.ref,l.name)&&!n)return!0;if(Il(u,t))break}else if(At(u)&&Il(u,t))break}}};function Jb(e,t,r){const n=ve(e,r);if(n||$g(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const a=i.join("."),l=ve(t,a),u=ve(e,a);if(l&&!Array.isArray(l)&&r!==a)return{name:r};if(u&&u.type)return{name:a,error:u};i.pop()}return{name:r}}var U4=(e,t,r,n)=>{r(e);const{name:i,...a}=e;return yr(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(l=>t[l]===(!n||Pn.all))},B4=(e,t,r)=>!e||!t||e===t||Tl(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),V4=(e,t,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:(r?n.isOnChange:i.isOnChange)?e:!0,q4=(e,t)=>!ef(ve(e,t)).length&&zt(e,t),W4=(e,t,r)=>{const n=Tl(ve(e,r));return st(n,"root",t[r]),st(e,r,n),e},Gc=e=>Hn(e);function Xb(e,t,r="validate"){if(Gc(e)||Array.isArray(e)&&e.every(Gc)||qr(e)&&!e)return{type:r,message:Gc(e)?e:"",ref:t}}var Ya=e=>At(e)&&!od(e)?e:{value:e,message:""},Qb=async(e,t,r,n,i,a)=>{const{ref:l,refs:u,required:d,maxLength:m,minLength:h,min:p,max:g,pattern:w,validate:S,name:b,valueAsNumber:x,mount:k}=e._f,E=ve(r,b);if(!k||t.has(b))return{};const N=u?u[0]:l,P=U=>{i&&N.reportValidity&&(N.setCustomValidity(qr(U)?"":U||""),N.reportValidity())},O={},T=zg(l),L=eu(l),H=T||L,V=(x||Fg(l))&&Nt(l.value)&&Nt(E)||sd(l)&&l.value===""||E===""||Array.isArray(E)&&!E.length,F=D4.bind(null,b,n,O),B=(U,Q,G,he=hi.maxLength,we=hi.minLength)=>{const pe=U?Q:G;O[b]={type:U?he:we,message:pe,ref:l,...F(U?he:we,pe)}};if(a?!Array.isArray(E)||!E.length:d&&(!H&&(V||xr(E))||qr(E)&&!E||L&&!qk(u).isValid||T&&!Kk(u).isValid)){const{value:U,message:Q}=Gc(d)?{value:!!d,message:d}:Ya(d);if(U&&(O[b]={type:hi.required,message:Q,ref:N,...F(hi.required,Q)},!n))return P(Q),O}if(!V&&(!xr(p)||!xr(g))){let U,Q;const G=Ya(g),he=Ya(p);if(!xr(E)&&!isNaN(E)){const we=l.valueAsNumber||E&&+E;xr(G.value)||(U=we>G.value),xr(he.value)||(Q=we<he.value)}else{const we=l.valueAsDate||new Date(E),pe=se=>new Date(new Date().toDateString()+" "+se),Z=l.type=="time",re=l.type=="week";Hn(G.value)&&E&&(U=Z?pe(E)>pe(G.value):re?E>G.value:we>new Date(G.value)),Hn(he.value)&&E&&(Q=Z?pe(E)<pe(he.value):re?E<he.value:we<new Date(he.value))}if((U||Q)&&(B(!!U,G.message,he.message,hi.max,hi.min),!n))return P(O[b].message),O}if((m||h)&&!V&&(Hn(E)||a&&Array.isArray(E))){const U=Ya(m),Q=Ya(h),G=!xr(U.value)&&E.length>+U.value,he=!xr(Q.value)&&E.length<+Q.value;if((G||he)&&(B(G,U.message,Q.message),!n))return P(O[b].message),O}if(w&&!V&&Hn(E)){const{value:U,message:Q}=Ya(w);if(od(U)&&!E.match(U)&&(O[b]={type:hi.pattern,message:Q,ref:l,...F(hi.pattern,Q)},!n))return P(Q),O}if(S){if(On(S)){const U=await S(E,r),Q=Xb(U,N);if(Q&&(O[b]={...Q,...F(hi.validate,Q.message)},!n))return P(Q.message),O}else if(At(S)){let U={};for(const Q in S){if(!yr(U)&&!n)break;const G=Xb(await S[Q](E,r),N,Q);G&&(U={...G,...F(Q,G.message)},P(G.message),n&&(O[b]=U))}if(!yr(U)&&(O[b]={ref:N,...U},!n))return O}}return P(!0),O};const K4={mode:Pn.onSubmit,reValidateMode:Pn.onChange,shouldFocusError:!0};function H4(e={}){let t={...K4,...e},r={submitCount:0,isDirty:!1,isLoading:On(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let i=At(t.defaultValues)||At(t.values)?ir(t.values||t.defaultValues)||{}:{},a=t.shouldUnregister?{}:ir(i),l={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,m=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...h};const g={array:Bb(),state:Bb()},w=Hb(t.mode),S=Hb(t.reValidateMode),b=t.criteriaMode===Pn.all,x=D=>W=>{clearTimeout(m),m=setTimeout(D,W)},k=async D=>{if(!t.disabled&&(h.isValid||p.isValid||D)){const W=t.resolver?yr((await V()).errors):await B(n,!0);W!==r.isValid&&g.state.next({isValid:W})}},E=(D,W)=>{!t.disabled&&(h.isValidating||h.validatingFields||p.isValidating||p.validatingFields)&&((D||Array.from(u.mount)).forEach(J=>{J&&(W?st(r.validatingFields,J,W):zt(r.validatingFields,J))}),g.state.next({validatingFields:r.validatingFields,isValidating:!yr(r.validatingFields)}))},N=(D,W=[],J,me,fe=!0,ue=!0)=>{if(me&&J&&!t.disabled){if(l.action=!0,ue&&Array.isArray(ve(n,D))){const ye=J(ve(n,D),me.argA,me.argB);fe&&st(n,D,ye)}if(ue&&Array.isArray(ve(r.errors,D))){const ye=J(ve(r.errors,D),me.argA,me.argB);fe&&st(r.errors,D,ye),q4(r.errors,D)}if((h.touchedFields||p.touchedFields)&&ue&&Array.isArray(ve(r.touchedFields,D))){const ye=J(ve(r.touchedFields,D),me.argA,me.argB);fe&&st(r.touchedFields,D,ye)}(h.dirtyFields||p.dirtyFields)&&(r.dirtyFields=ml(i,a)),g.state.next({name:D,isDirty:Q(D,W),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else st(a,D,W)},P=(D,W)=>{st(r.errors,D,W),g.state.next({errors:r.errors})},O=D=>{r.errors=D,g.state.next({errors:r.errors,isValid:!1})},T=(D,W,J,me)=>{const fe=ve(n,D);if(fe){const ue=ve(a,D,Nt(J)?ve(i,D):J);Nt(ue)||me&&me.defaultChecked||W?st(a,D,W?ue:Kb(fe._f)):we(D,ue),l.mount&&k()}},L=(D,W,J,me,fe)=>{let ue=!1,ye=!1;const Ke={name:D};if(!t.disabled){if(!J||me){(h.isDirty||p.isDirty)&&(ye=r.isDirty,r.isDirty=Ke.isDirty=Q(),ue=ye!==Ke.isDirty);const et=us(ve(i,D),W);ye=!!ve(r.dirtyFields,D),et?zt(r.dirtyFields,D):st(r.dirtyFields,D,!0),Ke.dirtyFields=r.dirtyFields,ue=ue||(h.dirtyFields||p.dirtyFields)&&ye!==!et}if(J){const et=ve(r.touchedFields,D);et||(st(r.touchedFields,D,J),Ke.touchedFields=r.touchedFields,ue=ue||(h.touchedFields||p.touchedFields)&&et!==J)}ue&&fe&&g.state.next(Ke)}return ue?Ke:{}},H=(D,W,J,me)=>{const fe=ve(r.errors,D),ue=(h.isValid||p.isValid)&&qr(W)&&r.isValid!==W;if(t.delayError&&J?(d=x(()=>P(D,J)),d(t.delayError)):(clearTimeout(m),d=null,J?st(r.errors,D,J):zt(r.errors,D)),(J?!us(fe,J):fe)||!yr(me)||ue){const ye={...me,...ue&&qr(W)?{isValid:W}:{},errors:r.errors,name:D};r={...r,...ye},g.state.next(ye)}},V=async D=>{E(D,!0);const W=await t.resolver(a,t.context,L4(D||u.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return E(D),W},F=async D=>{const{errors:W}=await V(D);if(D)for(const J of D){const me=ve(W,J);me?st(r.errors,J,me):zt(r.errors,J)}else r.errors=W;return W},B=async(D,W,J={valid:!0})=>{for(const me in D){const fe=D[me];if(fe){const{_f:ue,...ye}=fe;if(ue){const Ke=u.array.has(ue.name),et=fe._f&&F4(fe._f);et&&h.validatingFields&&E([me],!0);const dt=await Qb(fe,u.disabled,a,b,t.shouldUseNativeValidation&&!W,Ke);if(et&&h.validatingFields&&E([me]),dt[ue.name]&&(J.valid=!1,W))break;!W&&(ve(dt,ue.name)?Ke?W4(r.errors,dt,ue.name):st(r.errors,ue.name,dt[ue.name]):zt(r.errors,ue.name))}!yr(ye)&&await B(ye,W,J)}}return J.valid},U=()=>{for(const D of u.unMount){const W=ve(n,D);W&&(W._f.refs?W._f.refs.every(J=>!Im(J)):!Im(W._f.ref))&&oe(D)}u.unMount=new Set},Q=(D,W)=>!t.disabled&&(D&&W&&st(a,D,W),!us(I(),i)),G=(D,W,J)=>zk(D,u,{...l.mount?a:Nt(W)?i:Hn(D)?{[D]:W}:W},J,W),he=D=>ef(ve(l.mount?a:i,D,t.shouldUnregister?ve(i,D,[]):[])),we=(D,W,J={})=>{const me=ve(n,D);let fe=W;if(me){const ue=me._f;ue&&(!ue.disabled&&st(a,D,Wk(W,ue)),fe=sd(ue.ref)&&xr(W)?"":W,Uk(ue.ref)?[...ue.ref.options].forEach(ye=>ye.selected=fe.includes(ye.value)):ue.refs?eu(ue.ref)?ue.refs.length>1?ue.refs.forEach(ye=>(!ye.defaultChecked||!ye.disabled)&&(ye.checked=Array.isArray(fe)?!!fe.find(Ke=>Ke===ye.value):fe===ye.value)):ue.refs[0]&&(ue.refs[0].checked=!!fe):ue.refs.forEach(ye=>ye.checked=ye.value===fe):Fg(ue.ref)?ue.ref.value="":(ue.ref.value=fe,ue.ref.type||g.state.next({name:D,values:ir(a)})))}(J.shouldDirty||J.shouldTouch)&&L(D,fe,J.shouldTouch,J.shouldDirty,!0),J.shouldValidate&&M(D)},pe=(D,W,J)=>{for(const me in W){const fe=W[me],ue=`${D}.${me}`,ye=ve(n,ue);(u.array.has(D)||At(fe)||ye&&!ye._f)&&!Ws(fe)?pe(ue,fe,J):we(ue,fe,J)}},Z=(D,W,J={})=>{const me=ve(n,D),fe=u.array.has(D),ue=ir(W);st(a,D,ue),fe?(g.array.next({name:D,values:ir(a)}),(h.isDirty||h.dirtyFields||p.isDirty||p.dirtyFields)&&J.shouldDirty&&g.state.next({name:D,dirtyFields:ml(i,a),isDirty:Q(D,ue)})):me&&!me._f&&!xr(ue)?pe(D,ue,J):we(D,ue,J),Gb(D,u)&&g.state.next({...r}),g.state.next({name:l.mount?D:void 0,values:ir(a)})},re=async D=>{l.mount=!0;const W=D.target;let J=W.name,me=!0;const fe=ve(n,J),ue=ye=>{me=Number.isNaN(ye)||Ws(ye)&&isNaN(ye.getTime())||us(ye,ve(a,J,ye))};if(fe){let ye,Ke;const et=W.type?Kb(fe._f):Mk(D),dt=D.type===id.BLUR||D.type===id.FOCUS_OUT,fa=!z4(fe._f)&&!t.resolver&&!ve(r.errors,J)&&!fe._f.deps||V4(dt,ve(r.touchedFields,J),r.isSubmitted,S,w),Zn=Gb(J,u,dt);st(a,J,et),dt?(fe._f.onBlur&&fe._f.onBlur(D),d&&d(0)):fe._f.onChange&&fe._f.onChange(D);const ei=L(J,et,dt),Co=!yr(ei)||Zn;if(!dt&&g.state.next({name:J,type:D.type,values:ir(a)}),fa)return(h.isValid||p.isValid)&&(t.mode==="onBlur"?dt&&k():dt||k()),Co&&g.state.next({name:J,...Zn?{}:ei});if(!dt&&Zn&&g.state.next({...r}),t.resolver){const{errors:ti}=await V([J]);if(ue(et),me){const xs=Jb(r.errors,n,J),ri=Jb(ti,n,xs.name||J);ye=ri.error,J=ri.name,Ke=yr(ti)}}else E([J],!0),ye=(await Qb(fe,u.disabled,a,b,t.shouldUseNativeValidation))[J],E([J]),ue(et),me&&(ye?Ke=!1:(h.isValid||p.isValid)&&(Ke=await B(n,!0)));me&&(fe._f.deps&&M(fe._f.deps),H(J,Ke,ye,ei))}},se=(D,W)=>{if(ve(r.errors,W)&&D.focus)return D.focus(),1},M=async(D,W={})=>{let J,me;const fe=Tl(D);if(t.resolver){const ue=await F(Nt(D)?D:fe);J=yr(ue),me=D?!fe.some(ye=>ve(ue,ye)):J}else D?(me=(await Promise.all(fe.map(async ue=>{const ye=ve(n,ue);return await B(ye&&ye._f?{[ue]:ye}:ye)}))).every(Boolean),!(!me&&!r.isValid)&&k()):me=J=await B(n);return g.state.next({...!Hn(D)||(h.isValid||p.isValid)&&J!==r.isValid?{}:{name:D},...t.resolver||!D?{isValid:J}:{},errors:r.errors}),W.shouldFocus&&!me&&Il(n,se,D?fe:u.mount),me},I=D=>{const W={...l.mount?a:i};return Nt(D)?W:Hn(D)?ve(W,D):D.map(J=>ve(W,J))},ee=(D,W)=>({invalid:!!ve((W||r).errors,D),isDirty:!!ve((W||r).dirtyFields,D),error:ve((W||r).errors,D),isValidating:!!ve(r.validatingFields,D),isTouched:!!ve((W||r).touchedFields,D)}),be=D=>{D&&Tl(D).forEach(W=>zt(r.errors,W)),g.state.next({errors:D?r.errors:{}})},de=(D,W,J)=>{const me=(ve(n,D,{_f:{}})._f||{}).ref,fe=ve(r.errors,D)||{},{ref:ue,message:ye,type:Ke,...et}=fe;st(r.errors,D,{...et,...W,ref:me}),g.state.next({name:D,errors:r.errors,isValid:!1}),J&&J.shouldFocus&&me&&me.focus&&me.focus()},je=(D,W)=>On(D)?g.state.subscribe({next:J=>D(G(void 0,W),J)}):G(D,W,!0),Me=D=>g.state.subscribe({next:W=>{B4(D.name,W.name,D.exact)&&U4(W,D.formState||h,Mr,D.reRenderRoot)&&D.callback({values:{...a},...r,...W})}}).unsubscribe,qe=D=>(l.mount=!0,p={...p,...D.formState},Me({...D,formState:p})),oe=(D,W={})=>{for(const J of D?Tl(D):u.mount)u.mount.delete(J),u.array.delete(J),W.keepValue||(zt(n,J),zt(a,J)),!W.keepError&&zt(r.errors,J),!W.keepDirty&&zt(r.dirtyFields,J),!W.keepTouched&&zt(r.touchedFields,J),!W.keepIsValidating&&zt(r.validatingFields,J),!t.shouldUnregister&&!W.keepDefaultValue&&zt(i,J);g.state.next({values:ir(a)}),g.state.next({...r,...W.keepDirty?{isDirty:Q()}:{}}),!W.keepIsValid&&k()},Ae=({disabled:D,name:W})=>{(qr(D)&&l.mount||D||u.disabled.has(W))&&(D?u.disabled.add(W):u.disabled.delete(W))},te=(D,W={})=>{let J=ve(n,D);const me=qr(W.disabled)||qr(t.disabled);return st(n,D,{...J||{},_f:{...J&&J._f?J._f:{ref:{name:D}},name:D,mount:!0,...W}}),u.mount.add(D),J?Ae({disabled:qr(W.disabled)?W.disabled:t.disabled,name:D}):T(D,!0,W.value),{...me?{disabled:W.disabled||t.disabled}:{},...t.progressive?{required:!!W.required,min:pl(W.min),max:pl(W.max),minLength:pl(W.minLength),maxLength:pl(W.maxLength),pattern:pl(W.pattern)}:{},name:D,onChange:re,onBlur:re,ref:fe=>{if(fe){te(D,W),J=ve(n,D);const ue=Nt(fe.value)&&fe.querySelectorAll&&fe.querySelectorAll("input,select,textarea")[0]||fe,ye=R4(ue),Ke=J._f.refs||[];if(ye?Ke.find(et=>et===ue):ue===J._f.ref)return;st(n,D,{_f:{...J._f,...ye?{refs:[...Ke.filter(Im),ue,...Array.isArray(ve(i,D))?[{}]:[]],ref:{type:ue.type,name:D}}:{ref:ue}}}),T(D,!1,void 0,ue)}else J=ve(n,D,{}),J._f&&(J._f.mount=!1),(t.shouldUnregister||W.shouldUnregister)&&!($k(u.array,D)&&l.action)&&u.unMount.add(D)}}},X=()=>t.shouldFocusError&&Il(n,se,u.mount),Ye=D=>{qr(D)&&(g.state.next({disabled:D}),Il(n,(W,J)=>{const me=ve(n,J);me&&(W.disabled=me._f.disabled||D,Array.isArray(me._f.refs)&&me._f.refs.forEach(fe=>{fe.disabled=me._f.disabled||D}))},0,!1))},We=(D,W)=>async J=>{let me;J&&(J.preventDefault&&J.preventDefault(),J.persist&&J.persist());let fe=ir(a);if(g.state.next({isSubmitting:!0}),t.resolver){const{errors:ue,values:ye}=await V();r.errors=ue,fe=ye}else await B(n);if(u.disabled.size)for(const ue of u.disabled)st(fe,ue,void 0);if(zt(r.errors,"root"),yr(r.errors)){g.state.next({errors:{}});try{await D(fe,J)}catch(ue){me=ue}}else W&&await W({...r.errors},J),X(),setTimeout(X);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:yr(r.errors)&&!me,submitCount:r.submitCount+1,errors:r.errors}),me)throw me},Pt=(D,W={})=>{ve(n,D)&&(Nt(W.defaultValue)?Z(D,ir(ve(i,D))):(Z(D,W.defaultValue),st(i,D,ir(W.defaultValue))),W.keepTouched||zt(r.touchedFields,D),W.keepDirty||(zt(r.dirtyFields,D),r.isDirty=W.defaultValue?Q(D,ir(ve(i,D))):Q()),W.keepError||(zt(r.errors,D),h.isValid&&k()),g.state.next({...r}))},vt=(D,W={})=>{const J=D?ir(D):i,me=ir(J),fe=yr(D),ue=fe?i:me;if(W.keepDefaultValues||(i=J),!W.keepValues){if(W.keepDirtyValues){const ye=new Set([...u.mount,...Object.keys(ml(i,a))]);for(const Ke of Array.from(ye))ve(r.dirtyFields,Ke)?st(ue,Ke,ve(a,Ke)):Z(Ke,ve(ue,Ke))}else{if(Mg&&Nt(D))for(const ye of u.mount){const Ke=ve(n,ye);if(Ke&&Ke._f){const et=Array.isArray(Ke._f.refs)?Ke._f.refs[0]:Ke._f.ref;if(sd(et)){const dt=et.closest("form");if(dt){dt.reset();break}}}}for(const ye of u.mount)Z(ye,ve(ue,ye))}a=ir(ue),g.array.next({values:{...ue}}),g.state.next({values:{...ue}})}u={mount:W.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!h.isValid||!!W.keepIsValid||!!W.keepDirtyValues,l.watch=!!t.shouldUnregister,g.state.next({submitCount:W.keepSubmitCount?r.submitCount:0,isDirty:fe?!1:W.keepDirty?r.isDirty:!!(W.keepDefaultValues&&!us(D,i)),isSubmitted:W.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:fe?{}:W.keepDirtyValues?W.keepDefaultValues&&a?ml(i,a):r.dirtyFields:W.keepDefaultValues&&D?ml(i,D):W.keepDirty?r.dirtyFields:{},touchedFields:W.keepTouched?r.touchedFields:{},errors:W.keepErrors?r.errors:{},isSubmitSuccessful:W.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Mt=(D,W)=>vt(On(D)?D(a):D,W),Fn=(D,W={})=>{const J=ve(n,D),me=J&&J._f;if(me){const fe=me.refs?me.refs[0]:me.ref;fe.focus&&(fe.focus(),W.shouldSelect&&On(fe.select)&&fe.select())}},Mr=D=>{r={...r,...D}},ur={control:{register:te,unregister:oe,getFieldState:ee,handleSubmit:We,setError:de,_subscribe:Me,_runSchema:V,_getWatch:G,_getDirty:Q,_setValid:k,_setFieldArray:N,_setDisabledField:Ae,_setErrors:O,_getFieldArray:he,_reset:vt,_resetDefaultValues:()=>On(t.defaultValues)&&t.defaultValues().then(D=>{Mt(D,t.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:U,_disableForm:Ye,_subjects:g,_proxyFormState:h,get _fields(){return n},get _formValues(){return a},get _state(){return l},set _state(D){l=D},get _defaultValues(){return i},get _names(){return u},set _names(D){u=D},get _formState(){return r},get _options(){return t},set _options(D){t={...t,...D}}},subscribe:qe,trigger:M,register:te,handleSubmit:We,watch:je,setValue:Z,getValues:I,reset:Mt,resetField:Pt,clearErrors:be,unregister:oe,setError:de,setFocus:Fn,getFieldState:ee};return{...ur,formControl:ur}}function tu(e={}){const t=Ve.useRef(void 0),r=Ve.useRef(void 0),[n,i]=Ve.useState({isDirty:!1,isValidating:!1,isLoading:On(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:On(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:H4(e),formState:n},e.formControl&&e.defaultValues&&!On(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const a=t.current.control;return a._options=e,Ve.useLayoutEffect(()=>a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0}),[a]),Ve.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),Ve.useEffect(()=>{if(a._proxyFormState.isDirty){const l=a._getDirty();l!==n.isDirty&&a._subjects.state.next({isDirty:l})}},[a,n.isDirty]),Ve.useEffect(()=>{e.values&&!us(e.values,r.current)?(a._reset(e.values,a._options.resetOptions),r.current=e.values,i(l=>({...l}))):a._resetDefaultValues()},[e.values,a]),Ve.useEffect(()=>{e.errors&&!yr(e.errors)&&a._setErrors(e.errors)},[e.errors,a]),Ve.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),Ve.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[e.shouldUnregister,a]),t.current.formState=Fk(n,a),t.current}function Hk(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=Hk(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function pt(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=Hk(e))&&(n&&(n+=" "),n+=t);return n}var Dm={},Rm={},Zb;function Y4(){return Zb||(Zb=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Rm)),Rm}var Mm={},e1;function Yk(){return e1||(e1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Mm)),Mm}var $m={},t1;function Gk(){return t1||(t1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})($m)),$m}var Lm={},r1;function Ug(){return r1||(r1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],i=r.length;if(i===0)return n;let a=0,l="",u="",d=!1;for(r.charCodeAt(0)===46&&(n.push(""),a++);a<i;){const m=r[a];u?m==="\\"&&a+1<i?(a++,l+=r[a]):m===u?u="":l+=m:d?m==='"'||m==="'"?u=m:m==="]"?(d=!1,n.push(l),l=""):l+=m:m==="["?(d=!0,l&&(n.push(l),l="")):m==="."?l&&(n.push(l),l=""):l+=m,a++}return l&&n.push(l),n}e.toPath=t})(Lm)),Lm}var n1;function Bg(){return n1||(n1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y4(),r=Yk(),n=Gk(),i=Ug();function a(u,d,m){if(u==null)return m;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return m;const h=u[d];return h===void 0?r.isDeepKey(d)?a(u,i.toPath(d),m):m:h}case"number":case"symbol":{typeof d=="number"&&(d=n.toKey(d));const h=u[d];return h===void 0?m:h}default:{if(Array.isArray(d))return l(u,d,m);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return m;const h=u[d];return h===void 0?m:h}}}function l(u,d,m){if(d.length===0)return m;let h=u;for(let p=0;p<d.length;p++){if(h==null||t.isUnsafeProperty(d[p]))return m;h=h[d[p]]}return h===void 0?m:h}e.get=a})(Dm)),Dm}var Fm,i1;function G4(){return i1||(i1=1,Fm=Bg().get),Fm}var J4=G4();const io=Dn(J4);var zm={exports:{}},it={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s1;function X4(){if(s1)return it;s1=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),w=Symbol.for("react.client.reference");function S(b){if(typeof b=="object"&&b!==null){var x=b.$$typeof;switch(x){case e:switch(b=b.type,b){case r:case i:case n:case d:case m:case g:return b;default:switch(b=b&&b.$$typeof,b){case l:case u:case p:case h:return b;case a:return b;default:return x}}case t:return x}}}return it.ContextConsumer=a,it.ContextProvider=l,it.Element=e,it.ForwardRef=u,it.Fragment=r,it.Lazy=p,it.Memo=h,it.Portal=t,it.Profiler=i,it.StrictMode=n,it.Suspense=d,it.SuspenseList=m,it.isContextConsumer=function(b){return S(b)===a},it.isContextProvider=function(b){return S(b)===l},it.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===e},it.isForwardRef=function(b){return S(b)===u},it.isFragment=function(b){return S(b)===r},it.isLazy=function(b){return S(b)===p},it.isMemo=function(b){return S(b)===h},it.isPortal=function(b){return S(b)===t},it.isProfiler=function(b){return S(b)===i},it.isStrictMode=function(b){return S(b)===n},it.isSuspense=function(b){return S(b)===d},it.isSuspenseList=function(b){return S(b)===m},it.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===i||b===n||b===d||b===m||typeof b=="object"&&b!==null&&(b.$$typeof===p||b.$$typeof===h||b.$$typeof===l||b.$$typeof===a||b.$$typeof===u||b.$$typeof===w||b.getModuleId!==void 0)},it.typeOf=S,it}var a1;function Q4(){return a1||(a1=1,zm.exports=X4()),zm.exports}var Z4=Q4(),Hr=e=>e===0?0:e>0?1:-1,mn=e=>typeof e=="number"&&e!=+e,Ks=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Fe=e=>(typeof e=="number"||e instanceof Number)&&!mn(e),Jn=e=>Fe(e)||typeof e=="string",eM=0,Ll=e=>{var t=++eM;return"".concat(e||"").concat(t)},In=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Fe(t)&&typeof t!="string")return n;var a;if(Ks(t)){if(r==null)return n;var l=t.indexOf("%");a=r*parseFloat(t.slice(0,l))/100}else a=+t;return mn(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},Jk=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function wr(e,t,r){return Fe(e)&&Fe(t)?e+r*(t-e):t}function tM(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):io(n,t))===r)}var Jt=e=>e===null||typeof e>"u",ru=e=>Jt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),rM=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Vg(e){if(typeof e!="string")return!1;var t=rM;return t.includes(e)}var nM=["viewBox","children"],o1=["points","pathLength"],Um={svg:nM,polygon:o1,polyline:o1},iM=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{Vg(i)&&(n[i]=(a=>r[i](r,a)))}),n},sM=(e,t,r)=>n=>(e(t,r,n),null),qg=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];Vg(i)&&typeof a=="function"&&(n||(n={}),n[i]=sM(a,t,r))}),n},aM=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function Xk(e){if(typeof e!="string")return!1;var t=aM;return t.includes(e)}function nu(e){var t=Object.entries(e).filter(r=>{var[n]=r;return Xk(n)});return Object.fromEntries(t)}var l1=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",u1=null,Bm=null,Qk=e=>{if(e===u1&&Array.isArray(Bm))return Bm;var t=[];return j.Children.forEach(e,r=>{Jt(r)||(Z4.isFragment(r)?t=t.concat(Qk(r.props.children)):t.push(r))}),Bm=t,u1=e,t};function oM(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>l1(i)):n=[l1(t)],Qk(e).forEach(i=>{var a=io(i,"type.displayName")||io(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}var lM=(e,t,r,n)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var a=(i=n&&(Um==null?void 0:Um[n]))!==null&&i!==void 0?i:[],l=t.startsWith("data-"),u=typeof e!="function"&&(!!n&&a.includes(t)||Xk(t)),d=!!r&&Vg(t);return l||u||d},lr=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(j.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(a=>{var l;lM((l=n)===null||l===void 0?void 0:l[a],a,t,r)&&(i[a]=n[a])}),i},uM=["children","width","height","viewBox","className","style","title","desc"];function Tv(){return Tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tv.apply(null,arguments)}function cM(e,t){if(e==null)return{};var r,n,i=dM(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function dM(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Zk=j.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:l,style:u,title:d,desc:m}=e,h=cM(e,uM),p=a||{width:n,height:i,x:0,y:0},g=pt("recharts-surface",l);return j.createElement("svg",Tv({},lr(h,!0,"svg"),{className:g,width:n,height:i,style:u,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),j.createElement("title",null,d),j.createElement("desc",null,m),r)}),fM=["children","className"];function Iv(){return Iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iv.apply(null,arguments)}function hM(e,t){if(e==null)return{};var r,n,i=mM(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mM(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hs=j.forwardRef((e,t)=>{var{children:r,className:n}=e,i=hM(e,fM),a=pt("recharts-layer",n);return j.createElement("g",Iv({className:a},lr(i,!0),{ref:t}),r)}),pM=j.createContext(null);function ct(e){return function(){return e}}const eE=Math.cos,ld=Math.sin,Mn=Math.sqrt,ud=Math.PI,tf=2*ud,Dv=Math.PI,Rv=2*Dv,Ls=1e-6,vM=Rv-Ls;function tE(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function gM(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return tE;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class yM{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?tE:gM(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,l){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+l}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let l=this._x1,u=this._y1,d=n-t,m=i-r,h=l-t,p=u-r,g=h*h+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(g>Ls)if(!(Math.abs(p*d-m*h)>Ls)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let w=n-l,S=i-u,b=d*d+m*m,x=w*w+S*S,k=Math.sqrt(b),E=Math.sqrt(g),N=a*Math.tan((Dv-Math.acos((b+g-x)/(2*k*E)))/2),P=N/E,O=N/k;Math.abs(P-1)>Ls&&this._append`L${t+P*h},${r+P*p}`,this._append`A${a},${a},0,0,${+(p*w>h*S)},${this._x1=t+O*d},${this._y1=r+O*m}`}}arc(t,r,n,i,a,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),d=n*Math.sin(i),m=t+u,h=r+d,p=1^l,g=l?i-a:a-i;this._x1===null?this._append`M${m},${h}`:(Math.abs(this._x1-m)>Ls||Math.abs(this._y1-h)>Ls)&&this._append`L${m},${h}`,n&&(g<0&&(g=g%Rv+Rv),g>vM?this._append`A${n},${n},0,1,${p},${t-u},${r-d}A${n},${n},0,1,${p},${this._x1=m},${this._y1=h}`:g>Ls&&this._append`A${n},${n},0,${+(g>=Dv)},${p},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Wg(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new yM(t)}function Kg(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function rE(e){this._context=e}rE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function rf(e){return new rE(e)}function nE(e){return e[0]}function iE(e){return e[1]}function sE(e,t){var r=ct(!0),n=null,i=rf,a=null,l=Wg(u);e=typeof e=="function"?e:e===void 0?nE:ct(e),t=typeof t=="function"?t:t===void 0?iE:ct(t);function u(d){var m,h=(d=Kg(d)).length,p,g=!1,w;for(n==null&&(a=i(w=l())),m=0;m<=h;++m)!(m<h&&r(p=d[m],m,d))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+e(p,m,d),+t(p,m,d));if(w)return a=null,w+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:ct(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:ct(+d),u):t},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:ct(!!d),u):r},u.curve=function(d){return arguments.length?(i=d,n!=null&&(a=i(n)),u):i},u.context=function(d){return arguments.length?(d==null?n=a=null:a=i(n=d),u):n},u}function Oc(e,t,r){var n=null,i=ct(!0),a=null,l=rf,u=null,d=Wg(m);e=typeof e=="function"?e:e===void 0?nE:ct(+e),t=typeof t=="function"?t:ct(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?iE:ct(+r);function m(p){var g,w,S,b=(p=Kg(p)).length,x,k=!1,E,N=new Array(b),P=new Array(b);for(a==null&&(u=l(E=d())),g=0;g<=b;++g){if(!(g<b&&i(x=p[g],g,p))===k)if(k=!k)w=g,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=g-1;S>=w;--S)u.point(N[S],P[S]);u.lineEnd(),u.areaEnd()}k&&(N[g]=+e(x,g,p),P[g]=+t(x,g,p),u.point(n?+n(x,g,p):N[g],r?+r(x,g,p):P[g]))}if(E)return u=null,E+""||null}function h(){return sE().defined(i).curve(l).context(a)}return m.x=function(p){return arguments.length?(e=typeof p=="function"?p:ct(+p),n=null,m):e},m.x0=function(p){return arguments.length?(e=typeof p=="function"?p:ct(+p),m):e},m.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:ct(+p),m):n},m.y=function(p){return arguments.length?(t=typeof p=="function"?p:ct(+p),r=null,m):t},m.y0=function(p){return arguments.length?(t=typeof p=="function"?p:ct(+p),m):t},m.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:ct(+p),m):r},m.lineX0=m.lineY0=function(){return h().x(e).y(t)},m.lineY1=function(){return h().x(e).y(r)},m.lineX1=function(){return h().x(n).y(t)},m.defined=function(p){return arguments.length?(i=typeof p=="function"?p:ct(!!p),m):i},m.curve=function(p){return arguments.length?(l=p,a!=null&&(u=l(a)),m):l},m.context=function(p){return arguments.length?(p==null?a=u=null:u=l(a=p),m):a},m}class aE{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function xM(e){return new aE(e,!0)}function wM(e){return new aE(e,!1)}const Hg={draw(e,t){const r=Mn(t/ud);e.moveTo(r,0),e.arc(0,0,r,0,tf)}},bM={draw(e,t){const r=Mn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},oE=Mn(1/3),_M=oE*2,SM={draw(e,t){const r=Mn(t/_M),n=r*oE;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},jM={draw(e,t){const r=Mn(t),n=-r/2;e.rect(n,n,r,r)}},kM=.8908130915292852,lE=ld(ud/10)/ld(7*ud/10),EM=ld(tf/10)*lE,NM=-eE(tf/10)*lE,AM={draw(e,t){const r=Mn(t*kM),n=EM*r,i=NM*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const l=tf*a/5,u=eE(l),d=ld(l);e.lineTo(d*r,-u*r),e.lineTo(u*n-d*i,d*n+u*i)}e.closePath()}},Vm=Mn(3),PM={draw(e,t){const r=-Mn(t/(Vm*3));e.moveTo(0,r*2),e.lineTo(-Vm*r,-r),e.lineTo(Vm*r,-r),e.closePath()}},an=-.5,on=Mn(3)/2,Mv=1/Mn(12),OM=(Mv/2+1)*3,CM={draw(e,t){const r=Mn(t/OM),n=r/2,i=r*Mv,a=n,l=r*Mv+r,u=-a,d=l;e.moveTo(n,i),e.lineTo(a,l),e.lineTo(u,d),e.lineTo(an*n-on*i,on*n+an*i),e.lineTo(an*a-on*l,on*a+an*l),e.lineTo(an*u-on*d,on*u+an*d),e.lineTo(an*n+on*i,an*i-on*n),e.lineTo(an*a+on*l,an*l-on*a),e.lineTo(an*u+on*d,an*d-on*u),e.closePath()}};function TM(e,t){let r=null,n=Wg(i);e=typeof e=="function"?e:ct(e||Hg),t=typeof t=="function"?t:ct(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:ct(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:ct(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function cd(){}function dd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function uE(e){this._context=e}uE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:dd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:dd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function IM(e){return new uE(e)}function cE(e){this._context=e}cE.prototype={areaStart:cd,areaEnd:cd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:dd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function DM(e){return new cE(e)}function dE(e){this._context=e}dE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:dd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function RM(e){return new dE(e)}function fE(e){this._context=e}fE.prototype={areaStart:cd,areaEnd:cd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function MM(e){return new fE(e)}function c1(e){return e<0?-1:1}function d1(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),l=(r-e._y1)/(i||n<0&&-0),u=(a*i+l*n)/(n+i);return(c1(a)+c1(l))*Math.min(Math.abs(a),Math.abs(l),.5*Math.abs(u))||0}function f1(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function qm(e,t,r){var n=e._x0,i=e._y0,a=e._x1,l=e._y1,u=(a-n)/3;e._context.bezierCurveTo(n+u,i+u*t,a-u,l-u*r,a,l)}function fd(e){this._context=e}fd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qm(this,this._t0,f1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,qm(this,f1(this,r=d1(this,e,t)),r);break;default:qm(this,this._t0,r=d1(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function hE(e){this._context=new mE(e)}(hE.prototype=Object.create(fd.prototype)).point=function(e,t){fd.prototype.point.call(this,t,e)};function mE(e){this._context=e}mE.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function $M(e){return new fd(e)}function LM(e){return new hE(e)}function pE(e){this._context=e}pE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=h1(e),i=h1(t),a=0,l=1;l<r;++a,++l)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function h1(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),l=new Array(r);for(i[0]=0,a[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,l[t]-=n*l[t-1];for(i[r-1]=l[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(l[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function FM(e){return new pE(e)}function nf(e,t){this._context=e,this._t=t}nf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function zM(e){return new nf(e,.5)}function UM(e){return new nf(e,0)}function BM(e){return new nf(e,1)}function so(e,t){if((l=e.length)>1)for(var r=1,n,i,a=e[t[0]],l,u=a.length;r<l;++r)for(i=a,a=e[t[r]],n=0;n<u;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function $v(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function VM(e,t){return e[t]}function qM(e){const t=[];return t.key=e,t}function WM(){var e=ct([]),t=$v,r=so,n=VM;function i(a){var l=Array.from(e.apply(this,arguments),qM),u,d=l.length,m=-1,h;for(const p of a)for(u=0,++m;u<d;++u)(l[u][m]=[0,+n(p,l[u].key,m,a)]).data=p;for(u=0,h=Kg(t(l));u<d;++u)l[h[u]].index=u;return r(l,h),l}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:ct(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:ct(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?$v:typeof a=="function"?a:ct(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??so,i):r},i}function KM(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,l;i<a;++i){for(l=r=0;r<n;++r)l+=e[r][i][1]||0;if(l)for(r=0;r<n;++r)e[r][i][1]/=l}so(e,t)}}function HM(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var l=0,u=0;l<i;++l)u+=e[l][r][1]||0;n[r][1]+=n[r][0]=-u/2}so(e,t)}}function YM(e,t){if(!(!((l=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,l;n<a;++n){for(var u=0,d=0,m=0;u<l;++u){for(var h=e[t[u]],p=h[n][1]||0,g=h[n-1][1]||0,w=(p-g)/2,S=0;S<u;++S){var b=e[t[S]],x=b[n][1]||0,k=b[n-1][1]||0;w+=x-k}d+=p,m+=w*p}i[n-1][1]+=i[n-1][0]=r,d&&(r-=m/d)}i[n-1][1]+=i[n-1][0]=r,so(e,t)}}var GM=["type","size","sizeType"];function Lv(){return Lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lv.apply(null,arguments)}function m1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function p1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m1(Object(r),!0).forEach(function(n){JM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JM(e,t,r){return(t=XM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XM(e){var t=QM(e,"string");return typeof t=="symbol"?t:t+""}function QM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZM(e,t){if(e==null)return{};var r,n,i=e$(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function e$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vE={symbolCircle:Hg,symbolCross:bM,symbolDiamond:SM,symbolSquare:jM,symbolStar:AM,symbolTriangle:PM,symbolWye:CM},t$=Math.PI/180,r$=e=>{var t="symbol".concat(ru(e));return vE[t]||Hg},n$=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*t$;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},i$=(e,t)=>{vE["symbol".concat(ru(e))]=t},gE=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=ZM(e,GM),a=p1(p1({},i),{},{type:t,size:r,sizeType:n}),l="circle";typeof t=="string"&&(l=t);var u=()=>{var g=r$(l),w=TM().type(g).size(n$(r,n,l));return w()},{className:d,cx:m,cy:h}=a,p=lr(a,!0);return m===+m&&h===+h&&r===+r?j.createElement("path",Lv({},p,{className:pt("recharts-symbols",d),transform:"translate(".concat(m,", ").concat(h,")"),d:u()})):null};gE.registerSymbol=i$;var Wm={},Km={},v1;function s$(){return v1||(v1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const l=r[a],u=n(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}e.uniqBy=t})(Km)),Km}var Hm={},g1;function yE(){return g1||(g1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Hm)),Hm}var Ym={},Gm={},Jm={},y1;function a$(){return y1||(y1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Jm)),Jm}var x1;function Yg(){return x1||(x1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=a$();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Gm)),Gm}var Xm={},w1;function o$(){return w1||(w1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Xm)),Xm}var b1;function l$(){return b1||(b1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yg(),r=o$();function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(Ym)),Ym}var Qm={},Zm={},_1;function u$(){return _1||(_1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bg();function r(n){return function(i){return t.get(i,n)}}e.property=r})(Zm)),Zm}var ep={},tp={},rp={},np={},S1;function xE(){return S1||(S1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(np)),np}var ip={},j1;function wE(){return j1||(j1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(ip)),ip}var sp={},k1;function bE(){return k1||(k1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(sp)),sp}var E1;function c$(){return E1||(E1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gg(),r=xE(),n=wE(),i=bE();function a(p,g,w){return typeof w!="function"?t.isMatch(p,g):l(p,g,function S(b,x,k,E,N,P){const O=w(b,x,k,E,N,P);return O!==void 0?!!O:l(b,x,S,P)},new Map)}function l(p,g,w,S){if(g===p)return!0;switch(typeof g){case"object":return u(p,g,w,S);case"function":return Object.keys(g).length>0?l(p,{...g},w,S):i.eq(p,g);default:return r.isObject(p)?typeof g=="string"?g==="":!0:i.eq(p,g)}}function u(p,g,w,S){if(g==null)return!0;if(Array.isArray(g))return m(p,g,w,S);if(g instanceof Map)return d(p,g,w,S);if(g instanceof Set)return h(p,g,w,S);const b=Object.keys(g);if(p==null)return b.length===0;if(b.length===0)return!0;if(S&&S.has(g))return S.get(g)===p;S&&S.set(g,p);try{for(let x=0;x<b.length;x++){const k=b[x];if(!n.isPrimitive(p)&&!(k in p)||g[k]===void 0&&p[k]!==void 0||g[k]===null&&p[k]!==null||!w(p[k],g[k],k,p,g,S))return!1}return!0}finally{S&&S.delete(g)}}function d(p,g,w,S){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[b,x]of g.entries()){const k=p.get(b);if(w(k,x,b,p,g,S)===!1)return!1}return!0}function m(p,g,w,S){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const b=new Set;for(let x=0;x<g.length;x++){const k=g[x];let E=!1;for(let N=0;N<p.length;N++){if(b.has(N))continue;const P=p[N];let O=!1;if(w(P,k,x,p,g,S)&&(O=!0),O){b.add(N),E=!0;break}}if(!E)return!1}return!0}function h(p,g,w,S){return g.size===0?!0:p instanceof Set?m([...p],[...g],w,S):!1}e.isMatchWith=a,e.isSetMatch=h})(rp)),rp}var N1;function Gg(){return N1||(N1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c$();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(tp)),tp}var ap={},op={},lp={},A1;function d$(){return A1||(A1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(lp)),lp}var up={},P1;function _E(){return P1||(P1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(up)),up}var cp={},O1;function SE(){return O1||(O1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",l="[object Symbol]",u="[object Date]",d="[object Map]",m="[object Set]",h="[object Array]",p="[object Function]",g="[object ArrayBuffer]",w="[object Object]",S="[object Error]",b="[object DataView]",x="[object Uint8Array]",k="[object Uint8ClampedArray]",E="[object Uint16Array]",N="[object Uint32Array]",P="[object BigUint64Array]",O="[object Int8Array]",T="[object Int16Array]",L="[object Int32Array]",H="[object BigInt64Array]",V="[object Float32Array]",F="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=g,e.arrayTag=h,e.bigInt64ArrayTag=H,e.bigUint64ArrayTag=P,e.booleanTag=i,e.dataViewTag=b,e.dateTag=u,e.errorTag=S,e.float32ArrayTag=V,e.float64ArrayTag=F,e.functionTag=p,e.int16ArrayTag=T,e.int32ArrayTag=L,e.int8ArrayTag=O,e.mapTag=d,e.numberTag=n,e.objectTag=w,e.regexpTag=t,e.setTag=m,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=E,e.uint32ArrayTag=N,e.uint8ArrayTag=x,e.uint8ClampedArrayTag=k})(cp)),cp}var dp={},C1;function f$(){return C1||(C1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(dp)),dp}var T1;function jE(){return T1||(T1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d$(),r=_E(),n=SE(),i=wE(),a=f$();function l(h,p){return u(h,void 0,h,new Map,p)}function u(h,p,g,w=new Map,S=void 0){const b=S==null?void 0:S(h,p,g,w);if(b!==void 0)return b;if(i.isPrimitive(h))return h;if(w.has(h))return w.get(h);if(Array.isArray(h)){const x=new Array(h.length);w.set(h,x);for(let k=0;k<h.length;k++)x[k]=u(h[k],k,g,w,S);return Object.hasOwn(h,"index")&&(x.index=h.index),Object.hasOwn(h,"input")&&(x.input=h.input),x}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const x=new RegExp(h.source,h.flags);return x.lastIndex=h.lastIndex,x}if(h instanceof Map){const x=new Map;w.set(h,x);for(const[k,E]of h)x.set(k,u(E,k,g,w,S));return x}if(h instanceof Set){const x=new Set;w.set(h,x);for(const k of h)x.add(u(k,void 0,g,w,S));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const x=new(Object.getPrototypeOf(h)).constructor(h.length);w.set(h,x);for(let k=0;k<h.length;k++)x[k]=u(h[k],k,g,w,S);return x}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const x=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return w.set(h,x),d(x,h,g,w,S),x}if(typeof File<"u"&&h instanceof File){const x=new File([h],h.name,{type:h.type});return w.set(h,x),d(x,h,g,w,S),x}if(h instanceof Blob){const x=new Blob([h],{type:h.type});return w.set(h,x),d(x,h,g,w,S),x}if(h instanceof Error){const x=new h.constructor;return w.set(h,x),x.message=h.message,x.name=h.name,x.stack=h.stack,x.cause=h.cause,d(x,h,g,w,S),x}if(typeof h=="object"&&m(h)){const x=Object.create(Object.getPrototypeOf(h));return w.set(h,x),d(x,h,g,w,S),x}return h}function d(h,p,g=h,w,S){const b=[...Object.keys(p),...t.getSymbols(p)];for(let x=0;x<b.length;x++){const k=b[x],E=Object.getOwnPropertyDescriptor(h,k);(E==null||E.writable)&&(h[k]=u(p[k],k,g,w,S))}}function m(h){switch(r.getTag(h)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=u,e.copyProperties=d})(op)),op}var I1;function h$(){return I1||(I1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jE();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(ap)),ap}var D1;function m$(){return D1||(D1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gg(),r=h$();function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(ep)),ep}var fp={},hp={},mp={},R1;function p$(){return R1||(R1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jE(),r=SE();function n(i,a){return t.cloneDeepWith(i,(l,u,d,m)=>{const h=a==null?void 0:a(l,u,d,m);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(p,i),p}case r.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}e.cloneDeepWith=n})(mp)),mp}var M1;function v$(){return M1||(M1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p$();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(hp)),hp}var pp={},vp={},$1;function kE(){return $1||($1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(vp)),vp}var gp={},L1;function g$(){return L1||(L1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_E();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(gp)),gp}var F1;function y$(){return F1||(F1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yk(),r=kE(),n=g$(),i=Ug();function a(l,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&t.isDeepKey(u)&&(l==null?void 0:l[u])==null?d=i.toPath(u):d=[u],d.length===0)return!1;let m=l;for(let h=0;h<d.length;h++){const p=d[h];if((m==null||!Object.hasOwn(m,p))&&!((Array.isArray(m)||n.isArguments(m))&&r.isIndex(p)&&p<m.length))return!1;m=m[p]}return!0}e.has=a})(pp)),pp}var z1;function x$(){return z1||(z1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gg(),r=Gk(),n=v$(),i=Bg(),a=y$();function l(u,d){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=r.toKey(u);break}}return d=n.cloneDeep(d),function(m){const h=i.get(m,u);return h===void 0?a.has(m,u):d===void 0?h===void 0:t.isMatch(h,d)}}e.matchesProperty=l})(fp)),fp}var U1;function w$(){return U1||(U1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yE(),r=u$(),n=m$(),i=x$();function a(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=a})(Qm)),Qm}var B1;function b$(){return B1||(B1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s$(),r=yE(),n=l$(),i=w$();function a(l,u=r.identity){return n.isArrayLikeObject(l)?t.uniqBy(Array.from(l),i.iteratee(u)):[]}e.uniqBy=a})(Wm)),Wm}var yp,V1;function _$(){return V1||(V1=1,yp=b$().uniqBy),yp}var S$=_$();const q1=Dn(S$);function j$(e,t,r){return t===!0?q1(e,r):typeof t=="function"?q1(e,t):e}var xp={exports:{}},wp={},bp={exports:{}},_p={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W1;function k$(){if(W1)return _p;W1=1;var e=vo();function t(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,a=e.useLayoutEffect,l=e.useDebugValue;function u(p,g){var w=g(),S=n({inst:{value:w,getSnapshot:g}}),b=S[0].inst,x=S[1];return a(function(){b.value=w,b.getSnapshot=g,d(b)&&x({inst:b})},[p,w,g]),i(function(){return d(b)&&x({inst:b}),p(function(){d(b)&&x({inst:b})})},[p]),l(w),w}function d(p){var g=p.getSnapshot;p=p.value;try{var w=g();return!r(p,w)}catch{return!0}}function m(p,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:u;return _p.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,_p}var K1;function E$(){return K1||(K1=1,bp.exports=k$()),bp.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H1;function N$(){if(H1)return wp;H1=1;var e=vo(),t=E$();function r(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,a=e.useRef,l=e.useEffect,u=e.useMemo,d=e.useDebugValue;return wp.useSyncExternalStoreWithSelector=function(m,h,p,g,w){var S=a(null);if(S.current===null){var b={hasValue:!1,value:null};S.current=b}else b=S.current;S=u(function(){function k(T){if(!E){if(E=!0,N=T,T=g(T),w!==void 0&&b.hasValue){var L=b.value;if(w(L,T))return P=L}return P=T}if(L=P,n(N,T))return L;var H=g(T);return w!==void 0&&w(L,H)?(N=T,L):(N=T,P=H)}var E=!1,N,P,O=p===void 0?null:p;return[function(){return k(h())},O===null?void 0:function(){return k(O())}]},[h,p,g,w]);var x=i(m,S[0],S[1]);return l(function(){b.hasValue=!0,b.value=x},[x]),d(x),x},wp}var Y1;function A$(){return Y1||(Y1=1,xp.exports=N$()),xp.exports}var P$=A$(),Jg=j.createContext(null),O$=e=>e,Xt=()=>{var e=j.useContext(Jg);return e?e.store.dispatch:O$},Jc=()=>{},C$=()=>Jc,T$=(e,t)=>e===t;function Re(e){var t=j.useContext(Jg);return P$.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:C$,t?t.store.getState:Jc,t?t.store.getState:Jc,t?e:Jc,T$)}function I$(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function D$(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function R$(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var G1=e=>Array.isArray(e)?e:[e];function M$(e){const t=Array.isArray(e[0])?e[0]:e;return R$(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function $$(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var L$=class{constructor(e){this.value=e}deref(){return this.value}},F$=typeof WeakRef<"u"?WeakRef:L$,z$=0,J1=1;function Cc(){return{s:z$,v:void 0,o:null,p:null}}function EE(e,t={}){let r=Cc();const{resultEqualityCheck:n}=t;let i,a=0;function l(){var p;let u=r;const{length:d}=arguments;for(let g=0,w=d;g<w;g++){const S=arguments[g];if(typeof S=="function"||typeof S=="object"&&S!==null){let b=u.o;b===null&&(u.o=b=new WeakMap);const x=b.get(S);x===void 0?(u=Cc(),b.set(S,u)):u=x}else{let b=u.p;b===null&&(u.p=b=new Map);const x=b.get(S);x===void 0?(u=Cc(),b.set(S,u)):u=x}}const m=u;let h;if(u.s===J1)h=u.v;else if(h=e.apply(null,arguments),a++,n){const g=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;g!=null&&n(g,h)&&(h=g,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new F$(h):h}return m.s=J1,m.v=h,h}return l.clearCache=()=>{r=Cc(),l.resetResultsCount()},l.resultsCount=()=>a,l.resetResultsCount=()=>{a=0},l}function U$(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,l=0,u,d={},m=i.pop();typeof m=="object"&&(d=m,m=i.pop()),I$(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const h={...r,...d},{memoize:p,memoizeOptions:g=[],argsMemoize:w=EE,argsMemoizeOptions:S=[]}=h,b=G1(g),x=G1(S),k=M$(i),E=p(function(){return a++,m.apply(null,arguments)},...b),N=w(function(){l++;const O=$$(k,arguments);return u=E.apply(null,O),u},...x);return Object.assign(N,{resultFunc:m,memoizedResultFunc:E,dependencies:k,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:w})};return Object.assign(n,{withTypes:()=>n}),n}var Y=U$(EE),B$=Object.assign((e,t=Y)=>{D$(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((l,u,d)=>(l[r[d]]=u,l),{}))},{withTypes:()=>B$}),Sp={},jp={},kp={},X1;function V$(){return X1||(X1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const l=t(n),u=t(i);if(l===u&&l===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?u-l:l-u}return 0};e.compareValues=r})(kp)),kp}var Ep={},Np={},Q1;function NE(){return Q1||(Q1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Np)),Np}var Z1;function q$(){return Z1||(Z1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NE(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,l){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||l!=null&&Object.hasOwn(l,a)}e.isKey=i})(Ep)),Ep}var e_;function W$(){return e_||(e_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V$(),r=q$(),n=Ug();function i(a,l,u,d){if(a==null)return[];u=d?void 0:u,Array.isArray(a)||(a=Object.values(a)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(w=>String(w));const m=(w,S)=>{let b=w;for(let x=0;x<S.length&&b!=null;++x)b=b[S[x]];return b},h=(w,S)=>S==null||w==null?S:typeof w=="object"&&"key"in w?Object.hasOwn(S,w.key)?S[w.key]:m(S,w.path):typeof w=="function"?w(S):Array.isArray(w)?m(S,w):typeof S=="object"?S[w]:S,p=l.map(w=>(Array.isArray(w)&&w.length===1&&(w=w[0]),w==null||typeof w=="function"||Array.isArray(w)||r.isKey(w)?w:{key:w,path:n.toPath(w)}));return a.map(w=>({original:w,criteria:p.map(S=>h(S,w))})).slice().sort((w,S)=>{for(let b=0;b<p.length;b++){const x=t.compareValues(w.criteria[b],S.criteria[b],u[b]);if(x!==0)return x}return 0}).map(w=>w.original)}e.orderBy=i})(jp)),jp}var Ap={},t_;function K$(){return t_||(t_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),l=(u,d)=>{for(let m=0;m<u.length;m++){const h=u[m];Array.isArray(h)&&d<a?l(h,d+1):i.push(h)}};return l(r,0),i}e.flatten=t})(Ap)),Ap}var Pp={},r_;function AE(){return r_||(r_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kE(),r=Yg(),n=xE(),i=bE();function a(l,u,d){return n.isObject(d)&&(typeof u=="number"&&r.isArrayLike(d)&&t.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?i.eq(d[u],l):!1}e.isIterateeCall=a})(Pp)),Pp}var n_;function H$(){return n_||(n_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W$(),r=K$(),n=AE();function i(a,...l){const u=l.length;return u>1&&n.isIterateeCall(a,l[0],l[1])?l=[]:u>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(a,r.flatten(l),["asc"])}e.sortBy=i})(Sp)),Sp}var Op,i_;function Y$(){return i_||(i_=1,Op=H$().sortBy),Op}var G$=Y$();const sf=Dn(G$);var PE=e=>e.legend.settings,J$=e=>e.legend.size,X$=e=>e.legend.payload;Y([X$,PE],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?sf(n,r):n});var Tc=1;function Q$(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=j.useState({height:0,left:0,top:0,width:0}),n=j.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),l={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(l.height-t.height)>Tc||Math.abs(l.left-t.left)>Tc||Math.abs(l.top-t.top)>Tc||Math.abs(l.width-t.width)>Tc)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function sr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Z$=typeof Symbol=="function"&&Symbol.observable||"@@observable",s_=Z$,Cp=()=>Math.random().toString(36).substring(7).split("").join("."),eL={INIT:`@@redux/INIT${Cp()}`,REPLACE:`@@redux/REPLACE${Cp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Cp()}`},hd=eL;function Xg(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function OE(e,t,r){if(typeof e!="function")throw new Error(sr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(sr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(sr(1));return r(OE)(e,t)}let n=e,i=t,a=new Map,l=a,u=0,d=!1;function m(){l===a&&(l=new Map,a.forEach((x,k)=>{l.set(k,x)}))}function h(){if(d)throw new Error(sr(3));return i}function p(x){if(typeof x!="function")throw new Error(sr(4));if(d)throw new Error(sr(5));let k=!0;m();const E=u++;return l.set(E,x),function(){if(k){if(d)throw new Error(sr(6));k=!1,m(),l.delete(E),a=null}}}function g(x){if(!Xg(x))throw new Error(sr(7));if(typeof x.type>"u")throw new Error(sr(8));if(typeof x.type!="string")throw new Error(sr(17));if(d)throw new Error(sr(9));try{d=!0,i=n(i,x)}finally{d=!1}return(a=l).forEach(E=>{E()}),x}function w(x){if(typeof x!="function")throw new Error(sr(10));n=x,g({type:hd.REPLACE})}function S(){const x=p;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(sr(11));function E(){const P=k;P.next&&P.next(h())}return E(),{unsubscribe:x(E)}},[s_](){return this}}}return g({type:hd.INIT}),{dispatch:g,subscribe:p,getState:h,replaceReducer:w,[s_]:S}}function tL(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:hd.INIT})>"u")throw new Error(sr(12));if(typeof r(void 0,{type:hd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(sr(13))})}function CE(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const l=t[a];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let i;try{tL(r)}catch(a){i=a}return function(l={},u){if(i)throw i;let d=!1;const m={};for(let h=0;h<n.length;h++){const p=n[h],g=r[p],w=l[p],S=g(w,u);if(typeof S>"u")throw u&&u.type,new Error(sr(14));m[p]=S,d=d||S!==w}return d=d||n.length!==Object.keys(l).length,d?m:l}}function md(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function rL(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(sr(15))};const l={getState:i.getState,dispatch:(d,...m)=>a(d,...m)},u=e.map(d=>d(l));return a=md(...u)(i.dispatch),{...i,dispatch:a}}}function TE(e){return Xg(e)&&"type"in e&&typeof e.type=="string"}var IE=Symbol.for("immer-nothing"),a_=Symbol.for("immer-draftable"),Jr=Symbol.for("immer-state");function Cn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ao=Object.getPrototypeOf;function na(e){return!!e&&!!e[Jr]}function ki(e){var t;return e?DE(e)||Array.isArray(e)||!!e[a_]||!!((t=e.constructor)!=null&&t[a_])||iu(e)||of(e):!1}var nL=Object.prototype.constructor.toString();function DE(e){if(!e||typeof e!="object")return!1;const t=ao(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===nL}function pd(e,t){af(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function af(e){const t=e[Jr];return t?t.type_:Array.isArray(e)?1:iu(e)?2:of(e)?3:0}function Fv(e,t){return af(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function RE(e,t,r){const n=af(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function iL(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function iu(e){return e instanceof Map}function of(e){return e instanceof Set}function Fs(e){return e.copy_||e.base_}function zv(e,t){if(iu(e))return new Map(e);if(of(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=DE(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Jr];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const l=i[a],u=n[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(ao(e),n)}else{const n=ao(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function Qg(e,t=!1){return lf(e)||na(e)||!ki(e)||(af(e)>1&&Object.defineProperties(e,{set:{value:Ic},add:{value:Ic},clear:{value:Ic},delete:{value:Ic}}),Object.freeze(e),t&&Object.values(e).forEach(r=>Qg(r,!0))),e}function Ic(){Cn(2)}function lf(e){return Object.isFrozen(e)}var sL={};function ia(e){const t=sL[e];return t||Cn(0,e),t}var Fl;function ME(){return Fl}function aL(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function o_(e,t){t&&(ia("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Uv(e){Bv(e),e.drafts_.forEach(oL),e.drafts_=null}function Bv(e){e===Fl&&(Fl=e.parent_)}function l_(e){return Fl=aL(Fl,e)}function oL(e){const t=e[Jr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function u_(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Jr].modified_&&(Uv(t),Cn(4)),ki(e)&&(e=vd(t,e),t.parent_||gd(t,e)),t.patches_&&ia("Patches").generateReplacementPatches_(r[Jr].base_,e,t.patches_,t.inversePatches_)):e=vd(t,r,[]),Uv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==IE?e:void 0}function vd(e,t,r){if(lf(t))return t;const n=t[Jr];if(!n)return pd(t,(i,a)=>c_(e,n,t,i,a,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return gd(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let a=i,l=!1;n.type_===3&&(a=new Set(i),i.clear(),l=!0),pd(a,(u,d)=>c_(e,n,i,u,d,r,l)),gd(e,i,!1),r&&e.patches_&&ia("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function c_(e,t,r,n,i,a,l){if(na(i)){const u=a&&t&&t.type_!==3&&!Fv(t.assigned_,n)?a.concat(n):void 0,d=vd(e,i,u);if(RE(r,n,d),na(d))e.canAutoFreeze_=!1;else return}else l&&r.add(i);if(ki(i)&&!lf(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;vd(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(iu(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&gd(e,i)}}function gd(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Qg(t,r)}function lL(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:ME(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=Zg;r&&(i=[n],a=zl);const{revoke:l,proxy:u}=Proxy.revocable(i,a);return n.draft_=u,n.revoke_=l,u}var Zg={get(e,t){if(t===Jr)return e;const r=Fs(e);if(!Fv(r,t))return uL(e,r,t);const n=r[t];return e.finalized_||!ki(n)?n:n===Tp(e.base_,t)?(Ip(e),e.copy_[t]=qv(n,e)):n},has(e,t){return t in Fs(e)},ownKeys(e){return Reflect.ownKeys(Fs(e))},set(e,t,r){const n=$E(Fs(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Tp(Fs(e),t),a=i==null?void 0:i[Jr];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(iL(r,i)&&(r!==void 0||Fv(e.base_,t)))return!0;Ip(e),Vv(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Tp(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Ip(e),Vv(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Fs(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Cn(11)},getPrototypeOf(e){return ao(e.base_)},setPrototypeOf(){Cn(12)}},zl={};pd(Zg,(e,t)=>{zl[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});zl.deleteProperty=function(e,t){return zl.set.call(this,e,t,void 0)};zl.set=function(e,t,r){return Zg.set.call(this,e[0],t,r,e[0])};function Tp(e,t){const r=e[Jr];return(r?Fs(r):e)[t]}function uL(e,t,r){var i;const n=$E(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function $E(e,t){if(!(t in e))return;let r=ao(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ao(r)}}function Vv(e){e.modified_||(e.modified_=!0,e.parent_&&Vv(e.parent_))}function Ip(e){e.copy_||(e.copy_=zv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var cL=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const l=this;return function(d=a,...m){return l.produce(d,h=>r.call(this,h,...m))}}typeof r!="function"&&Cn(6),n!==void 0&&typeof n!="function"&&Cn(7);let i;if(ki(t)){const a=l_(this),l=qv(t,void 0);let u=!0;try{i=r(l),u=!1}finally{u?Uv(a):Bv(a)}return o_(a,n),u_(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===IE&&(i=void 0),this.autoFreeze_&&Qg(i,!0),n){const a=[],l=[];ia("Patches").generateReplacementPatches_(t,i,a,l),n(a,l)}return i}else Cn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,d=>t(d,...u));let n,i;return[this.produce(t,r,(l,u)=>{n=l,i=u}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ki(e)||Cn(8),na(e)&&(e=_i(e));const t=l_(this),r=qv(e,void 0);return r[Jr].isManual_=!0,Bv(t),r}finishDraft(e,t){const r=e&&e[Jr];(!r||!r.isManual_)&&Cn(9);const{scope_:n}=r;return o_(n,t),u_(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=ia("Patches").applyPatches_;return na(e)?n(e,t):this.produce(e,i=>n(i,t))}};function qv(e,t){const r=iu(e)?ia("MapSet").proxyMap_(e,t):of(e)?ia("MapSet").proxySet_(e,t):lL(e,t);return(t?t.scope_:ME()).drafts_.push(r),r}function _i(e){return na(e)||Cn(10,e),LE(e)}function LE(e){if(!ki(e)||lf(e))return e;const t=e[Jr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=zv(e,t.scope_.immer_.useStrictShallowCopy_)}else r=zv(e,!0);return pd(r,(n,i)=>{RE(r,n,LE(i))}),t&&(t.finalized_=!1),r}var dL=new cL,FE=dL.produce;function zE(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var fL=zE(),hL=zE,mL=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?md:md.apply(null,arguments)};function pn(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(Gr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>TE(n)&&n.type===e,r}var UE=class El extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,El.prototype)}static get[Symbol.species](){return El}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new El(...t[0].concat(this)):new El(...t.concat(this))}};function d_(e){return ki(e)?FE(e,()=>{}):e}function Dc(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function pL(e){return typeof e=="boolean"}var vL=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let l=new UE;return r&&(pL(r)?l.push(fL):l.push(hL(r.extraArgument))),l},gL="RTK_autoBatch",f_=e=>t=>{setTimeout(t,e)},yL=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,l=!1;const u=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:f_(10):e.type==="callback"?e.queueNotification:f_(e.timeout),m=()=>{l=!1,a&&(a=!1,u.forEach(h=>h()))};return Object.assign({},n,{subscribe(h){const p=()=>i&&h(),g=n.subscribe(p);return u.add(h),()=>{g(),u.delete(h)}},dispatch(h){var p;try{return i=!((p=h==null?void 0:h.meta)!=null&&p[gL]),a=!i,a&&(l||(l=!0,d(m))),n.dispatch(h)}finally{i=!0}}})},xL=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new UE(e);return n&&i.push(yL(typeof n=="object"?n:void 0)),i};function wL(e){const t=vL(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:l=void 0}=e||{};let u;if(typeof r=="function")u=r;else if(Xg(r))u=CE(r);else throw new Error(Gr(1));let d;typeof n=="function"?d=n(t):d=t();let m=md;i&&(m=mL({trace:!1,...typeof i=="object"&&i}));const h=rL(...d),p=xL(h);let g=typeof l=="function"?l(p):p();const w=m(...g);return OE(u,a,w)}function BE(e){const t={},r=[];let n;const i={addCase(a,l){const u=typeof a=="string"?a:a.type;if(!u)throw new Error(Gr(28));if(u in t)throw new Error(Gr(29));return t[u]=l,i},addAsyncThunk(a,l){return l.pending&&(t[a.pending.type]=l.pending),l.rejected&&(t[a.rejected.type]=l.rejected),l.fulfilled&&(t[a.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:a.settled,reducer:l.settled}),i},addMatcher(a,l){return r.push({matcher:a,reducer:l}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function bL(e){return typeof e=="function"}function _L(e,t){let[r,n,i]=BE(t),a;if(bL(e))a=()=>d_(e());else{const u=d_(e);a=()=>u}function l(u=a(),d){let m=[r[d.type],...n.filter(({matcher:h})=>h(d)).map(({reducer:h})=>h)];return m.filter(h=>!!h).length===0&&(m=[i]),m.reduce((h,p)=>{if(p)if(na(h)){const w=p(h,d);return w===void 0?h:w}else{if(ki(h))return FE(h,g=>p(g,d));{const g=p(h,d);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},u)}return l.getInitialState=a,l}var SL="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",jL=(e=21)=>{let t="",r=e;for(;r--;)t+=SL[Math.random()*64|0];return t},kL=Symbol.for("rtk-slice-createasyncthunk");function EL(e,t){return`${e}/${t}`}function NL({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[kL];return function(i){const{name:a,reducerPath:l=a}=i;if(!a)throw new Error(Gr(11));const u=(typeof i.reducers=="function"?i.reducers(PL()):i.reducers)||{},d=Object.keys(u),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(P,O){const T=typeof P=="string"?P:P.type;if(!T)throw new Error(Gr(12));if(T in m.sliceCaseReducersByType)throw new Error(Gr(13));return m.sliceCaseReducersByType[T]=O,h},addMatcher(P,O){return m.sliceMatchers.push({matcher:P,reducer:O}),h},exposeAction(P,O){return m.actionCreators[P]=O,h},exposeCaseReducer(P,O){return m.sliceCaseReducersByName[P]=O,h}};d.forEach(P=>{const O=u[P],T={reducerName:P,type:EL(a,P),createNotation:typeof i.reducers=="function"};CL(O)?IL(T,O,h,t):OL(T,O,h)});function p(){const[P={},O=[],T=void 0]=typeof i.extraReducers=="function"?BE(i.extraReducers):[i.extraReducers],L={...P,...m.sliceCaseReducersByType};return _L(i.initialState,H=>{for(let V in L)H.addCase(V,L[V]);for(let V of m.sliceMatchers)H.addMatcher(V.matcher,V.reducer);for(let V of O)H.addMatcher(V.matcher,V.reducer);T&&H.addDefaultCase(T)})}const g=P=>P,w=new Map,S=new WeakMap;let b;function x(P,O){return b||(b=p()),b(P,O)}function k(){return b||(b=p()),b.getInitialState()}function E(P,O=!1){function T(H){let V=H[P];return typeof V>"u"&&O&&(V=Dc(S,T,k)),V}function L(H=g){const V=Dc(w,O,()=>new WeakMap);return Dc(V,H,()=>{const F={};for(const[B,U]of Object.entries(i.selectors??{}))F[B]=AL(U,H,()=>Dc(S,H,k),O);return F})}return{reducerPath:P,getSelectors:L,get selectors(){return L(T)},selectSlice:T}}const N={name:a,reducer:x,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:k,...E(l),injectInto(P,{reducerPath:O,...T}={}){const L=O??l;return P.inject({reducerPath:L,reducer:x},T),{...N,...E(L,!0)}}};return N}}function AL(e,t,r,n){function i(a,...l){let u=t(a);return typeof u>"u"&&n&&(u=r()),e(u,...l)}return i.unwrapped=e,i}var Qr=NL();function PL(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function OL({type:e,reducerName:t,createNotation:r},n,i){let a,l;if("reducer"in n){if(r&&!TL(n))throw new Error(Gr(17));a=n.reducer,l=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,l?pn(e,l):pn(e))}function CL(e){return e._reducerDefinitionType==="asyncThunk"}function TL(e){return e._reducerDefinitionType==="reducerWithPrepare"}function IL({type:e,reducerName:t},r,n,i){if(!i)throw new Error(Gr(18));const{payloadCreator:a,fulfilled:l,pending:u,rejected:d,settled:m,options:h}=r,p=i(e,a,h);n.exposeAction(t,p),l&&n.addCase(p.fulfilled,l),u&&n.addCase(p.pending,u),d&&n.addCase(p.rejected,d),m&&n.addMatcher(p.settled,m),n.exposeCaseReducer(t,{fulfilled:l||Rc,pending:u||Rc,rejected:d||Rc,settled:m||Rc})}function Rc(){}var DL="task",VE="listener",qE="completed",ey="cancelled",RL=`task-${ey}`,ML=`task-${qE}`,Wv=`${VE}-${ey}`,$L=`${VE}-${qE}`,uf=class{constructor(e){hm(this,"name","TaskAbortError");hm(this,"message");this.code=e,this.message=`${DL} ${ey} (reason: ${e})`}},ty=(e,t)=>{if(typeof e!="function")throw new TypeError(Gr(32))},yd=()=>{},WE=(e,t=yd)=>(e.catch(t),e),KE=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Xs=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Qs=e=>{if(e.aborted){const{reason:t}=e;throw new uf(t)}};function HE(e,t){let r=yd;return new Promise((n,i)=>{const a=()=>i(new uf(e.reason));if(e.aborted){a();return}r=KE(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=yd})}var LL=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof uf?"cancelled":"rejected",error:r}}finally{t==null||t()}},xd=e=>t=>WE(HE(e,t).then(r=>(Qs(e),r))),YE=e=>{const t=xd(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:eo}=Object,h_={},cf="listenerMiddleware",FL=(e,t)=>{const r=n=>KE(e,()=>Xs(n,e.reason));return(n,i)=>{ty(n);const a=new AbortController;r(a);const l=LL(async()=>{Qs(e),Qs(a.signal);const u=await n({pause:xd(a.signal),delay:YE(a.signal),signal:a.signal});return Qs(a.signal),u},()=>Xs(a,ML));return i!=null&&i.autoJoin&&t.push(l.catch(yd)),{result:xd(e)(l),cancel(){Xs(a,RL)}}}},zL=(e,t)=>{const r=async(n,i)=>{Qs(t);let a=()=>{};const u=[new Promise((d,m)=>{let h=e({predicate:n,effect:(p,g)=>{g.unsubscribe(),d([p,g.getState(),g.getOriginalState()])}});a=()=>{h(),m()}})];i!=null&&u.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await HE(t,Promise.race(u));return Qs(t),d}finally{a()}};return(n,i)=>WE(r(n,i))},GE=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=pn(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Gr(21));return ty(a),{predicate:i,type:t,effect:a}},JE=eo(e=>{const{type:t,predicate:r,effect:n}=GE(e);return{id:jL(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Gr(22))}}},{withTypes:()=>JE}),m_=(e,t)=>{const{type:r,effect:n,predicate:i}=GE(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},Kv=e=>{e.pending.forEach(t=>{Xs(t,Wv)})},UL=e=>()=>{e.forEach(Kv),e.clear()},p_=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},XE=eo(pn(`${cf}/add`),{withTypes:()=>XE}),BL=pn(`${cf}/removeAll`),QE=eo(pn(`${cf}/remove`),{withTypes:()=>QE}),VL=(...e)=>{console.error(`${cf}/error`,...e)},su=(e={})=>{const t=new Map,{extra:r,onError:n=VL}=e;ty(n);const i=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),p=>{h.unsubscribe(),p!=null&&p.cancelActive&&Kv(h)}),a=h=>{const p=m_(t,h)??JE(h);return i(p)};eo(a,{withTypes:()=>a});const l=h=>{const p=m_(t,h);return p&&(p.unsubscribe(),h.cancelActive&&Kv(p)),!!p};eo(l,{withTypes:()=>l});const u=async(h,p,g,w)=>{const S=new AbortController,b=zL(a,S.signal),x=[];try{h.pending.add(S),await Promise.resolve(h.effect(p,eo({},g,{getOriginalState:w,condition:(k,E)=>b(k,E).then(Boolean),take:b,delay:YE(S.signal),pause:xd(S.signal),extra:r,signal:S.signal,fork:FL(S.signal,x),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((k,E,N)=>{k!==S&&(Xs(k,Wv),N.delete(k))})},cancel:()=>{Xs(S,Wv),h.pending.delete(S)},throwIfCancelled:()=>{Qs(S.signal)}})))}catch(k){k instanceof uf||p_(n,k,{raisedBy:"effect"})}finally{await Promise.all(x),Xs(S,$L),h.pending.delete(S)}},d=UL(t);return{middleware:h=>p=>g=>{if(!TE(g))return p(g);if(XE.match(g))return a(g.payload);if(BL.match(g)){d();return}if(QE.match(g))return l(g.payload);let w=h.getState();const S=()=>{if(w===h_)throw new Error(Gr(23));return w};let b;try{if(b=p(g),t.size>0){const x=h.getState(),k=Array.from(t.values());for(const E of k){let N=!1;try{N=E.predicate(g,x,w)}catch(P){N=!1,p_(n,P,{raisedBy:"predicate"})}N&&u(E,g,h,S)}}}finally{w=h_}return b},startListening:a,stopListening:l,clearListeners:d}};function Gr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var qL={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},ZE=Qr({name:"chartLayout",initialState:qL,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:WL,setLayout:KL,setChartSize:HL,setScale:YL}=ZE.actions,GL=ZE.reducer;function v_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function g_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v_(Object(r),!0).forEach(function(n){JL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JL(e,t,r){return(t=XL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XL(e){var t=QL(e,"string");return typeof t=="symbol"?t:t+""}function QL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wd=Math.PI/180,ZL=e=>e*180/Math.PI,or=(e,t,r,n)=>({x:e+Math.cos(-wd*n)*r,y:t+Math.sin(-wd*n)*r}),e3=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},t3=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},r3=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,l=t3({x:r,y:n},{x:i,y:a});if(l<=0)return{radius:l,angle:0};var u=(r-i)/l,d=Math.acos(u);return n>a&&(d=2*Math.PI-d),{radius:l,angle:ZL(d),angleInRadian:d}},n3=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},i3=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),l=Math.min(i,a);return e+l*360},s3=(e,t)=>{var{x:r,y:n}=e,{radius:i,angle:a}=r3({x:r,y:n},t),{innerRadius:l,outerRadius:u}=t;if(i<l||i>u||i===0)return null;var{startAngle:d,endAngle:m}=n3(t),h=a,p;if(d<=m){for(;h>m;)h-=360;for(;h<d;)h+=360;p=h>=d&&h<=m}else{for(;h>d;)h-=360;for(;h<m;)h+=360;p=h>=m&&h<=d}return p?g_(g_({},t),{},{radius:i,angle:i3(h,t)}):null};function eN(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function y_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y_(Object(r),!0).forEach(function(n){a3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a3(e,t,r){return(t=o3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o3(e){var t=l3(e,"string");return typeof t=="symbol"?t:t+""}function l3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sr(e,t,r){return Jt(e)||Jt(t)?r:Jn(t)?io(e,t,r):typeof t=="function"?t(e):r}var u3=(e,t,r,n,i)=>{var a,l=-1,u=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(u<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var d=0;d<u;d++){var m=d>0?r[d-1].coordinate:r[u-1].coordinate,h=r[d].coordinate,p=d>=u-1?r[0].coordinate:r[d+1].coordinate,g=void 0;if(Hr(h-m)!==Hr(p-h)){var w=[];if(Hr(p-h)===Hr(i[1]-i[0])){g=p;var S=h+i[1]-i[0];w[0]=Math.min(S,(S+m)/2),w[1]=Math.max(S,(S+m)/2)}else{g=m;var b=p+i[1]-i[0];w[0]=Math.min(h,(b+h)/2),w[1]=Math.max(h,(b+h)/2)}var x=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(e>x[0]&&e<=x[1]||e>=w[0]&&e<=w[1]){({index:l}=r[d]);break}}else{var k=Math.min(m,p),E=Math.max(m,p);if(e>(k+h)/2&&e<=(E+h)/2){({index:l}=r[d]);break}}}else if(t){for(var N=0;N<u;N++)if(N===0&&e<=(t[N].coordinate+t[N+1].coordinate)/2||N>0&&N<u-1&&e>(t[N].coordinate+t[N-1].coordinate)/2&&e<=(t[N].coordinate+t[N+1].coordinate)/2||N===u-1&&e>(t[N].coordinate+t[N-1].coordinate)/2){({index:l}=t[N]);break}}return l},c3=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&a!=="center"&&Fe(e[a]))return cn(cn({},e),{},{[a]:e[a]+(n||0)});if((u==="horizontal"||u==="vertical"&&a==="center")&&l!=="middle"&&Fe(e[l]))return cn(cn({},e),{},{[l]:e[l]+(i||0)})}return e},la=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",x_=1e-4,d3=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-x_,a=Math.max(n[0],n[1])+x_,l=e(t[0]),u=e(t[r-1]);(l<i||l>a||u<i||u>a)&&e.domain([t[0],t[r-1]])}},f3=(e,t)=>{if(!t||t.length!==2||!Fe(t[0])||!Fe(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Fe(e[0])||e[0]<r)&&(i[0]=r),(!Fe(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},h3=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0,l=0;l<t;++l){var u=mn(e[l][r][1])?e[l][r][0]:e[l][r][1];u>=0?(e[l][r][0]=i,e[l][r][1]=i+u,i=e[l][r][1]):(e[l][r][0]=a,e[l][r][1]=a+u,a=e[l][r][1])}},m3=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0;a<t;++a){var l=mn(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=i,e[a][r][1]=i+l,i=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},p3={sign:h3,expand:KM,none:so,silhouette:HM,wiggle:YM,positive:m3},v3=(e,t,r)=>{var n=p3[r],i=WM().keys(t).value((a,l)=>+Sr(a,l,0)).order($v).offset(n);return i(e)};function g3(e){return e==null?void 0:String(e)}var w_=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:l}=e;if(t.type==="category")return r[l]?r[l].coordinate+n:null;var u=Sr(a,t.dataKey,t.scale.domain()[l]);return Jt(u)?null:t.scale(u)-i/2+n},y3=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},x3=e=>{var t=e.flat(2).filter(Fe);return[Math.min(...t),Math.max(...t)]},w3=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],b3=(e,t,r)=>{if(e!=null)return w3(Object.keys(e).reduce((n,i)=>{var a=e[i],{stackedData:l}=a,u=l.reduce((d,m)=>{var h=eN(m,t,r),p=x3(h);return[Math.min(d[0],p[0]),Math.max(d[1],p[1])]},[1/0,-1/0]);return[Math.min(u[0],n[0]),Math.max(u[1],n[1])]},[1/0,-1/0]))},b_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,__=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ry=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=sf(t,h=>h.coordinate),a=1/0,l=1,u=i.length;l<u;l++){var d=i[l],m=i[l-1];a=Math.min((d.coordinate||0)-(m.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function S_(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return cn(cn({},t),{},{dataKey:r,payload:n,value:i,name:a})}function tN(e,t){if(e)return String(e);if(typeof t=="string")return t}function _3(e,t,r,n,i){if(r==="horizontal"||r==="vertical"){var a=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return a?{x:e,y:t}:null}return n?s3({x:e,y:t},n):null}var S3=(e,t,r,n)=>{var i=t.find(m=>m&&m.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:i.coordinate};if(e==="centric"){var a=i.coordinate,{radius:l}=n;return cn(cn(cn({},n),or(n.cx,n.cy,l,a)),{},{angle:a,radius:l})}var u=i.coordinate,{angle:d}=n;return cn(cn(cn({},n),or(n.cx,n.cy,u,d)),{},{angle:d,radius:u})}return{x:0,y:0}},j3=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Ci=e=>e.layout.width,Ti=e=>e.layout.height,k3=e=>e.layout.scale,rN=e=>e.layout.margin,df=Y(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),ff=Y(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),E3="data-recharts-item-index",N3="data-recharts-item-data-key",au=60;function j_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j_(Object(r),!0).forEach(function(n){A3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A3(e,t,r){return(t=P3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P3(e){var t=O3(e,"string");return typeof t=="symbol"?t:t+""}function O3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var C3=e=>e.brush.height;function T3(e){var t=ff(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:au;return r+i}return r},0)}function I3(e){var t=ff(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:au;return r+i}return r},0)}function D3(e){var t=df(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function R3(e){var t=df(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Qt=Y([Ci,Ti,rN,C3,T3,I3,D3,R3,PE,J$],(e,t,r,n,i,a,l,u,d,m)=>{var h={left:(r.left||0)+i,right:(r.right||0)+a},p={top:(r.top||0)+l,bottom:(r.bottom||0)+u},g=Mc(Mc({},p),h),w=g.bottom;g.bottom+=n,g=c3(g,d,m);var S=e-g.left-g.right,b=t-g.top-g.bottom;return Mc(Mc({brushBottom:w},g),{},{width:Math.max(S,0),height:Math.max(b,0)})}),M3=Y(Qt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),ny=Y(Ci,Ti,(e,t)=>({x:0,y:0,width:e,height:t})),$3=j.createContext(null),$n=()=>j.useContext($3)!=null,hf=e=>e.brush,mf=Y([hf,Qt,rN],(e,t,r)=>({height:e.height,x:Fe(e.x)?e.x:t.left,y:Fe(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Fe(e.width)?e.width:t.width})),iy=()=>{var e,t=$n(),r=Re(M3),n=Re(mf),i=(e=Re(hf))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},L3={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},F3=()=>{var e;return(e=Re(Qt))!==null&&e!==void 0?e:L3},z3=()=>Re(Ci),U3=()=>Re(Ti),nt=e=>e.layout.layoutType,sy=()=>Re(nt),B3={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},nN=Qr({name:"legend",initialState:B3,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=_i(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:LK,setLegendSettings:FK,addLegendPayload:V3,removeLegendPayload:q3}=nN.actions,W3=nN.reducer;function Hv(){return Hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hv.apply(null,arguments)}function k_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k_(Object(r),!0).forEach(function(n){K3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K3(e,t,r){return(t=H3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H3(e){var t=Y3(e,"string");return typeof t=="symbol"?t:t+""}function Y3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G3(e){return Array.isArray(e)&&Jn(e[0])&&Jn(e[1])?e.join(" ~ "):e}var J3=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:l,itemSorter:u,wrapperClassName:d,labelClassName:m,label:h,labelFormatter:p,accessibilityLayer:g=!1}=e,w=()=>{if(a&&a.length){var O={padding:0,margin:0},T=(u?sf(a,u):a).map((L,H)=>{if(L.type==="none")return null;var V=L.formatter||l||G3,{value:F,name:B}=L,U=F,Q=B;if(V){var G=V(F,B,L,H,a);if(Array.isArray(G))[U,Q]=G;else if(G!=null)U=G;else return null}var he=Dp({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},n);return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:he},Jn(Q)?j.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,Jn(Q)?j.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,j.createElement("span",{className:"recharts-tooltip-item-value"},U),j.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:O},T)}return null},S=Dp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),b=Dp({margin:0},i),x=!Jt(h),k=x?h:"",E=pt("recharts-default-tooltip",d),N=pt("recharts-tooltip-label",m);x&&p&&a!==void 0&&a!==null&&(k=p(h,a));var P=g?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",Hv({className:E,style:S},P),j.createElement("p",{className:N,style:b},j.isValidElement(k)?k:"".concat(k)),w())},vl="recharts-tooltip-wrapper",X3={visibility:"hidden"};function Q3(e){var{coordinate:t,translateX:r,translateY:n}=e;return pt(vl,{["".concat(vl,"-right")]:Fe(r)&&t&&Fe(t.x)&&r>=t.x,["".concat(vl,"-left")]:Fe(r)&&t&&Fe(t.x)&&r<t.x,["".concat(vl,"-bottom")]:Fe(n)&&t&&Fe(t.y)&&n>=t.y,["".concat(vl,"-top")]:Fe(n)&&t&&Fe(t.y)&&n<t.y})}function E_(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:l,tooltipDimension:u,viewBox:d,viewBoxDimension:m}=e;if(a&&Fe(a[n]))return a[n];var h=r[n]-u-(i>0?i:0),p=r[n]+i;if(t[n])return l[n]?h:p;var g=d[n];if(g==null)return 0;if(l[n]){var w=h,S=g;return w<S?Math.max(p,g):Math.max(h,g)}if(m==null)return 0;var b=p+u,x=g+m;return b>x?Math.max(h,g):Math.max(p,g)}function Z3(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function e6(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:l,useTranslate3d:u,viewBox:d}=e,m,h,p;return l.height>0&&l.width>0&&r?(h=E_({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),p=E_({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),m=Z3({translateX:h,translateY:p,useTranslate3d:u})):m=X3,{cssProperties:m,cssClasses:Q3({translateX:h,translateY:p,coordinate:r})}}function N_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $c(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N_(Object(r),!0).forEach(function(n){Yv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yv(e,t,r){return(t=t6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t6(e){var t=r6(e,"string");return typeof t=="symbol"?t:t+""}function r6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class n6 extends j.PureComponent{constructor(){super(...arguments),Yv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Yv(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:l,hasPayload:u,isAnimationActive:d,offset:m,position:h,reverseDirection:p,useTranslate3d:g,viewBox:w,wrapperStyle:S,lastBoundingBox:b,innerRef:x,hasPortalFromProps:k}=this.props,{cssClasses:E,cssProperties:N}=e6({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:m,position:h,reverseDirection:p,tooltipBox:{height:b.height,width:b.width},useTranslate3d:g,viewBox:w}),P=k?{}:$c($c({transition:d&&t?"transform ".concat(n,"ms ").concat(i):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),O=$c($c({},P),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},S);return j.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:E,style:O,ref:x},a)}}var i6=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),_o={devToolsEnabled:!1,isSsr:i6()},iN=()=>Re(e=>e.rootProps.accessibilityLayer);function Xr(e){return Number.isFinite(e)}function bd(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Gv(){return Gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gv.apply(null,arguments)}function A_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function P_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A_(Object(r),!0).forEach(function(n){s6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function s6(e,t,r){return(t=a6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a6(e){var t=o6(e,"string");return typeof t=="symbol"?t:t+""}function o6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O_={curveBasisClosed:DM,curveBasisOpen:RM,curveBasis:IM,curveBumpX:xM,curveBumpY:wM,curveLinearClosed:MM,curveLinear:rf,curveMonotoneX:$M,curveMonotoneY:LM,curveNatural:FM,curveStep:zM,curveStepAfter:BM,curveStepBefore:UM},Lc=e=>Xr(e.x)&&Xr(e.y),gl=e=>e.x,yl=e=>e.y,l6=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(ru(e));return(r==="curveMonotone"||r==="curveBump")&&t?O_["".concat(r).concat(t==="vertical"?"Y":"X")]:O_[r]||rf},u6=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,l=l6(t,i),u=a?r.filter(Lc):r,d;if(Array.isArray(n)){var m=a?n.filter(p=>Lc(p)):n,h=u.map((p,g)=>P_(P_({},p),{},{base:m[g]}));return i==="vertical"?d=Oc().y(yl).x1(gl).x0(p=>p.base.x):d=Oc().x(gl).y1(yl).y0(p=>p.base.y),d.defined(Lc).curve(l),d(h)}return i==="vertical"&&Fe(n)?d=Oc().y(yl).x1(gl).x0(n):Fe(n)?d=Oc().x(gl).y1(yl).y0(n):d=sE().x(gl).y(yl),d.defined(Lc).curve(l),d(u)},c6=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var a=r&&r.length?u6(e):n;return j.createElement("path",Gv({},nu(e),iM(e),{className:pt("recharts-curve",t),d:a===null?void 0:a,ref:i}))},d6=["x","y","top","left","width","height","className"];function Jv(){return Jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jv.apply(null,arguments)}function C_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function f6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C_(Object(r),!0).forEach(function(n){h6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h6(e,t,r){return(t=m6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m6(e){var t=p6(e,"string");return typeof t=="symbol"?t:t+""}function p6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v6(e,t){if(e==null)return{};var r,n,i=g6(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function g6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var y6=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),x6=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:l=0,className:u}=e,d=v6(e,d6),m=f6({x:t,y:r,top:n,left:i,width:a,height:l},d);return!Fe(t)||!Fe(r)||!Fe(a)||!Fe(l)||!Fe(n)||!Fe(i)?null:j.createElement("path",Jv({},lr(m,!0),{className:pt("recharts-cross",u),d:y6(t,r,a,l,n,i)}))};function w6(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function T_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function b6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T_(Object(r),!0).forEach(function(n){_6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _6(e,t,r){return(t=S6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S6(e){var t=j6(e,"string");return typeof t=="symbol"?t:t+""}function j6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ln(e,t){var r=b6({},e),n=t,i=Object.keys(t),a=i.reduce((l,u)=>(l[u]===void 0&&n[u]!==void 0&&(l[u]=n[u]),l),r);return a}function k6(){}function I_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function D_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I_(Object(r),!0).forEach(function(n){E6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E6(e,t,r){return(t=N6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N6(e){var t=A6(e,"string");return typeof t=="symbol"?t:t+""}function A6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var P6=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),sN=(e,t,r)=>e.map(n=>"".concat(P6(n)," ").concat(t,"ms ").concat(r)).join(","),O6=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),Ul=(e,t)=>Object.keys(t).reduce((r,n)=>D_(D_({},r),{},{[n]:e(n,t[n])}),{});function R_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R_(Object(r),!0).forEach(function(n){C6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C6(e,t,r){return(t=T6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T6(e){var t=I6(e,"string");return typeof t=="symbol"?t:t+""}function I6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _d=(e,t,r)=>e+(t-e)*r,Xv=e=>{var{from:t,to:r}=e;return t!==r},aN=(e,t,r)=>{var n=Ul((i,a)=>{if(Xv(a)){var[l,u]=e(a.from,a.to,a.velocity);return ar(ar({},a),{},{from:l,velocity:u})}return a},t);return r<1?Ul((i,a)=>Xv(a)?ar(ar({},a),{},{velocity:_d(a.velocity,n[i].velocity,r),from:_d(a.from,n[i].from,r)}):a,t):aN(e,n,r-1)};function D6(e,t,r,n,i,a){var l,u=n.reduce((g,w)=>ar(ar({},g),{},{[w]:{from:e[w],velocity:0,to:t[w]}}),{}),d=()=>Ul((g,w)=>w.from,u),m=()=>!Object.values(u).filter(Xv).length,h=null,p=g=>{l||(l=g);var w=g-l,S=w/r.dt;u=aN(r,u,S),i(ar(ar(ar({},e),t),d())),l=g,m()||(h=a.setTimeout(p))};return()=>(h=a.setTimeout(p),()=>{h()})}function R6(e,t,r,n,i,a,l){var u=null,d=i.reduce((p,g)=>ar(ar({},p),{},{[g]:[e[g],t[g]]}),{}),m,h=p=>{m||(m=p);var g=(p-m)/n,w=Ul((b,x)=>_d(...x,r(g)),d);if(a(ar(ar(ar({},e),t),w)),g<1)u=l.setTimeout(h);else{var S=Ul((b,x)=>_d(...x,r(1)),d);a(ar(ar(ar({},e),t),S))}};return()=>(u=l.setTimeout(h),()=>{u()})}const M6=(e,t,r,n,i,a)=>{var l=O6(e,t);return r.isStepper===!0?D6(e,t,r,l,i,a):R6(e,t,r,n,l,i,a)};var Sd=1e-4,oN=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],lN=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),M_=(e,t)=>r=>{var n=oN(e,t);return lN(n,r)},$6=(e,t)=>r=>{var n=oN(e,t),i=[...n.map((a,l)=>a*l).slice(1),0];return lN(i,r)},$_=function(){for(var t,r,n,i,a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];if(l.length===1)switch(l[0]){case"linear":[t,n,r,i]=[0,0,1,1];break;case"ease":[t,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,i]=[.42,0,1,1];break;case"ease-out":[t,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,i]=[0,0,.58,1];break;default:{var d=l[0].split("(");d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4&&([t,n,r,i]=d[1].split(")")[0].split(",").map(S=>parseFloat(S)))}}else l.length===4&&([t,n,r,i]=l);var m=M_(t,r),h=M_(n,i),p=$6(t,r),g=S=>S>1?1:S<0?0:S,w=S=>{for(var b=S>1?1:S,x=b,k=0;k<8;++k){var E=m(x)-b,N=p(x);if(Math.abs(E-b)<Sd||N<Sd)return h(x);x=g(x-E/N)}return h(x)};return w.isStepper=!1,w},L6=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(l,u,d)=>{var m=-(l-u)*r,h=d*n,p=d+(m-h)*i/1e3,g=d*i/1e3+l;return Math.abs(g-u)<Sd&&Math.abs(p)<Sd?[u,0]:[g,p]};return a.isStepper=!0,a.dt=i,a},F6=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $_(e);case"spring":return L6();default:if(e.split("(")[0]==="cubic-bezier")return $_(e)}return typeof e=="function"?e:null};function z6(e){var t,r=()=>null,n=!1,i=null,a=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var u=l,[d,...m]=u;if(typeof d=="number"){i=e.setTimeout(a.bind(null,m),d);return}a(d),i=e.setTimeout(a.bind(null,m));return}typeof l=="string"&&(t=l,r(t)),typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,i&&(i(),i=null),a(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}class U6{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function B6(){return z6(new U6)}var V6=j.createContext(B6);function q6(e,t){var r=j.useContext(V6);return j.useMemo(()=>t??r(e),[e,t,r])}var W6={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},L_={t:0},Rp={t:1};function ay(e){var t=Ln(e,W6),{isActive:r,canBegin:n,duration:i,easing:a,begin:l,onAnimationEnd:u,onAnimationStart:d,children:m}=t,h=q6(t.animationId,t.animationManager),[p,g]=j.useState(r?L_:Rp),w=j.useRef(null);return j.useEffect(()=>{r||g(Rp)},[r]),j.useEffect(()=>{if(!r||!n)return k6;var S=M6(L_,Rp,F6(a),i,g,h.getTimeoutController()),b=()=>{w.current=S()};return h.start([d,l,b,i,u]),()=>{h.stop(),w.current&&w.current(),u()}},[r,n,i,a,l,d,u,h]),m(p.t)}function oy(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=j.useRef(Ll(t)),n=j.useRef(e);return n.current!==e&&(r.current=Ll(t),n.current=e),r.current}function F_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function z_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F_(Object(r),!0).forEach(function(n){K6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K6(e,t,r){return(t=H6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H6(e){var t=Y6(e,"string");return typeof t=="symbol"?t:t+""}function Y6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jd(){return jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jd.apply(null,arguments)}var U_=(e,t,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),l=n>=0?1:-1,u=r>=0?1:-1,d=n>=0&&r>=0||n<0&&r<0?1:0,m;if(a>0&&i instanceof Array){for(var h=[0,0,0,0],p=0,g=4;p<g;p++)h[p]=i[p]>a?a:i[p];m="M".concat(e,",").concat(t+l*h[0]),h[0]>0&&(m+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(e+u*h[0],",").concat(t)),m+="L ".concat(e+r-u*h[1],",").concat(t),h[1]>0&&(m+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(e+r,",").concat(t+l*h[1])),m+="L ".concat(e+r,",").concat(t+n-l*h[2]),h[2]>0&&(m+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(e+r-u*h[2],",").concat(t+n)),m+="L ".concat(e+u*h[3],",").concat(t+n),h[3]>0&&(m+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+n-l*h[3])),m+="Z"}else if(a>0&&i===+i&&i>0){var w=Math.min(a,i);m="M ".concat(e,",").concat(t+l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e+u*w,",").concat(t,`
            L `).concat(e+r-u*w,",").concat(t,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e+r,",").concat(t+l*w,`
            L `).concat(e+r,",").concat(t+n-l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e+r-u*w,",").concat(t+n,`
            L `).concat(e+u*w,",").concat(t+n,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e,",").concat(t+n-l*w," Z")}else m="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return m},G6={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uN=e=>{var t=Ln(e,G6),r=j.useRef(null),[n,i]=j.useState(-1);j.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var G=r.current.getTotalLength();G&&i(G)}catch{}},[]);var{x:a,y:l,width:u,height:d,radius:m,className:h}=t,{animationEasing:p,animationDuration:g,animationBegin:w,isAnimationActive:S,isUpdateAnimationActive:b}=t,x=j.useRef(u),k=j.useRef(d),E=j.useRef(a),N=j.useRef(l),P=j.useMemo(()=>({x:a,y:l,width:u,height:d,radius:m}),[a,l,u,d,m]),O=oy(P,"rectangle-");if(a!==+a||l!==+l||u!==+u||d!==+d||u===0||d===0)return null;var T=pt("recharts-rectangle",h);if(!b)return j.createElement("path",jd({},lr(t,!0),{className:T,d:U_(a,l,u,d,m)}));var L=x.current,H=k.current,V=E.current,F=N.current,B="0px ".concat(n===-1?1:n,"px"),U="".concat(n,"px 0px"),Q=sN(["strokeDasharray"],g,typeof p=="string"?p:void 0);return j.createElement(ay,{animationId:O,key:O,canBegin:n>0,duration:g,easing:p,isActive:b,begin:w},G=>{var he=wr(L,u,G),we=wr(H,d,G),pe=wr(V,a,G),Z=wr(F,l,G);r.current&&(x.current=he,k.current=we,E.current=pe,N.current=Z);var re;return S?G>0?re={transition:Q,strokeDasharray:U}:re={strokeDasharray:B}:re={strokeDasharray:U},j.createElement("path",jd({},lr(t,!0),{className:T,d:U_(pe,Z,he,we,m),ref:r,style:z_(z_({},re),t.style)}))})};function cN(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,l=or(t,r,n,i),u=or(t,r,n,a);return{points:[l,u],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function Qv(){return Qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qv.apply(null,arguments)}var J6=(e,t)=>{var r=Hr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Fc=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:l,cornerRadius:u,cornerIsExternal:d}=e,m=u*(l?1:-1)+n,h=Math.asin(u/m)/wd,p=d?i:i+a*h,g=or(t,r,m,p),w=or(t,r,n,p),S=d?i-a*h:i,b=or(t,r,m*Math.cos(h*wd),S);return{center:g,circleTangency:w,lineTangency:b,theta:h}},dN=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:l}=e,u=J6(a,l),d=a+u,m=or(t,r,i,a),h=or(t,r,i,d),p="M ".concat(m.x,",").concat(m.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(a>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(n>0){var g=or(t,r,n,a),w=or(t,r,n,d);p+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(a<=d),`,
            `).concat(g.x,",").concat(g.y," Z")}else p+="L ".concat(t,",").concat(r," Z");return p},X6=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:m}=e,h=Hr(m-d),{circleTangency:p,lineTangency:g,theta:w}=Fc({cx:t,cy:r,radius:i,angle:d,sign:h,cornerRadius:a,cornerIsExternal:u}),{circleTangency:S,lineTangency:b,theta:x}=Fc({cx:t,cy:r,radius:i,angle:m,sign:-h,cornerRadius:a,cornerIsExternal:u}),k=u?Math.abs(d-m):Math.abs(d-m)-w-x;if(k<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):dN({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:d,endAngle:m});var E="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(k>180),",").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
  `);if(n>0){var{circleTangency:N,lineTangency:P,theta:O}=Fc({cx:t,cy:r,radius:n,angle:d,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),{circleTangency:T,lineTangency:L,theta:H}=Fc({cx:t,cy:r,radius:n,angle:m,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),V=u?Math.abs(d-m):Math.abs(d-m)-O-H;if(V<0&&a===0)return"".concat(E,"L").concat(t,",").concat(r,"Z");E+="L".concat(L.x,",").concat(L.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(V>180),",").concat(+(h>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(P.x,",").concat(P.y,"Z")}else E+="L".concat(t,",").concat(r,"Z");return E},Q6={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},fN=e=>{var t=Ln(e,Q6),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:d,startAngle:m,endAngle:h,className:p}=t;if(a<i||m===h)return null;var g=pt("recharts-sector",p),w=a-i,S=In(l,w,0,!0),b;return S>0&&Math.abs(m-h)<360?b=X6({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(S,w/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:m,endAngle:h}):b=dN({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:m,endAngle:h}),j.createElement("path",Qv({},lr(t,!0),{className:g,d:b}))};function Z6(e,t,r){var n,i,a,l;if(e==="horizontal")n=t.x,a=n,i=r.top,l=r.top+r.height;else if(e==="vertical")i=t.y,l=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:u,cy:d,innerRadius:m,outerRadius:h,angle:p}=t,g=or(u,d,m,p),w=or(u,d,h,p);n=g.x,i=g.y,a=w.x,l=w.y}else return cN(t);return[{x:n,y:i},{x:a,y:l}]}var Mp={},$p={},Lp={},B_;function e5(){return B_||(B_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NE();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(Lp)),Lp}var V_;function t5(){return V_||(V_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=e5();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})($p)),$p}var q_;function r5(){return q_||(q_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AE(),r=t5();function n(i,a,l){l&&typeof l!="number"&&t.isIterateeCall(i,a,l)&&(a=l=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),l=l===void 0?i<a?1:-1:r.toFinite(l);const u=Math.max(Math.ceil((a-i)/(l||1)),0),d=new Array(u);for(let m=0;m<u;m++)d[m]=i,i+=l;return d}e.range=n})(Mp)),Mp}var Fp,W_;function n5(){return W_||(W_=1,Fp=r5().range),Fp}var i5=n5();const hN=Dn(i5);function ds(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function s5(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ly(e){let t,r,n;e.length!==2?(t=ds,r=(u,d)=>ds(e(u),d),n=(u,d)=>e(u)-d):(t=e===ds||e===s5?e:a5,r=e,n=e);function i(u,d,m=0,h=u.length){if(m<h){if(t(d,d)!==0)return h;do{const p=m+h>>>1;r(u[p],d)<0?m=p+1:h=p}while(m<h)}return m}function a(u,d,m=0,h=u.length){if(m<h){if(t(d,d)!==0)return h;do{const p=m+h>>>1;r(u[p],d)<=0?m=p+1:h=p}while(m<h)}return m}function l(u,d,m=0,h=u.length){const p=i(u,d,m,h-1);return p>m&&n(u[p-1],d)>-n(u[p],d)?p-1:p}return{left:i,center:l,right:a}}function a5(){return 0}function mN(e){return e===null?NaN:+e}function*o5(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const l5=ly(ds),ou=l5.right;ly(mN).center;class K_ extends Map{constructor(t,r=d5){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(H_(this,t))}has(t){return super.has(H_(this,t))}set(t,r){return super.set(u5(this,t),r)}delete(t){return super.delete(c5(this,t))}}function H_({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function u5({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function c5({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function d5(e){return e!==null&&typeof e=="object"?e.valueOf():e}function f5(e=ds){if(e===ds)return pN;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function pN(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const h5=Math.sqrt(50),m5=Math.sqrt(10),p5=Math.sqrt(2);function kd(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),l=a>=h5?10:a>=m5?5:a>=p5?2:1;let u,d,m;return i<0?(m=Math.pow(10,-i)/l,u=Math.round(e*m),d=Math.round(t*m),u/m<e&&++u,d/m>t&&--d,m=-m):(m=Math.pow(10,i)*l,u=Math.round(e/m),d=Math.round(t/m),u*m<e&&++u,d*m>t&&--d),d<u&&.5<=r&&r<2?kd(e,t,r*2):[u,d,m]}function Zv(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,l]=n?kd(t,e,r):kd(e,t,r);if(!(a>=i))return[];const u=a-i+1,d=new Array(u);if(n)if(l<0)for(let m=0;m<u;++m)d[m]=(a-m)/-l;else for(let m=0;m<u;++m)d[m]=(a-m)*l;else if(l<0)for(let m=0;m<u;++m)d[m]=(i+m)/-l;else for(let m=0;m<u;++m)d[m]=(i+m)*l;return d}function eg(e,t,r){return t=+t,e=+e,r=+r,kd(e,t,r)[2]}function tg(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?eg(t,e,r):eg(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function Y_(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function G_(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function vN(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?pN:f5(i);n>r;){if(n-r>600){const d=n-r+1,m=t-r+1,h=Math.log(d),p=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*p*(d-p)/d)*(m-d/2<0?-1:1),w=Math.max(r,Math.floor(t-m*p/d+g)),S=Math.min(n,Math.floor(t+(d-m)*p/d+g));vN(e,t,w,S,i)}const a=e[t];let l=r,u=n;for(xl(e,r,t),i(e[n],a)>0&&xl(e,r,n);l<u;){for(xl(e,l,u),++l,--u;i(e[l],a)<0;)++l;for(;i(e[u],a)>0;)--u}i(e[r],a)===0?xl(e,r,u):(++u,xl(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function xl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function v5(e,t,r){if(e=Float64Array.from(o5(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return G_(e);if(t>=1)return Y_(e);var n,i=(n-1)*t,a=Math.floor(i),l=Y_(vN(e,a).subarray(0,a+1)),u=G_(e.subarray(a+1));return l+(u-l)*(i-a)}}function g5(e,t,r=mN){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),l=+r(e[a],a,e),u=+r(e[a+1],a+1,e);return l+(u-l)*(i-a)}}function y5(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function yn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ii(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const rg=Symbol("implicit");function uy(){var e=new K_,t=[],r=[],n=rg;function i(a){let l=e.get(a);if(l===void 0){if(n!==rg)return n;e.set(a,l=t.push(a)-1)}return r[l%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new K_;for(const l of a)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return uy(t,r).unknown(n)},yn.apply(i,arguments),i}function cy(){var e=uy().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,l,u=!1,d=0,m=0,h=.5;delete e.unknown;function p(){var g=t().length,w=i<n,S=w?i:n,b=w?n:i;a=(b-S)/Math.max(1,g-d+m*2),u&&(a=Math.floor(a)),S+=(b-S-a*(g-d))*h,l=a*(1-d),u&&(S=Math.round(S),l=Math.round(l));var x=y5(g).map(function(k){return S+a*k});return r(w?x.reverse():x)}return e.domain=function(g){return arguments.length?(t(g),p()):t()},e.range=function(g){return arguments.length?([n,i]=g,n=+n,i=+i,p()):[n,i]},e.rangeRound=function(g){return[n,i]=g,n=+n,i=+i,u=!0,p()},e.bandwidth=function(){return l},e.step=function(){return a},e.round=function(g){return arguments.length?(u=!!g,p()):u},e.padding=function(g){return arguments.length?(d=Math.min(1,m=+g),p()):d},e.paddingInner=function(g){return arguments.length?(d=Math.min(1,g),p()):d},e.paddingOuter=function(g){return arguments.length?(m=+g,p()):m},e.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),p()):h},e.copy=function(){return cy(t(),[n,i]).round(u).paddingInner(d).paddingOuter(m).align(h)},yn.apply(p(),arguments)}function gN(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return gN(t())},e}function x5(){return gN(cy.apply(null,arguments).paddingInner(1))}function dy(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function yN(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function lu(){}var Bl=.7,Ed=1/Bl,to="\\s*([+-]?\\d+)\\s*",Vl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",w5=/^#([0-9a-f]{3,8})$/,b5=new RegExp(`^rgb\\(${to},${to},${to}\\)$`),_5=new RegExp(`^rgb\\(${Gn},${Gn},${Gn}\\)$`),S5=new RegExp(`^rgba\\(${to},${to},${to},${Vl}\\)$`),j5=new RegExp(`^rgba\\(${Gn},${Gn},${Gn},${Vl}\\)$`),k5=new RegExp(`^hsl\\(${Vl},${Gn},${Gn}\\)$`),E5=new RegExp(`^hsla\\(${Vl},${Gn},${Gn},${Vl}\\)$`),J_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};dy(lu,ql,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:X_,formatHex:X_,formatHex8:N5,formatHsl:A5,formatRgb:Q_,toString:Q_});function X_(){return this.rgb().formatHex()}function N5(){return this.rgb().formatHex8()}function A5(){return xN(this).formatHsl()}function Q_(){return this.rgb().formatRgb()}function ql(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=w5.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Z_(t):r===3?new Dr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?zc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?zc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=b5.exec(e))?new Dr(t[1],t[2],t[3],1):(t=_5.exec(e))?new Dr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=S5.exec(e))?zc(t[1],t[2],t[3],t[4]):(t=j5.exec(e))?zc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=k5.exec(e))?rS(t[1],t[2]/100,t[3]/100,1):(t=E5.exec(e))?rS(t[1],t[2]/100,t[3]/100,t[4]):J_.hasOwnProperty(e)?Z_(J_[e]):e==="transparent"?new Dr(NaN,NaN,NaN,0):null}function Z_(e){return new Dr(e>>16&255,e>>8&255,e&255,1)}function zc(e,t,r,n){return n<=0&&(e=t=r=NaN),new Dr(e,t,r,n)}function P5(e){return e instanceof lu||(e=ql(e)),e?(e=e.rgb(),new Dr(e.r,e.g,e.b,e.opacity)):new Dr}function ng(e,t,r,n){return arguments.length===1?P5(e):new Dr(e,t,r,n??1)}function Dr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}dy(Dr,ng,yN(lu,{brighter(e){return e=e==null?Ed:Math.pow(Ed,e),new Dr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Bl:Math.pow(Bl,e),new Dr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Dr(Zs(this.r),Zs(this.g),Zs(this.b),Nd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:eS,formatHex:eS,formatHex8:O5,formatRgb:tS,toString:tS}));function eS(){return`#${Hs(this.r)}${Hs(this.g)}${Hs(this.b)}`}function O5(){return`#${Hs(this.r)}${Hs(this.g)}${Hs(this.b)}${Hs((isNaN(this.opacity)?1:this.opacity)*255)}`}function tS(){const e=Nd(this.opacity);return`${e===1?"rgb(":"rgba("}${Zs(this.r)}, ${Zs(this.g)}, ${Zs(this.b)}${e===1?")":`, ${e})`}`}function Nd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Zs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Hs(e){return e=Zs(e),(e<16?"0":"")+e.toString(16)}function rS(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Tn(e,t,r,n)}function xN(e){if(e instanceof Tn)return new Tn(e.h,e.s,e.l,e.opacity);if(e instanceof lu||(e=ql(e)),!e)return new Tn;if(e instanceof Tn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),l=NaN,u=a-i,d=(a+i)/2;return u?(t===a?l=(r-n)/u+(r<n)*6:r===a?l=(n-t)/u+2:l=(t-r)/u+4,u/=d<.5?a+i:2-a-i,l*=60):u=d>0&&d<1?0:l,new Tn(l,u,d,e.opacity)}function C5(e,t,r,n){return arguments.length===1?xN(e):new Tn(e,t,r,n??1)}function Tn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}dy(Tn,C5,yN(lu,{brighter(e){return e=e==null?Ed:Math.pow(Ed,e),new Tn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Bl:Math.pow(Bl,e),new Tn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Dr(zp(e>=240?e-240:e+120,i,n),zp(e,i,n),zp(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Tn(nS(this.h),Uc(this.s),Uc(this.l),Nd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Nd(this.opacity);return`${e===1?"hsl(":"hsla("}${nS(this.h)}, ${Uc(this.s)*100}%, ${Uc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function nS(e){return e=(e||0)%360,e<0?e+360:e}function Uc(e){return Math.max(0,Math.min(1,e||0))}function zp(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const fy=e=>()=>e;function T5(e,t){return function(r){return e+r*t}}function I5(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function D5(e){return(e=+e)==1?wN:function(t,r){return r-t?I5(t,r,e):fy(isNaN(t)?r:t)}}function wN(e,t){var r=t-e;return r?T5(e,r):fy(isNaN(e)?t:e)}const iS=(function e(t){var r=D5(t);function n(i,a){var l=r((i=ng(i)).r,(a=ng(a)).r),u=r(i.g,a.g),d=r(i.b,a.b),m=wN(i.opacity,a.opacity);return function(h){return i.r=l(h),i.g=u(h),i.b=d(h),i.opacity=m(h),i+""}}return n.gamma=e,n})(1);function R5(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function M5(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function $5(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),l;for(l=0;l<n;++l)i[l]=So(e[l],t[l]);for(;l<r;++l)a[l]=t[l];return function(u){for(l=0;l<n;++l)a[l]=i[l](u);return a}}function L5(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Ad(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function F5(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=So(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var ig=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Up=new RegExp(ig.source,"g");function z5(e){return function(){return e}}function U5(e){return function(t){return e(t)+""}}function B5(e,t){var r=ig.lastIndex=Up.lastIndex=0,n,i,a,l=-1,u=[],d=[];for(e=e+"",t=t+"";(n=ig.exec(e))&&(i=Up.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),u[l]?u[l]+=a:u[++l]=a),(n=n[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,d.push({i:l,x:Ad(n,i)})),r=Up.lastIndex;return r<t.length&&(a=t.slice(r),u[l]?u[l]+=a:u[++l]=a),u.length<2?d[0]?U5(d[0].x):z5(t):(t=d.length,function(m){for(var h=0,p;h<t;++h)u[(p=d[h]).i]=p.x(m);return u.join("")})}function So(e,t){var r=typeof t,n;return t==null||r==="boolean"?fy(t):(r==="number"?Ad:r==="string"?(n=ql(t))?(t=n,iS):B5:t instanceof ql?iS:t instanceof Date?L5:M5(t)?R5:Array.isArray(t)?$5:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?F5:Ad)(e,t)}function hy(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function V5(e,t){t===void 0&&(t=e,e=So);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(l){var u=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return a[u](l-u)}}function q5(e){return function(){return e}}function Pd(e){return+e}var sS=[0,1];function _r(e){return e}function sg(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:q5(isNaN(t)?NaN:.5)}function W5(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function K5(e,t,r){var n=e[0],i=e[1],a=t[0],l=t[1];return i<n?(n=sg(i,n),a=r(l,a)):(n=sg(n,i),a=r(a,l)),function(u){return a(n(u))}}function H5(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)i[l]=sg(e[l],e[l+1]),a[l]=r(t[l],t[l+1]);return function(u){var d=ou(e,u,1,n)-1;return a[d](i[d](u))}}function uu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function pf(){var e=sS,t=sS,r=So,n,i,a,l=_r,u,d,m;function h(){var g=Math.min(e.length,t.length);return l!==_r&&(l=W5(e[0],e[g-1])),u=g>2?H5:K5,d=m=null,p}function p(g){return g==null||isNaN(g=+g)?a:(d||(d=u(e.map(n),t,r)))(n(l(g)))}return p.invert=function(g){return l(i((m||(m=u(t,e.map(n),Ad)))(g)))},p.domain=function(g){return arguments.length?(e=Array.from(g,Pd),h()):e.slice()},p.range=function(g){return arguments.length?(t=Array.from(g),h()):t.slice()},p.rangeRound=function(g){return t=Array.from(g),r=hy,h()},p.clamp=function(g){return arguments.length?(l=g?!0:_r,h()):l!==_r},p.interpolate=function(g){return arguments.length?(r=g,h()):r},p.unknown=function(g){return arguments.length?(a=g,p):a},function(g,w){return n=g,i=w,h()}}function my(){return pf()(_r,_r)}function Y5(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Od(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function oo(e){return e=Od(Math.abs(e)),e?e[1]:NaN}function G5(e,t){return function(r,n){for(var i=r.length,a=[],l=0,u=e[0],d=0;i>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),a.push(r.substring(i-=u,i+u)),!((d+=u+1)>n));)u=e[l=(l+1)%e.length];return a.reverse().join(t)}}function J5(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var X5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wl(e){if(!(t=X5.exec(e)))throw new Error("invalid format: "+e);var t;return new py({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Wl.prototype=py.prototype;function py(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}py.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Q5(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var bN;function Z5(e,t){var r=Od(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(bN=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=n.length;return a===l?n:a>l?n+new Array(a-l+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Od(e,Math.max(0,t+a-1))[0]}function aS(e,t){var r=Od(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const oS={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Y5,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>aS(e*100,t),r:aS,s:Z5,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function lS(e){return e}var uS=Array.prototype.map,cS=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function eF(e){var t=e.grouping===void 0||e.thousands===void 0?lS:G5(uS.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?lS:J5(uS.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function m(p){p=Wl(p);var g=p.fill,w=p.align,S=p.sign,b=p.symbol,x=p.zero,k=p.width,E=p.comma,N=p.precision,P=p.trim,O=p.type;O==="n"?(E=!0,O="g"):oS[O]||(N===void 0&&(N=12),P=!0,O="g"),(x||g==="0"&&w==="=")&&(x=!0,g="0",w="=");var T=b==="$"?r:b==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",L=b==="$"?n:/[%p]/.test(O)?l:"",H=oS[O],V=/[defgprs%]/.test(O);N=N===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function F(B){var U=T,Q=L,G,he,we;if(O==="c")Q=H(B)+Q,B="";else{B=+B;var pe=B<0||1/B<0;if(B=isNaN(B)?d:H(Math.abs(B),N),P&&(B=Q5(B)),pe&&+B==0&&S!=="+"&&(pe=!1),U=(pe?S==="("?S:u:S==="-"||S==="("?"":S)+U,Q=(O==="s"?cS[8+bN/3]:"")+Q+(pe&&S==="("?")":""),V){for(G=-1,he=B.length;++G<he;)if(we=B.charCodeAt(G),48>we||we>57){Q=(we===46?i+B.slice(G+1):B.slice(G))+Q,B=B.slice(0,G);break}}}E&&!x&&(B=t(B,1/0));var Z=U.length+B.length+Q.length,re=Z<k?new Array(k-Z+1).join(g):"";switch(E&&x&&(B=t(re+B,re.length?k-Q.length:1/0),re=""),w){case"<":B=U+B+Q+re;break;case"=":B=U+re+B+Q;break;case"^":B=re.slice(0,Z=re.length>>1)+U+B+Q+re.slice(Z);break;default:B=re+U+B+Q;break}return a(B)}return F.toString=function(){return p+""},F}function h(p,g){var w=m((p=Wl(p),p.type="f",p)),S=Math.max(-8,Math.min(8,Math.floor(oo(g)/3)))*3,b=Math.pow(10,-S),x=cS[8+S/3];return function(k){return w(b*k)+x}}return{format:m,formatPrefix:h}}var Bc,vy,_N;tF({thousands:",",grouping:[3],currency:["$",""]});function tF(e){return Bc=eF(e),vy=Bc.format,_N=Bc.formatPrefix,Bc}function rF(e){return Math.max(0,-oo(Math.abs(e)))}function nF(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(oo(t)/3)))*3-oo(Math.abs(e)))}function iF(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,oo(t)-oo(e))+1}function SN(e,t,r,n){var i=tg(e,t,r),a;switch(n=Wl(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=nF(i,l))&&(n.precision=a),_N(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=iF(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=rF(i))&&(n.precision=a-(n.type==="%")*2);break}}return vy(n)}function vs(e){var t=e.domain;return e.ticks=function(r){var n=t();return Zv(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return SN(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,l=n[i],u=n[a],d,m,h=10;for(u<l&&(m=l,l=u,u=m,m=i,i=a,a=m);h-- >0;){if(m=eg(l,u,r),m===d)return n[i]=l,n[a]=u,t(n);if(m>0)l=Math.floor(l/m)*m,u=Math.ceil(u/m)*m;else if(m<0)l=Math.ceil(l*m)/m,u=Math.floor(u*m)/m;else break;d=m}return e},e}function jN(){var e=my();return e.copy=function(){return uu(e,jN())},yn.apply(e,arguments),vs(e)}function kN(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Pd),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return kN(e).unknown(t)},e=arguments.length?Array.from(e,Pd):[0,1],vs(r)}function EN(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],l;return a<i&&(l=r,r=n,n=l,l=i,i=a,a=l),e[r]=t.floor(i),e[n]=t.ceil(a),e}function dS(e){return Math.log(e)}function fS(e){return Math.exp(e)}function sF(e){return-Math.log(-e)}function aF(e){return-Math.exp(-e)}function oF(e){return isFinite(e)?+("1e"+e):e<0?0:e}function lF(e){return e===10?oF:e===Math.E?Math.exp:t=>Math.pow(e,t)}function uF(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function hS(e){return(t,r)=>-e(-t,r)}function gy(e){const t=e(dS,fS),r=t.domain;let n=10,i,a;function l(){return i=uF(n),a=lF(n),r()[0]<0?(i=hS(i),a=hS(a),e(sF,aF)):e(dS,fS),t}return t.base=function(u){return arguments.length?(n=+u,l()):n},t.domain=function(u){return arguments.length?(r(u),l()):r()},t.ticks=u=>{const d=r();let m=d[0],h=d[d.length-1];const p=h<m;p&&([m,h]=[h,m]);let g=i(m),w=i(h),S,b;const x=u==null?10:+u;let k=[];if(!(n%1)&&w-g<x){if(g=Math.floor(g),w=Math.ceil(w),m>0){for(;g<=w;++g)for(S=1;S<n;++S)if(b=g<0?S/a(-g):S*a(g),!(b<m)){if(b>h)break;k.push(b)}}else for(;g<=w;++g)for(S=n-1;S>=1;--S)if(b=g>0?S/a(-g):S*a(g),!(b<m)){if(b>h)break;k.push(b)}k.length*2<x&&(k=Zv(m,h,x))}else k=Zv(g,w,Math.min(w-g,x)).map(a);return p?k.reverse():k},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=Wl(d)).precision==null&&(d.trim=!0),d=vy(d)),u===1/0)return d;const m=Math.max(1,n*u/t.ticks().length);return h=>{let p=h/a(Math.round(i(h)));return p*n<n-.5&&(p*=n),p<=m?d(h):""}},t.nice=()=>r(EN(r(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),t}function NN(){const e=gy(pf()).domain([1,10]);return e.copy=()=>uu(e,NN()).base(e.base()),yn.apply(e,arguments),e}function mS(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function pS(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function yy(e){var t=1,r=e(mS(t),pS(t));return r.constant=function(n){return arguments.length?e(mS(t=+n),pS(t)):t},vs(r)}function AN(){var e=yy(pf());return e.copy=function(){return uu(e,AN()).constant(e.constant())},yn.apply(e,arguments)}function vS(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function cF(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function dF(e){return e<0?-e*e:e*e}function xy(e){var t=e(_r,_r),r=1;function n(){return r===1?e(_r,_r):r===.5?e(cF,dF):e(vS(r),vS(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},vs(t)}function wy(){var e=xy(pf());return e.copy=function(){return uu(e,wy()).exponent(e.exponent())},yn.apply(e,arguments),e}function fF(){return wy.apply(null,arguments).exponent(.5)}function gS(e){return Math.sign(e)*e*e}function hF(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function PN(){var e=my(),t=[0,1],r=!1,n;function i(a){var l=hF(e(a));return isNaN(l)?n:r?Math.round(l):l}return i.invert=function(a){return e.invert(gS(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Pd)).map(gS)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return PN(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},yn.apply(i,arguments),vs(i)}function ON(){var e=[],t=[],r=[],n;function i(){var l=0,u=Math.max(1,t.length);for(r=new Array(u-1);++l<u;)r[l-1]=g5(e,l/u);return a}function a(l){return l==null||isNaN(l=+l)?n:t[ou(r,l)]}return a.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},a.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(ds),i()},a.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},a.unknown=function(l){return arguments.length?(n=l,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return ON().domain(e).range(t).unknown(n)},yn.apply(a,arguments)}function CN(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function l(d){return d!=null&&d<=d?i[ou(n,d,0,r)]:a}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(r=(i=Array.from(d)).length-1,u()):i.slice()},l.invertExtent=function(d){var m=i.indexOf(d);return m<0?[NaN,NaN]:m<1?[e,n[0]]:m>=r?[n[r-1],t]:[n[m-1],n[m]]},l.unknown=function(d){return arguments.length&&(a=d),l},l.thresholds=function(){return n.slice()},l.copy=function(){return CN().domain([e,t]).range(i).unknown(a)},yn.apply(vs(l),arguments)}function TN(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[ou(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var l=t.indexOf(a);return[e[l-1],e[l]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return TN().domain(e).range(t).unknown(r)},yn.apply(i,arguments)}const Bp=new Date,Vp=new Date;function Bt(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const l=i(a),u=i.ceil(a);return a-l<u-a?l:u},i.offset=(a,l)=>(t(a=new Date(+a),l==null?1:Math.floor(l)),a),i.range=(a,l,u)=>{const d=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<l)||!(u>0))return d;let m;do d.push(m=new Date(+a)),t(a,u),e(a);while(m<a&&a<l);return d},i.filter=a=>Bt(l=>{if(l>=l)for(;e(l),!a(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!a(l););else for(;--u>=0;)for(;t(l,1),!a(l););}),r&&(i.count=(a,l)=>(Bp.setTime(+a),Vp.setTime(+l),e(Bp),e(Vp),Math.floor(r(Bp,Vp))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?l=>n(l)%a===0:l=>i.count(0,l)%a===0):i)),i}const Cd=Bt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Cd.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Bt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Cd);Cd.range;const xi=1e3,dn=xi*60,wi=dn*60,Ei=wi*24,by=Ei*7,yS=Ei*30,qp=Ei*365,Ys=Bt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*xi)},(e,t)=>(t-e)/xi,e=>e.getUTCSeconds());Ys.range;const _y=Bt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*xi)},(e,t)=>{e.setTime(+e+t*dn)},(e,t)=>(t-e)/dn,e=>e.getMinutes());_y.range;const Sy=Bt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*dn)},(e,t)=>(t-e)/dn,e=>e.getUTCMinutes());Sy.range;const jy=Bt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*xi-e.getMinutes()*dn)},(e,t)=>{e.setTime(+e+t*wi)},(e,t)=>(t-e)/wi,e=>e.getHours());jy.range;const ky=Bt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*wi)},(e,t)=>(t-e)/wi,e=>e.getUTCHours());ky.range;const cu=Bt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*dn)/Ei,e=>e.getDate()-1);cu.range;const vf=Bt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ei,e=>e.getUTCDate()-1);vf.range;const IN=Bt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ei,e=>Math.floor(e/Ei));IN.range;function ua(e){return Bt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*dn)/by)}const gf=ua(0),Td=ua(1),mF=ua(2),pF=ua(3),lo=ua(4),vF=ua(5),gF=ua(6);gf.range;Td.range;mF.range;pF.range;lo.range;vF.range;gF.range;function ca(e){return Bt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/by)}const yf=ca(0),Id=ca(1),yF=ca(2),xF=ca(3),uo=ca(4),wF=ca(5),bF=ca(6);yf.range;Id.range;yF.range;xF.range;uo.range;wF.range;bF.range;const Ey=Bt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Ey.range;const Ny=Bt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ny.range;const Ni=Bt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ni.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Bt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ni.range;const Ai=Bt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ai.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Bt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ai.range;function DN(e,t,r,n,i,a){const l=[[Ys,1,xi],[Ys,5,5*xi],[Ys,15,15*xi],[Ys,30,30*xi],[a,1,dn],[a,5,5*dn],[a,15,15*dn],[a,30,30*dn],[i,1,wi],[i,3,3*wi],[i,6,6*wi],[i,12,12*wi],[n,1,Ei],[n,2,2*Ei],[r,1,by],[t,1,yS],[t,3,3*yS],[e,1,qp]];function u(m,h,p){const g=h<m;g&&([m,h]=[h,m]);const w=p&&typeof p.range=="function"?p:d(m,h,p),S=w?w.range(m,+h+1):[];return g?S.reverse():S}function d(m,h,p){const g=Math.abs(h-m)/p,w=ly(([,,x])=>x).right(l,g);if(w===l.length)return e.every(tg(m/qp,h/qp,p));if(w===0)return Cd.every(Math.max(tg(m,h,p),1));const[S,b]=l[g/l[w-1][2]<l[w][2]/g?w-1:w];return S.every(b)}return[u,d]}const[_F,SF]=DN(Ai,Ny,yf,IN,ky,Sy),[jF,kF]=DN(Ni,Ey,gf,cu,jy,_y);function Wp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Kp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function wl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function EF(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,m=bl(i),h=_l(i),p=bl(a),g=_l(a),w=bl(l),S=_l(l),b=bl(u),x=_l(u),k=bl(d),E=_l(d),N={a:pe,A:Z,b:re,B:se,c:null,d:jS,e:jS,f:GF,g:sz,G:oz,H:KF,I:HF,j:YF,L:RN,m:JF,M:XF,p:M,q:I,Q:NS,s:AS,S:QF,u:ZF,U:ez,V:tz,w:rz,W:nz,x:null,X:null,y:iz,Y:az,Z:lz,"%":ES},P={a:ee,A:be,b:de,B:je,c:null,d:kS,e:kS,f:fz,g:_z,G:jz,H:uz,I:cz,j:dz,L:$N,m:hz,M:mz,p:Me,q:qe,Q:NS,s:AS,S:pz,u:vz,U:gz,V:yz,w:xz,W:wz,x:null,X:null,y:bz,Y:Sz,Z:kz,"%":ES},O={a:F,A:B,b:U,B:Q,c:G,d:_S,e:_S,f:BF,g:bS,G:wS,H:SS,I:SS,j:LF,L:UF,m:$F,M:FF,p:V,q:MF,Q:qF,s:WF,S:zF,u:CF,U:TF,V:IF,w:OF,W:DF,x:he,X:we,y:bS,Y:wS,Z:RF,"%":VF};N.x=T(r,N),N.X=T(n,N),N.c=T(t,N),P.x=T(r,P),P.X=T(n,P),P.c=T(t,P);function T(oe,Ae){return function(te){var X=[],Ye=-1,We=0,Pt=oe.length,vt,Mt,Fn;for(te instanceof Date||(te=new Date(+te));++Ye<Pt;)oe.charCodeAt(Ye)===37&&(X.push(oe.slice(We,Ye)),(Mt=xS[vt=oe.charAt(++Ye)])!=null?vt=oe.charAt(++Ye):Mt=vt==="e"?" ":"0",(Fn=Ae[vt])&&(vt=Fn(te,Mt)),X.push(vt),We=Ye+1);return X.push(oe.slice(We,Ye)),X.join("")}}function L(oe,Ae){return function(te){var X=wl(1900,void 0,1),Ye=H(X,oe,te+="",0),We,Pt;if(Ye!=te.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(Ae&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(We=Kp(wl(X.y,0,1)),Pt=We.getUTCDay(),We=Pt>4||Pt===0?Id.ceil(We):Id(We),We=vf.offset(We,(X.V-1)*7),X.y=We.getUTCFullYear(),X.m=We.getUTCMonth(),X.d=We.getUTCDate()+(X.w+6)%7):(We=Wp(wl(X.y,0,1)),Pt=We.getDay(),We=Pt>4||Pt===0?Td.ceil(We):Td(We),We=cu.offset(We,(X.V-1)*7),X.y=We.getFullYear(),X.m=We.getMonth(),X.d=We.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),Pt="Z"in X?Kp(wl(X.y,0,1)).getUTCDay():Wp(wl(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(Pt+5)%7:X.w+X.U*7-(Pt+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,Kp(X)):Wp(X)}}function H(oe,Ae,te,X){for(var Ye=0,We=Ae.length,Pt=te.length,vt,Mt;Ye<We;){if(X>=Pt)return-1;if(vt=Ae.charCodeAt(Ye++),vt===37){if(vt=Ae.charAt(Ye++),Mt=O[vt in xS?Ae.charAt(Ye++):vt],!Mt||(X=Mt(oe,te,X))<0)return-1}else if(vt!=te.charCodeAt(X++))return-1}return X}function V(oe,Ae,te){var X=m.exec(Ae.slice(te));return X?(oe.p=h.get(X[0].toLowerCase()),te+X[0].length):-1}function F(oe,Ae,te){var X=w.exec(Ae.slice(te));return X?(oe.w=S.get(X[0].toLowerCase()),te+X[0].length):-1}function B(oe,Ae,te){var X=p.exec(Ae.slice(te));return X?(oe.w=g.get(X[0].toLowerCase()),te+X[0].length):-1}function U(oe,Ae,te){var X=k.exec(Ae.slice(te));return X?(oe.m=E.get(X[0].toLowerCase()),te+X[0].length):-1}function Q(oe,Ae,te){var X=b.exec(Ae.slice(te));return X?(oe.m=x.get(X[0].toLowerCase()),te+X[0].length):-1}function G(oe,Ae,te){return H(oe,t,Ae,te)}function he(oe,Ae,te){return H(oe,r,Ae,te)}function we(oe,Ae,te){return H(oe,n,Ae,te)}function pe(oe){return l[oe.getDay()]}function Z(oe){return a[oe.getDay()]}function re(oe){return d[oe.getMonth()]}function se(oe){return u[oe.getMonth()]}function M(oe){return i[+(oe.getHours()>=12)]}function I(oe){return 1+~~(oe.getMonth()/3)}function ee(oe){return l[oe.getUTCDay()]}function be(oe){return a[oe.getUTCDay()]}function de(oe){return d[oe.getUTCMonth()]}function je(oe){return u[oe.getUTCMonth()]}function Me(oe){return i[+(oe.getUTCHours()>=12)]}function qe(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var Ae=T(oe+="",N);return Ae.toString=function(){return oe},Ae},parse:function(oe){var Ae=L(oe+="",!1);return Ae.toString=function(){return oe},Ae},utcFormat:function(oe){var Ae=T(oe+="",P);return Ae.toString=function(){return oe},Ae},utcParse:function(oe){var Ae=L(oe+="",!0);return Ae.toString=function(){return oe},Ae}}}var xS={"-":"",_:" ",0:"0"},Zt=/^\s*\d+/,NF=/^%/,AF=/[\\^$*+?|[\]().{}]/g;function Qe(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function PF(e){return e.replace(AF,"\\$&")}function bl(e){return new RegExp("^(?:"+e.map(PF).join("|")+")","i")}function _l(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function OF(e,t,r){var n=Zt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function CF(e,t,r){var n=Zt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function TF(e,t,r){var n=Zt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function IF(e,t,r){var n=Zt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function DF(e,t,r){var n=Zt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function wS(e,t,r){var n=Zt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function bS(e,t,r){var n=Zt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function RF(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function MF(e,t,r){var n=Zt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function $F(e,t,r){var n=Zt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function _S(e,t,r){var n=Zt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function LF(e,t,r){var n=Zt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function SS(e,t,r){var n=Zt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function FF(e,t,r){var n=Zt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function zF(e,t,r){var n=Zt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function UF(e,t,r){var n=Zt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function BF(e,t,r){var n=Zt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function VF(e,t,r){var n=NF.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function qF(e,t,r){var n=Zt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function WF(e,t,r){var n=Zt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function jS(e,t){return Qe(e.getDate(),t,2)}function KF(e,t){return Qe(e.getHours(),t,2)}function HF(e,t){return Qe(e.getHours()%12||12,t,2)}function YF(e,t){return Qe(1+cu.count(Ni(e),e),t,3)}function RN(e,t){return Qe(e.getMilliseconds(),t,3)}function GF(e,t){return RN(e,t)+"000"}function JF(e,t){return Qe(e.getMonth()+1,t,2)}function XF(e,t){return Qe(e.getMinutes(),t,2)}function QF(e,t){return Qe(e.getSeconds(),t,2)}function ZF(e){var t=e.getDay();return t===0?7:t}function ez(e,t){return Qe(gf.count(Ni(e)-1,e),t,2)}function MN(e){var t=e.getDay();return t>=4||t===0?lo(e):lo.ceil(e)}function tz(e,t){return e=MN(e),Qe(lo.count(Ni(e),e)+(Ni(e).getDay()===4),t,2)}function rz(e){return e.getDay()}function nz(e,t){return Qe(Td.count(Ni(e)-1,e),t,2)}function iz(e,t){return Qe(e.getFullYear()%100,t,2)}function sz(e,t){return e=MN(e),Qe(e.getFullYear()%100,t,2)}function az(e,t){return Qe(e.getFullYear()%1e4,t,4)}function oz(e,t){var r=e.getDay();return e=r>=4||r===0?lo(e):lo.ceil(e),Qe(e.getFullYear()%1e4,t,4)}function lz(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Qe(t/60|0,"0",2)+Qe(t%60,"0",2)}function kS(e,t){return Qe(e.getUTCDate(),t,2)}function uz(e,t){return Qe(e.getUTCHours(),t,2)}function cz(e,t){return Qe(e.getUTCHours()%12||12,t,2)}function dz(e,t){return Qe(1+vf.count(Ai(e),e),t,3)}function $N(e,t){return Qe(e.getUTCMilliseconds(),t,3)}function fz(e,t){return $N(e,t)+"000"}function hz(e,t){return Qe(e.getUTCMonth()+1,t,2)}function mz(e,t){return Qe(e.getUTCMinutes(),t,2)}function pz(e,t){return Qe(e.getUTCSeconds(),t,2)}function vz(e){var t=e.getUTCDay();return t===0?7:t}function gz(e,t){return Qe(yf.count(Ai(e)-1,e),t,2)}function LN(e){var t=e.getUTCDay();return t>=4||t===0?uo(e):uo.ceil(e)}function yz(e,t){return e=LN(e),Qe(uo.count(Ai(e),e)+(Ai(e).getUTCDay()===4),t,2)}function xz(e){return e.getUTCDay()}function wz(e,t){return Qe(Id.count(Ai(e)-1,e),t,2)}function bz(e,t){return Qe(e.getUTCFullYear()%100,t,2)}function _z(e,t){return e=LN(e),Qe(e.getUTCFullYear()%100,t,2)}function Sz(e,t){return Qe(e.getUTCFullYear()%1e4,t,4)}function jz(e,t){var r=e.getUTCDay();return e=r>=4||r===0?uo(e):uo.ceil(e),Qe(e.getUTCFullYear()%1e4,t,4)}function kz(){return"+0000"}function ES(){return"%"}function NS(e){return+e}function AS(e){return Math.floor(+e/1e3)}var Ga,FN,zN;Ez({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ez(e){return Ga=EF(e),FN=Ga.format,Ga.parse,zN=Ga.utcFormat,Ga.utcParse,Ga}function Nz(e){return new Date(e)}function Az(e){return e instanceof Date?+e:+new Date(+e)}function Ay(e,t,r,n,i,a,l,u,d,m){var h=my(),p=h.invert,g=h.domain,w=m(".%L"),S=m(":%S"),b=m("%I:%M"),x=m("%I %p"),k=m("%a %d"),E=m("%b %d"),N=m("%B"),P=m("%Y");function O(T){return(d(T)<T?w:u(T)<T?S:l(T)<T?b:a(T)<T?x:n(T)<T?i(T)<T?k:E:r(T)<T?N:P)(T)}return h.invert=function(T){return new Date(p(T))},h.domain=function(T){return arguments.length?g(Array.from(T,Az)):g().map(Nz)},h.ticks=function(T){var L=g();return e(L[0],L[L.length-1],T??10)},h.tickFormat=function(T,L){return L==null?O:m(L)},h.nice=function(T){var L=g();return(!T||typeof T.range!="function")&&(T=t(L[0],L[L.length-1],T??10)),T?g(EN(L,T)):h},h.copy=function(){return uu(h,Ay(e,t,r,n,i,a,l,u,d,m))},h}function Pz(){return yn.apply(Ay(jF,kF,Ni,Ey,gf,cu,jy,_y,Ys,FN).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Oz(){return yn.apply(Ay(_F,SF,Ai,Ny,yf,vf,ky,Sy,Ys,zN).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function xf(){var e=0,t=1,r,n,i,a,l=_r,u=!1,d;function m(p){return p==null||isNaN(p=+p)?d:l(i===0?.5:(p=(a(p)-r)*i,u?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t]=p,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),m):[e,t]},m.clamp=function(p){return arguments.length?(u=!!p,m):u},m.interpolator=function(p){return arguments.length?(l=p,m):l};function h(p){return function(g){var w,S;return arguments.length?([w,S]=g,l=p(w,S),m):[l(0),l(1)]}}return m.range=h(So),m.rangeRound=h(hy),m.unknown=function(p){return arguments.length?(d=p,m):d},function(p){return a=p,r=p(e),n=p(t),i=r===n?0:1/(n-r),m}}function gs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function UN(){var e=vs(xf()(_r));return e.copy=function(){return gs(e,UN())},Ii.apply(e,arguments)}function BN(){var e=gy(xf()).domain([1,10]);return e.copy=function(){return gs(e,BN()).base(e.base())},Ii.apply(e,arguments)}function VN(){var e=yy(xf());return e.copy=function(){return gs(e,VN()).constant(e.constant())},Ii.apply(e,arguments)}function Py(){var e=xy(xf());return e.copy=function(){return gs(e,Py()).exponent(e.exponent())},Ii.apply(e,arguments)}function Cz(){return Py.apply(null,arguments).exponent(.5)}function qN(){var e=[],t=_r;function r(n){if(n!=null&&!isNaN(n=+n))return t((ou(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(ds),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>v5(e,a/n))},r.copy=function(){return qN(t).domain(e)},Ii.apply(r,arguments)}function wf(){var e=0,t=.5,r=1,n=1,i,a,l,u,d,m=_r,h,p=!1,g;function w(b){return isNaN(b=+b)?g:(b=.5+((b=+h(b))-a)*(n*b<n*a?u:d),m(p?Math.max(0,Math.min(1,b)):b))}w.domain=function(b){return arguments.length?([e,t,r]=b,i=h(e=+e),a=h(t=+t),l=h(r=+r),u=i===a?0:.5/(a-i),d=a===l?0:.5/(l-a),n=a<i?-1:1,w):[e,t,r]},w.clamp=function(b){return arguments.length?(p=!!b,w):p},w.interpolator=function(b){return arguments.length?(m=b,w):m};function S(b){return function(x){var k,E,N;return arguments.length?([k,E,N]=x,m=V5(b,[k,E,N]),w):[m(0),m(.5),m(1)]}}return w.range=S(So),w.rangeRound=S(hy),w.unknown=function(b){return arguments.length?(g=b,w):g},function(b){return h=b,i=b(e),a=b(t),l=b(r),u=i===a?0:.5/(a-i),d=a===l?0:.5/(l-a),n=a<i?-1:1,w}}function WN(){var e=vs(wf()(_r));return e.copy=function(){return gs(e,WN())},Ii.apply(e,arguments)}function KN(){var e=gy(wf()).domain([.1,1,10]);return e.copy=function(){return gs(e,KN()).base(e.base())},Ii.apply(e,arguments)}function HN(){var e=yy(wf());return e.copy=function(){return gs(e,HN()).constant(e.constant())},Ii.apply(e,arguments)}function Oy(){var e=xy(wf());return e.copy=function(){return gs(e,Oy()).exponent(e.exponent())},Ii.apply(e,arguments)}function Tz(){return Oy.apply(null,arguments).exponent(.5)}const Nl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:cy,scaleDiverging:WN,scaleDivergingLog:KN,scaleDivergingPow:Oy,scaleDivergingSqrt:Tz,scaleDivergingSymlog:HN,scaleIdentity:kN,scaleImplicit:rg,scaleLinear:jN,scaleLog:NN,scaleOrdinal:uy,scalePoint:x5,scalePow:wy,scaleQuantile:ON,scaleQuantize:CN,scaleRadial:PN,scaleSequential:UN,scaleSequentialLog:BN,scaleSequentialPow:Py,scaleSequentialQuantile:qN,scaleSequentialSqrt:Cz,scaleSequentialSymlog:VN,scaleSqrt:fF,scaleSymlog:AN,scaleThreshold:TN,scaleTime:Pz,scaleUtc:Oz,tickFormat:SN},Symbol.toStringTag,{value:"Module"}));var ys=e=>e.chartData,Iz=Y([ys],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Cy=(e,t,r,n)=>n?Iz(e):ys(e);function co(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Xr(t)&&Xr(r))return!0}return!1}function PS(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Dz(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(Xr(r))i=r;else if(typeof r=="function")return;if(Xr(n))a=n;else if(typeof n=="function")return;var l=[i,a];if(co(l))return l}}function Rz(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(co(n))return PS(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,l,u;if(i==="auto")t!=null&&(l=Math.min(...t));else if(Fe(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&b_.test(i)){var d=b_.exec(i);if(d==null||t==null)l=void 0;else{var m=+d[1];l=t[0]-m}}else l=t==null?void 0:t[0];if(a==="auto")t!=null&&(u=Math.max(...t));else if(Fe(a))u=a;else if(typeof a=="function")try{t!=null&&(u=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&__.test(a)){var h=__.exec(a);if(h==null||t==null)u=void 0;else{var p=+h[1];u=t[1]+p}}else u=t==null?void 0:t[1];var g=[l,u];if(co(g))return t==null?g:PS(g,t,r)}}}var jo=1e9,Mz={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Iy,yt=!0,vn="[DecimalError] ",ea=vn+"Invalid argument: ",Ty=vn+"Exponent out of range: ",ko=Math.floor,zs=Math.pow,$z=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Kr,Yt=1e7,mt=7,YN=9007199254740991,Dd=ko(YN/mt),Se={};Se.absoluteValue=Se.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Se.comparedTo=Se.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Se.decimalPlaces=Se.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*mt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Se.dividedBy=Se.div=function(e){return Si(this,new this.constructor(e))};Se.dividedToIntegerBy=Se.idiv=function(e){var t=this,r=t.constructor;return ot(Si(t,new r(e),0,1),r.precision)};Se.equals=Se.eq=function(e){return!this.cmp(e)};Se.exponent=function(){return Dt(this)};Se.greaterThan=Se.gt=function(e){return this.cmp(e)>0};Se.greaterThanOrEqualTo=Se.gte=function(e){return this.cmp(e)>=0};Se.isInteger=Se.isint=function(){return this.e>this.d.length-2};Se.isNegative=Se.isneg=function(){return this.s<0};Se.isPositive=Se.ispos=function(){return this.s>0};Se.isZero=function(){return this.s===0};Se.lessThan=Se.lt=function(e){return this.cmp(e)<0};Se.lessThanOrEqualTo=Se.lte=function(e){return this.cmp(e)<1};Se.logarithm=Se.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Kr))throw Error(vn+"NaN");if(r.s<1)throw Error(vn+(r.s?"NaN":"-Infinity"));return r.eq(Kr)?new n(0):(yt=!1,t=Si(Kl(r,a),Kl(e,a),a),yt=!0,ot(t,i))};Se.minus=Se.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?XN(t,e):GN(t,(e.s=-e.s,e))};Se.modulo=Se.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(vn+"NaN");return r.s?(yt=!1,t=Si(r,e,0,1).times(e),yt=!0,r.minus(t)):ot(new n(r),i)};Se.naturalExponential=Se.exp=function(){return JN(this)};Se.naturalLogarithm=Se.ln=function(){return Kl(this)};Se.negated=Se.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Se.plus=Se.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?GN(t,e):XN(t,(e.s=-e.s,e))};Se.precision=Se.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ea+e);if(t=Dt(i)+1,n=i.d.length-1,r=n*mt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Se.squareRoot=Se.sqrt=function(){var e,t,r,n,i,a,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(vn+"NaN")}for(e=Dt(u),yt=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=Yn(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=ko((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(i.toString()),r=d.precision,i=l=r+3;;)if(a=n,n=a.plus(Si(u,a,l+2)).times(.5),Yn(a.d).slice(0,l)===(t=Yn(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(ot(a,r+1,0),a.times(a).eq(u)){n=a;break}}else if(t!="9999")break;l+=4}return yt=!0,ot(n,r)};Se.times=Se.mul=function(e){var t,r,n,i,a,l,u,d,m,h=this,p=h.constructor,g=h.d,w=(e=new p(e)).d;if(!h.s||!e.s)return new p(0);for(e.s*=h.s,r=h.e+e.e,d=g.length,m=w.length,d<m&&(a=g,g=w,w=a,l=d,d=m,m=l),a=[],l=d+m,n=l;n--;)a.push(0);for(n=m;--n>=0;){for(t=0,i=d+n;i>n;)u=a[i]+w[n]*g[i-n-1]+t,a[i--]=u%Yt|0,t=u/Yt|0;a[i]=(a[i]+t)%Yt|0}for(;!a[--l];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,yt?ot(e,p.precision):e};Se.toDecimalPlaces=Se.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Xn(e,0,jo),t===void 0?t=n.rounding:Xn(t,0,8),ot(r,e+Dt(r)+1,t))};Se.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=sa(n,!0):(Xn(e,0,jo),t===void 0?t=i.rounding:Xn(t,0,8),n=ot(new i(n),e+1,t),r=sa(n,!0,e+1)),r};Se.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?sa(i):(Xn(e,0,jo),t===void 0?t=a.rounding:Xn(t,0,8),n=ot(new a(i),e+Dt(i)+1,t),r=sa(n.abs(),!1,e+Dt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Se.toInteger=Se.toint=function(){var e=this,t=e.constructor;return ot(new t(e),Dt(e)+1,t.rounding)};Se.toNumber=function(){return+this};Se.toPower=Se.pow=function(e){var t,r,n,i,a,l,u=this,d=u.constructor,m=12,h=+(e=new d(e));if(!e.s)return new d(Kr);if(u=new d(u),!u.s){if(e.s<1)throw Error(vn+"Infinity");return u}if(u.eq(Kr))return u;if(n=d.precision,e.eq(Kr))return ot(u,n);if(t=e.e,r=e.d.length-1,l=t>=r,a=u.s,l){if((r=h<0?-h:h)<=YN){for(i=new d(Kr),t=Math.ceil(n/mt+4),yt=!1;r%2&&(i=i.times(u),CS(i.d,t)),r=ko(r/2),r!==0;)u=u.times(u),CS(u.d,t);return yt=!0,e.s<0?new d(Kr).div(i):ot(i,n)}}else if(a<0)throw Error(vn+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,yt=!1,i=e.times(Kl(u,n+m)),yt=!0,i=JN(i),i.s=a,i};Se.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=Dt(i),n=sa(i,r<=a.toExpNeg||r>=a.toExpPos)):(Xn(e,1,jo),t===void 0?t=a.rounding:Xn(t,0,8),i=ot(new a(i),e,t),r=Dt(i),n=sa(i,e<=r||r<=a.toExpNeg,e)),n};Se.toSignificantDigits=Se.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Xn(e,1,jo),t===void 0?t=n.rounding:Xn(t,0,8)),ot(new n(r),e,t)};Se.toString=Se.valueOf=Se.val=Se.toJSON=Se[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Dt(e),r=e.constructor;return sa(e,t<=r.toExpNeg||t>=r.toExpPos)};function GN(e,t){var r,n,i,a,l,u,d,m,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),yt?ot(t,p):t;if(d=e.d,m=t.d,l=e.e,i=t.e,d=d.slice(),a=l-i,a){for(a<0?(n=d,a=-a,u=m.length):(n=m,i=l,u=d.length),l=Math.ceil(p/mt),u=l>u?l+1:u+1,a>u&&(a=u,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(u=d.length,a=m.length,u-a<0&&(a=u,n=m,m=d,d=n),r=0;a;)r=(d[--a]=d[a]+m[a]+r)/Yt|0,d[a]%=Yt;for(r&&(d.unshift(r),++i),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=i,yt?ot(t,p):t}function Xn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ea+e)}function Yn(e){var t,r,n,i=e.length-1,a="",l=e[0];if(i>0){for(a+=l,t=1;t<i;t++)n=e[t]+"",r=mt-n.length,r&&(a+=as(r)),a+=n;l=e[t],n=l+"",r=mt-n.length,r&&(a+=as(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}var Si=(function(){function e(n,i){var a,l=0,u=n.length;for(n=n.slice();u--;)a=n[u]*i+l,n[u]=a%Yt|0,l=a/Yt|0;return l&&n.unshift(l),n}function t(n,i,a,l){var u,d;if(a!=l)d=a>l?1:-1;else for(u=d=0;u<a;u++)if(n[u]!=i[u]){d=n[u]>i[u]?1:-1;break}return d}function r(n,i,a){for(var l=0;a--;)n[a]-=l,l=n[a]<i[a]?1:0,n[a]=l*Yt+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,l){var u,d,m,h,p,g,w,S,b,x,k,E,N,P,O,T,L,H,V=n.constructor,F=n.s==i.s?1:-1,B=n.d,U=i.d;if(!n.s)return new V(n);if(!i.s)throw Error(vn+"Division by zero");for(d=n.e-i.e,L=U.length,O=B.length,w=new V(F),S=w.d=[],m=0;U[m]==(B[m]||0);)++m;if(U[m]>(B[m]||0)&&--d,a==null?E=a=V.precision:l?E=a+(Dt(n)-Dt(i))+1:E=a,E<0)return new V(0);if(E=E/mt+2|0,m=0,L==1)for(h=0,U=U[0],E++;(m<O||h)&&E--;m++)N=h*Yt+(B[m]||0),S[m]=N/U|0,h=N%U|0;else{for(h=Yt/(U[0]+1)|0,h>1&&(U=e(U,h),B=e(B,h),L=U.length,O=B.length),P=L,b=B.slice(0,L),x=b.length;x<L;)b[x++]=0;H=U.slice(),H.unshift(0),T=U[0],U[1]>=Yt/2&&++T;do h=0,u=t(U,b,L,x),u<0?(k=b[0],L!=x&&(k=k*Yt+(b[1]||0)),h=k/T|0,h>1?(h>=Yt&&(h=Yt-1),p=e(U,h),g=p.length,x=b.length,u=t(p,b,g,x),u==1&&(h--,r(p,L<g?H:U,g))):(h==0&&(u=h=1),p=U.slice()),g=p.length,g<x&&p.unshift(0),r(b,p,x),u==-1&&(x=b.length,u=t(U,b,L,x),u<1&&(h++,r(b,L<x?H:U,x))),x=b.length):u===0&&(h++,b=[0]),S[m++]=h,u&&b[0]?b[x++]=B[P]||0:(b=[B[P]],x=1);while((P++<O||b[0]!==void 0)&&E--)}return S[0]||S.shift(),w.e=d,ot(w,l?a+Dt(w)+1:a)}})();function JN(e,t){var r,n,i,a,l,u,d=0,m=0,h=e.constructor,p=h.precision;if(Dt(e)>16)throw Error(Ty+Dt(e));if(!e.s)return new h(Kr);for(yt=!1,u=p,l=new h(.03125);e.abs().gte(.1);)e=e.times(l),m+=5;for(n=Math.log(zs(2,m))/Math.LN10*2+5|0,u+=n,r=i=a=new h(Kr),h.precision=u;;){if(i=ot(i.times(e),u),r=r.times(++d),l=a.plus(Si(i,r,u)),Yn(l.d).slice(0,u)===Yn(a.d).slice(0,u)){for(;m--;)a=ot(a.times(a),u);return h.precision=p,t==null?(yt=!0,ot(a,p)):a}a=l}}function Dt(e){for(var t=e.e*mt,r=e.d[0];r>=10;r/=10)t++;return t}function Hp(e,t,r){if(t>e.LN10.sd())throw yt=!0,r&&(e.precision=r),Error(vn+"LN10 precision limit exceeded");return ot(new e(e.LN10),t)}function as(e){for(var t="";e--;)t+="0";return t}function Kl(e,t){var r,n,i,a,l,u,d,m,h,p=1,g=10,w=e,S=w.d,b=w.constructor,x=b.precision;if(w.s<1)throw Error(vn+(w.s?"NaN":"-Infinity"));if(w.eq(Kr))return new b(0);if(t==null?(yt=!1,m=x):m=t,w.eq(10))return t==null&&(yt=!0),Hp(b,m);if(m+=g,b.precision=m,r=Yn(S),n=r.charAt(0),a=Dt(w),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)w=w.times(e),r=Yn(w.d),n=r.charAt(0),p++;a=Dt(w),n>1?(w=new b("0."+r),a++):w=new b(n+"."+r.slice(1))}else return d=Hp(b,m+2,x).times(a+""),w=Kl(new b(n+"."+r.slice(1)),m-g).plus(d),b.precision=x,t==null?(yt=!0,ot(w,x)):w;for(u=l=w=Si(w.minus(Kr),w.plus(Kr),m),h=ot(w.times(w),m),i=3;;){if(l=ot(l.times(h),m),d=u.plus(Si(l,new b(i),m)),Yn(d.d).slice(0,m)===Yn(u.d).slice(0,m))return u=u.times(2),a!==0&&(u=u.plus(Hp(b,m+2,x).times(a+""))),u=Si(u,new b(p),m),b.precision=x,t==null?(yt=!0,ot(u,x)):u;u=d,i+=2}}function OS(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=ko(r/mt),e.d=[],n=(r+1)%mt,r<0&&(n+=mt),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=mt;n<i;)e.d.push(+t.slice(n,n+=mt));t=t.slice(n),n=mt-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),yt&&(e.e>Dd||e.e<-Dd))throw Error(Ty+r)}else e.s=0,e.e=0,e.d=[0];return e}function ot(e,t,r){var n,i,a,l,u,d,m,h,p=e.d;for(l=1,a=p[0];a>=10;a/=10)l++;if(n=t-l,n<0)n+=mt,i=t,m=p[h=0];else{if(h=Math.ceil((n+1)/mt),a=p.length,h>=a)return e;for(m=a=p[h],l=1;a>=10;a/=10)l++;n%=mt,i=n-mt+l}if(r!==void 0&&(a=zs(10,l-i-1),u=m/a%10|0,d=t<0||p[h+1]!==void 0||m%a,d=r<4?(u||d)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?i>0?m/zs(10,l-i):0:p[h-1])%10&1||r==(e.s<0?8:7))),t<1||!p[0])return d?(a=Dt(e),p.length=1,t=t-a-1,p[0]=zs(10,(mt-t%mt)%mt),e.e=ko(-t/mt)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(n==0?(p.length=h,a=1,h--):(p.length=h+1,a=zs(10,mt-n),p[h]=i>0?(m/zs(10,l-i)%zs(10,i)|0)*a:0),d)for(;;)if(h==0){(p[0]+=a)==Yt&&(p[0]=1,++e.e);break}else{if(p[h]+=a,p[h]!=Yt)break;p[h--]=0,a=1}for(n=p.length;p[--n]===0;)p.pop();if(yt&&(e.e>Dd||e.e<-Dd))throw Error(Ty+Dt(e));return e}function XN(e,t){var r,n,i,a,l,u,d,m,h,p,g=e.constructor,w=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),yt?ot(t,w):t;if(d=e.d,p=t.d,n=t.e,m=e.e,d=d.slice(),l=m-n,l){for(h=l<0,h?(r=d,l=-l,u=p.length):(r=p,n=m,u=d.length),i=Math.max(Math.ceil(w/mt),u)+2,l>i&&(l=i,r.length=1),r.reverse(),i=l;i--;)r.push(0);r.reverse()}else{for(i=d.length,u=p.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(d[i]!=p[i]){h=d[i]<p[i];break}l=0}for(h&&(r=d,d=p,p=r,t.s=-t.s),u=d.length,i=p.length-u;i>0;--i)d[u++]=0;for(i=p.length;i>l;){if(d[--i]<p[i]){for(a=i;a&&d[--a]===0;)d[a]=Yt-1;--d[a],d[i]+=Yt}d[i]-=p[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,yt?ot(t,w):t):new g(0)}function sa(e,t,r){var n,i=Dt(e),a=Yn(e.d),l=a.length;return t?(r&&(n=r-l)>0?a=a.charAt(0)+"."+a.slice(1)+as(n):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+as(-i-1)+a,r&&(n=r-l)>0&&(a+=as(n))):i>=l?(a+=as(i+1-l),r&&(n=r-i-1)>0&&(a=a+"."+as(n))):((n=i+1)<l&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-l)>0&&(i+1===l&&(a+="."),a+=as(n))),e.s<0?"-"+a:a}function CS(e,t){if(e.length>t)return e.length=t,!0}function QN(e){var t,r,n;function i(a){var l=this;if(!(l instanceof i))return new i(a);if(l.constructor=i,a instanceof i){l.s=a.s,l.e=a.e,l.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ea+a);if(a>0)l.s=1;else if(a<0)a=-a,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(a===~~a&&a<1e7){l.e=0,l.d=[a];return}return OS(l,a.toString())}else if(typeof a!="string")throw Error(ea+a);if(a.charCodeAt(0)===45?(a=a.slice(1),l.s=-1):l.s=1,$z.test(a))OS(l,a);else throw Error(ea+a)}if(i.prototype=Se,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=QN,i.config=i.set=Lz,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function Lz(e){if(!e||typeof e!="object")throw Error(vn+"Object expected");var t,r,n,i=["precision",1,jo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(ko(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(ea+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ea+r+": "+n);return this}var Iy=QN(Mz);Kr=new Iy(1);const rt=Iy;var Fz=e=>e,ZN={},eA=e=>e===ZN,TS=e=>function t(){return arguments.length===0||arguments.length===1&&eA(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},tA=(e,t)=>e===1?t:TS(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(l=>l!==ZN).length;return a>=e?t(...n):tA(e-a,TS(function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var m=n.map(h=>eA(h)?u.shift():h);return t(...m,...u)}))}),bf=e=>tA(e.length,e),ag=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},zz=bf((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),Uz=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Fz;var i=r.reverse(),a=i[0],l=i.slice(1);return function(){return l.reduce((u,d)=>d(u),a(...arguments))}},og=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),rA=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t&&i.every((l,u)=>{var d;return l===((d=t)===null||d===void 0?void 0:d[u])})||(t=i,r=e(...i)),r}};function nA(e){var t;return e===0?t=1:t=Math.floor(new rt(e).abs().log(10).toNumber())+1,t}function iA(e,t,r){for(var n=new rt(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}bf((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});bf((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});bf((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var sA=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},aA=(e,t,r)=>{if(e.lte(0))return new rt(0);var n=nA(e.toNumber()),i=new rt(10).pow(n),a=e.div(i),l=n!==1?.05:.1,u=new rt(Math.ceil(a.div(l).toNumber())).add(r).mul(l),d=u.mul(i);return t?new rt(d.toNumber()):new rt(Math.ceil(d.toNumber()))},Bz=(e,t,r)=>{var n=new rt(1),i=new rt(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new rt(10).pow(nA(e)-1),i=new rt(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new rt(Math.floor(e)))}else e===0?i=new rt(Math.floor((t-1)/2)):r||(i=new rt(Math.floor(e)));var l=Math.floor((t-1)/2),u=Uz(zz(d=>i.add(new rt(d-l).mul(n)).toNumber()),ag);return u(0,t)},oA=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new rt(0),tickMin:new rt(0),tickMax:new rt(0)};var l=aA(new rt(r).sub(t).div(n-1),i,a),u;t<=0&&r>=0?u=new rt(0):(u=new rt(t).add(r).div(2),u=u.sub(new rt(u).mod(l)));var d=Math.ceil(u.sub(t).div(l).toNumber()),m=Math.ceil(new rt(r).sub(u).div(l).toNumber()),h=d+m+1;return h>n?oA(t,r,n,i,a+1):(h<n&&(m=r>0?m+(n-h):m,d=r>0?d:d+(n-h)),{step:l,tickMin:u.sub(new rt(d).mul(l)),tickMax:u.add(new rt(m).mul(l))})};function Vz(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(n,2),[l,u]=sA([t,r]);if(l===-1/0||u===1/0){var d=u===1/0?[l,...ag(0,n-1).map(()=>1/0)]:[...ag(0,n-1).map(()=>-1/0),u];return t>r?og(d):d}if(l===u)return Bz(l,n,i);var{step:m,tickMin:h,tickMax:p}=oA(l,u,a,i,0),g=iA(h,p.add(new rt(.1).mul(m)),m);return t>r?og(g):g}function qz(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,l]=sA([r,n]);if(a===-1/0||l===1/0)return[r,n];if(a===l)return[a];var u=Math.max(t,2),d=aA(new rt(l).sub(a).div(u-1),i,0),m=[...iA(new rt(a),new rt(l),d),l];return i===!1&&(m=m.map(h=>Math.round(h))),r>n?og(m):m}var Wz=rA(Vz),Kz=rA(qz),lA=e=>e.rootProps.maxBarSize,Hz=e=>e.rootProps.barGap,uA=e=>e.rootProps.barCategoryGap,Yz=e=>e.rootProps.barSize,_f=e=>e.rootProps.stackOffset,Dy=e=>e.options.chartName,Ry=e=>e.rootProps.syncId,cA=e=>e.rootProps.syncMethod,My=e=>e.options.eventEmitter,vi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Wr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Sf=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Gz={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:vi.angleAxisId,includeHidden:!1,name:void 0,reversed:vi.reversed,scale:vi.scale,tick:vi.tick,tickCount:void 0,ticks:void 0,type:vi.type,unit:void 0},Jz={allowDataOverflow:Wr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wr.scale,tick:Wr.tick,tickCount:Wr.tickCount,ticks:void 0,type:Wr.type,unit:void 0},Xz={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:vi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:vi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:vi.scale,tick:vi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Qz={allowDataOverflow:Wr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wr.scale,tick:Wr.tick,tickCount:Wr.tickCount,ticks:void 0,type:"category",unit:void 0},$y=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Xz:Gz,Ly=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Qz:Jz,jf=e=>e.polarOptions,Fy=Y([Ci,Ti,Qt],e3),dA=Y([jf,Fy],(e,t)=>{if(e!=null)return In(e.innerRadius,t,0)}),fA=Y([jf,Fy],(e,t)=>{if(e!=null)return In(e.outerRadius,t,t*.8)}),Zz=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},hA=Y([jf],Zz);Y([$y,hA],Sf);var mA=Y([Fy,dA,fA],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Y([Ly,mA],Sf);var pA=Y([nt,jf,dA,fA,Ci,Ti],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:u,startAngle:d,endAngle:m}=t;return{cx:In(l,i,i/2),cy:In(u,a,a/2),innerRadius:r,outerRadius:n,startAngle:d,endAngle:m,clockWise:!1}}}),Rt=(e,t)=>t,kf=(e,t,r)=>r;function zy(e){return e==null?void 0:e.id}var Vt=e=>{var t=nt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Eo=e=>e.tooltip.settings.axisId,er=e=>{var t=Vt(e),r=Eo(e);return du(e,t,r)},vA=Y([er],e=>e==null?void 0:e.dataKey);function gA(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,l=new Map;return e.forEach(u=>{var d,m=(d=u.data)!==null&&d!==void 0?d:n;if(!(m==null||m.length===0)){var h=zy(u);m.forEach((p,g)=>{var w=a==null||i?g:String(Sr(p,a,null)),S=Sr(p,u.dataKey,0),b;l.has(w)?b=l.get(w):b={},Object.assign(b,{[h]:S}),l.set(w,b)})}}),Array.from(l.values())}function Ef(e){return e.stackId!=null&&e.dataKey!=null}function IS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IS(Object(r),!0).forEach(function(n){eU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eU(e,t,r){return(t=tU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tU(e){var t=rU(e,"string");return typeof t=="symbol"?t:t+""}function rU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lg=[0,"auto"],Br={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},yA=(e,t)=>e.cartesianAxis.xAxis[t],Di=(e,t)=>{var r=yA(e,t);return r??Br},Vr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:lg,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:au},xA=(e,t)=>e.cartesianAxis.yAxis[t],Ri=(e,t)=>{var r=xA(e,t);return r??Vr},nU={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Uy=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??nU},Rr=(e,t,r)=>{switch(t){case"xAxis":return Di(e,r);case"yAxis":return Ri(e,r);case"zAxis":return Uy(e,r);case"angleAxis":return $y(e,r);case"radiusAxis":return Ly(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},iU=(e,t,r)=>{switch(t){case"xAxis":return Di(e,r);case"yAxis":return Ri(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},du=(e,t,r)=>{switch(t){case"xAxis":return Di(e,r);case"yAxis":return Ri(e,r);case"angleAxis":return $y(e,r);case"radiusAxis":return Ly(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},wA=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function bA(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var By=e=>e.graphicalItems.cartesianItems,sU=Y([Rt,kf],bA),_A=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),fu=Y([By,Rr,sU],_A),SA=Y([fu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Ef)),jA=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),kA=Y([fu],jA),EA=e=>e.map(t=>t.data).filter(Boolean).flat(1),aU=Y([fu],EA),NA=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},Vy=Y([aU,Cy],NA),AA=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Sr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Sr(i,n)}))):e.map(n=>({value:n})),Nf=Y([Vy,Rr,fu],AA);function PA(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function da(e){return e.filter(t=>Jn(t)||t instanceof Date).map(Number).filter(t=>mn(t)===!1)}function oU(e,t,r){return!r||typeof t!="number"||mn(t)?[]:r.length?da(r.flatMap(n=>{var i=Sr(e,n.dataKey),a,l;if(Array.isArray(i)?[a,l]=i:a=l=i,!(!Xr(a)||!Xr(l)))return[t-a,t+l]})):[]}var lU=Y([SA,Cy,er],gA),OA=(e,t,r)=>{var n={},i=t.reduce((a,l)=>(l.stackId==null||(a[l.stackId]==null&&(a[l.stackId]=[]),a[l.stackId].push(l)),a),n);return Object.fromEntries(Object.entries(i).map(a=>{var[l,u]=a,d=u.map(zy);return[l,{stackedData:v3(e,d,r),graphicalItems:u}]}))},ug=Y([lU,SA,_f],OA),CA=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(r!=="zAxis"){var a=b3(e,n,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},uU=Y([ug,ys,Rt],CA),TA=(e,t,r,n,i)=>r.length>0?e.flatMap(a=>r.flatMap(l=>{var u,d,m=(u=n[l.id])===null||u===void 0?void 0:u.filter(p=>PA(i,p)),h=Sr(a,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey);return{value:h,errorDomain:oU(a,h,m)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:Sr(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})),Af=e=>e.errorBars,IA=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>PA(r,n));Y([kA,Af,Rt],IA);var cU=Y([Vy,Rr,kA,Af,Rt],TA);function dU(e){var{value:t}=e;if(Jn(t)||t instanceof Date)return t}var DS=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=da(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},fU=(e,t,r)=>{var n=e.map(dU).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&Jk(n))?hN(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},qy=e=>{var t;if(e==null||!("domain"in e))return lg;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=da(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:lg},Md=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),l=Math.min(...a),u=Math.max(...a);return[l,u]}},DA=e=>e.referenceElements.dots,No=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),hU=Y([DA,Rt,kf],No),RA=e=>e.referenceElements.areas,mU=Y([RA,Rt,kf],No),MA=e=>e.referenceElements.lines,pU=Y([MA,Rt,kf],No),$A=(e,t)=>{var r=da(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},vU=Y(hU,Rt,$A),LA=(e,t)=>{var r=da(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},gU=Y([mU,Rt],LA),FA=(e,t)=>{var r=da(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},yU=Y(pU,Rt,FA),xU=Y(vU,yU,gU,(e,t,r)=>Md(e,r,t)),wU=Y([Rr],qy),zA=(e,t,r,n,i,a,l)=>{var u=Dz(t,e.allowDataOverflow);if(u!=null)return u;var d=a==="vertical"&&l==="xAxis"||a==="horizontal"&&l==="yAxis",m=d?Md(r,i,DS(n)):Md(i,DS(n));return Rz(t,m,e.allowDataOverflow)},bU=Y([Rr,wU,uU,cU,xU,nt,Rt],zA),_U=[0,1],UA=(e,t,r,n,i,a,l)=>{if(!((e==null||r==null||r.length===0)&&l===void 0)){var{dataKey:u,type:d}=e,m=la(t,a);return m&&u==null?hN(0,r.length):d==="category"?fU(n,e,m):i==="expand"?_U:l}},Wy=Y([Rr,nt,Vy,Nf,_f,Rt,bU],UA),BA=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:l}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":l==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":l==="category"?"band":"linear";if(typeof a=="string"){var u="scale".concat(ru(a));return u in Nl?u:"point"}}},hu=Y([Rr,nt,wA,Dy,Rt],BA);function SU(e){if(e!=null){if(e in Nl)return Nl[e]();var t="scale".concat(ru(e));if(t in Nl)return Nl[t]()}}function Ky(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=SU(t);if(i!=null){var a=i.domain(r).range(n);return d3(a),a}}}var VA=(e,t,r)=>{var n=qy(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&co(e))return Wz(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&co(e))return Kz(e,t.tickCount,t.allowDecimals)}},Hy=Y([Wy,du,hu],VA),qA=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&co(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],l=t[1],u=r[r.length-1];return[Math.min(i,a),Math.max(l,u)]}return t},jU=Y([Rr,Wy,Hy,Rt],qA),kU=Y(Nf,Rr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(da(e.map(u=>u.value))).sort((u,d)=>u-d);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var l=n[a+1]-n[a];r=Math.min(r,l)}return r/i}}),WA=Y(kU,nt,uA,Qt,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!Xr(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var l=In(r,e*a),u=e*a/2;return u-l-(u-l)/a*l}return 0}),EU=(e,t)=>{var r=Di(e,t);return r==null||typeof r.padding!="string"?0:WA(e,"xAxis",t,r.padding)},NU=(e,t)=>{var r=Ri(e,t);return r==null||typeof r.padding!="string"?0:WA(e,"yAxis",t,r.padding)},AU=Y(Di,EU,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),PU=Y(Ri,NU,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),OU=Y([Qt,AU,mf,hf,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),CU=Y([Qt,nt,PU,mf,hf,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:l}=i;return a?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),mu=(e,t,r,n)=>{var i;switch(t){case"xAxis":return OU(e,r,n);case"yAxis":return CU(e,r,n);case"zAxis":return(i=Uy(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return hA(e);case"radiusAxis":return mA(e,r);default:return}},KA=Y([Rr,mu],Sf),Ao=Y([Rr,hu,jU,KA],Ky);Y([fu,Af,Rt],IA);function HA(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Pf=(e,t)=>t,Of=(e,t,r)=>r,TU=Y(df,Pf,Of,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(HA)),IU=Y(ff,Pf,Of,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(HA)),YA=(e,t)=>({width:e.width,height:t.height}),DU=(e,t)=>{var r=typeof t.width=="number"?t.width:au;return{width:r,height:e.height}},GA=Y(Qt,Di,YA),RU=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},MU=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},$U=Y(Ti,Qt,TU,Pf,Of,(e,t,r,n,i)=>{var a={},l;return r.forEach(u=>{var d=YA(t,u);l==null&&(l=RU(t,n,e));var m=n==="top"&&!i||n==="bottom"&&i;a[u.id]=l-Number(m)*d.height,l+=(m?-1:1)*d.height}),a}),LU=Y(Ci,Qt,IU,Pf,Of,(e,t,r,n,i)=>{var a={},l;return r.forEach(u=>{var d=DU(t,u);l==null&&(l=MU(t,n,e));var m=n==="left"&&!i||n==="right"&&i;a[u.id]=l-Number(m)*d.width,l+=(m?-1:1)*d.width}),a}),FU=(e,t)=>{var r=Di(e,t);if(r!=null)return $U(e,r.orientation,r.mirror)},zU=Y([Qt,Di,FU,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),UU=(e,t)=>{var r=Ri(e,t);if(r!=null)return LU(e,r.orientation,r.mirror)},BU=Y([Qt,Ri,UU,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),JA=Y(Qt,Ri,(e,t)=>{var r=typeof t.width=="number"?t.width:au;return{width:r,height:e.height}}),RS=(e,t,r)=>{switch(t){case"xAxis":return GA(e,r).width;case"yAxis":return JA(e,r).height;default:return}},XA=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:l}=r,u=la(e,n),d=t.map(m=>m.value);if(l&&u&&a==="category"&&i&&Jk(d))return d}},Yy=Y([nt,Nf,Rr,Rt],XA),QA=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,l=la(e,n);if(l&&(i==="number"||a!=="auto"))return t.map(u=>u.value)}},Gy=Y([nt,Nf,du,Rt],QA);Y([nt,iU,hu,Ao,Yy,Gy,mu,Hy,Rt],(e,t,r,n,i,a,l,u,d)=>{if(t==null)return null;var m=la(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:a,duplicateDomain:i,isCategorical:m,niceTicks:u,range:l,realScaleType:r,scale:n}});var VU=(e,t,r,n,i,a,l,u,d)=>{if(!(t==null||n==null)){var m=la(e,d),{type:h,ticks:p,tickCount:g}=t,w=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,S=h==="category"&&n.bandwidth?n.bandwidth()/w:0;S=d==="angleAxis"&&a!=null&&a.length>=2?Hr(a[0]-a[1])*2*S:S;var b=p||i;if(b){var x=b.map((k,E)=>{var N=l?l.indexOf(k):k;return{index:E,coordinate:n(N)+S,value:k,offset:S}});return x.filter(k=>!mn(k.coordinate))}return m&&u?u.map((k,E)=>({coordinate:n(k)+S,value:k,index:E,offset:S})):n.ticks?n.ticks(g).map(k=>({coordinate:n(k)+S,value:k,offset:S})):n.domain().map((k,E)=>({coordinate:n(k)+S,value:l?l[k]:k,index:E,offset:S}))}},ZA=Y([nt,du,hu,Ao,Hy,mu,Yy,Gy,Rt],VU),qU=(e,t,r,n,i,a,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var u=la(e,l),{tickCount:d}=t,m=0;return m=l==="angleAxis"&&(n==null?void 0:n.length)>=2?Hr(n[0]-n[1])*2*m:m,u&&a?a.map((h,p)=>({coordinate:r(h)+m,value:h,index:p,offset:m})):r.ticks?r.ticks(d).map(h=>({coordinate:r(h)+m,value:h,offset:m})):r.domain().map((h,p)=>({coordinate:r(h)+m,value:i?i[h]:h,index:p,offset:m}))}},fo=Y([nt,du,Ao,mu,Yy,Gy,Rt],qU),ho=Y(Rr,Ao,(e,t)=>{if(!(e==null||t==null))return Rd(Rd({},e),{},{scale:t})}),WU=Y([Rr,hu,Wy,KA],Ky);Y((e,t,r)=>Uy(e,r),WU,(e,t)=>{if(!(e==null||t==null))return Rd(Rd({},e),{},{scale:t})});var KU=Y([nt,df,ff],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),eP=e=>e.options.defaultTooltipEventType,tP=e=>e.options.validateTooltipEventTypes;function rP(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Jy(e,t){var r=eP(e),n=tP(e);return rP(t,r,n)}function HU(e){return Re(t=>Jy(t,e))}var nP=(e,t)=>{var r,n=Number(t);if(!(mn(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},YU=e=>e.tooltip.settings,cs={active:!1,index:null,dataKey:void 0,coordinate:void 0},GU={itemInteraction:{click:cs,hover:cs},axisInteraction:{click:cs,hover:cs},keyboardInteraction:cs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},iP=Qr({name:"tooltip",initialState:GU,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=_i(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:JU,removeTooltipEntrySettings:XU,setTooltipSettingsState:QU,setActiveMouseOverItemIndex:sP,mouseLeaveItem:ZU,mouseLeaveChart:aP,setActiveClickItemIndex:eB,setMouseOverAxisIndex:oP,setMouseClickAxisIndex:tB,setSyncInteraction:cg,setKeyboardInteraction:dg}=iP.actions,rB=iP.reducer;function MS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MS(Object(r),!0).forEach(function(n){nB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nB(e,t,r){return(t=iB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iB(e){var t=sB(e,"string");return typeof t=="symbol"?t:t+""}function sB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aB(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function oB(e){return e.index!=null}var lP=(e,t,r,n)=>{if(t==null)return cs;var i=aB(e,t,r);if(i==null)return cs;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(oB(i)){if(a)return Vc(Vc({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Vc(Vc({},cs),{},{coordinate:i.coordinate})},Xy=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!Xr(n))return r;var i=0,a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(i,Math.min(n,a)))},uP=(e,t,r,n,i,a,l,u)=>{if(!(a==null||u==null)){var d=l[0],m=d==null?void 0:u(d.positions,a);if(m!=null)return m;var h=i==null?void 0:i[Number(a)];if(h)switch(r){case"horizontal":return{x:h.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:h.coordinate}}}},cP=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var l;return((l=a.settings)===null||l===void 0?void 0:l.dataKey)===i})},pu=e=>e.options.tooltipPayloadSearcher,Po=e=>e.tooltip;function $S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function LS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$S(Object(r),!0).forEach(function(n){lB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$S(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lB(e,t,r){return(t=uB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uB(e){var t=cB(e,"string");return typeof t=="symbol"?t:t+""}function cB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dB(e,t){return e??t}var dP=(e,t,r,n,i,a,l)=>{if(!(t==null||a==null)){var{chartData:u,computedData:d,dataStartIndex:m,dataEndIndex:h}=r,p=[];return e.reduce((g,w)=>{var S,{dataDefinedOnItem:b,settings:x}=w,k=dB(b,u),E=Array.isArray(k)?eN(k,m,h):k,N=(S=x==null?void 0:x.dataKey)!==null&&S!==void 0?S:n,P=x==null?void 0:x.nameKey,O;if(n&&Array.isArray(E)&&!Array.isArray(E[0])&&l==="axis"?O=tM(E,n,i):O=a(E,t,d,P),Array.isArray(O))O.forEach(L=>{var H=LS(LS({},x),{},{name:L.name,unit:L.unit,color:void 0,fill:void 0});g.push(S_({tooltipEntrySettings:H,dataKey:L.dataKey,payload:L.payload,value:Sr(L.payload,L.dataKey),name:L.name}))});else{var T;g.push(S_({tooltipEntrySettings:x,dataKey:N,payload:O,value:Sr(O,N),name:(T=Sr(O,P))!==null&&T!==void 0?T:x==null?void 0:x.name}))}return g},p)}},Qy=Y([er,nt,wA,Dy,Vt],BA),fB=Y([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),hB=Y([Vt,Eo],bA),vu=Y([fB,er,hB],_A),mB=Y([vu],e=>e.filter(Ef)),pB=Y([vu],EA),Oo=Y([pB,ys],NA),vB=Y([mB,ys,er],gA),Zy=Y([Oo,er,vu],AA),gB=Y([er],qy),yB=Y([vu],e=>e.filter(Ef)),xB=Y([vB,yB,_f],OA),wB=Y([xB,ys,Vt],CA),bB=Y([vu],jA),_B=Y([Oo,er,bB,Af,Vt],TA),SB=Y([DA,Vt,Eo],No),jB=Y([SB,Vt],$A),kB=Y([RA,Vt,Eo],No),EB=Y([kB,Vt],LA),NB=Y([MA,Vt,Eo],No),AB=Y([NB,Vt],FA),PB=Y([jB,AB,EB],Md),OB=Y([er,gB,wB,_B,PB,nt,Vt],zA),fP=Y([er,nt,Oo,Zy,_f,Vt,OB],UA),CB=Y([fP,er,Qy],VA),TB=Y([er,fP,CB,Vt],qA),hP=e=>{var t=Vt(e),r=Eo(e),n=!1;return mu(e,t,r,n)},mP=Y([er,hP],Sf),pP=Y([er,Qy,TB,mP],Ky),IB=Y([nt,Zy,er,Vt],XA),DB=Y([nt,Zy,er,Vt],QA),RB=(e,t,r,n,i,a,l,u)=>{if(t){var{type:d}=t,m=la(e,u);if(n){var h=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,p=d==="category"&&n.bandwidth?n.bandwidth()/h:0;return p=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Hr(i[0]-i[1])*2*p:p,m&&l?l.map((g,w)=>({coordinate:n(g)+p,value:g,index:w,offset:p})):n.domain().map((g,w)=>({coordinate:n(g)+p,value:a?a[g]:g,index:w,offset:p}))}}},Mi=Y([nt,er,Qy,pP,hP,IB,DB,Vt],RB),e0=Y([eP,tP,YU],(e,t,r)=>rP(r.shared,e,t)),vP=e=>e.tooltip.settings.trigger,t0=e=>e.tooltip.settings.defaultIndex,Cf=Y([Po,e0,vP,t0],lP),mo=Y([Cf,Oo],Xy),gP=Y([Mi,mo],nP),yP=Y([Cf],e=>{if(e)return e.dataKey}),xP=Y([Po,e0,vP,t0],cP),MB=Y([Ci,Ti,nt,Qt,Mi,t0,xP,pu],uP),$B=Y([Cf,MB],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),LB=Y([Cf],e=>e.active),FB=Y([xP,mo,ys,vA,gP,pu,e0],dP);Y([FB],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function FS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FS(Object(r),!0).forEach(function(n){zB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zB(e,t,r){return(t=UB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UB(e){var t=BB(e,"string");return typeof t=="symbol"?t:t+""}function BB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VB=()=>Re(er),qB=()=>{var e=VB(),t=Re(Mi),r=Re(pP);return ry(zS(zS({},e),{},{scale:r}),t)},WB=()=>Re(Dy),r0=(e,t)=>t,wP=(e,t,r)=>r,n0=(e,t,r,n)=>n,KB=Y(Mi,e=>sf(e,t=>t.coordinate)),i0=Y([Po,r0,wP,n0],lP),bP=Y([i0,Oo],Xy),HB=(e,t,r)=>{if(t!=null){var n=Po(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},_P=Y([Po,r0,wP,n0],cP),$d=Y([Ci,Ti,nt,Qt,Mi,n0,_P,pu],uP),YB=Y([i0,$d],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),SP=Y(Mi,bP,nP),GB=Y([_P,bP,ys,vA,SP,pu,r0],dP),JB=Y([i0],e=>({isActive:e.active,activeIndex:e.index})),XB=(e,t,r,n,i,a,l,u)=>{if(!(!e||!t||!n||!i||!a)){var d=_3(e.chartX,e.chartY,t,r,u);if(d){var m=j3(d,t),h=u3(m,l,a,n,i),p=S3(t,a,h,d);return{activeIndex:String(h),activeCoordinate:p}}}};function fg(){return fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fg.apply(null,arguments)}function US(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?US(Object(r),!0).forEach(function(n){QB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):US(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QB(e,t,r){return(t=ZB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZB(e){var t=e8(e,"string");return typeof t=="symbol"?t:t+""}function e8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t8(e){var{coordinate:t,payload:r,index:n,offset:i,tooltipAxisBandSize:a,layout:l,cursor:u,tooltipEventType:d,chartName:m}=e,h=t,p=r,g=n;if(!u||!h||m!=="ScatterChart"&&d!=="axis")return null;var w,S;if(m==="ScatterChart")w=h,S=x6;else if(m==="BarChart")w=w6(l,h,i,a),S=uN;else if(l==="radial"){var{cx:b,cy:x,radius:k,startAngle:E,endAngle:N}=cN(h);w={cx:b,cy:x,startAngle:E,endAngle:N,innerRadius:k,outerRadius:k},S=fN}else w={points:Z6(l,h,i)},S=c6;var P=typeof u=="object"&&"className"in u?u.className:void 0,O=qc(qc(qc(qc({stroke:"#ccc",pointerEvents:"none"},i),w),lr(u,!1)),{},{payload:p,payloadIndex:g,className:pt("recharts-tooltip-cursor",P)});return j.isValidElement(u)?j.cloneElement(u,O):j.createElement(S,O)}function r8(e){var t=qB(),r=F3(),n=sy(),i=WB();return j.createElement(t8,fg({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var jP=j.createContext(null),n8=()=>j.useContext(jP),Yp={exports:{}},BS;function i8(){return BS||(BS=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(d,m,h){this.fn=d,this.context=m,this.once=h||!1}function a(d,m,h,p,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var w=new i(h,p||d,g),S=r?r+m:m;return d._events[S]?d._events[S].fn?d._events[S]=[d._events[S],w]:d._events[S].push(w):(d._events[S]=w,d._eventsCount++),d}function l(d,m){--d._eventsCount===0?d._events=new n:delete d._events[m]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var m=[],h,p;if(this._eventsCount===0)return m;for(p in h=this._events)t.call(h,p)&&m.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(h)):m},u.prototype.listeners=function(m){var h=r?r+m:m,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,w=p.length,S=new Array(w);g<w;g++)S[g]=p[g].fn;return S},u.prototype.listenerCount=function(m){var h=r?r+m:m,p=this._events[h];return p?p.fn?1:p.length:0},u.prototype.emit=function(m,h,p,g,w,S){var b=r?r+m:m;if(!this._events[b])return!1;var x=this._events[b],k=arguments.length,E,N;if(x.fn){switch(x.once&&this.removeListener(m,x.fn,void 0,!0),k){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,h),!0;case 3:return x.fn.call(x.context,h,p),!0;case 4:return x.fn.call(x.context,h,p,g),!0;case 5:return x.fn.call(x.context,h,p,g,w),!0;case 6:return x.fn.call(x.context,h,p,g,w,S),!0}for(N=1,E=new Array(k-1);N<k;N++)E[N-1]=arguments[N];x.fn.apply(x.context,E)}else{var P=x.length,O;for(N=0;N<P;N++)switch(x[N].once&&this.removeListener(m,x[N].fn,void 0,!0),k){case 1:x[N].fn.call(x[N].context);break;case 2:x[N].fn.call(x[N].context,h);break;case 3:x[N].fn.call(x[N].context,h,p);break;case 4:x[N].fn.call(x[N].context,h,p,g);break;default:if(!E)for(O=1,E=new Array(k-1);O<k;O++)E[O-1]=arguments[O];x[N].fn.apply(x[N].context,E)}}return!0},u.prototype.on=function(m,h,p){return a(this,m,h,p,!1)},u.prototype.once=function(m,h,p){return a(this,m,h,p,!0)},u.prototype.removeListener=function(m,h,p,g){var w=r?r+m:m;if(!this._events[w])return this;if(!h)return l(this,w),this;var S=this._events[w];if(S.fn)S.fn===h&&(!g||S.once)&&(!p||S.context===p)&&l(this,w);else{for(var b=0,x=[],k=S.length;b<k;b++)(S[b].fn!==h||g&&!S[b].once||p&&S[b].context!==p)&&x.push(S[b]);x.length?this._events[w]=x.length===1?x[0]:x:l(this,w)}return this},u.prototype.removeAllListeners=function(m){var h;return m?(h=r?r+m:m,this._events[h]&&l(this,h)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(Yp)),Yp.exports}var s8=i8();const a8=Dn(s8);var Hl=new a8,hg="recharts.syncEvent.tooltip",VS="recharts.syncEvent.brush";function o8(e,t){if(t){var r=Number.parseInt(t,10);if(!mn(r))return e==null?void 0:e[r]}}var l8={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},kP=Qr({name:"options",initialState:l8,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),u8=kP.reducer,{createEventEmitter:c8}=kP.actions;function d8(e){return e.tooltip.syncInteraction}var f8={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},EP=Qr({name:"chartData",initialState:f8,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:qS,setDataStartEndIndexes:h8,setComputedData:zK}=EP.actions,m8=EP.reducer,p8=["x","y"];function WS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ms(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WS(Object(r),!0).forEach(function(n){v8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v8(e,t,r){return(t=g8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g8(e){var t=y8(e,"string");return typeof t=="symbol"?t:t+""}function y8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x8(e,t){if(e==null)return{};var r,n,i=w8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function w8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var NP=()=>{};function b8(){var e=Re(Ry),t=Re(My),r=Xt(),n=Re(cA),i=Re(Mi),a=sy(),l=iy(),u=Re(d=>d.rootProps.className);j.useEffect(()=>{if(e==null)return NP;var d=(m,h,p)=>{if(t!==p&&e===m){if(n==="index"){var g;if(l&&h!==null&&h!==void 0&&(g=h.payload)!==null&&g!==void 0&&g.coordinate){var w=h.payload.coordinate,{x:S,y:b}=w,x=x8(w,p8),k=Ms(Ms(Ms({},x),typeof S=="number"&&{x:Math.max(l.x,Math.min(S,l.x+l.width))}),typeof b=="number"&&{y:Math.max(l.y,Math.min(b,l.y+l.height))}),E=Ms(Ms({},h),{},{payload:Ms(Ms({},h.payload),{},{coordinate:k})});r(E)}else r(h);return}if(i!=null){var N;if(typeof n=="function"){var P={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},O=n(i,P);N=i[O]}else n==="value"&&(N=i.find(Q=>String(Q.value)===h.payload.label));var{coordinate:T}=h.payload;if(N==null||h.payload.active===!1||T==null||l==null){r(cg({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:L,y:H}=T,V=Math.min(L,l.x+l.width),F=Math.min(H,l.y+l.height),B={x:a==="horizontal"?N.coordinate:V,y:a==="horizontal"?F:N.coordinate},U=cg({active:h.payload.active,coordinate:B,dataKey:h.payload.dataKey,index:String(N.index),label:h.payload.label});r(U)}}};return Hl.on(hg,d),()=>{Hl.off(hg,d)}},[u,r,t,e,n,i,a,l])}function _8(){var e=Re(Ry),t=Re(My),r=Xt();j.useEffect(()=>{if(e==null)return NP;var n=(i,a,l)=>{t!==l&&e===i&&r(h8(a))};return Hl.on(VS,n),()=>{Hl.off(VS,n)}},[r,t,e])}function S8(){var e=Xt();j.useEffect(()=>{e(c8())},[e]),b8(),_8()}function j8(e,t,r,n,i,a){var l=Re(g=>HB(g,e,t)),u=Re(My),d=Re(Ry),m=Re(cA),h=Re(d8),p=h==null?void 0:h.active;j.useEffect(()=>{if(!p&&d!=null&&u!=null){var g=cg({active:a,coordinate:r,dataKey:l,index:i,label:typeof n=="number"?String(n):n});Hl.emit(hg,d,g,u)}},[p,r,l,i,n,u,d,m,a])}function KS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function HS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KS(Object(r),!0).forEach(function(n){k8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k8(e,t,r){return(t=E8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E8(e){var t=N8(e,"string");return typeof t=="symbol"?t:t+""}function N8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A8(e){return e.dataKey}function P8(e,t){return j.isValidElement(e)?j.cloneElement(e,t):typeof e=="function"?j.createElement(e,t):j.createElement(J3,t)}var YS=[],O8={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!_o.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function C8(e){var t=Ln(e,O8),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:a,content:l,filterNull:u,isAnimationActive:d,offset:m,payloadUniqBy:h,position:p,reverseDirection:g,useTranslate3d:w,wrapperStyle:S,cursor:b,shared:x,trigger:k,defaultIndex:E,portal:N,axisId:P}=t,O=Xt(),T=typeof E=="number"?String(E):E;j.useEffect(()=>{O(QU({shared:x,trigger:k,axisId:P,active:r,defaultIndex:T}))},[O,x,k,P,r,T]);var L=iy(),H=iN(),V=HU(x),{activeIndex:F,isActive:B}=Re(de=>JB(de,V,k,T)),U=Re(de=>GB(de,V,k,T)),Q=Re(de=>SP(de,V,k,T)),G=Re(de=>YB(de,V,k,T)),he=U,we=n8(),pe=r??B,[Z,re]=Q$([he,pe]),se=V==="axis"?Q:void 0;j8(V,k,G,se,F,pe);var M=N??we;if(M==null)return null;var I=he??YS;pe||(I=YS),u&&I.length&&(I=j$(he.filter(de=>de.value!=null&&(de.hide!==!0||t.includeHidden)),h,A8));var ee=I.length>0,be=j.createElement(n6,{allowEscapeViewBox:n,animationDuration:i,animationEasing:a,isAnimationActive:d,active:pe,coordinate:G,hasPayload:ee,offset:m,position:p,reverseDirection:g,useTranslate3d:w,viewBox:L,wrapperStyle:S,lastBoundingBox:Z,innerRef:re,hasPortalFromProps:!!N},P8(l,HS(HS({},t),{},{payload:I,label:se,active:pe,coordinate:G,accessibilityLayer:H})));return j.createElement(j.Fragment,null,HT.createPortal(be,M),pe&&j.createElement(r8,{cursor:b,tooltipEventType:V,coordinate:G,payload:he,index:F}))}var Gp={},Jp={},Xp={},GS;function T8(){return GS||(GS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let l,u=null;const d=a!=null&&a.includes("leading"),m=a==null||a.includes("trailing"),h=()=>{u!==null&&(r.apply(l,u),l=void 0,u=null)},p=()=>{m&&h(),b()};let g=null;const w=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,p()},n)},S=()=>{g!==null&&(clearTimeout(g),g=null)},b=()=>{S(),l=void 0,u=null},x=()=>{h()},k=function(...E){if(i!=null&&i.aborted)return;l=this,u=E;const N=g==null;w(),d&&N&&h()};return k.schedule=w,k.cancel=b,k.flush=x,i==null||i.addEventListener("abort",b,{once:!0}),k}e.debounce=t})(Xp)),Xp}var JS;function I8(){return JS||(JS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T8();function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:l=!1,trailing:u=!0,maxWait:d}=a,m=Array(2);l&&(m[0]="leading"),u&&(m[1]="trailing");let h,p=null;const g=t.debounce(function(...b){h=n.apply(this,b),p=null},i,{edges:m}),w=function(...b){return d!=null&&(p===null&&(p=Date.now()),Date.now()-p>=d)?(h=n.apply(this,b),p=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,b),h)},S=()=>(g.flush(),h);return w.cancel=g.cancel,w.flush=S,w}e.debounce=r})(Jp)),Jp}var XS;function D8(){return XS||(XS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I8();function r(n,i=0,a={}){const{leading:l=!0,trailing:u=!0}=a;return t.debounce(n,i,{leading:l,maxWait:i,trailing:u})}e.throttle=r})(Gp)),Gp}var Qp,QS;function R8(){return QS||(QS=1,Qp=D8().throttle),Qp}var M8=R8();const $8=Dn(M8);var Zp=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function ZS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ev(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZS(Object(r),!0).forEach(function(n){L8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L8(e,t,r){return(t=F8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F8(e){var t=z8(e,"string");return typeof t=="symbol"?t:t+""}function z8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var U8=j.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:l=0,minHeight:u,maxHeight:d,children:m,debounce:h=0,id:p,className:g,onResize:w,style:S={}}=e,b=j.useRef(null),x=j.useRef();x.current=w,j.useImperativeHandle(t,()=>b.current);var[k,E]=j.useState({containerWidth:n.width,containerHeight:n.height}),N=j.useCallback((O,T)=>{E(L=>{var H=Math.round(O),V=Math.round(T);return L.containerWidth===H&&L.containerHeight===V?L:{containerWidth:H,containerHeight:V}})},[]);j.useEffect(()=>{var O=V=>{var F,{width:B,height:U}=V[0].contentRect;N(B,U),(F=x.current)===null||F===void 0||F.call(x,B,U)};h>0&&(O=$8(O,h,{trailing:!0,leading:!1}));var T=new ResizeObserver(O),{width:L,height:H}=b.current.getBoundingClientRect();return N(L,H),T.observe(b.current),()=>{T.disconnect()}},[N,h]);var P=j.useMemo(()=>{var{containerWidth:O,containerHeight:T}=k;if(O<0||T<0)return null;Zp(Ks(i)||Ks(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),Zp(!r||r>0,"The aspect(%s) must be greater than zero.",r);var L=Ks(i)?O:i,H=Ks(a)?T:a;return r&&r>0&&(L?H=L/r:H&&(L=H*r),d&&H>d&&(H=d)),Zp(L>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,H,i,a,l,u,r),j.Children.map(m,V=>j.cloneElement(V,{width:L,height:H,style:ev({width:L,height:H},V.props.style)}))},[r,m,a,d,u,l,k,i]);return j.createElement("div",{id:p?"".concat(p):void 0,className:pt("recharts-responsive-container",g),style:ev(ev({},S),{},{width:i,height:a,minWidth:l,minHeight:u,maxHeight:d}),ref:b},j.createElement("div",{style:{width:0,height:0,overflow:"visible"}},P))}),s0=e=>null;s0.displayName="Cell";function B8(e,t,r){return(t=V8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V8(e){var t=q8(e,"string");return typeof t=="symbol"?t:t+""}function q8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class W8{constructor(t){B8(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function ej(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function K8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ej(Object(r),!0).forEach(function(n){H8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ej(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H8(e,t,r){return(t=Y8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y8(e){var t=G8(e,"string");return typeof t=="symbol"?t:t+""}function G8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var J8={cacheSize:2e3,enableCache:!0},AP=K8({},J8),tj=new W8(AP.cacheSize),X8={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},rj="recharts_measurement_span";function Q8(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(l,"|").concat(u)}var nj=(e,t)=>{try{var r=document.getElementById(rj);r||(r=document.createElement("span"),r.setAttribute("id",rj),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,X8,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Dl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||_o.isSsr)return{width:0,height:0};if(!AP.enableCache)return nj(t,r);var n=Q8(t,r),i=tj.get(n);if(i)return i;var a=nj(t,r);return tj.set(n,a),a},ij=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Z8=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,eV=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,PP={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},tV=Object.keys(PP),Qa="NaN";function rV(e,t){return e*PP[t]}class Ir{static parse(t){var r,[,n,i]=(r=eV.exec(t))!==null&&r!==void 0?r:[];return new Ir(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,mn(t)&&(this.unit=""),r!==""&&!Z8.test(r)&&(this.num=NaN,this.unit=""),tV.includes(r)&&(this.num=rV(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Ir(NaN,""):new Ir(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ir(NaN,""):new Ir(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ir(NaN,""):new Ir(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ir(NaN,""):new Ir(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return mn(this.num)}}function OP(e){if(e.includes(Qa))return Qa;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=ij.exec(t))!==null&&r!==void 0?r:[],l=Ir.parse(n??""),u=Ir.parse(a??""),d=i==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return Qa;t=t.replace(ij,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,h,p,g]=(m=sj.exec(t))!==null&&m!==void 0?m:[],w=Ir.parse(h??""),S=Ir.parse(g??""),b=p==="+"?w.add(S):w.subtract(S);if(b.isNaN())return Qa;t=t.replace(sj,b.toString())}return t}var aj=/\(([^()]*)\)/;function nV(e){for(var t=e,r;(r=aj.exec(t))!=null;){var[,n]=r;t=t.replace(aj,OP(n))}return t}function iV(e){var t=e.replace(/\s+/g,"");return t=nV(t),t=OP(t),t}function sV(e){try{return iV(e)}catch{return Qa}}function tv(e){var t=sV(e.slice(5,-1));return t===Qa?"":t}var aV=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],oV=["dx","dy","angle","className","breakAll"];function mg(){return mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mg.apply(null,arguments)}function oj(e,t){if(e==null)return{};var r,n,i=lV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function lV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var CP=/[ \f\n\r\t\v\u2028\u2029]+/,TP=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];Jt(t)||(r?i=t.toString().split(""):i=t.toString().split(CP));var a=i.map(u=>({word:u,width:Dl(u,n).width})),l=r?0:Dl("",n).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}},uV=(e,t,r,n,i)=>{var{maxLines:a,children:l,style:u,breakAll:d}=e,m=Fe(a),h=l,p=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce((U,Q)=>{var{word:G,width:he}=Q,we=U[U.length-1];if(we&&(n==null||i||we.width+he+r<Number(n)))we.words.push(G),we.width+=he+r;else{var pe={words:[G],width:he};U.push(pe)}return U},[])},g=p(t),w=F=>F.reduce((B,U)=>B.width>U.width?B:U);if(!m||i)return g;var S=g.length>a||w(g).width>Number(n);if(!S)return g;for(var b="",x=F=>{var B=h.slice(0,F),U=TP({breakAll:d,style:u,children:B+b}).wordsWithComputedWidth,Q=p(U),G=Q.length>a||w(Q).width>Number(n);return[G,Q]},k=0,E=h.length-1,N=0,P;k<=E&&N<=h.length-1;){var O=Math.floor((k+E)/2),T=O-1,[L,H]=x(T),[V]=x(O);if(!L&&!V&&(k=O+1),L&&V&&(E=O-1),!L&&V){P=H;break}N++}return P||g},lj=e=>{var t=Jt(e)?[]:e.toString().split(CP);return[{words:t}]},cV=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:l}=e;if((t||r)&&!_o.isSsr){var u,d,m=TP({breakAll:a,children:n,style:i});if(m){var{wordsWithComputedWidth:h,spaceWidth:p}=m;u=h,d=p}else return lj(n);return uV({breakAll:a,children:n,maxLines:l,style:i},u,d,t,r)}return lj(n)},uj="#808080",a0=j.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:l=!1,textAnchor:u="start",verticalAnchor:d="end",fill:m=uj}=e,h=oj(e,aV),p=j.useMemo(()=>cV({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:l,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,l,h.style,h.width]),{dx:g,dy:w,angle:S,className:b,breakAll:x}=h,k=oj(h,oV);if(!Jn(r)||!Jn(n)||p.length===0)return null;var E=r+(Fe(g)?g:0),N=n+(Fe(w)?w:0),P;switch(d){case"start":P=tv("calc(".concat(a,")"));break;case"middle":P=tv("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:P=tv("calc(".concat(p.length-1," * -").concat(i,")"));break}var O=[];if(l){var T=p[0].width,{width:L}=h;O.push("scale(".concat(Fe(L)?L/T:1,")"))}return S&&O.push("rotate(".concat(S,", ").concat(E,", ").concat(N,")")),O.length&&(k.transform=O.join(" ")),j.createElement("text",mg({},lr(k,!0),{ref:t,x:E,y:N,className:pt("recharts-text",b),textAnchor:u,fill:m.includes("url")?uj:m}),p.map((H,V)=>{var F=H.words.join(x?"":" ");return j.createElement("tspan",{x:E,dy:V===0?P:i,key:"".concat(F,"-").concat(V)},F)}))});a0.displayName="Text";var dV=["labelRef"];function fV(e,t){if(e==null)return{};var r,n,i=hV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function hV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cj(Object(r),!0).forEach(function(n){mV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mV(e,t,r){return(t=pV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pV(e){var t=vV(e,"string");return typeof t=="symbol"?t:t+""}function vV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gi(){return gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gi.apply(null,arguments)}var IP=j.createContext(null),gV=e=>{var{x:t,y:r,width:n,height:i,children:a}=e,l=j.useMemo(()=>({x:t,y:r,width:n,height:i}),[t,r,n,i]);return j.createElement(IP.Provider,{value:l},a)},DP=()=>{var e=j.useContext(IP),t=iy();return e||t},yV=j.createContext(null),xV=()=>{var e=j.useContext(yV),t=Re(pA);return e||t},wV=e=>{var{value:t,formatter:r}=e,n=Jt(e.children)?t:e.children;return typeof r=="function"?r(n):n},o0=e=>e!=null&&typeof e=="function",bV=(e,t)=>{var r=Hr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},_V=(e,t,r,n,i)=>{var{offset:a,className:l}=e,{cx:u,cy:d,innerRadius:m,outerRadius:h,startAngle:p,endAngle:g,clockWise:w}=i,S=(m+h)/2,b=bV(p,g),x=b>=0?1:-1,k,E;switch(t){case"insideStart":k=p+x*a,E=w;break;case"insideEnd":k=g-x*a,E=!w;break;case"end":k=g+x*a,E=w;break;default:throw new Error("Unsupported position ".concat(t))}E=b<=0?E:!E;var N=or(u,d,S,k),P=or(u,d,S,k+(E?1:-1)*359),O="M".concat(N.x,",").concat(N.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(E?0:1,`,
    `).concat(P.x,",").concat(P.y),T=Jt(e.id)?Ll("recharts-radial-line-"):e.id;return j.createElement("text",gi({},n,{dominantBaseline:"central",className:pt("recharts-radial-bar-label",l)}),j.createElement("defs",null,j.createElement("path",{id:T,d:O})),j.createElement("textPath",{xlinkHref:"#".concat(T)},r))},SV=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:l,startAngle:u,endAngle:d}=e,m=(u+d)/2;if(r==="outside"){var{x:h,y:p}=or(n,i,l+t,m);return{x:h,y:p,textAnchor:h>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(a+l)/2,{x:w,y:S}=or(n,i,g,m);return{x:w,y:S,textAnchor:"middle",verticalAnchor:"middle"}},RP=e=>"cx"in e&&Fe(e.cx),jV=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,a;r!=null&&!RP(r)&&(a=r);var{x:l,y:u,width:d,height:m}=t,h=m>=0?1:-1,p=h*n,g=h>0?"end":"start",w=h>0?"start":"end",S=d>=0?1:-1,b=S*n,x=S>0?"end":"start",k=S>0?"start":"end";if(i==="top"){var E={x:l+d/2,y:u-h*n,textAnchor:"middle",verticalAnchor:g};return Et(Et({},E),a?{height:Math.max(u-a.y,0),width:d}:{})}if(i==="bottom"){var N={x:l+d/2,y:u+m+p,textAnchor:"middle",verticalAnchor:w};return Et(Et({},N),a?{height:Math.max(a.y+a.height-(u+m),0),width:d}:{})}if(i==="left"){var P={x:l-b,y:u+m/2,textAnchor:x,verticalAnchor:"middle"};return Et(Et({},P),a?{width:Math.max(P.x-a.x,0),height:m}:{})}if(i==="right"){var O={x:l+d+b,y:u+m/2,textAnchor:k,verticalAnchor:"middle"};return Et(Et({},O),a?{width:Math.max(a.x+a.width-O.x,0),height:m}:{})}var T=a?{width:d,height:m}:{};return i==="insideLeft"?Et({x:l+b,y:u+m/2,textAnchor:k,verticalAnchor:"middle"},T):i==="insideRight"?Et({x:l+d-b,y:u+m/2,textAnchor:x,verticalAnchor:"middle"},T):i==="insideTop"?Et({x:l+d/2,y:u+p,textAnchor:"middle",verticalAnchor:w},T):i==="insideBottom"?Et({x:l+d/2,y:u+m-p,textAnchor:"middle",verticalAnchor:g},T):i==="insideTopLeft"?Et({x:l+b,y:u+p,textAnchor:k,verticalAnchor:w},T):i==="insideTopRight"?Et({x:l+d-b,y:u+p,textAnchor:x,verticalAnchor:w},T):i==="insideBottomLeft"?Et({x:l+b,y:u+m-p,textAnchor:k,verticalAnchor:g},T):i==="insideBottomRight"?Et({x:l+d-b,y:u+m-p,textAnchor:x,verticalAnchor:g},T):i&&typeof i=="object"&&(Fe(i.x)||Ks(i.x))&&(Fe(i.y)||Ks(i.y))?Et({x:l+In(i.x,d),y:u+In(i.y,m),textAnchor:"end",verticalAnchor:"end"},T):Et({x:l+d/2,y:u+m/2,textAnchor:"middle",verticalAnchor:"middle"},T)},kV={offset:5};function os(e){var t=Ln(e,kV),{viewBox:r,position:n,value:i,children:a,content:l,className:u="",textBreakAll:d,labelRef:m}=t,h=xV(),p=DP(),g=n==="center"?p:h??p,w=r||g;if(!w||Jt(i)&&Jt(a)&&!j.isValidElement(l)&&typeof l!="function")return null;var S=Et(Et({},t),{},{viewBox:w});if(j.isValidElement(l)){var{labelRef:b}=S,x=fV(S,dV);return j.cloneElement(l,x)}var k;if(typeof l=="function"){if(k=j.createElement(l,S),j.isValidElement(k))return k}else k=wV(t);var E=RP(w),N=lr(t,!0);if(E&&(n==="insideStart"||n==="insideEnd"||n==="end"))return _V(t,n,k,N,w);var P=E?SV(w,t.offset,t.position):jV(t,w);return j.createElement(a0,gi({ref:m,className:pt("recharts-label",u)},N,P,{breakAll:d}),k)}os.displayName="Label";var EV=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?j.createElement(os,gi({key:"label-implicit"},n)):Jn(e)?j.createElement(os,gi({key:"label-implicit",value:e},n)):j.isValidElement(e)?e.type===os?j.cloneElement(e,Et({key:"label-implicit"},n)):j.createElement(os,gi({key:"label-implicit",content:e},n)):o0(e)?j.createElement(os,gi({key:"label-implicit",content:e},n)):e&&typeof e=="object"?j.createElement(os,gi({},e,{key:"label-implicit"},n)):null};function NV(e){var{label:t}=e,r=DP();return EV(t,r)||null}var rv={},nv={},dj;function AV(){return dj||(dj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(nv)),nv}var iv={},fj;function PV(){return fj||(fj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(iv)),iv}var hj;function OV(){return hj||(hj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AV(),r=PV(),n=Yg();function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(rv)),rv}var sv,mj;function CV(){return mj||(mj=1,sv=OV().last),sv}var TV=CV();const IV=Dn(TV);var DV=["valueAccessor"],RV=["dataKey","clockWise","id","textBreakAll"];function Ld(){return Ld=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ld.apply(null,arguments)}function pj(e,t){if(e==null)return{};var r,n,i=MV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function MV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $V=e=>Array.isArray(e.value)?IV(e.value):e.value,MP=j.createContext(void 0),LV=MP.Provider,$P=j.createContext(void 0);$P.Provider;function FV(){return j.useContext(MP)}function zV(){return j.useContext($P)}function Xc(e){var{valueAccessor:t=$V}=e,r=pj(e,DV),{dataKey:n,clockWise:i,id:a,textBreakAll:l}=r,u=pj(r,RV),d=FV(),m=zV(),h=d||m;return!h||!h.length?null:j.createElement(hs,{className:"recharts-label-list"},h.map((p,g)=>{var w,S=Jt(n)?t(p,g):Sr(p&&p.payload,n),b=Jt(a)?{}:{id:"".concat(a,"-").concat(g)};return j.createElement(os,Ld({},lr(p,!0),u,b,{fill:(w=r.fill)!==null&&w!==void 0?w:p.fill,parentViewBox:p.parentViewBox,value:S,textBreakAll:l,viewBox:p.viewBox,key:"label-".concat(g),index:g}))}))}Xc.displayName="LabelList";function UV(e){var{label:t}=e;return t?t===!0?j.createElement(Xc,{key:"labelList-implicit"}):j.isValidElement(t)||o0(t)?j.createElement(Xc,{key:"labelList-implicit",content:t}):typeof t=="object"?j.createElement(Xc,Ld({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var BV={radiusAxis:{},angleAxis:{}},LP=Qr({name:"polarAxis",initialState:BV,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:UK,removeRadiusAxis:BK,addAngleAxis:VK,removeAngleAxis:qK}=LP.actions,VV=LP.reducer,av={},vj;function qV(){return vj||(vj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(av)),av}var ov,gj;function WV(){return gj||(gj=1,ov=qV().isPlainObject),ov}var KV=WV();const HV=Dn(KV);function yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yj(Object(r),!0).forEach(function(n){YV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YV(e,t,r){return(t=GV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GV(e){var t=JV(e,"string");return typeof t=="symbol"?t:t+""}function JV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fd(){return Fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fd.apply(null,arguments)}var wj=(e,t,r,n,i)=>{var a=r-n,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+r,",").concat(t),l+="L ".concat(e+r-a/2,",").concat(t+i),l+="L ".concat(e+r-a/2-n,",").concat(t+i),l+="L ".concat(e,",").concat(t," Z"),l},XV={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},QV=e=>{var t=Ln(e,XV),{x:r,y:n,upperWidth:i,lowerWidth:a,height:l,className:u}=t,{animationEasing:d,animationDuration:m,animationBegin:h,isUpdateAnimationActive:p}=t,g=j.useRef(),[w,S]=j.useState(-1),b=j.useRef(i),x=j.useRef(a),k=j.useRef(l),E=j.useRef(r),N=j.useRef(n),P=oy(e,"trapezoid-");if(j.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var G=g.current.getTotalLength();G&&S(G)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||l!==+l||i===0&&a===0||l===0)return null;var O=pt("recharts-trapezoid",u);if(!p)return j.createElement("g",null,j.createElement("path",Fd({},lr(t,!0),{className:O,d:wj(r,n,i,a,l)})));var T=b.current,L=x.current,H=k.current,V=E.current,F=N.current,B="0px ".concat(w===-1?1:w,"px"),U="".concat(w,"px 0px"),Q=sN(["strokeDasharray"],m,d);return j.createElement(ay,{animationId:P,key:P,canBegin:w>0,duration:m,easing:d,isActive:p,begin:h},G=>{var he=wr(T,i,G),we=wr(L,a,G),pe=wr(H,l,G),Z=wr(V,r,G),re=wr(F,n,G);g.current&&(b.current=he,x.current=we,k.current=pe,E.current=Z,N.current=re);var se=G>0?{transition:Q,strokeDasharray:U}:{strokeDasharray:B};return j.createElement("path",Fd({},lr(t,!0),{className:O,d:wj(Z,re,he,we,pe),ref:g,style:xj(xj({},se),t.style)}))})},ZV=["option","shapeType","propTransformer","activeClassName","isActive"];function eq(e,t){if(e==null)return{};var r,n,i=tq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function tq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bj(Object(r),!0).forEach(function(n){rq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rq(e,t,r){return(t=nq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nq(e){var t=iq(e,"string");return typeof t=="symbol"?t:t+""}function iq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sq(e,t){return zd(zd({},t),e)}function aq(e,t){return e==="symbols"}function _j(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return j.createElement(uN,r);case"trapezoid":return j.createElement(QV,r);case"sector":return j.createElement(fN,r);case"symbols":if(aq(t))return j.createElement(gE,r);break;default:return null}}function oq(e){return j.isValidElement(e)?e.props:e}function lq(e){var{option:t,shapeType:r,propTransformer:n=sq,activeClassName:i="recharts-active-shape",isActive:a}=e,l=eq(e,ZV),u;if(j.isValidElement(t))u=j.cloneElement(t,zd(zd({},l),oq(t)));else if(typeof t=="function")u=t(l);else if(HV(t)&&typeof t!="boolean"){var d=n(t,l);u=j.createElement(_j,{shapeType:r,elementProps:d})}else{var m=l;u=j.createElement(_j,{shapeType:r,elementProps:m})}return a?j.createElement(hs,{className:i},u):u}var FP=(e,t)=>{var r=Xt();return(n,i)=>a=>{e==null||e(n,i,a),r(sP({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},zP=e=>{var t=Xt();return(r,n)=>i=>{e==null||e(r,n,i),t(ZU())}},UP=(e,t)=>{var r=Xt();return(n,i)=>a=>{e==null||e(n,i,a),r(eB({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function uq(e){var{fn:t,args:r}=e,n=Xt(),i=$n();return j.useEffect(()=>{if(!i){var a=t(r);return n(JU(a)),()=>{n(XU(a))}}},[t,r,n,i]),null}var cq=()=>{};function dq(e){var{legendPayload:t}=e,r=Xt(),n=$n();return j.useEffect(()=>n?cq:(r(V3(t)),()=>{r(q3(t))}),[r,n,t]),null}var lv,fq=()=>{var[e]=j.useState(()=>Ll("uid-"));return e},hq=(lv=p2.useId)!==null&&lv!==void 0?lv:fq;function mq(e,t){var r=hq();return t||(e?"".concat(e,"-").concat(r):r)}var pq=j.createContext(void 0),vq=e=>{var{id:t,type:r,children:n}=e,i=mq("recharts-".concat(r),t);return j.createElement(pq.Provider,{value:i},n(i))},gq={cartesianItems:[],polarItems:[]},BP=Qr({name:"graphicalItems",initialState:gq,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,i=_i(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},removeCartesianGraphicalItem(e,t){var r=_i(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=_i(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:yq,replaceCartesianGraphicalItem:xq,removeCartesianGraphicalItem:wq,addPolarGraphicalItem:WK,removePolarGraphicalItem:KK}=BP.actions,bq=BP.reducer;function _q(e){var t=Xt(),r=j.useRef(null);return j.useEffect(()=>{r.current===null?t(yq(e)):r.current!==e&&t(xq({prev:r.current,next:e})),r.current=e},[t,e]),j.useEffect(()=>()=>{r.current&&(t(wq(r.current)),r.current=null)},[t]),null}function Sj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sj(Object(r),!0).forEach(function(n){Sq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sq(e,t,r){return(t=jq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jq(e){var t=kq(e,"string");return typeof t=="symbol"?t:t+""}function kq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eq={xAxis:{},yAxis:{},zAxis:{}},VP=Qr({name:"cartesianAxis",initialState:Eq,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=jj(jj({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:Nq,removeXAxis:Aq,addYAxis:Pq,removeYAxis:Oq,addZAxis:HK,removeZAxis:YK,updateYAxisWidth:Cq}=VP.actions,Tq=VP.reducer,Iq=Y([Qt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),Dq=Y([Iq,Ci,Ti],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),qP=()=>Re(Dq),Rq="Invariant failed";function Mq(e,t){throw new Error(Rq)}var $q=["x","y"];function pg(){return pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pg.apply(null,arguments)}function kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Sl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kj(Object(r),!0).forEach(function(n){Lq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lq(e,t,r){return(t=Fq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fq(e){var t=zq(e,"string");return typeof t=="symbol"?t:t+""}function zq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uq(e,t){if(e==null)return{};var r,n,i=Bq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Bq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Vq(e,t){var{x:r,y:n}=e,i=Uq(e,$q),a="".concat(r),l=parseInt(a,10),u="".concat(n),d=parseInt(u,10),m="".concat(t.height||i.height),h=parseInt(m,10),p="".concat(t.width||i.width),g=parseInt(p,10);return Sl(Sl(Sl(Sl(Sl({},t),i),l?{x:l}:{}),d?{y:d}:{}),{},{height:h,width:g,name:t.name,radius:t.radius})}function l0(e){return j.createElement(lq,pg({shapeType:"rectangle",propTransformer:Vq,activeClassName:"recharts-active-bar"},e))}var qq=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(Fe(t))return t;var a=Fe(n)||Jt(n);return a?t(n,i):(a||Mq(),r)}},Wq={},WP=Qr({name:"errorBars",initialState:Wq,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:GK,replaceErrorBar:JK,removeErrorBar:XK}=WP.actions,Kq=WP.reducer,Hq=["children"];function Yq(e,t){if(e==null)return{};var r,n,i=Gq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Gq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Jq={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Xq=j.createContext(Jq);function Qq(e){var{children:t}=e,r=Yq(e,Hq);return j.createElement(Xq.Provider,{value:r},t)}function KP(e,t){var r,n,i=Re(m=>Di(m,e)),a=Re(m=>Ri(m,t)),l=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:Br.allowDataOverflow,u=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Vr.allowDataOverflow,d=l||u;return{needClip:d,needClipX:l,needClipY:u}}function Zq(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=qP(),{needClipX:a,needClipY:l,needClip:u}=KP(t,r);if(!u)return null;var{x:d,y:m,width:h,height:p}=i;return j.createElement("clipPath",{id:"clipPath-".concat(n)},j.createElement("rect",{x:a?d:d-h/2,y:l?m:m-p/2,width:a?h:h*2,height:l?p:p*2}))}var eW=["onMouseEnter","onMouseLeave","onClick"],tW=["value","background","tooltipPosition"],rW=["id"],nW=["onMouseEnter","onClick","onMouseLeave"];function ms(){return ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ms.apply(null,arguments)}function Ej(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ej(Object(r),!0).forEach(function(n){iW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ej(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iW(e,t,r){return(t=sW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sW(e){var t=aW(e,"string");return typeof t=="symbol"?t:t+""}function aW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ud(e,t){if(e==null)return{};var r,n,i=oW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function oW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lW=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:tN(r,t),payload:e}]};function uW(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:l,unit:u}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:tN(a,t),hide:l,type:e.tooltipType,color:e.fill,unit:u}}}function cW(e){var t=Re(mo),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:l,onMouseLeave:u,onClick:d}=a,m=Ud(a,eW),h=FP(l,n),p=zP(u),g=UP(d,n);if(!i||r==null)return null;var w=lr(i,!1);return j.createElement(j.Fragment,null,r.map((S,b)=>{var{value:x,background:k,tooltipPosition:E}=S,N=Ud(S,tW);if(!k)return null;var P=h(S,b),O=p(S,b),T=g(S,b),L=br(br(br(br(br({option:i,isActive:String(b)===t},N),{},{fill:"#eee"},k),w),qg(m,S,b)),{},{onMouseEnter:P,onMouseLeave:O,onClick:T,dataKey:n,index:b,className:"recharts-bar-background-rectangle"});return j.createElement(l0,ms({key:"background-bar-".concat(L.index)},L))}))}function dW(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(a=>{var l={x:a.x,y:a.y,width:a.width,height:a.height};return br(br({},l),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:l,fill:a.fill})});return j.createElement(LV,{value:t?i:void 0},r)}function fW(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:l}=e,u=Re(mo),d=Re(yP),m=r&&String(a)===u&&(d==null||l===d),h=m?r:t;return j.createElement(l0,ms({},n,i,{isActive:m,option:h,index:a,dataKey:l}))}function hW(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return j.createElement(l0,ms({},r,n,{isActive:!1,option:t,index:i,dataKey:a}))}function mW(e){var{data:t,props:r}=e,n=nu(r),{id:i}=n,a=Ud(n,rW),{shape:l,dataKey:u,activeBar:d}=r,{onMouseEnter:m,onClick:h,onMouseLeave:p}=r,g=Ud(r,nW),w=FP(m,u),S=zP(p),b=UP(h,u);return t?j.createElement(j.Fragment,null,t.map((x,k)=>j.createElement(hs,ms({className:"recharts-bar-rectangle"},qg(g,x,k),{onMouseEnter:w(x,k),onMouseLeave:S(x,k),onClick:b(x,k),key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(k)}),d?j.createElement(fW,{shape:l,activeBar:d,baseProps:a,entry:x,index:k,dataKey:u}):j.createElement(hW,{shape:l,baseProps:a,entry:x,index:k,dataKey:u})))):null}function pW(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:l,animationDuration:u,animationEasing:d,onAnimationEnd:m,onAnimationStart:h}=t,p=r.current,g=oy(t,"recharts-bar-"),[w,S]=j.useState(!1),b=!w,x=j.useCallback(()=>{typeof m=="function"&&m(),S(!1)},[m]),k=j.useCallback(()=>{typeof h=="function"&&h(),S(!0)},[h]);return j.createElement(dW,{showLabels:b,rects:n},j.createElement(ay,{animationId:g,begin:l,duration:u,isActive:a,easing:d,onAnimationEnd:x,onAnimationStart:k,key:g},E=>{var N=E===1?n:n==null?void 0:n.map((P,O)=>{var T=p&&p[O];if(T)return br(br({},P),{},{x:wr(T.x,P.x,E),y:wr(T.y,P.y,E),width:wr(T.width,P.width,E),height:wr(T.height,P.height,E)});if(i==="horizontal"){var L=wr(0,P.height,E);return br(br({},P),{},{y:P.y+P.height-L,height:L})}var H=wr(0,P.width,E);return br(br({},P),{},{width:H})});return E>0&&(r.current=N??null),N==null?null:j.createElement(hs,null,j.createElement(mW,{props:t,data:N}))}),j.createElement(UV,{label:t.label}),t.children)}function vW(e){var t=j.useRef(null);return j.createElement(pW,{previousRectanglesRef:t,props:e})}var HP=0,gW=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Sr(e,t)}};class yW extends j.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:l,needClip:u,background:d,id:m}=this.props;if(t||r==null)return null;var h=pt("recharts-bar",i),p=m;return j.createElement(hs,{className:h,id:m},u&&j.createElement("defs",null,j.createElement(Zq,{clipPathId:p,xAxisId:a,yAxisId:l})),j.createElement(hs,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(p,")"):void 0},j.createElement(cW,{data:r,dataKey:n,background:d,allOtherBarProps:this.props}),j.createElement(vW,this.props)))}}var xW={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!_o.isSsr,legendType:"rect",minPointSize:HP,xAxisId:0,yAxisId:0};function wW(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:m,isAnimationActive:h}=e,{needClip:p}=KP(t,r),g=sy(),w=$n(),S=oM(e.children,s0),b=Re(E=>YW(E,t,r,w,e.id,S));if(g!=="vertical"&&g!=="horizontal")return null;var x,k=b==null?void 0:b[0];return k==null||k.height==null||k.width==null?x=0:x=g==="vertical"?k.height/2:k.width/2,j.createElement(Qq,{xAxisId:t,yAxisId:r,data:b,dataPointFormatter:gW,errorBarOffset:x},j.createElement(yW,ms({},e,{layout:g,needClip:p,data:b,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:m,isAnimationActive:h})))}function bW(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:l,yAxis:u,xAxisTicks:d,yAxisTicks:m,stackedData:h,displayedData:p,offset:g,cells:w,parentViewBox:S}=e,b=t==="horizontal"?u:l,x=h?b.scale.domain():null,k=y3({numericAxis:b});return p.map((E,N)=>{var P,O,T,L,H,V;h?P=f3(h[N],x):(P=Sr(E,r),Array.isArray(P)||(P=[k,P]));var F=qq(n,HP)(P[1],N);if(t==="horizontal"){var B,[U,Q]=[u.scale(P[0]),u.scale(P[1])];O=w_({axis:l,ticks:d,bandSize:a,offset:i.offset,entry:E,index:N}),T=(B=Q??U)!==null&&B!==void 0?B:void 0,L=i.size;var G=U-Q;if(H=mn(G)?0:G,V={x:O,y:g.top,width:L,height:g.height},Math.abs(F)>0&&Math.abs(H)<Math.abs(F)){var he=Hr(H||F)*(Math.abs(F)-Math.abs(H));T-=he,H+=he}}else{var[we,pe]=[l.scale(P[0]),l.scale(P[1])];if(O=we,T=w_({axis:u,ticks:m,bandSize:a,offset:i.offset,entry:E,index:N}),L=pe-we,H=i.size,V={x:g.left,y:T,width:g.width,height:H},Math.abs(F)>0&&Math.abs(L)<Math.abs(F)){var Z=Hr(L||F)*(Math.abs(F)-Math.abs(L));L+=Z}}if(O==null||T==null||L==null||H==null)return null;var re=br(br({},E),{},{x:O,y:T,width:L,height:H,value:h?P:P[1],payload:E,background:V,tooltipPosition:{x:O+L/2,y:T+H/2},parentViewBox:S},w&&w[N]&&w[N].props);return re}).filter(Boolean)}function _W(e){var t=Ln(e,xW),r=$n();return j.createElement(vq,{id:t.id,type:"bar"},n=>j.createElement(j.Fragment,null,j.createElement(dq,{legendPayload:lW(t)}),j.createElement(uq,{fn:uW,args:t}),j.createElement(_q,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:g3(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),j.createElement(wW,ms({},t,{id:n}))))}var YP=j.memo(_W);YP.displayName="Bar";function Nj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nj(Object(r),!0).forEach(function(n){SW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SW(e,t,r){return(t=jW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jW(e){var t=kW(e,"string");return typeof t=="symbol"?t:t+""}function kW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EW=(e,t)=>t,NW=(e,t,r)=>r,AW=(e,t,r,n)=>n,PW=(e,t,r,n,i)=>i,gu=Y([By,PW],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),OW=Y([gu],e=>e==null?void 0:e.maxBarSize),CW=(e,t,r,n,i,a)=>a,Aj=(e,t,r)=>{var n=r??e;if(!Jt(n))return In(n,t,0)},TW=Y([nt,By,EW,NW,AW],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),IW=(e,t,r,n)=>{var i=nt(e);return i==="horizontal"?ug(e,"yAxis",r,n):ug(e,"xAxis",t,n)},DW=(e,t,r)=>{var n=nt(e);return n==="horizontal"?RS(e,"xAxis",t):RS(e,"yAxis",r)},RW=(e,t,r)=>{var n={},i=e.filter(Ef),a=e.filter(m=>m.stackId==null),l=i.reduce((m,h)=>(m[h.stackId]||(m[h.stackId]=[]),m[h.stackId].push(h),m),n),u=Object.entries(l).map(m=>{var[h,p]=m,g=p.map(S=>S.dataKey),w=Aj(t,r,p[0].barSize);return{stackId:h,dataKeys:g,barSize:w}}),d=a.map(m=>{var h=[m.dataKey].filter(g=>g!=null),p=Aj(t,r,m.barSize);return{stackId:void 0,dataKeys:h,barSize:p}});return[...u,...d]},MW=Y([TW,Yz,DW],RW),$W=(e,t,r,n,i)=>{var a,l,u=gu(e,t,r,n,i);if(u!=null){var d=nt(e),m=lA(e),{maxBarSize:h}=u,p=Jt(h)?m:h,g,w;return d==="horizontal"?(g=ho(e,"xAxis",t,n),w=fo(e,"xAxis",t,n)):(g=ho(e,"yAxis",r,n),w=fo(e,"yAxis",r,n)),(a=(l=ry(g,w,!0))!==null&&l!==void 0?l:p)!==null&&a!==void 0?a:0}},GP=(e,t,r,n)=>{var i=nt(e),a,l;return i==="horizontal"?(a=ho(e,"xAxis",t,n),l=fo(e,"xAxis",t,n)):(a=ho(e,"yAxis",r,n),l=fo(e,"yAxis",r,n)),ry(a,l)};function LW(e,t,r,n,i){var a=n.length;if(!(a<1)){var l=In(e,r,0,!0),u,d=[];if(Xr(n[0].barSize)){var m=!1,h=r/a,p=n.reduce((k,E)=>k+(E.barSize||0),0);p+=(a-1)*l,p>=r&&(p-=(a-1)*l,l=0),p>=r&&h>0&&(m=!0,h*=.9,p=a*h);var g=(r-p)/2>>0,w={offset:g-l,size:0};u=n.reduce((k,E)=>{var N,P={stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:w.offset+w.size+l,size:m?h:(N=E.barSize)!==null&&N!==void 0?N:0}},O=[...k,P];return w=O[O.length-1].position,O},d)}else{var S=In(t,r,0,!0);r-2*S-(a-1)*l<=0&&(l=0);var b=(r-2*S-(a-1)*l)/a;b>1&&(b>>=0);var x=Xr(i)?Math.min(b,i):b;u=n.reduce((k,E,N)=>[...k,{stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:S+(b+l)*N+(b-x)/2,size:x}}],d)}return u}}var FW=(e,t,r,n,i,a,l)=>{var u=Jt(l)?t:l,d=LW(r,n,i!==a?i:a,e,u);return i!==a&&d!=null&&(d=d.map(m=>Wc(Wc({},m),{},{position:Wc(Wc({},m.position),{},{offset:m.position.offset-i/2})}))),d},zW=Y([MW,lA,Hz,uA,$W,GP,OW],FW),UW=(e,t,r,n)=>ho(e,"xAxis",t,n),BW=(e,t,r,n)=>ho(e,"yAxis",r,n),VW=(e,t,r,n)=>fo(e,"xAxis",t,n),qW=(e,t,r,n)=>fo(e,"yAxis",r,n),WW=Y([zW,gu],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),KW=(e,t)=>{var r=zy(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(l=>l.key===r)}}}},HW=Y([IW,gu],KW),YW=Y([Qt,ny,UW,BW,VW,qW,WW,nt,Cy,GP,HW,gu,CW],(e,t,r,n,i,a,l,u,d,m,h,p,g)=>{var{chartData:w,dataStartIndex:S,dataEndIndex:b}=d;if(!(p==null||l==null||t==null||u!=="horizontal"&&u!=="vertical"||r==null||n==null||i==null||a==null||m==null)){var{data:x}=p,k;if(x!=null&&x.length>0?k=x:k=w==null?void 0:w.slice(S,b+1),k!=null)return bW({layout:u,barSettings:p,pos:l,parentViewBox:t,bandSize:m,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:h,displayedData:k,offset:e,cells:g})}}),GW=e=>{var{chartData:t}=e,r=Xt(),n=$n();return j.useEffect(()=>n?()=>{}:(r(qS(t)),()=>{r(qS(void 0))}),[t,r,n]),null},Pj={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},JP=Qr({name:"brush",initialState:Pj,reducers:{setBrushSettings(e,t){return t.payload==null?Pj:t.payload}}}),{setBrushSettings:QK}=JP.actions,JW=JP.reducer;function XW(e,t,r){return(t=QW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QW(e){var t=ZW(e,"string");return typeof t=="symbol"?t:t+""}function ZW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class u0{static create(t){return new u0(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}XW(u0,"EPS",1e-4);function e9(e){return(e%180+180)%180}var t9=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=e9(i),l=a*Math.PI/180,u=Math.atan(n/r),d=l>u&&l<Math.PI-u?n/Math.sin(l):r/Math.cos(l);return Math.abs(d)},r9={dots:[],areas:[],lines:[]},XP=Qr({name:"referenceElements",initialState:r9,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=_i(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=_i(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=_i(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:ZK,removeDot:eH,addArea:tH,removeArea:rH,addLine:nH,removeLine:iH}=XP.actions,n9=XP.reducer,i9=j.createContext(void 0),s9=e=>{var{children:t}=e,[r]=j.useState("".concat(Ll("recharts"),"-clip")),n=qP();if(n==null)return null;var{x:i,y:a,width:l,height:u}=n;return j.createElement(i9.Provider,{value:r},j.createElement("defs",null,j.createElement("clipPath",{id:r},j.createElement("rect",{x:i,y:a,height:u,width:l}))),t)};function po(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function QP(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function a9(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return t9(n,r)}function o9(e,t,r){var n=r==="width",{x:i,y:a,width:l,height:u}=e;return t===1?{start:n?i:a,end:n?i+l:a+u}:{start:n?i+l:a+u,end:n?i:a}}function Bd(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function l9(e,t){return QP(e,t+1)}function u9(e,t,r,n,i){for(var a=(n||[]).slice(),{start:l,end:u}=t,d=0,m=1,h=l,p=function(){var S=n==null?void 0:n[d];if(S===void 0)return{v:QP(n,m)};var b=d,x,k=()=>(x===void 0&&(x=r(S,b)),x),E=S.coordinate,N=d===0||Bd(e,E,k,h,u);N||(d=0,h=l,m+=1),N&&(h=E+e*(k()/2+i),d+=m)},g;m<=a.length;)if(g=p(),g)return g.v;return[]}function Oj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Oj(Object(r),!0).forEach(function(n){c9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c9(e,t,r){return(t=d9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d9(e){var t=f9(e,"string");return typeof t=="symbol"?t:t+""}function f9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h9(e,t,r,n,i){for(var a=(n||[]).slice(),l=a.length,{start:u}=t,{end:d}=t,m=function(g){var w=a[g],S,b=()=>(S===void 0&&(S=r(w,g)),S);if(g===l-1){var x=e*(w.coordinate+e*b()/2-d);a[g]=w=pr(pr({},w),{},{tickCoord:x>0?w.coordinate-x*e:w.coordinate})}else a[g]=w=pr(pr({},w),{},{tickCoord:w.coordinate});var k=Bd(e,w.tickCoord,b,u,d);k&&(d=w.tickCoord-e*(b()/2+i),a[g]=pr(pr({},w),{},{isShow:!0}))},h=l-1;h>=0;h--)m(h);return a}function m9(e,t,r,n,i,a){var l=(n||[]).slice(),u=l.length,{start:d,end:m}=t;if(a){var h=n[u-1],p=r(h,u-1),g=e*(h.coordinate+e*p/2-m);l[u-1]=h=pr(pr({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate});var w=Bd(e,h.tickCoord,()=>p,d,m);w&&(m=h.tickCoord-e*(p/2+i),l[u-1]=pr(pr({},h),{},{isShow:!0}))}for(var S=a?u-1:u,b=function(E){var N=l[E],P,O=()=>(P===void 0&&(P=r(N,E)),P);if(E===0){var T=e*(N.coordinate-e*O()/2-d);l[E]=N=pr(pr({},N),{},{tickCoord:T<0?N.coordinate-T*e:N.coordinate})}else l[E]=N=pr(pr({},N),{},{tickCoord:N.coordinate});var L=Bd(e,N.tickCoord,O,d,m);L&&(d=N.tickCoord+e*(O()/2+i),l[E]=pr(pr({},N),{},{isShow:!0}))},x=0;x<S;x++)b(x);return l}function p9(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:l,orientation:u,interval:d,tickFormatter:m,unit:h,angle:p}=e;if(!i||!i.length||!n)return[];if(Fe(d)||_o.isSsr){var g;return(g=l9(i,Fe(d)?d:0))!==null&&g!==void 0?g:[]}var w=[],S=u==="top"||u==="bottom"?"width":"height",b=h&&S==="width"?Dl(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=(N,P)=>{var O=typeof m=="function"?m(N.value,P):N.value;return S==="width"?a9(Dl(O,{fontSize:t,letterSpacing:r}),b,p):Dl(O,{fontSize:t,letterSpacing:r})[S]},k=i.length>=2?Hr(i[1].coordinate-i[0].coordinate):1,E=o9(a,k,S);return d==="equidistantPreserveStart"?u9(k,E,x,i,l):(d==="preserveStart"||d==="preserveStartEnd"?w=m9(k,E,x,i,l,d==="preserveStartEnd"):w=h9(k,E,x,i,l),w.filter(N=>N.isShow))}var v9=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,l=0;if(t){t.forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>l&&(l=p.width)}});var u=r?r.getBoundingClientRect().width:0,d=i+a,m=l+d+u+(r?n:0);return Math.round(m)}return 0},g9=["axisLine","width","height","className","hide","ticks"],y9=["viewBox"],x9=["viewBox"];function vg(e,t){if(e==null)return{};var r,n,i=w9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function w9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function aa(){return aa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aa.apply(null,arguments)}function Cj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cj(Object(r),!0).forEach(function(n){b9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b9(e,t,r){return(t=_9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _9(e){var t=S9(e,"string");return typeof t=="symbol"?t:t+""}function S9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j9={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function k9(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:l,axisLine:u,otherSvgProps:d}=e;if(!u)return null;var m=Ut(Ut(Ut({},d),lr(u,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!l||a==="bottom"&&l);m=Ut(Ut({},m),{},{x1:t,y1:r+h*i,x2:t+n,y2:r+h*i})}else{var p=+(a==="left"&&!l||a==="right"&&l);m=Ut(Ut({},m),{},{x1:t+p*n,y1:r,x2:t+p*n,y2:r+i})}return j.createElement("line",aa({},m,{className:pt("recharts-cartesian-axis-line",io(u,"className"))}))}function E9(e,t,r,n,i,a,l,u,d){var m,h,p,g,w,S,b=u?-1:1,x=e.tickSize||l,k=Fe(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":m=h=e.coordinate,g=r+ +!u*i,p=g-b*x,S=p-b*d,w=k;break;case"left":p=g=e.coordinate,h=t+ +!u*n,m=h-b*x,w=m-b*d,S=k;break;case"right":p=g=e.coordinate,h=t+ +u*n,m=h+b*x,w=m+b*d,S=k;break;default:m=h=e.coordinate,g=r+ +u*i,p=g+b*x,S=p+b*d,w=k;break}return{line:{x1:m,y1:p,x2:h,y2:g},tick:{x:w,y:S}}}function N9(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function A9(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function P9(e){var{option:t,tickProps:r,value:n}=e,i,a=pt(r.className,"recharts-cartesian-axis-tick-value");if(j.isValidElement(t))i=j.cloneElement(t,Ut(Ut({},r),{},{className:a}));else if(typeof t=="function")i=t(Ut(Ut({},r),{},{className:a}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=pt(l,t==null?void 0:t.className)),i=j.createElement(a0,aa({},r,{className:l}),n)}return i}function O9(e){var{ticks:t=[],tick:r,tickLine:n,stroke:i,tickFormatter:a,unit:l,padding:u,tickTextProps:d,orientation:m,mirror:h,x:p,y:g,width:w,height:S,tickSize:b,tickMargin:x,fontSize:k,letterSpacing:E,getTicksConfig:N,events:P}=e,O=p9(Ut(Ut({},N),{},{ticks:t}),k,E),T=N9(m,h),L=A9(m,h),H=nu(N),V=lr(r,!1),F=Ut(Ut({},H),{},{fill:"none"},lr(n,!1)),B=O.map((U,Q)=>{var{line:G,tick:he}=E9(U,p,g,w,S,m,b,h,x),we=Ut(Ut(Ut(Ut({textAnchor:T,verticalAnchor:L},H),{},{stroke:"none",fill:i},V),he),{},{index:Q,payload:U,visibleTicksCount:O.length,tickFormatter:a,padding:u},d);return j.createElement(hs,aa({className:"recharts-cartesian-axis-tick",key:"tick-".concat(U.value,"-").concat(U.coordinate,"-").concat(U.tickCoord)},qg(P,U,Q)),n&&j.createElement("line",aa({},F,G,{className:pt("recharts-cartesian-axis-tick-line",io(n,"className"))})),r&&j.createElement(P9,{option:r,tickProps:we,value:"".concat(typeof a=="function"?a(U.value,Q):U.value).concat(l||"")}))});return B.length>0?j.createElement("g",{className:"recharts-cartesian-axis-ticks"},B):null}var C9=j.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:l,ticks:u}=e,d=vg(e,g9),[m,h]=j.useState(""),[p,g]=j.useState(""),w=j.useRef([]);j.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var b;return v9({ticks:w.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var S=j.useCallback(b=>{if(b){var x=b.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=Array.from(x);var k=x[0];if(k){var E=window.getComputedStyle(k),N=E.fontSize,P=E.letterSpacing;(N!==m||P!==p)&&(h(N),g(P))}}},[m,p]);return l||n!=null&&n<=0||i!=null&&i<=0?null:j.createElement(hs,{className:pt("recharts-cartesian-axis",a),ref:S},j.createElement(k9,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:nu(e)}),j.createElement(O9,{ticks:u,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:m,letterSpacing:p,getTicksConfig:e,events:d}),j.createElement(gV,{x:e.x,y:e.y,width:e.width,height:e.height},j.createElement(NV,{label:e.label}),e.children))}),T9=j.memo(C9,(e,t)=>{var{viewBox:r}=e,n=vg(e,y9),{viewBox:i}=t,a=vg(t,x9);return po(r,i)&&po(n,a)}),c0=j.forwardRef((e,t)=>{var r=Ln(e,j9);return j.createElement(T9,aa({},r,{ref:t}))});c0.displayName="CartesianAxis";var I9=["dangerouslySetInnerHTML","ticks"],D9=["id"],R9=["domain"],M9=["domain"];function gg(){return gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gg.apply(null,arguments)}function Vd(e,t){if(e==null)return{};var r,n,i=$9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function $9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function L9(e){var t=Xt();return j.useEffect(()=>(t(Nq(e)),()=>{t(Aq(e))}),[e,t]),null}var F9=e=>{var{xAxisId:t,className:r}=e,n=Re(ny),i=$n(),a="xAxis",l=Re(x=>Ao(x,a,t,i)),u=Re(x=>ZA(x,a,t,i)),d=Re(x=>GA(x,t)),m=Re(x=>zU(x,t)),h=Re(x=>yA(x,t));if(d==null||m==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:g}=e,w=Vd(e,I9),{id:S}=h,b=Vd(h,D9);return j.createElement(c0,gg({},w,b,{scale:l,x:m.x,y:m.y,width:d.width,height:d.height,className:pt("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:u}))},z9={allowDataOverflow:Br.allowDataOverflow,allowDecimals:Br.allowDecimals,allowDuplicatedCategory:Br.allowDuplicatedCategory,height:Br.height,hide:!1,mirror:Br.mirror,orientation:Br.orientation,padding:Br.padding,reversed:Br.reversed,scale:Br.scale,tickCount:Br.tickCount,type:Br.type,xAxisId:0},U9=e=>{var t,r,n,i,a,l=Ln(e,z9);return j.createElement(j.Fragment,null,j.createElement(L9,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(r=l.includeHidden)!==null&&r!==void 0?r:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(n=l.angle)!==null&&n!==void 0?n:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(a=l.tick)!==null&&a!==void 0?a:!0,tickFormatter:l.tickFormatter}),j.createElement(F9,l))},B9=(e,t)=>{var{domain:r}=e,n=Vd(e,R9),{domain:i}=t,a=Vd(t,M9);return po(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:po({domain:r},{domain:i}):!1},ZP=j.memo(U9,B9);ZP.displayName="XAxis";var V9=["dangerouslySetInnerHTML","ticks"],q9=["id"],W9=["domain"],K9=["domain"];function yg(){return yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yg.apply(null,arguments)}function qd(e,t){if(e==null)return{};var r,n,i=H9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function H9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Y9(e){var t=Xt();return j.useEffect(()=>(t(Pq(e)),()=>{t(Oq(e))}),[e,t]),null}var G9=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,a=j.useRef(null),l=j.useRef(null),u=Re(ny),d=$n(),m=Xt(),h="yAxis",p=Re(O=>Ao(O,h,t,d)),g=Re(O=>JA(O,t)),w=Re(O=>BU(O,t)),S=Re(O=>ZA(O,h,t,d)),b=Re(O=>xA(O,t));if(j.useLayoutEffect(()=>{if(!(n!=="auto"||!g||o0(i)||j.isValidElement(i)||b==null)){var O=a.current;if(O){var T=O.getCalculatedWidth();Math.round(g.width)!==Math.round(T)&&m(Cq({id:t,width:T}))}}},[S,g,m,i,t,n,b]),g==null||w==null||b==null)return null;var{dangerouslySetInnerHTML:x,ticks:k}=e,E=qd(e,V9),{id:N}=b,P=qd(b,q9);return j.createElement(c0,yg({},E,P,{ref:a,labelRef:l,scale:p,x:w.x,y:w.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:g.width,height:g.height,className:pt("recharts-".concat(h," ").concat(h),r),viewBox:u,ticks:S}))},J9={allowDataOverflow:Vr.allowDataOverflow,allowDecimals:Vr.allowDecimals,allowDuplicatedCategory:Vr.allowDuplicatedCategory,hide:!1,mirror:Vr.mirror,orientation:Vr.orientation,padding:Vr.padding,reversed:Vr.reversed,scale:Vr.scale,tickCount:Vr.tickCount,type:Vr.type,width:Vr.width,yAxisId:0},X9=e=>{var t,r,n,i,a,l=Ln(e,J9);return j.createElement(j.Fragment,null,j.createElement(Y9,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(r=l.includeHidden)!==null&&r!==void 0?r:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(n=l.angle)!==null&&n!==void 0?n:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(a=l.tick)!==null&&a!==void 0?a:!0,tickFormatter:l.tickFormatter}),j.createElement(G9,l))},Q9=(e,t)=>{var{domain:r}=e,n=qd(e,W9),{domain:i}=t,a=qd(t,K9);return po(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:po({domain:r},{domain:i}):!1},eO=j.memo(X9,Q9);eO.displayName="YAxis";var uv={exports:{}},cv={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tj;function Z9(){if(Tj)return cv;Tj=1;var e=vo();function t(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,l=e.useMemo,u=e.useDebugValue;return cv.useSyncExternalStoreWithSelector=function(d,m,h,p,g){var w=i(null);if(w.current===null){var S={hasValue:!1,value:null};w.current=S}else S=w.current;w=l(function(){function x(O){if(!k){if(k=!0,E=O,O=p(O),g!==void 0&&S.hasValue){var T=S.value;if(g(T,O))return N=T}return N=O}if(T=N,r(E,O))return T;var L=p(O);return g!==void 0&&g(T,L)?(E=O,T):(E=O,N=L)}var k=!1,E,N,P=h===void 0?null:h;return[function(){return x(m())},P===null?void 0:function(){return x(P())}]},[m,h,p,g]);var b=n(d,w[0],w[1]);return a(function(){S.hasValue=!0,S.value=b},[b]),u(b),b},cv}var Ij;function e7(){return Ij||(Ij=1,uv.exports=Z9()),uv.exports}e7();function t7(e){e()}function r7(){let e=null,t=null;return{clear(){e=null,t=null},notify(){t7(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var Dj={notify(){},get:()=>[]};function n7(e,t){let r,n=Dj,i=0,a=!1;function l(b){h();const x=n.subscribe(b);let k=!1;return()=>{k||(k=!0,x(),p())}}function u(){n.notify()}function d(){S.onStateChange&&S.onStateChange()}function m(){return a}function h(){i++,r||(r=e.subscribe(d),n=r7())}function p(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=Dj)}function g(){a||(a=!0,h())}function w(){a&&(a=!1,p())}const S={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:m,trySubscribe:g,tryUnsubscribe:w,getListeners:()=>n};return S}var i7=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",s7=i7(),a7=()=>typeof navigator<"u"&&navigator.product==="ReactNative",o7=a7(),l7=()=>s7||o7?j.useLayoutEffect:j.useEffect,u7=l7(),dv=Symbol.for("react-redux-context"),fv=typeof globalThis<"u"?globalThis:{};function c7(){if(!j.createContext)return{};const e=fv[dv]??(fv[dv]=new Map);let t=e.get(j.createContext);return t||(t=j.createContext(null),e.set(j.createContext,t)),t}var d7=c7();function f7(e){const{children:t,context:r,serverState:n,store:i}=e,a=j.useMemo(()=>{const d=n7(i);return{store:i,subscription:d,getServerState:n?()=>n:void 0}},[i,n]),l=j.useMemo(()=>i.getState(),[i]);u7(()=>{const{subscription:d}=a;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[a,l]);const u=r||d7;return j.createElement(u.Provider,{value:a},t)}var h7=f7,m7=(e,t)=>t,d0=Y([m7,nt,pA,Vt,mP,Mi,KB,Qt],XB),f0=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},tO=pn("mouseClick"),rO=su();rO.startListening({actionCreator:tO,effect:(e,t)=>{var r=e.payload,n=d0(t.getState(),f0(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(tB({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var xg=pn("mouseMove"),nO=su();nO.startListening({actionCreator:xg,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=Jy(n,n.tooltip.settings.shared),a=d0(n,f0(r));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?t.dispatch(oP({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(aP()))}});var Rj={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},iO=Qr({name:"rootProps",initialState:Rj,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:Rj.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),p7=iO.reducer,{updateOptions:v7}=iO.actions,sO=Qr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:sH}=sO.actions,g7=sO.reducer,aO=pn("keyDown"),oO=pn("focus"),h0=su();h0.startListening({actionCreator:aO,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var l=Number(Xy(i,Oo(r))),u=Mi(r);if(a==="Enter"){var d=$d(r,"axis","hover",String(i.index));t.dispatch(dg({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var m=KU(r),h=m==="left-to-right"?1:-1,p=a==="ArrowRight"?1:-1,g=l+p*h;if(!(u==null||g>=u.length||g<0)){var w=$d(r,"axis","hover",String(g));t.dispatch(dg({active:!0,activeIndex:g.toString(),activeDataKey:void 0,activeCoordinate:w}))}}}}});h0.startListening({actionCreator:oO,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",l=$d(r,"axis","hover",String(a));t.dispatch(dg({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:l}))}}}});var un=pn("externalEvent"),lO=su();lO.startListening({actionCreator:un,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:$B(r),activeDataKey:yP(r),activeIndex:mo(r),activeLabel:gP(r),activeTooltipIndex:mo(r),isTooltipActive:LB(r)};e.payload.handler(n,e.payload.reactEvent)}}});var y7=Y([Po],e=>e.tooltipItemPayloads),x7=Y([y7,pu,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(u=>u.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var l=t(a,r);return l}}}),uO=pn("touchMove"),cO=su();cO.startListening({actionCreator:uO,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=Jy(n,n.tooltip.settings.shared);if(i==="axis"){var a=d0(n,f0({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(oP({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var l,u=r.touches[0],d=document.elementFromPoint(u.clientX,u.clientY);if(!d||!d.getAttribute)return;var m=d.getAttribute(E3),h=(l=d.getAttribute(N3))!==null&&l!==void 0?l:void 0,p=x7(t.getState(),m,h);t.dispatch(sP({activeDataKey:h,activeIndex:m,activeCoordinate:p}))}}});var w7=CE({brush:JW,cartesianAxis:Tq,chartData:m8,errorBars:Kq,graphicalItems:bq,layout:GL,legend:W3,options:u8,polarAxis:VV,polarOptions:g7,referenceElements:n9,rootProps:p7,tooltip:rB}),b7=function(t){return wL({reducer:w7,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([rO.middleware,nO.middleware,h0.middleware,lO.middleware,cO.middleware]),devTools:_o.devToolsEnabled})};function _7(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=$n(),a=j.useRef(null);if(i)return r;a.current==null&&(a.current=b7(t));var l=Jg;return j.createElement(h7,{context:l,store:a.current},r)}function S7(e){var{layout:t,width:r,height:n,margin:i}=e,a=Xt(),l=$n();return j.useEffect(()=>{l||(a(KL(t)),a(HL({width:r,height:n})),a(WL(i)))},[a,l,t,r,n,i]),null}function j7(e){var t=Xt();return j.useEffect(()=>{t(v7(e))},[t,e]),null}var k7=["children"];function E7(e,t){if(e==null)return{};var r,n,i=N7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function N7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Wd(){return Wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wd.apply(null,arguments)}var A7={width:"100%",height:"100%"},P7=j.forwardRef((e,t)=>{var r=z3(),n=U3(),i=iN();if(!bd(r)||!bd(n))return null;var{children:a,otherAttributes:l,title:u,desc:d}=e,m,h;return typeof l.tabIndex=="number"?m=l.tabIndex:m=i?0:void 0,typeof l.role=="string"?h=l.role:h=i?"application":void 0,j.createElement(Zk,Wd({},l,{title:u,desc:d,role:h,tabIndex:m,width:r,height:n,style:A7,ref:t}),a)}),O7=e=>{var{children:t}=e,r=Re(mf);if(!r)return null;var{width:n,height:i,y:a,x:l}=r;return j.createElement(Zk,{width:n,height:i,x:l,y:a},t)},Mj=j.forwardRef((e,t)=>{var{children:r}=e,n=E7(e,k7),i=$n();return i?j.createElement(O7,null,r):j.createElement(P7,Wd({ref:t},n),r)});function C7(){var e=Xt(),[t,r]=j.useState(null),n=Re(k3);return j.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Xr(a)&&a!==n&&e(YL(a))}},[t,e,n]),r}function $j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function T7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$j(Object(r),!0).forEach(function(n){I7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I7(e,t,r){return(t=D7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D7(e){var t=R7(e,"string");return typeof t=="symbol"?t:t+""}function R7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var M7=j.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:l,onDoubleClick:u,onMouseDown:d,onMouseEnter:m,onMouseLeave:h,onMouseMove:p,onMouseUp:g,onTouchEnd:w,onTouchMove:S,onTouchStart:b,style:x,width:k}=e,E=Xt(),[N,P]=j.useState(null),[O,T]=j.useState(null);S8();var L=C7(),H=j.useCallback(I=>{L(I),typeof t=="function"&&t(I),P(I),T(I)},[L,t,P,T]),V=j.useCallback(I=>{E(tO(I)),E(un({handler:a,reactEvent:I}))},[E,a]),F=j.useCallback(I=>{E(xg(I)),E(un({handler:m,reactEvent:I}))},[E,m]),B=j.useCallback(I=>{E(aP()),E(un({handler:h,reactEvent:I}))},[E,h]),U=j.useCallback(I=>{E(xg(I)),E(un({handler:p,reactEvent:I}))},[E,p]),Q=j.useCallback(()=>{E(oO())},[E]),G=j.useCallback(I=>{E(aO(I.key))},[E]),he=j.useCallback(I=>{E(un({handler:l,reactEvent:I}))},[E,l]),we=j.useCallback(I=>{E(un({handler:u,reactEvent:I}))},[E,u]),pe=j.useCallback(I=>{E(un({handler:d,reactEvent:I}))},[E,d]),Z=j.useCallback(I=>{E(un({handler:g,reactEvent:I}))},[E,g]),re=j.useCallback(I=>{E(un({handler:b,reactEvent:I}))},[E,b]),se=j.useCallback(I=>{E(uO(I)),E(un({handler:S,reactEvent:I}))},[E,S]),M=j.useCallback(I=>{E(un({handler:w,reactEvent:I}))},[E,w]);return j.createElement(jP.Provider,{value:N},j.createElement(pM.Provider,{value:O},j.createElement("div",{className:pt("recharts-wrapper",n),style:T7({position:"relative",cursor:"default",width:k,height:i},x),onClick:V,onContextMenu:he,onDoubleClick:we,onFocus:Q,onKeyDown:G,onMouseDown:pe,onMouseEnter:F,onMouseLeave:B,onMouseMove:U,onMouseUp:Z,onTouchEnd:M,onTouchMove:se,onTouchStart:re,ref:H},r)))}),$7=["children","className","width","height","style","compact","title","desc"];function L7(e,t){if(e==null)return{};var r,n,i=F7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function F7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var z7=j.forwardRef((e,t)=>{var{children:r,className:n,width:i,height:a,style:l,compact:u,title:d,desc:m}=e,h=L7(e,$7),p=nu(h);return u?j.createElement(Mj,{otherAttributes:p,title:d,desc:m},r):j.createElement(M7,{className:n,style:l,width:i,height:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},j.createElement(Mj,{otherAttributes:p,title:d,desc:m,ref:t},j.createElement(s9,null,r)))}),U7=["width","height"];function wg(){return wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wg.apply(null,arguments)}function B7(e,t){if(e==null)return{};var r,n,i=V7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function V7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var q7={top:5,right:5,bottom:5,left:5},W7={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:q7,reverseStackOrder:!1,syncMethod:"index"},K7=j.forwardRef(function(t,r){var n,i=Ln(t.categoricalChartProps,W7),{width:a,height:l}=i,u=B7(i,U7);if(!bd(a)||!bd(l))return null;var{chartName:d,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,categoricalChartProps:g}=t,w={chartName:d,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return j.createElement(_7,{preloadedState:{options:w},reduxStoreName:(n=g.id)!==null&&n!==void 0?n:d},j.createElement(GW,{chartData:g.data}),j.createElement(S7,{width:a,height:l,layout:i.layout,margin:i.margin}),j.createElement(j7,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),j.createElement(z7,wg({},u,{width:a,height:l,ref:r})))}),H7=["axis","item"],Y7=j.forwardRef((e,t)=>j.createElement(K7,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:H7,tooltipPayloadSearcher:o8,categoricalChartProps:e,ref:t}));const Yr={clientId:"a6283b6c-2210-4d6c-bade-651acfdb6703",tenantId:"3bb4e039-9a0f-4671-9733-a9ae03d39395",redirectUri:"http://localhost:5173/feature-voting-app/admin",scopes:["https://app.vssps.visualstudio.com/user_impersonation","offline_access"]};function G7(){const e=new Uint8Array(32);return crypto.getRandomValues(e),dO(e)}async function J7(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r);return dO(new Uint8Array(n))}function dO(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}async function X7(e){const t=G7(),r=await J7(t);sessionStorage.setItem("pkce_verifier",t);const n=new URLSearchParams({client_id:Yr.clientId,response_type:"code",redirect_uri:Yr.redirectUri,response_mode:"query",scope:Yr.scopes.join(" "),state:e,code_challenge:r,code_challenge_method:"S256"});return`https://login.microsoftonline.com/${Yr.tenantId}/oauth2/v2.0/authorize?${n}`}async function Q7(e){const t=`https://login.microsoftonline.com/${Yr.tenantId}/oauth2/v2.0/token`,r=sessionStorage.getItem("pkce_verifier");if(!r)throw new Error("Code verifier not found - PKCE flow incomplete");const n=new URLSearchParams({client_id:Yr.clientId,scope:Yr.scopes.join(" "),code:e,redirect_uri:Yr.redirectUri,grant_type:"authorization_code",code_verifier:r}),i=await fetch(t,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n.toString()});if(!i.ok){const l=await i.json();throw console.error("Token exchange error:",l),new Error(`Failed to exchange code for tokens: ${l.error_description||l.error}`)}const a=await i.json();return sessionStorage.removeItem("pkce_verifier"),{accessToken:a.access_token,refreshToken:a.refresh_token,expiresIn:a.expires_in}}async function Z7(e){const t=`https://login.microsoftonline.com/${Yr.tenantId}/oauth2/v2.0/token`,r=new URLSearchParams({client_id:Yr.clientId,scope:Yr.scopes.join(" "),refresh_token:e,grant_type:"refresh_token"}),n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:r.toString()});if(!n.ok){const a=await n.json();throw console.error("Token refresh error:",a),new Error(`Failed to refresh access token: ${a.error_description||a.error}`)}const i=await n.json();return{accessToken:i.access_token,expiresIn:i.expires_in}}async function Lj(e){if(!e.accessToken||!e.organization||!e.project)throw new Error("Missing required configuration");const t=`https://dev.azure.com/${e.organization}/${e.project}/_apis/wit/workitemtypes/${e.workItemType}?api-version=7.1`,r=await fetch(t,{headers:{Authorization:`Bearer ${e.accessToken}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error(`Failed to fetch states: ${r.statusText}`);const n=await r.json();return n.states&&Array.isArray(n.states)?n.states.map(i=>i.name):["New","Active","Resolved","Closed","Removed"]}async function eK(e){if(!e.accessToken||!e.organization||!e.project)throw new Error("Missing required configuration");const t=`https://dev.azure.com/${e.organization}/${e.project}/_apis/wit/classificationnodes/areas?$depth=10&api-version=7.1`,r=await fetch(t,{headers:{Authorization:`Bearer ${e.accessToken}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error(`Failed to fetch area paths: ${r.statusText}`);const n=await r.json(),i=(a,l="")=>{const u=l?`${l}\\${a.name}`:a.name;let d=[u];return a.children&&a.children.length>0&&a.children.forEach(m=>{d=d.concat(i(m,u))}),d};return i(n)}async function tK(e){if(!e.accessToken||!e.organization||!e.project)throw new Error("Missing required configuration");try{const t={query:"SELECT [System.Id] FROM WorkItems WHERE [System.TeamProject] = @project ORDER BY [System.ChangedDate] DESC"},r=`https://dev.azure.com/${e.organization}/${e.project}/_apis/wit/wiql?api-version=7.1`,n=await fetch(r,{method:"POST",headers:{Authorization:`Bearer ${e.accessToken}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)return console.warn("Failed to fetch tags, returning empty array"),[];const i=await n.json();if(!i.workItems||i.workItems.length===0)return[];const a=i.workItems.map(h=>h.id).slice(0,200),l=`https://dev.azure.com/${e.organization}/${e.project}/_apis/wit/workitems?ids=${a.join(",")}&fields=System.Tags&api-version=7.1`,u=await fetch(l,{headers:{Authorization:`Bearer ${e.accessToken}`,"Content-Type":"application/json"}});if(!u.ok)return console.warn("Failed to fetch work item details for tags"),[];const d=await u.json(),m=new Set;return d.value&&Array.isArray(d.value)&&d.value.forEach(h=>{h.fields&&h.fields["System.Tags"]&&h.fields["System.Tags"].split(";").map(g=>g.trim()).forEach(g=>{g&&m.add(g)})}),Array.from(m).sort()}catch(t){return console.warn("Error fetching tags, returning empty array:",t),[]}}function rK(e){const t=new Date(e).getTime(),r=Date.now(),n=300*1e3;return t-r<n}async function nK(){const e=new URLSearchParams(window.location.search),t=e.get("code"),r=e.get("state");if(!t)return null;const n=sessionStorage.getItem("oauth_state");if(r!==n)throw new Error("State mismatch - possible CSRF attack");const i=await Q7(t);return sessionStorage.removeItem("oauth_state"),i}async function iK(){const e=Math.random().toString(36).substring(7);sessionStorage.setItem("oauth_state",e);const t=sessionStorage.getItem("currentSession");t&&sessionStorage.setItem("oauth_session_backup",t);const r=await X7(e);window.location.href=r}async function Fj(e){const{organization:t,project:r,workItemType:n,query:i,accessToken:a}=e;if(!a)throw new Error("Not authenticated with Azure DevOps");try{const l=i?`SELECT [System.Id] FROM WorkItems WHERE [System.WorkItemType] = '${n}' AND ${i}`:`SELECT [System.Id] FROM WorkItems WHERE [System.WorkItemType] = '${n}' AND [System.State] = 'Active'`,u=`https://dev.azure.com/${t}/${r}/_apis/wit/wiql?api-version=7.0`,d=await fetch(u,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({query:l})});if(!d.ok)throw new Error(`Azure DevOps query failed: ${d.status} ${d.statusText}`);const h=(await d.json()).workItems.map(x=>x.id);if(h.length===0)return[];const p=h.slice(0,200).join(","),g=["System.Id","System.Title","System.Description","System.Tags","System.WorkItemType","System.State","Microsoft.VSTS.Common.Priority","System.AreaPath","System.IterationPath"].join(","),w=`https://dev.azure.com/${t}/${r}/_apis/wit/workitems?ids=${p}&fields=${g}&api-version=7.0`,S=await fetch(w,{headers:{Authorization:`Bearer ${a}`}});if(!S.ok)throw new Error(`Failed to fetch work items: ${S.status} ${S.statusText}`);return(await S.json()).value.map(x=>({id:x.id,fields:{"System.Title":x.fields["System.Title"],"System.Description":x.fields["System.Description"],"System.Tags":x.fields["System.Tags"],"System.WorkItemType":x.fields["System.WorkItemType"],"System.State":x.fields["System.State"],"Microsoft.VSTS.Common.Priority":x.fields["Microsoft.VSTS.Common.Priority"],"System.AreaPath":x.fields["System.AreaPath"],"System.IterationPath":x.fields["System.IterationPath"]},url:`https://dev.azure.com/${t}/${r}/_workitems/edit/${x.id}`}))}catch(l){throw console.error("Error fetching from Azure DevOps:",l),l}}function zj(e){return e.map(t=>{if(t.fields["System.Tags"]){const r=t.fields["System.Tags"].split(";").map(n=>n.trim());r.length>0&&r[0]}else if(t.fields["System.AreaPath"]){const n=t.fields["System.AreaPath"].split("\\");n.length>1&&n[n.length-1]}return{id:`ado-${t.id}`,title:t.fields["System.Title"]||"Untitled",description:t.fields["System.Description"]||"",epic:t.fields["System.AreaPath"]||null,state:t.fields["System.State"]||null,areaPath:t.fields["System.AreaPath"]||null,tags:t.fields["System.Tags"]?t.fields["System.Tags"].split(";").map(r=>r.trim()).filter(r=>r):[],azureDevOpsId:t.id.toString(),azureDevOpsUrl:t.url}})}function sK({config:e,onConnect:t,onCancel:r,isFetching:n,error:i}){const{register:a,handleSubmit:l,formState:{errors:u}}=tu({defaultValues:{organization:e.organization||"newmill",project:e.project||"Product"}}),d=m=>{t(m.organization,m.project)};return f.jsxs("form",{onSubmit:l(d),className:"bg-blue-50 p-4 rounded-lg",children:[f.jsxs("h3",{className:"text-lg font-medium mb-4 text-[#2d4660] flex items-center",children:[f.jsx(Pv,{className:"h-5 w-5 mr-2"}),"Connect to Azure DevOps"]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization Name *"}),f.jsx("input",{...a("organization",{required:"Organization name is required"}),placeholder:"your-organization",className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),u.organization&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.organization.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Name *"}),f.jsx("input",{...a("project",{required:"Project name is required"}),placeholder:"your-project",className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),u.project&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.project.message})]})]}),i&&f.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-md",children:f.jsxs("p",{className:"flex items-center",children:[f.jsx(It,{className:"h-4 w-4 mr-2"}),i]})}),f.jsxs("div",{className:"flex justify-end space-x-2",children:[f.jsx(at,{variant:"secondary",onClick:r,disabled:n,children:"Cancel"}),f.jsxs(at,{variant:"primary",type:"submit",disabled:n,className:"flex items-center",children:[n&&f.jsx(Zd,{className:"animate-spin h-4 w-4 mr-2"}),n?"Connecting...":"Connect with Azure DevOps"]})]})]})}function Kc({options:e,value:t,onChange:r,placeholder:n="Select...",label:i,searchable:a=!1}){const[l,u]=j.useState(!1),[d,m]=j.useState(""),h=j.useRef(null),p=j.useRef(null);j.useEffect(()=>{function x(k){h.current&&!h.current.contains(k.target)&&(u(!1),m(""))}return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]),j.useEffect(()=>{l&&a&&p.current&&p.current.focus()},[l,a]);const g=x=>{t.includes(x)?r(t.filter(k=>k!==x)):r([...t,x])},w=(x,k)=>{k.stopPropagation(),r(t.filter(E=>E!==x))},S=x=>{x.stopPropagation(),r([])},b=a&&d?e.filter(x=>x.toLowerCase().includes(d.toLowerCase())):e;return f.jsxs("div",{ref:h,className:"relative",children:[i&&f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i}),f.jsxs("div",{onClick:()=>u(!l),className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-white cursor-pointer min-h-[38px] flex items-center justify-between",children:[f.jsx("div",{className:"flex-1 flex flex-wrap gap-1",children:t.length===0?f.jsx("span",{className:"text-gray-400 text-sm",children:n}):t.map(x=>f.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:[x,f.jsx("button",{type:"button",onClick:k=>w(x,k),className:"ml-1 hover:text-blue-900",children:f.jsx(fs,{className:"h-3 w-3"})})]},x))}),f.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[t.length>0&&f.jsx("button",{type:"button",onClick:S,className:"text-gray-400 hover:text-gray-600",children:f.jsx(fs,{className:"h-4 w-4"})}),f.jsx(Ik,{className:`h-4 w-4 text-gray-400 transition-transform ${l?"transform rotate-180":""}`})]})]}),l&&f.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-hidden flex flex-col",children:[a&&f.jsx("div",{className:"p-2 border-b border-gray-200",children:f.jsx("input",{ref:p,type:"text",value:d,onChange:x=>m(x.target.value),onClick:x=>x.stopPropagation(),placeholder:"Type to search...",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),f.jsx("div",{className:"overflow-y-auto",children:b.length>0?b.map(x=>f.jsxs("div",{onClick:()=>g(x),className:`px-3 py-2 cursor-pointer hover:bg-gray-50 flex items-center justify-between ${t.includes(x)?"bg-blue-50":""}`,children:[f.jsx("span",{className:"text-sm",children:x}),t.includes(x)&&f.jsx(fn,{className:"h-4 w-4 text-blue-600"})]},x)):f.jsx("div",{className:"px-3 py-2 text-sm text-gray-500 text-center",children:"No matches found"})})]})]})}function aK({config:e,onUpdateConfig:t,onPreview:r,isFetching:n,availableStates:i,availableAreaPaths:a,availableTags:l,onFetchStatesForType:u}){const[d,m]=j.useState(!1),{register:h,handleSubmit:p,watch:g,control:w}=tu({defaultValues:{workItemTypes:e.workItemType?[e.workItemType]:["Feature"],states:e.states||[],areaPaths:e.areaPath?[e.areaPath]:[],tags:e.tags||[],query:e.query||""}}),S=g("workItemTypes");j.useEffect(()=>{u&&S&&S.length>0&&u(S[0])},[S,u]);const b=async x=>{const k=[];if(x.workItemTypes&&x.workItemTypes.length>0)if(x.workItemTypes.length===1)k.push(`[System.WorkItemType] = '${x.workItemTypes[0]}'`);else{const P=x.workItemTypes.map(O=>`'${O}'`).join(", ");k.push(`[System.WorkItemType] IN (${P})`)}if(x.states&&x.states.length>0)if(x.states.length===1)k.push(`[System.State] = '${x.states[0]}'`);else{const P=x.states.map(O=>`'${O}'`).join(", ");k.push(`[System.State] IN (${P})`)}if(x.areaPaths&&x.areaPaths.length>0)if(x.areaPaths.length===1)k.push(`[System.AreaPath] UNDER '${x.areaPaths[0]}'`);else{const P=x.areaPaths.map(O=>`[System.AreaPath] UNDER '${O}'`);k.push(`(${P.join(" OR ")})`)}if(x.tags&&x.tags.length>0){const P=x.tags.map(O=>`[System.Tags] CONTAINS '${O}'`);k.push(`(${P.join(" OR ")})`)}d&&x.query&&k.push(`(${x.query})`);const E=k.length>0?k.join(" AND "):void 0,N={...e,workItemType:x.workItemTypes&&x.workItemTypes.length>0?x.workItemTypes[0]:"Feature",query:E,states:x.states&&x.states.length>0?x.states:void 0,areaPath:x.areaPaths&&x.areaPaths.length>0?x.areaPaths[0]:void 0,tags:x.tags&&x.tags.length>0?x.tags:void 0};t(N),await r()};return f.jsxs("form",{onSubmit:p(b),className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("h3",{className:"text-lg font-medium text-[#2d4660] flex items-center",children:[f.jsx(t4,{className:"h-5 w-5 mr-2"}),"Filter Work Items"]}),f.jsx("button",{type:"button",onClick:()=>m(!d),className:"text-xs text-blue-600 hover:text-blue-800 font-medium",children:d?" Hide Advanced WIQL":"Show Advanced WIQL "})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[f.jsxs("div",{children:[f.jsx(Pc,{name:"workItemTypes",control:w,render:({field:x})=>f.jsx(Kc,{label:"Work Item Type",options:["Feature","User Story","Product Backlog Item","Epic","Issue"],value:x.value,onChange:x.onChange,placeholder:"Select types..."})}),f.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Click to select multiple types"})]}),i.length>0&&f.jsxs("div",{children:[f.jsx(Pc,{name:"states",control:w,render:({field:x})=>f.jsx(Kc,{label:"State (Optional)",options:i,value:x.value,onChange:x.onChange,placeholder:"Select states..."})}),f.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Click to select multiple states"})]}),a.length>0&&f.jsxs("div",{children:[f.jsx(Pc,{name:"areaPaths",control:w,render:({field:x})=>f.jsx(Kc,{label:"Area Path (Optional)",options:a,value:x.value,onChange:x.onChange,placeholder:"Select area paths...",searchable:!0})}),f.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Type to search and select paths"})]}),l.length>0&&f.jsxs("div",{children:[f.jsx(Pc,{name:"tags",control:w,render:({field:x})=>f.jsx(Kc,{label:"Tags (Optional)",options:l,value:x.value,onChange:x.onChange,placeholder:"Select tags...",searchable:!0})}),f.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Type to search and select tags"})]})]}),d&&f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Advanced WIQL Query (Optional)"}),f.jsx("input",{...h("query"),placeholder:"e.g., [System.Priority] = 1",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"}),f.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Will be combined with above filters using AND."," ",f.jsx("a",{href:"https://learn.microsoft.com/en-us/azure/devops/boards/queries/wiql-syntax",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:"WIQL syntax reference "})]})]}),f.jsx("div",{className:"flex justify-end",children:f.jsxs(at,{variant:"gold",type:"submit",disabled:n,className:"flex items-center",children:[n&&f.jsx(Zd,{className:"animate-spin h-4 w-4 mr-2"}),n?"Loading...":"Preview Features"]})})]})}function oK({session:e,featureCount:t,onSubmit:r,onCancel:n}){const{register:i,handleSubmit:a,watch:l,formState:{errors:u}}=tu({defaultValues:{title:e.title,goal:e.goal,startDate:e.startDate.split("T")[0],endDate:e.endDate.split("T")[0],useAutoVotes:e.useAutoVotes||!1,votesPerUser:e.votesPerUser}}),d=l("useAutoVotes"),m=d?Math.max(1,Math.floor(t/2)):l("votesPerUser");return f.jsxs("form",{onSubmit:a(r),children:[f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Session Title"}),f.jsx("input",{...i("title",{required:"Title is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),u.title&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.title.message})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Goal"}),f.jsx("textarea",{...i("goal",{required:"Goal is required"}),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),u.goal&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.goal.message})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),f.jsx("input",{type:"date",...i("startDate",{required:"Start date is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),u.startDate&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.startDate.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),f.jsx("input",{type:"date",...i("endDate",{required:"End date is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),u.endDate&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.endDate.message})]})]}),f.jsxs("div",{className:"mb-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[f.jsxs("div",{className:"flex items-start",children:[f.jsx("input",{type:"checkbox",...i("useAutoVotes"),className:"mt-1 h-4 w-4 text-blue-600 border-gray-300 rounded"}),f.jsxs("div",{className:"ml-3",children:[f.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Automatically calculate votes per user"}),f.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Each user gets half the number of features (minimum 1 vote). Currently: ",m," votes"]})]})]}),!d&&f.jsxs("div",{className:"mt-3",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Votes Per User"}),f.jsx("input",{type:"number",min:"1",...i("votesPerUser",{required:d?!1:"Votes per user is required",min:{value:1,message:"Must be at least 1"}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),u.votesPerUser&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.votesPerUser.message})]})]}),f.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[f.jsx(at,{variant:"secondary",type:"button",onClick:n,children:"Cancel"}),f.jsx(at,{variant:"primary",type:"submit",children:"Save Changes"})]})]})}function lK({features:e,onAddFeature:t,onUpdateFeature:r,onDeleteFeature:n,onShowResults:i,showAddForm:a,setShowAddForm:l,editingFeature:u,setEditingFeature:d,onLogout:m,votingSession:h,azureDevOpsConfig:p,onUpdateAzureDevOpsConfig:g,showAzureDevOpsForm:w,setShowAzureDevOpsForm:S,onFetchAzureDevOpsFeatures:b,onPreviewAzureDevOpsFeatures:x,onDisconnectAzureDevOps:k,isFetchingAzureDevOps:E,azureFetchError:N,onInitiateOAuth:P,availableStates:O,availableAreaPaths:T,availableTags:L,previewFeatures:H,showPreviewModal:V,setShowPreviewModal:F,onConfirmSync:B,hasImportedFeatures:U,setHasImportedFeatures:Q,onShowVoterView:G,onUpdateVotingSession:he,onFetchStatesForType:we}){const pe=gn(),{currentUser:Z}=Oi(),[re,se]=j.useState(!1),[M,I]=j.useState(!1),{register:ee,handleSubmit:be,reset:de}=tu({defaultValues:{reason:"",details:""}});m0(h.endDate);const je=h.isActive?f.jsx("span",{className:"text-[#1E5461] font-medium",children:"Active"}):ra(h.endDate)?f.jsx("span",{className:"text-[#591D0F] font-medium",children:"Closed"}):f.jsx("span",{className:"text-[#C89212] font-medium",children:"Upcoming"}),Me=te=>{const X={title:te.title,goal:te.goal,votesPerUser:te.useAutoVotes?Math.max(1,Math.floor(e.length/2)):Number(te.votesPerUser),useAutoVotes:te.useAutoVotes,startDate:new Date(te.startDate).toISOString(),endDate:new Date(te.endDate+"T23:59:59").toISOString(),isActive:h.isActive};he(X),se(!1)},qe=te=>{const X=new Date().toISOString(),Ye={...h,originalEndDate:h.endDate,endDate:X,isActive:!1,endedEarlyBy:(Z==null?void 0:Z.name)||"Admin",endedEarlyReason:te.reason,endedEarlyDetails:te.details||void 0};he(Ye),I(!1),de()},oe=()=>{const te=new Date;te.setDate(te.getDate()+7);const X={...h,endDate:te.toISOString(),isActive:!0,originalEndDate:void 0,endedEarlyBy:void 0,endedEarlyReason:void 0,endedEarlyDetails:void 0};he(X)},Ae=(te,X)=>{const Ye={...p,organization:te,project:X};g(Ye),P()};return f.jsxs("div",{className:"container mx-auto p-4 max-w-6xl min-h-screen pb-8",children:[f.jsx("div",{className:"hidden md:flex md:justify-center mb-2 cursor-pointer",onClick:()=>pe("/sessions"),children:f.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"-mt-4",style:{height:"96px",width:"auto"}})}),f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(Tf,{src:"https://media.licdn.com/dms/image/C4D0BAQEC3OhRqehrKg/company-logo_200_200/0/1630518354793/new_millennium_building_systems_logo?e=2147483647&v=beta&t=LM3sJTmQZet5NshZ-RNHXW1MMG9xSi1asp-VUeSA9NA",alt:"New Millennium Building Systems Logo",className:"mr-4 md:hidden",style:{width:"40px",height:"40px"}}),f.jsx("h1",{className:"text-2xl font-bold text-[#2d4660] md:text-3xl",children:"Admin Dashboard"})]}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsxs("button",{onClick:G,className:"flex items-center px-4 py-2 bg-[#5A7C8C] text-white rounded-lg hover:bg-[#4A6C7C] transition-colors",children:[f.jsx(Tr,{className:"mr-2 h-4 w-4"}),f.jsx("span",{className:"hidden md:inline",children:"Voter View"})]}),f.jsxs("button",{onClick:()=>pe("/manage-stakeholders"),className:"flex items-center px-4 py-2 bg-[#2d4660] text-white rounded-lg hover:bg-[#173B65] transition-colors",children:[f.jsx(no,{className:"mr-2 h-4 w-4"}),f.jsx("span",{className:"hidden md:inline",children:"Stakeholders"})]}),f.jsxs("button",{onClick:()=>pe("/manage-admins"),className:"flex items-center px-4 py-2 bg-[#2d4660] text-white rounded-lg hover:bg-[#173B65] transition-colors",children:[f.jsx(Ov,{className:"mr-2 h-4 w-4"}),f.jsx("span",{className:"hidden md:inline",children:"Session Admins"})]}),f.jsxs("button",{onClick:m,className:"flex items-center px-4 py-2 bg-[#576C71] text-white rounded-lg hover:bg-[#1E5461] transition-colors",children:[f.jsx(jr,{className:"mr-2 h-4 w-4"}),f.jsx("span",{className:"hidden md:inline",children:"Logout"})]})]})]}),f.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-md p-4 mb-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h2",{className:"text-xl font-semibold text-[#2d4660]",children:"Current Session"}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsxs(at,{variant:"gold",onClick:i,className:"flex items-center",children:[f.jsx(Tk,{className:"h-4 w-4 mr-2"}),ra(h.endDate)?"Final Results":"Current Results"]}),f.jsxs(at,{variant:"primary",onClick:()=>se(!0),className:"flex items-center",children:[f.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Edit Session"]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Session Title"}),f.jsx("p",{className:"text-[#2d4660] font-medium",children:h.title})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Voting Period"}),f.jsxs("p",{className:`text-[#2d4660] font-medium ${h.originalEndDate?"line-through text-gray-400":""}`,children:[ta(h.startDate)," - ",ta(h.originalEndDate||h.endDate)]}),h.originalEndDate&&h.endedEarlyBy&&f.jsxs("div",{className:"flex items-center mt-1 text-xs text-red-600",children:[f.jsxs("span",{children:["Ended Early by ",h.endedEarlyBy]}),h.endedEarlyReason&&f.jsxs("div",{className:"group relative ml-1",children:[f.jsx(It,{className:"h-3 w-3 cursor-help"}),f.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 whitespace-nowrap z-10 pointer-events-none max-w-xs",children:[f.jsxs("div",{className:"font-semibold mb-1",children:["Reason: ",h.endedEarlyReason]}),h.endedEarlyDetails&&f.jsx("div",{className:"whitespace-normal",children:h.endedEarlyDetails}),f.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-1 border-4 border-transparent border-t-gray-900"})]})]})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Votes Per User"}),f.jsx("p",{className:"text-[#2d4660] font-medium",children:h.useAutoVotes?`${Math.max(1,Math.floor(e.length/2))} (Auto: ${e.length} features  2)`:h.votesPerUser})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Status"}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(Qd,{className:"h-4 w-4 mr-1 text-gray-600"}),je]}),(h.isActive||ra(h.endDate))&&f.jsx(at,{variant:h.isActive?"danger":"primary",onClick:()=>{h.isActive?I(!0):oe()},className:"text-xs px-2 py-1 ml-2",children:h.isActive?"End Early":"Reopen"})]})]})]}),f.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[f.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Goal"}),f.jsx("p",{className:"text-[#2d4660]",children:h.goal})]})]}),f.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-md p-4 mb-6",children:[f.jsx("div",{className:"flex items-center justify-between mb-4",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx(Pv,{className:"h-5 w-5 text-[#2d4660] mr-2"}),f.jsx("h2",{className:"text-xl font-semibold text-[#2d4660]",children:"Azure DevOps Integration"})]})}),p.enabled?f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(fn,{className:"h-5 w-5 text-green-600 mr-2"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-green-900",children:"Connected to Azure DevOps"}),f.jsxs("p",{className:"text-sm text-green-700 mt-1",children:[f.jsx("span",{className:"font-medium",children:"Organization:"})," ",p.organization,f.jsx("span",{className:"mx-2",children:""}),f.jsx("span",{className:"font-medium",children:"Project:"})," ",p.project,p.lastSyncTime&&f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"mx-2",children:""}),f.jsx("span",{className:"font-medium",children:"Last Sync:"})," ",ta(p.lastSyncTime)]})]})]})]}),f.jsxs("button",{onClick:k,className:"text-sm text-red-600 hover:text-red-800 font-medium flex items-center",children:[f.jsx(fs,{className:"h-4 w-4 mr-1"}),"Disconnect"]})]})}),f.jsx(aK,{config:p,onUpdateConfig:g,onPreview:x,isFetching:E,availableStates:O,availableAreaPaths:T,availableTags:L,onFetchStatesForType:we})]}):w?f.jsx(sK,{config:p,onConnect:Ae,onCancel:()=>S(!1),isFetching:E,error:N}):f.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 text-center border border-dashed border-gray-300",children:[f.jsx(Pv,{className:"h-10 w-10 text-gray-400 mx-auto mb-3"}),f.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"Not Connected"}),f.jsx("p",{className:"text-gray-600 mb-4",children:"Connect to Azure DevOps to import work items as features for voting."}),f.jsxs(at,{variant:"primary",onClick:()=>S(!0),className:"inline-flex items-center",children:[f.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Connect to Azure DevOps"]})]})]}),f.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-md p-4 mb-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h2",{className:"text-xl font-semibold text-[#2d4660]",children:"Feature Management"}),f.jsxs(at,{variant:"gold",onClick:()=>l(!0),className:"flex items-center w-44",children:[f.jsx(Cl,{className:"mr-2 h-4 w-4"}),"Add Feature"]})]}),f.jsx("div",{className:"w-full overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200 table-fixed",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{scope:"col",className:"w-[20%] px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),f.jsx("th",{scope:"col",className:"hidden lg:table-cell w-[25%] px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),f.jsx("th",{scope:"col",className:"hidden md:table-cell w-[10%] px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Epic"}),f.jsx("th",{scope:"col",className:"hidden md:table-cell w-[8%] px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"State"}),f.jsx("th",{scope:"col",className:"hidden lg:table-cell w-[12%] px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Area Path"}),f.jsx("th",{scope:"col",className:"hidden xl:table-cell w-[10%] px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tags"}),f.jsx("th",{scope:"col",className:"w-[8%] px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Votes"}),f.jsx("th",{scope:"col",className:"w-[7%] px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(te=>f.jsxs("tr",{className:"align-top group",children:[f.jsx("td",{className:"px-4 py-4 whitespace-normal break-words text-sm font-medium text-left",children:f.jsxs("div",{className:"max-w-xs overflow-hidden text-left",children:[te.title,te.azureDevOpsId&&f.jsx("div",{className:"mt-1",children:f.jsx(Hd,{id:te.azureDevOpsId,url:te.azureDevOpsUrl||""})})]})}),f.jsx("td",{className:"hidden lg:table-cell px-4 py-4 text-sm text-gray-500 text-left",children:f.jsx("div",{className:"max-w-md overflow-hidden break-words text-left",children:te.description||f.jsx("span",{className:"italic text-gray-400",children:"No description provided"})})}),f.jsx("td",{className:"hidden md:table-cell px-4 py-4 whitespace-nowrap text-sm",children:te.epic&&f.jsx(Kd,{name:te.epic})}),f.jsx("td",{className:"hidden md:table-cell px-4 py-4 whitespace-nowrap text-sm",children:te.state&&f.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:te.state})}),f.jsx("td",{className:"hidden lg:table-cell px-4 py-4 text-sm text-gray-600",children:f.jsx("div",{className:"max-w-xs truncate",children:te.areaPath||"-"})}),f.jsx("td",{className:"hidden xl:table-cell px-4 py-4 text-sm",children:te.tags&&te.tags.length>0?f.jsxs("div",{className:"flex flex-wrap gap-1",children:[te.tags.slice(0,3).map((X,Ye)=>f.jsx("span",{className:"px-2 py-0.5 text-xs bg-gray-100 text-gray-700 rounded",children:X},Ye)),te.tags.length>3&&f.jsxs("span",{className:"px-2 py-0.5 text-xs text-gray-500",children:["+",te.tags.length-3]})]}):f.jsx("span",{className:"text-gray-400",children:"-"})}),f.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:te.votes}),f.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500 space-x-3 md:opacity-0 md:group-hover:opacity-100 transition-opacity",children:[f.jsx("button",{onClick:()=>d(te),className:"text-[#2d4660] hover:text-[#C89212] inline-block cursor-pointer",title:"Edit Feature",children:f.jsx(g4,{className:"h-5 w-5"})}),f.jsx("button",{onClick:()=>n(te.id),className:"text-[#2d4660] hover:text-[#591D0F] inline-block cursor-pointer",title:"Delete Feature",children:f.jsx(bo,{className:"h-5 w-5"})})]})]},te.id))})]})})]}),f.jsx(jl,{isOpen:a,onClose:()=>l(!1),title:"Add New Feature",children:f.jsx(Bj,{onSubmit:te=>{t(te),l(!1)},onCancel:()=>l(!1)})}),f.jsx(jl,{isOpen:u!==null,onClose:()=>d(null),title:"Edit Feature",children:u&&f.jsx(Bj,{feature:u,onSubmit:te=>{r({...u,...te}),d(null)},onCancel:()=>d(null)})}),f.jsx(jl,{isOpen:re,onClose:()=>se(!1),title:"Edit Session Settings",children:f.jsx(oK,{session:h,featureCount:e.length,onSubmit:Me,onCancel:()=>se(!1)})}),f.jsx(jl,{isOpen:V,onClose:()=>F(!1),title:"Preview Azure DevOps Features",maxWidth:"max-w-4xl",children:f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:"text-gray-600",children:"Review the features that will be synced from Azure DevOps. Choose an action:"}),f.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm",children:[f.jsxs("p",{className:"text-blue-800",children:[f.jsx("strong",{children:"Add Features:"})," Merge with existing features (updates matching Azure DevOps IDs)"]}),f.jsxs("p",{className:"text-blue-800 mt-1",children:[f.jsx("strong",{children:"Replace All:"})," Delete all existing features and add only these Azure DevOps features"]})]}),H&&H.length>0?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:f.jsxs("p",{className:"text-blue-800 font-medium",children:["Found ",H.length," work item",H.length!==1?"s":""," to sync"]})}),f.jsx("div",{className:"max-h-96 overflow-y-auto border border-gray-200 rounded-lg",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50 sticky top-0",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"ID"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Title"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Epic"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"State"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Area Path"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tags"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:H.map(te=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-4 py-3 text-sm",children:te.azureDevOpsId&&f.jsx(Hd,{id:te.azureDevOpsId,url:te.azureDevOpsUrl||""})}),f.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:te.title}),f.jsx("td",{className:"px-4 py-3 text-sm",children:te.epic&&f.jsx(Kd,{name:te.epic})}),f.jsx("td",{className:"px-4 py-3 text-sm",children:te.state&&f.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:te.state})}),f.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:f.jsx("div",{className:"max-w-xs truncate",children:te.areaPath||"-"})}),f.jsx("td",{className:"px-4 py-3 text-sm",children:te.tags&&te.tags.length>0?f.jsxs("div",{className:"flex flex-wrap gap-1",children:[te.tags.slice(0,2).map((X,Ye)=>f.jsx("span",{className:"px-2 py-0.5 text-xs bg-gray-100 text-gray-700 rounded",children:X},Ye)),te.tags.length>2&&f.jsxs("span",{className:"px-2 py-0.5 text-xs text-gray-500",children:["+",te.tags.length-2]})]}):f.jsx("span",{className:"text-gray-400",children:"-"})})]},te.id))})]})}),f.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:[f.jsx(at,{variant:"secondary",onClick:()=>F(!1),children:"Cancel"}),f.jsxs(at,{variant:"primary",onClick:async()=>{await B(!1),F(!1)},className:"flex items-center",children:[f.jsx(Cl,{className:"h-4 w-4 mr-2"}),"Add ",H.length," Feature",H.length!==1?"s":""]}),f.jsxs(at,{variant:"danger",onClick:async()=>{await B(!0),F(!1)},className:"flex items-center",children:[f.jsx(Zd,{className:"h-4 w-4 mr-2"}),"Replace All Features"]})]})]}):f.jsxs("div",{className:"text-center py-8",children:[f.jsx(It,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),f.jsx("p",{className:"text-gray-600",children:"No features found to sync"})]})]})}),f.jsx(jl,{isOpen:M,onClose:()=>{I(!1),de()},title:"End Session Early",children:f.jsxs("form",{onSubmit:be(qe),className:"space-y-4",children:[f.jsx("p",{className:"text-gray-600",children:"You are about to end this voting session early. Please select a reason:"}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason *"}),f.jsxs("select",{...ee("reason",{required:"Please select a reason"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent",children:[f.jsx("option",{value:"",children:"Select a reason..."}),f.jsx("option",{value:"Sufficient Responses",children:"Sufficient responses received"}),f.jsx("option",{value:"Project Cancelled",children:"Project or initiative cancelled"}),f.jsx("option",{value:"Timeline Changed",children:"Timeline or priorities changed"}),f.jsx("option",{value:"Technical Issues",children:"Technical issues or data concerns"}),f.jsx("option",{value:"Stakeholder Request",children:"Stakeholder request"}),f.jsx("option",{value:"Low Participation",children:"Low participation rate"}),f.jsx("option",{value:"Other",children:"Other"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Details (Optional)"}),f.jsx("textarea",{...ee("details"),rows:3,placeholder:"Add any additional context or notes...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent"})]}),f.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 text-sm text-yellow-800",children:[f.jsx("p",{className:"font-medium mb-1",children:"Note:"}),f.jsx("p",{children:"Ending the session will close voting immediately. This action will be logged and visible to all admins."})]}),f.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[f.jsx(at,{variant:"secondary",type:"button",onClick:()=>{I(!1),de()},children:"Cancel"}),f.jsx(at,{variant:"danger",type:"submit",children:"End Session Now"})]})]})})]})}const Uj=["User Experience","Vendor Management","Analytics & Reporting","Operational Efficiency","Compliance & Risk","Mobile Access","Integration","Sustainability","Budget Management"],uK={title:"Q2 Product Roadmap",goal:"Prioritize features for the Purchasing Dashboard redesign",votesPerUser:10,useAutoVotes:!0,startDate:new Date().toISOString(),endDate:new Date(Date.now()+10080*60*1e3).toISOString(),isActive:!0},cK={organization:"newmill",project:"Product",enabled:!1,workItemType:"Feature"},dK=[{id:"u1",name:"John Doe",email:"john@example.com",totalVotes:10,usedVotes:0,votesPerFeature:{}},{id:"u2",name:"Jane Smith",email:"jane@example.com",totalVotes:10,usedVotes:0,votesPerFeature:{}},{id:"u3",name:"Robert Johnson",email:"robert@example.com",totalVotes:10,usedVotes:0,votesPerFeature:{}}],ta=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),m0=e=>{const t=new Date(e),r=new Date;t.setHours(0,0,0,0),r.setHours(0,0,0,0);const n=t.getTime()-r.getTime();return Math.ceil(n/(1e3*60*60*24))},fO=e=>e<=0?"text-[#591D0F]":e<=2?"text-[#6A4234]":e<=4?"text-[#C89212]":"text-[#1E5461]",hO=e=>e<=0?"bg-[#591D0F]/10":e<=2?"bg-[#6A4234]/10":e<=4?"bg-[#C89212]/10":"bg-[#1E5461]/10",ra=e=>new Date(e)<new Date,fK=(e,t)=>{const r=new Date(e),n=new Date(t),i=new Date;return r<=i&&i<=n},hK=e=>{const t=[...e];for(let r=t.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1));[t[r],t[n]]=[t[n],t[r]]}return t},Qc=(e,t)=>e?e.length>t?`${e.substring(0,t-3)}...`:e:"",hv=e=>{if(!e)return"";const t=document.createElement("div");t.innerHTML=e;let r=t.textContent||t.innerText||"";return r=r.replace(/\s+/g," ").trim(),r},mK=e=>{const t=e.split("");for(let r=0;r<3;r++){const n=Math.floor(Math.random()*t.length),i=Math.floor(Math.random()*t.length);n!==i&&([t[n],t[i]]=[t[i],t[n]])}return t.join("")};function Tf({src:e,alt:t,style:r,className:n,...i}){const[a,l]=j.useState(!1);return a?f.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${n??""}`,style:r,children:f.jsx("div",{className:"flex items-center justify-center w-full h-full",children:f.jsx("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==",alt:"Error loading image",...i,"data-original-url":e})})}):f.jsx("img",{src:e,alt:t,className:n,style:r,...i,onError:()=>l(!0)})}const at=Ve.memo(function({children:t,onClick:r,variant:n="primary",disabled:i=!1,className:a="",...l}){const u="py-2 px-4 rounded-lg flex items-center transition-colors cursor-pointer",d={primary:"bg-[#2d4660] text-white hover:bg-[#173B65]",secondary:"border border-gray-300 text-gray-700 hover:bg-gray-50",danger:"bg-[#591D0F] text-white hover:bg-[#492434]",gold:"bg-[#C89212] text-white hover:bg-[#A67810]",blue:"bg-[#173B65] text-white hover:bg-[#1D2C49]",gray:"bg-[#576C71] text-white hover:bg-[#1E5461]"};return f.jsx("button",{onClick:r,disabled:i,className:`${u} ${d[n]} ${i?"opacity-60 cursor-not-allowed":""} ${a}`,...l,children:t})});class jl extends j.Component{render(){const{isOpen:t,onClose:r,title:n,children:i,maxWidth:a="max-w-2xl"}=this.props;return t?f.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:f.jsxs("div",{className:"flex items-center justify-center min-h-screen p-4 text-center",children:[f.jsx("div",{className:"fixed inset-0 transition-opacity bg-black/50",onClick:r,"aria-hidden":"true"}),f.jsxs("div",{className:`inline-block w-full ${a} p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg`,children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h3",{className:"text-lg font-medium text-[#2d4660]",children:n}),f.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:f.jsx(fs,{className:"h-5 w-5"})})]}),f.jsx("div",{className:"mt-2",children:i})]})]})}):null}}const Kd=Ve.memo(function({name:t}){return t?f.jsxs("div",{className:"flex items-center text-xs text-[#2d4660]",children:[f.jsx(x4,{className:"h-3 w-3 mr-1 text-[#2d4660]"}),f.jsx("span",{className:"font-medium",children:Qc(t,30)})]}):null}),Hd=Ve.memo(function({id:t,url:r}){return t?f.jsxs("a",{href:r,target:"_blank",rel:"noreferrer",className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 hover:bg-blue-200 cursor-pointer",title:"View in Azure DevOps",children:[f.jsx(ZR,{className:"h-3 w-3 mr-1"}),"#",t]}):null}),pK=Ve.memo(function({endDate:t}){const r=m0(t),n=fO(r),i=hO(r);return f.jsx("div",{className:`${i} rounded-md p-3 border ${r<=2?"border-[#6A4234]/20":r<=4?"border-[#C89212]/20":"border-[#1E5461]/20"}`,children:f.jsxs("div",{className:"flex items-center",children:[f.jsx(Gs,{className:`h-5 w-5 mr-2 ${n}`}),f.jsxs("div",{children:[f.jsxs("span",{className:`font-medium ${n}`,children:["Voting ends: ",ta(t)]}),f.jsx("div",{className:"text-sm mt-1",children:r<=0?f.jsx("span",{className:"text-red-600 font-medium",children:"Voting ends today!"}):f.jsxs("span",{className:`${n}`,children:[r," ",r===1?"day":"days"," remaining"]})})]})]})})});function vK({isShuffling:e,onShuffle:t}){const[r,n]=j.useState("Shuffle Features"),i=j.useRef(null);return j.useEffect(()=>(e?i.current=window.setInterval(()=>{n(mK("Shuffle Features"))},100):i.current!==null&&(window.clearInterval(i.current),n("Shuffle Features")),()=>{i.current!==null&&window.clearInterval(i.current)}),[e]),f.jsxs("button",{onClick:t,className:`py-2 px-4 rounded-lg flex items-center transition-all duration-300 ${e?"bg-[#C89212] text-white scale-95":"bg-[#C89212] hover:bg-[#A67810] text-white hover:scale-105"}`,disabled:e,children:[f.jsx("span",{className:`transition-transform duration-500 ${e?"mr-2 animate-spin":"mr-2"}`,children:f.jsx(p4,{className:"h-4 w-4"})}),f.jsx("span",{className:"font-medium tracking-wide whitespace-nowrap",children:r})]})}const bg=Ve.memo(function({show:t,title:r,message:n,onConfirm:i,onCancel:a,confirmText:l="Confirm",cancelText:u="Cancel",type:d="delete"}){if(!t)return null;const m=d==="delete"?"bg-[#591D0F]/10":"bg-[#C89212]/10",h=d==="delete"?"text-[#591D0F]":"text-[#C89212]",p=d==="delete"?"bg-[#591D0F] hover:bg-[#492434]":"bg-[#C89212] hover:bg-[#A67810]";return f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-xl max-w-md w-full mx-auto overflow-hidden",children:[f.jsxs("div",{className:`${m} p-4 flex items-start space-x-4`,children:[f.jsx("div",{className:h,children:d==="delete"?f.jsx(bo,{className:"h-5 w-5"}):f.jsx(It,{className:"h-5 w-5"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-medium text-gray-900",children:r}),f.jsx("p",{className:"mt-1 text-sm text-gray-500",children:n})]})]}),f.jsx("div",{className:"p-4 bg-white space-y-4",children:f.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[f.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 cursor-pointer",children:u}),f.jsx("button",{type:"button",onClick:()=>{i(),a()},className:`px-4 py-2 rounded-md text-sm font-medium text-white ${p} cursor-pointer`,children:l})]})})]})})}),gK=Ve.memo(function({feature:t,userVoteCount:r=0,remainingVotes:n=0,votingIsActive:i=!1,onVote:a,isShuffling:l=!1,shuffleStage:u="idle",currentUser:d,onRequestInfo:m}){const[h,p]=j.useState(!1),[g,w]=j.useState(!1),S=async()=>{if(!(!m||g)){w(!0);try{await m(t.id),p(!0)}catch(x){console.error("Error requesting info:",x)}finally{w(!1)}}},b=()=>{switch(u){case"fadeOut":return"opacity-0 scale-95 blur-sm";case"rearranging":return"opacity-0 scale-90";case"fadeIn":return"opacity-100 scale-100 blur-0";default:return"opacity-100 scale-100 blur-0"}};return f.jsx("div",{className:`relative z-10 bg-white rounded-lg shadow-md overflow-hidden transition-all duration-400 ease-in-out ${r>0?"border-2 border-[#1E5461]":""} ${b()}`,children:f.jsxs("div",{className:"p-6 flex flex-col h-full",children:[f.jsx("h3",{className:"text-lg font-semibold mb-2 text-[#2d4660]",children:t.title}),t.description?f.jsx("p",{className:"text-gray-600 mb-4 flex-grow",children:t.description}):f.jsxs("div",{className:"mb-4 flex-grow",children:[f.jsx("p",{className:"text-gray-400 italic mb-3",children:"No description provided"}),d&&m&&f.jsx("div",{className:"transition-all duration-300",children:h?f.jsxs("div",{className:"text-sm px-3 py-2 bg-green-50 text-green-700 rounded-md font-medium flex items-center animate-fadeIn",children:[f.jsx(fn,{className:"h-4 w-4 mr-2 flex-shrink-0"}),f.jsx("span",{children:"Thank you! Your request has been sent."})]}):f.jsxs("button",{onClick:S,disabled:g,className:"text-sm px-3 py-2 bg-blue-50 hover:bg-blue-100 text-[#2d4660] rounded-md font-medium flex items-center transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[f.jsx(It,{className:"h-4 w-4 mr-2 flex-shrink-0"}),f.jsx("span",{children:g?"Sending...":"Ask Product Owner for more info"})]})})]}),f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.epic&&f.jsx(Kd,{name:t.epic}),t.azureDevOpsId&&f.jsx("div",{className:"flex items-center text-xs",children:f.jsx(Hd,{id:t.azureDevOpsId,url:t.azureDevOpsUrl||""})})]}),a&&f.jsx("div",{className:"flex justify-end items-center",children:f.jsx("div",{className:"flex items-center space-x-2",children:r===0?f.jsx("button",{onClick:()=>a(t.id,!0),className:`px-6 py-2.5 rounded-lg text-base font-semibold cursor-pointer transition-colors ${i&&n>0?"bg-[#2d4660] text-white hover:bg-[#C89212]":"bg-gray-300 text-gray-600 cursor-not-allowed"}`,disabled:!i||n<=0,children:"Vote"}):f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>a(t.id,!1),className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-700 cursor-pointer transition-colors","aria-label":"Remove vote",disabled:!i,children:f.jsx(Ik,{className:"h-6 w-6"})}),f.jsx("span",{className:"px-4 py-2 bg-[#1E5461]/10 text-[#1E5461] rounded-full font-semibold text-base min-w-[3rem] text-center",children:r}),f.jsx("button",{onClick:()=>a(t.id,!0),className:`p-2 rounded-full cursor-pointer transition-colors ${i&&n>0?"bg-[#2d4660]/10 hover:bg-[#C89212]/30 text-[#2d4660]":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,disabled:!i||n<=0,"aria-label":"Add vote",children:f.jsx(KR,{className:"h-6 w-6"})})]})})})]})})});function yK({feature:e,onClose:t}){return f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"relative z-10 bg-white rounded-lg p-6 max-w-md w-full max-h-[80vh] overflow-y-auto",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("h3",{className:"text-lg font-medium text-[#2d4660]",children:['Voters for "',e.title,'"']}),f.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 cursor-pointer",children:f.jsx(fs,{className:"h-5 w-5"})})]}),e.voters.length===0?f.jsx("p",{className:"text-gray-500",children:"No votes yet"}):f.jsx("ul",{className:"divide-y divide-gray-200",children:e.voters.map(r=>f.jsxs("li",{className:"py-3 flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-medium",children:r.name}),f.jsx("p",{className:"text-sm text-gray-500",children:r.email})]}),f.jsxs("div",{className:"bg-[#2d4660]/10 text-[#2d4660] rounded-full px-3 py-1",children:[r.voteCount," ",r.voteCount===1?"vote":"votes"]})]},r.userId))})]})})}function xK({features:e,onResetVotes:t,onResetAllVotes:r,onBack:n,showVotersList:i,setShowVotersList:a,votingSession:l,effectiveVotesPerUser:u,onLogout:d}){const[m,h]=j.useState(!1),p=j.useRef(null);j.useEffect(()=>{if(!m)return;const x=k=>{p.current&&!p.current.contains(k.target)&&h(!1)};return document.addEventListener("mousedown",x),document.addEventListener("touchstart",x,{passive:!0}),()=>{document.removeEventListener("mousedown",x),document.removeEventListener("touchstart",x)}},[m]);const g=j.useMemo(()=>[...e].sort((x,k)=>k.votes-x.votes),[e]),w=j.useMemo(()=>g.slice(0,10).map(x=>({name:x.title,votes:x.votes,id:x.id})),[g]),S=m0(l.endDate),b=fO(S);return f.jsxs("div",{className:"container mx-auto p-4 max-w-6xl pb-8",children:[f.jsx("div",{className:"hidden md:flex md:justify-center mb-2",children:f.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"-mt-4",style:{height:"96px",width:"auto"}})}),f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(Tf,{src:"https://media.licdn.com/dms/image/C4D0BAQEC3OhRqehrKg/company-logo_200_200/0/1630518354793/new_millennium_building_systems_logo?e=2147483647&v=beta&t=LM3sJTmQZet5NshZ-RNHXW1MMG9xSi1asp-VUeSA9NA",alt:"New Millennium Building Systems Logo",className:"mr-4 md:hidden",style:{width:"40px",height:"40px"}}),f.jsx("button",{onClick:n,className:"mr-2 p-1 rounded-full hover:bg-gray-200 cursor-pointer",children:f.jsx(Ql,{className:"h-6 w-6"})}),f.jsx("h1",{className:"text-2xl font-bold text-[#2d4660] md:text-3xl",children:ra(l.endDate)?"Final Voting Results":"Current Voting Results"})]}),f.jsxs("div",{ref:p,className:"relative z-40",children:[f.jsxs("div",{className:"hidden md:flex space-x-2",children:[f.jsxs(at,{variant:"primary",onClick:n,className:"flex items-center",children:[f.jsx(Gt,{className:"mr-2 h-4 w-4"}),"Admin Dashboard"]}),f.jsx(at,{variant:"danger",onClick:r,children:"Reset All Votes"}),f.jsxs(at,{variant:"gray",onClick:d,className:"flex items-center",children:[f.jsx(jr,{className:"mr-2 h-4 w-4"}),"Logout"]})]}),f.jsx("div",{className:"flex md:hidden",children:f.jsx("button",{onClick:()=>h(!m),className:"p-2 rounded-md border border-gray-200 bg-white shadow-sm","aria-label":"Open menu",children:f.jsx(yi,{className:"h-5 w-5 text-gray-700"})})}),m&&f.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-lg md:hidden z-50",children:f.jsxs("div",{className:"py-1",children:[f.jsxs("button",{onClick:()=>{h(!1),n()},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[f.jsx(Gt,{className:"h-4 w-4 mr-2 text-gray-700"}),"Admin Dashboard"]}),f.jsxs("button",{onClick:()=>{h(!1),r()},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50 text-red-600",children:[f.jsx(bo,{className:"h-4 w-4 mr-2"}),"Reset All Votes"]}),f.jsxs("button",{onClick:()=>{h(!1),d()},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[f.jsx(jr,{className:"h-4 w-4 mr-2 text-gray-700"}),"Logout"]})]})})]})]}),f.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-md p-4 mb-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h2",{className:"text-xl font-semibold text-[#2d4660]",children:l.title}),f.jsxs("div",{className:"text-sm text-gray-600",children:[f.jsxs("span",{className:"mr-2",children:["Votes per user: ",u]}),l.isActive?f.jsx("span",{className:"text-[#1E5461] font-medium",children:"Voting Active"}):ra(l.endDate)?f.jsx("span",{className:"text-[#591D0F] font-medium",children:"Voting Closed"}):f.jsx("span",{className:"text-[#C89212] font-medium",children:"Voting Upcoming"})]})]}),f.jsx("p",{className:"text-gray-600 mb-4",children:l.goal}),l.isActive&&f.jsx("div",{className:`${hO(S)} relative z-10 rounded-md p-3 mb-4 inline-block border ${S<=2?"border-[#6A4234]/20":S<=4?"border-[#C89212]/20":"border-[#1E5461]/20"}`,children:f.jsxs("div",{className:"flex items-center",children:[f.jsx(Gs,{className:`h-4 w-4 mr-2 ${b}`}),f.jsx("span",{className:`${b} font-medium`,children:S<=0?"Voting ends today!":`${S} ${S===1?"day":"days"} remaining until ${ta(l.endDate)}`})]})}),f.jsx("div",{className:"h-72",children:f.jsx(U8,{width:"100%",height:"100%",children:f.jsxs(Y7,{data:w,margin:{top:20,right:30,left:20,bottom:60},children:[f.jsx(ZP,{dataKey:"name",angle:-45,textAnchor:"end",height:80,tick:{fontSize:12}}),f.jsx(eO,{}),f.jsx(C8,{}),f.jsx(YP,{dataKey:"votes",fill:"#3B82F6",children:w.map((x,k)=>f.jsx(s0,{fill:k%2===0?"#2d4660":"#4f6d8e"},`cell-${k}`))})]})})})]}),f.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-md p-4",children:[f.jsx("h2",{className:"text-xl font-semibold mb-4 text-[#2d4660]",children:"Feature Details"}),f.jsx("div",{className:"w-full overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200 table-fixed",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{scope:"col",className:"w-12 px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rank"}),f.jsx("th",{scope:"col",className:"w-1/2 px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),f.jsx("th",{scope:"col",className:"hidden sm:table-cell w-1/4 px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Epic"}),f.jsx("th",{scope:"col",className:"w-14 px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Votes"}),f.jsx("th",{scope:"col",className:"hidden md:table-cell w-20 px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Voters"}),f.jsx("th",{scope:"col",className:"w-20 px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map((x,k)=>f.jsxs("tr",{className:"align-top group",children:[f.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:k+1}),f.jsxs("td",{className:"px-4 py-4 whitespace-normal break-words text-sm font-medium",children:[x.title,x.azureDevOpsId&&f.jsx("div",{className:"mt-1",children:f.jsx(Hd,{id:x.azureDevOpsId,url:x.azureDevOpsUrl||""})})]}),f.jsx("td",{className:"hidden sm:table-cell px-4 py-4 whitespace-nowrap text-sm",children:x.epic&&f.jsx(Kd,{name:x.epic})}),f.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:x.votes}),f.jsx("td",{className:"hidden md:table-cell px-4 py-4 whitespace-nowrap text-sm",children:f.jsxs("button",{onClick:()=>a(x.id),className:"text-[#2d4660] hover:text-[#C89212] flex items-center cursor-pointer",disabled:x.voters.length===0,children:[f.jsx(no,{className:"h-4 w-4 mr-1"}),x.voters.length," ",x.voters.length===1?"user":"users"]})}),f.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm md:opacity-0 md:group-hover:opacity-100 transition-opacity",children:f.jsx("button",{onClick:()=>t(x.id),className:"text-[#591D0F] hover:text-[#492434] cursor-pointer",disabled:x.votes===0,children:"Reset Votes"})})]},x.id))})]})})]}),i&&f.jsx(yK,{feature:e.find(x=>x.id===i),onClose:()=>a(null)})]})}function wK({navigate:e,votingSession:t}){return f.jsx("div",{className:"relative z-10 flex flex-col items-center justify-center min-h-[80vh] p-6",children:f.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white rounded-lg shadow-lg p-8 text-center",children:[f.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"mx-auto mb-6",style:{maxWidth:"200px",height:"auto"}}),f.jsx("div",{className:"w-20 h-20 bg-[#1E5461]/10 rounded-full flex items-center justify-center mx-auto mb-6",children:f.jsx(fn,{className:"h-12 w-12 text-[#1E5461]"})}),f.jsx("h1",{className:"text-3xl font-bold text-[#1E5461] mb-4",children:"Thank You!"}),f.jsxs("p",{className:"text-gray-700 text-lg mb-6",children:["Your votes for ",f.jsx("span",{className:"font-semibold",children:t.title})," have been submitted successfully."]}),f.jsx("p",{className:"text-gray-600 mb-8",children:"We appreciate your input in helping prioritize features for our product roadmap."}),f.jsx(at,{variant:"primary",onClick:()=>e("/sessions"),className:"mx-auto",children:"View All Voting Sessions"})]})})}function mO({isAdmin:e,viewMode:t="voting",onToggleView:r}){const n=new Date().getFullYear();return f.jsx("footer",{className:"mt-auto bg-gray-50 border-t border-gray-200",children:f.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-6xl",children:[e&&r&&f.jsx("div",{className:"flex justify-center mb-6",children:f.jsxs("div",{className:"inline-flex items-center bg-gray-100 rounded-lg p-1",children:[f.jsxs("button",{onClick:()=>t!=="voting"&&r(),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${t==="voting"?"bg-white text-[#2d4660] shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[f.jsx(Tr,{className:"h-4 w-4 inline mr-2"}),"Voter View"]}),f.jsxs("button",{onClick:()=>t!=="admin"&&r(),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${t==="admin"?"bg-white text-[#2d4660] shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[f.jsx(Gt,{className:"h-4 w-4 inline mr-2"}),"Admin View"]})]})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-sm text-gray-600",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"New Millennium Building Systems"}),f.jsxs("p",{className:"text-xs leading-relaxed",children:["A Steel Dynamics Company",f.jsx("br",{}),"Innovation in structural steel manufacturing"]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Quick Links"}),f.jsxs("ul",{className:"space-y-1 text-xs",children:[f.jsx("li",{children:f.jsx("a",{href:"https://www.steeldynamics.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[#2d4660] transition-colors",children:"Steel Dynamics Inc."})}),f.jsx("li",{children:f.jsx("a",{href:"https://www.newmill.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[#2d4660] transition-colors",children:"New Millennium"})})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Need Help?"}),f.jsx("p",{className:"text-xs",children:"Contact your Product Owner or session administrator for assistance with voting."})]})]}),f.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 text-center text-xs text-gray-500",children:f.jsxs("p",{children:[" ",n," New Millennium Building Systems, LLC. All rights reserved."]})})]})})}function Bj({feature:e,onSubmit:t,onCancel:r}){const{register:n,handleSubmit:i,formState:{errors:a}}=tu({defaultValues:e?{title:e.title,description:e.description,epic:e.epic}:{epic:Uj[0]}});return f.jsxs("form",{onSubmit:i(t),children:[f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),f.jsx("input",{...n("title",{required:"Title is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),a.title&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.title.message})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),f.jsx("textarea",{...n("description",{required:"Description is required"}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),a.description&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.description.message})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Epic"}),f.jsx("select",{...n("epic",{required:"Epic is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-white",children:Uj.map(l=>f.jsx("option",{value:l,children:l},l))}),a.epic&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.epic.message})]}),f.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[f.jsx(at,{variant:"secondary",type:"button",onClick:r,children:"Cancel"}),f.jsxs(at,{variant:"primary",type:"submit",children:[e?"Update":"Add"," Feature"]})]})]})}function bK({currentUser:e,votingSession:t,onChangeVotes:r,onToggleAdmin:n,isAdmin:i,navigate:a,userVotes:l,features:u}){const[d,m]=j.useState(!1),h=Object.values(l).reduce((g,w)=>g+w,0),p=u.filter(g=>l[g.id]>0);return f.jsxs("div",{className:"container mx-auto p-4 max-w-6xl min-h-screen pb-8",children:[f.jsx("div",{className:"hidden md:flex md:justify-center mb-2",children:f.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"-mt-4",style:{height:"96px",width:"auto"}})}),f.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-6",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(Tf,{src:"https://media.licdn.com/dms/image/C4D0BAQEC3OhRqehrKg/company-logo_200_200/0/1630518354793/new_millennium_building_systems_logo?e=2147483647&v=beta&t=LM3sJTmQZet5NshZ-RNHXW1MMG9xSi1asp-VUeSA9NA",alt:"New Millennium Building Systems Logo",className:"mr-4 md:hidden",style:{width:"40px",height:"40px"}}),f.jsx("h1",{className:"text-2xl font-bold text-[#2d4660] md:text-3xl",children:"Feature Voting"})]}),f.jsxs("div",{className:"relative z-10 flex items-center space-x-2 mt-3 md:mt-0 md:justify-end",children:[i&&f.jsxs(at,{variant:"primary",onClick:n,className:"flex items-center",children:[f.jsx(Gt,{className:"mr-2 h-4 w-4"}),f.jsx("span",{className:"hidden md:inline",children:"Admin Dashboard"}),f.jsx("span",{className:"md:hidden",children:"Admin"})]}),f.jsxs(at,{variant:"gray",onClick:()=>a("/sessions"),className:"flex items-center",children:[f.jsx(jr,{className:"mr-2 h-4 w-4"}),f.jsx("span",{className:"hidden md:inline",children:"All Sessions"}),f.jsx("span",{className:"md:hidden",children:"Sessions"})]})]})]}),f.jsx("div",{className:"max-w-3xl mx-auto",children:f.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-lg p-8 text-center",children:[f.jsx("div",{className:"w-20 h-20 bg-[#1E5461]/10 rounded-full flex items-center justify-center mx-auto mb-6",children:f.jsx(fn,{className:"h-12 w-12 text-[#1E5461]"})}),f.jsx("h2",{className:"text-3xl font-bold text-[#1E5461] mb-4",children:"Votes Already Submitted"}),f.jsxs("p",{className:"text-gray-700 text-lg mb-2",children:["Welcome back, ",f.jsx("span",{className:"font-semibold",children:e.name}),"!"]}),f.jsxs("p",{className:"text-gray-600 mb-6",children:["You have already submitted your votes for ",f.jsx("span",{className:"font-semibold",children:t.title}),"."]}),f.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-[#2d4660] mb-4",children:"Your Current Votes"}),f.jsxs("div",{className:"space-y-3",children:[p.map(g=>f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-gray-700",children:g.title}),f.jsxs("span",{className:"bg-[#1E5461]/10 text-[#1E5461] rounded-full px-3 py-1 font-medium",children:[l[g.id]," ",l[g.id]===1?"vote":"votes"]})]},g.id)),f.jsx("div",{className:"border-t border-gray-200 pt-3 mt-3",children:f.jsxs("div",{className:"flex justify-between items-center font-semibold",children:[f.jsx("span",{className:"text-[#2d4660]",children:"Total Votes"}),f.jsx("span",{className:"text-[#2d4660]",children:h})]})})]})]}),f.jsx("div",{className:"bg-[#C89212]/10 border border-[#C89212]/20 rounded-lg p-4 mb-6",children:f.jsxs("div",{className:"flex items-start text-left",children:[f.jsx(Dk,{className:"h-5 w-5 text-[#C89212] mr-3 mt-0.5 flex-shrink-0"}),f.jsx("div",{children:f.jsxs("p",{className:"text-sm text-gray-700",children:["If you'd like to change your votes, you can do so below. However, please note that this will",f.jsx("span",{className:"font-semibold",children:" permanently remove your previous votes"})," and allow you to vote again. This action cannot be undone."]})})]})}),f.jsxs(at,{variant:"gold",onClick:()=>m(!0),className:"mx-auto text-lg py-3 px-8",children:[f.jsx(Zd,{className:"mr-2 h-5 w-5"}),"Change My Votes"]})]})}),f.jsx(bg,{show:d,title:"Change Your Votes?",message:"This will permanently remove all your previous votes for this session and allow you to vote again. This action cannot be undone. Are you sure you want to continue?",onConfirm:r,onCancel:()=>m(!1),confirmText:"Yes, Change My Votes",cancelText:"Cancel",type:"reset"})]})}const _K=Ve.memo(function({features:t,currentUser:r,pendingVotes:n,pendingUsedVotes:i,onVote:a,onSubmitVotes:l,onToggleAdmin:u,isAdmin:d,votingSession:m,navigate:h,effectiveVotesPerUser:p,sessionId:g,onLogout:w}){const[S,b]=j.useState([...t]),[x,k]=j.useState(!1),[E,N]=j.useState("idle"),[P,O]=j.useState(!1),[T,L]=j.useState({}),[H,V]=j.useState(!0),[F,B]=j.useState(!1),U=j.useRef(null);j.useEffect(()=>{if(!F)return;const re=se=>{U.current&&!U.current.contains(se.target)&&B(!1)};return document.addEventListener("mousedown",re),document.addEventListener("touchstart",re,{passive:!0}),()=>{document.removeEventListener("mousedown",re),document.removeEventListener("touchstart",re)}},[F]),j.useEffect(()=>{b([...t])},[t]),j.useEffect(()=>{async function re(){if(!r||!g){V(!1);return}try{const M=(await Vs(g)).filter(I=>I.user_id===r.id);if(M.length>0){const I={};M.forEach(ee=>{I[ee.feature_id]=ee.vote_count}),L(I),O(!0)}else O(!1),L({})}catch(se){console.error("Error checking existing votes:",se),O(!1)}finally{V(!1)}}re()},[r,g]);const Q=j.useCallback(async()=>{if(!(!r||!g))try{await AR(g,r.id),O(!1),L({})}catch(re){console.error("Error changing votes:",re),alert("Failed to reset votes. Please try again.")}},[r,g]),G=j.useCallback(()=>{x||(k(!0),N("fadeOut"),setTimeout(()=>{N("rearranging"),setTimeout(()=>{b(hK(t)),N("fadeIn"),setTimeout(()=>{N("idle"),k(!1)},400)},200)},400))},[t,x]),he=j.useCallback(async re=>{const se=t.find(M=>M.id===re);if(!(!se||!r))try{await TR({session_id:g,feature_id:re,feature_title:se.title,requester_id:r.id,requester_name:r.name,requester_email:r.email,created_at:new Date().toISOString()})}catch(M){throw console.error("Error submitting info request:",M),alert("Failed to submit request. Please try again."),M}},[t,r,g]);if(!r)return null;if(H)return f.jsx("div",{className:"container mx-auto p-4 max-w-6xl min-h-screen flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2d4660] mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600",children:"Loading your voting status..."})]})});if(P)return f.jsx(bK,{currentUser:r,votingSession:m,onChangeVotes:Q,onToggleAdmin:u,isAdmin:d,navigate:h,userVotes:T,features:t});const we=p-i,pe=we===0,Z=m.isActive;return f.jsxs("div",{className:"container mx-auto p-4 max-w-6xl pb-8",children:[f.jsx("div",{className:"hidden md:flex md:justify-center mb-2",children:f.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"-mt-4",style:{height:"96px",width:"auto"}})}),f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(Tf,{src:"https://media.licdn.com/dms/image/C4D0BAQEC3OhRqehrKg/company-logo_200_200/0/1630518354793/new_millennium_building_systems_logo?e=2147483647&v=beta&t=LM3sJTmQZet5NshZ-RNHXW1MMG9xSi1asp-VUeSA9NA",alt:"New Millennium Building Systems Logo",className:"mr-4 md:hidden",style:{width:"40px",height:"40px"}}),f.jsx("h1",{className:"text-2xl font-bold text-[#2d4660] md:text-3xl",children:"Feature Voting"})]}),f.jsxs("div",{ref:U,className:"relative z-40",children:[f.jsxs("div",{className:"hidden md:flex items-center space-x-2",children:[d&&f.jsxs(at,{variant:"primary",onClick:u,className:"flex items-center",children:[f.jsx(Gt,{className:"mr-2 h-4 w-4"}),"Admin Dashboard"]}),f.jsx(at,{variant:"gray",onClick:()=>h("/sessions"),className:"flex items-center",children:"All Sessions"}),f.jsxs(at,{variant:"gray",onClick:w,className:"flex items-center",children:[f.jsx(jr,{className:"mr-2 h-4 w-4"}),"Logout"]})]}),f.jsx("div",{className:"flex md:hidden",children:f.jsx("button",{onClick:()=>B(!F),className:"p-2 rounded-md border border-gray-200 bg-white shadow-sm","aria-label":"Open menu",children:f.jsx(yi,{className:"h-5 w-5 text-gray-700"})})}),F&&f.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-lg md:hidden z-50",children:f.jsxs("div",{className:"py-1",children:[d&&f.jsxs("button",{onClick:()=>{B(!1),u()},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[f.jsx(Gt,{className:"h-4 w-4 mr-2 text-gray-700"}),"Admin Dashboard"]}),f.jsx("button",{onClick:()=>{B(!1),h("/sessions")},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:"All Sessions"}),f.jsxs("button",{onClick:()=>{B(!1),w()},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[f.jsx(jr,{className:"h-4 w-4 mr-2 text-gray-700"}),"Logout"]})]})})]})]}),f.jsx("div",{className:"relative z-10 mb-6 bg-white rounded-lg shadow-md p-4",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("h2",{className:"text-xl font-semibold text-[#2d4660] mb-2",children:m.title}),f.jsx("p",{className:"text-gray-600",children:m.goal})]}),f.jsxs("div",{className:"flex flex-col justify-center",children:[f.jsx(pK,{endDate:m.endDate}),f.jsxs("div",{className:"flex items-center mt-3",children:[f.jsx(Tr,{className:"h-4 w-4 mr-2 text-[#2d4660]"}),f.jsxs("p",{className:"text-gray-700",children:["You have ",f.jsxs("span",{className:"font-bold text-[#2d4660]",children:[we," / ",p]})," votes remaining"]})]})]})]})}),!Z&&f.jsx("div",{className:"mb-6 bg-[#C89212]/10 p-4 rounded-lg border border-[#C89212]/20",children:f.jsxs("div",{className:"flex items-center text-[#6A4234]",children:[f.jsx(Qd,{className:"h-5 w-5 mr-2"}),f.jsxs("span",{className:"font-medium",children:["Voting is currently ",ra(m.endDate)?"closed":"not yet open",".",ra(m.endDate)?` Voting ended on ${ta(m.endDate)}.`:` Voting will open on ${ta(m.startDate)}.`]})]})}),f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h2",{className:"text-xl font-semibold text-[#2d4660]",children:"Available Features"}),t.length>6&&f.jsx(vK,{isShuffling:x,onShuffle:G})]}),f.jsx("div",{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 ${i>0?"mb-32":""}`,children:S.map(re=>{const se=n[re.id]||0;return f.jsx(gK,{feature:re,userVoteCount:se,remainingVotes:we,votingIsActive:Z,onVote:a,isShuffling:x,shuffleStage:E,currentUser:r,onRequestInfo:he},re.id)})}),i>0&&f.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white shadow-lg border-t border-gray-200 p-4",children:f.jsxs("div",{className:"container mx-auto max-w-6xl flex items-center justify-between",children:[f.jsxs("div",{children:[!pe&&f.jsxs("div",{className:"flex items-center",children:[f.jsx(Dk,{className:"h-5 w-5 text-[#C89212] mr-2"}),f.jsxs("span",{className:"text-gray-700",children:["You still have ",f.jsx("span",{className:"font-semibold text-[#C89212]",children:we})," votes remaining."]})]}),pe&&f.jsxs("div",{className:"flex items-center",children:[f.jsx(fn,{className:"h-5 w-5 text-[#1E5461] mr-2"}),f.jsx("span",{className:"text-gray-700",children:"All votes allocated! You can now submit your votes."})]})]}),f.jsx("button",{onClick:l,className:`py-3 px-6 rounded-lg font-medium cursor-pointer ${pe?"bg-[#1E5461] hover:bg-[#173B65] text-white":"bg-gray-300 text-gray-600 cursor-not-allowed"}`,disabled:!pe,children:"Submit Votes"})]})})]})});function mv({defaultVotesPerUser:e=10,adminMode:t=!1,resultsMode:r=!1}){const{currentSession:n,currentUser:i,setCurrentUser:a,setCurrentSession:l}=Oi(),u=gn(),d=async()=>{try{await Ue.auth.signOut()}catch{}try{l(null)}catch{}a(null);try{localStorage.removeItem("voting_system_current_session"),localStorage.removeItem("azureDevOpsAuthInProgress"),sessionStorage.removeItem("oauth_return_path"),sessionStorage.removeItem("oauth_action")}catch{}u("/login",{replace:!0})};j.useEffect(()=>{const ne=new URLSearchParams(window.location.search),ge=ne.has("code")||ne.has("error"),Be=localStorage.getItem("voting_system_current_session");!n&&!ge&&!Be&&u("/sessions")},[n,u]);const m=j.useMemo(()=>{const ne=new URLSearchParams(window.location.search);return ne.has("code")||ne.has("error")},[]),[h,p]=j.useState([]),[g,w]=j.useState(!0),[S,b]=j.useState(dK),[x,k]=j.useState(r?"results":t||m?"admin":"voting"),[E,N]=j.useState(t||m||r),[P,O]=j.useState(null),[T,L]=j.useState(!1),[H,V]=j.useState(null),[F,B]=j.useState(!1),[U,Q]=j.useState({...uK,votesPerUser:e}),[G,he]=j.useState(cK),[we,pe]=j.useState([]),[Z,re]=j.useState([]),[se,M]=j.useState([]),[I,ee]=j.useState(!1),[be,de]=j.useState(null),[je,Me]=j.useState(null),[qe,oe]=j.useState(!1),[Ae,te]=j.useState(!1),[X,Ye]=j.useState({}),[We,Pt]=j.useState(0),[vt,Mt]=j.useState({showReset:!1,showResetAll:!1,targetId:null}),Fn=j.useRef(!1),Mr=j.useMemo(()=>U.useAutoVotes?Math.max(1,Math.floor(h.length/2)):U.votesPerUser,[U.useAutoVotes,U.votesPerUser,h.length]),zn=j.useRef(!1);j.useEffect(()=>{if(zn.current){console.log("OAuth processing already in progress, skipping...");return}(async()=>{const ge=new URLSearchParams(window.location.search),Be=ge.has("code")||ge.has("error");if(Be&&!n){console.log("OAuth callback detected, waiting for session to load..."),localStorage.getItem("voting_system_current_session")&&console.log("Found stored session ID, waiting for SessionContext to restore it...");return}if(localStorage.getItem("azureDevOpsAuthInProgress")&&localStorage.removeItem("azureDevOpsAuthInProgress"),!(!Be||Fn.current)){if(!n){console.log("No session available yet, waiting...");return}zn.current=!0,Fn.current=!0,console.log("Processing OAuth callback with session:",n.id);try{const Ce=await nK();if(Ce){const ke=new Date(Date.now()+Ce.expiresIn*1e3).toISOString(),tr={...G,accessToken:Ce.accessToken,refreshToken:Ce.refreshToken,tokenExpiresAt:ke,enabled:!0,clientId:Yr.clientId,tenantId:Yr.tenantId};await Ha(n.id,tr),he(tr);const Ze=sessionStorage.getItem("oauth_return_path")||"/admin";sessionStorage.removeItem("oauth_return_path"),console.log("OAuth successful, navigating to:",Ze),u(Ze,{replace:!0})}}catch(Ce){console.error("OAuth callback error:",Ce),de("Failed to authenticate with Azure DevOps");const ke="/admin";sessionStorage.removeItem("oauth_return_path"),u(ke,{replace:!0})}finally{zn.current=!1}}})()},[n,u,G]);const ur=j.useCallback(ne=>{localStorage.setItem("azureDevOpsAuthInProgress","true"),ne&&sessionStorage.setItem("oauth_action",ne),sessionStorage.getItem("oauth_return_path")||sessionStorage.setItem("oauth_return_path","/admin"),iK()},[]),D=j.useCallback(async ne=>{if(!ne.accessToken||!ne.refreshToken||!ne.tokenExpiresAt)throw new Error("Not authenticated");if(rK(ne.tokenExpiresAt)){const ge=await Z7(ne.refreshToken),Be=new Date(Date.now()+ge.expiresIn*1e3).toISOString(),Le={...ne,accessToken:ge.accessToken,tokenExpiresAt:Be};return n&&(await Ha(n.id,Le),he(Le)),ge.accessToken}return ne.accessToken},[n]);j.useEffect(()=>{async function ne(){if(n)try{console.log("Loading data from Supabase for session:",n.id),w(!0);const ge=await mi(n.id);console.log(`Loaded ${ge.length} features from database`);const Be=await Vs(n.id),Le=ge.map(ke=>{const Ze=Be.filter(Oe=>Oe.feature_id===ke.id).map(Oe=>({userId:Oe.user_id,name:Oe.user_name,email:Oe.user_email,voteCount:Oe.vote_count})),wt=Ze.reduce((Oe,ii)=>Oe+ii.voteCount,0);return{id:ke.id,title:ke.title,description:ke.description,epic:ke.epic,state:ke.state,areaPath:ke.area_path,tags:ke.tags||[],azureDevOpsId:ke.azure_devops_id,azureDevOpsUrl:ke.azure_devops_url,votes:wt,voters:Ze}});p(Le),console.log("Features with votes loaded:",Le.map(ke=>ke.title)),Q({title:n.title,goal:n.goal,votesPerUser:n.votes_per_user,useAutoVotes:n.use_auto_votes||!1,startDate:n.start_date,endDate:n.end_date,isActive:n.is_active});const Ce=await OR(n.id);he(Ce?{organization:Ce.organization||"newmill",project:Ce.project||"Product",accessToken:Ce.access_token,refreshToken:Ce.refresh_token,tokenExpiresAt:Ce.token_expires_at,tenantId:Ce.tenant_id,clientId:Ce.client_id,enabled:Ce.enabled,workItemType:Ce.work_item_type||"Feature",query:Ce.query,lastSyncTime:Ce.last_sync_time}:{organization:"newmill",project:"Product",enabled:!1,workItemType:"Feature"})}catch(ge){console.error("Error loading data:",ge),p([])}finally{w(!1)}}ne()},[n==null?void 0:n.id]),j.useEffect(()=>{async function ne(){if(G.enabled&&G.accessToken)try{const ge=await D(G),Be={...G,accessToken:ge},[Le,Ce,ke]=await Promise.all([Lj(Be),eK(Be),tK(Be)]);pe(Le),re(Ce),M(ke)}catch(ge){console.error("Error loading filter options:",ge)}else pe([]),re([]),M([])}ne()},[G.enabled,G.accessToken,G.workItemType,D]);const W=j.useCallback(async ne=>{if(!(!G.enabled||!G.accessToken))try{const ge=await D(G),Be={...G,accessToken:ge,workItemType:ne},Le=await Lj(Be);pe(Le)}catch(ge){console.error("Error loading states for work item type:",ge)}},[G,D]);j.useEffect(()=>{const ne=async()=>{const Be=fK(U.startDate,U.endDate);if(U.isActive!==Be){const Le={...U,isActive:Be};Q(Le);try{await Mb({title:Le.title,goal:Le.goal,votes_per_user:Le.votesPerUser,start_date:Le.startDate,end_date:Le.endDate,is_active:Le.isActive})}catch(Ce){console.error("Error updating voting session status:",Ce)}}};ne();const ge=setInterval(ne,6e5);return()=>clearInterval(ge)},[U]),j.useEffect(()=>{document.body.style.overflow="",document.body.style.position="",document.body.style.width=""},[x]),j.useEffect(()=>(document.body.style.overflow="",()=>{document.body.style.overflow=""}),[]);const J=j.useCallback(async(ne=G)=>{if(!ne.organization||!ne.project||!n){de("Organization and project name are required");return}try{ee(!0),de(null);const ge=await D(ne),Be={...ne,accessToken:ge},Le=await Fj(Be),Ce=zj(Le);for(const Oe of Ce){const xn=(await mi(n.id)).find(ws=>ws.azure_devops_id===Oe.azureDevOpsId),Li=hv(Oe.description),cr=Qc(Li,300);xn?await Om(xn.id,{title:Oe.title,description:cr,epic:Oe.epic,state:Oe.state,area_path:Oe.areaPath,tags:Oe.tags,azure_devops_id:Oe.azureDevOpsId,azure_devops_url:Oe.azureDevOpsUrl}):await Pm({session_id:n.id,title:Oe.title,description:cr,epic:Oe.epic,state:Oe.state,area_path:Oe.areaPath,tags:Oe.tags,azure_devops_id:Oe.azureDevOpsId,azure_devops_url:Oe.azureDevOpsUrl})}const ke=await mi(n.id),tr=await Vs(n.id),Ze=ke.map(Oe=>{const xn=tr.filter(cr=>cr.feature_id===Oe.id).map(cr=>({userId:cr.user_id,name:cr.user_name,email:cr.user_email,voteCount:cr.vote_count})),Li=xn.reduce((cr,ws)=>cr+ws.voteCount,0);return{id:Oe.id,title:Oe.title,description:Oe.description,epic:Oe.epic,state:Oe.state,areaPath:Oe.area_path,tags:Oe.tags||[],azureDevOpsId:Oe.azure_devops_id,azureDevOpsUrl:Oe.azure_devops_url,votes:Li,voters:xn}});p(Ze);const wt={...Be,lastSyncTime:new Date().toISOString()};await Ha(n.id,wt),he(wt),B(!1)}catch(ge){console.error("Azure DevOps sync error:",ge),ge instanceof Error&&ge.message==="Not authenticated"?(de("Please authenticate with Azure DevOps"),ur()):de("Failed to fetch features from Azure DevOps. Please try reconnecting.")}finally{ee(!1)}},[G,n,D,ur]),me=j.useCallback(async()=>{if(!G.organization||!G.project){de("Organization and project name are required");return}try{ee(!0),de(null);const ne=await D(G),ge={...G,accessToken:ne},Be=await Fj(ge),Ce=zj(Be).map(ke=>({...ke,description:Qc(hv(ke.description),300)}));Me(Ce),oe(!0)}catch(ne){console.error("Azure DevOps preview error:",ne),ne instanceof Error&&ne.message==="Not authenticated"?(de("Please authenticate with Azure DevOps"),ur()):de("Failed to fetch features from Azure DevOps. Please try reconnecting.")}finally{ee(!1)}},[G,D,ur]),fe=j.useCallback(async(ne=!1)=>{if(!(!je||!n))try{if(ee(!0),ne){const ke=await mi(n.id);for(const tr of ke)await Rb(tr.id)}for(const ke of je){const Ze=(await mi(n.id)).find(ii=>ii.azure_devops_id===ke.azureDevOpsId),wt=hv(ke.description),Oe=Qc(wt,300);Ze?await Om(Ze.id,{title:ke.title,description:Oe,epic:ke.epic,state:ke.state,area_path:ke.areaPath,tags:ke.tags,azure_devops_id:ke.azureDevOpsId,azure_devops_url:ke.azureDevOpsUrl}):await Pm({session_id:n.id,title:ke.title,description:Oe,epic:ke.epic,state:ke.state,area_path:ke.areaPath,tags:ke.tags,azure_devops_id:ke.azureDevOpsId,azure_devops_url:ke.azureDevOpsUrl})}const ge=await mi(n.id),Be=await Vs(n.id),Le=ge.map(ke=>{const Ze=Be.filter(Oe=>Oe.feature_id===ke.id).map(Oe=>({userId:Oe.user_id,name:Oe.user_name,email:Oe.user_email,voteCount:Oe.vote_count})),wt=Ze.reduce((Oe,ii)=>Oe+ii.voteCount,0);return{id:ke.id,title:ke.title,description:ke.description,epic:ke.epic,state:ke.state,areaPath:ke.area_path,tags:ke.tags||[],azureDevOpsId:ke.azure_devops_id,azureDevOpsUrl:ke.azure_devops_url,votes:wt,voters:Ze}});p(Le);const Ce={...G,lastSyncTime:new Date().toISOString()};await Ha(n.id,Ce),he(Ce),te(!0)}catch(ge){console.error("Azure DevOps sync error:",ge),de("Failed to sync features from Azure DevOps.")}finally{ee(!1),Me(null)}},[je,n,G]),ue=j.useCallback(async()=>{if(n)try{const ne={organization:G.organization||"newmill",project:G.project||"Product",workItemType:G.workItemType||"Feature",query:G.query,accessToken:void 0,refreshToken:void 0,tokenExpiresAt:void 0,enabled:!1};await Ha(n.id,ne),he(ne),de(null),te(!1)}catch(ne){console.error("Error disconnecting Azure DevOps:",ne),de("Failed to disconnect from Azure DevOps")}},[G,n]);j.useEffect(()=>{(async()=>{const ge=sessionStorage.getItem("oauth_action");if(ge&&!(!G.enabled||!G.accessToken))try{ge==="preview"?await me():ge==="sync"&&await J()}finally{sessionStorage.removeItem("oauth_action")}})()},[G.enabled,G.accessToken,me,J]);const ye=j.useCallback(()=>{N(!0),k("admin")},[]),Ke=j.useCallback(()=>{N(!1),k("voting")},[]),et=j.useCallback(()=>{x==="voting"?(N(!0),k("admin")):x==="admin"&&(N(!1),k("voting"))},[x]),dt=j.useCallback(async ne=>{if(n)try{const ge=await Pm({session_id:n.id,title:ne.title,description:ne.description,epic:ne.epic});p(Be=>[...Be,{id:ge.id,title:ge.title,description:ge.description,epic:ge.epic,votes:0,voters:[]}]),L(!1)}catch(ge){console.error("Error adding feature:",ge),alert("Failed to add feature")}},[n]),fa=j.useCallback(async ne=>{try{await Om(ne.id,{title:ne.title,description:ne.description,epic:ne.epic}),p(ge=>ge.map(Be=>Be.id===ne.id?ne:Be)),O(null)}catch(ge){console.error("Error updating feature:",ge),alert("Failed to update feature")}},[]),Zn=j.useCallback(async ne=>{try{await Rb(ne),p(ge=>ge.filter(Be=>Be.id!==ne))}catch(ge){console.error("Error deleting feature:",ge),alert("Failed to delete feature")}},[]),ei=j.useCallback(ne=>{Mt({showReset:!0,showResetAll:!1,targetId:ne})},[]),Co=j.useCallback(async()=>{const ne=vt.targetId;if(!(!ne||!n))try{await(void 0)(ne);const ge=await mi(n.id),Be=await Vs(n.id),Le=ge.map(Ce=>{const tr=Be.filter(wt=>wt.feature_id===Ce.id).map(wt=>({userId:wt.user_id,name:wt.user_name,email:wt.user_email,voteCount:wt.vote_count})),Ze=tr.reduce((wt,Oe)=>wt+Oe.voteCount,0);return{id:Ce.id,title:Ce.title,description:Ce.description,epic:Ce.epic,state:Ce.state,areaPath:Ce.area_path,tags:Ce.tags||[],azureDevOpsId:Ce.azure_devops_id,azureDevOpsUrl:Ce.azure_devops_url,votes:Ze,voters:tr}});p(Le)}catch(ge){console.error("Error resetting votes:",ge),alert("Failed to reset votes")}},[vt.targetId,n]),ti=j.useCallback(()=>{Mt({showReset:!1,showResetAll:!0,targetId:null})},[]),xs=j.useCallback(async()=>{if(n)try{await PR(n.id),p(ne=>ne.map(ge=>({...ge,votes:0,voters:[]})))}catch(ne){console.error("Error resetting all votes:",ne),alert("Failed to reset all votes")}},[n]),ri=j.useCallback((ne,ge)=>{if(!i||!U.isActive)return;const Be=X[ne]||0;let Le=Be;if(ge)if(We<Mr)Le=Be+1;else return;else if(Be>0)Le=Be-1;else return;Ye(Ce=>{const ke={...Ce};return Le===0?delete ke[ne]:ke[ne]=Le,ke}),Pt(Ce=>ge?Ce+1:Ce-1)},[i,X,We,U.isActive,Mr]),ha=j.useCallback(async()=>{if(!(!i||!U.isActive||!n)&&!(We<Mr))try{for(const[Le,Ce]of Object.entries(X))Ce>0&&await NR({session_id:n.id,feature_id:Le,user_id:i.id,user_name:i.name,user_email:i.email,vote_count:Ce});const ne=await mi(n.id),ge=await Vs(n.id),Be=ne.map(Le=>{const ke=ge.filter(Ze=>Ze.feature_id===Le.id).map(Ze=>({userId:Ze.user_id,name:Ze.user_name,email:Ze.user_email,voteCount:Ze.vote_count})),tr=ke.reduce((Ze,wt)=>Ze+wt.voteCount,0);return{id:Le.id,title:Le.title,description:Le.description,epic:Le.epic,state:Le.state,areaPath:Le.area_path,tags:Le.tags||[],azureDevOpsId:Le.azure_devops_id,azureDevOpsUrl:Le.azure_devops_url,votes:tr,voters:ke}});p(Be),k("thankyou")}catch(ne){console.error("Error submitting votes:",ne),alert("Failed to submit votes. Please try again.")}},[i,n,We,X,U.isActive,Mr]),To=j.useCallback(async ne=>{try{await Mb({title:ne.title,goal:ne.goal,votes_per_user:ne.votesPerUser,start_date:ne.startDate,end_date:ne.endDate,is_active:ne.isActive}),Q(ne)}catch(ge){console.error("Error updating voting session:",ge),alert("Failed to update voting session settings")}},[]),ni=j.useCallback(async ne=>{if(n){he(ne);try{await Ha(n.id,{organization:ne.organization,project:ne.project,accessToken:ne.accessToken,refreshToken:ne.refreshToken,tokenExpiresAt:ne.tokenExpiresAt,tenantId:ne.tenantId,clientId:ne.clientId,enabled:ne.enabled,workItemType:ne.workItemType,query:ne.query,lastSyncTime:ne.lastSyncTime})}catch(ge){console.error("Error saving config:",ge)}}},[n]),$i=j.useMemo(()=>{switch(x){case"voting":return f.jsx(_K,{features:h,currentUser:i,pendingVotes:X,pendingUsedVotes:We,onVote:ri,onSubmitVotes:ha,onToggleAdmin:ye,isAdmin:E,votingSession:U,navigate:u,effectiveVotesPerUser:Mr,sessionId:(n==null?void 0:n.id)||"",onLogout:d});case"results":return f.jsx(xK,{features:h,onResetVotes:ei,onResetAllVotes:ti,onBack:()=>k("admin"),showVotersList:H,setShowVotersList:V,votingSession:U,effectiveVotesPerUser:Mr,onLogout:d});case"thankyou":return f.jsx(wK,{navigate:u,votingSession:U});case"admin":default:return f.jsx(lK,{features:h,onAddFeature:dt,onUpdateFeature:fa,onDeleteFeature:Zn,onShowResults:()=>k("results"),showAddForm:T,setShowAddForm:L,editingFeature:P,setEditingFeature:O,onLogout:Ke,votingSession:U,azureDevOpsConfig:G,onUpdateAzureDevOpsConfig:ni,showAzureDevOpsForm:F,setShowAzureDevOpsForm:B,onFetchAzureDevOpsFeatures:J,onPreviewAzureDevOpsFeatures:me,onDisconnectAzureDevOps:ue,isFetchingAzureDevOps:I,azureFetchError:be,onInitiateOAuth:ur,availableStates:we,availableAreaPaths:Z,availableTags:se,previewFeatures:je,showPreviewModal:qe,setShowPreviewModal:oe,onConfirmSync:fe,hasImportedFeatures:Ae,setHasImportedFeatures:te,onShowVoterView:Ke,onUpdateVotingSession:To,onFetchStatesForType:W})}},[x,h,i,X,We,ri,ha,ye,Ke,E,U,ei,ti,H,V,dt,fa,Zn,T,L,P,O,G,ni,F,B,J,me,ue,I,be,ur,je,qe,oe,fe,Ae,te,u,Mr,we,Z,se,W,n,et]);return n?g?f.jsx("div",{className:"min-h-screen w-full bg-gray-50 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2d4660] mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):f.jsxs("div",{className:"w-full bg-gray-50 text-gray-900 font-sans min-h-screen flex flex-col",children:[f.jsx("div",{className:"flex-grow",children:$i}),f.jsx(mO,{isAdmin:E,viewMode:x==="admin"?"admin":"voting",onToggleView:et}),f.jsx(bg,{show:vt.showReset,title:"Reset Votes",message:"Are you sure you want to reset all votes for this feature? This will remove all voting data for this feature.",onConfirm:Co,onCancel:()=>Mt(ne=>({...ne,showReset:!1})),confirmText:"Reset",type:"reset"}),f.jsx(bg,{show:vt.showResetAll,title:"Reset All Votes",message:"Are you sure you want to reset all votes for all features? This will remove all voting data and cannot be undone.",onConfirm:xs,onCancel:()=>Mt(ne=>({...ne,showResetAll:!1})),confirmText:"Reset All",type:"reset"})]}):f.jsx("div",{className:"min-h-screen w-full bg-gray-50 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2d4660] mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600",children:"Loading session..."})]})})}function SK(){const{currentUser:e,setCurrentSession:t,refreshSessions:r,setCurrentUser:n}=Oi(),i=gn(),[a,l]=j.useState(!0),[u,d]=j.useState([]),[m,h]=j.useState({}),[p,g]=j.useState({}),[w,S]=j.useState({}),[b,x]=j.useState(!1),[k,E]=j.useState("admin"),[N,P]=j.useState(!1),O=j.useRef(null);j.useEffect(()=>{if(!N)return;const I=ee=>{O.current&&!O.current.contains(ee.target)&&P(!1)};return document.addEventListener("mousedown",I),document.addEventListener("touchstart",I,{passive:!0}),()=>{document.removeEventListener("mousedown",I),document.removeEventListener("touchstart",I)}},[N]),j.useEffect(()=>{if(!e){i("/login");return}T()},[e]);const T=async()=>{if(e){l(!0);try{const I=await Xd(e.id);x(I);const ee=await Ek(e.id),be={},de={},je={};for(const Me of ee){const[qe,oe,Ae,te]=await Promise.all([I?Promise.resolve(!0):Dg(Me.id,e.id),Rg(Me.id,e.email),mi(Me.id),Vs(Me.id)]);be[Me.id]={isAdmin:qe,isStakeholder:oe},de[Me.id]=Ae.length;const X=te.some(Ye=>Ye.user_id===e.id);je[Me.id]=X}await r(),d(ee),h(be),g(de),S(je)}catch(I){console.error("Error loading sessions:",I)}finally{l(!1)}}},L=I=>{const ee=p[I.id]||0;if(I.use_auto_votes){const be=Math.max(1,Math.floor(ee/2));return{votes:be,displayText:`${be} votes per user`,isAuto:!0,formula:`Auto: ${ee} ${ee===1?"feature":"features"}  2 = ${be}`}}else return{votes:I.votes_per_user,displayText:`${I.votes_per_user} votes per user`,isAuto:!1,formula:""}},H=I=>{t(I);const ee=m[I.id];k==="stakeholder"?i("/vote"):ee!=null&&ee.isAdmin?i("/admin"):i("/vote")},V=async()=>{try{await Ue.auth.signOut()}catch{}try{t(null)}catch{}n(null);try{localStorage.removeItem("voting_system_current_session"),localStorage.removeItem("azureDevOpsAuthInProgress"),sessionStorage.removeItem("oauth_return_path"),sessionStorage.removeItem("oauth_action")}catch{}P(!1),i("/login",{replace:!0})},F=I=>new Date(I).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),B=I=>{const ee=new Date,be=new Date(I.start_date),de=new Date(I.end_date);return ee<be?{text:"Upcoming",color:"text-yellow-600 bg-yellow-50",icon:Qd}:ee>de?{text:"Closed",color:"text-gray-600 bg-gray-100",icon:It}:{text:"Active",color:"text-[#1E6154] bg-[#1E6154]/10",icon:fn}},U=(I,ee)=>{I.stopPropagation();const be=`${window.location.origin}/login?session=${ee.session_code}`,de=encodeURIComponent(`You're invited to vote: ${ee.title}`),je=encodeURIComponent(`Hi,

You've been invited to participate in a feature voting session.

Session: ${ee.title}
Goal: ${ee.goal}

To get started, copy and paste this link into your browser:

${be}

Voting Period: ${F(ee.start_date)} - ${F(ee.end_date)}

Best regards,
${e==null?void 0:e.name}`);window.location.href=`mailto:?subject=${de}&body=${je}`},Q=(I,ee)=>{I.stopPropagation(),t(ee),i("/results")},G=(I,ee)=>{I.stopPropagation(),t(ee),i("/manage-admins")},he=(I,ee)=>{I.stopPropagation(),t(ee),i("/manage-stakeholders")};if(a)return f.jsx("div",{className:"min-h-screen w-full bg-gray-50 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2d4660] mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600",children:"Loading sessions..."})]})});const we=b?u:u.filter(I=>{var ee;return(ee=m[I.id])==null?void 0:ee.isAdmin}),pe=b?[]:u.filter(I=>{var ee,be;return((ee=m[I.id])==null?void 0:ee.isStakeholder)&&!((be=m[I.id])!=null&&be.isAdmin)}),Z=b||we.length>0,re=k==="stakeholder"?u:[],se=k==="admin"?we:[],M=k==="admin"?pe:[];return f.jsxs("div",{className:"container mx-auto p-4 max-w-6xl min-h-screen pb-8",children:[f.jsx("div",{className:"hidden md:flex md:justify-center mb-2",children:f.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"-mt-4",style:{height:"96px",width:"auto"}})}),f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("img",{src:"https://media.licdn.com/dms/image/C4D0BAQEC3OhRqehrKg/company-logo_200_200/0/1630518354793/new_millennium_building_systems_logo?e=2147483647&v=beta&t=LM3sJTmQZet5NshZ-RNHXW1MMG9xSi1asp-VUeSA9NA",alt:"New Millennium Building Systems Logo",className:"mr-4 md:hidden",style:{width:"40px",height:"40px"}}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-[#2d4660] md:text-3xl",children:"My Voting Sessions"}),f.jsxs("p",{className:"text-sm text-gray-600",children:["Welcome, ",e==null?void 0:e.name]})]})]}),f.jsxs("div",{ref:O,className:"relative z-40 md:justify-end",children:[f.jsxs("div",{className:"hidden md:flex space-x-2",children:[b&&k==="admin"&&f.jsxs("button",{onClick:()=>i("/system-admins"),className:"flex items-center px-4 py-2 bg-[#2d4660] text-white rounded-lg hover:bg-[#1d3a53] transition-colors",children:[f.jsx(Gt,{className:"h-4 w-4 mr-2"}),f.jsx("span",{className:"hidden sm:inline",children:"System Admins"}),f.jsx("span",{className:"sm:hidden",children:"Sys Admin"})]}),(b||we.length>0)&&k==="admin"&&f.jsxs("button",{onClick:()=>i("/create-session"),className:"flex items-center px-4 py-2 bg-[#c59f2d] text-white rounded-lg hover:bg-[#a88a26] transition-colors",children:[f.jsx(Cl,{className:"h-4 w-4 mr-2"}),f.jsx("span",{className:"hidden sm:inline",children:"Create Session"}),f.jsx("span",{className:"sm:hidden",children:"Create"})]}),f.jsxs("button",{onClick:V,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[f.jsx(jr,{className:"h-4 w-4 mr-2"}),f.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]}),f.jsx("div",{className:"flex md:hidden justify-end",children:f.jsx("button",{onClick:()=>P(!N),className:"p-2 rounded-md border border-gray-200 bg-white shadow-sm","aria-label":"Open menu",children:f.jsx(yi,{className:"h-5 w-5 text-gray-700"})})}),N&&f.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-lg md:hidden z-50",children:f.jsxs("div",{className:"py-1",children:[b&&k==="admin"&&f.jsxs("button",{onClick:()=>{P(!1),i("/system-admins")},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[f.jsx(Gt,{className:"h-4 w-4 mr-2 text-gray-700"}),"System Admins"]}),(b||we.length>0)&&k==="admin"&&f.jsxs("button",{onClick:()=>{P(!1),i("/create-session")},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[f.jsx(Cl,{className:"h-4 w-4 mr-2 text-gray-700"}),"Create Session"]}),f.jsxs("button",{onClick:()=>{P(!1),V()},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[f.jsx(jr,{className:"h-4 w-4 mr-2 text-gray-700"}),"Logout"]})]})})]})]}),u.length===0?f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-12 text-center",children:[f.jsx(Tr,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),f.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No voting sessions"}),f.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"You are not part of any voting sessions yet."}),b&&f.jsxs("button",{onClick:()=>i("/create-session"),className:"inline-flex items-center px-4 py-2 bg-[#2d4660] text-white rounded-lg hover:bg-[#1d3a53] transition-colors",children:[f.jsx(Cl,{className:"h-5 w-5 mr-2"}),"Create Your First Session"]})]}):f.jsxs("div",{className:"space-y-8",children:[k==="stakeholder"&&f.jsxs("div",{children:[f.jsxs("h2",{className:"text-xl font-semibold text-[#2d4660] mb-4 flex items-center",children:[f.jsx(Tr,{className:"h-5 w-5 mr-2"}),"All Your Voting Sessions"]}),f.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:re.map(I=>{const ee=B(I),be=ee.icon,de=L(I),je=w[I.id];return f.jsx("div",{className:"relative z-10 bg-white overflow-hidden shadow-md rounded-lg hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>H(I),children:f.jsxs("div",{className:"p-6",children:[f.jsx("div",{className:"flex justify-end items-start mb-4",children:je?f.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[f.jsx(fn,{className:"h-3 w-3 mr-1"}),"Voted"]}):ee.text==="Active"?f.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[f.jsx(It,{className:"h-3 w-3 mr-1"}),"Needs Your Vote"]}):null}),f.jsx("h3",{className:"text-lg font-semibold text-[#2d4660] mb-2",children:I.title}),f.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:I.goal}),f.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(Gs,{className:"h-4 w-4 mr-2"}),f.jsxs("span",{children:[F(I.start_date)," - ",F(I.end_date)]})]}),f.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${ee.color}`,children:[f.jsx(be,{className:"h-3 w-3 mr-1"}),ee.text]})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx(yi,{className:"h-4 w-4 mr-2"}),f.jsxs("span",{children:[p[I.id]||0," ",p[I.id]===1?"feature":"features"," to vote on"]})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx(Tr,{className:"h-4 w-4 mr-2"}),f.jsx("span",{children:de.displayText}),de.isAuto&&f.jsxs("div",{className:"group relative ml-1",children:[f.jsx(Tm,{className:"h-4 w-4 text-blue-500 cursor-help"}),f.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 whitespace-nowrap z-10 pointer-events-none",children:[de.formula,f.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-1 border-4 border-transparent border-t-gray-900"})]})]})]})]}),f.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:f.jsxs("button",{onClick:Me=>{Me.stopPropagation(),H(I)},className:`w-full flex items-center justify-center px-4 py-2 rounded-lg transition-colors font-medium ${je?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-[#2d4660] text-white hover:bg-[#1d3a53]"}`,children:[f.jsx(Tr,{className:"h-4 w-4 mr-2"}),je?"View or Change Votes":"Cast Your Votes"]})})]})},I.id)})})]}),k==="admin"&&f.jsxs(f.Fragment,{children:[M.length>0&&f.jsxs("div",{children:[f.jsxs("h2",{className:"text-xl font-semibold text-[#2d4660] mb-4 flex items-center",children:[f.jsx(Tr,{className:"h-5 w-5 mr-2"}),"Your Voting Sessions"]}),f.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:M.map(I=>{const ee=B(I),be=ee.icon,de=L(I),je=w[I.id];return f.jsx("div",{className:"relative z-10 bg-white overflow-hidden shadow-md rounded-lg hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>H(I),children:f.jsxs("div",{className:"p-6",children:[f.jsx("div",{className:"flex justify-end items-start mb-4",children:je?f.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[f.jsx(fn,{className:"h-3 w-3 mr-1"}),"Voted"]}):ee.text==="Active"?f.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[f.jsx(It,{className:"h-3 w-3 mr-1"}),"Needs Your Vote"]}):null}),f.jsx("h3",{className:"text-lg font-semibold text-[#2d4660] mb-2",children:I.title}),f.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:I.goal}),f.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(Gs,{className:"h-4 w-4 mr-2"}),f.jsxs("span",{children:[F(I.start_date)," - ",F(I.end_date)]})]}),f.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${ee.color}`,children:[f.jsx(be,{className:"h-3 w-3 mr-1"}),ee.text]})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx(yi,{className:"h-4 w-4 mr-2"}),f.jsxs("span",{children:[p[I.id]||0," ",p[I.id]===1?"feature":"features"," to vote on"]})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx(Tr,{className:"h-4 w-4 mr-2"}),f.jsx("span",{children:de.displayText}),de.isAuto&&f.jsxs("div",{className:"group relative ml-1",children:[f.jsx(Tm,{className:"h-4 w-4 text-blue-500 cursor-help"}),f.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 whitespace-nowrap z-10 pointer-events-none",children:[de.formula,f.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-1 border-4 border-transparent border-t-gray-900"})]})]})]})]}),f.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:f.jsxs("button",{onClick:Me=>{Me.stopPropagation(),H(I)},className:`w-full flex items-center justify-center px-4 py-2 rounded-lg transition-colors font-medium ${je?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-[#2d4660] text-white hover:bg-[#1d3a53]"}`,children:[f.jsx(Tr,{className:"h-4 w-4 mr-2"}),je?"View or Change Votes":"Cast Your Votes"]})})]})},I.id)})})]}),se.length>0&&f.jsxs("div",{children:[f.jsxs("h2",{className:"text-xl font-semibold text-[#2d4660] mb-4 flex items-center",children:[f.jsx(Gt,{className:"h-5 w-5 mr-2"}),"Sessions You Manage"]}),f.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:se.map(I=>{const ee=B(I),be=ee.icon,de=L(I);return f.jsx("div",{className:"relative z-10 bg-white overflow-hidden shadow-md rounded-lg hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>H(I),children:f.jsxs("div",{className:"p-6",children:[f.jsx("div",{className:"flex justify-end items-start mb-4",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("button",{onClick:je=>G(je,I),className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-[#E6EBF1] text-[#173B65] hover:bg-[#D4DCE6] transition-colors cursor-pointer",children:[f.jsx(Gt,{className:"h-3 w-3 mr-1"}),"Admins"]}),f.jsxs("button",{onClick:je=>he(je,I),className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 hover:bg-blue-200 transition-colors cursor-pointer",children:[f.jsx(no,{className:"h-3 w-3 mr-1"}),"Stakeholders"]})]})}),f.jsx("h3",{className:"text-lg font-semibold text-[#2d4660] mb-2",children:I.title}),f.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:I.goal}),f.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(Gs,{className:"h-4 w-4 mr-2"}),f.jsxs("span",{children:[F(I.start_date)," - ",F(I.end_date)]})]}),f.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${ee.color}`,children:[f.jsx(be,{className:"h-3 w-3 mr-1"}),ee.text]})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx(yi,{className:"h-4 w-4 mr-2"}),f.jsxs("span",{children:[p[I.id]||0," ",p[I.id]===1?"feature":"features"]})]}),f.jsxs("div",{className:"flex items-start",children:[f.jsx(Tr,{className:"h-4 w-4 mr-2 mt-0.5 flex-shrink-0"}),f.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("span",{className:"break-words",children:de.displayText}),de.isAuto&&f.jsxs("div",{className:"group relative ml-1 mt-0.5",children:[f.jsx(Tm,{className:"h-4 w-4 text-blue-500 cursor-help"}),f.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 whitespace-nowrap z-10 pointer-events-none",children:[de.formula,f.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-1 border-4 border-transparent border-t-gray-900"})]})]})]}),f.jsxs("button",{onClick:je=>Q(je,I),className:"ml-4 inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-[#c59f2d] text-white hover:bg-[#a88a26] transition-colors cursor-pointer flex-shrink-0",children:[f.jsx(Tk,{className:"h-3 w-3 mr-1"}),ee.text==="Closed"?"Final Results":"Current Results"]})]})]})]}),f.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:f.jsxs("button",{onClick:je=>U(je,I),className:"w-full flex items-center justify-center px-3 py-2 bg-blue-50 hover:bg-blue-100 rounded-md transition-colors",children:[f.jsx(Zl,{className:"h-4 w-4 text-blue-600 mr-2"}),f.jsx("span",{className:"text-sm font-medium text-blue-600",children:"Email Invite to Stakeholders"})]})})]})},I.id)})})]})]})]}),k==="stakeholder"&&u.length>0&&f.jsx("div",{className:"relative z-10 mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4",children:f.jsxs("div",{className:"flex items-start",children:[f.jsx(Tr,{className:"h-5 w-5 text-blue-600 mr-3 mt-0.5"}),f.jsxs("div",{className:"text-sm text-blue-800",children:[f.jsx("p",{className:"font-medium mb-1",children:"About Voting Sessions:"}),f.jsx("p",{children:"Click on any session card to cast your votes. You can change your votes at any time before the voting period ends."})]})]})}),k==="admin"&&M.length>0&&se.length===0&&f.jsx("div",{className:"relative z-10 mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4",children:f.jsxs("div",{className:"flex items-start",children:[f.jsx(Tr,{className:"h-5 w-5 text-blue-600 mr-3 mt-0.5"}),f.jsxs("div",{className:"text-sm text-blue-800",children:[f.jsx("p",{className:"font-medium mb-1",children:"About Voting Sessions:"}),f.jsx("p",{children:"Click on any session card to cast your votes. You can change your votes at any time before the voting period ends."})]})]})}),k==="admin"&&se.length>0&&f.jsx("div",{className:"relative z-10 mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4",children:f.jsxs("div",{className:"flex items-start",children:[f.jsx(no,{className:"h-5 w-5 text-blue-600 mr-3 mt-0.5"}),f.jsxs("div",{className:"text-sm text-blue-800",children:[f.jsx("p",{className:"font-medium mb-1",children:"Managing Sessions:"}),f.jsx("p",{children:'Click "Email Invite to Stakeholders" on any session card to send invitation links. Use the Admins and Stakeholders buttons to manage access.'})]})]})}),f.jsx(mO,{isAdmin:Z,viewMode:k==="admin"?"admin":"voting",onToggleView:()=>E(k==="admin"?"stakeholder":"admin")})]})}function jK(){const{currentUser:e,setCurrentSession:t,refreshSessions:r,setCurrentUser:n}=Oi(),i=gn(),a=async()=>{try{await Ue.auth.signOut()}catch{}try{t(null)}catch{}n(null);try{localStorage.removeItem("voting_system_current_session"),localStorage.removeItem("azureDevOpsAuthInProgress"),sessionStorage.removeItem("oauth_return_path"),sessionStorage.removeItem("oauth_action")}catch{}i("/login",{replace:!0})},[l,u]=j.useState({title:"",goal:"",votesPerUser:10,useAutoVotes:!0,startDate:new Date().toISOString().split("T")[0],endDate:new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0]}),[d,m]=j.useState({}),[h,p]=j.useState(!1),[g,w]=j.useState(!1),S=()=>{const E="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let N="";for(let P=0;P<8;P++)N+=E.charAt(Math.floor(Math.random()*E.length));return N},b=()=>{const E={};l.title.trim()||(E.title="Session title is required"),l.goal.trim()||(E.goal="Session goal is required"),l.useAutoVotes||(l.votesPerUser<1&&(E.votesPerUser="Votes per user must be at least 1"),l.votesPerUser>100&&(E.votesPerUser="Votes per user cannot exceed 100"));const N=new Date(l.startDate);return new Date(l.endDate)<=N&&(E.endDate="End date must be after start date"),m(E),Object.keys(E).length===0},x=async E=>{if(E.preventDefault(),!(!b()||!e)){p(!0);try{const N=S(),P=await wR({title:l.title,goal:l.goal,votes_per_user:l.votesPerUser,use_auto_votes:l.useAutoVotes,start_date:l.startDate,end_date:l.endDate,is_active:!0,session_code:N});await Ak(P.id,e.id),await r(),w(!0),setTimeout(()=>{t(P),i("/admin")},3e3)}catch(N){console.error("Error creating session:",N),m({submit:"Failed to create session. Please try again."})}finally{p(!1)}}},k=E=>{const{name:N,value:P}=E.target;u(O=>({...O,[N]:N==="votesPerUser"?parseInt(P)||0:P})),d[N]&&m(O=>{const T={...O};return delete T[N],T})};return g?f.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx(fn,{className:"h-10 w-10 text-green-600"})}),f.jsx("h2",{className:"text-2xl font-bold text-[#2d4660] mb-2",children:"Session Created!"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"Your voting session has been created successfully."}),f.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-4 mb-6",children:[f.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Success!"}),f.jsx("p",{className:"text-base text-[#2d4660] font-medium",children:"Your session has been created."}),f.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"You can now invite stakeholders from your session dashboard."})]}),f.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting to admin dashboard..."})]})}):f.jsxs("div",{className:"container mx-auto p-4 max-w-6xl min-h-screen pb-8",children:[f.jsx("div",{className:"hidden md:flex md:justify-center mb-2",children:f.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"-mt-4",style:{height:"96px",width:"auto"}})}),f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("img",{src:"https://media.licdn.com/dms/image/C4D0BAQEC3OhRqehrKg/company-logo_200_200/0/1630518354793/new_millennium_building_systems_logo?e=2147483647&v=beta&t=LM3sJTmQZet5NshZ-RNHXW1MMG9xSi1asp-VUeSA9NA",alt:"New Millennium Building Systems Logo",className:"mr-4 md:hidden",style:{width:"40px",height:"40px"}}),f.jsx("button",{onClick:()=>i("/sessions"),className:"mr-2 p-1 rounded-full hover:bg-gray-200 cursor-pointer",children:f.jsx(Ql,{className:"h-6 w-6"})}),f.jsx("h1",{className:"text-2xl font-bold text-[#2d4660] md:text-3xl",children:"Create Voting Session"})]}),f.jsxs("button",{onClick:a,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[f.jsx(jr,{className:"h-4 w-4 mr-2"}),f.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]}),f.jsx("div",{className:"relative z-10 bg-white rounded-lg shadow-md p-6",children:f.jsxs("form",{onSubmit:x,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Title *"}),f.jsx("input",{type:"text",name:"title",value:l.title,onChange:k,placeholder:"e.g., Q2 2025 Product Roadmap",className:`w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent ${d.title?"border-red-500":"border-gray-300"}`}),d.title&&f.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[f.jsx(It,{className:"h-4 w-4 mr-1"}),d.title]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Goal *"}),f.jsx("textarea",{name:"goal",value:l.goal,onChange:k,rows:3,placeholder:"Describe the purpose of this voting session...",className:`w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent ${d.goal?"border-red-500":"border-gray-300"}`}),d.goal&&f.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[f.jsx(It,{className:"h-4 w-4 mr-1"}),d.goal]})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[f.jsx(Tr,{className:"h-4 w-4 inline mr-1"}),"Votes Per User *"]}),f.jsxs("div",{className:"flex items-center mb-3",children:[f.jsx("input",{type:"checkbox",id:"useAutoVotes",checked:l.useAutoVotes,onChange:E=>u(N=>({...N,useAutoVotes:E.target.checked})),className:"h-4 w-4 text-[#2d4660] focus:ring-[#2d4660] border-gray-300 rounded cursor-pointer"}),f.jsx("label",{htmlFor:"useAutoVotes",className:"ml-2 text-sm text-gray-700 cursor-pointer",children:"Auto-calculate votes (half of feature count, minimum 1)"})]}),!l.useAutoVotes&&f.jsxs(f.Fragment,{children:[f.jsx("input",{type:"number",name:"votesPerUser",value:l.votesPerUser,onChange:k,min:"1",max:"100",className:`w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent ${d.votesPerUser?"border-red-500":"border-gray-300"}`}),d.votesPerUser&&f.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[f.jsx(It,{className:"h-4 w-4 mr-1"}),d.votesPerUser]})]}),f.jsx("p",{className:"mt-2 text-sm text-gray-500",children:l.useAutoVotes?"Votes will automatically be set to half the number of features (1 feature = 1 vote, 2 features = 1 vote, 4 features = 2 votes, etc.)":"Each stakeholder will have this many votes to distribute across features"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[f.jsx(Gs,{className:"h-4 w-4 inline mr-1"}),"Start Date *"]}),f.jsx("input",{type:"date",name:"startDate",value:l.startDate,onChange:k,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent"})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[f.jsx(Gs,{className:"h-4 w-4 inline mr-1"}),"End Date *"]}),f.jsx("input",{type:"date",name:"endDate",value:l.endDate,onChange:k,className:`w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent ${d.endDate?"border-red-500":"border-gray-300"}`}),d.endDate&&f.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[f.jsx(It,{className:"h-4 w-4 mr-1"}),d.endDate]})]})]}),f.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:f.jsxs("div",{className:"flex items-start",children:[f.jsx(no,{className:"h-5 w-5 text-blue-600 mr-3 mt-0.5"}),f.jsxs("div",{className:"text-sm text-blue-800",children:[f.jsx("p",{className:"font-medium mb-1",children:"Next Steps:"}),f.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[f.jsx("li",{children:"After creating the session, you'll be assigned as the admin"}),f.jsx("li",{children:"You can add stakeholders and other admins from the admin dashboard"}),f.jsx("li",{children:'Use the "Email Invite" button to send stakeholders a link to join'})]})]})]})}),d.submit&&f.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:f.jsxs("p",{className:"text-sm text-red-800 flex items-center",children:[f.jsx(It,{className:"h-4 w-4 mr-2"}),d.submit]})}),f.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[f.jsx("button",{type:"button",onClick:()=>i("/sessions"),className:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",disabled:h,children:"Cancel"}),f.jsx("button",{type:"submit",className:"px-6 py-2 bg-[#2d4660] text-white rounded-md hover:bg-[#1d3a53] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:h,children:h?"Creating...":"Create Session"})]})]})})]})}async function p0(e){const{error:t}=await Ue.functions.invoke("send-invitation-email",{body:e});if(t)throw t}function kK(){const{currentSession:e,currentUser:t,setCurrentUser:r,setCurrentSession:n}=Oi(),i=gn(),a=async()=>{try{await Ue.auth.signOut()}catch{}try{n(null)}catch{}r(null);try{localStorage.removeItem("voting_system_current_session"),localStorage.removeItem("azureDevOpsAuthInProgress"),sessionStorage.removeItem("oauth_return_path"),sessionStorage.removeItem("oauth_action")}catch{}N(!1),i("/login",{replace:!0})},[l,u]=j.useState([]),[d,m]=j.useState(!0),[h,p]=j.useState(!1),[g,w]=j.useState({name:"",email:""}),[S,b]=j.useState({}),[x,k]=j.useState(!1),[E,N]=j.useState(!1),P=j.useRef(null);j.useEffect(()=>{if(!E)return;const F=B=>{P.current&&!P.current.contains(B.target)&&N(!1)};return document.addEventListener("mousedown",F),document.addEventListener("touchstart",F,{passive:!0}),()=>{document.removeEventListener("mousedown",F),document.removeEventListener("touchstart",F)}},[E]),j.useEffect(()=>{if(!e){i("/sessions");return}O()},[e,i]);const O=async()=>{if(e){m(!0);try{const F=await jR(e.id);u(F)}catch(F){console.error("Error loading stakeholders:",F)}finally{m(!1)}}},T=F=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(F),L=async F=>{F.preventDefault();const B={};if(g.name.trim()||(B.name="Name is required"),g.email.trim()?T(g.email)||(B.email="Invalid email address"):B.email="Email is required",l.some(U=>U.user_email.toLowerCase()===g.email.toLowerCase())&&(B.email="This stakeholder is already added"),b(B),!(Object.keys(B).length>0)&&e){k(!0);try{await kR({session_id:e.id,user_name:g.name,user_email:g.email,has_voted:!1});try{const U=`${window.location.origin}/login?session=${e.session_code}`;await p0({to:g.email,subject:`You're invited to vote: ${e.title}`,text:`Hi,

You've been invited to vote in "${e.title}".

Open: ${U}

Best regards,
${(t==null?void 0:t.name)||""}`,html:`<p>Hi,</p><p>You've been invited to vote in <strong>${e.title}</strong>.</p><p><a href="${U}">Open the Feature Voting System</a></p><p>Best regards,<br/>${(t==null?void 0:t.name)||""}</p>`})}catch{try{const U=Pk(e,g.email,(t==null?void 0:t.name)||"");window.location.href=U}catch{}}await O(),w({name:"",email:""}),p(!1)}catch(U){console.error("Error adding stakeholder:",U),b({submit:"Failed to add stakeholder. Please try again."})}finally{k(!1)}}},H=async F=>{if(e&&confirm("Are you sure you want to remove this stakeholder?"))try{await ER(e.id,F),await O()}catch(B){console.error("Error removing stakeholder:",B),alert("Failed to remove stakeholder")}},V=F=>new Date(F).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return e?d?f.jsx("div",{className:"min-h-screen w-full bg-gray-50 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2d4660] mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600",children:"Loading stakeholders..."})]})}):f.jsxs("div",{className:"container mx-auto p-4 max-w-6xl min-h-screen pb-8",children:[f.jsx("div",{className:"hidden md:flex md:justify-center mb-2",children:f.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"-mt-4",style:{height:"96px",width:"auto"}})}),f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("img",{src:"https://media.licdn.com/dms/image/C4D0BAQEC3OhRqehrKg/company-logo_200_200/0/1630518354793/new_millennium_building_systems_logo?e=2147483647&v=beta&t=LM3sJTmQZet5NshZ-RNHXW1MMG9xSi1asp-VUeSA9NA",alt:"New Millennium Building Systems Logo",className:"mr-4 md:hidden",style:{width:"40px",height:"40px"}}),f.jsx("button",{onClick:()=>i("/admin"),className:"mr-2 p-1 rounded-full hover:bg-gray-200 cursor-pointer",children:f.jsx(Ql,{className:"h-6 w-6"})}),f.jsx("h1",{className:"text-2xl font-bold text-[#2d4660] md:text-3xl",children:"Manage Stakeholders"})]}),f.jsxs("div",{ref:P,className:"relative z-40",children:[f.jsxs("div",{className:"hidden md:flex space-x-2",children:[f.jsxs("button",{onClick:()=>i("/admin"),className:"flex items-center px-4 py-2 bg-[#4f6d8e] text-white rounded-lg hover:bg-[#3d5670] transition-colors",children:[f.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Admin Dashboard"]}),f.jsxs("button",{onClick:()=>p(!0),className:"flex items-center px-4 py-2 bg-[#c59f2d] text-white rounded-lg hover:bg-[#a88a26] transition-colors",children:[f.jsx(Js,{className:"h-4 w-4 mr-2"}),"Add Stakeholder"]}),f.jsxs("button",{onClick:a,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[f.jsx(jr,{className:"h-4 w-4 mr-2"}),"Logout"]})]}),f.jsx("div",{className:"flex md:hidden",children:f.jsx("button",{onClick:()=>N(!E),className:"p-2 rounded-md border border-gray-200 bg-white shadow-sm","aria-label":"Open menu",children:f.jsx(yi,{className:"h-5 w-5 text-gray-700"})})}),E&&f.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-lg md:hidden z-50",children:f.jsxs("div",{className:"py-1",children:[f.jsxs("button",{onClick:()=>{N(!1),i("/admin")},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[f.jsx(Gt,{className:"h-4 w-4 mr-2 text-gray-700"}),"Admin Dashboard"]}),f.jsxs("button",{onClick:()=>{N(!1),p(!0)},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[f.jsx(Js,{className:"h-4 w-4 mr-2 text-gray-700"}),"Add Stakeholder"]}),f.jsxs("button",{onClick:()=>{N(!1),a()},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[f.jsx(jr,{className:"h-4 w-4 mr-2 text-gray-700"}),"Logout"]})]})})]})]}),f.jsx("div",{className:"relative z-10 bg-white rounded-lg shadow-md p-4 mb-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-lg font-semibold text-[#2d4660]",children:"Current Session"}),f.jsx("p",{className:"text-gray-600 mt-1",children:e.title})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-sm text-gray-600",children:"Total Stakeholders"}),f.jsx("p",{className:"text-2xl font-bold text-[#2d4660]",children:l.length})]})]})}),f.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-md overflow-hidden",children:[f.jsxs("div",{className:"p-6 border-b border-gray-200",children:[f.jsxs("h2",{className:"text-lg font-semibold text-[#2d4660]",children:["Stakeholders (",l.length,")"]}),f.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage who can vote in this session"})]}),l.length===0?f.jsxs("div",{className:"p-12 text-center",children:[f.jsx(Ub,{className:"mx-auto h-12 w-12 text-gray-400"}),f.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No stakeholders"}),f.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by adding stakeholders to this voting session."}),f.jsx("div",{className:"mt-6",children:f.jsxs("button",{onClick:()=>p(!0),className:"inline-flex items-center px-4 py-2 bg-[#2d4660] text-white rounded-md hover:bg-[#1d3a53] transition-colors",children:[f.jsx(Js,{className:"h-5 w-5 mr-2"}),"Add First Stakeholder"]})})]}):f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Voting Status"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Added"}),f.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(F=>f.jsxs("tr",{className:"hover:bg-gray-50",children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx(Ub,{className:"h-5 w-5 text-gray-400 mr-2"}),f.jsx("span",{className:"text-sm font-medium text-gray-900",children:F.user_name})]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[f.jsx(Zl,{className:"h-4 w-4 mr-2"}),F.user_email]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:F.has_voted?f.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[f.jsx(fn,{className:"h-3 w-3 mr-1"}),"Voted"]}):f.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[f.jsx(Qd,{className:"h-3 w-3 mr-1"}),"Pending"]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:V(F.created_at)}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:f.jsx("button",{onClick:()=>H(F.user_email),className:"text-red-600 hover:text-red-900",children:f.jsx(bo,{className:"h-5 w-5"})})})]},F.id))})]})})]}),h&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h3",{className:"text-lg font-medium text-[#2d4660]",children:"Add Stakeholder"}),f.jsx("button",{onClick:()=>{p(!1),w({name:"",email:""}),b({})},className:"text-gray-400 hover:text-gray-500",children:f.jsx(fs,{className:"h-5 w-5"})})]}),f.jsxs("form",{onSubmit:L,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),f.jsx("input",{type:"text",value:g.name,onChange:F=>w(B=>({...B,name:F.target.value})),className:`w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent ${S.name?"border-red-500":"border-gray-300"}`,placeholder:"John Doe"}),S.name&&f.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[f.jsx(It,{className:"h-4 w-4 mr-1"}),S.name]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),f.jsx("input",{type:"email",value:g.email,onChange:F=>w(B=>({...B,email:F.target.value})),className:`w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent ${S.email?"border-red-500":"border-gray-300"}`,placeholder:"john@example.com"}),S.email&&f.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[f.jsx(It,{className:"h-4 w-4 mr-1"}),S.email]})]}),S.submit&&f.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:f.jsxs("p",{className:"text-sm text-red-800 flex items-center",children:[f.jsx(It,{className:"h-4 w-4 mr-2"}),S.submit]})}),f.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[f.jsx("button",{type:"button",onClick:()=>{p(!1),w({name:"",email:""}),b({})},className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:x,children:"Cancel"}),f.jsx("button",{type:"submit",className:"px-4 py-2 bg-[#2d4660] text-white rounded-md hover:bg-[#1d3a53] disabled:opacity-50",disabled:x,children:x?"Adding...":"Add Stakeholder"})]})]})]})})]}):null}function EK(){const{currentSession:e,currentUser:t,setCurrentUser:r,setCurrentSession:n}=Oi(),i=gn(),a=async()=>{try{await Ue.auth.signOut()}catch{}try{n(null)}catch{}r(null);try{localStorage.removeItem("voting_system_current_session"),localStorage.removeItem("azureDevOpsAuthInProgress"),sessionStorage.removeItem("oauth_return_path"),sessionStorage.removeItem("oauth_action")}catch{}N(!1),i("/login",{replace:!0})},[l,u]=j.useState([]),[d,m]=j.useState(!0),[h,p]=j.useState(!1),[g,w]=j.useState({email:""}),[S,b]=j.useState({}),[x,k]=j.useState(!1),[E,N]=j.useState(!1),P=j.useRef(null);j.useEffect(()=>{if(!E)return;const F=B=>{P.current&&!P.current.contains(B.target)&&N(!1)};return document.addEventListener("mousedown",F),document.addEventListener("touchstart",F,{passive:!0}),()=>{document.removeEventListener("mousedown",F),document.removeEventListener("touchstart",F)}},[E]),j.useEffect(()=>{if(!e){i("/sessions");return}O()},[e,i]);const O=async()=>{if(e){m(!0);try{const F=await Nk(e.id);u(F)}catch(F){console.error("Error loading admins:",F)}finally{m(!1)}}},T=F=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(F),L=async F=>{F.preventDefault();const B={};if(g.email.trim()?T(g.email)||(B.email="Invalid email address"):B.email="Email is required",l.some(U=>U.user.email.toLowerCase()===g.email.toLowerCase())&&(B.email="This user is already an admin"),b(B),!(Object.keys(B).length>0)&&e){k(!0);try{const U=g.email.split("@")[0].replace(/\./g," ");await _R(e.id,g.email,U);try{const Q=`${window.location.origin}/login?session=${e.session_code}`;await p0({to:g.email,subject:`You're invited to administer: ${e.title}`,text:`Hi,

You've been added as an admin for "${e.title}".

Open: ${Q}

Best regards,
${(t==null?void 0:t.name)||""}`,html:`<p>Hi,</p><p>You've been added as an admin for <strong>${e.title}</strong>.</p><p><a href="${Q}">Open the Feature Voting System</a></p><p>Best regards,<br/>${(t==null?void 0:t.name)||""}</p>`})}catch{try{const Q=Pk(e,g.email,(t==null?void 0:t.name)||"");window.location.href=Q}catch{}}await O(),w({email:""}),p(!1)}catch(U){console.error("Error adding admin:",U),b({submit:"Failed to add admin. Please try again."})}finally{k(!1)}}},H=async F=>{if(e){if(l.length===1){alert("Cannot remove the last admin. Sessions must have at least one admin.");return}if(F===(t==null?void 0:t.id)){alert("You cannot remove yourself as an admin.");return}if(confirm("Are you sure you want to remove this admin?"))try{await SR(e.id,F),await O()}catch(B){console.error("Error removing admin:",B),alert("Failed to remove admin")}}},V=F=>new Date(F).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return e?d?f.jsx("div",{className:"min-h-screen w-full bg-gray-50 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2d4660] mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600",children:"Loading admins..."})]})}):f.jsxs("div",{className:"container mx-auto p-4 max-w-6xl min-h-screen pb-8",children:[f.jsx("div",{className:"hidden md:flex md:justify-center mb-2",children:f.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"-mt-4",style:{height:"96px",width:"auto"}})}),f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("img",{src:"https://media.licdn.com/dms/image/C4D0BAQEC3OhRqehrKg/company-logo_200_200/0/1630518354793/new_millennium_building_systems_logo?e=2147483647&v=beta&t=LM3sJTmQZet5NshZ-RNHXW1MMG9xSi1asp-VUeSA9NA",alt:"New Millennium Building Systems Logo",className:"mr-4 md:hidden",style:{width:"40px",height:"40px"}}),f.jsx("button",{onClick:()=>i("/admin"),className:"mr-2 p-1 rounded-full hover:bg-gray-200 cursor-pointer",children:f.jsx(Ql,{className:"h-6 w-6"})}),f.jsx("h1",{className:"text-2xl font-bold text-[#2d4660] md:text-3xl",children:"Session Admins"})]}),f.jsxs("div",{ref:P,className:"relative z-40",children:[f.jsxs("div",{className:"hidden md:flex space-x-2",children:[f.jsxs("button",{onClick:()=>i("/admin"),className:"flex items-center px-4 py-2 bg-[#4f6d8e] text-white rounded-lg hover:bg-[#3d5670] transition-colors",children:[f.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Admin Dashboard"]}),f.jsxs("button",{onClick:()=>p(!0),className:"flex items-center px-4 py-2 bg-[#c59f2d] text-white rounded-lg hover:bg-[#a88a26] transition-colors",children:[f.jsx(Js,{className:"h-4 w-4 mr-2"}),"Add Admin"]}),f.jsxs("button",{onClick:a,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[f.jsx(jr,{className:"h-4 w-4 mr-2"}),"Logout"]})]}),f.jsx("div",{className:"flex md:hidden",children:f.jsx("button",{onClick:()=>N(!E),className:"p-2 rounded-md border border-gray-200 bg-white shadow-sm","aria-label":"Open menu",children:f.jsx(yi,{className:"h-5 w-5 text-gray-700"})})}),E&&f.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-lg md:hidden z-50",children:f.jsxs("div",{className:"py-1",children:[f.jsxs("button",{onClick:()=>{N(!1),i("/admin")},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[f.jsx(Gt,{className:"h-4 w-4 mr-2 text-gray-700"}),"Admin Dashboard"]}),f.jsxs("button",{onClick:()=>{N(!1),p(!0)},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[f.jsx(Js,{className:"h-4 w-4 mr-2 text-gray-700"}),"Add Admin"]}),f.jsxs("button",{onClick:()=>{N(!1),a()},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[f.jsx(jr,{className:"h-4 w-4 mr-2 text-gray-700"}),"Logout"]})]})})]})]}),f.jsx("div",{className:"relative z-10 bg-white rounded-lg shadow-md p-4 mb-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-lg font-semibold text-[#2d4660]",children:"Current Session"}),f.jsx("p",{className:"text-gray-600 mt-1",children:e.title})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-sm text-gray-600",children:"Total Admins"}),f.jsx("p",{className:"text-2xl font-bold text-[#2d4660]",children:l.length})]})]})}),f.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-md overflow-hidden",children:[f.jsxs("div",{className:"p-6 border-b border-gray-200",children:[f.jsxs("h2",{className:"text-lg font-semibold text-[#2d4660]",children:["Session Admins (",l.length,")"]}),f.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage who can administer this voting session"})]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Added"}),f.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),f.jsx("tbody",{className:"relative z-10 bg-white divide-y divide-gray-200",children:l.map(F=>f.jsxs("tr",{className:"hover:bg-gray-50",children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx(Ov,{className:"h-5 w-5 text-blue-500 mr-2"}),f.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[F.user.name,F.user.id===(t==null?void 0:t.id)&&f.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(You)"})]})]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[f.jsx(Zl,{className:"h-4 w-4 mr-2"}),F.user.email]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:V(F.created_at)}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:f.jsx("button",{onClick:()=>H(F.user_id),className:`text-red-600 hover:text-red-900 ${F.user.id===(t==null?void 0:t.id)||l.length===1?"opacity-50 cursor-not-allowed":""}`,disabled:F.user.id===(t==null?void 0:t.id)||l.length===1,title:F.user.id===(t==null?void 0:t.id)?"You cannot remove yourself":l.length===1?"Cannot remove the last admin":"Remove admin",children:f.jsx(bo,{className:"h-5 w-5"})})})]},F.id))})]})})]}),f.jsx("div",{className:"relative z-10 mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:f.jsxs("div",{className:"flex items-start",children:[f.jsx(Ov,{className:"h-5 w-5 text-blue-600 mr-3 mt-0.5"}),f.jsxs("div",{className:"text-sm text-blue-800",children:[f.jsx("p",{className:"font-medium mb-1",children:"Session Admin Permissions:"}),f.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[f.jsx("li",{children:"Manage features and voting settings for this session"}),f.jsx("li",{children:"Add and remove stakeholders for this session"}),f.jsx("li",{children:"View voting results and analytics for this session"}),f.jsx("li",{children:"Add and remove other session admins"})]}),f.jsx("p",{className:"mt-2 text-xs italic",children:"Note: System Admins have full admin access to all sessions in the system."})]})]})}),h&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h3",{className:"text-lg font-medium text-[#2d4660]",children:"Add Session Admin"}),f.jsx("button",{onClick:()=>{p(!1),w({email:""}),b({})},className:"text-gray-400 hover:text-gray-500",children:f.jsx(fs,{className:"h-5 w-5"})})]}),f.jsxs("form",{onSubmit:L,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),f.jsx("input",{type:"email",value:g.email,onChange:F=>w(B=>({...B,email:F.target.value})),className:`w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent ${S.email?"border-red-500":"border-gray-300"}`,placeholder:"admin@example.com"}),S.email&&f.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[f.jsx(It,{className:"h-4 w-4 mr-1"}),S.email]})]}),S.submit&&f.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:f.jsxs("p",{className:"text-sm text-red-800 flex items-center",children:[f.jsx(It,{className:"h-4 w-4 mr-2"}),S.submit]})}),f.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[f.jsx("button",{type:"button",onClick:()=>{p(!1),w({email:""}),b({})},className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:x,children:"Cancel"}),f.jsx("button",{type:"submit",className:"px-4 py-2 bg-[#2d4660] text-white rounded-md hover:bg-[#1d3a53] disabled:opacity-50",disabled:x,children:x?"Adding...":"Add Admin"})]})]})]})})]}):null}function NK(){const{currentUser:e,sessions:t}=Oi(),r=gn(),[n,i]=j.useState([]),[a,l]=j.useState(!0),[u,d]=j.useState(!1);j.useEffect(()=>{m()},[t]);const m=async()=>{l(!0);try{const g=new Set;for(const w of t)(await Nk(w.id)).forEach(b=>{b.user&&b.user.email&&g.add(b.user.email)});i(Array.from(g))}catch(g){console.error("Error loading admin emails:",g)}finally{l(!1)}},h=()=>{const g=encodeURIComponent(" Request: Add me to Feature Voting System"),w=encodeURIComponent(`Hi Team,

I tried to access the Feature Voting System but don't have admin permissions yet.

Could you please add me to the system so I can participate in voting?

My details:
Name: ${(e==null?void 0:e.name)||"Unknown"}
Email: ${(e==null?void 0:e.email)||"Unknown"}

Thanks!
${(e==null?void 0:e.name)||"A hopeful voter"} `),S=n.length>0?`mailto:${n.join(",")}?subject=${g}&body=${w}`:`mailto:?subject=${g}&body=${w}`;window.location.href=S,d(!0)},p=()=>{r("/login")};return a?f.jsx("div",{className:"min-h-screen w-full bg-gray-50 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2d4660] mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-4",children:f.jsxs("div",{className:"max-w-md w-full",children:[f.jsx("div",{className:"text-center mb-8",children:f.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"mx-auto",style:{height:"80px",width:"auto"}})}),f.jsxs("div",{className:"relative z-10 bg-white rounded-xl shadow-lg overflow-hidden",children:[f.jsxs("div",{className:"bg-gradient-to-r from-[#2d4660] to-[#1d3a53] p-6 text-center",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-white/10 rounded-full mb-4",children:f.jsx(s4,{className:"h-8 w-8 text-white"})}),f.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Whoa There, Speedracer! "}),f.jsx("p",{className:"text-blue-100 text-sm",children:"You need access to the Feature Voting System"})]}),f.jsx("div",{className:"p-6",children:u?f.jsx(f.Fragment,{children:f.jsxs("div",{className:"text-center py-4",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:f.jsx(fn,{className:"h-8 w-8 text-green-600"})}),f.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Email Sent! "}),f.jsx("p",{className:"text-gray-600 mb-6",children:"Your access request has been sent to the admin team. They'll get you set up soon!"}),f.jsxs("button",{onClick:p,className:"inline-flex items-center px-4 py-2 bg-[#2d4660] text-white rounded-lg hover:bg-[#1d3a53] transition-colors",children:[f.jsx(zb,{className:"h-4 w-4 mr-2"}),"Back to Login"]})]})}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"mb-6",children:[f.jsx("p",{className:"text-gray-600 mb-4",children:"Looks like you're trying to access the Feature Voting System, but you haven't been added yet."}),f.jsx("p",{className:"text-gray-600 mb-4",children:"No worries! Click the button below to send a quick message to the admins asking to be added."}),f.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:f.jsxs("div",{className:"flex items-start",children:[f.jsx(no,{className:"h-5 w-5 text-blue-600 mr-2 mt-0.5 flex-shrink-0"}),f.jsx("div",{className:"text-sm text-blue-800",children:n.length>0?f.jsxs(f.Fragment,{children:[f.jsx("p",{className:"font-medium mb-1",children:"Your message will be sent to:"}),f.jsx("p",{className:"text-xs",children:n.join(", ")})]}):f.jsx("p",{children:"Your message will help the admin team get you set up!"})})]})})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("button",{onClick:h,className:"w-full flex items-center justify-center px-4 py-3 bg-[#c59f2d] text-white rounded-lg hover:bg-[#a88a26] transition-colors font-medium",children:[f.jsx(Zl,{className:"h-5 w-5 mr-2"}),"Request Access from Admins"]}),f.jsxs("button",{onClick:p,className:"w-full flex items-center justify-center px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[f.jsx(zb,{className:"h-4 w-4 mr-2"}),"Back to Login"]})]})]})})]}),f.jsx("div",{className:"mt-6 text-center",children:f.jsx("p",{className:"text-sm text-gray-500",children:"Once you're added to the system, you'll be able to participate in voting sessions."})})]})})}function AK(){const{currentUser:e,setCurrentUser:t,setCurrentSession:r}=Oi(),n=gn(),i=async()=>{try{await Ue.auth.signOut()}catch{}try{r(null)}catch{}t(null);try{localStorage.removeItem("voting_system_current_session"),localStorage.removeItem("azureDevOpsAuthInProgress"),sessionStorage.removeItem("oauth_return_path"),sessionStorage.removeItem("oauth_action")}catch{}E(!1),n("/login",{replace:!0})},[a,l]=j.useState([]),[u,d]=j.useState(!0),[m,h]=j.useState(!1),[p,g]=j.useState({email:""}),[w,S]=j.useState({}),[b,x]=j.useState(!1),[k,E]=j.useState(!1),N=j.useRef(null);j.useEffect(()=>{if(!k)return;const V=F=>{N.current&&!N.current.contains(F.target)&&E(!1)};return document.addEventListener("mousedown",V),document.addEventListener("touchstart",V,{passive:!0}),()=>{document.removeEventListener("mousedown",V),document.removeEventListener("touchstart",V)}},[k]),j.useEffect(()=>{P()},[]);const P=async()=>{d(!0);try{let V=await $b();V.length===0&&e&&(console.log("No system admins found. Adding current user as first system admin..."),await Lb(e.id),V=await $b()),l(V)}catch(V){console.error("Error loading system admins:",V)}finally{d(!1)}},O=V=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(V),T=async V=>{V.preventDefault();const F={};if(p.email.trim()?O(p.email)||(F.email="Invalid email address"):F.email="Email is required",a.some(B=>B.user.email.toLowerCase()===p.email.toLowerCase())&&(F.email="This user is already a system admin"),S(F),!(Object.keys(F).length>0)){x(!0);try{const B=p.email.split("@")[0].replace(/\./g," "),U=await Ig(p.email,B);await Lb(U.id);try{const Q=`${window.location.origin}/login`;await p0({to:p.email,subject:"You're a System Admin: Feature Voting System",text:`Hi,

You've been granted System Admin access to the Feature Voting System.

Login: ${Q}

Best regards,
System`,html:`<p>Hi,</p><p>You've been granted <strong>System Admin</strong> access to the Feature Voting System.</p><p><a href="${Q}">Login</a></p><p>Best regards,<br/>System</p>`})}catch{try{const Q=`${window.location.origin}/login`,G=encodeURIComponent("You're a System Admin: Feature Voting System"),he=encodeURIComponent(`Hi,

You've been granted System Admin access to the Feature Voting System.

To sign in, use this link:

${Q}

Best regards,
System`);window.location.href=`mailto:${encodeURIComponent(p.email)}?subject=${G}&body=${he}`}catch{}}await P(),g({email:""}),h(!1)}catch(B){console.error("Error adding system admin:",B),S({submit:"Failed to add system admin. Please try again."})}finally{x(!1)}}},L=async V=>{const F=a.reduce((B,U)=>new Date(U.created_at)<new Date(B.created_at)?U:B);if(V===F.user_id){alert("Cannot remove the original system admin. This protects against accidentally locking everyone out of the system.");return}if(a.length===1){alert("Cannot remove the last system admin. The system must have at least one admin.");return}if(V===(e==null?void 0:e.id)){alert("You cannot remove yourself as a system admin.");return}if(confirm("Are you sure you want to remove this system admin?"))try{await IR(V),await P()}catch(B){console.error("Error removing system admin:",B),alert("Failed to remove system admin")}},H=V=>new Date(V).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return u?f.jsx("div",{className:"min-h-screen w-full bg-gray-50 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2d4660] mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600",children:"Loading system admins..."})]})}):f.jsxs("div",{className:"container mx-auto p-4 max-w-6xl min-h-screen pb-8",children:[f.jsx("div",{className:"hidden md:flex md:justify-center mb-2",children:f.jsx("img",{src:"https://www.steeldynamics.com/wp-content/uploads/2024/05/New-Millennium-color-logo1.png",alt:"New Millennium Building Systems Logo",className:"-mt-4",style:{height:"96px",width:"auto"}})}),f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("img",{src:"https://media.licdn.com/dms/image/C4D0BAQEC3OhRqehrKg/company-logo_200_200/0/1630518354793/new_millennium_building_systems_logo?e=2147483647&v=beta&t=LM3sJTmQZet5NshZ-RNHXW1MMG9xSi1asp-VUeSA9NA",alt:"New Millennium Building Systems Logo",className:"mr-4 md:hidden",style:{width:"40px",height:"40px"}}),f.jsx("button",{onClick:()=>n("/sessions"),className:"mr-2 p-1 rounded-full hover:bg-gray-200 cursor-pointer",children:f.jsx(Ql,{className:"h-6 w-6"})}),f.jsx("h1",{className:"text-2xl font-bold text-[#2d4660] md:text-3xl",children:"System Admins"})]}),f.jsxs("div",{ref:N,className:"relative z-40",children:[f.jsxs("div",{className:"hidden md:flex space-x-2",children:[f.jsxs("button",{onClick:()=>n("/sessions"),className:"flex items-center px-4 py-2 bg-[#4f6d8e] text-white rounded-lg hover:bg-[#3d5670] transition-colors",children:[f.jsx(Gt,{className:"h-4 w-4 mr-2"}),"My Sessions"]}),f.jsxs("button",{onClick:()=>h(!0),className:"flex items-center px-4 py-2 bg-[#c59f2d] text-white rounded-lg hover:bg-[#a88a26] transition-colors",children:[f.jsx(Js,{className:"h-4 w-4 mr-2"}),"Add System Admin"]}),f.jsxs("button",{onClick:i,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[f.jsx(jr,{className:"h-4 w-4 mr-2"}),"Logout"]})]}),f.jsx("div",{className:"flex md:hidden",children:f.jsx("button",{onClick:()=>E(!k),className:"p-2 rounded-md border border-gray-200 bg-white shadow-sm","aria-label":"Open menu",children:f.jsx(yi,{className:"h-5 w-5 text-gray-700"})})}),k&&f.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-lg md:hidden z-50",children:f.jsxs("div",{className:"py-1",children:[f.jsxs("button",{onClick:()=>{E(!1),n("/sessions")},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[f.jsx(Gt,{className:"h-4 w-4 mr-2 text-gray-700"}),"My Sessions"]}),f.jsxs("button",{onClick:()=>{E(!1),h(!0)},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[f.jsx(Js,{className:"h-4 w-4 mr-2 text-gray-700"}),"Add System Admin"]}),f.jsxs("button",{onClick:()=>{E(!1),i()},className:"w-full px-3 py-2 flex items-center text-left hover:bg-gray-50",children:[f.jsx(jr,{className:"h-4 w-4 mr-2 text-gray-700"}),"Logout"]})]})})]})]}),f.jsx("div",{className:"relative z-10 bg-gradient-to-r from-[#2d4660] to-[#1d3a53] rounded-lg shadow-md p-6 mb-6 text-white",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(Cm,{className:"h-8 w-8 mr-3"}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-semibold",children:"Feature Voting System"}),f.jsx("p",{className:"text-blue-100 mt-1",children:"Global administrator management"})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-sm text-blue-100",children:"Total System Admins"}),f.jsx("p",{className:"text-3xl font-bold",children:a.length})]})]})}),f.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-md overflow-hidden",children:[f.jsxs("div",{className:"p-6 border-b border-gray-200",children:[f.jsxs("h2",{className:"text-lg font-semibold text-[#2d4660]",children:["System Administrators (",a.length,")"]}),f.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage who has full access to the Feature Voting System"})]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Added"}),f.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(V=>{const F=a.reduce((U,Q)=>new Date(Q.created_at)<new Date(U.created_at)?Q:U),B=V.user_id===F.user_id;return f.jsxs("tr",{className:"hover:bg-gray-50",children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx(Cm,{className:"h-5 w-5 text-[#c59f2d] mr-2"}),f.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[V.user.name,V.user.id===(e==null?void 0:e.id)&&f.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(You)"}),B&&f.jsx("span",{className:"ml-2 text-xs text-[#c59f2d] font-semibold",children:"(Original Admin)"})]})]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[f.jsx(Zl,{className:"h-4 w-4 mr-2"}),V.user.email]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:H(V.created_at)}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:f.jsx("button",{onClick:()=>L(V.user_id),className:`text-red-600 hover:text-red-900 ${V.user.id===(e==null?void 0:e.id)||a.length===1||B?"opacity-50 cursor-not-allowed":""}`,disabled:V.user.id===(e==null?void 0:e.id)||a.length===1||B,title:B?"Cannot remove the original system admin":V.user.id===(e==null?void 0:e.id)?"You cannot remove yourself":a.length===1?"Cannot remove the last system admin":"Remove system admin",children:f.jsx(bo,{className:"h-5 w-5"})})})]},V.id)})})]})})]}),f.jsx("div",{className:"relative z-10 mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:f.jsxs("div",{className:"flex items-start",children:[f.jsx(Cm,{className:"h-5 w-5 text-yellow-600 mr-3 mt-0.5"}),f.jsxs("div",{className:"text-sm text-yellow-800",children:[f.jsx("p",{className:"font-medium mb-1",children:"System Admin Permissions:"}),f.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[f.jsx("li",{children:"Full access to all voting sessions across the system"}),f.jsx("li",{children:"Create and manage any voting session"}),f.jsx("li",{children:"Add and remove other system administrators"}),f.jsx("li",{children:"Manage session admins and stakeholders for any session"}),f.jsx("li",{children:"View all results and analytics system-wide"})]}),f.jsx("p",{className:"mt-3 text-xs font-medium",children:"Note: The original system admin (first person to access this page) cannot be removed to prevent system lockout."})]})]})}),m&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h3",{className:"text-lg font-medium text-[#2d4660]",children:"Add System Admin"}),f.jsx("button",{onClick:()=>{h(!1),g({email:""}),S({})},className:"text-gray-400 hover:text-gray-500",children:f.jsx(fs,{className:"h-5 w-5"})})]}),f.jsxs("form",{onSubmit:T,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),f.jsx("input",{type:"email",value:p.email,onChange:V=>g(F=>({...F,email:V.target.value})),className:`w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-[#2d4660] focus:border-transparent ${w.email?"border-red-500":"border-gray-300"}`,placeholder:"admin@example.com"}),w.email&&f.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[f.jsx(It,{className:"h-4 w-4 mr-1"}),w.email]})]}),w.submit&&f.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:f.jsxs("p",{className:"text-sm text-red-800 flex items-center",children:[f.jsx(It,{className:"h-4 w-4 mr-2"}),w.submit]})}),f.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[f.jsx("button",{type:"button",onClick:()=>{h(!1),g({email:""}),S({})},className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:b,children:"Cancel"}),f.jsx("button",{type:"submit",className:"px-4 py-2 bg-[#2d4660] text-white rounded-md hover:bg-[#1d3a53] disabled:opacity-50",disabled:b,children:b?"Adding...":"Add System Admin"})]})]})]})})]})}const PK=""+new URL("bottom-left-curve-T4fflHT3.png",import.meta.url).href,OK=()=>f.jsx("div",{className:"fixed bottom-0 left-0 pointer-events-none z-0",children:f.jsx("img",{src:PK,alt:"",style:{maxWidth:"600px",height:"auto",opacity:.2}})});function CK(){return f.jsxs(DR,{children:[f.jsx(OK,{}),f.jsx(MT,{basename:"/feature-voting-app",children:f.jsxs(fT,{children:[f.jsx(ln,{path:"/",element:f.jsx(cT,{to:"/login",replace:!0})}),f.jsx(ln,{path:"/login",element:f.jsx(N4,{})}),f.jsx(ln,{path:"/sessions",element:f.jsx(SK,{})}),f.jsx(ln,{path:"/create-session",element:f.jsx(jK,{})}),f.jsx(ln,{path:"/manage-stakeholders",element:f.jsx(kK,{})}),f.jsx(ln,{path:"/manage-admins",element:f.jsx(EK,{})}),f.jsx(ln,{path:"/vote",element:f.jsx(mv,{adminMode:!1})}),f.jsx(ln,{path:"/admin",element:f.jsx(mv,{adminMode:!0})}),f.jsx(ln,{path:"/results",element:f.jsx(mv,{resultsMode:!0})}),f.jsx(ln,{path:"/unauthorized",element:f.jsx(NK,{})}),f.jsx(ln,{path:"/system-admins",element:f.jsx(AK,{})})]})})]})}b2.createRoot(document.getElementById("root")).render(f.jsx(Ve.StrictMode,{children:f.jsx(CK,{})}));
